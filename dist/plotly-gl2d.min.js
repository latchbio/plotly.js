/**
* plotly.js (gl2d - minified) v2.35.2
* Copyright 2012-2024, Plotly, Inc.
* All rights reserved.
* Licensed under the MIT license
*/
(
 function(root, factory) {
  if (typeof define === "function" && define.amd) {
   define(factory);
  } else if (typeof module === "object" && module.exports) {
   module.exports = factory();
  } else {
   root.moduleName = factory();
  }
} (typeof self !== "undefined" ? self : this, () => {
"use strict";var Plotly=(()=>{var TS=Object.defineProperty;var xse=Object.getOwnPropertyDescriptor;var bse=Object.getOwnPropertyNames;var _se=Object.prototype.hasOwnProperty;var MS=(e,r)=>()=>(e&&(r=e(e=0)),r);var ie=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var wse=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of bse(r))!_se.call(e,a)&&a!==t&&TS(e,a,{get:()=>r[a],enumerable:!(n=xse(r,a))||n.enumerable});return e};var Ase=e=>wse(TS({},"__esModule",{value:!0}),e);var _2=ie(ES=>{"use strict";ES.version="2.35.2"});var CS=ie((SS,w2)=>{(function(r,t,n){t[r]=t[r]||n(),typeof w2!="undefined"&&w2.exports?w2.exports=t[r]:typeof define=="function"&&define.amd&&define(function(){return t[r]})})("Promise",typeof window!="undefined"?window:SS,function(){"use strict";var r,t,n,a=Object.prototype.toString,o=typeof setImmediate!="undefined"?function(_){return setImmediate(_)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(_,M,b,E){return Object.defineProperty(_,M,{value:b,writable:!0,configurable:E!==!1})}}catch(y){r=function(M,b,E){return M[b]=E,M}}n=function(){var _,M,b;function E(d,T){this.fn=d,this.self=T,this.next=void 0}return{add:function(T,g){b=new E(T,g),M?M.next=b:_=b,M=b,b=void 0},drain:function(){var T=_;for(_=M=t=void 0;T;)T.fn.call(T.self),T=T.next}}}();function i(y,_){n.add(y,_),t||(t=o(n.drain))}function s(y){var _,M=typeof y;return y!=null&&(M=="object"||M=="function")&&(_=y.then),typeof _=="function"?_:!1}function f(){for(var y=0;y<this.chain.length;y++)l(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function l(y,_,M){var b,E;try{_===!1?M.reject(y.msg):(_===!0?b=y.msg:b=_.call(void 0,y.msg),b===M.promise?M.reject(TypeError("Promise-chain cycle")):(E=s(b))?E.call(b,M.resolve,M.reject):M.resolve(b))}catch(d){M.reject(d)}}function u(y){var _,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(_=s(y))?i(function(){var b=new m(M);try{_.call(y,function(){u.apply(b,arguments)},function(){c.apply(b,arguments)})}catch(E){c.call(b,E)}}):(M.msg=y,M.state=1,M.chain.length>0&&i(f,M))}catch(b){c.call(new m(M),b)}}}function c(y){var _=this;_.triggered||(_.triggered=!0,_.def&&(_=_.def),_.msg=y,_.state=2,_.chain.length>0&&i(f,_))}function v(y,_,M,b){for(var E=0;E<_.length;E++)(function(T){y.resolve(_[T]).then(function(h){M(T,h)},b)})(E)}function m(y){this.def=y,this.triggered=!1}function x(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var _=new x(this);this.then=function(b,E){var d={success:typeof b=="function"?b:!0,failure:typeof E=="function"?E:!1};return d.promise=new this.constructor(function(g,h){if(typeof g!="function"||typeof h!="function")throw TypeError("Not a function");d.resolve=g,d.reject=h}),_.chain.push(d),_.state!==0&&i(f,_),d.promise},this.catch=function(b){return this.then(void 0,b)};try{y.call(void 0,function(b){u.call(_,b)},function(b){c.call(_,b)})}catch(M){c.call(_,M)}}var w=r({},"constructor",A,!1);return A.prototype=w,r(w,"__NPO__",0,!1),r(A,"resolve",function(_){var M=this;return _&&typeof _=="object"&&_.__NPO__===1?_:new M(function(E,d){if(typeof E!="function"||typeof d!="function")throw TypeError("Not a function");E(_)})}),r(A,"reject",function(_){return new this(function(b,E){if(typeof b!="function"||typeof E!="function")throw TypeError("Not a function");E(_)})}),r(A,"all",function(_){var M=this;return a.call(_)!="[object Array]"?M.reject(TypeError("Not an array")):_.length===0?M.resolve([]):new M(function(E,d){if(typeof E!="function"||typeof d!="function")throw TypeError("Not a function");var T=_.length,g=Array(T),h=0;v(M,_,function(p,C){g[p]=C,++h===T&&E(g)},d)})}),r(A,"race",function(_){var M=this;return a.call(_)!="[object Array]"?M.reject(TypeError("Not an array")):new M(function(E,d){if(typeof E!="function"||typeof d!="function")throw TypeError("Not a function");v(M,_,function(g,h){E(h)},d)})}),A})});var gn=ie((vRe,A2)=>{(function(){var e={version:"3.8.2"},r=[].slice,t=function(R){return r.call(R)},n=self.document;function a(R){return R&&(R.ownerDocument||R.document||R).documentElement}function o(R){return R&&(R.ownerDocument&&R.ownerDocument.defaultView||R.document&&R||R.defaultView)}if(n)try{t(n.documentElement.childNodes)[0].nodeType}catch(R){t=function(N){for(var U=N.length,Y=new Array(U);U--;)Y[U]=N[U];return Y}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch(R){var i=this.Element.prototype,s=i.setAttribute,f=i.setAttributeNS,l=this.CSSStyleDeclaration.prototype,u=l.setProperty;i.setAttribute=function(N,U){s.call(this,N,U+"")},i.setAttributeNS=function(N,U,Y){f.call(this,N,U,Y+"")},l.setProperty=function(N,U,Y){u.call(this,N,U+"",Y)}}e.ascending=c;function c(R,N){return R<N?-1:R>N?1:R>=N?0:NaN}e.descending=function(R,N){return N<R?-1:N>R?1:N>=R?0:NaN},e.min=function(R,N){var U=-1,Y=R.length,Z,K;if(arguments.length===1){for(;++U<Y;)if((K=R[U])!=null&&K>=K){Z=K;break}for(;++U<Y;)(K=R[U])!=null&&Z>K&&(Z=K)}else{for(;++U<Y;)if((K=N.call(R,R[U],U))!=null&&K>=K){Z=K;break}for(;++U<Y;)(K=N.call(R,R[U],U))!=null&&Z>K&&(Z=K)}return Z},e.max=function(R,N){var U=-1,Y=R.length,Z,K;if(arguments.length===1){for(;++U<Y;)if((K=R[U])!=null&&K>=K){Z=K;break}for(;++U<Y;)(K=R[U])!=null&&K>Z&&(Z=K)}else{for(;++U<Y;)if((K=N.call(R,R[U],U))!=null&&K>=K){Z=K;break}for(;++U<Y;)(K=N.call(R,R[U],U))!=null&&K>Z&&(Z=K)}return Z},e.extent=function(R,N){var U=-1,Y=R.length,Z,K,fe;if(arguments.length===1){for(;++U<Y;)if((K=R[U])!=null&&K>=K){Z=fe=K;break}for(;++U<Y;)(K=R[U])!=null&&(Z>K&&(Z=K),fe<K&&(fe=K))}else{for(;++U<Y;)if((K=N.call(R,R[U],U))!=null&&K>=K){Z=fe=K;break}for(;++U<Y;)(K=N.call(R,R[U],U))!=null&&(Z>K&&(Z=K),fe<K&&(fe=K))}return[Z,fe]};function v(R){return R===null?NaN:+R}function m(R){return!isNaN(R)}e.sum=function(R,N){var U=0,Y=R.length,Z,K=-1;if(arguments.length===1)for(;++K<Y;)m(Z=+R[K])&&(U+=Z);else for(;++K<Y;)m(Z=+N.call(R,R[K],K))&&(U+=Z);return U},e.mean=function(R,N){var U=0,Y=R.length,Z,K=-1,fe=Y;if(arguments.length===1)for(;++K<Y;)m(Z=v(R[K]))?U+=Z:--fe;else for(;++K<Y;)m(Z=v(N.call(R,R[K],K)))?U+=Z:--fe;if(fe)return U/fe},e.quantile=function(R,N){var U=(R.length-1)*N+1,Y=Math.floor(U),Z=+R[Y-1],K=U-Y;return K?Z+K*(R[Y]-Z):Z},e.median=function(R,N){var U=[],Y=R.length,Z,K=-1;if(arguments.length===1)for(;++K<Y;)m(Z=v(R[K]))&&U.push(Z);else for(;++K<Y;)m(Z=v(N.call(R,R[K],K)))&&U.push(Z);if(U.length)return e.quantile(U.sort(c),.5)},e.variance=function(R,N){var U=R.length,Y=0,Z,K,fe=0,se=-1,ce=0;if(arguments.length===1)for(;++se<U;)m(Z=v(R[se]))&&(K=Z-Y,Y+=K/++ce,fe+=K*(Z-Y));else for(;++se<U;)m(Z=v(N.call(R,R[se],se)))&&(K=Z-Y,Y+=K/++ce,fe+=K*(Z-Y));if(ce>1)return fe/(ce-1)},e.deviation=function(){var R=e.variance.apply(this,arguments);return R&&Math.sqrt(R)};function x(R){return{left:function(N,U,Y,Z){for(arguments.length<3&&(Y=0),arguments.length<4&&(Z=N.length);Y<Z;){var K=Y+Z>>>1;R(N[K],U)<0?Y=K+1:Z=K}return Y},right:function(N,U,Y,Z){for(arguments.length<3&&(Y=0),arguments.length<4&&(Z=N.length);Y<Z;){var K=Y+Z>>>1;R(N[K],U)>0?Z=K:Y=K+1}return Y}}}var A=x(c);e.bisectLeft=A.left,e.bisect=e.bisectRight=A.right,e.bisector=function(R){return x(R.length===1?function(N,U){return c(R(N),U)}:R)},e.shuffle=function(R,N,U){(Y=arguments.length)<3&&(U=R.length,Y<2&&(N=0));for(var Y=U-N,Z,K;Y;)K=Math.random()*Y--|0,Z=R[Y+N],R[Y+N]=R[K+N],R[K+N]=Z;return R},e.permute=function(R,N){for(var U=N.length,Y=new Array(U);U--;)Y[U]=R[N[U]];return Y},e.pairs=function(R){for(var N=0,U=R.length-1,Y,Z=R[0],K=new Array(U<0?0:U);N<U;)K[N]=[Y=Z,Z=R[++N]];return K},e.transpose=function(R){if(!(K=R.length))return[];for(var N=-1,U=e.min(R,w),Y=new Array(U);++N<U;)for(var Z=-1,K,fe=Y[N]=new Array(K);++Z<K;)fe[Z]=R[Z][N];return Y};function w(R){return R.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(R){var N=[];for(var U in R)N.push(U);return N},e.values=function(R){var N=[];for(var U in R)N.push(R[U]);return N},e.entries=function(R){var N=[];for(var U in R)N.push({key:U,value:R[U]});return N},e.merge=function(R){for(var N=R.length,U,Y=-1,Z=0,K,fe;++Y<N;)Z+=R[Y].length;for(K=new Array(Z);--N>=0;)for(fe=R[N],U=fe.length;--U>=0;)K[--Z]=fe[U];return K};var y=Math.abs;e.range=function(R,N,U){if(arguments.length<3&&(U=1,arguments.length<2&&(N=R,R=0)),(N-R)/U===1/0)throw new Error("infinite range");var Y=[],Z=_(y(U)),K=-1,fe;if(R*=Z,N*=Z,U*=Z,U<0)for(;(fe=R+U*++K)>N;)Y.push(fe/Z);else for(;(fe=R+U*++K)<N;)Y.push(fe/Z);return Y};function _(R){for(var N=1;R*N%1;)N*=10;return N}function M(R,N){for(var U in N)Object.defineProperty(R.prototype,U,{value:N[U],enumerable:!1})}e.map=function(R,N){var U=new b;if(R instanceof b)R.forEach(function(se,ce){U.set(se,ce)});else if(Array.isArray(R)){var Y=-1,Z=R.length,K;if(arguments.length===1)for(;++Y<Z;)U.set(Y,R[Y]);else for(;++Y<Z;)U.set(N.call(R,K=R[Y],Y),K)}else for(var fe in R)U.set(fe,R[fe]);return U};function b(){this._=Object.create(null)}var E="__proto__",d="\0";M(b,{has:h,get:function(R){return this._[T(R)]},set:function(R,N){return this._[T(R)]=N},remove:S,keys:p,values:function(){var R=[];for(var N in this._)R.push(this._[N]);return R},entries:function(){var R=[];for(var N in this._)R.push({key:g(N),value:this._[N]});return R},size:C,empty:k,forEach:function(R){for(var N in this._)R.call(this,g(N),this._[N])}});function T(R){return(R+="")===E||R[0]===d?d+R:R}function g(R){return(R+="")[0]===d?R.slice(1):R}function h(R){return T(R)in this._}function S(R){return(R=T(R))in this._&&delete this._[R]}function p(){var R=[];for(var N in this._)R.push(g(N));return R}function C(){var R=0;for(var N in this._)++R;return R}function k(){for(var R in this._)return!1;return!0}e.nest=function(){var R={},N=[],U=[],Y,Z;function K(se,ce,ge){if(ge>=N.length)return Z?Z.call(R,ce):Y?ce.sort(Y):ce;for(var ye=-1,ke=ce.length,Re=N[ge++],Qe,sr,Pe,Ye=new b,$e;++ye<ke;)($e=Ye.get(Qe=Re(sr=ce[ye])))?$e.push(sr):Ye.set(Qe,[sr]);return se?(sr=se(),Pe=function(lr,fr){sr.set(lr,K(se,fr,ge))}):(sr={},Pe=function(lr,fr){sr[lr]=K(se,fr,ge)}),Ye.forEach(Pe),sr}function fe(se,ce){if(ce>=N.length)return se;var ge=[],ye=U[ce++];return se.forEach(function(ke,Re){ge.push({key:ke,values:fe(Re,ce)})}),ye?ge.sort(function(ke,Re){return ye(ke.key,Re.key)}):ge}return R.map=function(se,ce){return K(ce,se,0)},R.entries=function(se){return fe(K(e.map,se,0),0)},R.key=function(se){return N.push(se),R},R.sortKeys=function(se){return U[N.length-1]=se,R},R.sortValues=function(se){return Y=se,R},R.rollup=function(se){return Z=se,R},R},e.set=function(R){var N=new D;if(R)for(var U=0,Y=R.length;U<Y;++U)N.add(R[U]);return N};function D(){this._=Object.create(null)}M(D,{has:h,add:function(R){return this._[T(R+="")]=!0,R},remove:S,values:p,size:C,empty:k,forEach:function(R){for(var N in this._)R.call(this,g(N))}}),e.behavior={};function P(R){return R}e.rebind=function(R,N){for(var U=1,Y=arguments.length,Z;++U<Y;)R[Z=arguments[U]]=O(R,N,N[Z]);return R};function O(R,N,U){return function(){var Y=U.apply(N,arguments);return Y===N?R:Y}}function F(R,N){if(N in R)return N;N=N.charAt(0).toUpperCase()+N.slice(1);for(var U=0,Y=L.length;U<Y;++U){var Z=L[U]+N;if(Z in R)return Z}}var L=["webkit","ms","moz","Moz","o","O"];function I(){}e.dispatch=function(){for(var R=new q,N=-1,U=arguments.length;++N<U;)R[arguments[N]]=z(R);return R};function q(){}q.prototype.on=function(R,N){var U=R.indexOf("."),Y="";if(U>=0&&(Y=R.slice(U+1),R=R.slice(0,U)),R)return arguments.length<2?this[R].on(Y):this[R].on(Y,N);if(arguments.length===2){if(N==null)for(R in this)this.hasOwnProperty(R)&&this[R].on(Y,null);return this}};function z(R){var N=[],U=new b;function Y(){for(var Z=N,K=-1,fe=Z.length,se;++K<fe;)(se=Z[K].on)&&se.apply(this,arguments);return R}return Y.on=function(Z,K){var fe=U.get(Z),se;return arguments.length<2?fe&&fe.on:(fe&&(fe.on=null,N=N.slice(0,se=N.indexOf(fe)).concat(N.slice(se+1)),U.remove(Z)),K&&N.push(U.set(Z,{on:K})),R)},Y}e.event=null;function W(){e.event.preventDefault()}function $(){for(var R=e.event,N;N=R.sourceEvent;)R=N;return R}function j(R){for(var N=new q,U=0,Y=arguments.length;++U<Y;)N[arguments[U]]=z(N);return N.of=function(Z,K){return function(fe){try{var se=fe.sourceEvent=e.event;fe.target=R,e.event=fe,N[fe.type].apply(Z,K)}finally{e.event=se}}},N}e.requote=function(R){return R.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,B={}.__proto__?function(R,N){R.__proto__=N}:function(R,N){for(var U in N)R[U]=N[U]};function X(R){return B(R,ee),R}var te=function(R,N){return N.querySelector(R)},J=function(R,N){return N.querySelectorAll(R)},ae=function(R,N){var U=R.matches||R[F(R,"matchesSelector")];return ae=function(Y,Z){return U.call(Y,Z)},ae(R,N)};typeof Sizzle=="function"&&(te=function(R,N){return Sizzle(R,N)[0]||null},J=Sizzle,ae=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var ee=e.selection.prototype=[];ee.select=function(R){var N=[],U,Y,Z,K;R=H(R);for(var fe=-1,se=this.length;++fe<se;){N.push(U=[]),U.parentNode=(Z=this[fe]).parentNode;for(var ce=-1,ge=Z.length;++ce<ge;)(K=Z[ce])?(U.push(Y=R.call(K,K.__data__,ce,fe)),Y&&"__data__"in K&&(Y.__data__=K.__data__)):U.push(null)}return X(N)};function H(R){return typeof R=="function"?R:function(){return te(R,this)}}ee.selectAll=function(R){var N=[],U,Y;R=re(R);for(var Z=-1,K=this.length;++Z<K;)for(var fe=this[Z],se=-1,ce=fe.length;++se<ce;)(Y=fe[se])&&(N.push(U=t(R.call(Y,Y.__data__,se,Z))),U.parentNode=Y);return X(N)};function re(R){return typeof R=="function"?R:function(){return J(R,this)}}var V="http://www.w3.org/1999/xhtml",ne={svg:"http://www.w3.org/2000/svg",xhtml:V,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:ne,qualify:function(R){var N=R.indexOf(":"),U=R;return N>=0&&(U=R.slice(0,N))!=="xmlns"&&(R=R.slice(N+1)),ne.hasOwnProperty(U)?{space:ne[U],local:R}:R}},ee.attr=function(R,N){if(arguments.length<2){if(typeof R=="string"){var U=this.node();return R=e.ns.qualify(R),R.local?U.getAttributeNS(R.space,R.local):U.getAttribute(R)}for(N in R)this.each(le(N,R[N]));return this}return this.each(le(R,N))};function le(R,N){R=e.ns.qualify(R);function U(){this.removeAttribute(R)}function Y(){this.removeAttributeNS(R.space,R.local)}function Z(){this.setAttribute(R,N)}function K(){this.setAttributeNS(R.space,R.local,N)}function fe(){var ce=N.apply(this,arguments);ce==null?this.removeAttribute(R):this.setAttribute(R,ce)}function se(){var ce=N.apply(this,arguments);ce==null?this.removeAttributeNS(R.space,R.local):this.setAttributeNS(R.space,R.local,ce)}return N==null?R.local?Y:U:typeof N=="function"?R.local?se:fe:R.local?K:Z}function de(R){return R.trim().replace(/\s+/g," ")}ee.classed=function(R,N){if(arguments.length<2){if(typeof R=="string"){var U=this.node(),Y=(R=me(R)).length,Z=-1;if(N=U.classList){for(;++Z<Y;)if(!N.contains(R[Z]))return!1}else for(N=U.getAttribute("class");++Z<Y;)if(!_e(R[Z]).test(N))return!1;return!0}for(N in R)this.each(ve(N,R[N]));return this}return this.each(ve(R,N))};function _e(R){return new RegExp("(?:^|\\s+)"+e.requote(R)+"(?:\\s+|$)","g")}function me(R){return(R+"").trim().split(/^|\s+/)}function ve(R,N){R=me(R).map(be);var U=R.length;function Y(){for(var K=-1;++K<U;)R[K](this,N)}function Z(){for(var K=-1,fe=N.apply(this,arguments);++K<U;)R[K](this,fe)}return typeof N=="function"?Z:Y}function be(R){var N=_e(R);return function(U,Y){if(Z=U.classList)return Y?Z.add(R):Z.remove(R);var Z=U.getAttribute("class")||"";Y?(N.lastIndex=0,N.test(Z)||U.setAttribute("class",de(Z+" "+R))):U.setAttribute("class",de(Z.replace(N," ")))}}ee.style=function(R,N,U){var Y=arguments.length;if(Y<3){if(typeof R!="string"){Y<2&&(N="");for(U in R)this.each(we(U,R[U],N));return this}if(Y<2){var Z=this.node();return o(Z).getComputedStyle(Z,null).getPropertyValue(R)}U=""}return this.each(we(R,N,U))};function we(R,N,U){function Y(){this.style.removeProperty(R)}function Z(){this.style.setProperty(R,N,U)}function K(){var fe=N.apply(this,arguments);fe==null?this.style.removeProperty(R):this.style.setProperty(R,fe,U)}return N==null?Y:typeof N=="function"?K:Z}ee.property=function(R,N){if(arguments.length<2){if(typeof R=="string")return this.node()[R];for(N in R)this.each(Se(N,R[N]));return this}return this.each(Se(R,N))};function Se(R,N){function U(){delete this[R]}function Y(){this[R]=N}function Z(){var K=N.apply(this,arguments);K==null?delete this[R]:this[R]=K}return N==null?U:typeof N=="function"?Z:Y}ee.text=function(R){return arguments.length?this.each(typeof R=="function"?function(){var N=R.apply(this,arguments);this.textContent=N==null?"":N}:R==null?function(){this.textContent=""}:function(){this.textContent=R}):this.node().textContent},ee.html=function(R){return arguments.length?this.each(typeof R=="function"?function(){var N=R.apply(this,arguments);this.innerHTML=N==null?"":N}:R==null?function(){this.innerHTML=""}:function(){this.innerHTML=R}):this.node().innerHTML},ee.append=function(R){return R=Ae(R),this.select(function(){return this.appendChild(R.apply(this,arguments))})};function Ae(R){function N(){var Y=this.ownerDocument,Z=this.namespaceURI;return Z===V&&Y.documentElement.namespaceURI===V?Y.createElement(R):Y.createElementNS(Z,R)}function U(){return this.ownerDocument.createElementNS(R.space,R.local)}return typeof R=="function"?R:(R=e.ns.qualify(R)).local?U:N}ee.insert=function(R,N){return R=Ae(R),N=H(N),this.select(function(){return this.insertBefore(R.apply(this,arguments),N.apply(this,arguments)||null)})},ee.remove=function(){return this.each(Ie)};function Ie(){var R=this.parentNode;R&&R.removeChild(this)}ee.data=function(R,N){var U=-1,Y=this.length,Z,K;if(!arguments.length){for(R=new Array(Y=(Z=this[0]).length);++U<Y;)(K=Z[U])&&(R[U]=K.__data__);return R}function fe(ye,ke){var Re,Qe=ye.length,sr=ke.length,Pe=Math.min(Qe,sr),Ye=new Array(sr),$e=new Array(sr),lr=new Array(Qe),fr,Ze;if(N){var Rr=new b,qr=new Array(Qe),Zr;for(Re=-1;++Re<Qe;)(fr=ye[Re])&&(Rr.has(Zr=N.call(fr,fr.__data__,Re))?lr[Re]=fr:Rr.set(Zr,fr),qr[Re]=Zr);for(Re=-1;++Re<sr;)(fr=Rr.get(Zr=N.call(ke,Ze=ke[Re],Re)))?fr!==!0&&(Ye[Re]=fr,fr.__data__=Ze):$e[Re]=Ve(Ze),Rr.set(Zr,!0);for(Re=-1;++Re<Qe;)Re in qr&&Rr.get(qr[Re])!==!0&&(lr[Re]=ye[Re])}else{for(Re=-1;++Re<Pe;)fr=ye[Re],Ze=ke[Re],fr?(fr.__data__=Ze,Ye[Re]=fr):$e[Re]=Ve(Ze);for(;Re<sr;++Re)$e[Re]=Ve(ke[Re]);for(;Re<Qe;++Re)lr[Re]=ye[Re]}$e.update=Ye,$e.parentNode=Ye.parentNode=lr.parentNode=ye.parentNode,se.push($e),ce.push(Ye),ge.push(lr)}var se=qe([]),ce=X([]),ge=X([]);if(typeof R=="function")for(;++U<Y;)fe(Z=this[U],R.call(Z,Z.parentNode.__data__,U));else for(;++U<Y;)fe(Z=this[U],R);return ce.enter=function(){return se},ce.exit=function(){return ge},ce};function Ve(R){return{__data__:R}}ee.datum=function(R){return arguments.length?this.property("__data__",R):this.property("__data__")},ee.filter=function(R){var N=[],U,Y,Z;typeof R!="function"&&(R=pe(R));for(var K=0,fe=this.length;K<fe;K++){N.push(U=[]),U.parentNode=(Y=this[K]).parentNode;for(var se=0,ce=Y.length;se<ce;se++)(Z=Y[se])&&R.call(Z,Z.__data__,se,K)&&U.push(Z)}return X(N)};function pe(R){return function(){return ae(this,R)}}ee.order=function(){for(var R=-1,N=this.length;++R<N;)for(var U=this[R],Y=U.length-1,Z=U[Y],K;--Y>=0;)(K=U[Y])&&(Z&&Z!==K.nextSibling&&Z.parentNode.insertBefore(K,Z),Z=K);return this},ee.sort=function(R){R=xe.apply(this,arguments);for(var N=-1,U=this.length;++N<U;)this[N].sort(R);return this.order()};function xe(R){return arguments.length||(R=c),function(N,U){return N&&U?R(N.__data__,U.__data__):!N-!U}}ee.each=function(R){return Te(this,function(N,U,Y){R.call(N,N.__data__,U,Y)})};function Te(R,N){for(var U=0,Y=R.length;U<Y;U++)for(var Z=R[U],K=0,fe=Z.length,se;K<fe;K++)(se=Z[K])&&N(se,K,U);return R}ee.call=function(R){var N=t(arguments);return R.apply(N[0]=this,N),this},ee.empty=function(){return!this.node()},ee.node=function(){for(var R=0,N=this.length;R<N;R++)for(var U=this[R],Y=0,Z=U.length;Y<Z;Y++){var K=U[Y];if(K)return K}return null},ee.size=function(){var R=0;return Te(this,function(){++R}),R};function qe(R){return B(R,er),R}var er=[];e.selection.enter=qe,e.selection.enter.prototype=er,er.append=ee.append,er.empty=ee.empty,er.node=ee.node,er.call=ee.call,er.size=ee.size,er.select=function(R){for(var N=[],U,Y,Z,K,fe,se=-1,ce=this.length;++se<ce;){Z=(K=this[se]).update,N.push(U=[]),U.parentNode=K.parentNode;for(var ge=-1,ye=K.length;++ge<ye;)(fe=K[ge])?(U.push(Z[ge]=Y=R.call(K.parentNode,fe.__data__,ge,se)),Y.__data__=fe.__data__):U.push(null)}return X(N)},er.insert=function(R,N){return arguments.length<2&&(N=ze(this)),ee.insert.call(this,R,N)};function ze(R){var N,U;return function(Y,Z,K){var fe=R[K].update,se=fe.length,ce;for(K!=U&&(U=K,N=0),Z>=N&&(N=Z+1);!(ce=fe[N])&&++N<se;);return ce}}e.select=function(R){var N;return typeof R=="string"?(N=[te(R,n)],N.parentNode=n.documentElement):(N=[R],N.parentNode=a(R)),X([N])},e.selectAll=function(R){var N;return typeof R=="string"?(N=t(J(R,n)),N.parentNode=n.documentElement):(N=t(R),N.parentNode=null),X([N])},ee.on=function(R,N,U){var Y=arguments.length;if(Y<3){if(typeof R!="string"){Y<2&&(N=!1);for(U in R)this.each(Ce(U,R[U],N));return this}if(Y<2)return(Y=this.node()["__on"+R])&&Y._;U=!1}return this.each(Ce(R,N,U))};function Ce(R,N,U){var Y="__on"+R,Z=R.indexOf("."),K=Ne;Z>0&&(R=R.slice(0,Z));var fe=Le.get(R);fe&&(R=fe,K=tr);function se(){var ye=this[Y];ye&&(this.removeEventListener(R,ye,ye.$),delete this[Y])}function ce(){var ye=K(N,t(arguments));se.call(this),this.addEventListener(R,this[Y]=ye,ye.$=U),ye._=N}function ge(){var ye=new RegExp("^__on([^.]+)"+e.requote(R)+"$"),ke;for(var Re in this)if(ke=Re.match(ye)){var Qe=this[Re];this.removeEventListener(ke[1],Qe,Qe.$),delete this[Re]}}return Z?N?ce:se:N?I:ge}var Le=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&Le.forEach(function(R){"on"+R in n&&Le.remove(R)});function Ne(R,N){return function(U){var Y=e.event;e.event=U,N[0]=this.__data__;try{R.apply(this,N)}finally{e.event=Y}}}function tr(R,N){var U=Ne(R,N);return function(Y){var Z=this,K=Y.relatedTarget;(!K||K!==Z&&!(K.compareDocumentPosition(Z)&8))&&U.call(Z,Y)}}var ir,mr=0;function Tr(R){var N=".dragsuppress-"+ ++mr,U="click"+N,Y=e.select(o(R)).on("touchmove"+N,W).on("dragstart"+N,W).on("selectstart"+N,W);if(ir==null&&(ir="onselectstart"in R?!1:F(R.style,"userSelect")),ir){var Z=a(R).style,K=Z[ir];Z[ir]="none"}return function(fe){if(Y.on(N,null),ir&&(Z[ir]=K),fe){var se=function(){Y.on(U,null)};Y.on(U,function(){W(),se()},!0),setTimeout(se,0)}}}e.mouse=function(R){return nr(R,$())};var pr=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function nr(R,N){N.changedTouches&&(N=N.changedTouches[0]);var U=R.ownerSVGElement||R;if(U.createSVGPoint){var Y=U.createSVGPoint();if(pr<0){var Z=o(R);if(Z.scrollX||Z.scrollY){U=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var K=U[0][0].getScreenCTM();pr=!(K.f||K.e),U.remove()}}return pr?(Y.x=N.pageX,Y.y=N.pageY):(Y.x=N.clientX,Y.y=N.clientY),Y=Y.matrixTransform(R.getScreenCTM().inverse()),[Y.x,Y.y]}var fe=R.getBoundingClientRect();return[N.clientX-fe.left-R.clientLeft,N.clientY-fe.top-R.clientTop]}e.touch=function(R,N,U){if(arguments.length<3&&(U=N,N=$().changedTouches),N){for(var Y=0,Z=N.length,K;Y<Z;++Y)if((K=N[Y]).identifier===U)return nr(R,K)}},e.behavior.drag=function(){var R=j(Z,"drag","dragstart","dragend"),N=null,U=K(I,e.mouse,o,"mousemove","mouseup"),Y=K(Me,e.touch,P,"touchmove","touchend");function Z(){this.on("mousedown.drag",U).on("touchstart.drag",Y)}function K(fe,se,ce,ge,ye){return function(){var ke=this,Re=e.event.target.correspondingElement||e.event.target,Qe=ke.parentNode,sr=R.of(ke,arguments),Pe=0,Ye=fe(),$e=".drag"+(Ye==null?"":"-"+Ye),lr,fr=e.select(ce(Re)).on(ge+$e,qr).on(ye+$e,Zr),Ze=Tr(Re),Rr=se(Qe,Ye);N?(lr=N.apply(ke,arguments),lr=[lr.x-Rr[0],lr.y-Rr[1]]):lr=[0,0],sr({type:"dragstart"});function qr(){var rt=se(Qe,Ye),ht,vt;rt&&(ht=rt[0]-Rr[0],vt=rt[1]-Rr[1],Pe|=ht|vt,Rr=rt,sr({type:"drag",x:rt[0]+lr[0],y:rt[1]+lr[1],dx:ht,dy:vt}))}function Zr(){se(Qe,Ye)&&(fr.on(ge+$e,null).on(ye+$e,null),Ze(Pe),sr({type:"dragend"}))}}}return Z.origin=function(fe){return arguments.length?(N=fe,Z):N},e.rebind(Z,R,"on")};function Me(){return e.event.changedTouches[0].identifier}e.touches=function(R,N){return arguments.length<2&&(N=$().touches),N?t(N).map(function(U){var Y=nr(R,U);return Y.identifier=U.identifier,Y}):[]};var Fe=1e-6,ur=Fe*Fe,je=Math.PI,Er=2*je,ue=Er-Fe,Q=je/2,oe=je/180,Ee=180/je;function Xe(R){return R>0?1:R<0?-1:0}function ar(R,N,U){return(N[0]-R[0])*(U[1]-R[1])-(N[1]-R[1])*(U[0]-R[0])}function yr(R){return R>1?0:R<-1?je:Math.acos(R)}function Kr(R){return R>1?Q:R<-1?-Q:Math.asin(R)}function mt(R){return((R=Math.exp(R))-1/R)/2}function Ft(R){return((R=Math.exp(R))+1/R)/2}function wt(R){return((R=Math.exp(2*R))-1)/(R+1)}function bt(R){return(R=Math.sin(R/2))*R}var Ln=Math.SQRT2,tn=2,it=4;e.interpolateZoom=function(R,N){var U=R[0],Y=R[1],Z=R[2],K=N[0],fe=N[1],se=N[2],ce=K-U,ge=fe-Y,ye=ce*ce+ge*ge,ke,Re;if(ye<ur)Re=Math.log(se/Z)/Ln,ke=function(lr){return[U+lr*ce,Y+lr*ge,Z*Math.exp(Ln*lr*Re)]};else{var Qe=Math.sqrt(ye),sr=(se*se-Z*Z+it*ye)/(2*Z*tn*Qe),Pe=(se*se-Z*Z-it*ye)/(2*se*tn*Qe),Ye=Math.log(Math.sqrt(sr*sr+1)-sr),$e=Math.log(Math.sqrt(Pe*Pe+1)-Pe);Re=($e-Ye)/Ln,ke=function(lr){var fr=lr*Re,Ze=Ft(Ye),Rr=Z/(tn*Qe)*(Ze*wt(Ln*fr+Ye)-mt(Ye));return[U+Rr*ce,Y+Rr*ge,Z*Ze/Ft(Ln*fr+Ye)]}}return ke.duration=Re*1e3,ke},e.behavior.zoom=function(){var R={x:0,y:0,k:1},N,U,Y,Z=[960,500],K=Mn,fe=250,se=0,ce="mousedown.zoom",ge="mousemove.zoom",ye="mouseup.zoom",ke,Re="touchstart.zoom",Qe,sr=j(fr,"zoomstart","zoom","zoomend"),Pe,Ye,$e,lr;$t||($t="onwheel"in n?(Lt=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Lt=function(){return e.event.wheelDelta},"mousewheel"):(Lt=function(){return-e.event.detail},"MozMousePixelScroll"));function fr($r){$r.on(ce,qt).on($t+".zoom",pa).on("dblclick.zoom",Pn).on(Re,Sn)}fr.event=function($r){$r.each(function(){var Vt=sr.of(this,arguments),en=R;dl?e.select(this).transition().each("start.zoom",function(){R=this.__chart__||{x:0,y:0,k:1},vt(Vt)}).tween("zoom:zoom",function(){var wn=Z[0],ea=Z[1],Ta=U?U[0]:wn/2,Qa=U?U[1]:ea/2,si=e.interpolateZoom([(Ta-R.x)/R.k,(Qa-R.y)/R.k,wn/R.k],[(Ta-en.x)/en.k,(Qa-en.y)/en.k,wn/en.k]);return function(Mi){var he=si(Mi),Oe=wn/he[2];this.__chart__=R={x:Ta-he[0]*Oe,y:Qa-he[1]*Oe,k:Oe},Ht(Vt)}}).each("interrupt.zoom",function(){xt(Vt)}).each("end.zoom",function(){xt(Vt)}):(this.__chart__=R,vt(Vt),Ht(Vt),xt(Vt))})},fr.translate=function($r){return arguments.length?(R={x:+$r[0],y:+$r[1],k:R.k},ht(),fr):[R.x,R.y]},fr.scale=function($r){return arguments.length?(R={x:R.x,y:R.y,k:null},qr(+$r),ht(),fr):R.k},fr.scaleExtent=function($r){return arguments.length?(K=$r==null?Mn:[+$r[0],+$r[1]],fr):K},fr.center=function($r){return arguments.length?(Y=$r&&[+$r[0],+$r[1]],fr):Y},fr.size=function($r){return arguments.length?(Z=$r&&[+$r[0],+$r[1]],fr):Z},fr.duration=function($r){return arguments.length?(fe=+$r,fr):fe},fr.x=function($r){return arguments.length?(Ye=$r,Pe=$r.copy(),R={x:0,y:0,k:1},fr):Ye},fr.y=function($r){return arguments.length?(lr=$r,$e=$r.copy(),R={x:0,y:0,k:1},fr):lr};function Ze($r){return[($r[0]-R.x)/R.k,($r[1]-R.y)/R.k]}function Rr($r){return[$r[0]*R.k+R.x,$r[1]*R.k+R.y]}function qr($r){R.k=Math.max(K[0],Math.min(K[1],$r))}function Zr($r,Vt){Vt=Rr(Vt),R.x+=$r[0]-Vt[0],R.y+=$r[1]-Vt[1]}function rt($r,Vt,en,wn){$r.__chart__={x:R.x,y:R.y,k:R.k},qr(Math.pow(2,wn)),Zr(U=Vt,en),$r=e.select($r),fe>0&&($r=$r.transition().duration(fe)),$r.call(fr.event)}function ht(){Ye&&Ye.domain(Pe.range().map(function($r){return($r-R.x)/R.k}).map(Pe.invert)),lr&&lr.domain($e.range().map(function($r){return($r-R.y)/R.k}).map($e.invert))}function vt($r){se++||$r({type:"zoomstart"})}function Ht($r){ht(),$r({type:"zoom",scale:R.k,translate:[R.x,R.y]})}function xt($r){--se||($r({type:"zoomend"}),U=null)}function qt(){var $r=this,Vt=sr.of($r,arguments),en=0,wn=e.select(o($r)).on(ge,Qa).on(ye,si),ea=Ze(e.mouse($r)),Ta=Tr($r);Mh.call($r),vt(Vt);function Qa(){en=1,Zr(e.mouse($r),ea),Ht(Vt)}function si(){wn.on(ge,null).on(ye,null),Ta(en),xt(Vt)}}function Sn(){var $r=this,Vt=sr.of($r,arguments),en={},wn=0,ea,Ta=".zoom-"+e.event.changedTouches[0].identifier,Qa="touchmove"+Ta,si="touchend"+Ta,Mi=[],he=e.select($r),Oe=Tr($r);dr(),vt(Vt),he.on(ce,null).on(Re,dr);function Ue(){var xr=e.touches($r);return ea=R.k,xr.forEach(function(Pr){Pr.identifier in en&&(en[Pr.identifier]=Ze(Pr))}),xr}function dr(){var xr=e.event.target;e.select(xr).on(Qa,br).on(si,Sr),Mi.push(xr);for(var Pr=e.event.changedTouches,Hr=0,Vr=Pr.length;Hr<Vr;++Hr)en[Pr[Hr].identifier]=null;var Yr=Ue(),Rt=Date.now();if(Yr.length===1){if(Rt-Qe<500){var yt=Yr[0];rt($r,yt,en[yt.identifier],Math.floor(Math.log(R.k)/Math.LN2)+1),W()}Qe=Rt}else if(Yr.length>1){var yt=Yr[0],at=Yr[1],Dr=yt[0]-at[0],cr=yt[1]-at[1];wn=Dr*Dr+cr*cr}}function br(){var xr=e.touches($r),Pr,Hr,Vr,Yr;Mh.call($r);for(var Rt=0,yt=xr.length;Rt<yt;++Rt,Yr=null)if(Vr=xr[Rt],Yr=en[Vr.identifier]){if(Hr)break;Pr=Vr,Hr=Yr}if(Yr){var at=(at=Vr[0]-Pr[0])*at+(at=Vr[1]-Pr[1])*at,Dr=wn&&Math.sqrt(at/wn);Pr=[(Pr[0]+Vr[0])/2,(Pr[1]+Vr[1])/2],Hr=[(Hr[0]+Yr[0])/2,(Hr[1]+Yr[1])/2],qr(Dr*ea)}Qe=null,Zr(Pr,Hr),Ht(Vt)}function Sr(){if(e.event.touches.length){for(var xr=e.event.changedTouches,Pr=0,Hr=xr.length;Pr<Hr;++Pr)delete en[xr[Pr].identifier];for(var Vr in en)return void Ue()}e.selectAll(Mi).on(Ta,null),he.on(ce,qt).on(Re,Sn),Oe(),xt(Vt)}}function pa(){var $r=sr.of(this,arguments);ke?clearTimeout(ke):(Mh.call(this),N=Ze(U=Y||e.mouse(this)),vt($r)),ke=setTimeout(function(){ke=null,xt($r)},50),W(),qr(Math.pow(2,Lt()*.002)*R.k),Zr(U,N),Ht($r)}function Pn(){var $r=e.mouse(this),Vt=Math.log(R.k)/Math.LN2;rt(this,$r,Ze($r),e.event.shiftKey?Math.ceil(Vt)-1:Math.floor(Vt)+1)}return e.rebind(fr,sr,"on")};var Mn=[0,1/0],Lt,$t;e.color=Un;function Un(){}Un.prototype.toString=function(){return this.rgb()+""},e.hsl=Gt;function Gt(R,N,U){return this instanceof Gt?(this.h=+R,this.s=+N,void(this.l=+U)):arguments.length<2?R instanceof Gt?new Gt(R.h,R.s,R.l):un(""+R,En,Gt):new Gt(R,N,U)}var Yt=Gt.prototype=new Un;Yt.brighter=function(R){return R=Math.pow(.7,arguments.length?R:1),new Gt(this.h,this.s,this.l/R)},Yt.darker=function(R){return R=Math.pow(.7,arguments.length?R:1),new Gt(this.h,this.s,R*this.l)},Yt.rgb=function(){return Gn(this.h,this.s,this.l)};function Gn(R,N,U){var Y,Z;R=isNaN(R)?0:(R%=360)<0?R+360:R,N=isNaN(N)||N<0?0:N>1?1:N,U=U<0?0:U>1?1:U,Z=U<=.5?U*(1+N):U+N-U*N,Y=2*U-Z;function K(se){return se>360?se-=360:se<0&&(se+=360),se<60?Y+(Z-Y)*se/60:se<180?Z:se<240?Y+(Z-Y)*(240-se)/60:Y}function fe(se){return Math.round(K(se)*255)}return new Fa(fe(R+120),fe(R),fe(R-120))}e.hcl=Vn;function Vn(R,N,U){return this instanceof Vn?(this.h=+R,this.c=+N,void(this.l=+U)):arguments.length<2?R instanceof Vn?new Vn(R.h,R.c,R.l):R instanceof Qn?Wi(R.l,R.a,R.b):Wi((R=tt((R=e.rgb(R)).r,R.g,R.b)).l,R.a,R.b):new Vn(R,N,U)}var Va=Vn.prototype=new Un;Va.brighter=function(R){return new Vn(this.h,this.c,Math.min(100,this.l+xn*(arguments.length?R:1)))},Va.darker=function(R){return new Vn(this.h,this.c,Math.max(0,this.l-xn*(arguments.length?R:1)))},Va.rgb=function(){return va(this.h,this.c,this.l).rgb()};function va(R,N,U){return isNaN(R)&&(R=0),isNaN(N)&&(N=0),new Qn(U,Math.cos(R*=oe)*N,Math.sin(R)*N)}e.lab=Qn;function Qn(R,N,U){return this instanceof Qn?(this.l=+R,this.a=+N,void(this.b=+U)):arguments.length<2?R instanceof Qn?new Qn(R.l,R.a,R.b):R instanceof Vn?va(R.h,R.c,R.l):tt((R=Fa(R)).r,R.g,R.b):new Qn(R,N,U)}var xn=18,la=.95047,Yi=1,Fi=1.08883,gi=Qn.prototype=new Un;gi.brighter=function(R){return new Qn(Math.min(100,this.l+xn*(arguments.length?R:1)),this.a,this.b)},gi.darker=function(R){return new Qn(Math.max(0,this.l-xn*(arguments.length?R:1)),this.a,this.b)},gi.rgb=function(){return lo(this.l,this.a,this.b)};function lo(R,N,U){var Y=(R+16)/116,Z=Y+N/500,K=Y-U/200;return Z=Cs(Z)*la,Y=Cs(Y)*Yi,K=Cs(K)*Fi,new Fa(Xi(3.2404542*Z-1.5371385*Y-.4985314*K),Xi(-.969266*Z+1.8760108*Y+.041556*K),Xi(.0556434*Z-.2040259*Y+1.0572252*K))}function Wi(R,N,U){return R>0?new Vn(Math.atan2(U,N)*Ee,Math.sqrt(N*N+U*U),R):new Vn(NaN,NaN,R)}function Cs(R){return R>.206893034?R*R*R:(R-4/29)/7.787037}function ks(R){return R>.008856?Math.pow(R,1/3):7.787037*R+4/29}function Xi(R){return Math.round(255*(R<=.00304?12.92*R:1.055*Math.pow(R,1/2.4)-.055))}e.rgb=Fa;function Fa(R,N,U){return this instanceof Fa?(this.r=~~R,this.g=~~N,void(this.b=~~U)):arguments.length<2?R instanceof Fa?new Fa(R.r,R.g,R.b):un(""+R,Fa,Gn):new Fa(R,N,U)}function Zi(R){return new Fa(R>>16,R>>8&255,R&255)}function Io(R){return Zi(R)+""}var Ti=Fa.prototype=new Un;Ti.brighter=function(R){R=Math.pow(.7,arguments.length?R:1);var N=this.r,U=this.g,Y=this.b,Z=30;return!N&&!U&&!Y?new Fa(Z,Z,Z):(N&&N<Z&&(N=Z),U&&U<Z&&(U=Z),Y&&Y<Z&&(Y=Z),new Fa(Math.min(255,N/R),Math.min(255,U/R),Math.min(255,Y/R)))},Ti.darker=function(R){return R=Math.pow(.7,arguments.length?R:1),new Fa(R*this.r,R*this.g,R*this.b)},Ti.hsl=function(){return En(this.r,this.g,this.b)},Ti.toString=function(){return"#"+St(this.r)+St(this.g)+St(this.b)};function St(R){return R<16?"0"+Math.max(0,R).toString(16):Math.min(255,R).toString(16)}function un(R,N,U){var Y=0,Z=0,K=0,fe,se,ce;if(fe=/([a-z]+)\((.*)\)/.exec(R=R.toLowerCase()),fe)switch(se=fe[2].split(","),fe[1]){case"hsl":return U(parseFloat(se[0]),parseFloat(se[1])/100,parseFloat(se[2])/100);case"rgb":return N(Hn(se[0]),Hn(se[1]),Hn(se[2]))}return(ce=Ya.get(R))?N(ce.r,ce.g,ce.b):(R!=null&&R.charAt(0)==="#"&&!isNaN(ce=parseInt(R.slice(1),16))&&(R.length===4?(Y=(ce&3840)>>4,Y=Y>>4|Y,Z=ce&240,Z=Z>>4|Z,K=ce&15,K=K<<4|K):R.length===7&&(Y=(ce&16711680)>>16,Z=(ce&65280)>>8,K=ce&255)),N(Y,Z,K))}function En(R,N,U){var Y=Math.min(R/=255,N/=255,U/=255),Z=Math.max(R,N,U),K=Z-Y,fe,se,ce=(Z+Y)/2;return K?(se=ce<.5?K/(Z+Y):K/(2-Z-Y),R==Z?fe=(N-U)/K+(N<U?6:0):N==Z?fe=(U-R)/K+2:fe=(R-N)/K+4,fe*=60):(fe=NaN,se=ce>0&&ce<1?0:fe),new Gt(fe,se,ce)}function tt(R,N,U){R=Ka(R),N=Ka(N),U=Ka(U);var Y=ks((.4124564*R+.3575761*N+.1804375*U)/la),Z=ks((.2126729*R+.7151522*N+.072175*U)/Yi),K=ks((.0193339*R+.119192*N+.9503041*U)/Fi);return Qn(116*Z-16,500*(Y-Z),200*(Z-K))}function Ka(R){return(R/=255)<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function Hn(R){var N=parseFloat(R);return R.charAt(R.length-1)==="%"?Math.round(N*2.55):N}var Ya=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ya.forEach(function(R,N){Ya.set(R,Zi(N))});function on(R){return typeof R=="function"?R:function(){return R}}e.functor=on,e.xhr=Po(P);function Po(R){return function(N,U,Y){return arguments.length===2&&typeof U=="function"&&(Y=U,U=null),al(N,U,R,Y)}}function al(R,N,U,Y){var Z={},K=e.dispatch("beforesend","progress","load","error"),fe={},se=new XMLHttpRequest,ce=null;self.XDomainRequest&&!("withCredentials"in se)&&/^(http(s)?:)?\/\//.test(R)&&(se=new XDomainRequest),"onload"in se?se.onload=se.onerror=ge:se.onreadystatechange=function(){se.readyState>3&&ge()};function ge(){var ye=se.status,ke;if(!ye&&L_(se)||ye>=200&&ye<300||ye===304){try{ke=U.call(Z,se)}catch(Re){K.error.call(Z,Re);return}K.load.call(Z,ke)}else K.error.call(Z,se)}return se.onprogress=function(ye){var ke=e.event;e.event=ye;try{K.progress.call(Z,se)}finally{e.event=ke}},Z.header=function(ye,ke){return ye=(ye+"").toLowerCase(),arguments.length<2?fe[ye]:(ke==null?delete fe[ye]:fe[ye]=ke+"",Z)},Z.mimeType=function(ye){return arguments.length?(N=ye==null?null:ye+"",Z):N},Z.responseType=function(ye){return arguments.length?(ce=ye,Z):ce},Z.response=function(ye){return U=ye,Z},["get","post"].forEach(function(ye){Z[ye]=function(){return Z.send.apply(Z,[ye].concat(t(arguments)))}}),Z.send=function(ye,ke,Re){if(arguments.length===2&&typeof ke=="function"&&(Re=ke,ke=null),se.open(ye,R,!0),N!=null&&!("accept"in fe)&&(fe.accept=N+",*/*"),se.setRequestHeader)for(var Qe in fe)se.setRequestHeader(Qe,fe[Qe]);return N!=null&&se.overrideMimeType&&se.overrideMimeType(N),ce!=null&&(se.responseType=ce),Re!=null&&Z.on("error",Re).on("load",function(sr){Re(null,sr)}),K.beforesend.call(Z,se),se.send(ke==null?null:ke),Z},Z.abort=function(){return se.abort(),Z},e.rebind(Z,K,"on"),Y==null?Z:Z.get(il(Y))}function il(R){return R.length===1?function(N,U){R(N==null?U:null)}:R}function L_(R){var N=R.responseType;return N&&N!=="text"?R.response:R.responseText}e.dsv=function(R,N){var U=new RegExp('["'+R+`
]`),Y=R.charCodeAt(0);function Z(ge,ye,ke){arguments.length<3&&(ke=ye,ye=null);var Re=al(ge,N,ye==null?K:fe(ye),ke);return Re.row=function(Qe){return arguments.length?Re.response((ye=Qe)==null?K:fe(Qe)):ye},Re}function K(ge){return Z.parse(ge.responseText)}function fe(ge){return function(ye){return Z.parse(ye.responseText,ge)}}Z.parse=function(ge,ye){var ke;return Z.parseRows(ge,function(Re,Qe){if(ke)return ke(Re,Qe-1);var sr=function(Pe){for(var Ye={},$e=Re.length,lr=0;lr<$e;++lr)Ye[Re[lr]]=Pe[lr];return Ye};ke=ye?function(Pe,Ye){return ye(sr(Pe),Ye)}:sr})},Z.parseRows=function(ge,ye){var ke={},Re={},Qe=[],sr=ge.length,Pe=0,Ye=0,$e,lr;function fr(){if(Pe>=sr)return Re;if(lr)return lr=!1,ke;var Rr=Pe;if(ge.charCodeAt(Rr)===34){for(var qr=Rr;qr++<sr;)if(ge.charCodeAt(qr)===34){if(ge.charCodeAt(qr+1)!==34)break;++qr}Pe=qr+2;var Zr=ge.charCodeAt(qr+1);return Zr===13?(lr=!0,ge.charCodeAt(qr+2)===10&&++Pe):Zr===10&&(lr=!0),ge.slice(Rr+1,qr).replace(/""/g,'"')}for(;Pe<sr;){var Zr=ge.charCodeAt(Pe++),rt=1;if(Zr===10)lr=!0;else if(Zr===13)lr=!0,ge.charCodeAt(Pe)===10&&(++Pe,++rt);else if(Zr!==Y)continue;return ge.slice(Rr,Pe-rt)}return ge.slice(Rr)}for(;($e=fr())!==Re;){for(var Ze=[];$e!==ke&&$e!==Re;)Ze.push($e),$e=fr();ye&&(Ze=ye(Ze,Ye++))==null||Qe.push(Ze)}return Qe},Z.format=function(ge){if(Array.isArray(ge[0]))return Z.formatRows(ge);var ye=new D,ke=[];return ge.forEach(function(Re){for(var Qe in Re)ye.has(Qe)||ke.push(ye.add(Qe))}),[ke.map(ce).join(R)].concat(ge.map(function(Re){return ke.map(function(Qe){return ce(Re[Qe])}).join(R)})).join(`
`)},Z.formatRows=function(ge){return ge.map(se).join(`
`)};function se(ge){return ge.map(ce).join(R)}function ce(ge){return U.test(ge)?'"'+ge.replace(/\"/g,'""')+'"':ge}return Z},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var ji,Of,Ul,jo,Q0=this[F(this,"requestAnimationFrame")]||function(R){setTimeout(R,17)};e.timer=function(){Gl.apply(this,arguments)};function Gl(R,N,U){var Y=arguments.length;Y<2&&(N=0),Y<3&&(U=Date.now());var Z=U+N,K={c:R,t:Z,n:null};return Of?Of.n=K:ji=K,Of=K,Ul||(jo=clearTimeout(jo),Ul=1,Q0(Hl)),K}function Hl(){var R=hc(),N=Bd()-R;N>24?(isFinite(N)&&(clearTimeout(jo),jo=setTimeout(Hl,N)),Ul=0):(Ul=1,Q0(Hl))}e.timer.flush=function(){hc(),Bd()};function hc(){for(var R=Date.now(),N=ji;N;)R>=N.t&&N.c(R-N.t)&&(N.c=null),N=N.n;return R}function Bd(){for(var R,N=ji,U=1/0;N;)N.c?(N.t<U&&(U=N.t),N=(R=N).n):N=R?R.n=N.n:ji=N.n;return Of=R,U}e.round=function(R,N){return N?Math.round(R*(N=Math.pow(10,N)))/N:Math.round(R)},e.geom={};function ol(R){return R[0]}function Nf(R){return R[1]}e.geom.hull=function(R){var N=ol,U=Nf;if(arguments.length)return Y(R);function Y(Z){if(Z.length<3)return[];var K=on(N),fe=on(U),se,ce=Z.length,ge=[],ye=[];for(se=0;se<ce;se++)ge.push([+K.call(this,Z[se],se),+fe.call(this,Z[se],se),se]);for(ge.sort(R_),se=0;se<ce;se++)ye.push([ge[se][0],-ge[se][1]]);var ke=xy(ge),Re=xy(ye),Qe=Re[0]===ke[0],sr=Re[Re.length-1]===ke[ke.length-1],Pe=[];for(se=ke.length-1;se>=0;--se)Pe.push(Z[ge[ke[se]][2]]);for(se=+Qe;se<Re.length-sr;++se)Pe.push(Z[ge[Re[se]][2]]);return Pe}return Y.x=function(Z){return arguments.length?(N=Z,Y):N},Y.y=function(Z){return arguments.length?(U=Z,Y):U},Y};function xy(R){for(var N=R.length,U=[0,1],Y=2,Z=2;Z<N;Z++){for(;Y>1&&ar(R[U[Y-2]],R[U[Y-1]],R[Z])<=0;)--Y;U[Y++]=Z}return U.slice(0,Y)}function R_(R,N){return R[0]-N[0]||R[1]-N[1]}e.geom.polygon=function(R){return B(R,eh),R};var eh=e.geom.polygon.prototype=[];eh.area=function(){for(var R=-1,N=this.length,U,Y=this[N-1],Z=0;++R<N;)U=Y,Y=this[R],Z+=U[1]*Y[0]-U[0]*Y[1];return Z*.5},eh.centroid=function(R){var N=-1,U=this.length,Y=0,Z=0,K,fe=this[U-1],se;for(arguments.length||(R=-1/(6*this.area()));++N<U;)K=fe,fe=this[N],se=K[0]*fe[1]-fe[0]*K[1],Y+=(K[0]+fe[0])*se,Z+=(K[1]+fe[1])*se;return[Y*R,Z*R]},eh.clip=function(R){for(var N,U=dc(R),Y=-1,Z=this.length-dc(this),K,fe,se=this[Z-1],ce,ge,ye;++Y<Z;){for(N=R.slice(),R.length=0,ce=this[Y],ge=N[(fe=N.length-U)-1],K=-1;++K<fe;)ye=N[K],qd(ye,se,ce)?(qd(ge,se,ce)||R.push(vc(ge,ye,se,ce)),R.push(ye)):qd(ge,se,ce)&&R.push(vc(ge,ye,se,ce)),ge=ye;U&&R.push(R[0]),se=ce}return R};function qd(R,N,U){return(U[0]-N[0])*(R[1]-N[1])<(U[1]-N[1])*(R[0]-N[0])}function vc(R,N,U,Y){var Z=R[0],K=U[0],fe=N[0]-Z,se=Y[0]-K,ce=R[1],ge=U[1],ye=N[1]-ce,ke=Y[1]-ge,Re=(se*(ce-ge)-ke*(Z-K))/(ke*fe-se*ye);return[Z+Re*fe,ce+Re*ye]}function dc(R){var N=R[0],U=R[R.length-1];return!(N[0]-U[0]||N[1]-U[1])}var sl,Ls,Oo,rh=[],pc,Vl,th=[];function by(){mc(this),this.edge=this.site=this.circle=null}function zd(R){var N=rh.pop()||new by;return N.site=R,N}function nh(R){qf(R),Oo.remove(R),rh.push(R),mc(R)}function _y(R){var N=R.circle,U=N.x,Y=N.cy,Z={x:U,y:Y},K=R.P,fe=R.N,se=[R];nh(R);for(var ce=K;ce.circle&&y(U-ce.circle.x)<Fe&&y(Y-ce.circle.cy)<Fe;)K=ce.P,se.unshift(ce),nh(ce),ce=K;se.unshift(ce),qf(ce);for(var ge=fe;ge.circle&&y(U-ge.circle.x)<Fe&&y(Y-ge.circle.cy)<Fe;)fe=ge.N,se.push(ge),nh(ge),ge=fe;se.push(ge),qf(ge);var ye=se.length,ke;for(ke=1;ke<ye;++ke)ge=se[ke],ce=se[ke-1],zf(ge.edge,ce.site,ge.site,Z);ce=se[0],ge=se[ye-1],ge.edge=gc(ce.site,ge.site,null,Z),Jo(ce),Jo(ge)}function wy(R){for(var N=R.x,U=R.y,Y,Z,K,fe,se=Oo._;se;)if(K=Ud(se,U)-N,K>Fe)se=se.L;else if(fe=N-Ay(se,U),fe>Fe){if(!se.R){Y=se;break}se=se.R}else{K>-Fe?(Y=se.P,Z=se):fe>-Fe?(Y=se,Z=se.N):Y=Z=se;break}var ce=zd(R);if(Oo.insert(Y,ce),!(!Y&&!Z)){if(Y===Z){qf(Y),Z=zd(Y.site),Oo.insert(ce,Z),ce.edge=Z.edge=gc(Y.site,ce.site),Jo(Y),Jo(Z);return}if(!Z){ce.edge=gc(Y.site,ce.site);return}qf(Y),qf(Z);var ge=Y.site,ye=ge.x,ke=ge.y,Re=R.x-ye,Qe=R.y-ke,sr=Z.site,Pe=sr.x-ye,Ye=sr.y-ke,$e=2*(Re*Ye-Qe*Pe),lr=Re*Re+Qe*Qe,fr=Pe*Pe+Ye*Ye,Ze={x:(Ye*lr-Qe*fr)/$e+ye,y:(Re*fr-Pe*lr)/$e+ke};zf(Z.edge,ge,sr,Ze),ce.edge=gc(ge,R,null,Ze),Z.edge=gc(R,sr,null,Ze),Jo(Y),Jo(Z)}}function Ud(R,N){var U=R.site,Y=U.x,Z=U.y,K=Z-N;if(!K)return Y;var fe=R.P;if(!fe)return-1/0;U=fe.site;var se=U.x,ce=U.y,ge=ce-N;if(!ge)return se;var ye=se-Y,ke=1/K-1/ge,Re=ye/ge;return ke?(-Re+Math.sqrt(Re*Re-2*ke*(ye*ye/(-2*ge)-ce+ge/2+Z-K/2)))/ke+Y:(Y+se)/2}function Ay(R,N){var U=R.N;if(U)return Ud(U,N);var Y=R.site;return Y.y===N?Y.x:1/0}function Gd(R){this.site=R,this.edges=[]}Gd.prototype.prepare=function(){for(var R=this.edges,N=R.length,U;N--;)U=R[N].edge,(!U.b||!U.a)&&R.splice(N,1);return R.sort(ah),R.length};function Bf(R){for(var N=R[0][0],U=R[1][0],Y=R[0][1],Z=R[1][1],K,fe,se,ce,ge=Ls,ye=ge.length,ke,Re,Qe,sr,Pe,Ye;ye--;)if(ke=ge[ye],!(!ke||!ke.prepare()))for(Qe=ke.edges,sr=Qe.length,Re=0;Re<sr;)Ye=Qe[Re].end(),se=Ye.x,ce=Ye.y,Pe=Qe[++Re%sr].start(),K=Pe.x,fe=Pe.y,(y(se-K)>Fe||y(ce-fe)>Fe)&&(Qe.splice(Re,0,new ih(I_(ke.site,Ye,y(se-N)<Fe&&Z-ce>Fe?{x:N,y:y(K-N)<Fe?fe:Z}:y(ce-Z)<Fe&&U-se>Fe?{x:y(fe-Z)<Fe?K:U,y:Z}:y(se-U)<Fe&&ce-Y>Fe?{x:U,y:y(K-U)<Fe?fe:Y}:y(ce-Y)<Fe&&se-N>Fe?{x:y(fe-Y)<Fe?K:N,y:Y}:null),ke.site,null)),++sr)}function ah(R,N){return N.angle-R.angle}function Hd(){mc(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jo(R){var N=R.P,U=R.N;if(!(!N||!U)){var Y=N.site,Z=R.site,K=U.site;if(Y!==K){var fe=Z.x,se=Z.y,ce=Y.x-fe,ge=Y.y-se,ye=K.x-fe,Ye=K.y-se,ke=2*(ce*Ye-ge*ye);if(!(ke>=-ur)){var Re=ce*ce+ge*ge,Qe=ye*ye+Ye*Ye,sr=(Ye*Re-ge*Qe)/ke,Pe=(ce*Qe-ye*Re)/ke,Ye=Pe+se,$e=th.pop()||new Hd;$e.arc=R,$e.site=Z,$e.x=sr+fe,$e.y=Ye+Math.sqrt(sr*sr+Pe*Pe),$e.cy=Ye,R.circle=$e;for(var lr=null,fr=Vl._;fr;)if($e.y<fr.y||$e.y===fr.y&&$e.x<=fr.x)if(fr.L)fr=fr.L;else{lr=fr.P;break}else if(fr.R)fr=fr.R;else{lr=fr;break}Vl.insert(lr,$e),lr||(pc=$e)}}}}function qf(R){var N=R.circle;N&&(N.P||(pc=N.N),Vl.remove(N),th.push(N),mc(N),R.circle=null)}function D_(R,N,U,Y){return function(Z){var K=Z.a,fe=Z.b,se=K.x,ce=K.y,ge=fe.x,ye=fe.y,ke=0,Re=1,Qe=ge-se,sr=ye-ce,Pe;if(Pe=R-se,!(!Qe&&Pe>0)){if(Pe/=Qe,Qe<0){if(Pe<ke)return;Pe<Re&&(Re=Pe)}else if(Qe>0){if(Pe>Re)return;Pe>ke&&(ke=Pe)}if(Pe=U-se,!(!Qe&&Pe<0)){if(Pe/=Qe,Qe<0){if(Pe>Re)return;Pe>ke&&(ke=Pe)}else if(Qe>0){if(Pe<ke)return;Pe<Re&&(Re=Pe)}if(Pe=N-ce,!(!sr&&Pe>0)){if(Pe/=sr,sr<0){if(Pe<ke)return;Pe<Re&&(Re=Pe)}else if(sr>0){if(Pe>Re)return;Pe>ke&&(ke=Pe)}if(Pe=Y-ce,!(!sr&&Pe<0)){if(Pe/=sr,sr<0){if(Pe>Re)return;Pe>ke&&(ke=Pe)}else if(sr>0){if(Pe<ke)return;Pe<Re&&(Re=Pe)}return ke>0&&(Z.a={x:se+ke*Qe,y:ce+ke*sr}),Re<1&&(Z.b={x:se+Re*Qe,y:ce+Re*sr}),Z}}}}}}function F_(R){for(var N=sl,U=D_(R[0][0],R[0][1],R[1][0],R[1][1]),Y=N.length,Z;Y--;)Z=N[Y],(!Vd(Z,R)||!U(Z)||y(Z.a.x-Z.b.x)<Fe&&y(Z.a.y-Z.b.y)<Fe)&&(Z.a=Z.b=null,N.splice(Y,1))}function Vd(R,N){var U=R.b;if(U)return!0;var Y=R.a,Z=N[0][0],K=N[1][0],fe=N[0][1],se=N[1][1],ce=R.l,ge=R.r,ye=ce.x,ke=ce.y,Re=ge.x,Qe=ge.y,sr=(ye+Re)/2,Pe=(ke+Qe)/2,Ye,$e;if(Qe===ke){if(sr<Z||sr>=K)return;if(ye>Re){if(!Y)Y={x:sr,y:fe};else if(Y.y>=se)return;U={x:sr,y:se}}else{if(!Y)Y={x:sr,y:se};else if(Y.y<fe)return;U={x:sr,y:fe}}}else if(Ye=(ye-Re)/(Qe-ke),$e=Pe-Ye*sr,Ye<-1||Ye>1)if(ye>Re){if(!Y)Y={x:(fe-$e)/Ye,y:fe};else if(Y.y>=se)return;U={x:(se-$e)/Ye,y:se}}else{if(!Y)Y={x:(se-$e)/Ye,y:se};else if(Y.y<fe)return;U={x:(fe-$e)/Ye,y:fe}}else if(ke<Qe){if(!Y)Y={x:Z,y:Ye*Z+$e};else if(Y.x>=K)return;U={x:K,y:Ye*K+$e}}else{if(!Y)Y={x:K,y:Ye*K+$e};else if(Y.x<Z)return;U={x:Z,y:Ye*Z+$e}}return R.a=Y,R.b=U,!0}function Ty(R,N){this.l=R,this.r=N,this.a=this.b=null}function gc(R,N,U,Y){var Z=new Ty(R,N);return sl.push(Z),U&&zf(Z,R,N,U),Y&&zf(Z,N,R,Y),Ls[R.i].edges.push(new ih(Z,R,N)),Ls[N.i].edges.push(new ih(Z,N,R)),Z}function I_(R,N,U){var Y=new Ty(R,null);return Y.a=N,Y.b=U,sl.push(Y),Y}function zf(R,N,U,Y){!R.a&&!R.b?(R.a=Y,R.l=N,R.r=U):R.l===U?R.b=Y:R.a=Y}function ih(R,N,U){var Y=R.a,Z=R.b;this.edge=R,this.site=N,this.angle=U?Math.atan2(U.y-N.y,U.x-N.x):R.l===N?Math.atan2(Z.x-Y.x,Y.y-Z.y):Math.atan2(Y.x-Z.x,Z.y-Y.y)}ih.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function yc(){this._=null}function mc(R){R.U=R.C=R.L=R.R=R.P=R.N=null}yc.prototype={insert:function(R,N){var U,Y,Z;if(R){if(N.P=R,N.N=R.N,R.N&&(R.N.P=N),R.N=N,R.R){for(R=R.R;R.L;)R=R.L;R.L=N}else R.R=N;U=R}else this._?(R=My(this._),N.P=null,N.N=R,R.P=R.L=N,U=R):(N.P=N.N=null,this._=N,U=null);for(N.L=N.R=null,N.U=U,N.C=!0,R=N;U&&U.C;)Y=U.U,U===Y.L?(Z=Y.R,Z&&Z.C?(U.C=Z.C=!1,Y.C=!0,R=Y):(R===U.R&&(Uf(this,U),R=U,U=R.U),U.C=!1,Y.C=!0,Yl(this,Y))):(Z=Y.L,Z&&Z.C?(U.C=Z.C=!1,Y.C=!0,R=Y):(R===U.L&&(Yl(this,U),R=U,U=R.U),U.C=!1,Y.C=!0,Uf(this,Y))),U=R.U;this._.C=!1},remove:function(R){R.N&&(R.N.P=R.P),R.P&&(R.P.N=R.N),R.N=R.P=null;var N=R.U,U,Y=R.L,Z=R.R,K,fe;if(Y?Z?K=My(Z):K=Y:K=Z,N?N.L===R?N.L=K:N.R=K:this._=K,Y&&Z?(fe=K.C,K.C=R.C,K.L=Y,Y.U=K,K!==Z?(N=K.U,K.U=R.U,R=K.R,N.L=R,K.R=Z,Z.U=K):(K.U=N,N=K,R=K.R)):(fe=R.C,R=K),R&&(R.U=N),!fe){if(R&&R.C){R.C=!1;return}do{if(R===this._)break;if(R===N.L){if(U=N.R,U.C&&(U.C=!1,N.C=!0,Uf(this,N),U=N.R),U.L&&U.L.C||U.R&&U.R.C){(!U.R||!U.R.C)&&(U.L.C=!1,U.C=!0,Yl(this,U),U=N.R),U.C=N.C,N.C=U.R.C=!1,Uf(this,N),R=this._;break}}else if(U=N.L,U.C&&(U.C=!1,N.C=!0,Yl(this,N),U=N.L),U.L&&U.L.C||U.R&&U.R.C){(!U.L||!U.L.C)&&(U.R.C=!1,U.C=!0,Uf(this,U),U=N.L),U.C=N.C,N.C=U.L.C=!1,Yl(this,N),R=this._;break}U.C=!0,R=N,N=N.U}while(!R.C);R&&(R.C=!1)}}};function Uf(R,N){var U=N,Y=N.R,Z=U.U;Z?Z.L===U?Z.L=Y:Z.R=Y:R._=Y,Y.U=Z,U.U=Y,U.R=Y.L,U.R&&(U.R.U=U),Y.L=U}function Yl(R,N){var U=N,Y=N.L,Z=U.U;Z?Z.L===U?Z.L=Y:Z.R=Y:R._=Y,Y.U=Z,U.U=Y,U.L=Y.R,U.L&&(U.L.U=U),Y.R=U}function My(R){for(;R.L;)R=R.L;return R}function Gf(R,N){var U=R.sort(P_).pop(),Y,Z,K;for(sl=[],Ls=new Array(R.length),Oo=new yc,Vl=new yc;;)if(K=pc,U&&(!K||U.y<K.y||U.y===K.y&&U.x<K.x))(U.x!==Y||U.y!==Z)&&(Ls[U.i]=new Gd(U),wy(U),Y=U.x,Z=U.y),U=R.pop();else if(K)_y(K.arc);else break;N&&(F_(N),Bf(N));var fe={cells:Ls,edges:sl};return Oo=Vl=sl=Ls=null,fe}function P_(R,N){return N.y-R.y||N.x-R.x}e.geom.voronoi=function(R){var N=ol,U=Nf,Y=N,Z=U,K=oh;if(R)return fe(R);function fe(ce){var ge=new Array(ce.length),ye=K[0][0],ke=K[0][1],Re=K[1][0],Qe=K[1][1];return Gf(se(ce),K).cells.forEach(function(sr,Pe){var Ye=sr.edges,$e=sr.site,lr=ge[Pe]=Ye.length?Ye.map(function(fr){var Ze=fr.start();return[Ze.x,Ze.y]}):$e.x>=ye&&$e.x<=Re&&$e.y>=ke&&$e.y<=Qe?[[ye,Qe],[Re,Qe],[Re,ke],[ye,ke]]:[];lr.point=ce[Pe]}),ge}function se(ce){return ce.map(function(ge,ye){return{x:Math.round(Y(ge,ye)/Fe)*Fe,y:Math.round(Z(ge,ye)/Fe)*Fe,i:ye}})}return fe.links=function(ce){return Gf(se(ce)).edges.filter(function(ge){return ge.l&&ge.r}).map(function(ge){return{source:ce[ge.l.i],target:ce[ge.r.i]}})},fe.triangles=function(ce){var ge=[];return Gf(se(ce)).cells.forEach(function(ye,ke){for(var Re=ye.site,Qe=ye.edges.sort(ah),sr=-1,Pe=Qe.length,Ye,$e,lr=Qe[Pe-1].edge,fr=lr.l===Re?lr.r:lr.l;++sr<Pe;)Ye=lr,$e=fr,lr=Qe[sr].edge,fr=lr.l===Re?lr.r:lr.l,ke<$e.i&&ke<fr.i&&O_(Re,$e,fr)<0&&ge.push([ce[ke],ce[$e.i],ce[fr.i]])}),ge},fe.x=function(ce){return arguments.length?(Y=on(N=ce),fe):N},fe.y=function(ce){return arguments.length?(Z=on(U=ce),fe):U},fe.clipExtent=function(ce){return arguments.length?(K=ce==null?oh:ce,fe):K===oh?null:K},fe.size=function(ce){return arguments.length?fe.clipExtent(ce&&[[0,0],ce]):K===oh?null:K&&K[1]},fe};var oh=[[-1e6,-1e6],[1e6,1e6]];function O_(R,N,U){return(R.x-U.x)*(N.y-R.y)-(R.x-N.x)*(U.y-R.y)}e.geom.delaunay=function(R){return e.geom.voronoi().triangles(R)},e.geom.quadtree=function(R,N,U,Y,Z){var K=ol,fe=Nf,se;if(se=arguments.length)return K=N_,fe=B_,se===3&&(Z=U,Y=N,U=N=0),ce(R);function ce(ge){var ye,ke=on(K),Re=on(fe),Qe,sr,Pe,Ye,$e,lr,fr,Ze;if(N!=null)$e=N,lr=U,fr=Y,Ze=Z;else if(fr=Ze=-($e=lr=1/0),Qe=[],sr=[],Ye=ge.length,se)for(Pe=0;Pe<Ye;++Pe)ye=ge[Pe],ye.x<$e&&($e=ye.x),ye.y<lr&&(lr=ye.y),ye.x>fr&&(fr=ye.x),ye.y>Ze&&(Ze=ye.y),Qe.push(ye.x),sr.push(ye.y);else for(Pe=0;Pe<Ye;++Pe){var Rr=+ke(ye=ge[Pe],Pe),qr=+Re(ye,Pe);Rr<$e&&($e=Rr),qr<lr&&(lr=qr),Rr>fr&&(fr=Rr),qr>Ze&&(Ze=qr),Qe.push(Rr),sr.push(qr)}var Zr=fr-$e,rt=Ze-lr;Zr>rt?Ze=lr+Zr:fr=$e+rt;function ht(xt,qt,Sn,pa,Pn,$r,Vt,en){if(!(isNaN(Sn)||isNaN(pa)))if(xt.leaf){var wn=xt.x,ea=xt.y;if(wn!=null)if(y(wn-Sn)+y(ea-pa)<.01)vt(xt,qt,Sn,pa,Pn,$r,Vt,en);else{var Ta=xt.point;xt.x=xt.y=xt.point=null,vt(xt,Ta,wn,ea,Pn,$r,Vt,en),vt(xt,qt,Sn,pa,Pn,$r,Vt,en)}else xt.x=Sn,xt.y=pa,xt.point=qt}else vt(xt,qt,Sn,pa,Pn,$r,Vt,en)}function vt(xt,qt,Sn,pa,Pn,$r,Vt,en){var wn=(Pn+Vt)*.5,ea=($r+en)*.5,Ta=Sn>=wn,Qa=pa>=ea,si=Qa<<1|Ta;xt.leaf=!1,xt=xt.nodes[si]||(xt.nodes[si]=Ey()),Ta?Pn=wn:Vt=wn,Qa?$r=ea:en=ea,ht(xt,qt,Sn,pa,Pn,$r,Vt,en)}var Ht=Ey();if(Ht.add=function(xt){ht(Ht,xt,+ke(xt,++Pe),+Re(xt,Pe),$e,lr,fr,Ze)},Ht.visit=function(xt){xc(xt,Ht,$e,lr,fr,Ze)},Ht.find=function(xt){return Sy(Ht,xt[0],xt[1],$e,lr,fr,Ze)},Pe=-1,N==null){for(;++Pe<Ye;)ht(Ht,ge[Pe],Qe[Pe],sr[Pe],$e,lr,fr,Ze);--Pe}else ge.forEach(Ht.add);return Qe=sr=ge=ye=null,Ht}return ce.x=function(ge){return arguments.length?(K=ge,ce):K},ce.y=function(ge){return arguments.length?(fe=ge,ce):fe},ce.extent=function(ge){return arguments.length?(ge==null?N=U=Y=Z=null:(N=+ge[0][0],U=+ge[0][1],Y=+ge[1][0],Z=+ge[1][1]),ce):N==null?null:[[N,U],[Y,Z]]},ce.size=function(ge){return arguments.length?(ge==null?N=U=Y=Z=null:(N=U=0,Y=+ge[0],Z=+ge[1]),ce):N==null?null:[Y-N,Z-U]},ce};function N_(R){return R.x}function B_(R){return R.y}function Ey(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function xc(R,N,U,Y,Z,K){if(!R(N,U,Y,Z,K)){var fe=(U+Z)*.5,se=(Y+K)*.5,ce=N.nodes;ce[0]&&xc(R,ce[0],U,Y,fe,se),ce[1]&&xc(R,ce[1],fe,Y,Z,se),ce[2]&&xc(R,ce[2],U,se,fe,K),ce[3]&&xc(R,ce[3],fe,se,Z,K)}}function Sy(R,N,U,Y,Z,K,fe){var se=1/0,ce;return function ge(ye,ke,Re,Qe,sr){if(!(ke>K||Re>fe||Qe<Y||sr<Z)){if(Pe=ye.point){var Pe,Ye=N-ye.x,$e=U-ye.y,lr=Ye*Ye+$e*$e;if(lr<se){var fr=Math.sqrt(se=lr);Y=N-fr,Z=U-fr,K=N+fr,fe=U+fr,ce=Pe}}for(var Ze=ye.nodes,Rr=(ke+Qe)*.5,qr=(Re+sr)*.5,Zr=N>=Rr,rt=U>=qr,ht=rt<<1|Zr,vt=ht+4;ht<vt;++ht)if(ye=Ze[ht&3])switch(ht&3){case 0:ge(ye,ke,Re,Rr,qr);break;case 1:ge(ye,Rr,Re,Qe,qr);break;case 2:ge(ye,ke,qr,Rr,sr);break;case 3:ge(ye,Rr,qr,Qe,sr);break}}}(R,Y,Z,K,fe),ce}e.interpolateRgb=Wl;function Wl(R,N){R=e.rgb(R),N=e.rgb(N);var U=R.r,Y=R.g,Z=R.b,K=N.r-U,fe=N.g-Y,se=N.b-Z;return function(ce){return"#"+St(Math.round(U+K*ce))+St(Math.round(Y+fe*ce))+St(Math.round(Z+se*ce))}}e.interpolateObject=Cy;function Cy(R,N){var U={},Y={},Z;for(Z in R)Z in N?U[Z]=fl(R[Z],N[Z]):Y[Z]=R[Z];for(Z in N)Z in R||(Y[Z]=N[Z]);return function(K){for(Z in U)Y[Z]=U[Z](K);return Y}}e.interpolateNumber=fo;function fo(R,N){return R=+R,N=+N,function(U){return R*(1-U)+N*U}}e.interpolateString=uo;function uo(R,N){var U=ll.lastIndex=sh.lastIndex=0,Y,Z,K,fe=-1,se=[],ce=[];for(R=R+"",N=N+"";(Y=ll.exec(R))&&(Z=sh.exec(N));)(K=Z.index)>U&&(K=N.slice(U,K),se[fe]?se[fe]+=K:se[++fe]=K),(Y=Y[0])===(Z=Z[0])?se[fe]?se[fe]+=Z:se[++fe]=Z:(se[++fe]=null,ce.push({i:fe,x:fo(Y,Z)})),U=sh.lastIndex;return U<N.length&&(K=N.slice(U),se[fe]?se[fe]+=K:se[++fe]=K),se.length<2?ce[0]?(N=ce[0].x,function(ge){return N(ge)+""}):function(){return N}:(N=ce.length,function(ge){for(var ye=0,ke;ye<N;++ye)se[(ke=ce[ye]).i]=ke.x(ge);return se.join("")})}var ll=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sh=new RegExp(ll.source,"g");e.interpolate=fl;function fl(R,N){for(var U=e.interpolators.length,Y;--U>=0&&!(Y=e.interpolators[U](R,N)););return Y}e.interpolators=[function(R,N){var U=typeof N;return(U==="string"?Ya.has(N.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(N)?Wl:uo:N instanceof Un?Wl:Array.isArray(N)?bc:U==="object"&&isNaN(N)?Cy:fo)(R,N)}],e.interpolateArray=bc;function bc(R,N){var U=[],Y=[],Z=R.length,K=N.length,fe=Math.min(R.length,N.length),se;for(se=0;se<fe;++se)U.push(fl(R[se],N[se]));for(;se<Z;++se)Y[se]=R[se];for(;se<K;++se)Y[se]=N[se];return function(ce){for(se=0;se<fe;++se)Y[se]=U[se](ce);return Y}}var Yd=function(){return P},ky=e.map({linear:Yd,poly:Fy,quad:function(){return Ry},cubic:function(){return Dy},sin:function(){return Iy},exp:function(){return z_},circle:function(){return U_},elastic:G_,back:H_,bounce:function(){return Wd}}),Ly=e.map({in:P,out:Xl,"in-out":Wa,"out-in":function(R){return Wa(Xl(R))}});e.ease=function(R){var N=R.indexOf("-"),U=N>=0?R.slice(0,N):R,Y=N>=0?R.slice(N+1):"in";return U=ky.get(U)||Yd,Y=Ly.get(Y)||P,q_(Y(U.apply(null,r.call(arguments,1))))};function q_(R){return function(N){return N<=0?0:N>=1?1:R(N)}}function Xl(R){return function(N){return 1-R(1-N)}}function Wa(R){return function(N){return .5*(N<.5?R(2*N):2-R(2-2*N))}}function Ry(R){return R*R}function Dy(R){return R*R*R}function Zl(R){if(R<=0)return 0;if(R>=1)return 1;var N=R*R,U=N*R;return 4*(R<.5?U:3*(R-N)+U-.75)}function Fy(R){return function(N){return Math.pow(N,R)}}function Iy(R){return 1-Math.cos(R*Q)}function z_(R){return Math.pow(2,10*(R-1))}function U_(R){return 1-Math.sqrt(1-R*R)}function G_(R,N){var U;return arguments.length<2&&(N=.45),arguments.length?U=N/Er*Math.asin(1/R):(R=1,U=N/4),function(Y){return 1+R*Math.pow(2,-10*Y)*Math.sin((Y-U)*Er/N)}}function H_(R){return R||(R=1.70158),function(N){return N*N*((R+1)*N-R)}}function Wd(R){return R<1/2.75?7.5625*R*R:R<2/2.75?7.5625*(R-=1.5/2.75)*R+.75:R<2.5/2.75?7.5625*(R-=2.25/2.75)*R+.9375:7.5625*(R-=2.625/2.75)*R+.984375}e.interpolateHcl=Py;function Py(R,N){R=e.hcl(R),N=e.hcl(N);var U=R.h,Y=R.c,Z=R.l,K=N.h-U,fe=N.c-Y,se=N.l-Z;return isNaN(fe)&&(fe=0,Y=isNaN(Y)?N.c:Y),isNaN(K)?(K=0,U=isNaN(U)?N.h:U):K>180?K-=360:K<-180&&(K+=360),function(ce){return va(U+K*ce,Y+fe*ce,Z+se*ce)+""}}e.interpolateHsl=V_;function V_(R,N){R=e.hsl(R),N=e.hsl(N);var U=R.h,Y=R.s,Z=R.l,K=N.h-U,fe=N.s-Y,se=N.l-Z;return isNaN(fe)&&(fe=0,Y=isNaN(Y)?N.s:Y),isNaN(K)?(K=0,U=isNaN(U)?N.h:U):K>180?K-=360:K<-180&&(K+=360),function(ce){return Gn(U+K*ce,Y+fe*ce,Z+se*ce)+""}}e.interpolateLab=Oy;function Oy(R,N){R=e.lab(R),N=e.lab(N);var U=R.l,Y=R.a,Z=R.b,K=N.l-U,fe=N.a-Y,se=N.b-Z;return function(ce){return lo(U+K*ce,Y+fe*ce,Z+se*ce)+""}}e.interpolateRound=Xd;function Xd(R,N){return N-=R,function(U){return Math.round(R+N*U)}}e.transform=function(R){var N=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(U){if(U!=null){N.setAttribute("transform",U);var Y=N.transform.baseVal.consolidate()}return new Ny(Y?Y.matrix:lh)})(R)};function Ny(R){var N=[R.a,R.b],U=[R.c,R.d],Y=By(N),Z=_c(N,U),K=By(ul(U,N,-Z))||0;N[0]*U[1]<U[0]*N[1]&&(N[0]*=-1,N[1]*=-1,Y*=-1,Z*=-1),this.rotate=(Y?Math.atan2(N[1],N[0]):Math.atan2(-U[0],U[1]))*Ee,this.translate=[R.e,R.f],this.scale=[Y,K],this.skew=K?Math.atan2(Z,K)*Ee:0}Ny.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function _c(R,N){return R[0]*N[0]+R[1]*N[1]}function By(R){var N=Math.sqrt(_c(R,R));return N&&(R[0]/=N,R[1]/=N),N}function ul(R,N,U){return R[0]+=U*N[0],R[1]+=U*N[1],R}var lh={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=Zd;function jl(R){return R.length?R.pop()+",":""}function qy(R,N,U,Y){if(R[0]!==N[0]||R[1]!==N[1]){var Z=U.push("translate(",null,",",null,")");Y.push({i:Z-4,x:fo(R[0],N[0])},{i:Z-2,x:fo(R[1],N[1])})}else(N[0]||N[1])&&U.push("translate("+N+")")}function zy(R,N,U,Y){R!==N?(R-N>180?N+=360:N-R>180&&(R+=360),Y.push({i:U.push(jl(U)+"rotate(",null,")")-2,x:fo(R,N)})):N&&U.push(jl(U)+"rotate("+N+")")}function Uy(R,N,U,Y){R!==N?Y.push({i:U.push(jl(U)+"skewX(",null,")")-2,x:fo(R,N)}):N&&U.push(jl(U)+"skewX("+N+")")}function Gy(R,N,U,Y){if(R[0]!==N[0]||R[1]!==N[1]){var Z=U.push(jl(U)+"scale(",null,",",null,")");Y.push({i:Z-4,x:fo(R[0],N[0])},{i:Z-2,x:fo(R[1],N[1])})}else(N[0]!==1||N[1]!==1)&&U.push(jl(U)+"scale("+N+")")}function Zd(R,N){var U=[],Y=[];return R=e.transform(R),N=e.transform(N),qy(R.translate,N.translate,U,Y),zy(R.rotate,N.rotate,U,Y),Uy(R.skew,N.skew,U,Y),Gy(R.scale,N.scale,U,Y),R=N=null,function(Z){for(var K=-1,fe=Y.length,se;++K<fe;)U[(se=Y[K]).i]=se.x(Z);return U.join("")}}function Hy(R,N){return N=(N-=R=+R)||1/N,function(U){return(U-R)/N}}function Vy(R,N){return N=(N-=R=+R)||1/N,function(U){return Math.max(0,Math.min(1,(U-R)/N))}}e.layout={},e.layout.bundle=function(){return function(R){for(var N=[],U=-1,Y=R.length;++U<Y;)N.push(Yy(R[U]));return N}};function Yy(R){for(var N=R.source,U=R.target,Y=Wy(N,U),Z=[N];N!==Y;)N=N.parent,Z.push(N);for(var K=Z.length;U!==Y;)Z.splice(K,0,U),U=U.parent;return Z}function co(R){for(var N=[],U=R.parent;U!=null;)N.push(R),R=U,U=U.parent;return N.push(R),N}function Wy(R,N){if(R===N)return R;for(var U=co(R),Y=co(N),Z=U.pop(),K=Y.pop(),fe=null;Z===K;)fe=Z,Z=U.pop(),K=Y.pop();return fe}e.layout.chord=function(){var R={},N,U,Y,Z,K=0,fe,se,ce;function ge(){var ke={},Re=[],Qe=e.range(Z),sr=[],Pe,Ye,$e,lr,fr;for(N=[],U=[],Pe=0,lr=-1;++lr<Z;){for(Ye=0,fr=-1;++fr<Z;)Ye+=Y[lr][fr];Re.push(Ye),sr.push(e.range(Z)),Pe+=Ye}for(fe&&Qe.sort(function(Ht,xt){return fe(Re[Ht],Re[xt])}),se&&sr.forEach(function(Ht,xt){Ht.sort(function(qt,Sn){return se(Y[xt][qt],Y[xt][Sn])})}),Pe=(Er-K*Z)/Pe,Ye=0,lr=-1;++lr<Z;){for($e=Ye,fr=-1;++fr<Z;){var Ze=Qe[lr],Rr=sr[Ze][fr],qr=Y[Ze][Rr],Zr=Ye,rt=Ye+=qr*Pe;ke[Ze+"-"+Rr]={index:Ze,subindex:Rr,startAngle:Zr,endAngle:rt,value:qr}}U[Ze]={index:Ze,startAngle:$e,endAngle:Ye,value:Re[Ze]},Ye+=K}for(lr=-1;++lr<Z;)for(fr=lr-1;++fr<Z;){var ht=ke[lr+"-"+fr],vt=ke[fr+"-"+lr];(ht.value||vt.value)&&N.push(ht.value<vt.value?{source:vt,target:ht}:{source:ht,target:vt})}ce&&ye()}function ye(){N.sort(function(ke,Re){return ce((ke.source.value+ke.target.value)/2,(Re.source.value+Re.target.value)/2)})}return R.matrix=function(ke){return arguments.length?(Z=(Y=ke)&&Y.length,N=U=null,R):Y},R.padding=function(ke){return arguments.length?(K=ke,N=U=null,R):K},R.sortGroups=function(ke){return arguments.length?(fe=ke,N=U=null,R):fe},R.sortSubgroups=function(ke){return arguments.length?(se=ke,N=null,R):se},R.sortChords=function(ke){return arguments.length?(ce=ke,N&&ye(),R):ce},R.chords=function(){return N||ge(),N},R.groups=function(){return U||ge(),U},R},e.layout.force=function(){var R={},N=e.dispatch("start","tick","end"),U,Y=[1,1],Z,K,fe=.9,se=Xy,ce=Zy,ge=-30,ye=jy,ke=.1,Re=.64,Qe=[],sr=[],Pe,Ye,$e;function lr(Ze){return function(Rr,qr,Zr,rt){if(Rr.point!==Ze){var ht=Rr.cx-Ze.x,vt=Rr.cy-Ze.y,Ht=rt-qr,xt=ht*ht+vt*vt;if(Ht*Ht/Re<xt){if(xt<ye){var qt=Rr.charge/xt;Ze.px-=ht*qt,Ze.py-=vt*qt}return!0}if(Rr.point&&xt&&xt<ye){var qt=Rr.pointCharge/xt;Ze.px-=ht*qt,Ze.py-=vt*qt}}return!Rr.charge}}R.tick=function(){if((K*=.99)<.005)return U=null,N.end({type:"end",alpha:K=0}),!0;var Ze=Qe.length,Rr=sr.length,qr,Zr,rt,ht,vt,Ht,xt,qt,Sn;for(Zr=0;Zr<Rr;++Zr)rt=sr[Zr],ht=rt.source,vt=rt.target,qt=vt.x-ht.x,Sn=vt.y-ht.y,(Ht=qt*qt+Sn*Sn)&&(Ht=K*Ye[Zr]*((Ht=Math.sqrt(Ht))-Pe[Zr])/Ht,qt*=Ht,Sn*=Ht,vt.x-=qt*(xt=ht.weight+vt.weight?ht.weight/(ht.weight+vt.weight):.5),vt.y-=Sn*xt,ht.x+=qt*(xt=1-xt),ht.y+=Sn*xt);if((xt=K*ke)&&(qt=Y[0]/2,Sn=Y[1]/2,Zr=-1,xt))for(;++Zr<Ze;)rt=Qe[Zr],rt.x+=(qt-rt.x)*xt,rt.y+=(Sn-rt.y)*xt;if(ge)for(Jd(qr=e.geom.quadtree(Qe),K,$e),Zr=-1;++Zr<Ze;)(rt=Qe[Zr]).fixed||qr.visit(lr(rt));for(Zr=-1;++Zr<Ze;)rt=Qe[Zr],rt.fixed?(rt.x=rt.px,rt.y=rt.py):(rt.x-=(rt.px-(rt.px=rt.x))*fe,rt.y-=(rt.py-(rt.py=rt.y))*fe);N.tick({type:"tick",alpha:K})},R.nodes=function(Ze){return arguments.length?(Qe=Ze,R):Qe},R.links=function(Ze){return arguments.length?(sr=Ze,R):sr},R.size=function(Ze){return arguments.length?(Y=Ze,R):Y},R.linkDistance=function(Ze){return arguments.length?(se=typeof Ze=="function"?Ze:+Ze,R):se},R.distance=R.linkDistance,R.linkStrength=function(Ze){return arguments.length?(ce=typeof Ze=="function"?Ze:+Ze,R):ce},R.friction=function(Ze){return arguments.length?(fe=+Ze,R):fe},R.charge=function(Ze){return arguments.length?(ge=typeof Ze=="function"?Ze:+Ze,R):ge},R.chargeDistance=function(Ze){return arguments.length?(ye=Ze*Ze,R):Math.sqrt(ye)},R.gravity=function(Ze){return arguments.length?(ke=+Ze,R):ke},R.theta=function(Ze){return arguments.length?(Re=Ze*Ze,R):Math.sqrt(Re)},R.alpha=function(Ze){return arguments.length?(Ze=+Ze,K?Ze>0?K=Ze:(U.c=null,U.t=NaN,U=null,N.end({type:"end",alpha:K=0})):Ze>0&&(N.start({type:"start",alpha:K=Ze}),U=Gl(R.tick)),R):K},R.start=function(){var Ze,Rr=Qe.length,qr=sr.length,Zr=Y[0],rt=Y[1],ht,vt;for(Ze=0;Ze<Rr;++Ze)(vt=Qe[Ze]).index=Ze,vt.weight=0;for(Ze=0;Ze<qr;++Ze)vt=sr[Ze],typeof vt.source=="number"&&(vt.source=Qe[vt.source]),typeof vt.target=="number"&&(vt.target=Qe[vt.target]),++vt.source.weight,++vt.target.weight;for(Ze=0;Ze<Rr;++Ze)vt=Qe[Ze],isNaN(vt.x)&&(vt.x=Ht("x",Zr)),isNaN(vt.y)&&(vt.y=Ht("y",rt)),isNaN(vt.px)&&(vt.px=vt.x),isNaN(vt.py)&&(vt.py=vt.y);if(Pe=[],typeof se=="function")for(Ze=0;Ze<qr;++Ze)Pe[Ze]=+se.call(this,sr[Ze],Ze);else for(Ze=0;Ze<qr;++Ze)Pe[Ze]=se;if(Ye=[],typeof ce=="function")for(Ze=0;Ze<qr;++Ze)Ye[Ze]=+ce.call(this,sr[Ze],Ze);else for(Ze=0;Ze<qr;++Ze)Ye[Ze]=ce;if($e=[],typeof ge=="function")for(Ze=0;Ze<Rr;++Ze)$e[Ze]=+ge.call(this,Qe[Ze],Ze);else for(Ze=0;Ze<Rr;++Ze)$e[Ze]=ge;function Ht(xt,qt){if(!ht){for(ht=new Array(Rr),Pn=0;Pn<Rr;++Pn)ht[Pn]=[];for(Pn=0;Pn<qr;++Pn){var Sn=sr[Pn];ht[Sn.source.index].push(Sn.target),ht[Sn.target.index].push(Sn.source)}}for(var pa=ht[Ze],Pn=-1,$r=pa.length,Vt;++Pn<$r;)if(!isNaN(Vt=pa[Pn][xt]))return Vt;return Math.random()*qt}return R.resume()},R.resume=function(){return R.alpha(.1)},R.stop=function(){return R.alpha(0)},R.drag=function(){if(Z||(Z=e.behavior.drag().origin(P).on("dragstart.force",Y_).on("drag.force",fr).on("dragend.force",Rs)),!arguments.length)return Z;this.on("mouseover.force",jd).on("mouseout.force",Hf).call(Z)};function fr(Ze){Ze.px=e.event.x,Ze.py=e.event.y,R.resume()}return e.rebind(R,N,"on")};function Y_(R){R.fixed|=2}function Rs(R){R.fixed&=-7}function jd(R){R.fixed|=4,R.px=R.x,R.py=R.y}function Hf(R){R.fixed&=-5}function Jd(R,N,U){var Y=0,Z=0;if(R.charge=0,!R.leaf)for(var K=R.nodes,fe=K.length,se=-1,ce;++se<fe;)ce=K[se],ce!=null&&(Jd(ce,N,U),R.charge+=ce.charge,Y+=ce.charge*ce.cx,Z+=ce.charge*ce.cy);if(R.point){R.leaf||(R.point.x+=Math.random()-.5,R.point.y+=Math.random()-.5);var ge=N*U[R.point.index];R.charge+=R.pointCharge=ge,Y+=ge*R.point.x,Z+=ge*R.point.y}R.cx=Y/R.charge,R.cy=Z/R.charge}var Xy=20,Zy=1,jy=1/0;e.layout.hierarchy=function(){var R=Z_,N=W_,U=X_;function Y(Z){var K=[Z],fe=[],se;for(Z.depth=0;(se=K.pop())!=null;)if(fe.push(se),(ge=N.call(Y,se,se.depth))&&(ce=ge.length)){for(var ce,ge,ye;--ce>=0;)K.push(ye=ge[ce]),ye.parent=se,ye.depth=se.depth+1;U&&(se.value=0),se.children=ge}else U&&(se.value=+U.call(Y,se,se.depth)||0),delete se.children;return $o(Z,function(ke){var Re,Qe;R&&(Re=ke.children)&&Re.sort(R),U&&(Qe=ke.parent)&&(Qe.value+=ke.value)}),fe}return Y.sort=function(Z){return arguments.length?(R=Z,Y):R},Y.children=function(Z){return arguments.length?(N=Z,Y):N},Y.value=function(Z){return arguments.length?(U=Z,Y):U},Y.revalue=function(Z){return U&&(wc(Z,function(K){K.children&&(K.value=0)}),$o(Z,function(K){var fe;K.children||(K.value=+U.call(Y,K,K.depth)||0),(fe=K.parent)&&(fe.value+=K.value)})),Z},Y};function Vf(R,N){return e.rebind(R,N,"sort","children","value"),R.nodes=R,R.links=j_,R}function wc(R,N){for(var U=[R];(R=U.pop())!=null;)if(N(R),(Z=R.children)&&(Y=Z.length))for(var Y,Z;--Y>=0;)U.push(Z[Y])}function $o(R,N){for(var U=[R],Y=[];(R=U.pop())!=null;)if(Y.push(R),(fe=R.children)&&(K=fe.length))for(var Z=-1,K,fe;++Z<K;)U.push(fe[Z]);for(;(R=Y.pop())!=null;)N(R)}function W_(R){return R.children}function X_(R){return R.value}function Z_(R,N){return N.value-R.value}function j_(R){return e.merge(R.map(function(N){return(N.children||[]).map(function(U){return{source:N,target:U}})}))}e.layout.partition=function(){var R=e.layout.hierarchy(),N=[1,1];function U(K,fe,se,ce){var ge=K.children;if(K.x=fe,K.y=K.depth*ce,K.dx=se,K.dy=ce,ge&&(ke=ge.length)){var ye=-1,ke,Re,Qe;for(se=K.value?se/K.value:0;++ye<ke;)U(Re=ge[ye],fe,Qe=Re.value*se,ce),fe+=Qe}}function Y(K){var fe=K.children,se=0;if(fe&&(ge=fe.length))for(var ce=-1,ge;++ce<ge;)se=Math.max(se,Y(fe[ce]));return 1+se}function Z(K,fe){var se=R.call(this,K,fe);return U(se[0],0,N[0],N[1]/Y(se[0])),se}return Z.size=function(K){return arguments.length?(N=K,Z):N},Vf(Z,R)},e.layout.pie=function(){var R=Number,N=fh,U=0,Y=Er,Z=0;function K(fe){var se=fe.length,ce=fe.map(function(lr,fr){return+R.call(K,lr,fr)}),ge=+(typeof U=="function"?U.apply(this,arguments):U),ye=(typeof Y=="function"?Y.apply(this,arguments):Y)-ge,ke=Math.min(Math.abs(ye)/se,+(typeof Z=="function"?Z.apply(this,arguments):Z)),Re=ke*(ye<0?-1:1),Qe=e.sum(ce),sr=Qe?(ye-se*Re)/Qe:0,Pe=e.range(se),Ye=[],$e;return N!=null&&Pe.sort(N===fh?function(lr,fr){return ce[fr]-ce[lr]}:function(lr,fr){return N(fe[lr],fe[fr])}),Pe.forEach(function(lr){Ye[lr]={data:fe[lr],value:$e=ce[lr],startAngle:ge,endAngle:ge+=$e*sr+Re,padAngle:ke}}),Ye}return K.value=function(fe){return arguments.length?(R=fe,K):R},K.sort=function(fe){return arguments.length?(N=fe,K):N},K.startAngle=function(fe){return arguments.length?(U=fe,K):U},K.endAngle=function(fe){return arguments.length?(Y=fe,K):Y},K.padAngle=function(fe){return arguments.length?(Z=fe,K):Z},K};var fh={};e.layout.stack=function(){var R=P,N=Ac,U=$d,Y=$_,Z=uh,K=J_;function fe(se,ce){if(!(sr=se.length))return se;var ge=se.map(function(lr,fr){return R.call(fe,lr,fr)}),ye=ge.map(function(lr){return lr.map(function(fr,Ze){return[Z.call(fe,fr,Ze),K.call(fe,fr,Ze)]})}),ke=N.call(fe,ye,ce);ge=e.permute(ge,ke),ye=e.permute(ye,ke);var Re=U.call(fe,ye,ce),Qe=ge[0].length,sr,Pe,Ye,$e;for(Ye=0;Ye<Qe;++Ye)for(Y.call(fe,ge[0][Ye],$e=Re[Ye],ye[0][Ye][1]),Pe=1;Pe<sr;++Pe)Y.call(fe,ge[Pe][Ye],$e+=ye[Pe-1][Ye][1],ye[Pe][Ye][1]);return se}return fe.values=function(se){return arguments.length?(R=se,fe):R},fe.order=function(se){return arguments.length?(N=typeof se=="function"?se:Jy.get(se)||Ac,fe):N},fe.offset=function(se){return arguments.length?(U=typeof se=="function"?se:ch.get(se)||$d,fe):U},fe.x=function(se){return arguments.length?(Z=se,fe):Z},fe.y=function(se){return arguments.length?(K=se,fe):K},fe.out=function(se){return arguments.length?(Y=se,fe):Y},fe};function uh(R){return R.x}function J_(R){return R.y}function $_(R,N,U){R.y0=N,R.y=U}var Jy=e.map({"inside-out":function(R){var N=R.length,U,Y,Z=R.map($y),K=R.map(K_),fe=e.range(N).sort(function(ke,Re){return Z[ke]-Z[Re]}),se=0,ce=0,ge=[],ye=[];for(U=0;U<N;++U)Y=fe[U],se<ce?(se+=K[Y],ge.push(Y)):(ce+=K[Y],ye.push(Y));return ye.reverse().concat(ge)},reverse:function(R){return e.range(R.length).reverse()},default:Ac}),ch=e.map({silhouette:function(R){var N=R.length,U=R[0].length,Y=[],Z=0,K,fe,se,ce=[];for(fe=0;fe<U;++fe){for(K=0,se=0;K<N;K++)se+=R[K][fe][1];se>Z&&(Z=se),Y.push(se)}for(fe=0;fe<U;++fe)ce[fe]=(Z-Y[fe])/2;return ce},wiggle:function(R){var N=R.length,U=R[0],Y=U.length,Z,K,fe,se,ce,ge,ye,ke,Re,Qe=[];for(Qe[0]=ke=Re=0,K=1;K<Y;++K){for(Z=0,se=0;Z<N;++Z)se+=R[Z][K][1];for(Z=0,ce=0,ye=U[K][0]-U[K-1][0];Z<N;++Z){for(fe=0,ge=(R[Z][K][1]-R[Z][K-1][1])/(2*ye);fe<Z;++fe)ge+=(R[fe][K][1]-R[fe][K-1][1])/ye;ce+=ge*R[Z][K][1]}Qe[K]=ke-=se?ce/se*ye:0,ke<Re&&(Re=ke)}for(K=0;K<Y;++K)Qe[K]-=Re;return Qe},expand:function(R){var N=R.length,U=R[0].length,Y=1/N,Z,K,fe,se=[];for(K=0;K<U;++K){for(Z=0,fe=0;Z<N;Z++)fe+=R[Z][K][1];if(fe)for(Z=0;Z<N;Z++)R[Z][K][1]/=fe;else for(Z=0;Z<N;Z++)R[Z][K][1]=Y}for(K=0;K<U;++K)se[K]=0;return se},zero:$d});function Ac(R){return e.range(R.length)}function $d(R){for(var N=-1,U=R[0].length,Y=[];++N<U;)Y[N]=0;return Y}function $y(R){for(var N=1,U=0,Y=R[0][1],Z,K=R.length;N<K;++N)(Z=R[N][1])>Y&&(U=N,Y=Z);return U}function K_(R){return R.reduce(Q_,0)}function Q_(R,N){return R+N[1]}e.layout.histogram=function(){var R=!0,N=Number,U=rw,Y=ew;function Z(K,Re){for(var se=[],ce=K.map(N,this),ge=U.call(this,ce,Re),ye=Y.call(this,ge,ce,Re),ke,Re=-1,Qe=ce.length,sr=ye.length-1,Pe=R?1:1/Qe,Ye;++Re<sr;)ke=se[Re]=[],ke.dx=ye[Re+1]-(ke.x=ye[Re]),ke.y=0;if(sr>0)for(Re=-1;++Re<Qe;)Ye=ce[Re],Ye>=ge[0]&&Ye<=ge[1]&&(ke=se[e.bisect(ye,Ye,1,sr)-1],ke.y+=Pe,ke.push(K[Re]));return se}return Z.value=function(K){return arguments.length?(N=K,Z):N},Z.range=function(K){return arguments.length?(U=on(K),Z):U},Z.bins=function(K){return arguments.length?(Y=typeof K=="number"?function(fe){return Ky(fe,K)}:on(K),Z):Y},Z.frequency=function(K){return arguments.length?(R=!!K,Z):R},Z};function ew(R,N){return Ky(R,Math.ceil(Math.log(N.length)/Math.LN2+1))}function Ky(R,N){for(var U=-1,Y=+R[0],Z=(R[1]-Y)/N,K=[];++U<=N;)K[U]=Z*U+Y;return K}function rw(R){return[e.min(R),e.max(R)]}e.layout.pack=function(){var R=e.layout.hierarchy().sort(Kd),N=0,U=[1,1],Y;function Z(K,fe){var se=R.call(this,K,fe),ce=se[0],ge=U[0],ye=U[1],ke=Y==null?Math.sqrt:typeof Y=="function"?Y:function(){return Y};if(ce.x=ce.y=0,$o(ce,function(Qe){Qe.r=+ke(Qe.value)}),$o(ce,e2),N){var Re=N*(Y?1:Math.max(2*ce.r/ge,2*ce.r/ye))/2;$o(ce,function(Qe){Qe.r+=Re}),$o(ce,e2),$o(ce,function(Qe){Qe.r-=Re})}return r2(ce,ge/2,ye/2,Y?1:1/Math.max(2*ce.r/ge,2*ce.r/ye)),se}return Z.size=function(K){return arguments.length?(U=K,Z):U},Z.radius=function(K){return arguments.length?(Y=K==null||typeof K=="function"?K:+K,Z):Y},Z.padding=function(K){return arguments.length?(N=+K,Z):N},Vf(Z,R)};function Kd(R,N){return R.value-N.value}function Qd(R,N){var U=R._pack_next;R._pack_next=N,N._pack_prev=R,N._pack_next=U,U._pack_prev=N}function e1(R,N){R._pack_next=N,N._pack_prev=R}function Qy(R,N){var U=N.x-R.x,Y=N.y-R.y,Z=R.r+N.r;return .999*Z*Z>U*U+Y*Y}function e2(R){if(!(N=R.children)||!(Re=N.length))return;var N,U=1/0,Y=-1/0,Z=1/0,K=-1/0,fe,se,ce,ge,ye,ke,Re;function Qe(Ze){U=Math.min(Ze.x-Ze.r,U),Y=Math.max(Ze.x+Ze.r,Y),Z=Math.min(Ze.y-Ze.r,Z),K=Math.max(Ze.y+Ze.r,K)}if(N.forEach(tw),fe=N[0],fe.x=-fe.r,fe.y=0,Qe(fe),Re>1&&(se=N[1],se.x=se.r,se.y=0,Qe(se),Re>2))for(ce=N[2],aw(fe,se,ce),Qe(ce),Qd(fe,ce),fe._pack_prev=ce,Qd(ce,se),se=fe._pack_next,ge=3;ge<Re;ge++){aw(fe,se,ce=N[ge]);var sr=0,Pe=1,Ye=1;for(ye=se._pack_next;ye!==se;ye=ye._pack_next,Pe++)if(Qy(ye,ce)){sr=1;break}if(sr==1)for(ke=fe._pack_prev;ke!==ye._pack_prev&&!Qy(ke,ce);ke=ke._pack_prev,Ye++);sr?(Pe<Ye||Pe==Ye&&se.r<fe.r?e1(fe,se=ye):e1(fe=ke,se),ge--):(Qd(fe,ce),se=ce,Qe(ce))}var $e=(U+Y)/2,lr=(Z+K)/2,fr=0;for(ge=0;ge<Re;ge++)ce=N[ge],ce.x-=$e,ce.y-=lr,fr=Math.max(fr,ce.r+Math.sqrt(ce.x*ce.x+ce.y*ce.y));R.r=fr,N.forEach(nw)}function tw(R){R._pack_next=R._pack_prev=R}function nw(R){delete R._pack_next,delete R._pack_prev}function r2(R,N,U,Y){var Z=R.children;if(R.x=N+=Y*R.x,R.y=U+=Y*R.y,R.r*=Y,Z)for(var K=-1,fe=Z.length;++K<fe;)r2(Z[K],N,U,Y)}function aw(R,N,U){var Y=R.r+U.r,Z=N.x-R.x,K=N.y-R.y;if(Y&&(Z||K)){var fe=N.r+U.r,se=Z*Z+K*K;fe*=fe,Y*=Y;var ce=.5+(Y-fe)/(2*se),ge=Math.sqrt(Math.max(0,2*fe*(Y+se)-(Y-=se)*Y-fe*fe))/(2*se);U.x=R.x+ce*Z+ge*K,U.y=R.y+ce*K-ge*Z}else U.x=R.x+Y,U.y=R.y}e.layout.tree=function(){var R=e.layout.hierarchy().sort(null).value(null),N=t2,U=[1,1],Y=null;function Z(ye,ke){var Re=R.call(this,ye,ke),Qe=Re[0],sr=K(Qe);if($o(sr,fe),sr.parent.m=-sr.z,wc(sr,se),Y)wc(Qe,ge);else{var Pe=Qe,Ye=Qe,$e=Qe;wc(Qe,function(Rr){Rr.x<Pe.x&&(Pe=Rr),Rr.x>Ye.x&&(Ye=Rr),Rr.depth>$e.depth&&($e=Rr)});var lr=N(Pe,Ye)/2-Pe.x,fr=U[0]/(Ye.x+N(Ye,Pe)/2+lr),Ze=U[1]/($e.depth||1);wc(Qe,function(Rr){Rr.x=(Rr.x+lr)*fr,Rr.y=Rr.depth*Ze})}return Re}function K(ye){for(var ke={A:null,children:[ye]},Re=[ke],Qe;(Qe=Re.pop())!=null;)for(var sr=Qe.children,Pe,Ye=0,$e=sr.length;Ye<$e;++Ye)Re.push((sr[Ye]=Pe={_:sr[Ye],parent:Qe,children:(Pe=sr[Ye].children)&&Pe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ye}).a=Pe);return ke.children[0]}function fe(ye){var ke=ye.children,Re=ye.parent.children,Qe=ye.i?Re[ye.i-1]:null;if(ke.length){r1(ye);var sr=(ke[0].z+ke[ke.length-1].z)/2;Qe?(ye.z=Qe.z+N(ye._,Qe._),ye.m=ye.z-sr):ye.z=sr}else Qe&&(ye.z=Qe.z+N(ye._,Qe._));ye.parent.A=ce(ye,Qe,ye.parent.A||Re[0])}function se(ye){ye._.x=ye.z+ye.parent.m,ye.m+=ye.parent.m}function ce(ye,ke,Re){if(ke){for(var Qe=ye,sr=ye,Pe=ke,Ye=Qe.parent.children[0],$e=Qe.m,lr=sr.m,fr=Pe.m,Ze=Ye.m,Rr;Pe=a2(Pe),Qe=n2(Qe),Pe&&Qe;)Ye=n2(Ye),sr=a2(sr),sr.a=ye,Rr=Pe.z+fr-Qe.z-$e+N(Pe._,Qe._),Rr>0&&(iw(i2(Pe,ye,Re),ye,Rr),$e+=Rr,lr+=Rr),fr+=Pe.m,$e+=Qe.m,Ze+=Ye.m,lr+=sr.m;Pe&&!a2(sr)&&(sr.t=Pe,sr.m+=fr-lr),Qe&&!n2(Ye)&&(Ye.t=Qe,Ye.m+=$e-Ze,Re=ye)}return Re}function ge(ye){ye.x*=U[0],ye.y=ye.depth*U[1]}return Z.separation=function(ye){return arguments.length?(N=ye,Z):N},Z.size=function(ye){return arguments.length?(Y=(U=ye)==null?ge:null,Z):Y?null:U},Z.nodeSize=function(ye){return arguments.length?(Y=(U=ye)==null?null:ge,Z):Y?U:null},Vf(Z,R)};function t2(R,N){return R.parent==N.parent?1:2}function n2(R){var N=R.children;return N.length?N[0]:R.t}function a2(R){var N=R.children,U;return(U=N.length)?N[U-1]:R.t}function iw(R,N,U){var Y=U/(N.i-R.i);N.c-=Y,N.s+=U,R.c+=Y,N.z+=U,N.m+=U}function r1(R){for(var N=0,U=0,Y=R.children,Z=Y.length,K;--Z>=0;)K=Y[Z],K.z+=N,K.m+=N,N+=K.s+(U+=K.c)}function i2(R,N,U){return R.a.parent===N.parent?R.a:U}e.layout.cluster=function(){var R=e.layout.hierarchy().sort(null).value(null),N=t2,U=[1,1],Y=!1;function Z(K,fe){var se=R.call(this,K,fe),ce=se[0],ge,ye=0;$o(ce,function(Pe){var Ye=Pe.children;Ye&&Ye.length?(Pe.x=o2(Ye),Pe.y=Ko(Ye)):(Pe.x=ge?ye+=N(Pe,ge):0,Pe.y=0,ge=Pe)});var ke=s2(ce),Re=l2(ce),Qe=ke.x-N(ke,Re)/2,sr=Re.x+N(Re,ke)/2;return $o(ce,Y?function(Pe){Pe.x=(Pe.x-ce.x)*U[0],Pe.y=(ce.y-Pe.y)*U[1]}:function(Pe){Pe.x=(Pe.x-Qe)/(sr-Qe)*U[0],Pe.y=(1-(ce.y?Pe.y/ce.y:1))*U[1]}),se}return Z.separation=function(K){return arguments.length?(N=K,Z):N},Z.size=function(K){return arguments.length?(Y=(U=K)==null,Z):Y?null:U},Z.nodeSize=function(K){return arguments.length?(Y=(U=K)!=null,Z):Y?U:null},Vf(Z,R)};function Ko(R){return 1+e.max(R,function(N){return N.y})}function o2(R){return R.reduce(function(N,U){return N+U.x},0)/R.length}function s2(R){var N=R.children;return N&&N.length?s2(N[0]):R}function l2(R){var N=R.children,U;return N&&(U=N.length)?l2(N[U-1]):R}e.layout.treemap=function(){var R=e.layout.hierarchy(),N=Math.round,U=[1,1],Y=null,Z=t1,K=!1,fe,se="squarify",ce=.5*(1+Math.sqrt(5));function ge(Pe,Ye){for(var $e=-1,lr=Pe.length,fr,Ze;++$e<lr;)Ze=(fr=Pe[$e]).value*(Ye<0?0:Ye),fr.area=isNaN(Ze)||Ze<=0?0:Ze}function ye(Pe){var Ye=Pe.children;if(Ye&&Ye.length){var $e=Z(Pe),lr=[],fr=Ye.slice(),Ze,Rr=1/0,qr,Zr=se==="slice"?$e.dx:se==="dice"?$e.dy:se==="slice-dice"?Pe.depth&1?$e.dy:$e.dx:Math.min($e.dx,$e.dy),rt;for(ge(fr,$e.dx*$e.dy/Pe.value),lr.area=0;(rt=fr.length)>0;)lr.push(Ze=fr[rt-1]),lr.area+=Ze.area,se!=="squarify"||(qr=Re(lr,Zr))<=Rr?(fr.pop(),Rr=qr):(lr.area-=lr.pop().area,Qe(lr,Zr,$e,!1),Zr=Math.min($e.dx,$e.dy),lr.length=lr.area=0,Rr=1/0);lr.length&&(Qe(lr,Zr,$e,!0),lr.length=lr.area=0),Ye.forEach(ye)}}function ke(Pe){var Ye=Pe.children;if(Ye&&Ye.length){var $e=Z(Pe),lr=Ye.slice(),fr,Ze=[];for(ge(lr,$e.dx*$e.dy/Pe.value),Ze.area=0;fr=lr.pop();)Ze.push(fr),Ze.area+=fr.area,fr.z!=null&&(Qe(Ze,fr.z?$e.dx:$e.dy,$e,!lr.length),Ze.length=Ze.area=0);Ye.forEach(ke)}}function Re(Pe,Ye){for(var $e=Pe.area,lr,fr=0,Ze=1/0,Rr=-1,qr=Pe.length;++Rr<qr;)(lr=Pe[Rr].area)&&(lr<Ze&&(Ze=lr),lr>fr&&(fr=lr));return $e*=$e,Ye*=Ye,$e?Math.max(Ye*fr*ce/$e,$e/(Ye*Ze*ce)):1/0}function Qe(Pe,Ye,$e,lr){var fr=-1,Ze=Pe.length,Rr=$e.x,qr=$e.y,Zr=Ye?N(Pe.area/Ye):0,rt;if(Ye==$e.dx){for((lr||Zr>$e.dy)&&(Zr=$e.dy);++fr<Ze;)rt=Pe[fr],rt.x=Rr,rt.y=qr,rt.dy=Zr,Rr+=rt.dx=Math.min($e.x+$e.dx-Rr,Zr?N(rt.area/Zr):0);rt.z=!0,rt.dx+=$e.x+$e.dx-Rr,$e.y+=Zr,$e.dy-=Zr}else{for((lr||Zr>$e.dx)&&(Zr=$e.dx);++fr<Ze;)rt=Pe[fr],rt.x=Rr,rt.y=qr,rt.dx=Zr,qr+=rt.dy=Math.min($e.y+$e.dy-qr,Zr?N(rt.area/Zr):0);rt.z=!1,rt.dy+=$e.y+$e.dy-qr,$e.x+=Zr,$e.dx-=Zr}}function sr(Pe){var Ye=fe||R(Pe),$e=Ye[0];return $e.x=$e.y=0,$e.value?($e.dx=U[0],$e.dy=U[1]):$e.dx=$e.dy=0,fe&&R.revalue($e),ge([$e],$e.dx*$e.dy/$e.value),(fe?ke:ye)($e),K&&(fe=Ye),Ye}return sr.size=function(Pe){return arguments.length?(U=Pe,sr):U},sr.padding=function(Pe){if(!arguments.length)return Y;function Ye(fr){var Ze=Pe.call(sr,fr,fr.depth);return Ze==null?t1(fr):f2(fr,typeof Ze=="number"?[Ze,Ze,Ze,Ze]:Ze)}function $e(fr){return f2(fr,Pe)}var lr;return Z=(Y=Pe)==null?t1:(lr=typeof Pe)=="function"?Ye:(lr==="number"&&(Pe=[Pe,Pe,Pe,Pe]),$e),sr},sr.round=function(Pe){return arguments.length?(N=Pe?Math.round:Number,sr):N!=Number},sr.sticky=function(Pe){return arguments.length?(K=Pe,fe=null,sr):K},sr.ratio=function(Pe){return arguments.length?(ce=Pe,sr):ce},sr.mode=function(Pe){return arguments.length?(se=Pe+"",sr):se},Vf(sr,R)};function t1(R){return{x:R.x,y:R.y,dx:R.dx,dy:R.dy}}function f2(R,N){var U=R.x+N[3],Y=R.y+N[0],Z=R.dx-N[1]-N[3],K=R.dy-N[0]-N[2];return Z<0&&(U+=Z/2,Z=0),K<0&&(Y+=K/2,K=0),{x:U,y:Y,dx:Z,dy:K}}e.random={normal:function(R,N){var U=arguments.length;return U<2&&(N=1),U<1&&(R=0),function(){var Y,Z,K;do Y=Math.random()*2-1,Z=Math.random()*2-1,K=Y*Y+Z*Z;while(!K||K>1);return R+N*Y*Math.sqrt(-2*Math.log(K)/K)}},logNormal:function(){var R=e.random.normal.apply(e,arguments);return function(){return Math.exp(R())}},bates:function(R){var N=e.random.irwinHall(R);return function(){return N()/R}},irwinHall:function(R){return function(){for(var N=0,U=0;U<R;U++)N+=Math.random();return N}}},e.scale={};function hh(R){var N=R[0],U=R[R.length-1];return N<U?[N,U]:[U,N]}function vh(R){return R.rangeExtent?R.rangeExtent():hh(R.range())}function ow(R,N,U,Y){var Z=U(R[0],R[1]),K=Y(N[0],N[1]);return function(fe){return K(Z(fe))}}function Yf(R,N){var U=0,Y=R.length-1,Z=R[U],K=R[Y],fe;return K<Z&&(fe=U,U=Y,Y=fe,fe=Z,Z=K,K=fe),R[U]=N.floor(Z),R[Y]=N.ceil(K),R}function Xa(R){return R?{floor:function(N){return Math.floor(N/R)*R},ceil:function(N){return Math.ceil(N/R)*R}}:Wf}var Wf={floor:P,ceil:P};function Xf(R,N,U,Y){var Z=[],K=[],fe=0,se=Math.min(R.length,N.length)-1;for(R[se]<R[0]&&(R=R.slice().reverse(),N=N.slice().reverse());++fe<=se;)Z.push(U(R[fe-1],R[fe])),K.push(Y(N[fe-1],N[fe]));return function(ce){var ge=e.bisect(R,ce,1,se)-1;return K[ge](Z[ge](ce))}}e.scale.linear=function(){return u2([0,1],[0,1],fl,!1)};function u2(R,N,U,Y){var Z,K;function fe(){var ce=Math.min(R.length,N.length)>2?Xf:ow,ge=Y?Vy:Hy;return Z=ce(R,N,ge,U),K=ce(N,R,ge,fl),se}function se(ce){return Z(ce)}return se.invert=function(ce){return K(ce)},se.domain=function(ce){return arguments.length?(R=ce.map(Number),fe()):R},se.range=function(ce){return arguments.length?(N=ce,fe()):N},se.rangeRound=function(ce){return se.range(ce).interpolate(Xd)},se.clamp=function(ce){return arguments.length?(Y=ce,fe()):Y},se.interpolate=function(ce){return arguments.length?(U=ce,fe()):U},se.ticks=function(ce){return Tc(R,ce)},se.tickFormat=function(ce,ge){return d3_scale_linearTickFormat(R,ce,ge)},se.nice=function(ce){return n1(R,ce),fe()},se.copy=function(){return u2(R,N,U,Y)},fe()}function Jl(R,N){return e.rebind(R,N,"range","rangeRound","interpolate","clamp")}function n1(R,N){return Yf(R,Xa(cl(R,N)[2])),Yf(R,Xa(cl(R,N)[2])),R}function cl(R,N){N==null&&(N=10);var U=hh(R),Y=U[1]-U[0],Z=Math.pow(10,Math.floor(Math.log(Y/N)/Math.LN10)),K=N/Y*Z;return K<=.15?Z*=10:K<=.35?Z*=5:K<=.75&&(Z*=2),U[0]=Math.ceil(U[0]/Z)*Z,U[1]=Math.floor(U[1]/Z)*Z+Z*.5,U[2]=Z,U}function Tc(R,N){return e.range.apply(e,cl(R,N))}var a1={s:1,g:1,p:1,r:1,e:1};function dh(R){return-Math.floor(Math.log(R)/Math.LN10+.01)}function c2(R,N){var U=dh(N[2]);return R in a1?Math.abs(U-dh(Math.max(y(N[0]),y(N[1]))))+ +(R!=="e"):U-(R==="%")*2}e.scale.log=function(){return ph(e.scale.linear().domain([0,1]),10,!0,[1,10])};function ph(R,N,U,Y){function Z(se){return(U?Math.log(se<0?0:se):-Math.log(se>0?0:-se))/Math.log(N)}function K(se){return U?Math.pow(N,se):-Math.pow(N,-se)}function fe(se){return R(Z(se))}return fe.invert=function(se){return K(R.invert(se))},fe.domain=function(se){return arguments.length?(U=se[0]>=0,R.domain((Y=se.map(Number)).map(Z)),fe):Y},fe.base=function(se){return arguments.length?(N=+se,R.domain(Y.map(Z)),fe):N},fe.nice=function(){var se=Yf(Y.map(Z),U?Math:gh);return R.domain(se),Y=se.map(K),fe},fe.ticks=function(){var se=hh(Y),ce=[],ge=se[0],ye=se[1],ke=Math.floor(Z(ge)),Re=Math.ceil(Z(ye)),Qe=N%1?2:N;if(isFinite(Re-ke)){if(U){for(;ke<Re;ke++)for(var sr=1;sr<Qe;sr++)ce.push(K(ke)*sr);ce.push(K(ke))}else for(ce.push(K(ke));ke++<Re;)for(var sr=Qe-1;sr>0;sr--)ce.push(K(ke)*sr);for(ke=0;ce[ke]<ge;ke++);for(Re=ce.length;ce[Re-1]>ye;Re--);ce=ce.slice(ke,Re)}return ce},fe.copy=function(){return ph(R.copy(),N,U,Y)},Jl(fe,R)}var gh={floor:function(R){return-Math.ceil(-R)},ceil:function(R){return-Math.floor(-R)}};e.scale.pow=function(){return i1(e.scale.linear(),1,[0,1])};function i1(R,N,U){var Y=Mc(N),Z=Mc(1/N);function K(fe){return R(Y(fe))}return K.invert=function(fe){return Z(R.invert(fe))},K.domain=function(fe){return arguments.length?(R.domain((U=fe.map(Number)).map(Y)),K):U},K.ticks=function(fe){return Tc(U,fe)},K.tickFormat=function(fe,se){return d3_scale_linearTickFormat(U,fe,se)},K.nice=function(fe){return K.domain(n1(U,fe))},K.exponent=function(fe){return arguments.length?(Y=Mc(N=fe),Z=Mc(1/N),R.domain(U.map(Y)),K):N},K.copy=function(){return i1(R.copy(),N,U)},Jl(K,R)}function Mc(R){return function(N){return N<0?-Math.pow(-N,R):Math.pow(N,R)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return o1([],{t:"range",a:[[]]})};function o1(R,N){var U,Y,Z;function K(se){return Y[((U.get(se)||(N.t==="range"?U.set(se,R.push(se)):NaN))-1)%Y.length]}function fe(se,ce){return e.range(R.length).map(function(ge){return se+ce*ge})}return K.domain=function(se){if(!arguments.length)return R;R=[],U=new b;for(var ce=-1,ge=se.length,ye;++ce<ge;)U.has(ye=se[ce])||U.set(ye,R.push(ye));return K[N.t].apply(K,N.a)},K.range=function(se){return arguments.length?(Y=se,Z=0,N={t:"range",a:arguments},K):Y},K.rangePoints=function(se,ce){arguments.length<2&&(ce=0);var ge=se[0],ye=se[1],ke=R.length<2?(ge=(ge+ye)/2,0):(ye-ge)/(R.length-1+ce);return Y=fe(ge+ke*ce/2,ke),Z=0,N={t:"rangePoints",a:arguments},K},K.rangeRoundPoints=function(se,ce){arguments.length<2&&(ce=0);var ge=se[0],ye=se[1],ke=R.length<2?(ge=ye=Math.round((ge+ye)/2),0):(ye-ge)/(R.length-1+ce)|0;return Y=fe(ge+Math.round(ke*ce/2+(ye-ge-(R.length-1+ce)*ke)/2),ke),Z=0,N={t:"rangeRoundPoints",a:arguments},K},K.rangeBands=function(se,ce,ge){arguments.length<2&&(ce=0),arguments.length<3&&(ge=ce);var ye=se[1]<se[0],ke=se[ye-0],Re=se[1-ye],Qe=(Re-ke)/(R.length-ce+2*ge);return Y=fe(ke+Qe*ge,Qe),ye&&Y.reverse(),Z=Qe*(1-ce),N={t:"rangeBands",a:arguments},K},K.rangeRoundBands=function(se,ce,ge){arguments.length<2&&(ce=0),arguments.length<3&&(ge=ce);var ye=se[1]<se[0],ke=se[ye-0],Re=se[1-ye],Qe=Math.floor((Re-ke)/(R.length-ce+2*ge));return Y=fe(ke+Math.round((Re-ke-(R.length-ce)*Qe)/2),Qe),ye&&Y.reverse(),Z=Math.round(Qe*(1-ce)),N={t:"rangeRoundBands",a:arguments},K},K.rangeBand=function(){return Z},K.rangeExtent=function(){return hh(N.a[0])},K.copy=function(){return o1(R,N)},K.domain(R)}e.scale.category10=function(){return e.scale.ordinal().range(h2)},e.scale.category20=function(){return e.scale.ordinal().range(v2)},e.scale.category20b=function(){return e.scale.ordinal().range(s1)},e.scale.category20c=function(){return e.scale.ordinal().range(l1)};var h2=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Io),v2=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Io),s1=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Io),l1=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Io);e.scale.quantile=function(){return f1([],[])};function f1(R,N){var U;function Y(){var K=0,fe=N.length;for(U=[];++K<fe;)U[K-1]=e.quantile(R,K/fe);return Z}function Z(K){if(!isNaN(K=+K))return N[e.bisect(U,K)]}return Z.domain=function(K){return arguments.length?(R=K.map(v).filter(m).sort(c),Y()):R},Z.range=function(K){return arguments.length?(N=K,Y()):N},Z.quantiles=function(){return U},Z.invertExtent=function(K){return K=N.indexOf(K),K<0?[NaN,NaN]:[K>0?U[K-1]:R[0],K<U.length?U[K]:R[R.length-1]]},Z.copy=function(){return f1(R,N)},Y()}e.scale.quantize=function(){return u1(0,1,[0,1])};function u1(R,N,U){var Y,Z;function K(se){return U[Math.max(0,Math.min(Z,Math.floor(Y*(se-R))))]}function fe(){return Y=U.length/(N-R),Z=U.length-1,K}return K.domain=function(se){return arguments.length?(R=+se[0],N=+se[se.length-1],fe()):[R,N]},K.range=function(se){return arguments.length?(U=se,fe()):U},K.invertExtent=function(se){return se=U.indexOf(se),se=se<0?NaN:se/Y+R,[se,se+1/Y]},K.copy=function(){return u1(R,N,U)},fe()}e.scale.threshold=function(){return c1([.5],[0,1])};function c1(R,N){function U(Y){if(Y<=Y)return N[e.bisect(R,Y)]}return U.domain=function(Y){return arguments.length?(R=Y,U):R},U.range=function(Y){return arguments.length?(N=Y,U):N},U.invertExtent=function(Y){return Y=N.indexOf(Y),[R[Y-1],R[Y]]},U.copy=function(){return c1(R,N)},U}e.scale.identity=function(){return h1([0,1])};function h1(R){function N(U){return+U}return N.invert=N,N.domain=N.range=function(U){return arguments.length?(R=U.map(N),N):R},N.ticks=function(U){return Tc(R,U)},N.tickFormat=function(U,Y){return d3_scale_linearTickFormat(R,U,Y)},N.copy=function(){return h1(R)},N}e.svg={};function v1(){return 0}e.svg.arc=function(){var R=d2,N=d1,U=v1,Y=Ec,Z=yh,K=p1,fe=g1;function se(){var ge=Math.max(0,+R.apply(this,arguments)),ye=Math.max(0,+N.apply(this,arguments)),ke=Z.apply(this,arguments)-Q,Re=K.apply(this,arguments)-Q,Qe=Math.abs(Re-ke),sr=ke>Re?0:1;if(ye<ge&&(Pe=ye,ye=ge,ge=Pe),Qe>=ue)return ce(ye,sr)+(ge?ce(ge,1-sr):"")+"Z";var Pe,Ye,$e,lr,fr=0,Ze=0,Rr,qr,Zr,rt,ht,vt,Ht,xt,qt=[];if((lr=(+fe.apply(this,arguments)||0)/2)&&($e=Y===Ec?Math.sqrt(ge*ge+ye*ye):+Y.apply(this,arguments),sr||(Ze*=-1),ye&&(Ze=Kr($e/ye*Math.sin(lr))),ge&&(fr=Kr($e/ge*Math.sin(lr)))),ye){Rr=ye*Math.cos(ke+Ze),qr=ye*Math.sin(ke+Ze),Zr=ye*Math.cos(Re-Ze),rt=ye*Math.sin(Re-Ze);var Sn=Math.abs(Re-ke-2*Ze)<=je?0:1;if(Ze&&Sc(Rr,qr,Zr,rt)===sr^Sn){var pa=(ke+Re)/2;Rr=ye*Math.cos(pa),qr=ye*Math.sin(pa),Zr=rt=null}}else Rr=qr=0;if(ge){ht=ge*Math.cos(Re-fr),vt=ge*Math.sin(Re-fr),Ht=ge*Math.cos(ke+fr),xt=ge*Math.sin(ke+fr);var Pn=Math.abs(ke-Re+2*fr)<=je?0:1;if(fr&&Sc(ht,vt,Ht,xt)===1-sr^Pn){var $r=(ke+Re)/2;ht=ge*Math.cos($r),vt=ge*Math.sin($r),Ht=xt=null}}else ht=vt=0;if(Qe>Fe&&(Pe=Math.min(Math.abs(ye-ge)/2,+U.apply(this,arguments)))>.001){Ye=ge<ye^sr?0:1;var Vt=Pe,en=Pe;if(Qe<je){var wn=Ht==null?[ht,vt]:Zr==null?[Rr,qr]:vc([Rr,qr],[Ht,xt],[Zr,rt],[ht,vt]),ea=Rr-wn[0],Ta=qr-wn[1],Qa=Zr-wn[0],si=rt-wn[1],Mi=1/Math.sin(Math.acos((ea*Qa+Ta*si)/(Math.sqrt(ea*ea+Ta*Ta)*Math.sqrt(Qa*Qa+si*si)))/2),he=Math.sqrt(wn[0]*wn[0]+wn[1]*wn[1]);en=Math.min(Pe,(ge-he)/(Mi-1)),Vt=Math.min(Pe,(ye-he)/(Mi+1))}if(Zr!=null){var Oe=Cc(Ht==null?[ht,vt]:[Ht,xt],[Rr,qr],ye,Vt,sr),Ue=Cc([Zr,rt],[ht,vt],ye,Vt,sr);Pe===Vt?qt.push("M",Oe[0],"A",Vt,",",Vt," 0 0,",Ye," ",Oe[1],"A",ye,",",ye," 0 ",1-sr^Sc(Oe[1][0],Oe[1][1],Ue[1][0],Ue[1][1]),",",sr," ",Ue[1],"A",Vt,",",Vt," 0 0,",Ye," ",Ue[0]):qt.push("M",Oe[0],"A",Vt,",",Vt," 0 1,",Ye," ",Ue[0])}else qt.push("M",Rr,",",qr);if(Ht!=null){var dr=Cc([Rr,qr],[Ht,xt],ge,-en,sr),br=Cc([ht,vt],Zr==null?[Rr,qr]:[Zr,rt],ge,-en,sr);Pe===en?qt.push("L",br[0],"A",en,",",en," 0 0,",Ye," ",br[1],"A",ge,",",ge," 0 ",sr^Sc(br[1][0],br[1][1],dr[1][0],dr[1][1]),",",1-sr," ",dr[1],"A",en,",",en," 0 0,",Ye," ",dr[0]):qt.push("L",br[0],"A",en,",",en," 0 0,",Ye," ",dr[0])}else qt.push("L",ht,",",vt)}else qt.push("M",Rr,",",qr),Zr!=null&&qt.push("A",ye,",",ye," 0 ",Sn,",",sr," ",Zr,",",rt),qt.push("L",ht,",",vt),Ht!=null&&qt.push("A",ge,",",ge," 0 ",Pn,",",1-sr," ",Ht,",",xt);return qt.push("Z"),qt.join("")}function ce(ge,ye){return"M0,"+ge+"A"+ge+","+ge+" 0 1,"+ye+" 0,"+-ge+"A"+ge+","+ge+" 0 1,"+ye+" 0,"+ge}return se.innerRadius=function(ge){return arguments.length?(R=on(ge),se):R},se.outerRadius=function(ge){return arguments.length?(N=on(ge),se):N},se.cornerRadius=function(ge){return arguments.length?(U=on(ge),se):U},se.padRadius=function(ge){return arguments.length?(Y=ge==Ec?Ec:on(ge),se):Y},se.startAngle=function(ge){return arguments.length?(Z=on(ge),se):Z},se.endAngle=function(ge){return arguments.length?(K=on(ge),se):K},se.padAngle=function(ge){return arguments.length?(fe=on(ge),se):fe},se.centroid=function(){var ge=(+R.apply(this,arguments)+ +N.apply(this,arguments))/2,ye=(+Z.apply(this,arguments)+ +K.apply(this,arguments))/2-Q;return[Math.cos(ye)*ge,Math.sin(ye)*ge]},se};var Ec="auto";function d2(R){return R.innerRadius}function d1(R){return R.outerRadius}function yh(R){return R.startAngle}function p1(R){return R.endAngle}function g1(R){return R&&R.padAngle}function Sc(R,N,U,Y){return(R-U)*N-(N-Y)*R>0?0:1}function Cc(R,N,U,Y,Z){var K=R[0]-N[0],fe=R[1]-N[1],se=(Z?Y:-Y)/Math.sqrt(K*K+fe*fe),ce=se*fe,ge=-se*K,ye=R[0]+ce,ke=R[1]+ge,Re=N[0]+ce,Qe=N[1]+ge,sr=(ye+Re)/2,Pe=(ke+Qe)/2,Ye=Re-ye,$e=Qe-ke,lr=Ye*Ye+$e*$e,fr=U-Y,Ze=ye*Qe-Re*ke,Rr=($e<0?-1:1)*Math.sqrt(Math.max(0,fr*fr*lr-Ze*Ze)),qr=(Ze*$e-Ye*Rr)/lr,Zr=(-Ze*Ye-$e*Rr)/lr,rt=(Ze*$e+Ye*Rr)/lr,ht=(-Ze*Ye+$e*Rr)/lr,vt=qr-sr,Ht=Zr-Pe,xt=rt-sr,qt=ht-Pe;return vt*vt+Ht*Ht>xt*xt+qt*qt&&(qr=rt,Zr=ht),[[qr-ce,Zr-ge],[qr*U/fr,Zr*U/fr]]}function mh(){return!0}function y1(R){var N=ol,U=Nf,Y=mh,Z=Ji,K=Z.key,fe=.7;function se(ce){var ge=[],ye=[],ke=-1,Re=ce.length,Qe,sr=on(N),Pe=on(U);function Ye(){ge.push("M",Z(R(ye),fe))}for(;++ke<Re;)Y.call(this,Qe=ce[ke],ke)?ye.push([+sr.call(this,Qe,ke),+Pe.call(this,Qe,ke)]):ye.length&&(Ye(),ye=[]);return ye.length&&Ye(),ge.length?ge.join(""):null}return se.x=function(ce){return arguments.length?(N=ce,se):N},se.y=function(ce){return arguments.length?(U=ce,se):U},se.defined=function(ce){return arguments.length?(Y=ce,se):Y},se.interpolate=function(ce){return arguments.length?(typeof ce=="function"?K=Z=ce:K=(Z=xh.get(ce)||Ji).key,se):K},se.tension=function(ce){return arguments.length?(fe=ce,se):fe},se}e.svg.line=function(){return y1(P)};var xh=e.map({linear:Ji,"linear-closed":bh,step:kc,"step-before":_h,"step-after":Zf,basis:Kl,"basis-open":$f,"basis-closed":Kf,bundle:m1,cardinal:jf,"cardinal-open":Ds,"cardinal-closed":wh,monotone:p2});xh.forEach(function(R,N){N.key=R,N.closed=/-closed$/.test(R)});function Ji(R){return R.length>1?R.join("L"):R+"Z"}function bh(R){return R.join("L")+"Z"}function kc(R){for(var N=0,U=R.length,Y=R[0],Z=[Y[0],",",Y[1]];++N<U;)Z.push("H",(Y[0]+(Y=R[N])[0])/2,"V",Y[1]);return U>1&&Z.push("H",Y[0]),Z.join("")}function _h(R){for(var N=0,U=R.length,Y=R[0],Z=[Y[0],",",Y[1]];++N<U;)Z.push("V",(Y=R[N])[1],"H",Y[0]);return Z.join("")}function Zf(R){for(var N=0,U=R.length,Y=R[0],Z=[Y[0],",",Y[1]];++N<U;)Z.push("H",(Y=R[N])[0],"V",Y[1]);return Z.join("")}function Ds(R,N){return R.length<4?Ji(R):R[1]+$l(R.slice(1,-1),Jf(R,N))}function wh(R,N){return R.length<3?bh(R):R[0]+$l((R.push(R[0]),R),Jf([R[R.length-2]].concat(R,[R[1]]),N))}function jf(R,N){return R.length<3?Ji(R):R[0]+$l(R,Jf(R,N))}function $l(R,N){if(N.length<1||R.length!=N.length&&R.length!=N.length+2)return Ji(R);var U=R.length!=N.length,Y="",Z=R[0],K=R[1],fe=N[0],se=fe,ce=1;if(U&&(Y+="Q"+(K[0]-fe[0]*2/3)+","+(K[1]-fe[1]*2/3)+","+K[0]+","+K[1],Z=R[1],ce=2),N.length>1){se=N[1],K=R[ce],ce++,Y+="C"+(Z[0]+fe[0])+","+(Z[1]+fe[1])+","+(K[0]-se[0])+","+(K[1]-se[1])+","+K[0]+","+K[1];for(var ge=2;ge<N.length;ge++,ce++)K=R[ce],se=N[ge],Y+="S"+(K[0]-se[0])+","+(K[1]-se[1])+","+K[0]+","+K[1]}if(U){var ye=R[ce];Y+="Q"+(K[0]+se[0]*2/3)+","+(K[1]+se[1]*2/3)+","+ye[0]+","+ye[1]}return Y}function Jf(R,N){for(var U=[],Y=(1-N)/2,Z,K=R[0],fe=R[1],se=1,ce=R.length;++se<ce;)Z=K,K=fe,fe=R[se],U.push([Y*(fe[0]-Z[0]),Y*(fe[1]-Z[1])]);return U}function Kl(R){if(R.length<3)return Ji(R);var N=1,U=R.length,Y=R[0],Z=Y[0],K=Y[1],fe=[Z,Z,Z,(Y=R[1])[0]],se=[K,K,K,Y[1]],ce=[Z,",",K,"L",Ii(Qo,fe),",",Ii(Qo,se)];for(R.push(R[U-1]);++N<=U;)Y=R[N],fe.shift(),fe.push(Y[0]),se.shift(),se.push(Y[1]),hl(ce,fe,se);return R.pop(),ce.push("L",Y),ce.join("")}function $f(R){if(R.length<4)return Ji(R);for(var N=[],U=-1,Y=R.length,Z,K=[0],fe=[0];++U<3;)Z=R[U],K.push(Z[0]),fe.push(Z[1]);for(N.push(Ii(Qo,K)+","+Ii(Qo,fe)),--U;++U<Y;)Z=R[U],K.shift(),K.push(Z[0]),fe.shift(),fe.push(Z[1]),hl(N,K,fe);return N.join("")}function Kf(R){for(var N,U=-1,Y=R.length,Z=Y+4,K,fe=[],se=[];++U<4;)K=R[U%Y],fe.push(K[0]),se.push(K[1]);for(N=[Ii(Qo,fe),",",Ii(Qo,se)],--U;++U<Z;)K=R[U%Y],fe.shift(),fe.push(K[0]),se.shift(),se.push(K[1]),hl(N,fe,se);return N.join("")}function m1(R,N){var U=R.length-1;if(U)for(var Y=R[0][0],Z=R[0][1],K=R[U][0]-Y,fe=R[U][1]-Z,se=-1,ce,ge;++se<=U;)ce=R[se],ge=se/U,ce[0]=N*ce[0]+(1-N)*(Y+ge*K),ce[1]=N*ce[1]+(1-N)*(Z+ge*fe);return Kl(R)}function Ii(R,N){return R[0]*N[0]+R[1]*N[1]+R[2]*N[2]+R[3]*N[3]}var Lc=[0,2/3,1/3,0],Ah=[0,1/3,2/3,0],Qo=[0,1/6,2/3,1/6];function hl(R,N,U){R.push("C",Ii(Lc,N),",",Ii(Lc,U),",",Ii(Ah,N),",",Ii(Ah,U),",",Ii(Qo,N),",",Ii(Qo,U))}function vl(R,N){return(N[1]-R[1])/(N[0]-R[0])}function sw(R){for(var N=0,U=R.length-1,Y=[],Z=R[0],K=R[1],fe=Y[0]=vl(Z,K);++N<U;)Y[N]=(fe+(fe=vl(Z=K,K=R[N+1])))/2;return Y[N]=fe,Y}function lw(R){for(var N=[],U,Y,Z,K,fe=sw(R),se=-1,ce=R.length-1;++se<ce;)U=vl(R[se],R[se+1]),y(U)<Fe?fe[se]=fe[se+1]=0:(Y=fe[se]/U,Z=fe[se+1]/U,K=Y*Y+Z*Z,K>9&&(K=U*3/Math.sqrt(K),fe[se]=K*Y,fe[se+1]=K*Z));for(se=-1;++se<=ce;)K=(R[Math.min(ce,se+1)][0]-R[Math.max(0,se-1)][0])/(6*(1+fe[se]*fe[se])),N.push([K||0,fe[se]*K||0]);return N}function p2(R){return R.length<3?Ji(R):R[0]+$l(R,lw(R))}e.svg.line.radial=function(){var R=y1(x1);return R.radius=R.x,delete R.x,R.angle=R.y,delete R.y,R};function x1(R){for(var N,U=-1,Y=R.length,Z,K;++U<Y;)N=R[U],Z=N[0],K=N[1]-Q,N[0]=Z*Math.cos(K),N[1]=Z*Math.sin(K);return R}function b1(R){var N=ol,U=ol,Y=0,Z=Nf,K=mh,fe=Ji,se=fe.key,ce=fe,ge="L",ye=.7;function ke(Re){var Qe=[],sr=[],Pe=[],Ye=-1,$e=Re.length,lr,fr=on(N),Ze=on(Y),Rr=N===U?function(){return Zr}:on(U),qr=Y===Z?function(){return rt}:on(Z),Zr,rt;function ht(){Qe.push("M",fe(R(Pe),ye),ge,ce(R(sr.reverse()),ye),"Z")}for(;++Ye<$e;)K.call(this,lr=Re[Ye],Ye)?(sr.push([Zr=+fr.call(this,lr,Ye),rt=+Ze.call(this,lr,Ye)]),Pe.push([+Rr.call(this,lr,Ye),+qr.call(this,lr,Ye)])):sr.length&&(ht(),sr=[],Pe=[]);return sr.length&&ht(),Qe.length?Qe.join(""):null}return ke.x=function(Re){return arguments.length?(N=U=Re,ke):U},ke.x0=function(Re){return arguments.length?(N=Re,ke):N},ke.x1=function(Re){return arguments.length?(U=Re,ke):U},ke.y=function(Re){return arguments.length?(Y=Z=Re,ke):Z},ke.y0=function(Re){return arguments.length?(Y=Re,ke):Y},ke.y1=function(Re){return arguments.length?(Z=Re,ke):Z},ke.defined=function(Re){return arguments.length?(K=Re,ke):K},ke.interpolate=function(Re){return arguments.length?(typeof Re=="function"?se=fe=Re:se=(fe=xh.get(Re)||Ji).key,ce=fe.reverse||fe,ge=fe.closed?"M":"L",ke):se},ke.tension=function(Re){return arguments.length?(ye=Re,ke):ye},ke}_h.reverse=Zf,Zf.reverse=_h,e.svg.area=function(){return b1(P)},e.svg.area.radial=function(){var R=b1(x1);return R.radius=R.x,delete R.x,R.innerRadius=R.x0,delete R.x0,R.outerRadius=R.x1,delete R.x1,R.angle=R.y,delete R.y,R.startAngle=R.y0,delete R.y0,R.endAngle=R.y1,delete R.y1,R};function g2(R){return R.source}function Ql(R){return R.target}e.svg.chord=function(){var R=g2,N=Ql,U=_1,Y=yh,Z=p1;function K(ye,ke){var Re=fe(this,R,ye,ke),Qe=fe(this,N,ye,ke);return"M"+Re.p0+ce(Re.r,Re.p1,Re.a1-Re.a0)+(se(Re,Qe)?ge(Re.r,Re.p1,Re.r,Re.p0):ge(Re.r,Re.p1,Qe.r,Qe.p0)+ce(Qe.r,Qe.p1,Qe.a1-Qe.a0)+ge(Qe.r,Qe.p1,Re.r,Re.p0))+"Z"}function fe(ye,ke,Re,Qe){var sr=ke.call(ye,Re,Qe),Pe=U.call(ye,sr,Qe),Ye=Y.call(ye,sr,Qe)-Q,$e=Z.call(ye,sr,Qe)-Q;return{r:Pe,a0:Ye,a1:$e,p0:[Pe*Math.cos(Ye),Pe*Math.sin(Ye)],p1:[Pe*Math.cos($e),Pe*Math.sin($e)]}}function se(ye,ke){return ye.a0==ke.a0&&ye.a1==ke.a1}function ce(ye,ke,Re){return"A"+ye+","+ye+" 0 "+ +(Re>je)+",1 "+ke}function ge(ye,ke,Re,Qe){return"Q 0,0 "+Qe}return K.radius=function(ye){return arguments.length?(U=on(ye),K):U},K.source=function(ye){return arguments.length?(R=on(ye),K):R},K.target=function(ye){return arguments.length?(N=on(ye),K):N},K.startAngle=function(ye){return arguments.length?(Y=on(ye),K):Y},K.endAngle=function(ye){return arguments.length?(Z=on(ye),K):Z},K};function _1(R){return R.radius}e.svg.diagonal=function(){var R=g2,N=Ql,U=y2;function Y(Z,K){var fe=R.call(this,Z,K),se=N.call(this,Z,K),ce=(fe.y+se.y)/2,ge=[fe,{x:fe.x,y:ce},{x:se.x,y:ce},se];return ge=ge.map(U),"M"+ge[0]+"C"+ge[1]+" "+ge[2]+" "+ge[3]}return Y.source=function(Z){return arguments.length?(R=on(Z),Y):R},Y.target=function(Z){return arguments.length?(N=on(Z),Y):N},Y.projection=function(Z){return arguments.length?(U=Z,Y):U},Y};function y2(R){return[R.x,R.y]}e.svg.diagonal.radial=function(){var R=e.svg.diagonal(),N=y2,U=R.projection;return R.projection=function(Y){return arguments.length?U(fw(N=Y)):N},R};function fw(R){return function(){var N=R.apply(this,arguments),U=N[0],Y=N[1]-Q;return[U*Math.cos(Y),U*Math.sin(Y)]}}e.svg.symbol=function(){var R=cw,N=uw;function U(Y,Z){return(x2.get(R.call(this,Y,Z))||m2)(N.call(this,Y,Z))}return U.type=function(Y){return arguments.length?(R=on(Y),U):R},U.size=function(Y){return arguments.length?(N=on(Y),U):N},U};function uw(){return 64}function cw(){return"circle"}function m2(R){var N=Math.sqrt(R/je);return"M0,"+N+"A"+N+","+N+" 0 1,1 0,"+-N+"A"+N+","+N+" 0 1,1 0,"+N+"Z"}var x2=e.map({circle:m2,cross:function(R){var N=Math.sqrt(R/5)/2;return"M"+-3*N+","+-N+"H"+-N+"V"+-3*N+"H"+N+"V"+-N+"H"+3*N+"V"+N+"H"+N+"V"+3*N+"H"+-N+"V"+N+"H"+-3*N+"Z"},diamond:function(R){var N=Math.sqrt(R/(2*b2)),U=N*b2;return"M0,"+-N+"L"+U+",0 0,"+N+" "+-U+",0Z"},square:function(R){var N=Math.sqrt(R)/2;return"M"+-N+","+-N+"L"+N+","+-N+" "+N+","+N+" "+-N+","+N+"Z"},"triangle-down":function(R){var N=Math.sqrt(R/Th),U=N*Th/2;return"M0,"+U+"L"+N+","+-U+" "+-N+","+-U+"Z"},"triangle-up":function(R){var N=Math.sqrt(R/Th),U=N*Th/2;return"M0,"+-U+"L"+N+","+U+" "+-N+","+U+"Z"}});e.svg.symbolTypes=x2.keys();var Th=Math.sqrt(3),b2=Math.tan(30*oe);ee.transition=function(R){for(var N=dl||++Eh,U=Sh(R),Y=[],Z,K,fe=Qf||{time:Date.now(),ease:Zl,delay:0,duration:250},se=-1,ce=this.length;++se<ce;){Y.push(Z=[]);for(var ge=this[se],ye=-1,ke=ge.length;++ye<ke;)(K=ge[ye])&&eu(K,ye,U,N,fe),Z.push(K)}return ef(Y,U,N)},ee.interrupt=function(R){return this.each(R==null?Mh:w1(Sh(R)))};var Mh=w1(Sh());function w1(R){return function(){var N,U,Y;(N=this[R])&&(Y=N[U=N.active])&&(Y.timer.c=null,Y.timer.t=NaN,--N.count?delete N[U]:delete this[R],N.active+=.5,Y.event&&Y.event.interrupt.call(this,this.__data__,Y.index))}}function ef(R,N,U){return B(R,da),R.namespace=N,R.id=U,R}var da=[],Eh=0,dl,Qf;da.call=ee.call,da.empty=ee.empty,da.node=ee.node,da.size=ee.size,e.transition=function(R,N){return R&&R.transition?dl?R.transition(N):R:e.selection().transition(R)},e.transition.prototype=da,da.select=function(R){var N=this.id,U=this.namespace,Y=[],Z,K,fe;R=H(R);for(var se=-1,ce=this.length;++se<ce;){Y.push(Z=[]);for(var ge=this[se],ye=-1,ke=ge.length;++ye<ke;)(fe=ge[ye])&&(K=R.call(fe,fe.__data__,ye,se))?("__data__"in fe&&(K.__data__=fe.__data__),eu(K,ye,U,N,fe[U][N]),Z.push(K)):Z.push(null)}return ef(Y,U,N)},da.selectAll=function(R){var N=this.id,U=this.namespace,Y=[],Z,K,fe,se,ce;R=re(R);for(var ge=-1,ye=this.length;++ge<ye;)for(var ke=this[ge],Re=-1,Qe=ke.length;++Re<Qe;)if(fe=ke[Re]){ce=fe[U][N],K=R.call(fe,fe.__data__,Re,ge),Y.push(Z=[]);for(var sr=-1,Pe=K.length;++sr<Pe;)(se=K[sr])&&eu(se,sr,U,N,ce),Z.push(se)}return ef(Y,U,N)},da.filter=function(R){var N=[],U,Y,Z;typeof R!="function"&&(R=pe(R));for(var K=0,fe=this.length;K<fe;K++){N.push(U=[]);for(var Y=this[K],se=0,ce=Y.length;se<ce;se++)(Z=Y[se])&&R.call(Z,Z.__data__,se,K)&&U.push(Z)}return ef(N,this.namespace,this.id)},da.tween=function(R,N){var U=this.id,Y=this.namespace;return arguments.length<2?this.node()[Y][U].tween.get(R):Te(this,N==null?function(Z){Z[Y][U].tween.remove(R)}:function(Z){Z[Y][U].tween.set(R,N)})};function Rc(R,N,U,Y){var Z=R.id,K=R.namespace;return Te(R,typeof U=="function"?function(fe,se,ce){fe[K][Z].tween.set(N,Y(U.call(fe,fe.__data__,se,ce)))}:(U=Y(U),function(fe){fe[K][Z].tween.set(N,U)}))}da.attr=function(R,N){if(arguments.length<2){for(N in R)this.attr(N,R[N]);return this}var U=R=="transform"?Zd:fl,Y=e.ns.qualify(R);function Z(){this.removeAttribute(Y)}function K(){this.removeAttributeNS(Y.space,Y.local)}function fe(ce){return ce==null?Z:(ce+="",function(){var ge=this.getAttribute(Y),ye;return ge!==ce&&(ye=U(ge,ce),function(ke){this.setAttribute(Y,ye(ke))})})}function se(ce){return ce==null?K:(ce+="",function(){var ge=this.getAttributeNS(Y.space,Y.local),ye;return ge!==ce&&(ye=U(ge,ce),function(ke){this.setAttributeNS(Y.space,Y.local,ye(ke))})})}return Rc(this,"attr."+R,N,Y.local?se:fe)},da.attrTween=function(R,N){var U=e.ns.qualify(R);function Y(K,fe){var se=N.call(this,K,fe,this.getAttribute(U));return se&&function(ce){this.setAttribute(U,se(ce))}}function Z(K,fe){var se=N.call(this,K,fe,this.getAttributeNS(U.space,U.local));return se&&function(ce){this.setAttributeNS(U.space,U.local,se(ce))}}return this.tween("attr."+R,U.local?Z:Y)},da.style=function(R,N,U){var Y=arguments.length;if(Y<3){if(typeof R!="string"){Y<2&&(N="");for(U in R)this.style(U,R[U],N);return this}U=""}function Z(){this.style.removeProperty(R)}function K(fe){return fe==null?Z:(fe+="",function(){var se=o(this).getComputedStyle(this,null).getPropertyValue(R),ce;return se!==fe&&(ce=fl(se,fe),function(ge){this.style.setProperty(R,ce(ge),U)})})}return Rc(this,"style."+R,N,K)},da.styleTween=function(R,N,U){arguments.length<3&&(U="");function Y(Z,K){var fe=N.call(this,Z,K,o(this).getComputedStyle(this,null).getPropertyValue(R));return fe&&function(se){this.style.setProperty(R,fe(se),U)}}return this.tween("style."+R,Y)},da.text=function(R){return Rc(this,"text",R,A1)};function A1(R){return R==null&&(R=""),function(){this.textContent=R}}da.remove=function(){var R=this.namespace;return this.each("end.transition",function(){var N;this[R].count<2&&(N=this.parentNode)&&N.removeChild(this)})},da.ease=function(R){var N=this.id,U=this.namespace;return arguments.length<1?this.node()[U][N].ease:(typeof R!="function"&&(R=e.ease.apply(e,arguments)),Te(this,function(Y){Y[U][N].ease=R}))},da.delay=function(R){var N=this.id,U=this.namespace;return arguments.length<1?this.node()[U][N].delay:Te(this,typeof R=="function"?function(Y,Z,K){Y[U][N].delay=+R.call(Y,Y.__data__,Z,K)}:(R=+R,function(Y){Y[U][N].delay=R}))},da.duration=function(R){var N=this.id,U=this.namespace;return arguments.length<1?this.node()[U][N].duration:Te(this,typeof R=="function"?function(Y,Z,K){Y[U][N].duration=Math.max(1,R.call(Y,Y.__data__,Z,K))}:(R=Math.max(1,R),function(Y){Y[U][N].duration=R}))},da.each=function(R,N){var U=this.id,Y=this.namespace;if(arguments.length<2){var Z=Qf,K=dl;try{dl=U,Te(this,function(fe,se,ce){Qf=fe[Y][U],R.call(fe,fe.__data__,se,ce)})}finally{Qf=Z,dl=K}}else Te(this,function(fe){var se=fe[Y][U];(se.event||(se.event=e.dispatch("start","end","interrupt"))).on(R,N)});return this},da.transition=function(){for(var R=this.id,N=++Eh,U=this.namespace,Y=[],Z,K,fe,se,ce=0,ge=this.length;ce<ge;ce++){Y.push(Z=[]);for(var K=this[ce],ye=0,ke=K.length;ye<ke;ye++)(fe=K[ye])&&(se=fe[U][R],eu(fe,ye,U,N,{time:se.time,ease:se.ease,delay:se.delay+se.duration,duration:se.duration})),Z.push(fe)}return ef(Y,U,N)};function Sh(R){return R==null?"__transition__":"__transition_"+R+"__"}function eu(R,N,U,Y,Z){var K=R[U]||(R[U]={active:0,count:0}),fe=K[Y],se,ce,ge,ye,ke;function Re(Pe){var Ye=fe.delay;if(ce.t=Ye+se,Ye<=Pe)return Qe(Pe-Ye);ce.c=Qe}function Qe(Pe){var Ye=K.active,$e=K[Ye];$e&&($e.timer.c=null,$e.timer.t=NaN,--K.count,delete K[Ye],$e.event&&$e.event.interrupt.call(R,R.__data__,$e.index));for(var lr in K)if(+lr<Y){var fr=K[lr];fr.timer.c=null,fr.timer.t=NaN,--K.count,delete K[lr]}ce.c=sr,Gl(function(){return ce.c&&sr(Pe||1)&&(ce.c=null,ce.t=NaN),1},0,se),K.active=Y,fe.event&&fe.event.start.call(R,R.__data__,N),ke=[],fe.tween.forEach(function(Ze,Rr){(Rr=Rr.call(R,R.__data__,N))&&ke.push(Rr)}),ye=fe.ease,ge=fe.duration}function sr(Pe){for(var Ye=Pe/ge,$e=ye(Ye),lr=ke.length;lr>0;)ke[--lr].call(R,$e);if(Ye>=1)return fe.event&&fe.event.end.call(R,R.__data__,N),--K.count?delete K[Y]:delete R[U],1}fe||(se=Z.time,ce=Gl(Re,0,se),fe=K[Y]={tween:new b,time:se,timer:ce,delay:Z.delay,duration:Z.duration,ease:Z.ease,index:N},Z=null,++K.count)}e.svg.axis=function(){var R=e.scale.linear(),N=Ch,U=6,Y=6,Z=3,K=[10],fe=null,se;function ce(ge){ge.each(function(){var ye=e.select(this),ke=this.__chart__||R,Re=this.__chart__=R.copy(),Qe=fe==null?Re.ticks?Re.ticks.apply(Re,K):Re.domain():fe,sr=se==null?Re.tickFormat?Re.tickFormat.apply(Re,K):P:se,Pe=ye.selectAll(".tick").data(Qe,Re),Ye=Pe.enter().insert("g",".domain").attr("class","tick").style("opacity",Fe),$e=e.transition(Pe.exit()).style("opacity",Fe).remove(),lr=e.transition(Pe.order()).style("opacity",1),fr=Math.max(U,0)+Z,Ze,Rr=vh(Re),qr=ye.selectAll(".domain").data([0]),Zr=(qr.enter().append("path").attr("class","domain"),e.transition(qr));Ye.append("line"),Ye.append("text");var rt=Ye.select("line"),ht=lr.select("line"),vt=Pe.select("text").text(sr),Ht=Ye.select("text"),xt=lr.select("text"),qt=N==="top"||N==="left"?-1:1,Sn,pa,Pn,$r;if(N==="bottom"||N==="top"?(Ze=M1,Sn="x",Pn="y",pa="x2",$r="y2",vt.attr("dy",qt<0?"0em":".71em").style("text-anchor","middle"),Zr.attr("d","M"+Rr[0]+","+qt*Y+"V0H"+Rr[1]+"V"+qt*Y)):(Ze=E1,Sn="y",Pn="x",pa="y2",$r="x2",vt.attr("dy",".32em").style("text-anchor",qt<0?"end":"start"),Zr.attr("d","M"+qt*Y+","+Rr[0]+"H0V"+Rr[1]+"H"+qt*Y)),rt.attr($r,qt*U),Ht.attr(Pn,qt*fr),ht.attr(pa,0).attr($r,qt*U),xt.attr(Sn,0).attr(Pn,qt*fr),Re.rangeBand){var Vt=Re,en=Vt.rangeBand()/2;ke=Re=function(wn){return Vt(wn)+en}}else ke.rangeBand?ke=Re:$e.call(Ze,Re,ke);Ye.call(Ze,ke,Re),lr.call(Ze,Re,Re)})}return ce.scale=function(ge){return arguments.length?(R=ge,ce):R},ce.orient=function(ge){return arguments.length?(N=ge in T1?ge+"":Ch,ce):N},ce.ticks=function(){return arguments.length?(K=t(arguments),ce):K},ce.tickValues=function(ge){return arguments.length?(fe=ge,ce):fe},ce.tickFormat=function(ge){return arguments.length?(se=ge,ce):se},ce.tickSize=function(ge){var ye=arguments.length;return ye?(U=+ge,Y=+arguments[ye-1],ce):U},ce.innerTickSize=function(ge){return arguments.length?(U=+ge,ce):U},ce.outerTickSize=function(ge){return arguments.length?(Y=+ge,ce):Y},ce.tickPadding=function(ge){return arguments.length?(Z=+ge,ce):Z},ce.tickSubdivide=function(){return arguments.length&&ce},ce};var Ch="bottom",T1={top:1,right:1,bottom:1,left:1};function M1(R,N,U){R.attr("transform",function(Y){var Z=N(Y);return"translate("+(isFinite(Z)?Z:U(Y))+",0)"})}function E1(R,N,U){R.attr("transform",function(Y){var Z=N(Y);return"translate(0,"+(isFinite(Z)?Z:U(Y))+")"})}e.svg.brush=function(){var R=j(ye,"brushstart","brush","brushend"),N=null,U=null,Y=[0,0],Z=[0,0],K,fe,se=!0,ce=!0,ge=Dc[0];function ye(Pe){Pe.each(function(){var Ye=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",sr).on("touchstart.brush",sr),$e=Ye.selectAll(".background").data([0]);$e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ye.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var lr=Ye.selectAll(".resize").data(ge,P);lr.exit().remove(),lr.enter().append("g").attr("class",function(qr){return"resize "+qr}).style("cursor",function(qr){return S1[qr]}).append("rect").attr("x",function(qr){return/[ew]$/.test(qr)?-3:null}).attr("y",function(qr){return/^[ns]/.test(qr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),lr.style("display",ye.empty()?"none":null);var fr=e.transition(Ye),Ze=e.transition($e),Rr;N&&(Rr=vh(N),Ze.attr("x",Rr[0]).attr("width",Rr[1]-Rr[0]),Re(fr)),U&&(Rr=vh(U),Ze.attr("y",Rr[0]).attr("height",Rr[1]-Rr[0]),Qe(fr)),ke(fr)})}ye.event=function(Pe){Pe.each(function(){var Ye=R.of(this,arguments),$e={x:Y,y:Z,i:K,j:fe},lr=this.__chart__||$e;this.__chart__=$e,dl?e.select(this).transition().each("start.brush",function(){K=lr.i,fe=lr.j,Y=lr.x,Z=lr.y,Ye({type:"brushstart"})}).tween("brush:brush",function(){var fr=bc(Y,$e.x),Ze=bc(Z,$e.y);return K=fe=null,function(Rr){Y=$e.x=fr(Rr),Z=$e.y=Ze(Rr),Ye({type:"brush",mode:"resize"})}}).each("end.brush",function(){K=$e.i,fe=$e.j,Ye({type:"brush",mode:"resize"}),Ye({type:"brushend"})}):(Ye({type:"brushstart"}),Ye({type:"brush",mode:"resize"}),Ye({type:"brushend"}))})};function ke(Pe){Pe.selectAll(".resize").attr("transform",function(Ye){return"translate("+Y[+/e$/.test(Ye)]+","+Z[+/^s/.test(Ye)]+")"})}function Re(Pe){Pe.select(".extent").attr("x",Y[0]),Pe.selectAll(".extent,.n>rect,.s>rect").attr("width",Y[1]-Y[0])}function Qe(Pe){Pe.select(".extent").attr("y",Z[0]),Pe.selectAll(".extent,.e>rect,.w>rect").attr("height",Z[1]-Z[0])}function sr(){var Pe=this,Ye=e.select(e.event.target),$e=R.of(Pe,arguments),lr=e.select(Pe),fr=Ye.datum(),Ze=!/^(n|s)$/.test(fr)&&N,Rr=!/^(e|w)$/.test(fr)&&U,qr=Ye.classed("extent"),Zr=Tr(Pe),rt,ht=e.mouse(Pe),vt,Ht=e.select(o(Pe)).on("keydown.brush",Sn).on("keyup.brush",pa);if(e.event.changedTouches?Ht.on("touchmove.brush",Pn).on("touchend.brush",Vt):Ht.on("mousemove.brush",Pn).on("mouseup.brush",Vt),lr.interrupt().selectAll("*").interrupt(),qr)ht[0]=Y[0]-ht[0],ht[1]=Z[0]-ht[1];else if(fr){var xt=+/w$/.test(fr),qt=+/^n/.test(fr);vt=[Y[1-xt]-ht[0],Z[1-qt]-ht[1]],ht[0]=Y[xt],ht[1]=Z[qt]}else e.event.altKey&&(rt=ht.slice());lr.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",Ye.style("cursor")),$e({type:"brushstart"}),Pn();function Sn(){e.event.keyCode==32&&(qr||(rt=null,ht[0]-=Y[1],ht[1]-=Z[1],qr=2),W())}function pa(){e.event.keyCode==32&&qr==2&&(ht[0]+=Y[1],ht[1]+=Z[1],qr=0,W())}function Pn(){var en=e.mouse(Pe),wn=!1;vt&&(en[0]+=vt[0],en[1]+=vt[1]),qr||(e.event.altKey?(rt||(rt=[(Y[0]+Y[1])/2,(Z[0]+Z[1])/2]),ht[0]=Y[+(en[0]<rt[0])],ht[1]=Z[+(en[1]<rt[1])]):rt=null),Ze&&$r(en,N,0)&&(Re(lr),wn=!0),Rr&&$r(en,U,1)&&(Qe(lr),wn=!0),wn&&(ke(lr),$e({type:"brush",mode:qr?"move":"resize"}))}function $r(en,wn,ea){var Ta=vh(wn),Qa=Ta[0],si=Ta[1],Mi=ht[ea],he=ea?Z:Y,Oe=he[1]-he[0],Ue,dr;if(qr&&(Qa-=Mi,si-=Oe+Mi),Ue=(ea?ce:se)?Math.max(Qa,Math.min(si,en[ea])):en[ea],qr?dr=(Ue+=Mi)+Oe:(rt&&(Mi=Math.max(Qa,Math.min(si,2*rt[ea]-Ue))),Mi<Ue?(dr=Ue,Ue=Mi):dr=Mi),he[0]!=Ue||he[1]!=dr)return ea?fe=null:K=null,he[0]=Ue,he[1]=dr,!0}function Vt(){Pn(),lr.style("pointer-events","all").selectAll(".resize").style("display",ye.empty()?"none":null),e.select("body").style("cursor",null),Ht.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Zr(),$e({type:"brushend"})}}return ye.x=function(Pe){return arguments.length?(N=Pe,ge=Dc[!N<<1|!U],ye):N},ye.y=function(Pe){return arguments.length?(U=Pe,ge=Dc[!N<<1|!U],ye):U},ye.clamp=function(Pe){return arguments.length?(N&&U?(se=!!Pe[0],ce=!!Pe[1]):N?se=!!Pe:U&&(ce=!!Pe),ye):N&&U?[se,ce]:N?se:U?ce:null},ye.extent=function(Pe){var Ye,$e,lr,fr,Ze;return arguments.length?(N&&(Ye=Pe[0],$e=Pe[1],U&&(Ye=Ye[0],$e=$e[0]),K=[Ye,$e],N.invert&&(Ye=N(Ye),$e=N($e)),$e<Ye&&(Ze=Ye,Ye=$e,$e=Ze),(Ye!=Y[0]||$e!=Y[1])&&(Y=[Ye,$e])),U&&(lr=Pe[0],fr=Pe[1],N&&(lr=lr[1],fr=fr[1]),fe=[lr,fr],U.invert&&(lr=U(lr),fr=U(fr)),fr<lr&&(Ze=lr,lr=fr,fr=Ze),(lr!=Z[0]||fr!=Z[1])&&(Z=[lr,fr])),ye):(N&&(K?(Ye=K[0],$e=K[1]):(Ye=Y[0],$e=Y[1],N.invert&&(Ye=N.invert(Ye),$e=N.invert($e)),$e<Ye&&(Ze=Ye,Ye=$e,$e=Ze))),U&&(fe?(lr=fe[0],fr=fe[1]):(lr=Z[0],fr=Z[1],U.invert&&(lr=U.invert(lr),fr=U.invert(fr)),fr<lr&&(Ze=lr,lr=fr,fr=Ze))),N&&U?[[Ye,lr],[$e,fr]]:N?[Ye,$e]:U&&[lr,fr])},ye.clear=function(){return ye.empty()||(Y=[0,0],Z=[0,0],K=fe=null),ye},ye.empty=function(){return!!N&&Y[0]==Y[1]||!!U&&Z[0]==Z[1]},e.rebind(ye,R,"on")};var S1={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Dc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=Po(function(R){return R.responseText}),e.json=function(R,N){return al(R,"application/json",C1,N)};function C1(R){return JSON.parse(R.responseText)}e.html=function(R,N){return al(R,"text/html",k1,N)};function k1(R){var N=n.createRange();return N.selectNode(n.body),N.createContextualFragment(R.responseText)}e.xml=Po(function(R){return R.responseXML}),typeof define=="function"&&define.amd?define(e):typeof A2=="object"&&A2.exports?A2.exports=e:this.d3=e}).apply(self)});var hw=ie((T2,kS)=>{(function(e,r){typeof T2=="object"&&typeof kS!="undefined"?r(T2):typeof define=="function"&&define.amd?define(["exports"],r):(e=e||self,r(e.d3=e.d3||{}))})(T2,function(e){"use strict";var r=new Date,t=new Date;function n(pe,xe,Te,qe){function er(ze){return pe(ze=arguments.length===0?new Date:new Date(+ze)),ze}return er.floor=function(ze){return pe(ze=new Date(+ze)),ze},er.ceil=function(ze){return pe(ze=new Date(ze-1)),xe(ze,1),pe(ze),ze},er.round=function(ze){var Ce=er(ze),Le=er.ceil(ze);return ze-Ce<Le-ze?Ce:Le},er.offset=function(ze,Ce){return xe(ze=new Date(+ze),Ce==null?1:Math.floor(Ce)),ze},er.range=function(ze,Ce,Le){var Ne=[],tr;if(ze=er.ceil(ze),Le=Le==null?1:Math.floor(Le),!(ze<Ce)||!(Le>0))return Ne;do Ne.push(tr=new Date(+ze)),xe(ze,Le),pe(ze);while(tr<ze&&ze<Ce);return Ne},er.filter=function(ze){return n(function(Ce){if(Ce>=Ce)for(;pe(Ce),!ze(Ce);)Ce.setTime(Ce-1)},function(Ce,Le){if(Ce>=Ce)if(Le<0)for(;++Le<=0;)for(;xe(Ce,-1),!ze(Ce););else for(;--Le>=0;)for(;xe(Ce,1),!ze(Ce););})},Te&&(er.count=function(ze,Ce){return r.setTime(+ze),t.setTime(+Ce),pe(r),pe(t),Math.floor(Te(r,t))},er.every=function(ze){return ze=Math.floor(ze),!isFinite(ze)||!(ze>0)?null:ze>1?er.filter(qe?function(Ce){return qe(Ce)%ze===0}:function(Ce){return er.count(0,Ce)%ze===0}):er}),er}var a=n(function(){},function(pe,xe){pe.setTime(+pe+xe)},function(pe,xe){return xe-pe});a.every=function(pe){return pe=Math.floor(pe),!isFinite(pe)||!(pe>0)?null:pe>1?n(function(xe){xe.setTime(Math.floor(xe/pe)*pe)},function(xe,Te){xe.setTime(+xe+Te*pe)},function(xe,Te){return(Te-xe)/pe}):a};var o=a.range,i=1e3,s=6e4,f=36e5,l=864e5,u=6048e5,c=n(function(pe){pe.setTime(pe-pe.getMilliseconds())},function(pe,xe){pe.setTime(+pe+xe*i)},function(pe,xe){return(xe-pe)/i},function(pe){return pe.getUTCSeconds()}),v=c.range,m=n(function(pe){pe.setTime(pe-pe.getMilliseconds()-pe.getSeconds()*i)},function(pe,xe){pe.setTime(+pe+xe*s)},function(pe,xe){return(xe-pe)/s},function(pe){return pe.getMinutes()}),x=m.range,A=n(function(pe){pe.setTime(pe-pe.getMilliseconds()-pe.getSeconds()*i-pe.getMinutes()*s)},function(pe,xe){pe.setTime(+pe+xe*f)},function(pe,xe){return(xe-pe)/f},function(pe){return pe.getHours()}),w=A.range,y=n(function(pe){pe.setHours(0,0,0,0)},function(pe,xe){pe.setDate(pe.getDate()+xe)},function(pe,xe){return(xe-pe-(xe.getTimezoneOffset()-pe.getTimezoneOffset())*s)/l},function(pe){return pe.getDate()-1}),_=y.range;function M(pe){return n(function(xe){xe.setDate(xe.getDate()-(xe.getDay()+7-pe)%7),xe.setHours(0,0,0,0)},function(xe,Te){xe.setDate(xe.getDate()+Te*7)},function(xe,Te){return(Te-xe-(Te.getTimezoneOffset()-xe.getTimezoneOffset())*s)/u})}var b=M(0),E=M(1),d=M(2),T=M(3),g=M(4),h=M(5),S=M(6),p=b.range,C=E.range,k=d.range,D=T.range,P=g.range,O=h.range,F=S.range,L=n(function(pe){pe.setDate(1),pe.setHours(0,0,0,0)},function(pe,xe){pe.setMonth(pe.getMonth()+xe)},function(pe,xe){return xe.getMonth()-pe.getMonth()+(xe.getFullYear()-pe.getFullYear())*12},function(pe){return pe.getMonth()}),I=L.range,q=n(function(pe){pe.setMonth(0,1),pe.setHours(0,0,0,0)},function(pe,xe){pe.setFullYear(pe.getFullYear()+xe)},function(pe,xe){return xe.getFullYear()-pe.getFullYear()},function(pe){return pe.getFullYear()});q.every=function(pe){return!isFinite(pe=Math.floor(pe))||!(pe>0)?null:n(function(xe){xe.setFullYear(Math.floor(xe.getFullYear()/pe)*pe),xe.setMonth(0,1),xe.setHours(0,0,0,0)},function(xe,Te){xe.setFullYear(xe.getFullYear()+Te*pe)})};var z=q.range,W=n(function(pe){pe.setUTCSeconds(0,0)},function(pe,xe){pe.setTime(+pe+xe*s)},function(pe,xe){return(xe-pe)/s},function(pe){return pe.getUTCMinutes()}),$=W.range,j=n(function(pe){pe.setUTCMinutes(0,0,0)},function(pe,xe){pe.setTime(+pe+xe*f)},function(pe,xe){return(xe-pe)/f},function(pe){return pe.getUTCHours()}),G=j.range,B=n(function(pe){pe.setUTCHours(0,0,0,0)},function(pe,xe){pe.setUTCDate(pe.getUTCDate()+xe)},function(pe,xe){return(xe-pe)/l},function(pe){return pe.getUTCDate()-1}),X=B.range;function te(pe){return n(function(xe){xe.setUTCDate(xe.getUTCDate()-(xe.getUTCDay()+7-pe)%7),xe.setUTCHours(0,0,0,0)},function(xe,Te){xe.setUTCDate(xe.getUTCDate()+Te*7)},function(xe,Te){return(Te-xe)/u})}var J=te(0),ae=te(1),ee=te(2),H=te(3),re=te(4),V=te(5),ne=te(6),le=J.range,de=ae.range,_e=ee.range,me=H.range,ve=re.range,be=V.range,we=ne.range,Se=n(function(pe){pe.setUTCDate(1),pe.setUTCHours(0,0,0,0)},function(pe,xe){pe.setUTCMonth(pe.getUTCMonth()+xe)},function(pe,xe){return xe.getUTCMonth()-pe.getUTCMonth()+(xe.getUTCFullYear()-pe.getUTCFullYear())*12},function(pe){return pe.getUTCMonth()}),Ae=Se.range,Ie=n(function(pe){pe.setUTCMonth(0,1),pe.setUTCHours(0,0,0,0)},function(pe,xe){pe.setUTCFullYear(pe.getUTCFullYear()+xe)},function(pe,xe){return xe.getUTCFullYear()-pe.getUTCFullYear()},function(pe){return pe.getUTCFullYear()});Ie.every=function(pe){return!isFinite(pe=Math.floor(pe))||!(pe>0)?null:n(function(xe){xe.setUTCFullYear(Math.floor(xe.getUTCFullYear()/pe)*pe),xe.setUTCMonth(0,1),xe.setUTCHours(0,0,0,0)},function(xe,Te){xe.setUTCFullYear(xe.getUTCFullYear()+Te*pe)})};var Ve=Ie.range;e.timeDay=y,e.timeDays=_,e.timeFriday=h,e.timeFridays=O,e.timeHour=A,e.timeHours=w,e.timeInterval=n,e.timeMillisecond=a,e.timeMilliseconds=o,e.timeMinute=m,e.timeMinutes=x,e.timeMonday=E,e.timeMondays=C,e.timeMonth=L,e.timeMonths=I,e.timeSaturday=S,e.timeSaturdays=F,e.timeSecond=c,e.timeSeconds=v,e.timeSunday=b,e.timeSundays=p,e.timeThursday=g,e.timeThursdays=P,e.timeTuesday=d,e.timeTuesdays=k,e.timeWednesday=T,e.timeWednesdays=D,e.timeWeek=b,e.timeWeeks=p,e.timeYear=q,e.timeYears=z,e.utcDay=B,e.utcDays=X,e.utcFriday=V,e.utcFridays=be,e.utcHour=j,e.utcHours=G,e.utcMillisecond=a,e.utcMilliseconds=o,e.utcMinute=W,e.utcMinutes=$,e.utcMonday=ae,e.utcMondays=de,e.utcMonth=Se,e.utcMonths=Ae,e.utcSaturday=ne,e.utcSaturdays=we,e.utcSecond=c,e.utcSeconds=v,e.utcSunday=J,e.utcSundays=le,e.utcThursday=re,e.utcThursdays=ve,e.utcTuesday=ee,e.utcTuesdays=_e,e.utcWednesday=H,e.utcWednesdays=me,e.utcWeek=J,e.utcWeeks=le,e.utcYear=Ie,e.utcYears=Ve,Object.defineProperty(e,"__esModule",{value:!0})})});var kh=ie((M2,LS)=>{(function(e,r){typeof M2=="object"&&typeof LS!="undefined"?r(M2,hw()):typeof define=="function"&&define.amd?define(["exports","d3-time"],r):(e=e||self,r(e.d3=e.d3||{},e.d3))})(M2,function(e,r){"use strict";function t(Me){if(0<=Me.y&&Me.y<100){var Fe=new Date(-1,Me.m,Me.d,Me.H,Me.M,Me.S,Me.L);return Fe.setFullYear(Me.y),Fe}return new Date(Me.y,Me.m,Me.d,Me.H,Me.M,Me.S,Me.L)}function n(Me){if(0<=Me.y&&Me.y<100){var Fe=new Date(Date.UTC(-1,Me.m,Me.d,Me.H,Me.M,Me.S,Me.L));return Fe.setUTCFullYear(Me.y),Fe}return new Date(Date.UTC(Me.y,Me.m,Me.d,Me.H,Me.M,Me.S,Me.L))}function a(Me,Fe,ur){return{y:Me,m:Fe,d:ur,H:0,M:0,S:0,L:0}}function o(Me){var Fe=Me.dateTime,ur=Me.date,je=Me.time,Er=Me.periods,ue=Me.days,Q=Me.shortDays,oe=Me.months,Ee=Me.shortMonths,Xe=v(Er),ar=m(Er),yr=v(ue),Kr=m(ue),mt=v(Q),Ft=m(Q),wt=v(oe),bt=m(oe),Ln=v(Ee),tn=m(Ee),it={a:Yi,A:Fi,b:gi,B:lo,c:null,d:L,e:L,f:$,H:I,I:q,j:z,L:W,m:j,M:G,p:Wi,q:Cs,Q:Ce,s:Le,S:B,u:X,U:te,V:J,w:ae,W:ee,x:null,X:null,y:H,Y:re,Z:V,"%":ze},Mn={a:ks,A:Xi,b:Fa,B:Zi,c:null,d:ne,e:ne,f:ve,H:le,I:de,j:_e,L:me,m:be,M:we,p:Io,q:Ti,Q:Ce,s:Le,S:Se,u:Ae,U:Ie,V:Ve,w:pe,W:xe,x:null,X:null,y:Te,Y:qe,Z:er,"%":ze},Lt={a:Gn,A:Vn,b:Va,B:va,c:Qn,d:g,e:g,f:D,H:S,I:S,j:h,L:k,m:T,M:p,p:Yt,q:d,Q:O,s:F,S:C,u:A,U:w,V:y,w:x,W:_,x:xn,X:la,y:b,Y:M,Z:E,"%":P};it.x=$t(ur,it),it.X=$t(je,it),it.c=$t(Fe,it),Mn.x=$t(ur,Mn),Mn.X=$t(je,Mn),Mn.c=$t(Fe,Mn);function $t(St,un){return function(En){var tt=[],Ka=-1,Hn=0,Ya=St.length,on,Po,al;for(En instanceof Date||(En=new Date(+En));++Ka<Ya;)St.charCodeAt(Ka)===37&&(tt.push(St.slice(Hn,Ka)),(Po=i[on=St.charAt(++Ka)])!=null?on=St.charAt(++Ka):Po=on==="e"?" ":"0",(al=un[on])&&(on=al(En,Po)),tt.push(on),Hn=Ka+1);return tt.push(St.slice(Hn,Ka)),tt.join("")}}function Un(St,un){return function(En){var tt=a(1900,void 0,1),Ka=Gt(tt,St,En+="",0),Hn,Ya;if(Ka!=En.length)return null;if("Q"in tt)return new Date(tt.Q);if("s"in tt)return new Date(tt.s*1e3+("L"in tt?tt.L:0));if(un&&!("Z"in tt)&&(tt.Z=0),"p"in tt&&(tt.H=tt.H%12+tt.p*12),tt.m===void 0&&(tt.m="q"in tt?tt.q:0),"V"in tt){if(tt.V<1||tt.V>53)return null;"w"in tt||(tt.w=1),"Z"in tt?(Hn=n(a(tt.y,0,1)),Ya=Hn.getUTCDay(),Hn=Ya>4||Ya===0?r.utcMonday.ceil(Hn):r.utcMonday(Hn),Hn=r.utcDay.offset(Hn,(tt.V-1)*7),tt.y=Hn.getUTCFullYear(),tt.m=Hn.getUTCMonth(),tt.d=Hn.getUTCDate()+(tt.w+6)%7):(Hn=t(a(tt.y,0,1)),Ya=Hn.getDay(),Hn=Ya>4||Ya===0?r.timeMonday.ceil(Hn):r.timeMonday(Hn),Hn=r.timeDay.offset(Hn,(tt.V-1)*7),tt.y=Hn.getFullYear(),tt.m=Hn.getMonth(),tt.d=Hn.getDate()+(tt.w+6)%7)}else("W"in tt||"U"in tt)&&("w"in tt||(tt.w="u"in tt?tt.u%7:"W"in tt?1:0),Ya="Z"in tt?n(a(tt.y,0,1)).getUTCDay():t(a(tt.y,0,1)).getDay(),tt.m=0,tt.d="W"in tt?(tt.w+6)%7+tt.W*7-(Ya+5)%7:tt.w+tt.U*7-(Ya+6)%7);return"Z"in tt?(tt.H+=tt.Z/100|0,tt.M+=tt.Z%100,n(tt)):t(tt)}}function Gt(St,un,En,tt){for(var Ka=0,Hn=un.length,Ya=En.length,on,Po;Ka<Hn;){if(tt>=Ya)return-1;if(on=un.charCodeAt(Ka++),on===37){if(on=un.charAt(Ka++),Po=Lt[on in i?un.charAt(Ka++):on],!Po||(tt=Po(St,En,tt))<0)return-1}else if(on!=En.charCodeAt(tt++))return-1}return tt}function Yt(St,un,En){var tt=Xe.exec(un.slice(En));return tt?(St.p=ar[tt[0].toLowerCase()],En+tt[0].length):-1}function Gn(St,un,En){var tt=mt.exec(un.slice(En));return tt?(St.w=Ft[tt[0].toLowerCase()],En+tt[0].length):-1}function Vn(St,un,En){var tt=yr.exec(un.slice(En));return tt?(St.w=Kr[tt[0].toLowerCase()],En+tt[0].length):-1}function Va(St,un,En){var tt=Ln.exec(un.slice(En));return tt?(St.m=tn[tt[0].toLowerCase()],En+tt[0].length):-1}function va(St,un,En){var tt=wt.exec(un.slice(En));return tt?(St.m=bt[tt[0].toLowerCase()],En+tt[0].length):-1}function Qn(St,un,En){return Gt(St,Fe,un,En)}function xn(St,un,En){return Gt(St,ur,un,En)}function la(St,un,En){return Gt(St,je,un,En)}function Yi(St){return Q[St.getDay()]}function Fi(St){return ue[St.getDay()]}function gi(St){return Ee[St.getMonth()]}function lo(St){return oe[St.getMonth()]}function Wi(St){return Er[+(St.getHours()>=12)]}function Cs(St){return 1+~~(St.getMonth()/3)}function ks(St){return Q[St.getUTCDay()]}function Xi(St){return ue[St.getUTCDay()]}function Fa(St){return Ee[St.getUTCMonth()]}function Zi(St){return oe[St.getUTCMonth()]}function Io(St){return Er[+(St.getUTCHours()>=12)]}function Ti(St){return 1+~~(St.getUTCMonth()/3)}return{format:function(St){var un=$t(St+="",it);return un.toString=function(){return St},un},parse:function(St){var un=Un(St+="",!1);return un.toString=function(){return St},un},utcFormat:function(St){var un=$t(St+="",Mn);return un.toString=function(){return St},un},utcParse:function(St){var un=Un(St+="",!0);return un.toString=function(){return St},un}}}var i={"-":"",_:" ",0:"0"},s=/^\s*\d+/,f=/^%/,l=/[\\^$*+?|[\]().{}]/g;function u(Me,Fe,ur){var je=Me<0?"-":"",Er=(je?-Me:Me)+"",ue=Er.length;return je+(ue<ur?new Array(ur-ue+1).join(Fe)+Er:Er)}function c(Me){return Me.replace(l,"\\$&")}function v(Me){return new RegExp("^(?:"+Me.map(c).join("|")+")","i")}function m(Me){for(var Fe={},ur=-1,je=Me.length;++ur<je;)Fe[Me[ur].toLowerCase()]=ur;return Fe}function x(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+1));return je?(Me.w=+je[0],ur+je[0].length):-1}function A(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+1));return je?(Me.u=+je[0],ur+je[0].length):-1}function w(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.U=+je[0],ur+je[0].length):-1}function y(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.V=+je[0],ur+je[0].length):-1}function _(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.W=+je[0],ur+je[0].length):-1}function M(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+4));return je?(Me.y=+je[0],ur+je[0].length):-1}function b(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.y=+je[0]+(+je[0]>68?1900:2e3),ur+je[0].length):-1}function E(Me,Fe,ur){var je=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Fe.slice(ur,ur+6));return je?(Me.Z=je[1]?0:-(je[2]+(je[3]||"00")),ur+je[0].length):-1}function d(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+1));return je?(Me.q=je[0]*3-3,ur+je[0].length):-1}function T(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.m=je[0]-1,ur+je[0].length):-1}function g(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.d=+je[0],ur+je[0].length):-1}function h(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+3));return je?(Me.m=0,Me.d=+je[0],ur+je[0].length):-1}function S(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.H=+je[0],ur+je[0].length):-1}function p(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.M=+je[0],ur+je[0].length):-1}function C(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+2));return je?(Me.S=+je[0],ur+je[0].length):-1}function k(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+3));return je?(Me.L=+je[0],ur+je[0].length):-1}function D(Me,Fe,ur){var je=s.exec(Fe.slice(ur,ur+6));return je?(Me.L=Math.floor(je[0]/1e3),ur+je[0].length):-1}function P(Me,Fe,ur){var je=f.exec(Fe.slice(ur,ur+1));return je?ur+je[0].length:-1}function O(Me,Fe,ur){var je=s.exec(Fe.slice(ur));return je?(Me.Q=+je[0],ur+je[0].length):-1}function F(Me,Fe,ur){var je=s.exec(Fe.slice(ur));return je?(Me.s=+je[0],ur+je[0].length):-1}function L(Me,Fe){return u(Me.getDate(),Fe,2)}function I(Me,Fe){return u(Me.getHours(),Fe,2)}function q(Me,Fe){return u(Me.getHours()%12||12,Fe,2)}function z(Me,Fe){return u(1+r.timeDay.count(r.timeYear(Me),Me),Fe,3)}function W(Me,Fe){return u(Me.getMilliseconds(),Fe,3)}function $(Me,Fe){return W(Me,Fe)+"000"}function j(Me,Fe){return u(Me.getMonth()+1,Fe,2)}function G(Me,Fe){return u(Me.getMinutes(),Fe,2)}function B(Me,Fe){return u(Me.getSeconds(),Fe,2)}function X(Me){var Fe=Me.getDay();return Fe===0?7:Fe}function te(Me,Fe){return u(r.timeSunday.count(r.timeYear(Me)-1,Me),Fe,2)}function J(Me,Fe){var ur=Me.getDay();return Me=ur>=4||ur===0?r.timeThursday(Me):r.timeThursday.ceil(Me),u(r.timeThursday.count(r.timeYear(Me),Me)+(r.timeYear(Me).getDay()===4),Fe,2)}function ae(Me){return Me.getDay()}function ee(Me,Fe){return u(r.timeMonday.count(r.timeYear(Me)-1,Me),Fe,2)}function H(Me,Fe){return u(Me.getFullYear()%100,Fe,2)}function re(Me,Fe){return u(Me.getFullYear()%1e4,Fe,4)}function V(Me){var Fe=Me.getTimezoneOffset();return(Fe>0?"-":(Fe*=-1,"+"))+u(Fe/60|0,"0",2)+u(Fe%60,"0",2)}function ne(Me,Fe){return u(Me.getUTCDate(),Fe,2)}function le(Me,Fe){return u(Me.getUTCHours(),Fe,2)}function de(Me,Fe){return u(Me.getUTCHours()%12||12,Fe,2)}function _e(Me,Fe){return u(1+r.utcDay.count(r.utcYear(Me),Me),Fe,3)}function me(Me,Fe){return u(Me.getUTCMilliseconds(),Fe,3)}function ve(Me,Fe){return me(Me,Fe)+"000"}function be(Me,Fe){return u(Me.getUTCMonth()+1,Fe,2)}function we(Me,Fe){return u(Me.getUTCMinutes(),Fe,2)}function Se(Me,Fe){return u(Me.getUTCSeconds(),Fe,2)}function Ae(Me){var Fe=Me.getUTCDay();return Fe===0?7:Fe}function Ie(Me,Fe){return u(r.utcSunday.count(r.utcYear(Me)-1,Me),Fe,2)}function Ve(Me,Fe){var ur=Me.getUTCDay();return Me=ur>=4||ur===0?r.utcThursday(Me):r.utcThursday.ceil(Me),u(r.utcThursday.count(r.utcYear(Me),Me)+(r.utcYear(Me).getUTCDay()===4),Fe,2)}function pe(Me){return Me.getUTCDay()}function xe(Me,Fe){return u(r.utcMonday.count(r.utcYear(Me)-1,Me),Fe,2)}function Te(Me,Fe){return u(Me.getUTCFullYear()%100,Fe,2)}function qe(Me,Fe){return u(Me.getUTCFullYear()%1e4,Fe,4)}function er(){return"+0000"}function ze(){return"%"}function Ce(Me){return+Me}function Le(Me){return Math.floor(+Me/1e3)}var Ne;tr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tr(Me){return Ne=o(Me),e.timeFormat=Ne.format,e.timeParse=Ne.parse,e.utcFormat=Ne.utcFormat,e.utcParse=Ne.utcParse,Ne}var ir="%Y-%m-%dT%H:%M:%S.%LZ";function mr(Me){return Me.toISOString()}var Tr=Date.prototype.toISOString?mr:e.utcFormat(ir);function pr(Me){var Fe=new Date(Me);return isNaN(Fe)?null:Fe}var nr=+new Date("2000-01-01T00:00:00.000Z")?pr:e.utcParse(ir);e.isoFormat=Tr,e.isoParse=nr,e.timeFormatDefaultLocale=tr,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})})});var vw=ie((E2,RS)=>{(function(e,r){typeof E2=="object"&&typeof RS!="undefined"?r(E2):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e.d3=e.d3||{}))})(E2,function(e){"use strict";function r(T){return Math.abs(T=Math.round(T))>=1e21?T.toLocaleString("en").replace(/,/g,""):T.toString(10)}function t(T,g){if((h=(T=g?T.toExponential(g-1):T.toExponential()).indexOf("e"))<0)return null;var h,S=T.slice(0,h);return[S.length>1?S[0]+S.slice(2):S,+T.slice(h+1)]}function n(T){return T=t(Math.abs(T)),T?T[1]:NaN}function a(T,g){return function(h,S){for(var p=h.length,C=[],k=0,D=T[0],P=0;p>0&&D>0&&(P+D+1>S&&(D=Math.max(1,S-P)),C.push(h.substring(p-=D,p+D)),!((P+=D+1)>S));)D=T[k=(k+1)%T.length];return C.reverse().join(g)}}function o(T){return function(g){return g.replace(/[0-9]/g,function(h){return T[+h]})}}var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(T){if(!(g=i.exec(T)))throw new Error("invalid format: "+T);var g;return new f({fill:g[1],align:g[2],sign:g[3],symbol:g[4],zero:g[5],width:g[6],comma:g[7],precision:g[8]&&g[8].slice(1),trim:g[9],type:g[10]})}s.prototype=f.prototype;function f(T){this.fill=T.fill===void 0?" ":T.fill+"",this.align=T.align===void 0?">":T.align+"",this.sign=T.sign===void 0?"-":T.sign+"",this.symbol=T.symbol===void 0?"":T.symbol+"",this.zero=!!T.zero,this.width=T.width===void 0?void 0:+T.width,this.comma=!!T.comma,this.precision=T.precision===void 0?void 0:+T.precision,this.trim=!!T.trim,this.type=T.type===void 0?"":T.type+""}f.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l(T){e:for(var g=T.length,h=1,S=-1,p;h<g;++h)switch(T[h]){case".":S=p=h;break;case"0":S===0&&(S=h),p=h;break;default:if(!+T[h])break e;S>0&&(S=0);break}return S>0?T.slice(0,S)+T.slice(p+1):T}var u;function c(T,g){var h=t(T,g);if(!h)return T+"";var S=h[0],p=h[1],C=p-(u=Math.max(-8,Math.min(8,Math.floor(p/3)))*3)+1,k=S.length;return C===k?S:C>k?S+new Array(C-k+1).join("0"):C>0?S.slice(0,C)+"."+S.slice(C):"0."+new Array(1-C).join("0")+t(T,Math.max(0,g+C-1))[0]}function v(T,g){var h=t(T,g);if(!h)return T+"";var S=h[0],p=h[1];return p<0?"0."+new Array(-p).join("0")+S:S.length>p+1?S.slice(0,p+1)+"."+S.slice(p+1):S+new Array(p-S.length+2).join("0")}var m={"%":function(T,g){return(T*100).toFixed(g)},b:function(T){return Math.round(T).toString(2)},c:function(T){return T+""},d:r,e:function(T,g){return T.toExponential(g)},f:function(T,g){return T.toFixed(g)},g:function(T,g){return T.toPrecision(g)},o:function(T){return Math.round(T).toString(8)},p:function(T,g){return v(T*100,g)},r:v,s:c,X:function(T){return Math.round(T).toString(16).toUpperCase()},x:function(T){return Math.round(T).toString(16)}};function x(T){return T}var A=Array.prototype.map,w=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function y(T){var g=T.grouping===void 0||T.thousands===void 0?x:a(A.call(T.grouping,Number),T.thousands+""),h=T.currency===void 0?"":T.currency[0]+"",S=T.currency===void 0?"":T.currency[1]+"",p=T.decimal===void 0?".":T.decimal+"",C=T.numerals===void 0?x:o(A.call(T.numerals,String)),k=T.percent===void 0?"%":T.percent+"",D=T.minus===void 0?"-":T.minus+"",P=T.nan===void 0?"NaN":T.nan+"";function O(L){L=s(L);var I=L.fill,q=L.align,z=L.sign,W=L.symbol,$=L.zero,j=L.width,G=L.comma,B=L.precision,X=L.trim,te=L.type;te==="n"?(G=!0,te="g"):m[te]||(B===void 0&&(B=12),X=!0,te="g"),($||I==="0"&&q==="=")&&($=!0,I="0",q="=");var J=W==="$"?h:W==="#"&&/[boxX]/.test(te)?"0"+te.toLowerCase():"",ae=W==="$"?S:/[%p]/.test(te)?k:"",ee=m[te],H=/[defgprs%]/.test(te);B=B===void 0?6:/[gprs]/.test(te)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function re(V){var ne=J,le=ae,de,_e,me;if(te==="c")le=ee(V)+le,V="";else{V=+V;var ve=V<0||1/V<0;if(V=isNaN(V)?P:ee(Math.abs(V),B),X&&(V=l(V)),ve&&+V==0&&z!=="+"&&(ve=!1),ne=(ve?z==="("?z:D:z==="-"||z==="("?"":z)+ne,le=(te==="s"?w[8+u/3]:"")+le+(ve&&z==="("?")":""),H){for(de=-1,_e=V.length;++de<_e;)if(me=V.charCodeAt(de),48>me||me>57){le=(me===46?p+V.slice(de+1):V.slice(de))+le,V=V.slice(0,de);break}}}G&&!$&&(V=g(V,1/0));var be=ne.length+V.length+le.length,we=be<j?new Array(j-be+1).join(I):"";switch(G&&$&&(V=g(we+V,we.length?j-le.length:1/0),we=""),q){case"<":V=ne+V+le+we;break;case"=":V=ne+we+V+le;break;case"^":V=we.slice(0,be=we.length>>1)+ne+V+le+we.slice(be);break;default:V=we+ne+V+le;break}return C(V)}return re.toString=function(){return L+""},re}function F(L,I){var q=O((L=s(L),L.type="f",L)),z=Math.max(-8,Math.min(8,Math.floor(n(I)/3)))*3,W=Math.pow(10,-z),$=w[8+z/3];return function(j){return q(W*j)+$}}return{format:O,formatPrefix:F}}var _;M({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function M(T){return _=y(T),e.format=_.format,e.formatPrefix=_.formatPrefix,_}function b(T){return Math.max(0,-n(Math.abs(T)))}function E(T,g){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(g)/3)))*3-n(Math.abs(T)))}function d(T,g){return T=Math.abs(T),g=Math.abs(g)-T,Math.max(0,n(g)-n(T))+1}e.FormatSpecifier=f,e.formatDefaultLocale=M,e.formatLocale=y,e.formatSpecifier=s,e.precisionFixed=b,e.precisionPrefix=E,e.precisionRound=d,Object.defineProperty(e,"__esModule",{value:!0})})});var FS=ie((dRe,DS)=>{"use strict";DS.exports=function(e){for(var r=e.length,t,n=0;n<r;n++)if(t=e.charCodeAt(n),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}});var cn=ie((pRe,IS)=>{"use strict";var Tse=FS();IS.exports=function(e){var r=typeof e;if(r==="string"){var t=e;if(e=+e,e===0&&Tse(t))return!1}else if(r!=="number")return!1;return e-e<1}});var ta=ie((gRe,PS)=>{"use strict";PS.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var dw=ie((S2,OS)=>{(function(e,r){typeof S2=="object"&&typeof OS!="undefined"?r(S2):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e["base64-arraybuffer"]={}))})(S2,function(e){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<r.length;n++)t[r.charCodeAt(n)]=n;var a=function(i){var s=new Uint8Array(i),f,l=s.length,u="";for(f=0;f<l;f+=3)u+=r[s[f]>>2],u+=r[(s[f]&3)<<4|s[f+1]>>4],u+=r[(s[f+1]&15)<<2|s[f+2]>>6],u+=r[s[f+2]&63];return l%3===2?u=u.substring(0,u.length-1)+"=":l%3===1&&(u=u.substring(0,u.length-2)+"=="),u},o=function(i){var s=i.length*.75,f=i.length,l,u=0,c,v,m,x;i[i.length-1]==="="&&(s--,i[i.length-2]==="="&&s--);var A=new ArrayBuffer(s),w=new Uint8Array(A);for(l=0;l<f;l+=4)c=t[i.charCodeAt(l)],v=t[i.charCodeAt(l+1)],m=t[i.charCodeAt(l+2)],x=t[i.charCodeAt(l+3)],w[u++]=c<<2|v>>4,w[u++]=(v&15)<<4|m>>2,w[u++]=(m&3)<<6|x&63;return A};e.decode=o,e.encode=a,Object.defineProperty(e,"__esModule",{value:!0})})});var nu=ie((yRe,NS)=>{"use strict";NS.exports=function(r){return window&&window.process&&window.process.versions?Object.prototype.toString.call(r)==="[object Object]":Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r).hasOwnProperty("hasOwnProperty")}});var mo=ie(Fs=>{"use strict";var Mse=dw().decode,Ese=nu(),pw=Array.isArray,Sse=ArrayBuffer,Cse=DataView;function BS(e){return Sse.isView(e)&&!(e instanceof Cse)}Fs.isTypedArray=BS;function C2(e){return pw(e)||BS(e)}Fs.isArrayOrTypedArray=C2;function kse(e){return!C2(e[0])}Fs.isArray1D=kse;Fs.ensureArray=function(e,r){return pw(e)||(e=[]),e.length=r,e};var ui={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};ui.uint8c=ui.u1c;ui.uint8=ui.u1;ui.int8=ui.i1;ui.uint16=ui.u2;ui.int16=ui.i2;ui.uint32=ui.u4;ui.int32=ui.i4;ui.float32=ui.f4;ui.float64=ui.f8;function gw(e){return e.constructor===ArrayBuffer}Fs.isArrayBuffer=gw;Fs.decodeTypedArraySpec=function(e){var r=[],t=Lse(e),n=t.dtype,a=ui[n];if(!a)throw new Error('Error in dtype: "'+n+'"');var o=a.BYTES_PER_ELEMENT,i=t.bdata;gw(i)||(i=Mse(i));var s=t.shape===void 0?[i.byteLength/o]:(""+t.shape).split(",");s.reverse();var f=s.length,l,u,c=+s[0],v=o*c,m=0;if(f===1)r=new a(i);else if(f===2)for(l=+s[1],u=0;u<l;u++)r[u]=new a(i,m,c),m+=v;else if(f===3){l=+s[1];for(var x=+s[2],A=0;A<x;A++)for(r[A]=[],u=0;u<l;u++)r[A][u]=new a(i,m,c),m+=v}else throw new Error("ndim: "+f+'is not supported with the shape:"'+t.shape+'"');return r.bdata=t.bdata,r.dtype=t.dtype,r.shape=s.reverse().join(","),e._inputArray=r,r};Fs.isTypedArraySpec=function(e){return Ese(e)&&e.hasOwnProperty("dtype")&&typeof e.dtype=="string"&&e.hasOwnProperty("bdata")&&(typeof e.bdata=="string"||gw(e.bdata))&&(e.shape===void 0||e.hasOwnProperty("shape")&&(typeof e.shape=="string"||typeof e.shape=="number"))};function Lse(e){return{bdata:e.bdata,dtype:e.dtype,shape:e.shape}}Fs.concat=function(){var e=[],r=!0,t=0,n,a,o,i,s,f,l,u;for(o=0;o<arguments.length;o++)i=arguments[o],f=i.length,f&&(a?e.push(i):(a=i,s=f),pw(i)?n=!1:(r=!1,t?n!==i.constructor&&(n=!1):n=i.constructor),t+=f);if(!t)return[];if(!e.length)return a;if(r)return a.concat.apply(a,e);if(n){for(l=new n(t),l.set(a),o=0;o<e.length;o++)i=e[o],l.set(i,s),s+=i.length;return l}for(l=new Array(t),u=0;u<a.length;u++)l[u]=a[u];for(o=0;o<e.length;o++){for(i=e[o],u=0;u<i.length;u++)l[s+u]=i[u];s+=u}return l};Fs.maxRowLength=function(e){return qS(e,Math.max,0)};Fs.minRowLength=function(e){return qS(e,Math.min,1/0)};function qS(e,r,t){if(C2(e))if(C2(e[0])){for(var n=t,a=0;a<e.length;a++)n=r(n,e[a].length);return n}else return e.length;return 0}});var k2=ie((xRe,VS)=>{"use strict";var zS=cn(),mw=mo().isArrayOrTypedArray;VS.exports=function(r,t){if(zS(t))t=String(t);else if(typeof t!="string"||t.substr(t.length-4)==="[-1]")throw"bad property string";var n=t.split("."),a,o,i,s;for(s=0;s<n.length;s++)if(String(n[s]).slice(0,2)==="__")throw"bad property string";for(s=0;s<n.length;){if(a=String(n[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),a){if(a[1])n[s]=a[1];else if(s===0)n.splice(0,1);else throw"bad property string";for(o=a[2].substr(1,a[2].length-2).split("]["),i=0;i<o.length;i++)s++,n.splice(s,0,Number(o[i]))}s++}return typeof r!="object"?Ise(r,t,n):{set:GS(r,n,t),get:US(r,n),astr:t,parts:n,obj:r}};function US(e,r){return function(){var t=e,n,a,o,i,s;for(i=0;i<r.length-1;i++){if(n=r[i],n===-1){for(a=!0,o=[],s=0;s<t.length;s++)o[s]=US(t[s],r.slice(i+1))(),o[s]!==o[0]&&(a=!1);return a?o[0]:o}if(typeof n=="number"&&!mw(t)||(t=t[n],typeof t!="object"||t===null))return}if(!(typeof t!="object"||t===null)&&(o=t[r[i]],o!==null))return o}}var Rse=/(^|\.)args\[/;function yw(e,r){return e===void 0||e===null&&!r.match(Rse)}function GS(e,r,t){return function(n){var a=e,o="",i=[[e,o]],s=yw(n,t),f,l;for(l=0;l<r.length-1;l++){if(f=r[l],typeof f=="number"&&!mw(a))throw"array index but container is not an array";if(f===-1){if(s=!Fse(a,r.slice(l+1),n,t),s)break;return}if(!HS(a,f,r[l+1],s))break;if(a=a[f],typeof a!="object"||a===null)throw"container is not an object";o=Dse(o,f),i.push([a,o])}if(s){if(l===r.length-1&&(delete a[r[l]],Array.isArray(a)&&+r[l]===a.length-1))for(;a.length&&a[a.length-1]===void 0;)a.pop()}else a[r[l]]=n}}function Dse(e,r){var t=r;return zS(r)?t="["+r+"]":e&&(t="."+r),e+t}function Fse(e,r,t,n){var a=mw(t),o=!0,i=t,s=n.replace("-1",0),f=a?!1:yw(t,s),l=r[0],u;for(u=0;u<e.length;u++)s=n.replace("-1",u),a&&(i=t[u%t.length],f=yw(i,s)),f&&(o=!1),HS(e,u,l,f)&&GS(e[u],r,n.replace("-1",u))(i);return o}function HS(e,r,t,n){if(e[r]===void 0){if(n)return!1;typeof t=="number"?e[r]=[]:e[r]={}}return!0}function Ise(e,r,t){return{set:function(){throw"bad container"},get:function(){},astr:r,parts:t,obj:e}}});var ZS=ie((bRe,XS)=>{"use strict";var Lh=k2(),Pse=/^\w*$/,Ose=0,YS=1,L2=2,WS=3,Fc=4;XS.exports=function(r,t,n,a){n=n||"name",a=a||"value";var o,i,s,f={};t&&t.length?(s=Lh(r,t),i=s.get()):i=r,t=t||"";var l={};if(i)for(o=0;o<i.length;o++)l[i[o][n]]=o;var u=Pse.test(a),c={set:function(v,m){var x=m===null?Fc:Ose;if(!i){if(!s||x===Fc)return;i=[],s.set(i)}var A=l[v];if(A===void 0){if(x===Fc)return;x=x|WS,A=i.length,l[v]=A}else m!==(u?i[A][a]:Lh(i[A],a).get())&&(x=x|L2);var w=i[A]=i[A]||{};return w[n]=v,u?w[a]=m:Lh(w,a).set(m),m!==null&&(x=x&~Fc),f[A]=f[A]|x,c},get:function(v){if(i){var m=l[v];if(m!==void 0)return u?i[m][a]:Lh(i[m],a).get()}},rename:function(v,m){var x=l[v];return x===void 0||(f[x]=f[x]|YS,l[m]=x,delete l[v],i[x][n]=m),c},remove:function(v){var m=l[v];if(m===void 0)return c;var x=i[m];if(Object.keys(x).length>2)return f[m]=f[m]|L2,c.set(v,null);if(u){for(o=m;o<i.length;o++)f[o]=f[o]|WS;for(o=m;o<i.length;o++)l[i[o][n]]--;i.splice(m,1),delete l[v]}else Lh(x,a).set(null),f[m]=f[m]|L2|Fc;return c},constructUpdate:function(){for(var v,m,x={},A=Object.keys(f),w=0;w<A.length;w++)m=A[w],v=t+"["+m+"]",i[m]?(f[m]&YS&&(x[v+"."+n]=i[m][n]),f[m]&L2&&(u?x[v+"."+a]=f[m]&Fc?null:i[m][a]:x[v+"."+a]=f[m]&Fc?null:Lh(i[m],a).get())):x[v]=null;return x}};return c}});var JS=ie((_Re,jS)=>{"use strict";var Nse=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,Bse=/^[^\.\[\]]+$/;jS.exports=function(e,r){for(;r;){var t=e.match(Nse);if(t)e=t[1];else if(e.match(Bse))e="";else throw new Error("bad relativeAttr call:"+[e,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return e&&r.charAt(0)!=="["?e+"."+r:e+r}});var R2=ie((wRe,$S)=>{"use strict";var qse=cn();$S.exports=function(r,t){if(r>0)return Math.log(r)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return qse(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}});var e9=ie((ARe,QS)=>{"use strict";var KS=mo().isArrayOrTypedArray,R1=nu();QS.exports=function e(r,t){for(var n in t){var a=t[n],o=r[n];if(o!==a)if(n.charAt(0)==="_"||typeof a=="function"){if(n in r)continue;r[n]=a}else if(KS(a)&&KS(o)&&R1(a[0])){if(n==="customdata"||n==="ids")continue;for(var i=Math.min(a.length,o.length),s=0;s<i;s++)o[s]!==a[s]&&R1(a[s])&&R1(o[s])&&e(o[s],a[s])}else R1(a)&&R1(o)&&(e(o,a),Object.keys(o).length||delete r[n])}}});var Rh=ie((TRe,r9)=>{"use strict";function zse(e,r){var t=e%r;return t<0?t+r:t}function Use(e,r){return Math.abs(e)>r/2?e-Math.round(e/r)*r:e}r9.exports={mod:zse,modHalf:Use}});var Is=ie((MRe,D2)=>{(function(e){var r=/^\s+/,t=/\s+$/,n=0,a=e.round,o=e.min,i=e.max,s=e.random;function f(H,re){if(H=H||"",re=re||{},H instanceof f)return H;if(!(this instanceof f))return new f(H,re);var V=l(H);this._originalInput=H,this._r=V.r,this._g=V.g,this._b=V.b,this._a=V.a,this._roundA=a(100*this._a)/100,this._format=re.format||V.format,this._gradientType=re.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=V.ok,this._tc_id=n++}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var H=this.toRgb();return(H.r*299+H.g*587+H.b*114)/1e3},getLuminance:function(){var H=this.toRgb(),re,V,ne,le,de,_e;return re=H.r/255,V=H.g/255,ne=H.b/255,re<=.03928?le=re/12.92:le=e.pow((re+.055)/1.055,2.4),V<=.03928?de=V/12.92:de=e.pow((V+.055)/1.055,2.4),ne<=.03928?_e=ne/12.92:_e=e.pow((ne+.055)/1.055,2.4),.2126*le+.7152*de+.0722*_e},setAlpha:function(H){return this._a=L(H),this._roundA=a(100*this._a)/100,this},toHsv:function(){var H=m(this._r,this._g,this._b);return{h:H.h*360,s:H.s,v:H.v,a:this._a}},toHsvString:function(){var H=m(this._r,this._g,this._b),re=a(H.h*360),V=a(H.s*100),ne=a(H.v*100);return this._a==1?"hsv("+re+", "+V+"%, "+ne+"%)":"hsva("+re+", "+V+"%, "+ne+"%, "+this._roundA+")"},toHsl:function(){var H=c(this._r,this._g,this._b);return{h:H.h*360,s:H.s,l:H.l,a:this._a}},toHslString:function(){var H=c(this._r,this._g,this._b),re=a(H.h*360),V=a(H.s*100),ne=a(H.l*100);return this._a==1?"hsl("+re+", "+V+"%, "+ne+"%)":"hsla("+re+", "+V+"%, "+ne+"%, "+this._roundA+")"},toHex:function(H){return A(this._r,this._g,this._b,H)},toHexString:function(H){return"#"+this.toHex(H)},toHex8:function(H){return w(this._r,this._g,this._b,this._a,H)},toHex8String:function(H){return"#"+this.toHex8(H)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(I(this._r,255)*100)+"%",g:a(I(this._g,255)*100)+"%",b:a(I(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(I(this._r,255)*100)+"%, "+a(I(this._g,255)*100)+"%, "+a(I(this._b,255)*100)+"%)":"rgba("+a(I(this._r,255)*100)+"%, "+a(I(this._g,255)*100)+"%, "+a(I(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:O[A(this._r,this._g,this._b,!0)]||!1},toFilter:function(H){var re="#"+y(this._r,this._g,this._b,this._a),V=re,ne=this._gradientType?"GradientType = 1, ":"";if(H){var le=f(H);V="#"+y(le._r,le._g,le._b,le._a)}return"progid:DXImageTransform.Microsoft.gradient("+ne+"startColorstr="+re+",endColorstr="+V+")"},toString:function(H){var re=!!H;H=H||this._format;var V=!1,ne=this._a<1&&this._a>=0,le=!re&&ne&&(H==="hex"||H==="hex6"||H==="hex3"||H==="hex4"||H==="hex8"||H==="name");return le?H==="name"&&this._a===0?this.toName():this.toRgbString():(H==="rgb"&&(V=this.toRgbString()),H==="prgb"&&(V=this.toPercentageRgbString()),(H==="hex"||H==="hex6")&&(V=this.toHexString()),H==="hex3"&&(V=this.toHexString(!0)),H==="hex4"&&(V=this.toHex8String(!0)),H==="hex8"&&(V=this.toHex8String()),H==="name"&&(V=this.toName()),H==="hsl"&&(V=this.toHslString()),H==="hsv"&&(V=this.toHsvString()),V||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(H,re){var V=H.apply(null,[this].concat([].slice.call(re)));return this._r=V._r,this._g=V._g,this._b=V._b,this.setAlpha(V._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(_,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(H,re){return H.apply(null,[this].concat([].slice.call(re)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(h,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},f.fromRatio=function(H,re){if(typeof H=="object"){var V={};for(var ne in H)H.hasOwnProperty(ne)&&(ne==="a"?V[ne]=H[ne]:V[ne]=G(H[ne]));H=V}return f(H,re)};function l(H){var re={r:0,g:0,b:0},V=1,ne=null,le=null,de=null,_e=!1,me=!1;return typeof H=="string"&&(H=ae(H)),typeof H=="object"&&(J(H.r)&&J(H.g)&&J(H.b)?(re=u(H.r,H.g,H.b),_e=!0,me=String(H.r).substr(-1)==="%"?"prgb":"rgb"):J(H.h)&&J(H.s)&&J(H.v)?(ne=G(H.s),le=G(H.v),re=x(H.h,ne,le),_e=!0,me="hsv"):J(H.h)&&J(H.s)&&J(H.l)&&(ne=G(H.s),de=G(H.l),re=v(H.h,ne,de),_e=!0,me="hsl"),H.hasOwnProperty("a")&&(V=H.a)),V=L(V),{ok:_e,format:H.format||me,r:o(255,i(re.r,0)),g:o(255,i(re.g,0)),b:o(255,i(re.b,0)),a:V}}function u(H,re,V){return{r:I(H,255)*255,g:I(re,255)*255,b:I(V,255)*255}}function c(H,re,V){H=I(H,255),re=I(re,255),V=I(V,255);var ne=i(H,re,V),le=o(H,re,V),de,_e,me=(ne+le)/2;if(ne==le)de=_e=0;else{var ve=ne-le;switch(_e=me>.5?ve/(2-ne-le):ve/(ne+le),ne){case H:de=(re-V)/ve+(re<V?6:0);break;case re:de=(V-H)/ve+2;break;case V:de=(H-re)/ve+4;break}de/=6}return{h:de,s:_e,l:me}}function v(H,re,V){var ne,le,de;H=I(H,360),re=I(re,100),V=I(V,100);function _e(be,we,Se){return Se<0&&(Se+=1),Se>1&&(Se-=1),Se<1/6?be+(we-be)*6*Se:Se<1/2?we:Se<2/3?be+(we-be)*(2/3-Se)*6:be}if(re===0)ne=le=de=V;else{var me=V<.5?V*(1+re):V+re-V*re,ve=2*V-me;ne=_e(ve,me,H+1/3),le=_e(ve,me,H),de=_e(ve,me,H-1/3)}return{r:ne*255,g:le*255,b:de*255}}function m(H,re,V){H=I(H,255),re=I(re,255),V=I(V,255);var ne=i(H,re,V),le=o(H,re,V),de,_e,me=ne,ve=ne-le;if(_e=ne===0?0:ve/ne,ne==le)de=0;else{switch(ne){case H:de=(re-V)/ve+(re<V?6:0);break;case re:de=(V-H)/ve+2;break;case V:de=(H-re)/ve+4;break}de/=6}return{h:de,s:_e,v:me}}function x(H,re,V){H=I(H,360)*6,re=I(re,100),V=I(V,100);var ne=e.floor(H),le=H-ne,de=V*(1-re),_e=V*(1-le*re),me=V*(1-(1-le)*re),ve=ne%6,be=[V,_e,de,de,me,V][ve],we=[me,V,V,_e,de,de][ve],Se=[de,de,me,V,V,_e][ve];return{r:be*255,g:we*255,b:Se*255}}function A(H,re,V,ne){var le=[j(a(H).toString(16)),j(a(re).toString(16)),j(a(V).toString(16))];return ne&&le[0].charAt(0)==le[0].charAt(1)&&le[1].charAt(0)==le[1].charAt(1)&&le[2].charAt(0)==le[2].charAt(1)?le[0].charAt(0)+le[1].charAt(0)+le[2].charAt(0):le.join("")}function w(H,re,V,ne,le){var de=[j(a(H).toString(16)),j(a(re).toString(16)),j(a(V).toString(16)),j(B(ne))];return le&&de[0].charAt(0)==de[0].charAt(1)&&de[1].charAt(0)==de[1].charAt(1)&&de[2].charAt(0)==de[2].charAt(1)&&de[3].charAt(0)==de[3].charAt(1)?de[0].charAt(0)+de[1].charAt(0)+de[2].charAt(0)+de[3].charAt(0):de.join("")}function y(H,re,V,ne){var le=[j(B(ne)),j(a(H).toString(16)),j(a(re).toString(16)),j(a(V).toString(16))];return le.join("")}f.equals=function(H,re){return!H||!re?!1:f(H).toRgbString()==f(re).toRgbString()},f.random=function(){return f.fromRatio({r:s(),g:s(),b:s()})};function _(H,re){re=re===0?0:re||10;var V=f(H).toHsl();return V.s-=re/100,V.s=q(V.s),f(V)}function M(H,re){re=re===0?0:re||10;var V=f(H).toHsl();return V.s+=re/100,V.s=q(V.s),f(V)}function b(H){return f(H).desaturate(100)}function E(H,re){re=re===0?0:re||10;var V=f(H).toHsl();return V.l+=re/100,V.l=q(V.l),f(V)}function d(H,re){re=re===0?0:re||10;var V=f(H).toRgb();return V.r=i(0,o(255,V.r-a(255*-(re/100)))),V.g=i(0,o(255,V.g-a(255*-(re/100)))),V.b=i(0,o(255,V.b-a(255*-(re/100)))),f(V)}function T(H,re){re=re===0?0:re||10;var V=f(H).toHsl();return V.l-=re/100,V.l=q(V.l),f(V)}function g(H,re){var V=f(H).toHsl(),ne=(V.h+re)%360;return V.h=ne<0?360+ne:ne,f(V)}function h(H){var re=f(H).toHsl();return re.h=(re.h+180)%360,f(re)}function S(H){var re=f(H).toHsl(),V=re.h;return[f(H),f({h:(V+120)%360,s:re.s,l:re.l}),f({h:(V+240)%360,s:re.s,l:re.l})]}function p(H){var re=f(H).toHsl(),V=re.h;return[f(H),f({h:(V+90)%360,s:re.s,l:re.l}),f({h:(V+180)%360,s:re.s,l:re.l}),f({h:(V+270)%360,s:re.s,l:re.l})]}function C(H){var re=f(H).toHsl(),V=re.h;return[f(H),f({h:(V+72)%360,s:re.s,l:re.l}),f({h:(V+216)%360,s:re.s,l:re.l})]}function k(H,re,V){re=re||6,V=V||30;var ne=f(H).toHsl(),le=360/V,de=[f(H)];for(ne.h=(ne.h-(le*re>>1)+720)%360;--re;)ne.h=(ne.h+le)%360,de.push(f(ne));return de}function D(H,re){re=re||6;for(var V=f(H).toHsv(),ne=V.h,le=V.s,de=V.v,_e=[],me=1/re;re--;)_e.push(f({h:ne,s:le,v:de})),de=(de+me)%1;return _e}f.mix=function(H,re,V){V=V===0?0:V||50;var ne=f(H).toRgb(),le=f(re).toRgb(),de=V/100,_e={r:(le.r-ne.r)*de+ne.r,g:(le.g-ne.g)*de+ne.g,b:(le.b-ne.b)*de+ne.b,a:(le.a-ne.a)*de+ne.a};return f(_e)},f.readability=function(H,re){var V=f(H),ne=f(re);return(e.max(V.getLuminance(),ne.getLuminance())+.05)/(e.min(V.getLuminance(),ne.getLuminance())+.05)},f.isReadable=function(H,re,V){var ne=f.readability(H,re),le,de;switch(de=!1,le=ee(V),le.level+le.size){case"AAsmall":case"AAAlarge":de=ne>=4.5;break;case"AAlarge":de=ne>=3;break;case"AAAsmall":de=ne>=7;break}return de},f.mostReadable=function(H,re,V){var ne=null,le=0,de,_e,me,ve;V=V||{},_e=V.includeFallbackColors,me=V.level,ve=V.size;for(var be=0;be<re.length;be++)de=f.readability(H,re[be]),de>le&&(le=de,ne=f(re[be]));return f.isReadable(H,ne,{level:me,size:ve})||!_e?ne:(V.includeFallbackColors=!1,f.mostReadable(H,["#fff","#000"],V))};var P=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=f.hexNames=F(P);function F(H){var re={};for(var V in H)H.hasOwnProperty(V)&&(re[H[V]]=V);return re}function L(H){return H=parseFloat(H),(isNaN(H)||H<0||H>1)&&(H=1),H}function I(H,re){W(H)&&(H="100%");var V=$(H);return H=o(re,i(0,parseFloat(H))),V&&(H=parseInt(H*re,10)/100),e.abs(H-re)<1e-6?1:H%re/parseFloat(re)}function q(H){return o(1,i(0,H))}function z(H){return parseInt(H,16)}function W(H){return typeof H=="string"&&H.indexOf(".")!=-1&&parseFloat(H)===1}function $(H){return typeof H=="string"&&H.indexOf("%")!=-1}function j(H){return H.length==1?"0"+H:""+H}function G(H){return H<=1&&(H=H*100+"%"),H}function B(H){return e.round(parseFloat(H)*255).toString(16)}function X(H){return z(H)/255}var te=function(){var H="[-\\+]?\\d+%?",re="[-\\+]?\\d*\\.\\d+%?",V="(?:"+re+")|(?:"+H+")",ne="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",le="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?";return{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+ne),rgba:new RegExp("rgba"+le),hsl:new RegExp("hsl"+ne),hsla:new RegExp("hsla"+le),hsv:new RegExp("hsv"+ne),hsva:new RegExp("hsva"+le),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function J(H){return!!te.CSS_UNIT.exec(H)}function ae(H){H=H.replace(r,"").replace(t,"").toLowerCase();var re=!1;if(P[H])H=P[H],re=!0;else if(H=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var V;return(V=te.rgb.exec(H))?{r:V[1],g:V[2],b:V[3]}:(V=te.rgba.exec(H))?{r:V[1],g:V[2],b:V[3],a:V[4]}:(V=te.hsl.exec(H))?{h:V[1],s:V[2],l:V[3]}:(V=te.hsla.exec(H))?{h:V[1],s:V[2],l:V[3],a:V[4]}:(V=te.hsv.exec(H))?{h:V[1],s:V[2],v:V[3]}:(V=te.hsva.exec(H))?{h:V[1],s:V[2],v:V[3],a:V[4]}:(V=te.hex8.exec(H))?{r:z(V[1]),g:z(V[2]),b:z(V[3]),a:X(V[4]),format:re?"name":"hex8"}:(V=te.hex6.exec(H))?{r:z(V[1]),g:z(V[2]),b:z(V[3]),format:re?"name":"hex"}:(V=te.hex4.exec(H))?{r:z(V[1]+""+V[1]),g:z(V[2]+""+V[2]),b:z(V[3]+""+V[3]),a:X(V[4]+""+V[4]),format:re?"name":"hex8"}:(V=te.hex3.exec(H))?{r:z(V[1]+""+V[1]),g:z(V[2]+""+V[2]),b:z(V[3]+""+V[3]),format:re?"name":"hex"}:!1}function ee(H){var re,V;return H=H||{level:"AA",size:"small"},re=(H.level||"AA").toUpperCase(),V=(H.size||"small").toLowerCase(),re!=="AA"&&re!=="AAA"&&(re="AA"),V!=="small"&&V!=="large"&&(V="small"),{level:re,size:V}}typeof D2!="undefined"&&D2.exports?D2.exports=f:typeof define=="function"&&define.amd?define(function(){return f}):window.tinycolor=f})(Math)});var ga=ie(I1=>{"use strict";var t9=nu(),D1=Array.isArray;function Gse(e,r){var t,n;for(t=0;t<e.length;t++){if(n=e[t],n!==null&&typeof n=="object")return!1;n!==void 0&&(r[t]=n)}return!0}I1.extendFlat=function(){return F1(arguments,!1,!1,!1)};I1.extendDeep=function(){return F1(arguments,!0,!1,!1)};I1.extendDeepAll=function(){return F1(arguments,!0,!0,!1)};I1.extendDeepNoArrays=function(){return F1(arguments,!0,!1,!0)};function F1(e,r,t,n){var a=e[0],o=e.length,i,s,f,l,u,c,v;if(o===2&&D1(a)&&D1(e[1])&&a.length===0){if(v=Gse(e[1],a),v)return a;a.splice(0,a.length)}for(var m=1;m<o;m++){i=e[m];for(s in i)f=a[s],l=i[s],n&&D1(l)?a[s]=l:r&&l&&(t9(l)||(u=D1(l)))?(u?(u=!1,c=f&&D1(f)?f:[]):c=f&&t9(f)?f:{},a[s]=F1([c,l],r,t,n)):(typeof l!="undefined"||t)&&(a[s]=l)}return a}});var ci=ie((SRe,n9)=>{"use strict";n9.exports=function(e){var r=e.variantValues,t=e.editType,n=e.colorEditType;n===void 0&&(n=t);var a={editType:t,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};e.noNumericWeightValues&&(a.valType="enumerated",a.values=a.extras,a.extras=void 0,a.min=void 0,a.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},weight:a,style:{editType:t,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:e.noFontVariant?void 0:{editType:t,valType:"enumerated",values:r||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:e.noFontTextcase?void 0:{editType:t,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:e.noFontLineposition?void 0:{editType:t,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:e.noFontShadow?void 0:{editType:t,valType:"string",dflt:e.autoShadowDflt?"auto":"none"},editType:t};return e.autoSize&&(o.size.dflt="auto"),e.autoColor&&(o.color.dflt="auto"),e.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,e.noFontVariant||(o.variant.arrayOk=!0),e.noFontTextcase||(o.textcase.arrayOk=!0),e.noFontLineposition||(o.lineposition.arrayOk=!0),e.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}});var P1=ie((CRe,a9)=>{"use strict";a9.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var Ic=ie((kRe,s9)=>{"use strict";var i9=P1(),o9=ci(),xw=o9({editType:"none"});xw.family.dflt=i9.HOVERFONT;xw.size.dflt=i9.HOVERFONTSIZE;s9.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:xw,grouptitlefont:o9({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}});var P2=ie((LRe,l9)=>{"use strict";var Hse=ci(),F2=Ic().hoverlabel,I2=ga().extendFlat;l9.exports={hoverlabel:{bgcolor:I2({},F2.bgcolor,{arrayOk:!0}),bordercolor:I2({},F2.bordercolor,{arrayOk:!0}),font:Hse({arrayOk:!0,editType:"none"}),align:I2({},F2.align,{arrayOk:!0}),namelength:I2({},F2.namelength,{arrayOk:!0}),editType:"none"}}});var rs=ie((RRe,f9)=>{"use strict";var Vse=ci(),Yse=P2();f9.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:Vse({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:Yse.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}});var Pc=ie((DRe,h9)=>{"use strict";var Wse=Is(),O2={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},u9=O2.RdBu;function Xse(e,r){if(r||(r=u9),!e)return r;function t(){try{e=O2[e]||JSON.parse(e)}catch(n){e=r}}return typeof e=="string"&&(t(),typeof e=="string"&&t()),c9(e)?e:r}function c9(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r||!Wse(n[1]).isValid())return!1;r=+n[0]}return!0}function Zse(e){return O2[e]!==void 0?!0:c9(e)}h9.exports={scales:O2,defaultScale:u9,get:Xse,isValid:Zse}});var pl=ie(Oc=>{"use strict";Oc.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Oc.defaultLine="#444";Oc.lightLine="#eee";Oc.background="#fff";Oc.borderLine="#BEC8D9";Oc.lightFraction=100*10/11});var pn=ie((IRe,v9)=>{"use strict";var xo=Is(),jse=cn(),Jse=mo().isTypedArray,ti=v9.exports={},N2=pl();ti.defaults=N2.defaults;var $se=ti.defaultLine=N2.defaultLine;ti.lightLine=N2.lightLine;var _w=ti.background=N2.background;ti.tinyRGB=function(e){var r=e.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"};ti.rgb=function(e){return ti.tinyRGB(xo(e))};ti.opacity=function(e){return e?xo(e).getAlpha():0};ti.addOpacity=function(e,r){var t=xo(e).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+r+")"};ti.combine=function(e,r){var t=xo(e).toRgb();if(t.a===1)return xo(e).toRgbString();var n=xo(r||_w).toRgb(),a=n.a===1?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},o={r:a.r*(1-t.a)+t.r*t.a,g:a.g*(1-t.a)+t.g*t.a,b:a.b*(1-t.a)+t.b*t.a};return xo(o).toRgbString()};ti.interpolate=function(e,r,t){var n=xo(e).toRgb(),a=xo(r).toRgb(),o={r:t*n.r+(1-t)*a.r,g:t*n.g+(1-t)*a.g,b:t*n.b+(1-t)*a.b};return xo(o).toRgbString()};ti.contrast=function(e,r,t){var n=xo(e);n.getAlpha()!==1&&(n=xo(ti.combine(e,_w)));var a=n.isDark()?r?n.lighten(r):_w:t?n.darken(t):$se;return a.toString()};ti.stroke=function(e,r){var t=xo(r);e.style({stroke:ti.tinyRGB(t),"stroke-opacity":t.getAlpha()})};ti.fill=function(e,r){var t=xo(r);e.style({fill:ti.tinyRGB(t),"fill-opacity":t.getAlpha()})};ti.clean=function(e){if(!(!e||typeof e!="object")){var r=Object.keys(e),t,n,a,o;for(t=0;t<r.length;t++)if(a=r[t],o=e[a],a.substr(a.length-5)==="color")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=bw(o[n]);else e[a]=bw(o);else if(a.substr(a.length-10)==="colorscale"&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=bw(o[n][1]));else if(Array.isArray(o)){var i=o[0];if(!Array.isArray(i)&&i&&typeof i=="object")for(n=0;n<o.length;n++)ti.clean(o[n])}else o&&typeof o=="object"&&!Jse(o)&&ti.clean(o)}};function bw(e){if(jse(e)||typeof e!="string")return e;var r=e.trim();if(r.substr(0,3)!=="rgb")return e;var t=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!t)return e;var n=t[1].trim().split(/\s*[\s,]\s*/),a=r.charAt(3)==="a"&&n.length===4;if(!a&&n.length!==3)return e;for(var o=0;o<n.length;o++){if(!n[o].length||(n[o]=Number(n[o]),!(n[o]>=0)))return e;if(o===3)n[o]>1&&(n[o]=1);else if(n[o]>=1)return e}var i=Math.round(n[0]*255)+", "+Math.round(n[1]*255)+", "+Math.round(n[2]*255);return a?"rgba("+i+", "+n[3]+")":"rgb("+i+")"}});var Dh=ie((PRe,d9)=>{"use strict";d9.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var Fh=ie(p9=>{"use strict";p9.counter=function(e,r,t,n){var a=(r||"")+(t?"":"$"),o=n===!1?"":"^";return e==="xy"?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+a):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+a)}});var x9=ie(bo=>{"use strict";var ww=cn(),g9=Is(),y9=ga().extendFlat,Kse=rs(),Qse=Pc(),ele=pn(),rle=Dh().DESELECTDIM,Ih=k2(),m9=Fh().counter,tle=Rh().modHalf,yl=mo().isArrayOrTypedArray,au=mo().isTypedArraySpec,iu=mo().decodeTypedArraySpec;bo.valObjectMeta={data_array:{coerceFunction:function(e,r,t){r.set(yl(e)?e:au(e)?iu(e):t)}},enumerated:{coerceFunction:function(e,r,t,n){n.coerceNumber&&(e=+e),n.values.indexOf(e)===-1?r.set(t):r.set(e)},validateFunction:function(e,r){r.coerceNumber&&(e=+e);for(var t=r.values,n=0;n<t.length;n++){var a=String(t[n]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var o=new RegExp(a.substr(1,a.length-2));if(o.test(e))return!0}else if(e===t[n])return!0}return!1}},boolean:{coerceFunction:function(e,r,t){e===!0||e===!1?r.set(e):r.set(t)}},number:{coerceFunction:function(e,r,t,n){au(e)&&(e=iu(e)),!ww(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},integer:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}au(e)&&(e=iu(e)),e%1||!ww(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},string:{coerceFunction:function(e,r,t,n){if(typeof e!="string"){var a=typeof e=="number";n.strict===!0||!a?r.set(t):r.set(String(e))}else n.noBlank&&!e?r.set(t):r.set(e)}},color:{coerceFunction:function(e,r,t){au(e)&&(e=iu(e)),g9(e).isValid()?r.set(e):r.set(t)}},colorlist:{coerceFunction:function(e,r,t){function n(a){return g9(a).isValid()}!Array.isArray(e)||!e.length?r.set(t):e.every(n)?r.set(e):r.set(t)}},colorscale:{coerceFunction:function(e,r,t){r.set(Qse.get(e,t))}},angle:{coerceFunction:function(e,r,t){au(e)&&(e=iu(e)),e==="auto"?r.set("auto"):ww(e)?r.set(tle(+e,360)):r.set(t)}},subplotid:{coerceFunction:function(e,r,t,n){var a=n.regex||m9(t);if(typeof e=="string"&&a.test(e)){r.set(e);return}r.set(t)},validateFunction:function(e,r){var t=r.dflt;return e===t?!0:typeof e!="string"?!1:!!m9(t).test(e)}},flaglist:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}if(typeof e!="string"){r.set(t);return}for(var a=e.split("+"),o=0;o<a.length;){var i=a[o];n.flags.indexOf(i)===-1||a.indexOf(i)<o?a.splice(o,1):o++}a.length?r.set(a.join("+")):r.set(t)}},any:{coerceFunction:function(e,r,t){e===void 0?r.set(t):r.set(au(e)?iu(e):e)}},info_array:{coerceFunction:function(e,r,t,n){function a(_,M,b){var E,d={set:function(T){E=T}};return b===void 0&&(b=M.dflt),bo.valObjectMeta[M.valType].coerceFunction(_,d,b,M),E}if(au(e)&&(e=iu(e)),!yl(e)){r.set(t);return}var o=n.dimensions===2||n.dimensions==="1-2"&&Array.isArray(e)&&yl(e[0]),i=n.items,s=[],f=Array.isArray(i),l=f&&o&&yl(i[0]),u=o&&f&&!l,c=f&&!u?i.length:e.length,v,m,x,A,w,y;if(t=Array.isArray(t)?t:[],o)for(v=0;v<c;v++)for(s[v]=[],x=yl(e[v])?e[v]:[],u?w=i.length:f?w=i[v].length:w=x.length,m=0;m<w;m++)u?A=i[m]:f?A=i[v][m]:A=i,y=a(x[m],A,(t[v]||[])[m]),y!==void 0&&(s[v][m]=y);else for(v=0;v<c;v++)y=a(e[v],f?i[v]:i,t[v]),y!==void 0&&(s[v]=y);r.set(s)},validateFunction:function(e,r){if(!yl(e))return!1;var t=r.items,n=Array.isArray(t),a=r.dimensions===2;if(!r.freeLength&&e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(a){if(!yl(e[o])||!r.freeLength&&e[o].length!==t[o].length)return!1;for(var i=0;i<e[o].length;i++)if(!B2(e[o][i],n?t[o][i]:t))return!1}else if(!B2(e[o],n?t[o]:t))return!1;return!0}}};bo.coerce=function(e,r,t,n,a){var o=Ih(t,n).get(),i=Ih(e,n),s=Ih(r,n),f=i.get(),l=r._template;if(f===void 0&&l&&(f=Ih(l,n).get(),l=0),a===void 0&&(a=o.dflt),o.arrayOk){if(yl(f))return s.set(f),f;if(au(f))return f=iu(f),s.set(f),f}var u=bo.valObjectMeta[o.valType].coerceFunction;u(f,s,a,o);var c=s.get();return l&&c===a&&!B2(f,o)&&(f=Ih(l,n).get(),u(f,s,a,o),c=s.get()),c};bo.coerce2=function(e,r,t,n,a){var o=Ih(e,n),i=bo.coerce(e,r,t,n,a),s=o.get();return s!=null?i:!1};bo.coerceFont=function(e,r,t,n){n||(n={}),t=y9({},t),t=y9(t,n.overrideDflt||{});var a={family:e(r+".family",t.family),size:e(r+".size",t.size),color:e(r+".color",t.color),weight:e(r+".weight",t.weight),style:e(r+".style",t.style)};if(n.noFontVariant||(a.variant=e(r+".variant",t.variant)),n.noFontLineposition||(a.lineposition=e(r+".lineposition",t.lineposition)),n.noFontTextcase||(a.textcase=e(r+".textcase",t.textcase)),!n.noFontShadow){var o=t.shadow;o==="none"&&n.autoShadowDflt&&(o="auto"),a.shadow=e(r+".shadow",o)}return a};bo.coercePattern=function(e,r,t,n){var a=e(r+".shape");if(a){e(r+".solidity"),e(r+".size");var o=e(r+".fillmode"),i=o==="overlay";if(!n){var s=e(r+".bgcolor",i?t:void 0);e(r+".fgcolor",i?ele.contrast(s):t)}e(r+".fgopacity",i?.5:1)}};bo.coerceHoverinfo=function(e,r,t){var n=r._module.attributes,a=n.hoverinfo?n:Kse,o=a.hoverinfo,i;if(t._dataLength===1){var s=o.dflt==="all"?o.flags.slice():o.dflt.split("+");s.splice(s.indexOf("name"),1),i=s.join("+")}return bo.coerce(e,r,a,"hoverinfo",i)};bo.coerceSelectionMarkerOpacity=function(e,r){if(e.marker){var t=e.marker.opacity;if(t!==void 0){var n,a;!yl(t)&&!e.selected&&!e.unselected&&(n=t,a=rle*t),r("selected.marker.opacity",n),r("unselected.marker.opacity",a)}}};function B2(e,r){var t=bo.valObjectMeta[r.valType];if(r.arrayOk&&yl(e))return!0;if(t.validateFunction)return t.validateFunction(e,r);var n={},a=n,o={set:function(i){a=i}};return t.coerceFunction(e,o,n,r),a!==n}bo.validate=B2});var Nc=ie((BRe,A9)=>{"use strict";var b9={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},_9={};function w9(e,r){for(var t in e){var n=e[t];n.valType?r[t]=n.dflt:(r[t]||(r[t]={}),w9(n,r[t]))}}w9(b9,_9);A9.exports={configAttributes:b9,dfltConfig:_9}});var Tw=ie((qRe,T9)=>{"use strict";var Aw=gn(),nle=cn(),O1=[];T9.exports=function(e,r){if(O1.indexOf(e)!==-1)return;O1.push(e);var t=1e3;nle(r)?t=r:r==="long"&&(t=3e3);var n=Aw.select("body").selectAll(".plotly-notifier").data([0]);n.enter().append("div").classed("plotly-notifier",!0);var a=n.selectAll(".notifier-note").data(O1);function o(i){i.duration(700).style("opacity",0).each("end",function(s){var f=O1.indexOf(s);f!==-1&&O1.splice(f,1),Aw.select(this).remove()})}a.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var s=Aw.select(this);s.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){s.transition().call(o)});for(var f=s.append("p"),l=i.split(/<br\s*\/?>/g),u=0;u<l.length;u++)u&&f.append("br"),f.append("span").text(l[u]);r==="stick"?s.transition().duration(350).style("opacity",1):s.transition().duration(700).style("opacity",1).transition().delay(t).call(o)})}});var Bc=ie((zRe,M9)=>{"use strict";var Ph=Nc().dfltConfig,Mw=Tw(),Ew=M9.exports={};Ew.log=function(){var e;if(Ph.logging>1){var r=["LOG:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Ph.notifyOnLogging>1){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);Mw(t.join("<br>"),"long")}};Ew.warn=function(){var e;if(Ph.logging>0){var r=["WARN:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Ph.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);Mw(t.join("<br>"),"stick")}};Ew.error=function(){var e;if(Ph.logging>0){var r=["ERROR:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.error.apply(console,r)}if(Ph.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);Mw(t.join("<br>"),"stick")}}});var q2=ie((URe,E9)=>{"use strict";E9.exports=function(){}});var Sw=ie((GRe,S9)=>{"use strict";S9.exports=function(r,t){if(t instanceof RegExp){for(var n=t.toString(),a=0;a<r.length;a++)if(r[a]instanceof RegExp&&r[a].toString()===n)return r;r.push(t)}else(t||t===0)&&r.indexOf(t)===-1&&r.push(t);return r}});var k9=ie((HRe,C9)=>{C9.exports=ale;function ale(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var R9=ie((VRe,L9)=>{L9.exports=ile;function ile(e){var r=new Float32Array(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}});var F9=ie((YRe,D9)=>{D9.exports=ole;function ole(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var Cw=ie((WRe,I9)=>{I9.exports=sle;function sle(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var O9=ie((XRe,P9)=>{P9.exports=lle;function lle(e,r){if(e===r){var t=r[1],n=r[2],a=r[3],o=r[6],i=r[7],s=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=n,e[9]=o,e[11]=r[14],e[12]=a,e[13]=i,e[14]=s}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}});var B9=ie((ZRe,N9)=>{N9.exports=fle;function fle(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],s=r[5],f=r[6],l=r[7],u=r[8],c=r[9],v=r[10],m=r[11],x=r[12],A=r[13],w=r[14],y=r[15],_=t*s-n*i,M=t*f-a*i,b=t*l-o*i,E=n*f-a*s,d=n*l-o*s,T=a*l-o*f,g=u*A-c*x,h=u*w-v*x,S=u*y-m*x,p=c*w-v*A,C=c*y-m*A,k=v*y-m*w,D=_*k-M*C+b*p+E*S-d*h+T*g;return D?(D=1/D,e[0]=(s*k-f*C+l*p)*D,e[1]=(a*C-n*k-o*p)*D,e[2]=(A*T-w*d+y*E)*D,e[3]=(v*d-c*T-m*E)*D,e[4]=(f*S-i*k-l*h)*D,e[5]=(t*k-a*S+o*h)*D,e[6]=(w*b-x*T-y*M)*D,e[7]=(u*T-v*b+m*M)*D,e[8]=(i*C-s*S+l*g)*D,e[9]=(n*S-t*C-o*g)*D,e[10]=(x*d-A*b+y*_)*D,e[11]=(c*b-u*d-m*_)*D,e[12]=(s*h-i*p-f*g)*D,e[13]=(t*p-n*h+a*g)*D,e[14]=(A*M-x*E-w*_)*D,e[15]=(u*E-c*M+v*_)*D,e):null}});var z9=ie((jRe,q9)=>{q9.exports=ule;function ule(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],s=r[5],f=r[6],l=r[7],u=r[8],c=r[9],v=r[10],m=r[11],x=r[12],A=r[13],w=r[14],y=r[15];return e[0]=s*(v*y-m*w)-c*(f*y-l*w)+A*(f*m-l*v),e[1]=-(n*(v*y-m*w)-c*(a*y-o*w)+A*(a*m-o*v)),e[2]=n*(f*y-l*w)-s*(a*y-o*w)+A*(a*l-o*f),e[3]=-(n*(f*m-l*v)-s*(a*m-o*v)+c*(a*l-o*f)),e[4]=-(i*(v*y-m*w)-u*(f*y-l*w)+x*(f*m-l*v)),e[5]=t*(v*y-m*w)-u*(a*y-o*w)+x*(a*m-o*v),e[6]=-(t*(f*y-l*w)-i*(a*y-o*w)+x*(a*l-o*f)),e[7]=t*(f*m-l*v)-i*(a*m-o*v)+u*(a*l-o*f),e[8]=i*(c*y-m*A)-u*(s*y-l*A)+x*(s*m-l*c),e[9]=-(t*(c*y-m*A)-u*(n*y-o*A)+x*(n*m-o*c)),e[10]=t*(s*y-l*A)-i*(n*y-o*A)+x*(n*l-o*s),e[11]=-(t*(s*m-l*c)-i*(n*m-o*c)+u*(n*l-o*s)),e[12]=-(i*(c*w-v*A)-u*(s*w-f*A)+x*(s*v-f*c)),e[13]=t*(c*w-v*A)-u*(n*w-a*A)+x*(n*v-a*c),e[14]=-(t*(s*w-f*A)-i*(n*w-a*A)+x*(n*f-a*s)),e[15]=t*(s*v-f*c)-i*(n*v-a*c)+u*(n*f-a*s),e}});var G9=ie((JRe,U9)=>{U9.exports=cle;function cle(e){var r=e[0],t=e[1],n=e[2],a=e[3],o=e[4],i=e[5],s=e[6],f=e[7],l=e[8],u=e[9],c=e[10],v=e[11],m=e[12],x=e[13],A=e[14],w=e[15],y=r*i-t*o,_=r*s-n*o,M=r*f-a*o,b=t*s-n*i,E=t*f-a*i,d=n*f-a*s,T=l*x-u*m,g=l*A-c*m,h=l*w-v*m,S=u*A-c*x,p=u*w-v*x,C=c*w-v*A;return y*C-_*p+M*S+b*h-E*g+d*T}});var V9=ie(($Re,H9)=>{H9.exports=hle;function hle(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],s=r[4],f=r[5],l=r[6],u=r[7],c=r[8],v=r[9],m=r[10],x=r[11],A=r[12],w=r[13],y=r[14],_=r[15],M=t[0],b=t[1],E=t[2],d=t[3];return e[0]=M*n+b*s+E*c+d*A,e[1]=M*a+b*f+E*v+d*w,e[2]=M*o+b*l+E*m+d*y,e[3]=M*i+b*u+E*x+d*_,M=t[4],b=t[5],E=t[6],d=t[7],e[4]=M*n+b*s+E*c+d*A,e[5]=M*a+b*f+E*v+d*w,e[6]=M*o+b*l+E*m+d*y,e[7]=M*i+b*u+E*x+d*_,M=t[8],b=t[9],E=t[10],d=t[11],e[8]=M*n+b*s+E*c+d*A,e[9]=M*a+b*f+E*v+d*w,e[10]=M*o+b*l+E*m+d*y,e[11]=M*i+b*u+E*x+d*_,M=t[12],b=t[13],E=t[14],d=t[15],e[12]=M*n+b*s+E*c+d*A,e[13]=M*a+b*f+E*v+d*w,e[14]=M*o+b*l+E*m+d*y,e[15]=M*i+b*u+E*x+d*_,e}});var W9=ie((KRe,Y9)=>{Y9.exports=vle;function vle(e,r,t){var n=t[0],a=t[1],o=t[2],i,s,f,l,u,c,v,m,x,A,w,y;return r===e?(e[12]=r[0]*n+r[4]*a+r[8]*o+r[12],e[13]=r[1]*n+r[5]*a+r[9]*o+r[13],e[14]=r[2]*n+r[6]*a+r[10]*o+r[14],e[15]=r[3]*n+r[7]*a+r[11]*o+r[15]):(i=r[0],s=r[1],f=r[2],l=r[3],u=r[4],c=r[5],v=r[6],m=r[7],x=r[8],A=r[9],w=r[10],y=r[11],e[0]=i,e[1]=s,e[2]=f,e[3]=l,e[4]=u,e[5]=c,e[6]=v,e[7]=m,e[8]=x,e[9]=A,e[10]=w,e[11]=y,e[12]=i*n+u*a+x*o+r[12],e[13]=s*n+c*a+A*o+r[13],e[14]=f*n+v*a+w*o+r[14],e[15]=l*n+m*a+y*o+r[15]),e}});var Z9=ie((QRe,X9)=>{X9.exports=dle;function dle(e,r,t){var n=t[0],a=t[1],o=t[2];return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=r[3]*n,e[4]=r[4]*a,e[5]=r[5]*a,e[6]=r[6]*a,e[7]=r[7]*a,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=r[11]*o,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var J9=ie((eDe,j9)=>{j9.exports=ple;function ple(e,r,t,n){var a=n[0],o=n[1],i=n[2],s=Math.sqrt(a*a+o*o+i*i),f,l,u,c,v,m,x,A,w,y,_,M,b,E,d,T,g,h,S,p,C,k,D,P;return Math.abs(s)<1e-6?null:(s=1/s,a*=s,o*=s,i*=s,f=Math.sin(t),l=Math.cos(t),u=1-l,c=r[0],v=r[1],m=r[2],x=r[3],A=r[4],w=r[5],y=r[6],_=r[7],M=r[8],b=r[9],E=r[10],d=r[11],T=a*a*u+l,g=o*a*u+i*f,h=i*a*u-o*f,S=a*o*u-i*f,p=o*o*u+l,C=i*o*u+a*f,k=a*i*u+o*f,D=o*i*u-a*f,P=i*i*u+l,e[0]=c*T+A*g+M*h,e[1]=v*T+w*g+b*h,e[2]=m*T+y*g+E*h,e[3]=x*T+_*g+d*h,e[4]=c*S+A*p+M*C,e[5]=v*S+w*p+b*C,e[6]=m*S+y*p+E*C,e[7]=x*S+_*p+d*C,e[8]=c*k+A*D+M*P,e[9]=v*k+w*D+b*P,e[10]=m*k+y*D+E*P,e[11]=x*k+_*D+d*P,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}});var K9=ie((rDe,$9)=>{$9.exports=gle;function gle(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[4],i=r[5],s=r[6],f=r[7],l=r[8],u=r[9],c=r[10],v=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=o*a+l*n,e[5]=i*a+u*n,e[6]=s*a+c*n,e[7]=f*a+v*n,e[8]=l*a-o*n,e[9]=u*a-i*n,e[10]=c*a-s*n,e[11]=v*a-f*n,e}});var eC=ie((tDe,Q9)=>{Q9.exports=yle;function yle(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],s=r[2],f=r[3],l=r[8],u=r[9],c=r[10],v=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a-l*n,e[1]=i*a-u*n,e[2]=s*a-c*n,e[3]=f*a-v*n,e[8]=o*n+l*a,e[9]=i*n+u*a,e[10]=s*n+c*a,e[11]=f*n+v*a,e}});var tC=ie((nDe,rC)=>{rC.exports=mle;function mle(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],s=r[2],f=r[3],l=r[4],u=r[5],c=r[6],v=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a+l*n,e[1]=i*a+u*n,e[2]=s*a+c*n,e[3]=f*a+v*n,e[4]=l*a-o*n,e[5]=u*a-i*n,e[6]=c*a-s*n,e[7]=v*a-f*n,e}});var aC=ie((aDe,nC)=>{nC.exports=xle;function xle(e,r,t){var n,a,o,i=t[0],s=t[1],f=t[2],l=Math.sqrt(i*i+s*s+f*f);return Math.abs(l)<1e-6?null:(l=1/l,i*=l,s*=l,f*=l,n=Math.sin(r),a=Math.cos(r),o=1-a,e[0]=i*i*o+a,e[1]=s*i*o+f*n,e[2]=f*i*o-s*n,e[3]=0,e[4]=i*s*o-f*n,e[5]=s*s*o+a,e[6]=f*s*o+i*n,e[7]=0,e[8]=i*f*o+s*n,e[9]=s*f*o-i*n,e[10]=f*f*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}});var oC=ie((iDe,iC)=>{iC.exports=ble;function ble(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],s=n+n,f=a+a,l=o+o,u=n*s,c=n*f,v=n*l,m=a*f,x=a*l,A=o*l,w=i*s,y=i*f,_=i*l;return e[0]=1-(m+A),e[1]=c+_,e[2]=v-y,e[3]=0,e[4]=c-_,e[5]=1-(u+A),e[6]=x+w,e[7]=0,e[8]=v+y,e[9]=x-w,e[10]=1-(u+m),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}});var lC=ie((oDe,sC)=>{sC.exports=_le;function _le(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var uC=ie((sDe,fC)=>{fC.exports=wle;function wle(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}});var hC=ie((lDe,cC)=>{cC.exports=Ale;function Ale(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var dC=ie((fDe,vC)=>{vC.exports=Tle;function Tle(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var gC=ie((uDe,pC)=>{pC.exports=Mle;function Mle(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var kw=ie((cDe,yC)=>{yC.exports=Ele;function Ele(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=t+t,s=n+n,f=a+a,l=t*i,u=n*i,c=n*s,v=a*i,m=a*s,x=a*f,A=o*i,w=o*s,y=o*f;return e[0]=1-c-x,e[1]=u+y,e[2]=v-w,e[3]=0,e[4]=u-y,e[5]=1-l-x,e[6]=m+A,e[7]=0,e[8]=v+w,e[9]=m-A,e[10]=1-l-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var xC=ie((hDe,mC)=>{mC.exports=Sle;function Sle(e,r,t,n,a,o,i){var s=1/(t-r),f=1/(a-n),l=1/(o-i);return e[0]=o*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*f,e[6]=0,e[7]=0,e[8]=(t+r)*s,e[9]=(a+n)*f,e[10]=(i+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*l,e[15]=0,e}});var _C=ie((vDe,bC)=>{bC.exports=Cle;function Cle(e,r,t,n,a){var o=1/Math.tan(r/2),i=1/(n-a);return e[0]=o/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*i,e[15]=0,e}});var AC=ie((dDe,wC)=>{wC.exports=kle;function kle(e,r,t,n){var a=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),i=Math.tan(r.leftDegrees*Math.PI/180),s=Math.tan(r.rightDegrees*Math.PI/180),f=2/(i+s),l=2/(a+o);return e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-((i-s)*f*.5),e[9]=(a-o)*l*.5,e[10]=n/(t-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*t/(t-n),e[15]=0,e}});var MC=ie((pDe,TC)=>{TC.exports=Lle;function Lle(e,r,t,n,a,o,i){var s=1/(r-t),f=1/(n-a),l=1/(o-i);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(r+t)*s,e[13]=(a+n)*f,e[14]=(i+o)*l,e[15]=1,e}});var SC=ie((gDe,EC)=>{var Rle=Cw();EC.exports=Dle;function Dle(e,r,t,n){var a,o,i,s,f,l,u,c,v,m,x=r[0],A=r[1],w=r[2],y=n[0],_=n[1],M=n[2],b=t[0],E=t[1],d=t[2];return Math.abs(x-b)<1e-6&&Math.abs(A-E)<1e-6&&Math.abs(w-d)<1e-6?Rle(e):(u=x-b,c=A-E,v=w-d,m=1/Math.sqrt(u*u+c*c+v*v),u*=m,c*=m,v*=m,a=_*v-M*c,o=M*u-y*v,i=y*c-_*u,m=Math.sqrt(a*a+o*o+i*i),m?(m=1/m,a*=m,o*=m,i*=m):(a=0,o=0,i=0),s=c*i-v*o,f=v*a-u*i,l=u*o-c*a,m=Math.sqrt(s*s+f*f+l*l),m?(m=1/m,s*=m,f*=m,l*=m):(s=0,f=0,l=0),e[0]=a,e[1]=s,e[2]=u,e[3]=0,e[4]=o,e[5]=f,e[6]=c,e[7]=0,e[8]=i,e[9]=l,e[10]=v,e[11]=0,e[12]=-(a*x+o*A+i*w),e[13]=-(s*x+f*A+l*w),e[14]=-(u*x+c*A+v*w),e[15]=1,e)}});var kC=ie((yDe,CC)=>{CC.exports=Fle;function Fle(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}});var Lw=ie((mDe,LC)=>{LC.exports={create:k9(),clone:R9(),copy:F9(),identity:Cw(),transpose:O9(),invert:B9(),adjoint:z9(),determinant:G9(),multiply:V9(),translate:W9(),scale:Z9(),rotate:J9(),rotateX:K9(),rotateY:eC(),rotateZ:tC(),fromRotation:aC(),fromRotationTranslation:oC(),fromScaling:lC(),fromTranslation:uC(),fromXRotation:hC(),fromYRotation:dC(),fromZRotation:gC(),fromQuat:kw(),frustum:xC(),perspective:_C(),perspectiveFromFieldOfView:AC(),ortho:MC(),lookAt:SC(),str:kC()}});var z2=ie(Ea=>{"use strict";var Ile=Lw();Ea.init2dArray=function(e,r){for(var t=new Array(e),n=0;n<e;n++)t[n]=new Array(r);return t};Ea.transposeRagged=function(e){var r=0,t=e.length,n,a;for(n=0;n<t;n++)r=Math.max(r,e[n].length);var o=new Array(r);for(n=0;n<r;n++)for(o[n]=new Array(t),a=0;a<t;a++)o[n][a]=e[a][n];return o};Ea.dot=function(e,r){if(!(e.length&&r.length)||e.length!==r.length)return null;var t=e.length,n,a;if(e[0].length)for(n=new Array(t),a=0;a<t;a++)n[a]=Ea.dot(e[a],r);else if(r[0].length){var o=Ea.transposeRagged(r);for(n=new Array(o.length),a=0;a<o.length;a++)n[a]=Ea.dot(e,o[a])}else for(n=0,a=0;a<t;a++)n+=e[a]*r[a];return n};Ea.translationMatrix=function(e,r){return[[1,0,e],[0,1,r],[0,0,1]]};Ea.rotationMatrix=function(e){var r=e*Math.PI/180;return[[Math.cos(r),-Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]]};Ea.rotationXYMatrix=function(e,r,t){return Ea.dot(Ea.dot(Ea.translationMatrix(r,t),Ea.rotationMatrix(e)),Ea.translationMatrix(-r,-t))};Ea.apply3DTransform=function(e){return function(){var r=arguments,t=arguments.length===1?r[0]:[r[0],r[1],r[2]||0];return Ea.dot(e,[t[0],t[1],t[2],1]).slice(0,3)}};Ea.apply2DTransform=function(e){return function(){var r=arguments;r.length===3&&(r=r[0]);var t=arguments.length===1?r[0]:[r[0],r[1]];return Ea.dot(e,[t[0],t[1],1]).slice(0,2)}};Ea.apply2DTransform2=function(e){var r=Ea.apply2DTransform(e);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}};Ea.convertCssMatrix=function(e){if(e){var r=e.length;if(r===16)return e;if(r===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};Ea.inverseTransformMatrix=function(e){var r=[];return Ile.invert(r,e),[[r[0],r[1],r[2],r[3]],[r[4],r[5],r[6],r[7]],[r[8],r[9],r[10],r[11]],[r[12],r[13],r[14],r[15]]]}});var N1=ie((bDe,PC)=>{"use strict";var Ple=gn(),Ole=Bc(),Nle=z2(),Ble=Lw();function qle(e){var r;if(typeof e=="string"){if(r=document.getElementById(e),r===null)throw new Error("No DOM element with id '"+e+"' exists on the page.");return r}else if(e==null)throw new Error("DOM element provided is null or undefined");return e}function zle(e){var r=Ple.select(e);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")}function RC(e){var r=e&&e.parentNode;r&&r.removeChild(e)}function Ule(e,r){DC("global",e,r)}function DC(e,r,t){var n="plotly.js-style-"+e,a=document.getElementById(n);a||(a=document.createElement("style"),a.setAttribute("id",n),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o.insertRule?o.insertRule(r+"{"+t+"}",0):o.addRule?o.addRule(r,t,0):Ole.warn("addStyleRule failed")}function Gle(e){var r="plotly.js-style-"+e,t=document.getElementById(r);t&&RC(t)}function Hle(e){var r=IC(e),t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(n){var a=FC(n);if(a){var o=Nle.convertCssMatrix(a);t=Ble.multiply(t,t,o)}}),t}function FC(e){var r=window.getComputedStyle(e,null),t=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return t==="none"?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(n){return+n})}function IC(e){for(var r=[];Vle(e);)r.push(e),e=e.parentNode,typeof ShadowRoot=="function"&&e instanceof ShadowRoot&&(e=e.host);return r}function Vle(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function Yle(e,r){return e&&r&&e.top===r.top&&e.left===r.left&&e.right===r.right&&e.bottom===r.bottom}PC.exports={getGraphDiv:qle,isPlotDiv:zle,removeElement:RC,addStyleRule:Ule,addRelatedStyleRule:DC,deleteRelatedStyleRule:Gle,getFullTransformMatrix:Hle,getElementTransformMatrix:FC,getElementAndAncestors:IC,equalDomRects:Yle}});var B1=ie((_De,OC)=>{"use strict";OC.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}});var No=ie((wDe,HC)=>{"use strict";var BC=ga().extendFlat,Wle=nu(),qC={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},zC={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},Xle=qC.flags.slice().concat(["fullReplot"]),Zle=zC.flags.slice().concat("layoutReplot");HC.exports={traces:qC,layout:zC,traceFlags:function(){return NC(Xle)},layoutFlags:function(){return NC(Zle)},update:function(e,r){var t=r.editType;if(t&&t!=="none")for(var n=t.split("+"),a=0;a<n.length;a++)e[n[a]]=!0},overrideAll:UC};function NC(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!1;return r}function UC(e,r,t){var n=BC({},e);for(var a in n){var o=n[a];Wle(o)&&(n[a]=GC(o,r,t,a))}return t==="from-root"&&(n.editType=r),n}function GC(e,r,t,n){if(e.valType){var a=BC({},e);if(a.editType=r,Array.isArray(e.items)){a.items=new Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=GC(e.items[o],r,"from-root")}return a}else return UC(e,r,n.charAt(0)==="_"?"nested":"from-root")}});var ou=ie(Rw=>{"use strict";Rw.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"};Rw.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}});var Dw=ie((TDe,VC)=>{"use strict";VC.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var su=ie(U2=>{"use strict";var YC=Dw(),MDe=YC.FORMAT_LINK,EDe=YC.DATE_FORMAT_LINK;function Fw(e){var r=e.description?" "+e.description:"",t=e.keys||[];if(t.length>0){for(var n=[],a=0;a<t.length;a++)n[a]="`"+t[a]+"`";r=r+"Finally, the template string has access to ",t.length===1?r=r+"variable "+n[0]:r=r+"variables "+n.slice(0,-1).join(", ")+" and "+n.slice(-1)+"."}return r}U2.hovertemplateAttrs=function(e,r){e=e||{},r=r||{};var t=Fw(r),n={valType:"string",dflt:"",editType:e.editType||"none"};return e.arrayOk!==!1&&(n.arrayOk=!0),n};U2.texttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=Fw(r),n={valType:"string",dflt:"",editType:e.editType||"calc"};return e.arrayOk!==!1&&(n.arrayOk=!0),n};U2.shapeTexttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=e.newshape?"new ":"",n=Fw(r),a={valType:"string",dflt:"",editType:e.editType||"arraydraw"};return a}});var V2=ie((CDe,$C)=>{"use strict";function lu(e,r){return r?r.d2l(e):e}function WC(e,r){return r?r.l2d(e):e}function jle(e){return e.x0}function Jle(e){return e.x1}function $le(e){return e.y0}function Kle(e){return e.y1}function XC(e){return e.x0shift||0}function ZC(e){return e.x1shift||0}function jC(e){return e.y0shift||0}function JC(e){return e.y1shift||0}function G2(e,r){return lu(e.x1,r)+ZC(e)-lu(e.x0,r)-XC(e)}function H2(e,r,t){return lu(e.y1,t)+JC(e)-lu(e.y0,t)-jC(e)}function Qle(e,r){return Math.abs(G2(e,r))}function efe(e,r,t){return Math.abs(H2(e,r,t))}function rfe(e,r,t){return e.type!=="line"?void 0:Math.sqrt(Math.pow(G2(e,r),2)+Math.pow(H2(e,r,t),2))}function tfe(e,r){return WC((lu(e.x1,r)+ZC(e)+lu(e.x0,r)+XC(e))/2,r)}function nfe(e,r,t){return WC((lu(e.y1,t)+JC(e)+lu(e.y0,t)+jC(e))/2,t)}function afe(e,r,t){return e.type!=="line"?void 0:H2(e,r,t)/G2(e,r)}$C.exports={x0:jle,x1:Jle,y0:$le,y1:Kle,slope:afe,dx:G2,dy:H2,width:Qle,height:efe,length:rfe,xcenter:tfe,ycenter:nfe}});var ek=ie((kDe,QC)=>{"use strict";var ife=No().overrideAll,qc=rs(),KC=ci(),ofe=ou().dash,fu=ga().extendFlat,sfe=su().shapeTexttemplateAttrs,lfe=V2();QC.exports=ife({newshape:{visible:fu({},qc.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:fu({},qc.legend,{}),legendgroup:fu({},qc.legendgroup,{}),legendgrouptitle:{text:fu({},qc.legendgrouptitle.text,{}),font:KC({})},legendrank:fu({},qc.legendrank,{}),legendwidth:fu({},qc.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:fu({},ofe,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:fu({},qc.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:sfe({newshape:!0},{keys:Object.keys(lfe)}),font:KC({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")});var tk=ie((LDe,rk)=>{"use strict";var ffe=ou().dash,ufe=ga().extendFlat;rk.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:ufe({},ffe,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}});var Y2=ie((RDe,nk)=>{"use strict";nk.exports=function(e){var r=e.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}});var zc=ie((DDe,sk)=>{"use strict";var W2=ci(),cfe=B1(),X2=pl(),ak=ek(),ik=tk(),hfe=Y2(),ok=ga().extendFlat,Z2=W2({editType:"calc"});Z2.family.dflt='"Open Sans", verdana, arial, sans-serif';Z2.size.dflt=12;Z2.color.dflt=X2.defaultLine;sk.exports={font:Z2,title:{text:{valType:"string",editType:"layoutstyle"},font:W2({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:W2({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:ok(hfe({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:X2.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:X2.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:X2.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:ak.newshape,activeshape:ak.activeshape,newselection:ik.newselection,activeselection:ik.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:ok({},cfe.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:W2({editType:"layoutstyle"})}}});var lk=MS(()=>{});var vfe={};var fk=MS(()=>{lk()});var Dt=ie(rn=>{"use strict";var Oh=Bc(),uk=q2(),ck=Sw(),dfe=nu(),pfe=N1().addStyleRule,hk=ga(),gfe=rs(),yfe=zc(),mfe=hk.extendFlat,j2=hk.extendDeepAll;rn.modules={};rn.allCategories={};rn.allTypes=[];rn.subplotsRegistry={};rn.transformsRegistry={};rn.componentsRegistry={};rn.layoutArrayContainers=[];rn.layoutArrayRegexes=[];rn.traceLayoutAttributes={};rn.localeRegistry={};rn.apiMethodRegistry={};rn.collectableSubplotTypes=null;rn.register=function(r){if(rn.collectableSubplotTypes=null,r)r&&!Array.isArray(r)&&(r=[r]);else throw new Error("No argument passed to Plotly.register.");for(var t=0;t<r.length;t++){var n=r[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":xfe(n);break;case"transform":wfe(n);break;case"component":_fe(n);break;case"locale":Afe(n);break;case"apiMethod":var a=n.name;rn.apiMethodRegistry[a]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};rn.getModule=function(e){var r=rn.modules[yk(e)];return r?r._module:!1};rn.traceIs=function(e,r){if(e=yk(e),e==="various")return!1;var t=rn.modules[e];return t||(e&&Oh.log("Unrecognized trace type "+e+"."),t=rn.modules[gfe.type.dflt]),!!t.categories[r]};rn.getTransformIndices=function(e,r){for(var t=[],n=e.transforms||[],a=0;a<n.length;a++)n[a].type===r&&t.push(a);return t};rn.hasTransform=function(e,r){for(var t=e.transforms||[],n=0;n<t.length;n++)if(t[n].type===r)return!0;return!1};rn.getComponentMethod=function(e,r){var t=rn.componentsRegistry[e];return t&&t[r]||uk};rn.call=function(){var e=arguments[0],r=[].slice.call(arguments,1);return rn.apiMethodRegistry[e].apply(null,r)};function xfe(e){var r=e.name,t=e.categories,n=e.meta;if(rn.modules[r]){Oh.log("Type "+r+" already registered");return}rn.subplotsRegistry[e.basePlotModule.name]||bfe(e.basePlotModule);for(var a={},o=0;o<t.length;o++)a[t[o]]=!0,rn.allCategories[t[o]]=!0;rn.modules[r]={_module:e,categories:a},n&&Object.keys(n).length&&(rn.modules[r].meta=n),rn.allTypes.push(r);for(var i in rn.componentsRegistry)dk(i,r);e.layoutAttributes&&mfe(rn.traceLayoutAttributes,e.layoutAttributes);var s=e.basePlotModule,f=s.name;if(f==="mapbox"){var l=s.constants.styleRules;for(var u in l)pfe(".js-plotly-plot .plotly .mapboxgl-"+u,l[u])}f==="map"&&(fk(),Ase(vfe)),(f==="geo"||f==="mapbox"||f==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function bfe(e){var r=e.name;if(rn.subplotsRegistry[r]){Oh.log("Plot type "+r+" already registered.");return}vk(e),rn.subplotsRegistry[r]=e;for(var t in rn.componentsRegistry)gk(t,e.name)}function _fe(e){if(typeof e.name!="string")throw new Error("Component module *name* must be a string.");var r=e.name;rn.componentsRegistry[r]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&ck(rn.layoutArrayContainers,r),vk(e));for(var t in rn.modules)dk(r,t);for(var n in rn.subplotsRegistry)gk(r,n);for(var a in rn.transformsRegistry)pk(r,a);e.schema&&e.schema.layout&&j2(yfe,e.schema.layout)}function wfe(e){if(typeof e.name!="string")throw new Error("Transform module *name* must be a string.");var r="Transform module "+e.name,t=typeof e.transform=="function",n=typeof e.calcTransform=="function";if(!t&&!n)throw new Error(r+" is missing a *transform* or *calcTransform* method.");t&&n&&Oh.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),dfe(e.attributes)||Oh.log(r+" registered without an *attributes* object."),typeof e.supplyDefaults!="function"&&Oh.log(r+" registered without a *supplyDefaults* method."),rn.transformsRegistry[e.name]=e;for(var a in rn.componentsRegistry)pk(a,e.name)}function Afe(e){var r=e.name,t=r.split("-")[0],n=e.dictionary,a=e.format,o=n&&Object.keys(n).length,i=a&&Object.keys(a).length,s=rn.localeRegistry,f=s[r];if(f||(s[r]=f={}),t!==r){var l=s[t];l||(s[t]=l={}),o&&l.dictionary===f.dictionary&&(l.dictionary=n),i&&l.format===f.format&&(l.format=a)}o&&(f.dictionary=n),i&&(f.format=a)}function vk(e){if(e.layoutAttributes){var r=e.layoutAttributes._arrayAttrRegexps;if(r)for(var t=0;t<r.length;t++)ck(rn.layoutArrayRegexes,r[t])}}function dk(e,r){var t=rn.componentsRegistry[e].schema;if(!(!t||!t.traces)){var n=t.traces[r];n&&j2(rn.modules[r]._module.attributes,n)}}function pk(e,r){var t=rn.componentsRegistry[e].schema;if(!(!t||!t.transforms)){var n=t.transforms[r];n&&j2(rn.transformsRegistry[r].attributes,n)}}function gk(e,r){var t=rn.componentsRegistry[e].schema;if(!(!t||!t.subplots)){var n=rn.subplotsRegistry[r],a=n.layoutAttributes,o=n.attr==="subplot"?n.name:n.attr;Array.isArray(o)&&(o=o[0]);var i=t.subplots[o];a&&i&&j2(a,i)}}function yk(e){return typeof e=="object"&&(e=e.type),e}});var Ek=ie(Sa=>{"use strict";var Tfe=kh().timeFormat,Tk=cn(),Iw=Bc(),cu=Rh().mod,qh=ta(),ts=qh.BADNUM,_o=qh.ONEDAY,q1=qh.ONEHOUR,uu=qh.ONEMIN,Bh=qh.ONESEC,z1=qh.EPOCHJD,tf=Dt(),mk=kh().utcFormat,Mfe=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Efe=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,xk=new Date().getFullYear()-70;function nf(e){return e&&tf.componentsRegistry.calendars&&typeof e=="string"&&e!=="gregorian"}Sa.dateTick0=function(e,r){var t=Sfe(e,!!r);if(r<2)return t;var n=Sa.dateTime2ms(t,e);return n+=_o*(r-1),Sa.ms2DateTime(n,0,e)};function Sfe(e,r){return nf(e)?r?tf.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:tf.getComponentMethod("calendars","CANONICAL_TICK")[e]:r?"2000-01-02":"2000-01-01"}Sa.dfltRange=function(e){return nf(e)?tf.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]};Sa.isJSDate=function(e){return typeof e=="object"&&e!==null&&typeof e.getTime=="function"};var $2,K2;Sa.dateTime2ms=function(e,r){if(Sa.isJSDate(e)){var t=e.getTimezoneOffset()*uu,n=(e.getUTCMinutes()-e.getMinutes())*uu+(e.getUTCSeconds()-e.getSeconds())*Bh+(e.getUTCMilliseconds()-e.getMilliseconds());if(n){var a=3*uu;t=t-a/2+cu(n-t+a/2,a)}return e=Number(e)-t,e>=$2&&e<=K2?e:ts}if(typeof e!="string"&&typeof e!="number")return ts;e=String(e);var o=nf(r),i=e.charAt(0);o&&(i==="G"||i==="g")&&(e=e.substr(1),r="");var s=o&&r.substr(0,7)==="chinese",f=e.match(s?Efe:Mfe);if(!f)return ts;var l=f[1],u=f[3]||"1",c=Number(f[5]||1),v=Number(f[7]||0),m=Number(f[9]||0),x=Number(f[11]||0);if(o){if(l.length===2)return ts;l=Number(l);var A;try{var w=tf.getComponentMethod("calendars","getCal")(r);if(s){var y=u.charAt(u.length-1)==="i";u=parseInt(u,10),A=w.newDate(l,w.toMonthIndex(l,u,y),c)}else A=w.newDate(l,Number(u),c)}catch(M){return ts}return A?(A.toJD()-z1)*_o+v*q1+m*uu+x*Bh:ts}l.length===2?l=(Number(l)+2e3-xk)%100+xk:l=Number(l),u-=1;var _=new Date(Date.UTC(2e3,u,c,v,m));return _.setUTCFullYear(l),_.getUTCMonth()!==u||_.getUTCDate()!==c?ts:_.getTime()+x*Bh};$2=Sa.MIN_MS=Sa.dateTime2ms("-9999");K2=Sa.MAX_MS=Sa.dateTime2ms("9999-12-31 23:59:59.9999");Sa.isDateTime=function(e,r){return Sa.dateTime2ms(e,r)!==ts};function Nh(e,r){return String(e+Math.pow(10,r)).substr(1)}var J2=90*_o,bk=3*q1,_k=5*uu;Sa.ms2DateTime=function(e,r,t){if(typeof e!="number"||!(e>=$2&&e<=K2))return ts;r||(r=0);var n=Math.floor(cu(e+.05,1)*10),a=Math.round(e-n/10),o,i,s,f,l,u;if(nf(t)){var c=Math.floor(a/_o)+z1,v=Math.floor(cu(e,_o));try{o=tf.getComponentMethod("calendars","getCal")(t).fromJD(c).formatDate("yyyy-mm-dd")}catch(m){o=mk("G%Y-%m-%d")(new Date(a))}if(o.charAt(0)==="-")for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;i=r<J2?Math.floor(v/q1):0,s=r<J2?Math.floor(v%q1/uu):0,f=r<bk?Math.floor(v%uu/Bh):0,l=r<_k?v%Bh*10+n:0}else u=new Date(a),o=mk("%Y-%m-%d")(u),i=r<J2?u.getUTCHours():0,s=r<J2?u.getUTCMinutes():0,f=r<bk?u.getUTCSeconds():0,l=r<_k?u.getUTCMilliseconds()*10+n:0;return Mk(o,i,s,f,l)};Sa.ms2DateTimeLocal=function(e){if(!(e>=$2+_o&&e<=K2-_o))return ts;var r=Math.floor(cu(e+.05,1)*10),t=new Date(Math.round(e-r/10)),n=Tfe("%Y-%m-%d")(t),a=t.getHours(),o=t.getMinutes(),i=t.getSeconds(),s=t.getUTCMilliseconds()*10+r;return Mk(n,a,o,i,s)};function Mk(e,r,t,n,a){if((r||t||n||a)&&(e+=" "+Nh(r,2)+":"+Nh(t,2),(n||a)&&(e+=":"+Nh(n,2),a))){for(var o=4;a%10===0;)o-=1,a/=10;e+="."+Nh(a,o)}return e}Sa.cleanDate=function(e,r,t){if(e===ts)return r;if(Sa.isJSDate(e)||typeof e=="number"&&isFinite(e)){if(nf(t))return Iw.error("JS Dates and milliseconds are incompatible with world calendars",e),r;if(e=Sa.ms2DateTimeLocal(+e),!e&&r!==void 0)return r}else if(!Sa.isDateTime(e,t))return Iw.error("unrecognized date",e),r;return e};var Cfe=/%\d?f/g,kfe=/%h/g,Lfe={1:"1",2:"1",3:"2",4:"2"};function wk(e,r,t,n){e=e.replace(Cfe,function(o){var i=Math.min(+o.charAt(1)||6,6),s=(r/1e3%1+2).toFixed(i).substr(2).replace(/0+$/,"")||"0";return s});var a=new Date(Math.floor(r+.05));if(e=e.replace(kfe,function(){return Lfe[t("%q")(a)]}),nf(n))try{e=tf.getComponentMethod("calendars","worldCalFmt")(e,r,n)}catch(o){return"Invalid"}return t(e)(a)}var Rfe=[59,59.9,59.99,59.999,59.9999];function Dfe(e,r){var t=cu(e+.05,_o),n=Nh(Math.floor(t/q1),2)+":"+Nh(cu(Math.floor(t/uu),60),2);if(r!=="M"){Tk(r)||(r=0);var a=Math.min(cu(e/Bh,60),Rfe[r]),o=(100+a).toFixed(r).substr(1);r>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+o}return n}Sa.formatDate=function(e,r,t,n,a,o){if(a=nf(a)&&a,!r)if(t==="y")r=o.year;else if(t==="m")r=o.month;else if(t==="d")r=o.dayMonth+`
`+o.year;else return Dfe(e,t)+`
`+wk(o.dayMonthYear,e,n,a);return wk(r,e,n,a)};var Ak=3*_o;Sa.incrementMonth=function(e,r,t){t=nf(t)&&t;var n=cu(e,_o);if(e=Math.round(e-n),t)try{var a=Math.round(e/_o)+z1,o=tf.getComponentMethod("calendars","getCal")(t),i=o.fromJD(a);return r%12?o.add(i,r,"m"):o.add(i,r/12,"y"),(i.toJD()-z1)*_o+n}catch(f){Iw.error("invalid ms "+e+" in calendar "+t)}var s=new Date(e+Ak);return s.setUTCMonth(s.getUTCMonth()+r)+n-Ak};Sa.findExactDates=function(e,r){for(var t=0,n=0,a=0,o=0,i,s,f=nf(r)&&tf.getComponentMethod("calendars","getCal")(r),l=0;l<e.length;l++){if(s=e[l],!Tk(s)){o++;continue}if(!(s%_o))if(f)try{i=f.fromJD(s/_o+z1),i.day()===1?i.month()===1?t++:n++:a++}catch(c){}else i=new Date(s),i.getUTCDate()===1?i.getUTCMonth()===0?t++:n++:a++}n+=t,a+=n;var u=e.length-o;return{exactYears:t/u,exactMonths:n/u,exactDays:a/u}}});var Q2=ie((BDe,Sk)=>{"use strict";Sk.exports=function(r){return r}});var Ow=ie(af=>{"use strict";var Ffe=cn(),Ife=Bc(),Pfe=Q2(),Ofe=ta().BADNUM,Pw=1e-9;af.findBin=function(e,r,t){if(Ffe(r.start))return t?Math.ceil((e-r.start)/r.size-Pw)-1:Math.floor((e-r.start)/r.size+Pw);var n=0,a=r.length,o=0,i=a>1?(r[a-1]-r[0])/(a-1):1,s,f;for(i>=0?f=t?Nfe:Bfe:f=t?zfe:qfe,e+=i*Pw*(t?-1:1)*(i>=0?1:-1);n<a&&o++<100;)s=Math.floor((n+a)/2),f(r[s],e)?n=s+1:a=s;return o>90&&Ife.log("Long binary search..."),n-1};function Nfe(e,r){return e<r}function Bfe(e,r){return e<=r}function qfe(e,r){return e>r}function zfe(e,r){return e>=r}af.sorterAsc=function(e,r){return e-r};af.sorterDes=function(e,r){return r-e};af.distinctVals=function(e){var r=e.slice();r.sort(af.sorterAsc);var t;for(t=r.length-1;t>-1&&r[t]===Ofe;t--);for(var n=r[t]-r[0]||1,a=n/(t||1)/1e4,o=[],i,s=0;s<=t;s++){var f=r[s],l=f-i;i===void 0?(o.push(f),i=f):l>a&&(n=Math.min(n,l),o.push(f),i=f)}return{vals:o,minDiff:n}};af.roundUp=function(e,r,t){for(var n=0,a=r.length-1,o,i=0,s=t?0:1,f=t?1:0,l=t?Math.ceil:Math.floor;n<a&&i++<100;)o=l((n+a)/2),r[o]<=e?n=o+s:a=o-f;return r[n]};af.sort=function(e,r){for(var t=0,n=0,a=1;a<e.length;a++){var o=r(e[a],e[a-1]);if(o<0?t=1:o>0&&(n=1),t&&n)return e.sort(r)}return n?e:e.reverse()};af.findIndexOfMin=function(e,r){r=r||Pfe;for(var t=1/0,n,a=0;a<e.length;a++){var o=r(e[a]);o<t&&(t=o,n=a)}return n}});var em=ie((zDe,Ck)=>{"use strict";Ck.exports=function(r){return Object.keys(r).sort()}});var kk=ie(Ca=>{"use strict";var U1=cn(),Ufe=mo().isArrayOrTypedArray;Ca.aggNums=function(e,r,t,n){var a,o;if((!n||n>t.length)&&(n=t.length),U1(r)||(r=!1),Ufe(t[0])){for(o=new Array(n),a=0;a<n;a++)o[a]=Ca.aggNums(e,r,t[a]);t=o}for(a=0;a<n;a++)U1(r)?U1(t[a])&&(r=e(+r,+t[a])):r=t[a];return r};Ca.len=function(e){return Ca.aggNums(function(r){return r+1},0,e)};Ca.mean=function(e,r){return r||(r=Ca.len(e)),Ca.aggNums(function(t,n){return t+n},0,e)/r};Ca.geometricMean=function(e,r){return r||(r=Ca.len(e)),Math.pow(Ca.aggNums(function(t,n){return t*n},1,e),1/r)};Ca.midRange=function(e){if(!(e===void 0||e.length===0))return(Ca.aggNums(Math.max,null,e)+Ca.aggNums(Math.min,null,e))/2};Ca.variance=function(e,r,t){return r||(r=Ca.len(e)),U1(t)||(t=Ca.mean(e,r)),Ca.aggNums(function(n,a){return n+Math.pow(a-t,2)},0,e)/r};Ca.stdev=function(e,r,t){return Math.sqrt(Ca.variance(e,r,t))};Ca.median=function(e){var r=e.slice().sort();return Ca.interp(r,.5)};Ca.interp=function(e,r){if(!U1(r))throw"n should be a finite number";if(r=r*e.length-.5,r<0)return e[0];if(r>e.length-1)return e[e.length-1];var t=r%1;return t*e[Math.ceil(r)]+(1-t)*e[Math.floor(r)]}});var Ik=ie((GDe,Fk)=>{"use strict";var Lk=Rh(),Nw=Lk.mod,Gfe=Lk.modHalf,G1=Math.PI,hu=2*G1;function Hfe(e){return e/180*G1}function Vfe(e){return e/G1*180}function Bw(e){return Math.abs(e[1]-e[0])>hu-1e-14}function Rk(e,r){return Gfe(r-e,hu)}function Yfe(e,r){return Math.abs(Rk(e,r))}function Dk(e,r){if(Bw(r))return!0;var t,n;r[0]<r[1]?(t=r[0],n=r[1]):(t=r[1],n=r[0]),t=Nw(t,hu),n=Nw(n,hu),t>n&&(n+=hu);var a=Nw(e,hu),o=a+hu;return a>=t&&a<=n||o>=t&&o<=n}function Wfe(e,r,t,n){if(!Dk(r,n))return!1;var a,o;return t[0]<t[1]?(a=t[0],o=t[1]):(a=t[1],o=t[0]),e>=a&&e<=o}function qw(e,r,t,n,a,o,i){a=a||0,o=o||0;var s=Bw([t,n]),f,l,u,c,v;s?(f=0,l=G1,u=hu):t<n?(f=t,u=n):(f=n,u=t),e<r?(c=e,v=r):(c=r,v=e);function m(y,_){return[y*Math.cos(_)+a,o-y*Math.sin(_)]}var x=Math.abs(u-f)<=G1?0:1;function A(y,_,M){return"A"+[y,y]+" "+[0,x,M]+" "+m(y,_)}var w;return s?c===null?w="M"+m(v,f)+A(v,l,0)+A(v,u,0)+"Z":w="M"+m(c,f)+A(c,l,0)+A(c,u,0)+"ZM"+m(v,f)+A(v,l,1)+A(v,u,1)+"Z":c===null?(w="M"+m(v,f)+A(v,u,0),i&&(w+="L0,0Z")):w="M"+m(c,f)+"L"+m(v,f)+A(v,u,0)+"L"+m(c,u)+A(c,f,1)+"Z",w}function Xfe(e,r,t,n,a){return qw(null,e,r,t,n,a,0)}function Zfe(e,r,t,n,a){return qw(null,e,r,t,n,a,1)}function jfe(e,r,t,n,a,o){return qw(e,r,t,n,a,o,1)}Fk.exports={deg2rad:Hfe,rad2deg:Vfe,angleDelta:Rk,angleDist:Yfe,isFullCircle:Bw,isAngleInsideSector:Dk,isPtInsideSector:Wfe,pathArc:Xfe,pathSector:Zfe,pathAnnulus:jfe}});var Pk=ie(Uc=>{"use strict";Uc.isLeftAnchor=function(r){return r.xanchor==="left"||r.xanchor==="auto"&&r.x<=1/3};Uc.isCenterAnchor=function(r){return r.xanchor==="center"||r.xanchor==="auto"&&r.x>1/3&&r.x<2/3};Uc.isRightAnchor=function(r){return r.xanchor==="right"||r.xanchor==="auto"&&r.x>=2/3};Uc.isTopAnchor=function(r){return r.yanchor==="top"||r.yanchor==="auto"&&r.y>=2/3};Uc.isMiddleAnchor=function(r){return r.yanchor==="middle"||r.yanchor==="auto"&&r.y>1/3&&r.y<2/3};Uc.isBottomAnchor=function(r){return r.yanchor==="bottom"||r.yanchor==="auto"&&r.y<=1/3}});var Bk=ie(Gc=>{"use strict";var zw=Rh().mod;Gc.segmentsIntersect=Nk;function Nk(e,r,t,n,a,o,i,s){var f=t-e,l=a-e,u=i-a,c=n-r,v=o-r,m=s-o,x=f*m-u*c;if(x===0)return null;var A=(l*m-u*v)/x,w=(l*c-f*v)/x;return w<0||w>1||A<0||A>1?null:{x:e+f*A,y:r+c*A}}Gc.segmentDistance=function(r,t,n,a,o,i,s,f){if(Nk(r,t,n,a,o,i,s,f))return 0;var l=n-r,u=a-t,c=s-o,v=f-i,m=l*l+u*u,x=c*c+v*v,A=Math.min(rm(l,u,m,o-r,i-t),rm(l,u,m,s-r,f-t),rm(c,v,x,r-o,t-i),rm(c,v,x,n-o,a-i));return Math.sqrt(A)};function rm(e,r,t,n,a){var o=n*e+a*r;if(o<0)return n*n+a*a;if(o>t){var i=n-e,s=a-r;return i*i+s*s}else{var f=n*r-a*e;return f*f/t}}var tm,Uw,Ok;Gc.getTextLocation=function(r,t,n,a){if((r!==Uw||a!==Ok)&&(tm={},Uw=r,Ok=a),tm[n])return tm[n];var o=r.getPointAtLength(zw(n-a/2,t)),i=r.getPointAtLength(zw(n+a/2,t)),s=Math.atan((i.y-o.y)/(i.x-o.x)),f=r.getPointAtLength(zw(n,t)),l=(f.x*4+o.x+i.x)/6,u=(f.y*4+o.y+i.y)/6,c={x:l,y:u,theta:s};return tm[n]=c,c};Gc.clearLocationCache=function(){Uw=null};Gc.getVisibleSegment=function(r,t,n){var a=t.left,o=t.right,i=t.top,s=t.bottom,f=0,l=r.getTotalLength(),u=l,c,v;function m(A){var w=r.getPointAtLength(A);A===0?c=w:A===l&&(v=w);var y=w.x<a?a-w.x:w.x>o?w.x-o:0,_=w.y<i?i-w.y:w.y>s?w.y-s:0;return Math.sqrt(y*y+_*_)}for(var x=m(f);x;){if(f+=x+n,f>u)return;x=m(f)}for(x=m(u);x;){if(u-=x+n,f>u)return;x=m(u)}return{min:f,max:u,len:u-f,total:l,isClosed:f===0&&u===l&&Math.abs(c.x-v.x)<.1&&Math.abs(c.y-v.y)<.1}};Gc.findPointOnPath=function(r,t,n,a){a=a||{};for(var o=a.pathLength||r.getTotalLength(),i=a.tolerance||.001,s=a.iterationLimit||30,f=r.getPointAtLength(0)[n]>r.getPointAtLength(o)[n]?-1:1,l=0,u=0,c=o,v,m,x;l<s;){if(v=(u+c)/2,m=r.getPointAtLength(v),x=m[n]-t,Math.abs(x)<i)return m;f*x>0?c=v:u=v,l++}return m}});var nm=ie(H1=>{"use strict";var of={};H1.throttle=function(r,t,n){var a=of[r],o=Date.now();if(!a){for(var i in of)of[i].ts<o-6e4&&delete of[i];a=of[r]={ts:0,timer:null}}qk(a);function s(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}if(o>a.ts+t){s();return}a.timer=setTimeout(function(){s(),a.timer=null},t)};H1.done=function(e){var r=of[e];return!r||!r.timer?Promise.resolve():new Promise(function(t){var n=r.onDone;r.onDone=function(){n&&n(),t(),r.onDone=null}})};H1.clear=function(e){if(e)qk(of[e]),delete of[e];else for(var r in of)H1.clear(r)};function qk(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}});var Uk=ie((WDe,zk)=>{"use strict";zk.exports=function(r){r._responsiveChartHandler&&(window.removeEventListener("resize",r._responsiveChartHandler),delete r._responsiveChartHandler)}});var Gk=ie((XDe,am)=>{"use strict";am.exports=Gw;am.exports.isMobile=Gw;am.exports.default=Gw;var Jfe=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,$fe=/CrOS/,Kfe=/android|ipad|playbook|silk/i;function Gw(e){e||(e={});let r=e.ua;if(!r&&typeof navigator!="undefined"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;let t=Jfe.test(r)&&!$fe.test(r)||!!e.tablet&&Kfe.test(r);return!t&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(t=!0),t}});var Vk=ie((ZDe,Hk)=>{"use strict";var Qfe=cn(),eue=Gk();Hk.exports=function(r){var t;if(r&&r.hasOwnProperty("userAgent")?t=r.userAgent:t=rue(),typeof t!="string")return!0;var n=eue({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var a=t.split(" "),o=1;o<a.length;o++){var i=a[o];if(i.indexOf("Safari")!==-1)for(var s=o-1;s>-1;s--){var f=a[s];if(f.substr(0,8)==="Version/"){var l=f.substr(8).split(".")[0];if(Qfe(l)&&(l=+l),l>=13)return!0}}}return n};function rue(){var e;return typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),e}});var Wk=ie((jDe,Yk)=>{"use strict";var tue=gn();Yk.exports=function(r,t,n){var a=r.selectAll("g."+n.replace(/\s/g,".")).data(t,function(i){return i[0].trace.uid});a.exit().remove(),a.enter().append("g").attr("class",n),a.order();var o=r.classed("rangeplot")?"nodeRangePlot3":"node3";return a.each(function(i){i[0][o]=tue.select(this)}),a}});var Zk=ie((JDe,Xk)=>{"use strict";var nue=Dt();Xk.exports=function(r,t){for(var n=r._context.locale,a=0;a<2;a++){for(var o=r._context.locales,i=0;i<2;i++){var s=(o[n]||{}).dictionary;if(s){var f=s[t];if(f)return f}o=nue.localeRegistry}var l=n.split("-")[0];if(l===n)break;n=l}return t}});var Jk=ie(($De,jk)=>{"use strict";jk.exports=function(r){for(var t={},n=[],a=0,o=0;o<r.length;o++){var i=r[o];t[i]!==1&&(t[i]=1,n[a++]=i)}return n}});var Kk=ie((KDe,$k)=>{"use strict";$k.exports=function(r){for(var t=oue(r)?iue:aue,n=[],a=0;a<r.length;a++){var o=r[a];t(o)&&n.push(o)}return n};function aue(e){return e.visible===!0}function iue(e){var r=e[0].trace;return r.visible===!0&&r._length!==0}function oue(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}});var eL=ie((QDe,Qk)=>{"use strict";Qk.exports=function(r,t){if(!t)return r;var n=1/Math.abs(t),a=n>1?(n*r+n*t)/n:r+t,o=String(a).length;if(o>16){var i=String(t).length,s=String(r).length;if(o>=s+i){var f=parseFloat(a).toPrecision(12);f.indexOf("e+")===-1&&(a=+f)}}return a}});var tL=ie((eFe,rL)=>{"use strict";var sue=cn(),lue=ta().BADNUM,fue=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;rL.exports=function(r){return typeof r=="string"&&(r=r.replace(fue,"")),sue(r)?Number(r):lue}});var wr=ie((rFe,pL)=>{"use strict";var V1=gn(),uue=kh().utcFormat,cue=vw().format,lL=cn(),fL=ta(),uL=fL.FP_SAFE,hue=-uL,nL=fL.BADNUM,Ke=pL.exports={};Ke.adjustFormat=function(r){return!r||/^\d[.]\df/.test(r)||/[.]\d%/.test(r)?r:r==="0.f"?"~f":/^\d%/.test(r)?"~%":/^\ds/.test(r)?"~s":!/^[~,.0$]/.test(r)&&/[&fps]/.test(r)?"~"+r:r};var aL={};Ke.warnBadFormat=function(e){var r=String(e);aL[r]||(aL[r]=1,Ke.warn('encountered bad format: "'+r+'"'))};Ke.noFormat=function(e){return String(e)};Ke.numberFormat=function(e){var r;try{r=cue(Ke.adjustFormat(e))}catch(t){return Ke.warnBadFormat(e),Ke.noFormat}return r};Ke.nestedProperty=k2();Ke.keyedContainer=ZS();Ke.relativeAttr=JS();Ke.isPlainObject=nu();Ke.toLogRange=R2();Ke.relinkPrivateKeys=e9();var vu=mo();Ke.isArrayBuffer=vu.isArrayBuffer;Ke.isTypedArray=vu.isTypedArray;Ke.isArrayOrTypedArray=vu.isArrayOrTypedArray;Ke.isArray1D=vu.isArray1D;Ke.ensureArray=vu.ensureArray;Ke.concat=vu.concat;Ke.maxRowLength=vu.maxRowLength;Ke.minRowLength=vu.minRowLength;var cL=Rh();Ke.mod=cL.mod;Ke.modHalf=cL.modHalf;var du=x9();Ke.valObjectMeta=du.valObjectMeta;Ke.coerce=du.coerce;Ke.coerce2=du.coerce2;Ke.coerceFont=du.coerceFont;Ke.coercePattern=du.coercePattern;Ke.coerceHoverinfo=du.coerceHoverinfo;Ke.coerceSelectionMarkerOpacity=du.coerceSelectionMarkerOpacity;Ke.validate=du.validate;var Bo=Ek();Ke.dateTime2ms=Bo.dateTime2ms;Ke.isDateTime=Bo.isDateTime;Ke.ms2DateTime=Bo.ms2DateTime;Ke.ms2DateTimeLocal=Bo.ms2DateTimeLocal;Ke.cleanDate=Bo.cleanDate;Ke.isJSDate=Bo.isJSDate;Ke.formatDate=Bo.formatDate;Ke.incrementMonth=Bo.incrementMonth;Ke.dateTick0=Bo.dateTick0;Ke.dfltRange=Bo.dfltRange;Ke.findExactDates=Bo.findExactDates;Ke.MIN_MS=Bo.MIN_MS;Ke.MAX_MS=Bo.MAX_MS;var Hc=Ow();Ke.findBin=Hc.findBin;Ke.sorterAsc=Hc.sorterAsc;Ke.sorterDes=Hc.sorterDes;Ke.distinctVals=Hc.distinctVals;Ke.roundUp=Hc.roundUp;Ke.sort=Hc.sort;Ke.findIndexOfMin=Hc.findIndexOfMin;Ke.sortObjectKeys=em();var sf=kk();Ke.aggNums=sf.aggNums;Ke.len=sf.len;Ke.mean=sf.mean;Ke.geometricMean=sf.geometricMean;Ke.median=sf.median;Ke.midRange=sf.midRange;Ke.variance=sf.variance;Ke.stdev=sf.stdev;Ke.interp=sf.interp;var Ps=z2();Ke.init2dArray=Ps.init2dArray;Ke.transposeRagged=Ps.transposeRagged;Ke.dot=Ps.dot;Ke.translationMatrix=Ps.translationMatrix;Ke.rotationMatrix=Ps.rotationMatrix;Ke.rotationXYMatrix=Ps.rotationXYMatrix;Ke.apply3DTransform=Ps.apply3DTransform;Ke.apply2DTransform=Ps.apply2DTransform;Ke.apply2DTransform2=Ps.apply2DTransform2;Ke.convertCssMatrix=Ps.convertCssMatrix;Ke.inverseTransformMatrix=Ps.inverseTransformMatrix;var ml=Ik();Ke.deg2rad=ml.deg2rad;Ke.rad2deg=ml.rad2deg;Ke.angleDelta=ml.angleDelta;Ke.angleDist=ml.angleDist;Ke.isFullCircle=ml.isFullCircle;Ke.isAngleInsideSector=ml.isAngleInsideSector;Ke.isPtInsideSector=ml.isPtInsideSector;Ke.pathArc=ml.pathArc;Ke.pathSector=ml.pathSector;Ke.pathAnnulus=ml.pathAnnulus;var Uh=Pk();Ke.isLeftAnchor=Uh.isLeftAnchor;Ke.isCenterAnchor=Uh.isCenterAnchor;Ke.isRightAnchor=Uh.isRightAnchor;Ke.isTopAnchor=Uh.isTopAnchor;Ke.isMiddleAnchor=Uh.isMiddleAnchor;Ke.isBottomAnchor=Uh.isBottomAnchor;var Gh=Bk();Ke.segmentsIntersect=Gh.segmentsIntersect;Ke.segmentDistance=Gh.segmentDistance;Ke.getTextLocation=Gh.getTextLocation;Ke.clearLocationCache=Gh.clearLocationCache;Ke.getVisibleSegment=Gh.getVisibleSegment;Ke.findPointOnPath=Gh.findPointOnPath;var sm=ga();Ke.extendFlat=sm.extendFlat;Ke.extendDeep=sm.extendDeep;Ke.extendDeepAll=sm.extendDeepAll;Ke.extendDeepNoArrays=sm.extendDeepNoArrays;var Hw=Bc();Ke.log=Hw.log;Ke.warn=Hw.warn;Ke.error=Hw.error;var vue=Fh();Ke.counterRegex=vue.counter;var Vw=nm();Ke.throttle=Vw.throttle;Ke.throttleDone=Vw.done;Ke.clearThrottle=Vw.clear;var xl=N1();Ke.getGraphDiv=xl.getGraphDiv;Ke.isPlotDiv=xl.isPlotDiv;Ke.removeElement=xl.removeElement;Ke.addStyleRule=xl.addStyleRule;Ke.addRelatedStyleRule=xl.addRelatedStyleRule;Ke.deleteRelatedStyleRule=xl.deleteRelatedStyleRule;Ke.getFullTransformMatrix=xl.getFullTransformMatrix;Ke.getElementTransformMatrix=xl.getElementTransformMatrix;Ke.getElementAndAncestors=xl.getElementAndAncestors;Ke.equalDomRects=xl.equalDomRects;Ke.clearResponsive=Uk();Ke.preserveDrawingBuffer=Vk();Ke.makeTraceGroups=Wk();Ke._=Zk();Ke.notifier=Tw();Ke.filterUnique=Jk();Ke.filterVisible=Kk();Ke.pushUnique=Sw();Ke.increment=eL();Ke.cleanNumber=tL();Ke.ensureNumber=function(r){return lL(r)?(r=Number(r),r>uL||r<hue?nL:r):nL};Ke.isIndex=function(e,r){return r!==void 0&&e>=r?!1:lL(e)&&e>=0&&e%1===0};Ke.noop=q2();Ke.identity=Q2();Ke.repeat=function(e,r){for(var t=new Array(r),n=0;n<r;n++)t[n]=e;return t};Ke.swapAttrs=function(e,r,t,n){t||(t="x"),n||(n="y");for(var a=0;a<r.length;a++){var o=r[a],i=Ke.nestedProperty(e,o.replace("?",t)),s=Ke.nestedProperty(e,o.replace("?",n)),f=i.get();i.set(s.get()),s.set(f)}};Ke.raiseToTop=function(r){r.parentNode.appendChild(r)};Ke.cancelTransition=function(e){return e.transition().duration(0)};Ke.constrain=function(e,r,t){return r>t?Math.max(t,Math.min(r,e)):Math.max(r,Math.min(t,e))};Ke.bBoxIntersect=function(e,r,t){return t=t||0,e.left<=r.right+t&&r.left<=e.right+t&&e.top<=r.bottom+t&&r.top<=e.bottom+t};Ke.simpleMap=function(e,r,t,n,a){for(var o=e.length,i=new Array(o),s=0;s<o;s++)i[s]=r(e[s],t,n,a);return i};Ke.randstr=function e(r,t,n,a){if(n||(n=16),t===void 0&&(t=24),t<=0)return"0";var o=Math.log(Math.pow(2,t))/Math.log(n),i="",s,f,l;for(s=2;o===1/0;s*=2)o=Math.log(Math.pow(2,t/s))/Math.log(n)*s;var u=o-Math.floor(o);for(s=0;s<Math.floor(o);s++)l=Math.floor(Math.random()*n).toString(n),i=l+i;u&&(f=Math.pow(n,u),l=Math.floor(Math.random()*f).toString(n),i=l+i);var c=parseInt(i,n);return r&&r[i]||c!==1/0&&c>=Math.pow(2,t)?a>10?(Ke.warn("randstr failed uniqueness"),i):e(r,t,n,(a||0)+1):i};Ke.OptionControl=function(e,r){e||(e={}),r||(r="opt");var t={};return t.optionList=[],t._newoption=function(n){n[r]=e,t[n.name]=n,t.optionList.push(n)},t["_"+r]=e,t};Ke.smooth=function(e,r){if(r=Math.round(r)||0,r<2)return e;var t=e.length,n=2*t,a=2*r-1,o=new Array(a),i=new Array(t),s,f,l,u;for(s=0;s<a;s++)o[s]=(1-Math.cos(Math.PI*(s+1)/r))/(2*r);for(s=0;s<t;s++){for(u=0,f=0;f<a;f++)l=s+f+1-r,l<-t?l-=n*Math.round(l/n):l>=n&&(l-=n*Math.floor(l/n)),l<0?l=-1-l:l>=t&&(l=n-1-l),u+=e[l]*o[f];i[s]=u}return i};Ke.syncOrAsync=function(e,r,t){var n,a;function o(){return Ke.syncOrAsync(e,r,t)}for(;e.length;)if(a=e.splice(0,1)[0],n=a(r),n&&n.then)return n.then(o);return t&&t(r)};Ke.stripTrailingSlash=function(e){return e.substr(-1)==="/"?e.substr(0,e.length-1):e};Ke.noneOrAll=function(e,r,t){if(e){var n=!1,a=!0,o,i;for(o=0;o<t.length;o++)i=e[t[o]],i!=null?n=!0:a=!1;if(n&&!a)for(o=0;o<t.length;o++)e[t[o]]=r[t[o]]}};Ke.mergeArray=function(e,r,t,n){var a=typeof n=="function";if(Ke.isArrayOrTypedArray(e))for(var o=Math.min(e.length,r.length),i=0;i<o;i++){var s=e[i];r[i][t]=a?n(s):s}};Ke.mergeArrayCastPositive=function(e,r,t){return Ke.mergeArray(e,r,t,function(n){var a=+n;return isFinite(a)&&a>0?a:0})};Ke.fillArray=function(e,r,t,n){if(n=n||Ke.identity,Ke.isArrayOrTypedArray(e))for(var a=0;a<r.length;a++)r[a][t]=n(e[a])};Ke.castOption=function(e,r,t,n){n=n||Ke.identity;var a=Ke.nestedProperty(e,t).get();return Ke.isArrayOrTypedArray(a)?Array.isArray(r)&&Ke.isArrayOrTypedArray(a[r[0]])?n(a[r[0]][r[1]]):n(a[r]):a};Ke.extractOption=function(e,r,t,n){if(t in e)return e[t];var a=Ke.nestedProperty(r,n).get();if(!Array.isArray(a))return a};function hL(e){var r={};for(var t in e)for(var n=e[t],a=0;a<n.length;a++)r[n[a]]=+t;return r}Ke.tagSelected=function(e,r,t){var n=r.selectedpoints,a=r._indexToPoints,o;a&&(o=hL(a));function i(c){return c!==void 0&&c<e.length}for(var s=0;s<n.length;s++){var f=n[s];if(Ke.isIndex(f)||Ke.isArrayOrTypedArray(f)&&Ke.isIndex(f[0])&&Ke.isIndex(f[1])){var l=o?o[f]:f,u=t?t[l]:l;i(u)&&(e[u].selected=1)}}};Ke.selIndices2selPoints=function(e){var r=e.selectedpoints,t=e._indexToPoints;if(t){for(var n=hL(t),a=[],o=0;o<r.length;o++){var i=r[o];if(Ke.isIndex(i)){var s=n[i];Ke.isIndex(s)&&a.push(s)}}return a}else return r};Ke.getTargetArray=function(e,r){var t=r.target;if(typeof t=="string"&&t){var n=Ke.nestedProperty(e,t).get();return Ke.isArrayOrTypedArray(n)?n:!1}else if(Ke.isArrayOrTypedArray(t))return t;return!1};function vL(e,r,t){var n={};typeof r!="object"&&(r={});var a=t==="pieLike"?-1:3,o=Object.keys(e),i,s,f;for(i=0;i<o.length;i++)s=o[i],f=e[s],!(s.charAt(0)==="_"||typeof f=="function")&&(s==="module"?n[s]=f:Array.isArray(f)?s==="colorscale"||a===-1?n[s]=f.slice():n[s]=f.slice(0,a):Ke.isTypedArray(f)?a===-1?n[s]=f.subarray():n[s]=f.subarray(0,a):f&&typeof f=="object"?n[s]=vL(e[s],r[s],t):n[s]=f);for(o=Object.keys(r),i=0;i<o.length;i++)s=o[i],f=r[s],(typeof f!="object"||!(s in n)||typeof n[s]!="object")&&(n[s]=f);return n}Ke.minExtend=vL;Ke.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};Ke.containsAny=function(e,r){for(var t=0;t<r.length;t++)if(e.indexOf(r[t])!==-1)return!0;return!1};Ke.isIE=function(){return typeof window.navigator.msSaveBlob!="undefined"};var due=/Version\/[\d\.]+.*Safari/;Ke.isSafari=function(){return due.test(window.navigator.userAgent)};var pue=/iPad|iPhone|iPod/;Ke.isIOS=function(){return pue.test(window.navigator.userAgent)};var gue=/Firefox\/(\d+)\.\d+/;Ke.getFirefoxVersion=function(){var e=gue.exec(window.navigator.userAgent);if(e&&e.length===2){var r=parseInt(e[1]);if(!isNaN(r))return r}return null};Ke.isD3Selection=function(e){return e instanceof V1.selection};Ke.ensureSingle=function(e,r,t,n){var a=e.select(r+(t?"."+t:""));if(a.size())return a;var o=e.append(r);return t&&o.classed(t,!0),n&&o.call(n),o};Ke.ensureSingleById=function(e,r,t,n){var a=e.select(r+"#"+t);if(a.size())return a;var o=e.append(r).attr("id",t);return n&&o.call(n),o};Ke.objectFromPath=function(e,r){for(var t=e.split("."),n,a=n={},o=0;o<t.length;o++){var i=t[o],s=null,f=t[o].match(/(.*)\[([0-9]+)\]/);f?(i=f[1],s=f[2],n=n[i]=[],o===t.length-1?n[s]=r:n[s]={},n=n[s]):(o===t.length-1?n[i]=r:n[i]={},n=n[i])}return a};var yue=/^([^\[\.]+)\.(.+)?/,mue=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function im(e){return e.slice(0,2)==="__"}Ke.expandObjectPaths=function(e){var r,t,n,a,o,i,s;if(typeof e=="object"&&!Array.isArray(e)){for(t in e)if(e.hasOwnProperty(t))if(r=t.match(yue)){if(a=e[t],n=r[1],im(n))continue;delete e[t],e[n]=Ke.extendDeepNoArrays(e[n]||{},Ke.objectFromPath(t,Ke.expandObjectPaths(a))[n])}else if(r=t.match(mue)){if(a=e[t],n=r[1],im(n))continue;if(o=parseInt(r[2]),delete e[t],e[n]=e[n]||[],r[3]===".")s=r[4],i=e[n][o]=e[n][o]||{},Ke.extendDeepNoArrays(i,Ke.objectFromPath(s,Ke.expandObjectPaths(a)));else{if(im(n))continue;e[n][o]=Ke.expandObjectPaths(a)}}else{if(im(t))continue;e[t]=Ke.expandObjectPaths(e[t])}}return e};Ke.numSeparate=function(e,r,t){if(t||(t=!1),typeof r!="string"||r.length===0)throw new Error("Separator string required for formatting!");typeof e=="number"&&(e=String(e));var n=/(\d+)(\d{3})/,a=r.charAt(0),o=r.charAt(1),i=e.split("."),s=i[0],f=i.length>1?a+i[1]:"";if(o&&(i.length>1||s.length>4||t))for(;n.test(s);)s=s.replace(n,"$1"+o+"$2");return s+f};Ke.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var dL=/^\w*$/;Ke.templateString=function(e,r){var t={};return e.replace(Ke.TEMPLATE_STRING_REGEX,function(n,a){var o;return dL.test(a)?o=r[a]:(t[a]=t[a]||Ke.nestedProperty(r,a).get,o=t[a]()),Ke.isValidTextValue(o)?o:""})};var xue={max:10,count:0,name:"hovertemplate"};Ke.hovertemplateString=function(){return Yw.apply(xue,arguments)};var bue={max:10,count:0,name:"texttemplate"};Ke.texttemplateString=function(){return Yw.apply(bue,arguments)};var _ue=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function wue(e){var r=e.match(_ue);return r?{key:r[1],op:r[2],number:Number(r[3])}:{key:e,op:null,number:null}}var Aue={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Ke.texttemplateStringForShapes=function(){return Yw.apply(Aue,arguments)};var iL=/^[:|\|]/;function Yw(e,r,t){var n=this,a=arguments;r||(r={});var o={};return e.replace(Ke.TEMPLATE_STRING_REGEX,function(i,s,f){var l=s==="xother"||s==="yother",u=s==="_xother"||s==="_yother",c=s==="_xother_"||s==="_yother_",v=s==="xother_"||s==="yother_",m=l||u||v||c,x=s;(u||c)&&(x=x.substring(1)),(v||c)&&(x=x.substring(0,x.length-1));var A=null,w=null;if(n.parseMultDiv){var y=wue(x);x=y.key,A=y.op,w=y.number}var _;if(m){if(_=r[x],_===void 0)return""}else{var M,b;for(b=3;b<a.length;b++)if(M=a[b],!!M){if(M.hasOwnProperty(x)){_=M[x];break}if(dL.test(x)||(_=Ke.nestedProperty(M,x).get(),_=o[x]||Ke.nestedProperty(M,x).get(),_&&(o[x]=_)),_!==void 0)break}}if(_!==void 0&&(A==="*"&&(_*=w),A==="/"&&(_/=w)),_===void 0&&n)return n.count<n.max&&(Ke.warn("Variable '"+x+"' in "+n.name+" could not be found!"),_=i),n.count===n.max&&Ke.warn("Too many "+n.name+" warnings - additional warnings will be suppressed"),n.count++,i;if(f){var E;if(f[0]===":"&&(E=t?t.numberFormat:Ke.numberFormat,_!==""&&(_=E(f.replace(iL,""))(_))),f[0]==="|"){E=t?t.timeFormat:uue;var d=Ke.dateTime2ms(_);_=Ke.formatDate(d,f.replace(iL,""),!1,E)}}else{var T=x+"Label";r.hasOwnProperty(T)&&(_=r[T])}return m&&(_="("+_+")",(u||c)&&(_=" "+_),(v||c)&&(_=_+" ")),_})}var om=48,oL=57;Ke.subplotSort=function(e,r){for(var t=Math.min(e.length,r.length)+1,n=0,a=0,o=0;o<t;o++){var i=e.charCodeAt(o)||0,s=r.charCodeAt(o)||0,f=i>=om&&i<=oL,l=s>=om&&s<=oL;if(f&&(n=10*n+i-om),l&&(a=10*a+s-om),!f||!l){if(n!==a)return n-a;if(i!==s)return i-s}}return a-n};var zh=2e9;Ke.seedPseudoRandom=function(){zh=2e9};Ke.pseudoRandom=function(){var e=zh;return zh=(69069*zh+1)%4294967296,Math.abs(zh-e)<429496729?Ke.pseudoRandom():zh/4294967296};Ke.fillText=function(e,r,t){var n=Array.isArray(t)?function(i){t.push(i)}:function(i){t.text=i},a=Ke.extractOption(e,r,"htx","hovertext");if(Ke.isValidTextValue(a))return n(a);var o=Ke.extractOption(e,r,"tx","text");if(Ke.isValidTextValue(o))return n(o)};Ke.isValidTextValue=function(e){return e||e===0};Ke.formatPercent=function(e,r){r=r||0;for(var t=(Math.round(100*e*Math.pow(10,r))*Math.pow(.1,r)).toFixed(r)+"%",n=0;n<r;n++)t.indexOf(".")!==-1&&(t=t.replace("0%","%"),t=t.replace(".%","%"));return t};Ke.isHidden=function(e){var r=window.getComputedStyle(e).display;return!r||r==="none"};Ke.strTranslate=function(e,r){return e||r?"translate("+e+","+r+")":""};Ke.strRotate=function(e){return e?"rotate("+e+")":""};Ke.strScale=function(e){return e!==1?"scale("+e+")":""};Ke.getTextTransform=function(e){var r=e.noCenter,t=e.textX,n=e.textY,a=e.targetX,o=e.targetY,i=e.anchorX||0,s=e.anchorY||0,f=e.rotate,l=e.scale;return l?l>1&&(l=1):l=0,Ke.strTranslate(a-l*(t+i),o-l*(n+s))+Ke.strScale(l)+(f?"rotate("+f+(r?"":" "+t+" "+n)+")":"")};Ke.setTransormAndDisplay=function(e,r){e.attr("transform",Ke.getTextTransform(r)),e.style("display",r.scale?null:"none")};Ke.ensureUniformFontSize=function(e,r){var t=Ke.extendFlat({},r);return t.size=Math.max(r.size,e._fullLayout.uniformtext.minsize||0),t};Ke.join2=function(e,r,t){var n=e.length;return n>1?e.slice(0,-1).join(r)+t+e[n-1]:e.join(r)};Ke.bigFont=function(e){return Math.round(1.2*e)};var sL=Ke.getFirefoxVersion(),Tue=sL!==null&&sL<86;Ke.getPositionFromD3Event=function(){return Tue?[V1.event.layerX,V1.event.layerY]:[V1.event.offsetX,V1.event.offsetY]}});var mL=ie(()=>{"use strict";var Mue=wr(),gL={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(Ww in gL)yL=Ww.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),Mue.addStyleRule(yL,gL[Ww]);var yL,Ww});var Xw=ie((aFe,xL)=>{xL.exports=!0});var jw=ie((iFe,bL)=>{"use strict";var Eue=Xw(),Zw;typeof window.matchMedia=="function"?Zw=!window.matchMedia("(hover: none)").matches:Zw=Eue;bL.exports=Zw});var um=ie((oFe,Jw)=>{"use strict";var Hh=typeof Reflect=="object"?Reflect:null,_L=Hh&&typeof Hh.apply=="function"?Hh.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},lm;Hh&&typeof Hh.ownKeys=="function"?lm=Hh.ownKeys:Object.getOwnPropertySymbols?lm=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:lm=function(r){return Object.getOwnPropertyNames(r)};function Sue(e){console&&console.warn&&console.warn(e)}var AL=Number.isNaN||function(r){return r!==r};function na(){na.init.call(this)}Jw.exports=na;Jw.exports.once=Rue;na.EventEmitter=na;na.prototype._events=void 0;na.prototype._eventsCount=0;na.prototype._maxListeners=void 0;var wL=10;function fm(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(na,"defaultMaxListeners",{enumerable:!0,get:function(){return wL},set:function(e){if(typeof e!="number"||e<0||AL(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");wL=e}});na.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};na.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||AL(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function TL(e){return e._maxListeners===void 0?na.defaultMaxListeners:e._maxListeners}na.prototype.getMaxListeners=function(){return TL(this)};na.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a=r==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var f=o[r];if(f===void 0)return!1;if(typeof f=="function")_L(f,this,t);else for(var l=f.length,u=kL(f,l),n=0;n<l;++n)_L(u[n],this,t);return!0};function ML(e,r,t,n){var a,o,i;if(fm(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),o=e._events),i=o[r]),i===void 0)i=o[r]=t,++e._eventsCount;else if(typeof i=="function"?i=o[r]=n?[t,i]:[i,t]:n?i.unshift(t):i.push(t),a=TL(e),a>0&&i.length>a&&!i.warned){i.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=r,s.count=i.length,Sue(s)}return e}na.prototype.addListener=function(r,t){return ML(this,r,t,!1)};na.prototype.on=na.prototype.addListener;na.prototype.prependListener=function(r,t){return ML(this,r,t,!0)};function Cue(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function EL(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},a=Cue.bind(n);return a.listener=t,n.wrapFn=a,a}na.prototype.once=function(r,t){return fm(t),this.on(r,EL(this,r,t)),this};na.prototype.prependOnceListener=function(r,t){return fm(t),this.prependListener(r,EL(this,r,t)),this};na.prototype.removeListener=function(r,t){var n,a,o,i,s;if(fm(t),a=this._events,a===void 0)return this;if(n=a[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;o===0?n.shift():kue(n,o),n.length===1&&(a[r]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",r,s||t)}return this};na.prototype.off=na.prototype.removeListener;na.prototype.removeAllListeners=function(r){var t,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var o=Object.keys(n),i;for(a=0;a<o.length;++a)i=o[a],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(r,t[a]);return this};function SL(e,r,t){var n=e._events;if(n===void 0)return[];var a=n[r];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?Lue(a):kL(a,a.length)}na.prototype.listeners=function(r){return SL(this,r,!0)};na.prototype.rawListeners=function(r){return SL(this,r,!1)};na.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):CL.call(e,r)};na.prototype.listenerCount=CL;function CL(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}na.prototype.eventNames=function(){return this._eventsCount>0?lm(this._events):[]};function kL(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function kue(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function Lue(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function Rue(e,r){return new Promise(function(t,n){function a(i){e.removeListener(r,o),n(i)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),t([].slice.call(arguments))}LL(e,r,o,{once:!0}),r!=="error"&&Due(e,a,{once:!0})})}function Due(e,r,t){typeof e.on=="function"&&LL(e,"error",r,t)}function LL(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function a(o){n.once&&e.removeEventListener(r,a),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Y1=ie((sFe,RL)=>{"use strict";var $w=um().EventEmitter,Fue={init:function(e){if(e._ev instanceof $w)return e;var r=new $w,t=new $w;return e._ev=r,e._internalEv=t,e.on=r.on.bind(r),e.once=r.once.bind(r),e.removeListener=r.removeListener.bind(r),e.removeAllListeners=r.removeAllListeners.bind(r),e._internalOn=t.on.bind(t),e._internalOnce=t.once.bind(t),e._removeInternalListener=t.removeListener.bind(t),e._removeAllInternalListeners=t.removeAllListeners.bind(t),e.emit=function(n,a){typeof jQuery!="undefined"&&jQuery(e).trigger(n,a),r.emit(n,a),t.emit(n,a)},e},triggerHandler:function(e,r,t){var n,a;typeof jQuery!="undefined"&&(n=jQuery(e).triggerHandler(r,t));var o=e._ev;if(!o)return n;var i=o._events[r];if(!i)return n;function s(l){if(l.listener){if(o.removeListener(r,l.listener),!l.fired)return l.fired=!0,l.listener.apply(o,[t])}else return l.apply(o,[t])}i=Array.isArray(i)?i:[i];var f;for(f=0;f<i.length-1;f++)s(i[f]);return a=s(i[f]),n!==void 0?n:a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};RL.exports=Fue});var IL=ie((lFe,FL)=>{"use strict";var DL=wr(),Iue=Nc().dfltConfig;function Pue(e,r){for(var t=[],n,a=0;a<r.length;a++)n=r[a],n===e?t[a]=n:typeof n=="object"?t[a]=Array.isArray(n)?DL.extendDeep([],n):DL.extendDeepAll({},n):t[a]=n;return t}var lf={};lf.add=function(e,r,t,n,a){var o,i;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},i=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(i,e.undoQueue.queue.length-i,o),e.undoQueue.index+=1):o=e.undoQueue.queue[i-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(r),o.undo.args.unshift(t),o.redo.calls.push(n),o.redo.args.push(a)),e.undoQueue.queue.length>Iue.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)};lf.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0};lf.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1};lf.undo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index<=0)){for(r.undoQueue.index--,t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)lf.plotDo(r,t.undo.calls[n],t.undo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1}};lf.redo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index>=r.undoQueue.queue.length)){for(t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)lf.plotDo(r,t.redo.calls[n],t.redo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1,r.undoQueue.index++}};lf.plotDo=function(e,r,t){e.autoplay=!0,t=Pue(e,t),r.apply(null,t)};FL.exports=lf});var Kw=ie((fFe,PL)=>{"use strict";PL.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}});var pu=ie(Ia=>{"use strict";var Ei=Dt(),Z1=wr(),X1=rs(),Qw=zc(),Oue=Kw(),Nue=B1(),Bue=Nc().configAttributes,OL=No(),ns=Z1.extendDeepAll,Vh=Z1.isPlainObject,que=Z1.isArrayOrTypedArray,cm=Z1.nestedProperty,zue=Z1.valObjectMeta,e4="_isSubplotObj",hm="_isLinkedToArray",Uue="_arrayAttrRegexps",BL="_deprecated",r4=[e4,hm,Uue,BL];Ia.IS_SUBPLOT_OBJ=e4;Ia.IS_LINKED_TO_ARRAY=hm;Ia.DEPRECATED=BL;Ia.UNDERSCORE_ATTRS=r4;Ia.get=function(){var e={};Ei.allTypes.forEach(function(t){e[t]=Hue(t)});var r={};return Object.keys(Ei.transformsRegistry).forEach(function(t){r[t]=Yue(t)}),{defs:{valObjects:zue,metaKeys:r4.concat(["description","role","editType","impliedEdits"]),editType:{traces:OL.traces,layout:OL.layout},impliedEdits:{}},traces:e,layout:Vue(),transforms:r,frames:Wue(),animation:Vc(Nue),config:Vc(Bue)}};Ia.crawl=function(e,r,t,n){var a=t||0;n=n||"",Object.keys(e).forEach(function(o){var i=e[o];if(r4.indexOf(o)===-1){var s=(n?n+".":"")+o;r(i,o,e,a,s),!Ia.isValObject(i)&&Vh(i)&&o!=="impliedEdits"&&Ia.crawl(i,r,a+1,s)}})};Ia.isValObject=function(e){return e&&e.valType!==void 0};Ia.findArrayAttributes=function(e){var r=[],t=[],n=[],a,o;function i(v,m,x,A){t=t.slice(0,A).concat([m]),n=n.slice(0,A).concat([v&&v._isLinkedToArray]);var w=v&&(v.valType==="data_array"||v.arrayOk===!0)&&!(t[A-1]==="colorbar"&&(m==="ticktext"||m==="tickvals"));w&&s(a,0,"")}function s(v,m,x){var A=v[t[m]],w=x+t[m];if(m===t.length-1)que(A)&&r.push(o+w);else if(n[m]){if(Array.isArray(A))for(var y=0;y<A.length;y++)Vh(A[y])&&s(A[y],m+1,w+"["+y+"].")}else Vh(A)&&s(A,m+1,w+".")}a=e,o="",Ia.crawl(X1,i),e._module&&e._module.attributes&&Ia.crawl(e._module.attributes,i);var f=e.transforms;if(f)for(var l=0;l<f.length;l++){var u=f[l],c=u._module;c&&(o="transforms["+l+"].",a=u,Ia.crawl(c.attributes,i))}return r};Ia.getTraceValObject=function(e,r){var t=r[0],n=1,a,o;if(t==="transforms"){if(r.length===1)return X1.transforms;var i=e.transforms;if(!Array.isArray(i)||!i.length)return!1;var s=r[1];if(!W1(s)||s>=i.length)return!1;a=(Ei.transformsRegistry[i[s].type]||{}).attributes,o=a&&a[r[2]],n=3}else{var f=e._module;if(f||(f=(Ei.modules[e.type||X1.type.dflt]||{})._module),!f)return!1;if(a=f.attributes,o=a&&a[t],!o){var l=f.basePlotModule;l&&l.attributes&&(o=l.attributes[t])}o||(o=X1[t])}return qL(o,r,n)};Ia.getLayoutValObject=function(e,r){var t=Gue(e,r[0]);return qL(t,r,1)};function Gue(e,r){var t,n,a,o,i=e._basePlotModules;if(i){var s;for(t=0;t<i.length;t++){if(a=i[t],a.attrRegex&&a.attrRegex.test(r)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!s&&a.layoutAttributes&&(s=a.layoutAttributes)}var f=a.baseLayoutAttrOverrides;if(f&&r in f)return f[r]}if(s)return s}var l=e._modules;if(l){for(t=0;t<l.length;t++)if(o=l[t].layoutAttributes,o&&r in o)return o[r]}for(n in Ei.componentsRegistry){if(a=Ei.componentsRegistry[n],a.name==="colorscale"&&r.indexOf("coloraxis")===0)return a.layoutAttributes[r];if(!a.schema&&r===a.name)return a.layoutAttributes}return r in Qw?Qw[r]:!1}function qL(e,r,t){if(!e)return!1;if(e._isLinkedToArray){if(W1(r[t]))t++;else if(t<r.length)return!1}for(;t<r.length;t++){var n=e[r[t]];if(Vh(n))e=n;else break;if(t===r.length-1)break;if(e._isLinkedToArray){if(t++,!W1(r[t]))return!1}else if(e.valType==="info_array"){t++;var a=r[t];if(!W1(a))return!1;var o=e.items;if(Array.isArray(o)){if(a>=o.length)return!1;if(e.dimensions===2){if(t++,r.length===t)return e;var i=r[t];if(!W1(i))return!1;e=o[a][i]}else e=o[a]}else e=o}}return e}function W1(e){return e===Math.round(e)&&e>=0}function Hue(e){var r,t;r=Ei.modules[e]._module,t=r.basePlotModule;var n={};n.type=null;var a=ns({},X1),o=ns({},r.attributes);Ia.crawl(o,function(f,l,u,c,v){cm(a,v).set(void 0),f===void 0&&cm(o,v).set(void 0)}),ns(n,a),Ei.traceIs(e,"noOpacity")&&delete n.opacity,Ei.traceIs(e,"showLegend")||(delete n.showlegend,delete n.legendgroup),Ei.traceIs(e,"noHover")&&(delete n.hoverinfo,delete n.hoverlabel),r.selectPoints||delete n.selectedpoints,ns(n,o),t.attributes&&ns(n,t.attributes),n.type=e;var i={meta:r.meta||{},categories:r.categories||{},animatable:!!r.animatable,type:e,attributes:Vc(n)};if(r.layoutAttributes){var s={};ns(s,r.layoutAttributes),i.layoutAttributes=Vc(s)}return r.animatable||Ia.crawl(i,function(f){Ia.isValObject(f)&&"anim"in f&&delete f.anim}),i}function Vue(){var e={},r,t;ns(e,Qw);for(r in Ei.subplotsRegistry)if(t=Ei.subplotsRegistry[r],!!t.layoutAttributes)if(Array.isArray(t.attr))for(var n=0;n<t.attr.length;n++)NL(e,t,t.attr[n]);else{var a=t.attr==="subplot"?t.name:t.attr;NL(e,t,a)}for(r in Ei.componentsRegistry){t=Ei.componentsRegistry[r];var o=t.schema;if(o&&(o.subplots||o.layout)){var i=o.subplots;if(i&&i.xaxis&&!i.yaxis)for(var s in i.xaxis)delete e.yaxis[s];delete e.xaxis.shift,delete e.xaxis.autoshift}else t.name==="colorscale"?ns(e,t.layoutAttributes):t.layoutAttributes&&zL(e,t.layoutAttributes,t.name)}return{layoutAttributes:Vc(e)}}function Yue(e){var r=Ei.transformsRegistry[e],t=ns({},r.attributes);return Object.keys(Ei.componentsRegistry).forEach(function(n){var a=Ei.componentsRegistry[n];a.schema&&a.schema.transforms&&a.schema.transforms[e]&&Object.keys(a.schema.transforms[e]).forEach(function(o){zL(t,a.schema.transforms[e][o],o)})}),{attributes:Vc(t)}}function Wue(){var e={frames:ns({},Oue)};return Vc(e),e.frames}function Vc(e){return Xue(e),Zue(e),jue(e),e}function Xue(e){function r(n){return{valType:"string",editType:"none"}}function t(n,a,o){Ia.isValObject(n)?(n.arrayOk===!0||n.valType==="data_array")&&(o[a+"src"]=r(a)):Vh(n)&&(n.role="object")}Ia.crawl(e,t)}function Zue(e){function r(t,n,a){if(t){var o=t[hm];o&&(delete t[hm],a[n]={items:{}},a[n].items[o]=t,a[n].role="object")}}Ia.crawl(e,r)}function jue(e){function r(t){for(var n in t)if(Vh(t[n]))r(t[n]);else if(Array.isArray(t[n]))for(var a=0;a<t[n].length;a++)r(t[n][a]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}r(e)}function NL(e,r,t){var n=cm(e,t),a=ns({},r.layoutAttributes);a[e4]=!0,n.set(a)}function zL(e,r,t){var n=cm(e,t);n.set(ns(n.get()||{},r))}});var Yn=ie(Yc=>{"use strict";var Yh=wr(),Jue=rs(),gu="templateitemname",t4={name:{valType:"string",editType:"none"}};t4[gu]={valType:"string",editType:"calc"};Yc.templatedArray=function(e,r){return r._isLinkedToArray=e,r.name=t4.name,r[gu]=t4[gu],r};Yc.traceTemplater=function(e){var r={},t,n;for(t in e)n=e[t],Array.isArray(n)&&n.length&&(r[t]=0);function a(o){t=Yh.coerce(o,{},Jue,"type");var i={type:t,_template:null};if(t in r){n=e[t];var s=r[t]%n.length;r[t]++,i._template=n[s]}return i}return{newTrace:a}};Yc.newContainer=function(e,r,t){var n=e._template,a=n&&(n[r]||t&&n[t]);Yh.isPlainObject(a)||(a=null);var o=e[r]={_template:a};return o};Yc.arrayTemplater=function(e,r,t){var n=e._template,a=n&&n[GL(r)],o=n&&n[r];(!Array.isArray(o)||!o.length)&&(o=[]);var i={};function s(l){var u={name:l.name,_input:l},c=u[gu]=l[gu];if(!UL(c))return u._template=a,u;for(var v=0;v<o.length;v++){var m=o[v];if(m.name===c)return i[c]=1,u._template=m,u}return u[t]=l[t]||!1,u._template=!1,u}function f(){for(var l=[],u=0;u<o.length;u++){var c=o[u],v=c.name;if(UL(v)&&!i[v]){var m={_template:c,name:v,_input:{_templateitemname:v}};m[gu]=c[gu],l.push(m),i[v]=1}}return l}return{newItem:s,defaultItems:f}};function UL(e){return e&&typeof e=="string"}function GL(e){var r=e.length-1;return e.charAt(r)!=="s"&&Yh.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}Yc.arrayDefaultKey=GL;Yc.arrayEditor=function(e,r,t){var n=(Yh.nestedProperty(e,r).get()||[]).length,a=t._index,o=a>=n&&(t._input||{})._templateitemname;o&&(a=n);var i=r+"["+a+"]",s;function f(){s={},o&&(s[i]={},s[i][gu]=o)}f();function l(m,x){s[m]=x}function u(m,x){o?Yh.nestedProperty(s[i],m).set(x):s[i+"."+m]=x}function c(){var m=s;return f(),m}function v(m,x){m&&u(m,x);var A=c();for(var w in A)Yh.nestedProperty(e,w).set(A[w])}return{modifyBase:l,modifyItem:u,getUpdateObj:c,applyUpdate:v}}});var Pa=ie((hFe,HL)=>{"use strict";var j1=Fh().counter;HL.exports={idRegex:{x:j1("x","( domain)?"),y:j1("y","( domain)?")},attrRegex:j1("[xy]axis"),xAxisMatch:j1("xaxis"),yAxisMatch:j1("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}});var ya=ie(wo=>{"use strict";var $ue=Dt(),n4=Pa();wo.id2name=function(r){if(!(typeof r!="string"||!r.match(n4.AX_ID_PATTERN))){var t=r.split(" ")[0].substr(1);return t==="1"&&(t=""),r.charAt(0)+"axis"+t}};wo.name2id=function(r){if(r.match(n4.AX_NAME_PATTERN)){var t=r.substr(5);return t==="1"&&(t=""),r.charAt(0)+t}};wo.cleanId=function(r,t,n){var a=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(n4.AX_ID_PATTERN))&&!(t&&r.charAt(0)!==t)&&!(a&&!n)){var o=r.split(" ")[0].substr(1).replace(/^0+/,"");return o==="1"&&(o=""),r.charAt(0)+o+(a&&n?" domain":"")}};wo.list=function(e,r,t){var n=e._fullLayout;if(!n)return[];var a=wo.listIds(e,r),o=new Array(a.length),i;for(i=0;i<a.length;i++){var s=a[i];o[i]=n[s.charAt(0)+"axis"+s.substr(1)]}if(!t){var f=n._subplots.gl3d||[];for(i=0;i<f.length;i++){var l=n[f[i]];r?o.push(l[r+"axis"]):o.push(l.xaxis,l.yaxis,l.zaxis)}}return o};wo.listIds=function(e,r){var t=e._fullLayout;if(!t)return[];var n=t._subplots;return r?n[r+"axis"]:n.xaxis.concat(n.yaxis)};wo.getFromId=function(e,r,t){var n=e._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),t==="x"?r=r.replace(/y[0-9]*/,""):t==="y"&&(r=r.replace(/x[0-9]*/,"")),n[wo.id2name(r)]};wo.getFromTrace=function(e,r,t){var n=e._fullLayout,a=null;if($ue.traceIs(r,"gl3d")){var o=r.scene;o.substr(0,5)==="scene"&&(a=n[o][t+"axis"])}else a=wo.getFromId(e,r[t+"axis"]||t);return a};wo.idSort=function(e,r){var t=e.charAt(0),n=r.charAt(0);return t!==n?t>n?1:-1:+(e.substr(1)||1)-+(r.substr(1)||1)};wo.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function VL(e,r){if(r&&r.length){for(var t=0;t<r.length;t++)if(r[t][e])return!0}return!1}wo.isLinked=function(e,r){return VL(r,e._axisMatchGroups)||VL(r,e._axisConstraintGroups)}});var yu=ie((dFe,YL)=>{"use strict";function Kue(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function Que(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}YL.exports={clearOutlineControllers:Kue,clearOutline:Que}});var vm=ie((pFe,WL)=>{"use strict";WL.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}});var Wh=ie(dm=>{"use strict";var J1=Dt(),ece=Pa().SUBPLOT_PATTERN;dm.getSubplotCalcData=function(e,r,t){var n=J1.subplotsRegistry[r];if(!n)return[];for(var a=n.attr,o=[],i=0;i<e.length;i++){var s=e[i],f=s[0].trace;f[a]===t&&o.push(s)}return o};dm.getModuleCalcData=function(e,r,t){var n=[],a=[],o;if(typeof r=="string"?o=J1.getModule(r).plot:typeof r=="function"?o=r:o=r.plot,!o)return[n,e];for(var i=t,s=0;s<e.length;s++){var f=e[s],l=f[0].trace,u=l.zorder!==void 0;l.visible!==!0||l._length===0||(l._module&&l._module.plot===o&&(!u||l.zorder===i)?n.push(f):a.push(f))}return[n,a]};dm.getSubplotData=function(r,t,n){if(!J1.subplotsRegistry[t])return[];var a=J1.subplotsRegistry[t].attr,o=[],i,s,f;if(t==="gl2d"){var l=n.match(ece);s="x"+l[1],f="y"+l[2]}for(var u=0;u<r.length;u++)i=r[u],t==="gl2d"&&J1.traceIs(i,"gl2d")?i[a[0]]===s&&i[a[1]]===f&&o.push(i):i[a]===n&&o.push(i);return o}});var JL=ie(Wc=>{"use strict";var rce=Dt(),Xh=wr();Wc.manageCommandObserver=function(e,r,t,n){var a={},o=!0;r&&r._commandObserver&&(a=r._commandObserver),a.cache||(a.cache={}),a.lookupTable={};var i=Wc.hasSimpleAPICommandBindings(e,t,a.lookupTable);if(r&&r._commandObserver){if(i)return a;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,a}if(i){XL(e,i,a.cache),a.check=function(){if(o){var u=XL(e,i,a.cache);return u.changed&&n&&a.lookupTable[u.value]!==void 0&&(a.disable(),Promise.resolve(n({value:u.value,type:i.type,prop:i.prop,traces:i.traces,index:a.lookupTable[u.value]})).then(a.enable,a.enable)),u.changed}};for(var s=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<s.length;f++)e._internalOn(s[f],a.check);a.remove=function(){for(var l=0;l<s.length;l++)e._removeInternalListener(s[l],a.check)}}else Xh.log("Unable to automatically bind plot updates to API command"),a.lookupTable={},a.remove=function(){};return a.disable=function(){o=!1},a.enable=function(){o=!0},r&&(r._commandObserver=a),a};Wc.hasSimpleAPICommandBindings=function(e,r,t){var n,a=r.length,o;for(n=0;n<a;n++){var i,s=r[n],f=s.method,l=s.args;if(Array.isArray(l)||(l=[]),!f)return!1;var u=Wc.computeAPICommandBindings(e,f,l);if(u.length!==1)return!1;if(!o)o=u[0],Array.isArray(o.traces)&&o.traces.sort();else{if(i=u[0],i.type!==o.type||i.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(i.traces)){i.traces.sort();for(var c=0;c<o.traces.length;c++)if(o.traces[c]!==i.traces[c])return!1}else return!1;else if(i.prop!==o.prop)return!1}i=u[0];var v=i.value;if(Array.isArray(v))if(v.length===1)v=v[0];else return!1;t&&(t[v]=n)}return o};function XL(e,r,t){var n,a,o,i=!1;if(r.type==="data")n=e._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=e._fullLayout;else return!1;return a=Xh.nestedProperty(n,r.prop).get(),o=t[r.type]=t[r.type]||{},o.hasOwnProperty(r.prop)&&o[r.prop]!==a&&(i=!0),o[r.prop]=a,{changed:i,value:a}}Wc.executeAPICommand=function(e,r,t){if(r==="skip")return Promise.resolve();var n=rce.apiMethodRegistry[r],a=[e];Array.isArray(t)||(t=[]);for(var o=0;o<t.length;o++)a.push(t[o]);return n.apply(null,a).catch(function(i){return Xh.warn("API call to Plotly."+r+" rejected.",i),Promise.reject(i)})};Wc.computeAPICommandBindings=function(e,r,t){var n;switch(Array.isArray(t)||(t=[]),r){case"restyle":n=jL(e,t);break;case"relayout":n=ZL(e,t);break;case"update":n=jL(e,[t[0],t[2]]).concat(ZL(e,[t[1]]));break;case"animate":n=tce(e,t);break;default:n=[]}return n};function tce(e,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function ZL(e,r){var t=[],n=r[0],a={};if(typeof n=="string")a[n]=r[1];else if(Xh.isPlainObject(n))a=n;else return t;return a4(a,function(o,i,s){t.push({type:"layout",prop:o,value:s})},"",0),t}function jL(e,r){var t,n,a,o,i=[];if(n=r[0],a=r[1],t=r[2],o={},typeof n=="string")o[n]=a;else if(Xh.isPlainObject(n))o=n,t===void 0&&(t=a);else return i;return t===void 0&&(t=null),a4(o,function(s,f,l){var u,c;if(Array.isArray(l)){c=l.slice();var v=Math.min(c.length,e.data.length);t&&(v=Math.min(v,t.length)),u=[];for(var m=0;m<v;m++)u[m]=t?t[m]:m}else c=l,u=t?t.slice():null;if(u===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(u)){if(!Array.isArray(c)){var x=c;c=[];for(var A=0;A<u.length;A++)c[A]=x}c.length=Math.min(u.length,c.length)}i.push({type:"data",prop:s,traces:u,value:c})},"",0),i}function a4(e,r,t,n){Object.keys(e).forEach(function(a){var o=e[a];if(a[0]!=="_"){var i=t+(n>0?".":"")+a;Xh.isPlainObject(o)?a4(o,r,i,n+1):r(i,a,o)}})}});var Za=ie((mFe,uR)=>{"use strict";var tR=gn(),nce=kh().timeFormatLocale,ace=vw().formatLocale,$1=cn(),ice=dw(),kn=Dt(),nR=pu(),oce=Yn(),st=wr(),aR=pn(),$L=ta().BADNUM,Ao=ya(),sce=yu().clearOutline,lce=vm(),o4=B1(),fce=Kw(),uce=Wh().getModuleCalcData,i4=st.relinkPrivateKeys,Xc=st._,Xr=uR.exports={};st.extendFlat(Xr,kn);Xr.attributes=rs();Xr.attributes.type.values=Xr.allTypes;Xr.fontAttrs=ci();Xr.layoutAttributes=zc();var gm=Xr.transformsRegistry,ym=JL();Xr.executeAPICommand=ym.executeAPICommand;Xr.computeAPICommandBindings=ym.computeAPICommandBindings;Xr.manageCommandObserver=ym.manageCommandObserver;Xr.hasSimpleAPICommandBindings=ym.hasSimpleAPICommandBindings;Xr.redrawText=function(e){return e=st.getGraphDiv(e),new Promise(function(r){setTimeout(function(){e._fullLayout&&(kn.getComponentMethod("annotations","draw")(e),kn.getComponentMethod("legend","draw")(e),kn.getComponentMethod("colorbar","draw")(e),r(Xr.previousPromises(e)))},300)})};Xr.resize=function(e){e=st.getGraphDiv(e);var r,t=new Promise(function(n,a){(!e||st.isHidden(e))&&a(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(r=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||st.isHidden(e)){n(e);return}delete e.layout.width,delete e.layout.height;var o=e.changed;e.autoplay=!0,kn.call("relayout",e,{autosize:!0}).then(function(){e.changed=o,e._resolveResize===n&&(delete e._resolveResize,n(e))})},100)});return r&&r(t),t};Xr.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})};Xr.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var r=e._fullLayout,t=st.ensureSingle(r._paper,"text","js-plot-link-container",function(f){f.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:aR.defaultLine,"pointer-events":"all"}).each(function(){var l=tR.select(this);l.append("tspan").classed("js-link-to-tool",!0),l.append("tspan").classed("js-link-spacer",!0),l.append("tspan").classed("js-sourcelinks",!0)})}),n=t.node(),a={y:r._paper.attr("height")-9};document.body.contains(n)&&n.getComputedTextLength()>=r.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=r._paper.attr("width")-7),t.attr(a);var o=t.select(".js-link-to-tool"),i=t.select(".js-link-spacer"),s=t.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&cce(e,o),i.text(o.text()&&s.text()?" - ":"")}};function cce(e,r){r.text("");var t=r.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" \xBB");if(e._context.sendData)t.on("click",function(){Xr.sendDataToCloud(e)});else{var n=window.location.pathname.split("/"),a=window.location.search;t.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+a})}}Xr.sendDataToCloud=function(e){var r=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(r){e.emit("plotly_beforeexport");var t=tR.select(e).append("div").attr("id","hiddenform").style("display","none"),n=t.append("form").attr({action:r+"/external",method:"post",target:"_blank"}),a=n.append("input").attr({type:"text",name:"data"});return a.node().value=Xr.graphJson(e,!1,"keepdata"),n.node().submit(),t.remove(),e.emit("plotly_afterexport"),!1}};var hce=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],vce=["year","month","dayMonth","dayMonthYear"];Xr.supplyDefaults=function(e,r){var t=r&&r.skipUpdateCalc,n=e._fullLayout||{};if(n._skipDefaults){delete n._skipDefaults;return}var a=e._fullLayout={},o=e.layout||{},i=e._fullData||[],s=e._fullData=[],f=e.data||[],l=e.calcdata||[],u=e._context||{},c;e._transitionData||Xr.createTransitionData(e),a._dfltTitle={plot:Xc(e,"Click to enter Plot title"),subtitle:Xc(e,"Click to enter Plot subtitle"),x:Xc(e,"Click to enter X axis title"),y:Xc(e,"Click to enter Y axis title"),colorbar:Xc(e,"Click to enter Colorscale title"),annotation:Xc(e,"new text")},a._traceWord=Xc(e,"trace");var v=KL(e,hce);if(a._mapboxAccessToken=u.mapboxAccessToken,n._initialAutoSizeIsDone){var m=n.width,x=n.height;Xr.supplyLayoutGlobalDefaults(o,a,v),o.width||(a.width=m),o.height||(a.height=x),Xr.sanitizeMargins(a)}else{Xr.supplyLayoutGlobalDefaults(o,a,v);var A=!o.width||!o.height,w=a.autosize,y=u.autosizable,_=A&&(w||y);_?Xr.plotAutoSize(e,o,a):A&&Xr.sanitizeMargins(a),!w&&A&&(o.width=a.width,o.height=a.height)}a._d3locale=gce(v,a.separators),a._extraFormat=KL(e,vce),a._initialAutoSizeIsDone=!0,a._dataLength=f.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var M=a._subplots=pce(),b=a._splomAxes={x:{},y:{}},E=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=dce(i,f),a._globalTransforms=(e._context||{}).globalTransforms,Xr.supplyDataDefaults(f,s,o,a);var d=Object.keys(b.x),T=Object.keys(b.y);if(d.length>1&&T.length>1){for(kn.getComponentMethod("grid","sizeDefaults")(o,a),c=0;c<d.length;c++)st.pushUnique(M.xaxis,d[c]);for(c=0;c<T.length;c++)st.pushUnique(M.yaxis,T[c]);for(var g in E)st.pushUnique(M.cartesian,g)}if(a._has=Xr._hasPlotType.bind(a),i.length===s.length)for(c=0;c<s.length;c++)i4(s[c],i[c]);Xr.supplyLayoutModuleDefaults(o,a,s,e._transitionData);var h=a._visibleModules,S=[];for(c=0;c<h.length;c++){var p=h[c].crossTraceDefaults;p&&st.pushUnique(S,p)}for(c=0;c<S.length;c++)S[c](s,a);a._hasOnlyLargeSploms=a._basePlotModules.length===1&&a._basePlotModules[0].name==="splom"&&d.length>15&&T.length>15&&a.shapes.length===0&&a.images.length===0,Xr.linkSubplots(s,a,i,n),Xr.cleanPlot(s,a,i,n);var C=!!(n._has&&n._has("gl2d")),k=!!(a._has&&a._has("gl2d")),D=!!(n._has&&n._has("cartesian")),P=!!(a._has&&a._has("cartesian")),O=D||C,F=P||k;O&&!F?n._bgLayer.remove():F&&!O&&(a._shouldCreateBgLayer=!0),n._zoomlayer&&!e._dragging&&sce({_fullLayout:n}),yce(s,a),i4(a,n),kn.getComponentMethod("colorscale","crossTraceDefaults")(s,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var L=a._tracePreGUI,I={},q;for(q in L)I[q]="old";for(c=0;c<s.length;c++)q=s[c]._fullInput.uid,I[q]||(L[q]={}),I[q]="new";for(q in I)I[q]==="old"&&delete L[q];oR(a),kn.getComponentMethod("rangeslider","makeData")(a),!t&&l.length===s.length&&Xr.supplyDefaultsUpdateCalc(l,s)};Xr.supplyDefaultsUpdateCalc=function(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=(e[t]||[])[0];if(a&&a.trace){var o=a.trace;if(o._hasCalcTransform){var i=o._arrayAttrs,s,f,l;for(s=0;s<i.length;s++)f=i[s],l=st.nestedProperty(o,f).get().slice(),st.nestedProperty(n,f).set(l)}a.trace=n}}};function dce(e,r){var t=r.length,n=[],a,o;for(a=0;a<e.length;a++){var i=e[a]._fullInput;i!==o&&n.push(i),o=i}var s=n.length,f=new Array(t),l={};function u(m,x){f[x]=m,l[m]=1}function c(m,x){if(m&&typeof m=="string"&&!l[m])return u(m,x),!0}for(a=0;a<t;a++){var v=r[a].uid;typeof v=="number"&&(v=String(v)),!c(v,a)&&(a<s&&c(n[a].uid,a)||u(st.randstr(l),a))}return f}function pce(){var e=kn.collectableSubplotTypes,r={},t,n;if(!e){e=[];var a=kn.subplotsRegistry;for(var o in a){var i=a[o],s=i.attr;if(s&&(e.push(o),Array.isArray(s)))for(n=0;n<s.length;n++)st.pushUnique(e,s[n])}}for(t=0;t<e.length;t++)r[e[t]]=[];return r}function KL(e,r){var t=e._context.locale;t||(t="en-US");var n=!1,a={};function o(c){for(var v=!0,m=0;m<r.length;m++){var x=r[m];a[x]||(c[x]?a[x]=c[x]:v=!1)}v&&(n=!0)}for(var i=0;i<2;i++){for(var s=e._context.locales,f=0;f<2;f++){var l=(s[t]||{}).format;if(l&&(o(l),n))break;s=kn.localeRegistry}var u=t.split("-")[0];if(n||u===t)break;t=u}return n||o(kn.localeRegistry.en.format),a}function gce(e,r){return e.decimal=r.charAt(0),e.thousands=r.charAt(1),{numberFormat:function(t){try{t=ace(e).format(st.adjustFormat(t))}catch(n){return st.warnBadFormat(t),st.noFormat}return t},timeFormat:nce(e).utcFormat}}function yce(e,r){var t,n=[];r.meta&&(t=r._meta={meta:r.meta,layout:{meta:r.meta}});for(var a=0;a<e.length;a++){var o=e[a];o.meta?n[o.index]=o._meta={meta:o.meta}:r.meta&&(o._meta={meta:r.meta}),r.meta&&(o._meta.layout={meta:r.meta})}n.length&&(t||(t=r._meta={}),t.data=n)}Xr.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])};Xr._hasPlotType=function(e){var r,t=this._basePlotModules||[];for(r=0;r<t.length;r++)if(t[r].name===e)return!0;var n=this._modules||[];for(r=0;r<n.length;r++){var a=n[r].name;if(a===e)return!0;var o=kn.modules[a];if(o&&o.categories[e])return!0}return!1};Xr.cleanPlot=function(e,r,t,n){var a,o,i=n._basePlotModules||[];for(a=0;a<i.length;a++){var s=i[a];s.clean&&s.clean(e,r,t,n)}var f=n._has&&n._has("gl"),l=r._has&&r._has("gl");f&&!l&&n._glcontainer!==void 0&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var u=!!n._infolayer;e:for(a=0;a<t.length;a++){var c=t[a],v=c.uid;for(o=0;o<e.length;o++){var m=e[o];if(v===m.uid)continue e}u&&n._infolayer.select(".cb"+v).remove()}};Xr.linkSubplots=function(e,r,t,n){var a,o,i=n._plots||{},s=r._plots={},f=r._subplots,l={_fullData:e,_fullLayout:r},u=f.cartesian.concat(f.gl2d||[]);for(a=0;a<u.length;a++){var c=u[a],v=i[c],m=Ao.getFromId(l,c,"x"),x=Ao.getFromId(l,c,"y"),A;for(v?A=s[c]=v:(A=s[c]={},A.id=c),m._counterAxes.push(x._id),x._counterAxes.push(m._id),m._subplotsWith.push(c),x._subplotsWith.push(c),A.xaxis=m,A.yaxis=x,A._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var w=e[o];if(w.xaxis===A.xaxis._id&&w.yaxis===A.yaxis._id&&w.cliponaxis===!1){A._hasClipOnAxisFalse=!0;break}}}var y=Ao.list(l,null,!0),_;for(a=0;a<y.length;a++){_=y[a];var M=null;_.overlaying&&(M=Ao.getFromId(l,_.overlaying),M&&M.overlaying&&(_.overlaying=!1,M=null)),_._mainAxis=M||_,M&&(_.domain=M.domain.slice()),_._anchorAxis=_.anchor==="free"?null:Ao.getFromId(l,_.anchor)}for(a=0;a<y.length;a++)if(_=y[a],_._counterAxes.sort(Ao.idSort),_._subplotsWith.sort(st.subplotSort),_._mainSubplot=mce(_,r),_._counterAxes.length&&(_.spikemode&&_.spikemode.indexOf("across")!==-1||_.automargin&&_.mirror&&_.anchor!=="free"||kn.getComponentMethod("rangeslider","isVisible")(_))){var b=1,E=0;for(o=0;o<_._counterAxes.length;o++){var d=Ao.getFromId(l,_._counterAxes[o]);b=Math.min(b,d.domain[0]),E=Math.max(E,d.domain[1])}b<E&&(_._counterDomainMin=b,_._counterDomainMax=E)}};function mce(e,r){var t={_fullLayout:r},n=e._id.charAt(0)==="x",a=e._mainAxis._anchorAxis,o="",i="",s="";if(a&&(s=a._mainAxis._id,o=n?e._id+s:s+e._id),!o||!r._plots[o]){o="";for(var f=e._counterAxes,l=0;l<f.length;l++){var u=f[l],c=n?e._id+u:u+e._id;i||(i=c);var v=Ao.getFromId(t,u);if(s&&v.overlaying===s){o=c;break}}}return o||i}Xr.clearExpandedTraceDefaultColors=function(e){var r,t,n;function a(i,s,f,l){t[l]=s,t.length=l+1,i.valType==="color"&&i.dflt===void 0&&r.push(t.join("."))}for(t=[],r=e._module._colorAttrs,r||(e._module._colorAttrs=r=[],nR.crawl(e._module.attributes,a)),n=0;n<r.length;n++){var o=st.nestedProperty(e,"_input."+r[n]);o.get()||st.nestedProperty(e,r[n]).set(null)}};Xr.supplyDataDefaults=function(e,r,t,n){var a=n._modules,o=n._visibleModules,i=n._basePlotModules,s=0,f=0,l,u,c;n._transformModules=[];function v(T){r.push(T);var g=T._module;g&&(st.pushUnique(a,g),T.visible===!0&&st.pushUnique(o,g),st.pushUnique(i,T._module.basePlotModule),s++,T._input.visible!==!1&&f++)}var m={},x=[],A=(t.template||{}).data||{},w=oce.traceTemplater(A);for(l=0;l<e.length;l++){if(c=e[l],u=w.newTrace(c),u.uid=n._traceUids[l],Xr.supplyTraceDefaults(c,u,f,n,l),u.index=l,u._input=c,u._expandedIndex=s,u.transforms&&u.transforms.length)for(var y=c.visible!==!1&&u.visible===!1,_=xce(u,r,t,n),M=0;M<_.length;M++){var b=_[M],E={_template:u._template,type:u.type,uid:u.uid+M};y&&b.visible===!1&&delete b.visible,Xr.supplyTraceDefaults(b,E,s,n,l),i4(E,b),E.index=l,E._input=c,E._fullInput=u,E._expandedIndex=s,E._expandedInput=b,v(E)}else u._fullInput=u,u._expandedInput=u,v(u);kn.traceIs(u,"carpetAxis")&&(m[u.carpet]=u),kn.traceIs(u,"carpetDependent")&&x.push(l)}for(l=0;l<x.length;l++)if(u=r[x[l]],!!u.visible){var d=m[u.carpet];if(u._carpet=d,!d||!d.visible){u.visible=!1;continue}u.xaxis=d.xaxis,u.yaxis=d.yaxis}};Xr.supplyAnimationDefaults=function(e){e=e||{};var r,t={};function n(a,o){return st.coerce(e||{},t,o4,a,o)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(e.frame))for(t.frame=[],r=0;r<e.frame.length;r++)t.frame[r]=Xr.supplyAnimationFrameDefaults(e.frame[r]||{});else t.frame=Xr.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(t.transition=[],r=0;r<e.transition.length;r++)t.transition[r]=Xr.supplyAnimationTransitionDefaults(e.transition[r]||{});else t.transition=Xr.supplyAnimationTransitionDefaults(e.transition||{});return t};Xr.supplyAnimationFrameDefaults=function(e){var r={};function t(n,a){return st.coerce(e||{},r,o4.frame,n,a)}return t("duration"),t("redraw"),r};Xr.supplyAnimationTransitionDefaults=function(e){var r={};function t(n,a){return st.coerce(e||{},r,o4.transition,n,a)}return t("duration"),t("easing"),r};Xr.supplyFrameDefaults=function(e){var r={};function t(n,a){return st.coerce(e,r,fce,n,a)}return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),r};Xr.supplyTraceDefaults=function(e,r,t,n,a){var o=n.colorway||aR.defaults,i=o[t%o.length],s;function f(M,b){return st.coerce(e,r,Xr.attributes,M,b)}var l=f("visible");f("type"),f("name",n._traceWord+" "+a),f("uirevision",n.uirevision);var u=Xr.getModule(r);if(r._module=u,u){var c=u.basePlotModule,v=c.attr,m=c.attributes;if(v&&m){var x=n._subplots,A="";if(l||c.name!=="gl2d"){if(Array.isArray(v))for(s=0;s<v.length;s++){var w=v[s],y=st.coerce(e,r,m,w);x[w]&&st.pushUnique(x[w],y),A+=y}else A=st.coerce(e,r,m,v);x[c.name]&&st.pushUnique(x[c.name],A)}}}if(l){if(f("customdata"),f("ids"),f("meta"),kn.traceIs(r,"showLegend")?(st.coerce(e,r,u.attributes.showlegend?u.attributes:Xr.attributes,"showlegend"),f("legend"),f("legendwidth"),f("legendgroup"),f("legendgrouptitle.text"),f("legendrank"),r._dfltShowLegend=!0):r._dfltShowLegend=!1,u&&u.supplyDefaults(e,r,i,n),kn.traceIs(r,"noOpacity")||f("opacity"),kn.traceIs(r,"notLegendIsolatable")&&(r.visible=!!r.visible),kn.traceIs(r,"noHover")||(r.hovertemplate||st.coerceHoverinfo(e,r,n),r.type!=="parcats"&&kn.getComponentMethod("fx","supplyDefaults")(e,r,i,n)),u&&u.selectPoints){var _=f("selectedpoints");st.isTypedArray(_)&&(r.selectedpoints=Array.from(_))}Xr.supplyTransformDefaults(e,r,n)}return r};function iR(e){var r=e.transforms;if(Array.isArray(r)&&r.length)for(var t=0;t<r.length;t++){var n=r[t],a=n._module||gm[n.type];if(a&&a.makesData)return!0}return!1}Xr.hasMakesDataTransform=iR;Xr.supplyTransformDefaults=function(e,r,t){if(r._length||iR(e)){var n=t._globalTransforms||[],a=t._transformModules||[];if(!(!Array.isArray(e.transforms)&&n.length===0))for(var o=e.transforms||[],i=n.concat(o),s=r.transforms=[],f=0;f<i.length;f++){var l=i[f],u=l.type,c=gm[u],v,m=!(l._module&&l._module===c),x=c&&typeof c.transform=="function";c||st.warn("Unrecognized transform type "+u+"."),c&&c.supplyDefaults&&(m||x)?(v=c.supplyDefaults(l,r,t,e),v.type=u,v._module=c,st.pushUnique(a,c)):v=st.extendFlat({},l),s.push(v)}}};function xce(e,r,t,n){for(var a=e.transforms,o=[e],i=0;i<a.length;i++){var s=a[i],f=gm[s.type];f&&f.transform&&(o=f.transform(o,{transform:s,fullTrace:e,fullData:r,layout:t,fullLayout:n,transformIndex:i}))}return o}Xr.supplyLayoutGlobalDefaults=function(e,r,t){function n(c,v){return st.coerce(e,r,Xr.layoutAttributes,c,v)}var a=e.template;st.isPlainObject(a)&&(r.template=a,r._template=a.layout,r._dataTemplate=a.data),n("autotypenumbers");var o=st.coerceFont(n,"font"),i=o.size;st.coerceFont(n,"title.font",o,{overrideDflt:{size:Math.round(i*1.4)}}),n("title.text",r._dfltTitle.plot),n("title.xref");var s=n("title.yref");n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var f=n("title.automargin");n("title.x"),n("title.xanchor"),n("title.y"),n("title.yanchor"),n("title.subtitle.text",r._dfltTitle.subtitle),st.coerceFont(n,"title.subtitle.font",o,{overrideDflt:{size:Math.round(r.title.font.size*.7)}}),f&&(s==="paper"&&(r.title.y!==0&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y===0?"top":"bottom")),s==="container"&&(r.title.y==="auto"&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y<.5?"bottom":"top")));var l=n("uniformtext.mode");l&&n("uniformtext.minsize"),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("minreducedwidth"),n("minreducedheight"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&Xr.sanitizeMargins(r),kn.getComponentMethod("grid","sizeDefaults")(e,r),n("paper_bgcolor"),n("separators",t.decimal+t.thousands),n("hidesources"),n("colorway"),n("datarevision");var u=n("uirevision");n("editrevision",u),n("selectionrevision",u),kn.getComponentMethod("modebar","supplyLayoutDefaults")(e,r),kn.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,r,n),kn.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(e,r,n),n("meta"),st.isPlainObject(e.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),kn.getComponentMethod("calendars","handleDefaults")(e,r,"calendar"),kn.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,r,n),st.coerce(e,r,lce,"scattermode")};function pm(e){return typeof e=="string"&&e.substr(e.length-2)==="px"&&parseFloat(e)}Xr.plotAutoSize=function(r,t,n){var a=r._context||{},o=a.frameMargins,i,s,f=st.isPlotDiv(r);if(f&&r.emit("plotly_autosize"),a.fillFrame)i=window.innerWidth,s=window.innerHeight,document.body.style.overflow="hidden";else{var l=f?window.getComputedStyle(r):{};if(i=pm(l.width)||pm(l.maxWidth)||n.width,s=pm(l.height)||pm(l.maxHeight)||n.height,$1(o)&&o>0){var u=1-2*o;i=Math.round(u*i),s=Math.round(u*s)}}var c=Xr.layoutAttributes.width.min,v=Xr.layoutAttributes.height.min;i<c&&(i=c),s<v&&(s=v);var m=!t.width&&Math.abs(n.width-i)>1,x=!t.height&&Math.abs(n.height-s)>1;(x||m)&&(m&&(n.width=i),x&&(n.height=s)),r._initialAutoSize||(r._initialAutoSize={width:i,height:s}),Xr.sanitizeMargins(n)};Xr.supplyLayoutModuleDefaults=function(e,r,t,n){var a=kn.componentsRegistry,o=r._basePlotModules,i,s,f,l=kn.subplotsRegistry.cartesian;for(i in a)f=a[i],f.includeBasePlot&&f.includeBasePlot(e,r);o.length||o.push(l),r._has("cartesian")&&(kn.getComponentMethod("grid","contentDefaults")(e,r),l.finalizeSubplots(e,r));for(var u in r._subplots)r._subplots[u].sort(st.subplotSort);for(s=0;s<o.length;s++)f=o[s],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(e,r,t);var c=r._modules;for(s=0;s<c.length;s++)f=c[s],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(e,r,t);var v=r._transformModules;for(s=0;s<v.length;s++)f=v[s],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(e,r,t,n);for(i in a)f=a[i],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(e,r,t)};Xr.purge=function(e){var r=e._fullLayout||{};r._glcontainer!==void 0&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.remove(),r._glcanvas=null),r._modeBar&&r._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),st.clearThrottle(),st.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()};Xr.style=function(e){var r=e._fullLayout._visibleModules,t=[],n;for(n=0;n<r.length;n++){var a=r[n];a.style&&st.pushUnique(t,a.style)}for(n=0;n<t.length;n++)t[n](e)};Xr.sanitizeMargins=function(e){if(!(!e||!e.margin)){var r=e.width,t=e.height,n=e.margin,a=r-(n.l+n.r),o=t-(n.t+n.b),i;a<0&&(i=(r-1)/(n.l+n.r),n.l=Math.floor(i*n.l),n.r=Math.floor(i*n.r)),o<0&&(i=(t-1)/(n.t+n.b),n.t=Math.floor(i*n.t),n.b=Math.floor(i*n.b))}};Xr.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};Xr.allowAutoMargin=function(e,r){e._fullLayout._pushmarginIds[r]=1};function oR(e){var r=e.margin;if(!e._size){var t=e._size={l:Math.round(r.l),r:Math.round(r.r),t:Math.round(r.t),b:Math.round(r.b),p:Math.round(r.pad)};t.w=Math.round(e.width)-t.l-t.r,t.h=Math.round(e.height)-t.t-t.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={}),e._reservedMargin||(e._reservedMargin={})}var sR=2,lR=2;Xr.autoMargin=function(e,r,t){var n=e._fullLayout,a=n.width,o=n.height,i=n.margin,s=n.minreducedwidth,f=n.minreducedheight,l=st.constrain(a-i.l-i.r,sR,s),u=st.constrain(o-i.t-i.b,lR,f),c=Math.max(0,a-l),v=Math.max(0,o-u),m=n._pushmargin,x=n._pushmarginIds;if(i.autoexpand!==!1){if(!t)delete m[r],delete x[r];else{var A=t.pad;if(A===void 0&&(A=Math.min(12,i.l,i.r,i.t,i.b)),c){var w=(t.l+t.r)/c;w>1&&(t.l/=w,t.r/=w)}if(v){var y=(t.t+t.b)/v;y>1&&(t.t/=y,t.b/=y)}var _=t.xl!==void 0?t.xl:t.x,M=t.xr!==void 0?t.xr:t.x,b=t.yt!==void 0?t.yt:t.y,E=t.yb!==void 0?t.yb:t.y;m[r]={l:{val:_,size:t.l+A},r:{val:M,size:t.r+A},b:{val:E,size:t.b+A},t:{val:b,size:t.t+A}},x[r]=1}if(!n._replotting)return Xr.doAutoMargin(e)}};function bce(e){if("_redrawFromAutoMarginCount"in e._fullLayout)return!1;var r=Ao.list(e,"",!0);for(var t in r)if(r[t].autoshift||r[t].shift)return!0;return!1}Xr.doAutoMargin=function(e){var r=e._fullLayout,t=r.width,n=r.height;r._size||(r._size={}),oR(r);var a=r._size,o=r.margin,i={t:0,b:0,l:0,r:0},s=st.extendFlat({},a),f=o.l,l=o.r,u=o.t,c=o.b,v=r._pushmargin,m=r._pushmarginIds,x=r.minreducedwidth,A=r.minreducedheight;if(o.autoexpand!==!1){for(var w in v)m[w]||delete v[w];var y=e._fullLayout._reservedMargin;for(var _ in y)for(var M in y[_]){var b=y[_][M];i[M]=Math.max(i[M],b)}v.base={l:{val:0,size:f},r:{val:1,size:l},t:{val:1,size:u},b:{val:0,size:c}};for(var E in i){var d=0;for(var T in v)T!=="base"&&$1(v[T][E].size)&&(d=v[T][E].size>d?v[T][E].size:d);var g=Math.max(0,o[E]-d);i[E]=Math.max(0,i[E]-g)}for(var h in v){var S=v[h].l||{},p=v[h].b||{},C=S.val,k=S.size,D=p.val,P=p.size,O=t-i.r-i.l,F=n-i.t-i.b;for(var L in v){if($1(k)&&v[L].r){var I=v[L].r.val,q=v[L].r.size;if(I>C){var z=(k*I+(q-O)*C)/(I-C),W=(q*(1-C)+(k-O)*(1-I))/(I-C);z+W>f+l&&(f=z,l=W)}}if($1(P)&&v[L].t){var $=v[L].t.val,j=v[L].t.size;if($>D){var G=(P*$+(j-F)*D)/($-D),B=(j*(1-D)+(P-F)*(1-$))/($-D);G+B>c+u&&(c=G,u=B)}}}}}var X=st.constrain(t-o.l-o.r,sR,x),te=st.constrain(n-o.t-o.b,lR,A),J=Math.max(0,t-X),ae=Math.max(0,n-te);if(J){var ee=(f+l)/J;ee>1&&(f/=ee,l/=ee)}if(ae){var H=(c+u)/ae;H>1&&(c/=H,u/=H)}if(a.l=Math.round(f)+i.l,a.r=Math.round(l)+i.r,a.t=Math.round(u)+i.t,a.b=Math.round(c)+i.b,a.p=Math.round(o.pad),a.w=Math.round(t)-a.l-a.r,a.h=Math.round(n)-a.t-a.b,!r._replotting&&(Xr.didMarginChange(s,a)||bce(e))){"_redrawFromAutoMarginCount"in r?r._redrawFromAutoMarginCount++:r._redrawFromAutoMarginCount=1;var re=3*(1+Object.keys(m).length);if(r._redrawFromAutoMarginCount<re)return kn.call("_doPlot",e);r._size=s,st.warn("Too many auto-margin redraws.")}_ce(e)};function _ce(e){var r=Ao.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(t){for(var n=0;n<r.length;n++){var a=r[n][t];a&&a()}})}var QL=["l","r","t","b","p","w","h"];Xr.didMarginChange=function(e,r){for(var t=0;t<QL.length;t++){var n=QL[t],a=e[n],o=r[n];if(!$1(a)||Math.abs(o-a)>1)return!0}return!1};Xr.graphJson=function(e,r,t,n,a,o){(a&&r&&!e._fullData||a&&!r&&!e._fullLayout)&&Xr.supplyDefaults(e);var i=a?e._fullData:e.data,s=a?e._fullLayout:e.layout,f=(e._transitionData||{})._frames;function l(v,m){if(typeof v=="function")return m?"_function_":null;if(st.isPlainObject(v)){var x={},A;return Object.keys(v).sort().forEach(function(M){if(["_","["].indexOf(M.charAt(0))===-1){if(typeof v[M]=="function"){m&&(x[M]="_function");return}if(t==="keepdata"){if(M.substr(M.length-3)==="src")return}else if(t==="keepstream"){if(A=v[M+"src"],typeof A=="string"&&A.indexOf(":")>0&&!st.isPlainObject(v.stream))return}else if(t!=="keepall"&&(A=v[M+"src"],typeof A=="string"&&A.indexOf(":")>0))return;x[M]=l(v[M],m)}}),x}var w=Array.isArray(v),y=st.isTypedArray(v);if((w||y)&&v.dtype&&v.shape){var _=v.bdata;return l({dtype:v.dtype,shape:v.shape,bdata:st.isArrayBuffer(_)?ice.encode(_):_},m)}return w?v.map(function(M){return l(M,m)}):y?st.simpleMap(v,st.identity):st.isJSDate(v)?st.ms2DateTimeLocal(+v):v}var u={data:(i||[]).map(function(v){var m=l(v);return r&&delete m.fit,m})};if(!r&&(u.layout=l(s),a)){var c=s._size;u.layout.computed={margin:{b:c.b,l:c.l,r:c.r,t:c.t}}}return f&&(u.frames=l(f)),o&&(u.config=l(e._context,!0)),n==="object"?u:JSON.stringify(u)};Xr.modifyFrames=function(e,r){var t,n,a,o=e._transitionData._frames,i=e._transitionData._frameHash;for(t=0;t<r.length;t++)switch(n=r[t],n.type){case"replace":a=n.value;var s=(o[n.index]||{}).name,f=a.name;o[n.index]=i[f]=a,f!==s&&(delete i[s],i[f]=a);break;case"insert":a=n.value,i[a.name]=a,o.splice(n.index,0,a);break;case"delete":a=o[n.index],delete i[a.name],o.splice(n.index,1);break}return Promise.resolve()};Xr.computeFrame=function(e,r){var t=e._transitionData._frameHash,n,a,o,i;if(!r)throw new Error("computeFrame must be given a string frame name");var s=t[r.toString()];if(!s)return!1;for(var f=[s],l=[s.name];s.baseframe&&(s=t[s.baseframe.toString()])&&l.indexOf(s.name)===-1;)f.push(s),l.push(s.name);for(var u={};s=f.pop();)if(s.layout&&(u.layout=Xr.extendLayout(u.layout,s.layout)),s.data){if(u.data||(u.data=[]),a=s.traces,!a)for(a=[],n=0;n<s.data.length;n++)a[n]=n;for(u.traces||(u.traces=[]),n=0;n<s.data.length;n++)o=a[n],o!=null&&(i=u.traces.indexOf(o),i===-1&&(i=u.data.length,u.traces[i]=o),u.data[i]=Xr.extendTrace(u.data[i],s.data[n]))}return u};Xr.recomputeFrameHash=function(e){for(var r=e._transitionData._frameHash={},t=e._transitionData._frames,n=0;n<t.length;n++){var a=t[n];a&&a.name&&(r[a.name]=a)}};Xr.extendObjectWithContainers=function(e,r,t){var n,a,o,i,s,f,l,u,c=st.extendDeepNoArrays({},r||{}),v=st.expandObjectPaths(c),m={};if(t&&t.length)for(o=0;o<t.length;o++)n=st.nestedProperty(v,t[o]),a=n.get(),a===void 0?st.nestedProperty(m,t[o]).set(null):(n.set(null),st.nestedProperty(m,t[o]).set(a));if(e=st.extendDeepNoArrays(e||{},v),t&&t.length){for(o=0;o<t.length;o++)if(s=st.nestedProperty(m,t[o]),l=s.get(),!!l){for(f=st.nestedProperty(e,t[o]),u=f.get(),Array.isArray(u)||(u=[],f.set(u)),i=0;i<l.length;i++){var x=l[i];x===null?u[i]=null:u[i]=Xr.extendObjectWithContainers(u[i],x)}f.set(u)}}return e};Xr.dataArrayContainers=["transforms","dimensions"];Xr.layoutArrayContainers=kn.layoutArrayContainers;Xr.extendTrace=function(e,r){return Xr.extendObjectWithContainers(e,r,Xr.dataArrayContainers)};Xr.extendLayout=function(e,r){return Xr.extendObjectWithContainers(e,r,Xr.layoutArrayContainers)};Xr.transition=function(e,r,t,n,a,o){var i={redraw:a.redraw},s={},f=[];return i.prepareFn=function(){for(var l=Array.isArray(r)?r.length:0,u=n.slice(0,l),c=0;c<u.length;c++){var v=u[c],m=e._fullData[v],x=m._module;if(x){if(x.animatable){var A=x.basePlotModule.name;s[A]||(s[A]=[]),s[A].push(v)}e.data[u[c]]=Xr.extendTrace(e.data[u[c]],r[c])}}var w=st.expandObjectPaths(st.extendDeepNoArrays({},t)),y=/^[xy]axis[0-9]*$/;for(var _ in w)y.test(_)&&delete w[_].range;Xr.extendLayout(e.layout,w),delete e.calcdata,Xr.supplyDefaults(e),Xr.doCalcdata(e);var M=st.expandObjectPaths(t);if(M){var b=e._fullLayout._plots;for(var E in b){var d=b[E],T=d.xaxis,g=d.yaxis,h=T.range.slice(),S=g.range.slice(),p=null,C=null,k=null,D=null;Array.isArray(M[T._name+".range"])?p=M[T._name+".range"].slice():Array.isArray((M[T._name]||{}).range)&&(p=M[T._name].range.slice()),Array.isArray(M[g._name+".range"])?C=M[g._name+".range"].slice():Array.isArray((M[g._name]||{}).range)&&(C=M[g._name].range.slice()),h&&p&&(T.r2l(h[0])!==T.r2l(p[0])||T.r2l(h[1])!==T.r2l(p[1]))&&(k={xr0:h,xr1:p}),S&&C&&(g.r2l(S[0])!==g.r2l(C[0])||g.r2l(S[1])!==g.r2l(C[1]))&&(D={yr0:S,yr1:C}),(k||D)&&f.push(st.extendFlat({plotinfo:d},k,D))}}return Promise.resolve()},i.runFn=function(l){var u,c=e._fullLayout._basePlotModules,v=f.length,m;if(t)for(m=0;m<c.length;m++)c[m].transitionAxes&&c[m].transitionAxes(e,f,o,l);v?(u=st.extendFlat({},o),u.duration=0,delete s.cartesian):u=o;for(var x in s){var A=s[x],w=e._fullData[A[0]]._module;w.basePlotModule.plot(e,A,u,l)}},fR(e,o,i)};Xr.transitionFromReact=function(e,r,t,n){var a=e._fullLayout,o=a.transition,i={},s=[];return i.prepareFn=function(){var f=a._plots;i.redraw=!1,r.anim==="some"&&(i.redraw=!0),t.anim==="some"&&(i.redraw=!0);for(var l in f){var u=f[l],c=u.xaxis,v=u.yaxis,m=n[c._name].range.slice(),x=n[v._name].range.slice(),A=c.range.slice(),w=v.range.slice();c.setScale(),v.setScale();var y=null,_=null;(c.r2l(m[0])!==c.r2l(A[0])||c.r2l(m[1])!==c.r2l(A[1]))&&(y={xr0:m,xr1:A}),(v.r2l(x[0])!==v.r2l(w[0])||v.r2l(x[1])!==v.r2l(w[1]))&&(_={yr0:x,yr1:w}),(y||_)&&s.push(st.extendFlat({plotinfo:u},y,_))}return Promise.resolve()},i.runFn=function(f){for(var l=e._fullData,u=e._fullLayout,c=u._basePlotModules,v,m,x,A=[],w=0;w<l.length;w++)A.push(w);function y(){if(e._fullLayout)for(var M=0;M<c.length;M++)c[M].transitionAxes&&c[M].transitionAxes(e,s,v,f)}function _(){if(e._fullLayout)for(var M=0;M<c.length;M++)c[M].plot(e,x,m,f)}s.length&&r.anim?o.ordering==="traces first"?(v=st.extendFlat({},o,{duration:0}),x=A,m=o,setTimeout(y,o.duration),_()):(v=o,x=null,m=st.extendFlat({},o,{duration:0}),setTimeout(_,v.duration),y()):s.length?(v=o,y()):r.anim&&(x=A,m=o,_())},fR(e,o,i)};function fR(e,r,t){var n=!1;function a(c){var v=Promise.resolve();if(!c)return v;for(;c.length;)v=v.then(c.shift());return v}function o(c){if(c)for(;c.length;)c.shift()}function i(){return e.emit("plotly_transitioning",[]),new Promise(function(c){e._transitioning=!0,r.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){n=!0}),t.redraw&&e._transitionData._interruptCallbacks.push(function(){return kn.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var v=0,m=0;function x(){return v++,function(){m++,!n&&m===v&&s(c)}}t.runFn(x),setTimeout(x())})}function s(c){if(e._transitionData)return o(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(t.redraw)return kn.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(c)}function f(){if(e._transitionData)return e._transitioning=!1,a(e._transitionData._interruptCallbacks)}var l=[Xr.previousPromises,f,t.prepareFn,Xr.rehover,Xr.reselect,i],u=st.syncOrAsync(l,e);return(!u||!u.then)&&(u=Promise.resolve()),u.then(function(){return e})}Xr.doCalcdata=function(e,r){var t=Ao.list(e),n=e._fullData,a=e._fullLayout,o,i,s,f,l=new Array(n.length),u=(e.calcdata||[]).slice();for(e.calcdata=l,a._numBoxes=0,a._numViolins=0,a._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,a._piecolormap={},a._sunburstcolormap={},a._treemapcolormap={},a._iciclecolormap={},a._funnelareacolormap={},s=0;s<n.length;s++)if(Array.isArray(r)&&r.indexOf(s)===-1){l[s]=u[s];continue}for(s=0;s<n.length;s++)o=n[s],o._arrayAttrs=nR.findArrayAttributes(o),o._extremes={};var c=a._subplots.polar||[];for(s=0;s<c.length;s++)t.push(a[c[s]].radialaxis,a[c[s]].angularaxis);for(var v in a._colorAxes){var m=a[v];m.cauto!==!1&&(delete m.cmin,delete m.cmax)}var x=!1;function A(_){if(o=n[_],i=o._module,o.visible===!0&&o.transforms){if(i&&i.calc){var M=i.calc(e,o);M[0]&&M[0].t&&M[0].t._scene&&delete M[0].t._scene.dirty}for(f=0;f<o.transforms.length;f++){var b=o.transforms[f];i=gm[b.type],i&&i.calcTransform&&(o._hasCalcTransform=!0,x=!0,i.calcTransform(e,o,b))}}}function w(_,M){if(o=n[_],i=o._module,!!i.isContainer===M){var b=[];if(o.visible===!0&&o._length!==0){delete o._indexToPoints;var E=o.transforms||[];for(f=E.length-1;f>=0;f--)if(E[f].enabled){o._indexToPoints=E[f]._indexToPoints;break}i&&i.calc&&(b=i.calc(e,o))}(!Array.isArray(b)||!b[0])&&(b=[{x:$L,y:$L}]),b[0].t||(b[0].t={}),b[0].trace=o,l[_]=b}}for(eR(t,n,a),s=0;s<n.length;s++)w(s,!0);for(s=0;s<n.length;s++)A(s);for(x&&eR(t,n,a),s=0;s<n.length;s++)w(s,!0);for(s=0;s<n.length;s++)w(s,!1);rR(e);var y=Ace(t,e);if(y.length){for(a._numBoxes=0,a._numViolins=0,s=0;s<y.length;s++)w(y[s],!0);for(s=0;s<y.length;s++)w(y[s],!1);rR(e)}kn.getComponentMethod("fx","calc")(e),kn.getComponentMethod("errorbars","calc")(e)};var wce=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function Ace(e,r){var t=[],n,a,o,i,s;function f(L,I,q){var z=I._id.charAt(0);if(L==="histogram2dcontour"){var W=I._counterAxes[0],$=Ao.getFromId(r,W),j=z==="x"||W==="x"&&$.type==="category",G=z==="y"||W==="y"&&$.type==="category";return function(B,X){return B===0||X===0||j&&B===q[X].length-1||G&&X===q.length-1?-1:(z==="y"?X:B)-1}}else return function(B,X){return z==="y"?X:B}}var l={min:function(L){return st.aggNums(Math.min,null,L)},max:function(L){return st.aggNums(Math.max,null,L)},sum:function(L){return st.aggNums(function(I,q){return I+q},null,L)},total:function(L){return st.aggNums(function(I,q){return I+q},null,L)},mean:function(L){return st.mean(L)},"geometric mean":function(L){return st.geometricMean(L)},median:function(L){return st.median(L)}};function u(L,I){return L[1]-I[1]}function c(L,I){return I[1]-L[1]}for(n=0;n<e.length;n++){var v=e[n];if(v.type==="category"){var m=v.categoryorder.match(wce);if(m){var x=m[1],A=m[2],w=v._id.charAt(0),y=w==="x",_=[];for(a=0;a<v._categories.length;a++)_.push([v._categories[a],[]]);for(a=0;a<v._traceIndices.length;a++){var M=v._traceIndices[a],b=r._fullData[M];if(b.visible===!0){var E=b.type;kn.traceIs(b,"histogram")&&(delete b._xautoBinFinished,delete b._yautoBinFinished);var d=E==="splom",T=E==="scattergl",g=r.calcdata[M];for(o=0;o<g.length;o++){var h=g[o],S,p;if(d){var C=b._axesDim[v._id];if(!y){var k=b._diag[C][0];k&&(v=r._fullLayout[Ao.id2name(k)])}var D=h.trace.dimensions[C].values;for(i=0;i<D.length;i++)for(S=v._categoriesMap[D[i]],s=0;s<h.trace.dimensions.length;s++)if(s!==C){var P=h.trace.dimensions[s];_[S][1].push(P.values[i])}}else if(T){for(i=0;i<h.t.x.length;i++)y?(S=h.t.x[i],p=h.t.y[i]):(S=h.t.y[i],p=h.t.x[i]),_[S][1].push(p);h.t&&h.t._scene&&delete h.t._scene.dirty}else if(h.hasOwnProperty("z")){p=h.z;var O=f(b.type,v,p);for(i=0;i<p.length;i++)for(s=0;s<p[i].length;s++)S=O(s,i),S+1&&_[S][1].push(p[i][s])}else for(S=h.p,S===void 0&&(S=h[w]),p=h.s,p===void 0&&(p=h.v),p===void 0&&(p=y?h.y:h.x),Array.isArray(p)||(p===void 0?p=[]:p=[p]),i=0;i<p.length;i++)_[S][1].push(p[i])}}}v._categoriesValue=_;var F=[];for(a=0;a<_.length;a++)F.push([_[a][0],l[x](_[a][1])]);F.sort(A==="descending"?c:u),v._categoriesAggregatedValue=F,v._initialCategories=F.map(function(L){return L[0]}),t=t.concat(v.sortByInitialCategories())}}}return t}function eR(e,r,t){var n={};function a(f){f.clearCalc(),f.type==="multicategory"&&f.setupMultiCategory(r),n[f._id]=1}st.simpleMap(e,a);for(var o=t._axisMatchGroups||[],i=0;i<o.length;i++)for(var s in o[i])n[s]||a(t[Ao.id2name(s)])}function rR(e){var r=e._fullLayout,t=r._visibleModules,n={},a,o,i;for(o=0;o<t.length;o++){var s=t[o],f=s.crossTraceCalc;if(f){var l=s.basePlotModule.name;n[l]?st.pushUnique(n[l],f):n[l]=[f]}}for(i in n){var u=n[i],c=r._subplots[i];if(Array.isArray(c))for(a=0;a<c.length;a++){var v=c[a],m=i==="cartesian"?r._plots[v]:r[v];for(o=0;o<u.length;o++)u[o](e,m,v)}else for(o=0;o<u.length;o++)u[o](e)}}Xr.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()};Xr.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()};Xr.reselect=function(e){var r=e._fullLayout,t=(e.layout||{}).selections,n=r._previousSelections;r._previousSelections=t;var a=r._reselect||JSON.stringify(t)!==JSON.stringify(n);kn.getComponentMethod("selections","reselect")(e,a)};Xr.generalUpdatePerTraceModule=function(e,r,t,n){var a=r.traceHash,o={},i;for(i=0;i<t.length;i++){var s=t[i],f=s[0].trace;f.visible&&(o[f.type]=o[f.type]||[],o[f.type].push(s))}for(var l in a)if(!o[l]){var u=a[l][0],c=u[0].trace;c.visible=!1,o[l]=[u]}for(var v in o){var m=o[v],x=m[0][0].trace._module;x.plot(e,r,st.filterVisible(m),n)}r.traceHash=o};Xr.plotBasePlot=function(e,r,t,n,a){var o=kn.getModule(e),i=uce(r.calcdata,o)[0];o.plot(r,i,n,a)};Xr.cleanBasePlot=function(e,r,t,n,a){var o=a._has&&a._has(e),i=t._has&&t._has(e);o&&!i&&a["_"+e+"layer"].selectAll("g.trace").remove()}});var ff=ie(Zc=>{"use strict";Zc.xmlns="http://www.w3.org/2000/xmlns/";Zc.svg="http://www.w3.org/2000/svg";Zc.xlink="http://www.w3.org/1999/xlink";Zc.svgAttrs={xmlns:Zc.svg,"xmlns:xlink":Zc.xlink}});var Oi=ie((bFe,cR)=>{"use strict";cR.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var Ni=ie(as=>{"use strict";var Oa=gn(),uf=wr(),Tce=uf.strTranslate,s4=ff(),Mce=Oi().LINE_SPACING,Ece=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;as.convertToTspans=function(e,r,t){var n=e.text(),a=!e.attr("data-notex")&&r&&r._context.typesetMath&&typeof MathJax!="undefined"&&n.match(Ece),o=Oa.select(e.node().parentNode);if(o.empty())return;var i=e.attr("class")?e.attr("class").split(" ")[0]:"text";i+="-math",o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove(),e.style("display",null).attr({"data-unformatted":n,"data-math":"N"});function s(){o.empty()||(i=e.attr("class")+"-math",o.select("svg."+i).remove()),e.text("").style("white-space","pre");var f=qce(e.node(),n);f&&e.style("pointer-events","all"),as.positionText(e),t&&t.call(e)}return a?(r&&r._promises||[]).push(new Promise(function(f){e.style("display","none");var l=parseInt(e.node().style.fontSize,10),u={fontSize:l};Lce(a[2],u,function(c,v,m){o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove();var x=c&&c.select("svg");if(!x||!x.node()){s(),f();return}var A=o.append("g").classed(i+"-group",!0).attr({"pointer-events":"none","data-unformatted":n,"data-math":"Y"});A.node().appendChild(x.node()),v&&v.node()&&x.node().insertBefore(v.node().cloneNode(!0),x.node().firstChild);var w=m.width,y=m.height;x.attr({class:i,height:y,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var _=e.node().style.fill||"black",M=x.select("g");M.attr({fill:_,stroke:_});var b=M.node().getBoundingClientRect(),E=b.width,d=b.height;(E>w||d>y)&&(x.style("overflow","hidden"),b=x.node().getBoundingClientRect(),E=b.width,d=b.height);var T=+e.attr("x"),g=+e.attr("y"),h=l||e.node().getBoundingClientRect().height,S=-h/4;if(i[0]==="y")A.attr({transform:"rotate("+[-90,T,g]+")"+Tce(-E/2,S-d/2)});else if(i[0]==="l")g=S-d/2;else if(i[0]==="a"&&i.indexOf("atitle")!==0)T=0,g=S;else{var p=e.attr("text-anchor");T=T-E*(p==="middle"?.5:p==="end"?1:0),g=g+S-d/2}x.attr({x:T,y:g}),t&&t.call(e,A),f(A)})})):s(),e};var Sce=/(<|&lt;|&#60;)/g,Cce=/(>|&gt;|&#62;)/g;function kce(e){return e.replace(Sce,"\\lt ").replace(Cce,"\\gt ")}var hR=[["$","$"],["\\(","\\)"]];function Lce(e,r,t){var n=parseInt((MathJax.version||"").split(".")[0]);if(n!==2&&n!==3){uf.warn("No MathJax version:",MathJax.version);return}var a,o,i,s,f=function(){return o=uf.extendDeepAll({},MathJax.Hub.config),i=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:hR},displayAlign:"left"})},l=function(){o=uf.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=hR},u=function(){if(a=MathJax.Hub.config.menuSettings.renderer,a!=="SVG")return MathJax.Hub.setRenderer("SVG")},c=function(){a=MathJax.config.startup.output,a!=="svg"&&(MathJax.config.startup.output="svg")},v=function(){var _="math-output-"+uf.randstr({},64);s=Oa.select("body").append("div").attr({id:_}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(kce(e));var M=s.node();return n===2?MathJax.Hub.Typeset(M):MathJax.typeset([M])},m=function(){var _=s.select(n===2?".MathJax_SVG":".MathJax"),M=!_.empty()&&s.select("svg").node();if(!M)uf.log("There was an error in the tex syntax.",e),t();else{var b=M.getBoundingClientRect(),E;n===2?E=Oa.select("body").select("#MathJax_SVG_glyphs"):E=_.select("defs"),t(_,E,b)}s.remove()},x=function(){if(a!=="SVG")return MathJax.Hub.setRenderer(a)},A=function(){a!=="svg"&&(MathJax.config.startup.output=a)},w=function(){return i!==void 0&&(MathJax.Hub.processSectionDelay=i),MathJax.Hub.Config(o)},y=function(){MathJax.config=o};n===2?MathJax.Hub.Queue(f,u,v,m,x,w):n===3&&(l(),c(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){v(),m(),A(),y()}))}var gR={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},Rce={sub:"0.3em",sup:"-0.6em"},Dce={sub:"-0.21em",sup:"0.42em"},vR="\u200B",dR=["http:","https:","mailto:","",void 0,":"],yR=as.NEWLINES=/(\r\n?|\n)/g,f4=/(<[^<>]*>)/,u4=/<(\/?)([^ >]*)(\s+(.*))?>/i,Fce=/<br(\s+.*)?>/i;as.BR_TAG_ALL=/<br(\s+.*)?>/gi;var mR=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,xR=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,bR=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,Ice=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function jc(e,r){if(!e)return null;var t=e.match(r),n=t&&(t[3]||t[4]);return n&&mm(n)}var Pce=/(^|;)\s*color:/;as.plainText=function(e,r){r=r||{};for(var t=r.len!==void 0&&r.len!==-1?r.len:1/0,n=r.allowedTags!==void 0?r.allowedTags:["br"],a="...",o=a.length,i=e.split(f4),s=[],f="",l=0,u=0;u<i.length;u++){var c=i[u],v=c.match(u4),m=v&&v[2].toLowerCase();if(m)n.indexOf(m)!==-1&&(s.push(c),f=m);else{var x=c.length;if(l+x<t)s.push(c),l+=x;else if(l<t){var A=t-l;f&&(f!=="br"||A<=o||x<=o)&&s.pop(),t>o?s.push(c.substr(0,A-o)+a):s.push(c.substr(0,A));break}f=""}}return s.join("")};var Oce={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},Nce=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function mm(e){return e.replace(Nce,function(r,t){var n;return t.charAt(0)==="#"?n=Bce(t.charAt(1)==="x"?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):n=Oce[t],n||r})}as.convertEntities=mm;function Bce(e){if(!(e>1114111)){var r=String.fromCodePoint;if(r)return r(e);var t=String.fromCharCode;return e<=65535?t(e):t((e>>10)+55232,e%1024+56320)}}function qce(e,r){r=r.replace(yR," ");var t=!1,n=[],a,o=-1;function i(){o++;var d=document.createElementNS(s4.svg,"tspan");Oa.select(d).attr({class:"line",dy:o*Mce+"em"}),e.appendChild(d),a=d;var T=n;if(n=[{node:d}],T.length>1)for(var g=1;g<T.length;g++)s(T[g])}function s(d){var T=d.type,g={},h;if(T==="a"){h="a";var S=d.target,p=d.href,C=d.popup;p&&(g={"xlink:xlink:show":S==="_blank"||S.charAt(0)!=="_"?"new":"replace",target:S,"xlink:xlink:href":p},C&&(g.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+C+'");return false;'))}else h="tspan";d.style&&(g.style=d.style);var k=document.createElementNS(s4.svg,h);if(T==="sup"||T==="sub"){f(a,vR),a.appendChild(k);var D=document.createElementNS(s4.svg,"tspan");f(D,vR),Oa.select(D).attr("dy",Dce[T]),g.dy=Rce[T],a.appendChild(k),a.appendChild(D)}else a.appendChild(k);Oa.select(k).attr(g),a=d.node=k,n.push(d)}function f(d,T){d.appendChild(document.createTextNode(T))}function l(d){if(n.length===1){uf.log("Ignoring unexpected end tag </"+d+">.",r);return}var T=n.pop();d!==T.type&&uf.log("Start tag <"+T.type+"> doesnt match end tag <"+d+">. Pretending it did match.",r),a=n[n.length-1].node}var u=Fce.test(r);u?i():(a=e,n=[{node:e}]);for(var c=r.split(f4),v=0;v<c.length;v++){var m=c[v],x=m.match(u4),A=x&&x[2].toLowerCase(),w=gR[A];if(A==="br")i();else if(w===void 0)f(a,mm(m));else if(x[1])l(A);else{var y=x[4],_={type:A},M=jc(y,mR);if(M?(M=M.replace(Pce,"$1 fill:"),w&&(M+=";"+w)):w&&(M=w),M&&(_.style=M),A==="a"){t=!0;var b=jc(y,xR);if(b){var E=_R(b);E&&(_.href=E,_.target=jc(y,bR)||"_blank",_.popup=jc(y,Ice))}}s(_)}}return t}function _R(e){var r=encodeURI(decodeURI(e)),t=document.createElement("a"),n=document.createElement("a");t.href=e,n.href=r;var a=t.protocol,o=n.protocol;return dR.indexOf(a)!==-1&&dR.indexOf(o)!==-1?r:""}as.sanitizeHTML=function(r){r=r.replace(yR," ");for(var t=document.createElement("p"),n=t,a=[],o=r.split(f4),i=0;i<o.length;i++){var s=o[i],f=s.match(u4),l=f&&f[2].toLowerCase();if(l in gR)if(f[1])a.length&&(n=a.pop());else{var u=f[4],c=jc(u,mR),v=c?{style:c}:{};if(l==="a"){var m=jc(u,xR);if(m){var x=_R(m);if(x){v.href=x;var A=jc(u,bR);A&&(v.target=A)}}}var w=document.createElement(l);n.appendChild(w),Oa.select(w).attr(v),n=w,a.push(w)}else n.appendChild(document.createTextNode(mm(s)))}var y="innerHTML";return t[y]};as.lineCount=function(r){return r.selectAll("tspan.line").size()||1};as.positionText=function(r,t,n){return r.each(function(){var a=Oa.select(this);function o(f,l){return l===void 0?(l=a.attr(f),l===null&&(a.attr(f,0),l=0)):a.attr(f,l),l}var i=o("x",t),s=o("y",n);this.nodeName==="text"&&a.selectAll("tspan.line").attr({x:i,y:s})})};function pR(e,r,t){var n=t.horizontalAlign,a=t.verticalAlign||"top",o=e.node().getBoundingClientRect(),i=r.node().getBoundingClientRect(),s,f,l;return a==="bottom"?f=function(){return o.bottom-s.height}:a==="middle"?f=function(){return o.top+(o.height-s.height)/2}:f=function(){return o.top},n==="right"?l=function(){return o.right-s.width}:n==="center"?l=function(){return o.left+(o.width-s.width)/2}:l=function(){return o.left},function(){s=this.node().getBoundingClientRect();var u=l()-i.left,c=f()-i.top,v=t.gd||{};if(t.gd){v._fullLayout._calcInverseTransform(v);var m=uf.apply3DTransform(v._fullLayout._invTransform)(u,c);u=m[0],c=m[1]}return this.style({top:c+"px",left:u+"px","z-index":1e3}),this}}var l4="1px ";as.makeTextShadow=function(e){var r=l4,t=l4,n=l4;return r+t+n+e+", -"+r+"-"+t+n+e+", "+r+"-"+t+n+e+", -"+r+t+n+e};as.makeEditable=function(e,r){var t=r.gd,n=r.delegate,a=Oa.dispatch("edit","input","cancel"),o=n||e;if(e.style({"pointer-events":n?"none":"all"}),e.size()!==1)throw new Error("boo");function i(){f(),e.style({opacity:0});var l=o.attr("class"),u;l?u="."+l.split(" ")[0]+"-math-group":u="[class*=-math-group]",u&&Oa.select(e.node().parentNode).select(u).style({opacity:0})}function s(l){var u=l.node(),c=document.createRange();c.selectNodeContents(u);var v=window.getSelection();v.removeAllRanges(),v.addRange(c),u.focus()}function f(){var l=Oa.select(t),u=l.select(".svg-container"),c=u.append("div"),v=e.node().style,m=parseFloat(v.fontSize||12),x=r.text;x===void 0&&(x=e.attr("data-unformatted")),c.classed("plugin-editable editable",!0).style({position:"absolute","font-family":v.fontFamily||"Arial","font-size":m,color:r.fill||v.fill||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-m/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(x).call(pR(e,u,r)).on("blur",function(){t._editing=!1,e.text(this.textContent).style({opacity:1});var A=Oa.select(this).attr("class"),w;A?w="."+A.split(" ")[0]+"-math-group":w="[class*=-math-group]",w&&Oa.select(e.node().parentNode).select(w).style({opacity:0});var y=this.textContent;Oa.select(this).transition().duration(0).remove(),Oa.select(document).on("mouseup",null),a.edit.call(e,y)}).on("focus",function(){var A=this;t._editing=!0,Oa.select(document).on("mouseup",function(){if(Oa.event.target===A)return!1;document.activeElement===c.node()&&c.node().blur()})}).on("keyup",function(){Oa.event.which===27?(t._editing=!1,e.style({opacity:1}),Oa.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),Oa.select(this).call(pR(e,u,r)))}).on("keydown",function(){Oa.event.which===13&&this.blur()}).call(s)}return r.immediate?i():o.on("click",i),Oa.rebind(e,a,"on")}});var Os=ie((wFe,kR)=>{"use strict";var zce=gn(),bm=Is(),Q1=cn(),xm=wr(),wR=pn(),Uce=Pc().isValid;function Gce(e,r,t){var n=r?xm.nestedProperty(e,r).get()||{}:e,a=n[t||"color"];a&&a._inputArray&&(a=a._inputArray);var o=!1;if(xm.isArrayOrTypedArray(a)){for(var i=0;i<a.length;i++)if(Q1(a[i])){o=!0;break}}return xm.isPlainObject(n)&&(o||n.showscale===!0||Q1(n.cmin)&&Q1(n.cmax)||Uce(n.colorscale)||xm.isPlainObject(n.colorbar))}var AR=["showscale","autocolorscale","colorscale","reversescale","colorbar"],K1=["min","max","mid","auto"];function MR(e){var r=e._colorAx,t=r||e,n={},a,o,i;for(o=0;o<AR.length;o++)i=AR[o],n[i]=t[i];if(r)for(a="c",o=0;o<K1.length;o++)i=K1[o],n[i]=t["c"+i];else{var s;for(o=0;o<K1.length;o++){if(i=K1[o],s="c"+i,s in t){n[i]=t[s];continue}s="z"+i,s in t&&(n[i]=t[s])}a=s.charAt(0)}return n._sync=function(f,l){var u=K1.indexOf(f)!==-1?a+f:f;t[u]=t["_"+u]=l},n}function ER(e){for(var r=MR(e),t=r.min,n=r.max,a=r.reversescale?SR(r.colorscale):r.colorscale,o=a.length,i=new Array(o),s=new Array(o),f=0;f<o;f++){var l=a[f];i[f]=t+l[0]*(n-t),s[f]=l[1]}return{domain:i,range:s}}function SR(e){for(var r=e.length,t=new Array(r),n=r-1,a=0;n>=0;n--,a++){var o=e[n];t[a]=[1-o[0],o[1]]}return t}function CR(e,r){r=r||{};for(var t=e.domain,n=e.range,a=n.length,o=new Array(a),i=0;i<a;i++){var s=bm(n[i]).toRgb();o[i]=[s.r,s.g,s.b,s.a]}var f=zce.scale.linear().domain(t).range(o).clamp(!0),l=r.noNumericCheck,u=r.returnArray,c;return l&&u?c=f:l?c=function(v){return TR(f(v))}:u?c=function(v){return Q1(v)?f(v):bm(v).isValid()?v:wR.defaultLine}:c=function(v){return Q1(v)?TR(f(v)):bm(v).isValid()?v:wR.defaultLine},c.domain=f.domain,c.range=function(){return n},c}function Hce(e,r){return CR(ER(e),r)}function TR(e){var r={r:e[0],g:e[1],b:e[2],a:e[3]};return bm(r).toRgbString()}kR.exports={hasColorscale:Gce,extractOpts:MR,extractScale:ER,flipScale:SR,makeColorScaleFunc:CR,makeColorScaleFuncFromTrace:Hce}});var Zh=ie((AFe,DR)=>{"use strict";var LR=Dw(),Vce=LR.FORMAT_LINK,Yce=LR.DATE_FORMAT_LINK;function Wce(e,r){return{valType:"string",dflt:"",editType:"none",description:(r?c4:RR)("hover text",e)+["By default the values are formatted using "+(r?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function c4(e,r){return["Sets the "+e+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+Vce+"."].join(" ")}function RR(e,r){return c4(e,r)+[" And for dates see: "+Yce+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}DR.exports={axisHoverFormat:Wce,descriptionOnlyNumbers:c4,descriptionWithDates:RR}});var is=ie((TFe,ZR)=>{"use strict";var h4=ci(),jh=pl(),XR=ou().dash,d4=ga().extendFlat,FR=Yn().templatedArray,IR=Zh().descriptionWithDates,Xce=ta().ONEDAY,bl=Pa(),Zce=bl.HOUR_PATTERN,jce=bl.WEEKDAY_PATTERN,v4={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},Jce=d4({},v4,{values:v4.values.slice().concat(["sync"])});function PR(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var OR={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},NR={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},BR={valType:"data_array",editType:"ticks"},qR={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function zR(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=5),r}function UR(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var GR={valType:"color",dflt:jh.defaultLine,editType:"ticks"},HR={valType:"color",dflt:jh.lightLine,editType:"ticks"};function VR(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var YR=d4({},XR,{editType:"ticks"}),WR={valType:"boolean",editType:"ticks"};ZR.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:jh.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:h4({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[bl.idRegex.x.toString(),bl.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[bl.idRegex.x.toString(),bl.idRegex.y.toString()],editType:"calc"},rangebreaks:FR("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[jce,Zce,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:Xce},editType:"calc"}),tickmode:Jce,nticks:PR(),tick0:OR,dtick:NR,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:BR,ticktext:{valType:"data_array",editType:"ticks"},ticks:qR,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:zR(),tickwidth:UR(),tickcolor:GR,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:d4({},XR,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:h4({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:IR("tick label")},tickformatstops:FR("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:IR("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:jh.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:WR,gridcolor:HR,gridwidth:VR(),griddash:YR,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:jh.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:jh.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",bl.idRegex.x.toString(),bl.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",bl.idRegex.x.toString(),bl.idRegex.y.toString()],editType:"plot"},minor:{tickmode:v4,nticks:PR("minor"),tick0:OR,dtick:NR,tickvals:BR,ticks:qR,ticklen:zR("minor"),tickwidth:UR("minor"),tickcolor:GR,gridcolor:HR,gridwidth:VR("minor"),griddash:YR,showgrid:WR,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:h4({editType:"ticks"})}}});var _m=ie((MFe,JR)=>{"use strict";var aa=is(),p4=ci(),jR=ga().extendFlat,$ce=No().overrideAll;JR.exports=$ce({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:aa.linecolor,outlinewidth:aa.linewidth,bordercolor:aa.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:aa.minor.tickmode,nticks:aa.nticks,tick0:aa.tick0,dtick:aa.dtick,tickvals:aa.tickvals,ticktext:aa.ticktext,ticks:jR({},aa.ticks,{dflt:""}),ticklabeloverflow:jR({},aa.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:aa.ticklen,tickwidth:aa.tickwidth,tickcolor:aa.tickcolor,ticklabelstep:aa.ticklabelstep,showticklabels:aa.showticklabels,labelalias:aa.labelalias,tickfont:p4({}),tickangle:aa.tickangle,tickformat:aa.tickformat,tickformatstops:aa.tickformatstops,tickprefix:aa.tickprefix,showtickprefix:aa.showtickprefix,ticksuffix:aa.ticksuffix,showticksuffix:aa.showticksuffix,separatethousands:aa.separatethousands,exponentformat:aa.exponentformat,minexponent:aa.minexponent,showexponent:aa.showexponent,title:{text:{valType:"string"},font:p4({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:p4({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")});var cf=ie((SFe,KR)=>{"use strict";var Kce=_m(),Qce=Fh().counter,e0e=em(),$R=Pc().scales,EFe=e0e($R);function wm(e){return"`"+e+"`"}KR.exports=function(r,t){r=r||"",t=t||{};var n=t.cLetter||"c",a="onlyIfNumerical"in t?t.onlyIfNumerical:!!r,o="noScale"in t?t.noScale:r==="marker.line",i="showScaleDflt"in t?t.showScaleDflt:n==="z",s=typeof t.colorscaleDflt=="string"?$R[t.colorscaleDflt]:null,f=t.editTypeOverride||"",l=r?r+".":"",u,c;"colorAttr"in t?(u=t.colorAttr,c=t.colorAttr):(u={z:"z",c:"color"}[n],c="in "+wm(l+u));var v=a?" Has an effect only if "+c+" is set to a numerical array.":"",m=n+"auto",x=n+"min",A=n+"max",w=n+"mid",y=wm(l+m),_=wm(l+x),M=wm(l+A),b=_+" and "+M,E={};E[x]=E[A]=void 0;var d={};d[m]=!1;var T={};return u==="color"&&(T.color={valType:"color",arrayOk:!0,editType:f||"style"},t.anim&&(T.color.anim=!0)),T[m]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:E},T[x]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:d},T[A]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:d},T[w]={valType:"number",dflt:null,editType:"calc",impliedEdits:E},T.colorscale={valType:"colorscale",editType:"calc",dflt:s,impliedEdits:{autocolorscale:!1}},T.autocolorscale={valType:"boolean",dflt:t.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},T.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(T.showscale={valType:"boolean",dflt:i,editType:"calc"},T.colorbar=Kce),t.noColorAxis||(T.coloraxis={valType:"subplotid",regex:Qce("coloraxis"),dflt:null,editType:"calc"}),T}});var y4=ie((CFe,QR)=>{"use strict";var r0e=ga().extendFlat,t0e=cf(),g4=Pc().scales;QR.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:g4.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:g4.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:g4.RdBu,editType:"calc"}},coloraxis:r0e({_isSubplotObj:!0,editType:"calc"},t0e("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var m4=ie((kFe,eD)=>{"use strict";var n0e=wr();eD.exports=function(r){return n0e.isPlainObject(r.colorbar)}});var _4=ie(b4=>{"use strict";var x4=cn(),rD=wr(),tD=ta(),a0e=tD.ONEDAY,i0e=tD.ONEWEEK;b4.dtick=function(e,r){var t=r==="log",n=r==="date",a=r==="category",o=n?a0e:1;if(!e)return o;if(x4(e))return e=Number(e),e<=0?o:a?Math.max(1,Math.round(e)):n?Math.max(.1,e):e;if(typeof e!="string"||!(n||t))return o;var i=e.charAt(0),s=e.substr(1);return s=x4(s)?Number(s):0,s<=0||!(n&&i==="M"&&s===Math.round(s)||t&&i==="L"||t&&i==="D"&&(s===1||s===2))?o:e};b4.tick0=function(e,r,t,n){if(r==="date")return rD.cleanDate(e,rD.dateTick0(t,n%i0e===0?1:0));if(!(n==="D1"||n==="D2"))return x4(e)?Number(e):0}});var w4=ie((RFe,aD)=>{"use strict";var nD=_4(),o0e=wr().isArrayOrTypedArray,s0e=mo().isTypedArraySpec,l0e=mo().decodeTypedArraySpec;aD.exports=function(r,t,n,a,o){o||(o={});var i=o.isMinor,s=i?r.minor||{}:r,f=i?t.minor:t,l=i?"minor.":"";function u(_){var M=s[_];return s0e(M)&&(M=l0e(M)),M!==void 0?M:(f._template||{})[_]}var c=u("tick0"),v=u("dtick"),m=u("tickvals"),x=o0e(m)?"array":v?"linear":"auto",A=n(l+"tickmode",x);if(A==="auto"||A==="sync")n(l+"nticks");else if(A==="linear"){var w=f.dtick=nD.dtick(v,a);f.tick0=nD.tick0(c,a,t.calendar,w)}else if(a!=="multicategory"){var y=n(l+"tickvals");y===void 0?f.tickmode="auto":i||n("ticktext")}}});var T4=ie((DFe,oD)=>{"use strict";var A4=wr(),iD=is();oD.exports=function(r,t,n,a){var o=a.isMinor,i=o?r.minor||{}:r,s=o?t.minor:t,f=o?iD.minor:iD,l=o?"minor.":"",u=A4.coerce2(i,s,f,"ticklen",o?(t.ticklen||5)*.6:void 0),c=A4.coerce2(i,s,f,"tickwidth",o?t.tickwidth||1:void 0),v=A4.coerce2(i,s,f,"tickcolor",(o?t.tickcolor:void 0)||s.color),m=n(l+"ticks",!o&&a.outerTicks||u||c||v?"outside":"");m||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}});var M4=ie((FFe,sD)=>{"use strict";sD.exports=function(r){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(o){return r[o]!==void 0}),a=function(o){return r[o]===r[n[0]]};if(n.every(a)||n.length===1)return r[n[0]]}});var qo=ie((IFe,lD)=>{"use strict";var Am=wr(),f0e=Yn();lD.exports=function(r,t,n){var a=n.name,o=n.inclusionAttr||"visible",i=t[a],s=Am.isArrayOrTypedArray(r[a])?r[a]:[],f=t[a]=[],l=f0e.arrayTemplater(t,a,o),u,c;for(u=0;u<s.length;u++){var v=s[u];Am.isPlainObject(v)?c=l.newItem(v):(c=l.newItem({}),c[o]=!1),c._index=u,c[o]!==!1&&n.handleItemDefaults(v,c,t,n),f.push(c)}var m=l.defaultItems();for(u=0;u<m.length;u++)c=m[u],c._index=f.length,n.handleItemDefaults({},c,t,n,{}),f.push(c);if(Am.isArrayOrTypedArray(i)){var x=Math.min(i.length,f.length);for(u=0;u<x;u++)Am.relinkPrivateKeys(f[u],i[u])}return f}});var S4=ie((PFe,uD)=>{"use strict";var E4=wr(),u0e=pn().contrast,fD=is(),c0e=M4(),h0e=qo();uD.exports=function(r,t,n,a,o){o||(o={});var i=n("labelalias");E4.isPlainObject(i)||delete t.labelalias;var s=c0e(r),f=n("showticklabels");if(f){o.noTicklabelshift||n("ticklabelshift"),o.noTicklabelstandoff||n("ticklabelstandoff");var l=o.font||{},u=t.color,c=t.ticklabelposition||"",v=c.indexOf("inside")!==-1?u0e(o.bgColor):u&&u!==fD.color.dflt?u:l.color;if(E4.coerceFont(n,"tickfont",l,{overrideDflt:{color:v}}),!o.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&n("ticklabelstep"),!o.noAng){var m=n("tickangle");!o.noAutotickangles&&m==="auto"&&n("autotickangles")}if(a!=="category"){var x=n("tickformat");h0e(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v0e}),t.tickformatstops.length||delete t.tickformatstops,!o.noExp&&!x&&a!=="date"&&(n("showexponent",s),n("exponentformat"),n("minexponent"),n("separatethousands"))}}};function v0e(e,r){function t(a,o){return E4.coerce(e,r,fD.tickformatstops,a,o)}var n=t("enabled");n&&(t("dtickrange"),t("value"))}});var C4=ie((OFe,cD)=>{"use strict";var d0e=M4();cD.exports=function(r,t,n,a,o){o||(o={});var i=o.tickSuffixDflt,s=d0e(r),f=n("tickprefix");f&&n("showtickprefix",s);var l=n("ticksuffix",i);l&&n("showticksuffix",s)}});var k4=ie((NFe,hD)=>{"use strict";var mu=wr(),p0e=Yn(),g0e=w4(),y0e=T4(),m0e=S4(),x0e=C4(),b0e=_m();hD.exports=function(r,t,n){var a=p0e.newContainer(t,"colorbar"),o=r.colorbar||{};function i(p,C){return mu.coerce(o,a,b0e,p,C)}var s=n.margin||{t:0,b:0,l:0,r:0},f=n.width-s.l-s.r,l=n.height-s.t-s.b,u=i("orientation"),c=u==="v",v=i("thicknessmode");i("thickness",v==="fraction"?30/(c?f:l):30);var m=i("lenmode");i("len",m==="fraction"?1:c?l:f);var x=i("yref"),A=i("xref"),w=x==="paper",y=A==="paper",_,M,b,E="left";c?(b="middle",E=y?"left":"right",_=y?1.02:1,M=.5):(b=w?"bottom":"top",E="center",_=.5,M=w?1.02:1),mu.coerce(o,a,{x:{valType:"number",min:y?-2:0,max:y?3:1,dflt:_}},"x"),mu.coerce(o,a,{y:{valType:"number",min:w?-2:0,max:w?3:1,dflt:M}},"y"),i("xanchor",E),i("xpad"),i("yanchor",b),i("ypad"),mu.noneOrAll(o,a,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor");var d=mu.coerce(o,a,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");i("ticklabeloverflow",d.indexOf("inside")!==-1?"hide past domain":"hide past div"),g0e(o,a,i,"linear");var T=n.font,g={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:T};d.indexOf("inside")!==-1&&(g.bgColor="black"),x0e(o,a,i,"linear",g),m0e(o,a,i,"linear",g),y0e(o,a,i,"linear",g),i("title.text",n._dfltTitle.colorbar);var h=a.showticklabels?a.tickfont:T,S=mu.extendFlat({},T,{family:h.family,size:mu.bigFont(h.size)});mu.coerceFont(i,"title.font",S),i("title.side",c?"top":"right")}});var Jc=ie((BFe,pD)=>{"use strict";var vD=cn(),R4=wr(),_0e=m4(),w0e=k4(),dD=Pc().isValid,A0e=Dt().traceIs;function L4(e,r){var t=r.slice(0,r.length-1);return r?R4.nestedProperty(e,t).get()||{}:e}pD.exports=function e(r,t,n,a,o){var i=o.prefix,s=o.cLetter,f="_module"in t,l=L4(r,i),u=L4(t,i),c=L4(t._template||{},i)||{},v=function(){return delete r.coloraxis,delete t.coloraxis,e(r,t,n,a,o)};if(f){var m=n._colorAxes||{},x=a(i+"coloraxis");if(x){var A=A0e(t,"contour")&&R4.nestedProperty(t,"contours.coloring").get()||"heatmap",w=m[x];w?(w[2].push(v),w[0]!==A&&(w[0]=!1,R4.warn(["Ignoring coloraxis:",x,"setting","as it is linked to incompatible colorscales."].join(" ")))):m[x]=[A,t,[v]];return}}var y=l[s+"min"],_=l[s+"max"],M=vD(y)&&vD(_)&&y<_,b=a(i+s+"auto",!M);b?a(i+s+"mid"):(a(i+s+"min"),a(i+s+"max"));var E=l.colorscale,d=c.colorscale,T;if(E!==void 0&&(T=!dD(E)),d!==void 0&&(T=!dD(d)),a(i+"autocolorscale",T),a(i+"colorscale"),a(i+"reversescale"),i!=="marker.line."){var g;i&&f&&(g=_0e(l));var h=a(i+"showscale",g);h&&(i&&c&&(u._template=c),w0e(l,u,n))}}});var xD=ie((qFe,mD)=>{"use strict";var gD=wr(),T0e=Yn(),yD=y4(),M0e=Jc();mD.exports=function(r,t){function n(c,v){return gD.coerce(r,t,yD,c,v)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var a=t._colorAxes,o,i;function s(c,v){return gD.coerce(o,i,yD.coloraxis,c,v)}for(var f in a){var l=a[f];if(l[0])o=r[f]||{},i=T0e.newContainer(t,f,"coloraxis"),i._name=f,M0e(o,i,t,s,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete t._colorAxes[f]}}}});var _D=ie((zFe,bD)=>{"use strict";var E0e=wr(),S0e=Os().hasColorscale,C0e=Os().extractOpts;bD.exports=function(r,t){function n(u,c){var v=u["_"+c];v!==void 0&&(u[c]=v)}function a(u,c){var v=c.container?E0e.nestedProperty(u,c.container).get():u;if(v)if(v.coloraxis)v._colorAx=t[v.coloraxis];else{var m=C0e(v),x=m.auto;(x||m.min===void 0)&&n(v,c.min),(x||m.max===void 0)&&n(v,c.max),m.autocolorscale&&n(v,"colorscale")}}for(var o=0;o<r.length;o++){var i=r[o],s=i._module.colorbar;if(s)if(Array.isArray(s))for(var f=0;f<s.length;f++)a(i,s[f]);else a(i,s);S0e(i,"marker.line")&&a(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in t._colorAxes)a(t[l],{min:"cmin",max:"cmax"})}});var Tm=ie((UFe,AD)=>{"use strict";var wD=cn(),D4=wr(),k0e=Os().extractOpts;AD.exports=function(r,t,n){var a=r._fullLayout,o=n.vals,i=n.containerStr,s=i?D4.nestedProperty(t,i).get():t,f=k0e(s),l=f.auto!==!1,u=f.min,c=f.max,v=f.mid,m=function(){return D4.aggNums(Math.min,null,o)},x=function(){return D4.aggNums(Math.max,null,o)};if(u===void 0?u=m():l&&(s._colorAx&&wD(u)?u=Math.min(u,m()):u=m()),c===void 0?c=x():l&&(s._colorAx&&wD(c)?c=Math.max(c,x()):c=x()),l&&v!==void 0&&(c-v>v-u?u=v-(c-v):c-v<v-u&&(c=v+(v-u))),u===c&&(u-=.5,c+=.5),f._sync("min",u),f._sync("max",c),f.autocolorscale){var A;u*c<0?A=a.colorscale.diverging:u>=0?A=a.colorscale.sequential:A=a.colorscale.sequentialminus,f._sync("colorscale",A)}}});var $h=ie((GFe,TD)=>{"use strict";var Mm=Pc(),Jh=Os();TD.exports={moduleType:"component",name:"colorscale",attributes:cf(),layoutAttributes:y4(),supplyLayoutDefaults:xD(),handleDefaults:Jc(),crossTraceDefaults:_D(),calc:Tm(),scales:Mm.scales,defaultScale:Mm.defaultScale,getScale:Mm.get,isValidScale:Mm.isValid,hasColorscale:Jh.hasColorscale,extractOpts:Jh.extractOpts,extractScale:Jh.extractScale,flipScale:Jh.flipScale,makeColorScaleFunc:Jh.makeColorScaleFunc,makeColorScaleFuncFromTrace:Jh.makeColorScaleFuncFromTrace}});var hi=ie((HFe,ED)=>{"use strict";var MD=wr(),L0e=mo().isTypedArraySpec;ED.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){var r=e.marker;return MD.isPlainObject(r)&&(MD.isArrayOrTypedArray(r.size)||L0e(r.size))}}});var F4=ie((VFe,SD)=>{"use strict";var R0e=cn();SD.exports=function(r,t){t||(t=2);var n=r.marker,a=n.sizeref||1,o=n.sizemin||0,i=n.sizemode==="area"?function(s){return Math.sqrt(s/a)}:function(s){return s/a};return function(s){var f=i(s/t);return R0e(f)&&f>0?Math.max(f,o):0}}});var hf=ie(Si=>{"use strict";var CD=wr();Si.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};Si.isTraceInSubplots=function(e,r){if(e.type==="splom"){for(var t=e.xaxes||[],n=e.yaxes||[],a=0;a<t.length;a++)for(var o=0;o<n.length;o++)if(r.indexOf(t[a]+n[o])!==-1)return!0;return!1}return r.indexOf(Si.getSubplot(e))!==-1};Si.flat=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=r;return t};Si.p2c=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].p2c(r);return t};Si.getDistanceFunction=function(e,r,t,n){return e==="closest"?n||Si.quadrature(r,t):e.charAt(0)==="x"?r:t};Si.getClosest=function(e,r,t){if(t.index!==!1)t.index>=0&&t.index<e.length?t.distance=0:t.index=!1;else for(var n=0;n<e.length;n++){var a=r(e[n]);a<=t.distance&&(t.index=n,t.distance=a)}return t};Si.inbox=function(e,r,t){return e*r<0||e===0?t:1/0};Si.quadrature=function(e,r){return function(t){var n=e(t),a=r(t);return Math.sqrt(n*n+a*a)}};Si.makeEventData=function(e,r,t){var n="index"in e?e.index:e.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var o=r._indexToPoints[n];o.length===1?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=n;return r._module.eventData?a=r._module.eventData(a,e,r,t,n):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),e.zLabelVal!==void 0&&(a.z=e.zLabelVal)),Si.appendArrayPointValue(a,r,n),a};Si.appendArrayPointValue=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=kD(o);if(e[i]===void 0){var s=CD.nestedProperty(r,o).get(),f=LD(s,t);f!==void 0&&(e[i]=f)}}};Si.appendArrayMultiPointValues=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=kD(o);if(e[i]===void 0){for(var s=CD.nestedProperty(r,o).get(),f=new Array(t.length),l=0;l<t.length;l++)f[l]=LD(s,t[l]);e[i]=f}}};var D0e={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function kD(e){return D0e[e]||e}function LD(e,r){if(Array.isArray(r)){if(Array.isArray(e)&&Array.isArray(e[r[0]]))return e[r[0]][r[1]]}else return e[r]}var F0e={x:!0,y:!0},I0e={"x unified":!0,"y unified":!0};Si.isUnifiedHover=function(e){return typeof e!="string"?!1:!!I0e[e]};Si.isXYhover=function(e){return typeof e!="string"?!1:!!F0e[e]}});var ep=ie((WFe,RD)=>{RD.exports=O0e;var I4={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},P0e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function O0e(e){var r=[];return e.replace(P0e,function(t,n,a){var o=n.toLowerCase();for(a=B0e(a),o=="m"&&a.length>2&&(r.push([n].concat(a.splice(0,2))),o="l",n=n=="m"?"l":"L");;){if(a.length==I4[o])return a.unshift(n),r.push(a);if(a.length<I4[o])throw new Error("malformed path data");r.push([n].concat(a.splice(0,I4[o])))}}),r}var N0e=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function B0e(e){var r=e.match(N0e);return r?r.map(Number):[]}});var BD=ie((XFe,ND)=>{"use strict";var q0e=ep(),Ur=function(e,r){return r?Math.round(e*(r=Math.pow(10,r)))/r:Math.round(e)},Zt="M0,0Z",DD=Math.sqrt(2),xu=Math.sqrt(3),P4=Math.PI,O4=Math.cos,N4=Math.sin;ND.exports={circle:{n:0,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2),a="M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z";return t?Jt(r,t,a):a}},square:{n:1,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")}},diamond:{n:2,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.3,2);return Jt(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z")}},cross:{n:3,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.4,2),a=Ur(e*1.2,2);return Jt(r,t,"M"+a+","+n+"H"+n+"V"+a+"H-"+n+"V"+n+"H-"+a+"V-"+n+"H-"+n+"V-"+a+"H"+n+"V-"+n+"H"+a+"Z")}},x:{n:4,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.8/DD,2),a="l"+n+","+n,o="l"+n+",-"+n,i="l-"+n+",-"+n,s="l-"+n+","+n;return Jt(r,t,"M0,"+n+a+o+i+o+i+s+i+s+a+s+a+"Z")}},"triangle-up":{n:5,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*2/xu,2),a=Ur(e/2,2),o=Ur(e,2);return Jt(r,t,"M-"+n+","+a+"H"+n+"L0,-"+o+"Z")}},"triangle-down":{n:6,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*2/xu,2),a=Ur(e/2,2),o=Ur(e,2);return Jt(r,t,"M-"+n+",-"+a+"H"+n+"L0,"+o+"Z")}},"triangle-left":{n:7,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*2/xu,2),a=Ur(e/2,2),o=Ur(e,2);return Jt(r,t,"M"+a+",-"+n+"V"+n+"L-"+o+",0Z")}},"triangle-right":{n:8,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*2/xu,2),a=Ur(e/2,2),o=Ur(e,2);return Jt(r,t,"M-"+a+",-"+n+"V"+n+"L"+o+",0Z")}},"triangle-ne":{n:9,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.6,2),a=Ur(e*1.2,2);return Jt(r,t,"M-"+a+",-"+n+"H"+n+"V"+a+"Z")}},"triangle-se":{n:10,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.6,2),a=Ur(e*1.2,2);return Jt(r,t,"M"+n+",-"+a+"V"+n+"H-"+a+"Z")}},"triangle-sw":{n:11,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.6,2),a=Ur(e*1.2,2);return Jt(r,t,"M"+a+","+n+"H-"+n+"V-"+a+"Z")}},"triangle-nw":{n:12,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.6,2),a=Ur(e*1.2,2);return Jt(r,t,"M-"+n+","+a+"V-"+n+"H"+a+"Z")}},pentagon:{n:13,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.951,2),a=Ur(e*.588,2),o=Ur(-e,2),i=Ur(e*-.309,2),s=Ur(e*.809,2);return Jt(r,t,"M"+n+","+i+"L"+a+","+s+"H-"+a+"L-"+n+","+i+"L0,"+o+"Z")}},hexagon:{n:14,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2),a=Ur(e/2,2),o=Ur(e*xu/2,2);return Jt(r,t,"M"+o+",-"+a+"V"+a+"L0,"+n+"L-"+o+","+a+"V-"+a+"L0,-"+n+"Z")}},hexagon2:{n:15,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2),a=Ur(e/2,2),o=Ur(e*xu/2,2);return Jt(r,t,"M-"+a+","+o+"H"+a+"L"+n+",0L"+a+",-"+o+"H-"+a+"L-"+n+",0Z")}},octagon:{n:16,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.924,2),a=Ur(e*.383,2);return Jt(r,t,"M-"+a+",-"+n+"H"+a+"L"+n+",-"+a+"V"+a+"L"+a+","+n+"H-"+a+"L-"+n+","+a+"V-"+a+"Z")}},star:{n:17,f:function(e,r,t){if(jt(r))return Zt;var n=e*1.4,a=Ur(n*.225,2),o=Ur(n*.951,2),i=Ur(n*.363,2),s=Ur(n*.588,2),f=Ur(-n,2),l=Ur(n*-.309,2),u=Ur(n*.118,2),c=Ur(n*.809,2),v=Ur(n*.382,2);return Jt(r,t,"M"+a+","+l+"H"+o+"L"+i+","+u+"L"+s+","+c+"L0,"+v+"L-"+s+","+c+"L-"+i+","+u+"L-"+o+","+l+"H-"+a+"L0,"+f+"Z")}},hexagram:{n:18,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.66,2),a=Ur(e*.38,2),o=Ur(e*.76,2);return Jt(r,t,"M-"+o+",0l-"+a+",-"+n+"h"+o+"l"+a+",-"+n+"l"+a+","+n+"h"+o+"l-"+a+","+n+"l"+a+","+n+"h-"+o+"l-"+a+","+n+"l-"+a+",-"+n+"h-"+o+"Z")}},"star-triangle-up":{n:19,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*xu*.8,2),a=Ur(e*.8,2),o=Ur(e*1.6,2),i=Ur(e*4,2),s="A "+i+","+i+" 0 0 1 ";return Jt(r,t,"M-"+n+","+a+s+n+","+a+s+"0,-"+o+s+"-"+n+","+a+"Z")}},"star-triangle-down":{n:20,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*xu*.8,2),a=Ur(e*.8,2),o=Ur(e*1.6,2),i=Ur(e*4,2),s="A "+i+","+i+" 0 0 1 ";return Jt(r,t,"M"+n+",-"+a+s+"-"+n+",-"+a+s+"0,"+o+s+n+",-"+a+"Z")}},"star-square":{n:21,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.1,2),a=Ur(e*2,2),o="A "+a+","+a+" 0 0 1 ";return Jt(r,t,"M-"+n+",-"+n+o+"-"+n+","+n+o+n+","+n+o+n+",-"+n+o+"-"+n+",-"+n+"Z")}},"star-diamond":{n:22,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.4,2),a=Ur(e*1.9,2),o="A "+a+","+a+" 0 0 1 ";return Jt(r,t,"M-"+n+",0"+o+"0,"+n+o+n+",0"+o+"0,-"+n+o+"-"+n+",0Z")}},"diamond-tall":{n:23,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*.7,2),a=Ur(e*1.4,2);return Jt(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},"diamond-wide":{n:24,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.4,2),a=Ur(e*.7,2);return Jt(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},hourglass:{n:25,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z")},noDot:!0},bowtie:{n:26,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z")},noDot:!0},"circle-cross":{n:27,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2),a=Ur(e/DD,2);return Jt(r,t,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.3,2);return Jt(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.3,2),a=Ur(e*.65,2);return Jt(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.4,2);return Jt(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.2,2),a=Ur(e*.85,2);return Jt(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e/2,2),a=Ur(e,2);return Jt(r,t,"M"+n+","+a+"V-"+a+"M"+(n-a)+",-"+a+"V"+a+"M"+a+","+n+"H-"+a+"M-"+a+","+(n-a)+"H"+a)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.2,2),a=Ur(e*1.6,2),o=Ur(e*.8,2);return Jt(r,t,"M-"+n+","+o+"L0,0M"+n+","+o+"L0,0M0,-"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.2,2),a=Ur(e*1.6,2),o=Ur(e*.8,2);return Jt(r,t,"M-"+n+",-"+o+"L0,0M"+n+",-"+o+"L0,0M0,"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.2,2),a=Ur(e*1.6,2),o=Ur(e*.8,2);return Jt(r,t,"M"+o+","+n+"L0,0M"+o+",-"+n+"L0,0M-"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.2,2),a=Ur(e*1.6,2),o=Ur(e*.8,2);return Jt(r,t,"M-"+o+","+n+"L0,0M-"+o+",-"+n+"L0,0M"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.4,2);return Jt(r,t,"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*1.4,2);return Jt(r,t,"M0,"+n+"V-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2);return Jt(r,t,"M"+n+","+n+"L-"+n+",-"+n)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2),a=Ur(e*2,2);return Jt(r,t,"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2),a=Ur(e*2,2);return Jt(r,t,"M0,0L-"+n+",-"+a+"H"+n+"Z")},noDot:!0},"arrow-left":{n:47,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*2,2),a=Ur(e,2);return Jt(r,t,"M0,0L"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-right":{n:48,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*2,2),a=Ur(e,2);return Jt(r,t,"M0,0L-"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2),a=Ur(e*2,2);return Jt(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e,2),a=Ur(e*2,2);return Jt(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+",-"+a+"H"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*2,2),a=Ur(e,2);return Jt(r,t,"M0,-"+a+"V"+a+"M0,0L"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e,r,t){if(jt(r))return Zt;var n=Ur(e*2,2),a=Ur(e,2);return Jt(r,t,"M0,-"+a+"V"+a+"M0,0L-"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(e,r,t){if(jt(r))return Zt;var n=P4/2.5,a=2*e*O4(n),o=2*e*N4(n);return Jt(r,t,"M0,0L"+-a+","+o+"L"+a+","+o+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(e,r,t){if(jt(r))return Zt;var n=P4/4,a=2*e*O4(n),o=2*e*N4(n);return Jt(r,t,"M0,0L"+-a+","+o+"A "+2*e+","+2*e+" 0 0 1 "+a+","+o+"Z")},backoff:.4,noDot:!0}};function jt(e){return e===null}var FD,ID,PD,OD;function Jt(e,r,t){if((!e||e%360===0)&&!r)return t;if(PD===e&&OD===r&&FD===t)return ID;PD=e,OD=r,FD=t;function n(w,y){var _=O4(w),M=N4(w),b=y[0],E=y[1]+(r||0);return[b*_-E*M,b*M+E*_]}for(var a=e/180*P4,o=0,i=0,s=q0e(t),f="",l=0;l<s.length;l++){var u=s[l],c=u[0],v=o,m=i;if(c==="M"||c==="L")o=+u[1],i=+u[2];else if(c==="m"||c==="l")o+=+u[1],i+=+u[2];else if(c==="H")o=+u[1];else if(c==="h")o+=+u[1];else if(c==="V")i=+u[1];else if(c==="v")i+=+u[1];else if(c==="A"){o=+u[1],i=+u[2];var x=n(a,[+u[6],+u[7]]);u[6]=x[0],u[7]=x[1],u[3]=+u[3]+e}(c==="H"||c==="V")&&(c="L"),(c==="h"||c==="v")&&(c="l"),(c==="m"||c==="l")&&(o-=v,i-=m);var A=n(a,[o,i]);(c==="H"||c==="V")&&(c="L"),(c==="M"||c==="L"||c==="m"||c==="l")&&(u[1]=A[0],u[2]=A[1]),u[0]=c,f+=u[0]+u.slice(1).join(",")}return ID=f,f}});var zn=ie((ZFe,aF)=>{"use strict";var ni=gn(),qn=wr(),z0e=qn.numberFormat,e0=cn(),H4=Is(),Sm=Dt(),mi=pn(),U0e=$h(),tp=qn.strTranslate,Cm=Ni(),G0e=ff(),H0e=Oi(),V0e=H0e.LINE_SPACING,ZD=Dh().DESELECTDIM,Y0e=hi(),W0e=F4(),X0e=hf().appendArrayPointValue,Wr=aF.exports={};Wr.font=function(e,r){var t=r.variant,n=r.style,a=r.weight,o=r.color,i=r.size,s=r.family,f=r.shadow,l=r.lineposition,u=r.textcase;s&&e.style("font-family",s),i+1&&e.style("font-size",i+"px"),o&&e.call(mi.fill,o),a&&e.style("font-weight",a),n&&e.style("font-style",n),t&&e.style("font-variant",t),u&&e.style("text-transform",B4(j0e(u))),f&&e.style("text-shadow",f==="auto"?Cm.makeTextShadow(mi.contrast(o)):B4(f)),l&&e.style("text-decoration-line",B4(J0e(l)))};function B4(e){return e==="none"?void 0:e}var Z0e={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function j0e(e){return Z0e[e]}function J0e(e){return e.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}Wr.setPosition=function(e,r,t){e.attr("x",r).attr("y",t)};Wr.setSize=function(e,r,t){e.attr("width",r).attr("height",t)};Wr.setRect=function(e,r,t,n,a){e.call(Wr.setPosition,r,t).call(Wr.setSize,n,a)};Wr.translatePoint=function(e,r,t,n){var a=t.c2p(e.x),o=n.c2p(e.y);if(e0(a)&&e0(o)&&r.node())r.node().nodeName==="text"?r.attr("x",a).attr("y",o):r.attr("transform",tp(a,o));else return!1;return!0};Wr.translatePoints=function(e,r,t){e.each(function(n){var a=ni.select(this);Wr.translatePoint(n,a,r,t)})};Wr.hideOutsideRangePoint=function(e,r,t,n,a,o){r.attr("display",t.isPtWithinRange(e,a)&&n.isPtWithinRange(e,o)?null:"none")};Wr.hideOutsideRangePoints=function(e,r){if(r._hasClipOnAxisFalse){var t=r.xaxis,n=r.yaxis;e.each(function(a){var o=a[0].trace,i=o.xcalendar,s=o.ycalendar,f=Sm.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(f).each(function(l){Wr.hideOutsideRangePoint(l,ni.select(this),t,n,i,s)})})}};Wr.crispRound=function(e,r,t){return!r||!e0(r)?t||0:e._context.staticPlot?r:r<1?1:Math.round(r)};Wr.singleLineStyle=function(e,r,t,n,a){r.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},i=t||o.width||0,s=a||o.dash||"";mi.stroke(r,n||o.color),Wr.dashLine(r,s,i)};Wr.lineGroupStyle=function(e,r,t,n){e.style("fill","none").each(function(a){var o=(((a||[])[0]||{}).trace||{}).line||{},i=r||o.width||0,s=n||o.dash||"";ni.select(this).call(mi.stroke,t||o.color).call(Wr.dashLine,s,i)})};Wr.dashLine=function(e,r,t){t=+t||0,r=Wr.dashStyle(r,t),e.style({"stroke-dasharray":r,"stroke-width":t+"px"})};Wr.dashStyle=function(e,r){r=+r||1;var t=Math.max(r,3);return e==="solid"?e="":e==="dot"?e=t+"px,"+t+"px":e==="dash"?e=3*t+"px,"+3*t+"px":e==="longdash"?e=5*t+"px,"+5*t+"px":e==="dashdot"?e=3*t+"px,"+t+"px,"+t+"px,"+t+"px":e==="longdashdot"&&(e=5*t+"px,"+2*t+"px,"+t+"px,"+2*t+"px"),e};function jD(e,r,t,n){var a=r.fillpattern,o=r.fillgradient,i=a&&Wr.getPatternAttr(a.shape,0,"");if(i){var s=Wr.getPatternAttr(a.bgcolor,0,null),f=Wr.getPatternAttr(a.fgcolor,0,null),l=a.fgopacity,u=Wr.getPatternAttr(a.size,0,8),c=Wr.getPatternAttr(a.solidity,0,.3),v=r.uid;Wr.pattern(e,"point",t,v,i,u,c,void 0,a.fillmode,s,f,l)}else if(o&&o.type!=="none"){var m=o.type,x="scatterfill-"+r.uid;if(n&&(x="legendfill-"+r.uid),!n&&(o.start!==void 0||o.stop!==void 0)){var A,w;m==="horizontal"?(A={x:o.start,y:0},w={x:o.stop,y:0}):m==="vertical"&&(A={x:0,y:o.start},w={x:0,y:o.stop}),A.x=r._xA.c2p(A.x===void 0?r._extremes.x.min[0].val:A.x,!0),A.y=r._yA.c2p(A.y===void 0?r._extremes.y.min[0].val:A.y,!0),w.x=r._xA.c2p(w.x===void 0?r._extremes.x.max[0].val:w.x,!0),w.y=r._yA.c2p(w.y===void 0?r._extremes.y.max[0].val:w.y,!0),e.call(KD,t,x,"linear",o.colorscale,"fill",A,w,!0,!1)}else m==="horizontal"&&(m=m+"reversed"),e.call(Wr.gradient,t,x,m,o.colorscale,"fill")}else r.fillcolor&&e.call(mi.fill,r.fillcolor)}Wr.singleFillStyle=function(e,r){var t=ni.select(e.node()),n=t.data(),a=((n[0]||[])[0]||{}).trace||{};jD(e,a,r,!1)};Wr.fillGroupStyle=function(e,r,t){e.style("stroke-width",0).each(function(n){var a=ni.select(this);n[0].trace&&jD(a,n[0].trace,r,t)})};var qD=BD();Wr.symbolNames=[];Wr.symbolFuncs=[];Wr.symbolBackOffs=[];Wr.symbolNeedLines={};Wr.symbolNoDot={};Wr.symbolNoFill={};Wr.symbolList=[];Object.keys(qD).forEach(function(e){var r=qD[e],t=r.n;Wr.symbolList.push(t,String(t),e,t+100,String(t+100),e+"-open"),Wr.symbolNames[t]=e,Wr.symbolFuncs[t]=r.f,Wr.symbolBackOffs[t]=r.backoff||0,r.needLine&&(Wr.symbolNeedLines[t]=!0),r.noDot?Wr.symbolNoDot[t]=!0:Wr.symbolList.push(t+200,String(t+200),e+"-dot",t+300,String(t+300),e+"-open-dot"),r.noFill&&(Wr.symbolNoFill[t]=!0)});var $0e=Wr.symbolNames.length,K0e="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";Wr.symbolNumber=function(e){if(e0(e))e=+e;else if(typeof e=="string"){var r=0;e.indexOf("-open")>0&&(r=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(r+=200,e=e.replace("-dot","")),e=Wr.symbolNames.indexOf(e),e>=0&&(e+=r)}return e%100>=$0e||e>=400?0:Math.floor(Math.max(e,0))};function JD(e,r,t,n){var a=e%100;return Wr.symbolFuncs[a](r,t,n)+(e>=200?K0e:"")}var zD=z0e("~f"),$D={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};Wr.gradient=function(e,r,t,n,a,o){var i=$D[n];return KD(e,r,t,i.type,a,o,i.start,i.stop,!1,i.reversed)};function KD(e,r,t,n,a,o,i,s,f,l){var u=a.length,c;n==="linear"?c={node:"linearGradient",attrs:{x1:i.x,y1:i.y,x2:s.x,y2:s.y,gradientUnits:f?"userSpaceOnUse":"objectBoundingBox"},reversed:l}:n==="radial"&&(c={node:"radialGradient",reversed:l});for(var v=new Array(u),m=0;m<u;m++)c.reversed?v[u-1-m]=[zD((1-a[m][0])*100),a[m][1]]:v[m]=[zD(a[m][0]*100),a[m][1]];var x=r._fullLayout,A="g"+x._uid+"-"+t,w=x._defs.select(".gradients").selectAll("#"+A).data([n+v.join(";")],qn.identity);w.exit().remove(),w.enter().append(c.node).each(function(){var y=ni.select(this);c.attrs&&y.attr(c.attrs),y.attr("id",A);var _=y.selectAll("stop").data(v);_.exit().remove(),_.enter().append("stop"),_.each(function(M){var b=H4(M[1]);ni.select(this).attr({offset:M[0]+"%","stop-color":mi.tinyRGB(b),"stop-opacity":b.getAlpha()})})}),e.style(o,V4(A,r)).style(o+"-opacity",null),e.classed("gradient_filled",!0)}Wr.pattern=function(e,r,t,n,a,o,i,s,f,l,u,c){var v=r==="legend";s&&(f==="overlay"?(l=s,u=mi.contrast(l)):(l=void 0,u=s));var m=t._fullLayout,x="p"+m._uid+"-"+n,A,w,y=function(k,D,P,O,F){return O+(F-O)*(k-D)/(P-D)},_,M,b,E,d={},T=H4(u),g=mi.tinyRGB(T),h=T.getAlpha(),S=c*h;switch(a){case"/":A=o*Math.sqrt(2),w=o*Math.sqrt(2),_="M-"+A/4+","+w/4+"l"+A/2+",-"+w/2+"M0,"+w+"L"+A+",0M"+A/4*3+","+w/4*5+"l"+A/2+",-"+w/2,M=i*o,E="path",d={d:_,opacity:S,stroke:g,"stroke-width":M+"px"};break;case"\\":A=o*Math.sqrt(2),w=o*Math.sqrt(2),_="M"+A/4*3+",-"+w/4+"l"+A/2+","+w/2+"M0,0L"+A+","+w+"M-"+A/4+","+w/4*3+"l"+A/2+","+w/2,M=i*o,E="path",d={d:_,opacity:S,stroke:g,"stroke-width":M+"px"};break;case"x":A=o*Math.sqrt(2),w=o*Math.sqrt(2),_="M-"+A/4+","+w/4+"l"+A/2+",-"+w/2+"M0,"+w+"L"+A+",0M"+A/4*3+","+w/4*5+"l"+A/2+",-"+w/2+"M"+A/4*3+",-"+w/4+"l"+A/2+","+w/2+"M0,0L"+A+","+w+"M-"+A/4+","+w/4*3+"l"+A/2+","+w/2,M=o-o*Math.sqrt(1-i),E="path",d={d:_,opacity:S,stroke:g,"stroke-width":M+"px"};break;case"|":A=o,w=o,E="path",_="M"+A/2+",0L"+A/2+","+w,M=i*o,E="path",d={d:_,opacity:S,stroke:g,"stroke-width":M+"px"};break;case"-":A=o,w=o,E="path",_="M0,"+w/2+"L"+A+","+w/2,M=i*o,E="path",d={d:_,opacity:S,stroke:g,"stroke-width":M+"px"};break;case"+":A=o,w=o,E="path",_="M"+A/2+",0L"+A/2+","+w+"M0,"+w/2+"L"+A+","+w/2,M=o-o*Math.sqrt(1-i),E="path",d={d:_,opacity:S,stroke:g,"stroke-width":M+"px"};break;case".":A=o,w=o,i<Math.PI/4?b=Math.sqrt(i*o*o/Math.PI):b=y(i,Math.PI/4,1,o/2,o/Math.sqrt(2)),E="circle",d={cx:A/2,cy:w/2,r:b,opacity:S,fill:g};break}var p=[a||"noSh",l||"noBg",u||"noFg",o,i].join(";"),C=m._defs.select(".patterns").selectAll("#"+x).data([p],qn.identity);C.exit().remove(),C.enter().append("pattern").each(function(){var k=ni.select(this);if(k.attr({id:x,width:A+"px",height:w+"px",patternUnits:"userSpaceOnUse",patternTransform:v?"scale(0.8)":""}),l){var D=H4(l),P=mi.tinyRGB(D),O=D.getAlpha(),F=k.selectAll("rect").data([0]);F.exit().remove(),F.enter().append("rect").attr({width:A+"px",height:w+"px",fill:P,"fill-opacity":O})}var L=k.selectAll(E).data([0]);L.exit().remove(),L.enter().append(E).attr(d)}),e.style("fill",V4(x,t)).style("fill-opacity",null),e.classed("pattern_filled",!0)};Wr.initGradients=function(e){var r=e._fullLayout,t=qn.ensureSingle(r._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove(),ni.select(e).selectAll(".gradient_filled").classed("gradient_filled",!1)};Wr.initPatterns=function(e){var r=e._fullLayout,t=qn.ensureSingle(r._defs,"g","patterns");t.selectAll("pattern").remove(),ni.select(e).selectAll(".pattern_filled").classed("pattern_filled",!1)};Wr.getPatternAttr=function(e,r,t){return e&&qn.isArrayOrTypedArray(e)?r<e.length?e[r]:t:e};Wr.pointStyle=function(e,r,t,n){if(e.size()){var a=Wr.makePointStyleFns(r);e.each(function(o){Wr.singlePointStyle(o,ni.select(this),r,a,t,n)})}};Wr.singlePointStyle=function(e,r,t,n,a,o){var i=t.marker,s=i.line;if(o&&o.i>=0&&e.i===void 0&&(e.i=o.i),r.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(e):e.mo===void 0?i.opacity:e.mo),n.ms2mrc){var f;e.ms==="various"||i.size==="various"?f=3:f=n.ms2mrc(e.ms),e.mrc=f,n.selectedSizeFn&&(f=e.mrc=n.selectedSizeFn(e));var l=Wr.symbolNumber(e.mx||i.symbol)||0;e.om=l%200>=100;var u=W4(e,t),c=Y4(e,t);r.attr("d",JD(l,f,u,c))}var v=!1,m,x,A;if(e.so)A=s.outlierwidth,x=s.outliercolor,m=i.outliercolor;else{var w=(s||{}).width;A=(e.mlw+1||w+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in e?x=e.mlcc=n.lineScale(e.mlc):qn.isArrayOrTypedArray(s.color)?x=mi.defaultLine:x=s.color,qn.isArrayOrTypedArray(i.color)&&(m=mi.defaultLine,v=!0),"mc"in e?m=e.mcc=n.markerScale(e.mc):m=i.color||i.colors||"rgba(0,0,0,0)",n.selectedColorFn&&(m=n.selectedColorFn(e))}if(e.om)r.call(mi.stroke,m).style({"stroke-width":(A||1)+"px",fill:"none"});else{r.style("stroke-width",(e.isBlank?0:A)+"px");var y=i.gradient,_=e.mgt;_?v=!0:_=y&&y.type,qn.isArrayOrTypedArray(_)&&(_=_[0],$D[_]||(_=0));var M=i.pattern,b=M&&Wr.getPatternAttr(M.shape,e.i,"");if(_&&_!=="none"){var E=e.mgc;E?v=!0:E=y.color;var d=t.uid;v&&(d+="-"+e.i),Wr.gradient(r,a,d,_,[[0,E],[1,m]],"fill")}else if(b){var T=!1,g=M.fgcolor;!g&&o&&o.color&&(g=o.color,T=!0);var h=Wr.getPatternAttr(g,e.i,o&&o.color||null),S=Wr.getPatternAttr(M.bgcolor,e.i,null),p=M.fgopacity,C=Wr.getPatternAttr(M.size,e.i,8),k=Wr.getPatternAttr(M.solidity,e.i,.3);T=T||e.mcc||qn.isArrayOrTypedArray(M.shape)||qn.isArrayOrTypedArray(M.bgcolor)||qn.isArrayOrTypedArray(M.fgcolor)||qn.isArrayOrTypedArray(M.size)||qn.isArrayOrTypedArray(M.solidity);var D=t.uid;T&&(D+="-"+e.i),Wr.pattern(r,"point",a,D,b,C,k,e.mcc,M.fillmode,S,h,p)}else qn.isArrayOrTypedArray(m)?mi.fill(r,m[e.i]):mi.fill(r,m);A&&mi.stroke(r,x)}};Wr.makePointStyleFns=function(e){var r={},t=e.marker;return r.markerScale=Wr.tryColorscale(t,""),r.lineScale=Wr.tryColorscale(t,"line"),Sm.traceIs(e,"symbols")&&(r.ms2mrc=Y0e.isBubble(e)?W0e(e):function(){return(t.size||6)/2}),e.selectedpoints&&qn.extendFlat(r,Wr.makeSelectedPointStyleFns(e)),r};Wr.makeSelectedPointStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.marker||{},o=t.marker||{},i=n.marker||{},s=a.opacity,f=o.opacity,l=i.opacity,u=f!==void 0,c=l!==void 0;(qn.isArrayOrTypedArray(s)||u||c)&&(r.selectedOpacityFn=function(b){var E=b.mo===void 0?a.opacity:b.mo;return b.selected?u?f:E:c?l:ZD*E});var v=a.color,m=o.color,x=i.color;(m||x)&&(r.selectedColorFn=function(b){var E=b.mcc||v;return b.selected?m||E:x||E});var A=a.size,w=o.size,y=i.size,_=w!==void 0,M=y!==void 0;return Sm.traceIs(e,"symbols")&&(_||M)&&(r.selectedSizeFn=function(b){var E=b.mrc||A/2;return b.selected?_?w/2:E:M?y/2:E}),r};Wr.makeSelectedTextStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.textfont||{},o=t.textfont||{},i=n.textfont||{},s=a.color,f=o.color,l=i.color;return r.selectedTextColorFn=function(u){var c=u.tc||s;return u.selected?f||c:l||(f?c:mi.addOpacity(c,ZD))},r};Wr.selectedPointStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=Wr.makeSelectedPointStyleFns(r),n=r.marker||{},a=[];t.selectedOpacityFn&&a.push(function(o,i){o.style("opacity",t.selectedOpacityFn(i))}),t.selectedColorFn&&a.push(function(o,i){mi.fill(o,t.selectedColorFn(i))}),t.selectedSizeFn&&a.push(function(o,i){var s=i.mx||n.symbol||0,f=t.selectedSizeFn(i);o.attr("d",JD(Wr.symbolNumber(s),f,W4(i,r),Y4(i,r))),i.mrc2=f}),a.length&&e.each(function(o){for(var i=ni.select(this),s=0;s<a.length;s++)a[s](i,o)})}};Wr.tryColorscale=function(e,r){var t=r?qn.nestedProperty(e,r).get():e;if(t){var n=t.color;if((t.colorscale||t._colorAx)&&qn.isArrayOrTypedArray(n))return U0e.makeColorScaleFuncFromTrace(t)}return qn.identity};var q4={start:1,end:-1,middle:0,bottom:1,top:-1};function QD(e,r,t,n,a){var o=ni.select(e.node().parentNode),i=r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle",s=r.indexOf("left")!==-1?"end":r.indexOf("right")!==-1?"start":"middle",f=n?n/.8+1:0,l=(Cm.lineCount(e)-1)*V0e+1,u=q4[s]*f,c=t*.75+q4[i]*f+(q4[i]-1)*l*t/2;e.attr("text-anchor",s),a||o.attr("transform",tp(u,c))}function eF(e,r){var t=e.ts||r.textfont.size;return e0(t)&&t>0?t:0}Wr.textPointStyle=function(e,r,t){if(e.size()){var n;if(r.selectedpoints){var a=Wr.makeSelectedTextStyleFns(r);n=a.selectedTextColorFn}var o=r.texttemplate,i=t._fullLayout;e.each(function(s){var f=ni.select(this),l=o?qn.extractOption(s,r,"txt","texttemplate"):qn.extractOption(s,r,"tx","text");if(!l&&l!==0){f.remove();return}if(o){var u=r._module.formatLabels,c=u?u(s,r,i):{},v={};X0e(v,r,s.i);var m=r._meta||{};l=qn.texttemplateString(l,c,i._d3locale,v,s,m)}var x=s.tp||r.textposition,A=eF(s,r),w=n?n(s):s.tc||r.textfont.color;f.call(Wr.font,{family:s.tf||r.textfont.family,weight:s.tw||r.textfont.weight,style:s.ty||r.textfont.style,variant:s.tv||r.textfont.variant,textcase:s.tC||r.textfont.textcase,lineposition:s.tE||r.textfont.lineposition,shadow:s.tS||r.textfont.shadow,size:A,color:w}).text(l).call(Cm.convertToTspans,t).call(QD,x,A,s.mrc)})}};Wr.selectedTextStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=Wr.makeSelectedTextStyleFns(r);e.each(function(n){var a=ni.select(this),o=t.selectedTextColorFn(n),i=n.tp||r.textposition,s=eF(n,r);mi.fill(a,o);var f=Sm.traceIs(r,"bar-like");QD(a,i,s,n.mrc2||n.mrc,f)})}};var UD=.5;Wr.smoothopen=function(e,r){if(e.length<3)return"M"+e.join("L");var t="M"+e[0],n=[],a;for(a=1;a<e.length-1;a++)n.push(Em(e[a-1],e[a],e[a+1],r));for(t+="Q"+n[0][0]+" "+e[1],a=2;a<e.length-1;a++)t+="C"+n[a-2][1]+" "+n[a-1][0]+" "+e[a];return t+="Q"+n[e.length-3][1]+" "+e[e.length-1],t};Wr.smoothclosed=function(e,r){if(e.length<3)return"M"+e.join("L")+"Z";var t="M"+e[0],n=e.length-1,a=[Em(e[n],e[0],e[1],r)],o;for(o=1;o<n;o++)a.push(Em(e[o-1],e[o],e[o+1],r));for(a.push(Em(e[n-1],e[n],e[0],r)),o=1;o<=n;o++)t+="C"+a[o-1][1]+" "+a[o][0]+" "+e[o];return t+="C"+a[n][1]+" "+a[0][0]+" "+e[0]+"Z",t};var rF,tF;function Kh(e,r,t){return t&&(e=nF(e)),r?Qc(e[1]):Kc(e[0])}function Kc(e){var r=ni.round(e,2);return rF=r,r}function Qc(e){var r=ni.round(e,2);return tF=r,r}function Em(e,r,t,n){var a=e[0]-r[0],o=e[1]-r[1],i=t[0]-r[0],s=t[1]-r[1],f=Math.pow(a*a+o*o,UD/2),l=Math.pow(i*i+s*s,UD/2),u=(l*l*a-f*f*i)*n,c=(l*l*o-f*f*s)*n,v=3*l*(f+l),m=3*f*(f+l);return[[Kc(r[0]+(v&&u/v)),Qc(r[1]+(v&&c/v))],[Kc(r[0]-(m&&u/m)),Qc(r[1]-(m&&c/m))]]}var Q0e={hv:function(e,r,t){return"H"+Kc(r[0])+"V"+Kh(r,1,t)},vh:function(e,r,t){return"V"+Qc(r[1])+"H"+Kh(r,0,t)},hvh:function(e,r,t){return"H"+Kc((e[0]+r[0])/2)+"V"+Qc(r[1])+"H"+Kh(r,0,t)},vhv:function(e,r,t){return"V"+Qc((e[1]+r[1])/2)+"H"+Kc(r[0])+"V"+Kh(r,1,t)}},ehe=function(e,r,t){return"L"+Kh(r,0,t)+","+Kh(r,1,t)};Wr.steps=function(e){var r=Q0e[e]||ehe;return function(t){for(var n="M"+Kc(t[0][0])+","+Qc(t[0][1]),a=t.length,o=1;o<a;o++)n+=r(t[o-1],t[o],o===a-1);return n}};function nF(e,r){var t=e.backoff,n=e.trace,a=e.d,o=e.i;if(t&&n&&n.marker&&n.marker.angle%360===0&&n.line&&n.line.shape!=="spline"){var i=qn.isArrayOrTypedArray(t),s=e,f=r?r[0]:rF||0,l=r?r[1]:tF||0,u=s[0],c=s[1],v=u-f,m=c-l,x=Math.atan2(m,v),A=i?t[o]:t;if(A==="auto"){var w=s.i;n.type==="scatter"&&w--;var y=s.marker,_=y.symbol;qn.isArrayOrTypedArray(_)&&(_=_[w]);var M=y.size;qn.isArrayOrTypedArray(M)&&(M=M[w]),A=y?Wr.symbolBackOffs[Wr.symbolNumber(_)]*M:0,A+=Wr.getMarkerStandoff(a[w],n)||0}var b=u-A*Math.cos(x),E=c-A*Math.sin(x);(b<=u&&b>=f||b>=u&&b<=f)&&(E<=c&&E>=l||E>=c&&E<=l)&&(e=[b,E])}return e}Wr.applyBackoff=nF;Wr.makeTester=function(){var e=qn.ensureSingleById(ni.select("body"),"svg","js-plotly-tester",function(t){t.attr(G0e.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),r=qn.ensureSingle(e,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});Wr.tester=e,Wr.testref=r};Wr.savedBBoxes={};var z4=0,rhe=1e4;Wr.bBox=function(e,r,t){t||(t=GD(e));var n;if(t){if(n=Wr.savedBBoxes[t],n)return qn.extendFlat({},n)}else if(e.childNodes.length===1){var a=e.childNodes[0];if(t=GD(a),t){var o=+a.getAttribute("x")||0,i=+a.getAttribute("y")||0,s=a.getAttribute("transform");if(!s){var f=Wr.bBox(a,!1,t);return o&&(f.left+=o,f.right+=o),i&&(f.top+=i,f.bottom+=i),f}if(t+="~"+o+"~"+i+"~"+s,n=Wr.savedBBoxes[t],n)return qn.extendFlat({},n)}}var l,u;r?l=e:(u=Wr.tester.node(),l=e.cloneNode(!0),u.appendChild(l)),ni.select(l).attr("transform",null).call(Cm.positionText,0,0);var c=l.getBoundingClientRect(),v=Wr.testref.node().getBoundingClientRect();r||u.removeChild(l);var m={height:c.height,width:c.width,left:c.left-v.left,top:c.top-v.top,right:c.right-v.left,bottom:c.bottom-v.top};return z4>=rhe&&(Wr.savedBBoxes={},z4=0),t&&(Wr.savedBBoxes[t]=m),z4++,qn.extendFlat({},m)};function GD(e){var r=e.getAttribute("data-unformatted");if(r!==null)return r+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}Wr.setClipUrl=function(e,r,t){e.attr("clip-path",V4(r,t))};function V4(e,r){if(!e)return null;var t=r._context,n=t._exportedPlot?"":t._baseUrl||"";return n?"url('"+n+"#"+e+"')":"url(#"+e+")"}Wr.getTranslate=function(e){var r=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,s){return[i,s].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}};Wr.setTranslate=function(e,r,t){var n=/(\btranslate\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||0,t=t||0,i=i.replace(n,"").trim(),i+=tp(r,t),i=i.trim(),e[o]("transform",i),i};Wr.getScale=function(e){var r=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,s){return[i,s].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}};Wr.setScale=function(e,r,t){var n=/(\bscale\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||1,t=t||1,i=i.replace(n,"").trim(),i+="scale("+r+","+t+")",i=i.trim(),e[o]("transform",i),i};var the=/\s*sc.*/;Wr.setPointGroupScale=function(e,r,t){if(r=r||1,t=t||1,!!e){var n=r===1&&t===1?"":"scale("+r+","+t+")";e.each(function(){var a=(this.getAttribute("transform")||"").replace(the,"");a+=n,a=a.trim(),this.setAttribute("transform",a)})}};var nhe=/translate\([^)]*\)\s*$/;Wr.setTextPointsScale=function(e,r,t){e&&e.each(function(){var n,a=ni.select(this),o=a.select("text");if(o.node()){var i=parseFloat(o.attr("x")||0),s=parseFloat(o.attr("y")||0),f=(a.attr("transform")||"").match(nhe);r===1&&t===1?n=[]:n=[tp(i,s),"scale("+r+","+t+")",tp(-i,-s)],f&&n.push(f),a.attr("transform",n.join(""))}})};function Y4(e,r){var t;return e&&(t=e.mf),t===void 0&&(t=r.marker&&r.marker.standoff||0),!r._geo&&!r._xA?-t:t}Wr.getMarkerStandoff=Y4;var rp=Math.atan2,$c=Math.cos,Qh=Math.sin;function HD(e,r){var t=r[0],n=r[1];return[t*$c(e)-n*Qh(e),t*Qh(e)+n*$c(e)]}var VD,YD,WD,XD,U4,G4;function W4(e,r){var t=e.ma;t===void 0&&(t=r.marker.angle,(!t||qn.isArrayOrTypedArray(t))&&(t=0));var n,a,o=r.marker.angleref;if(o==="previous"||o==="north"){if(r._geo){var i=r._geo.project(e.lonlat);n=i[0],a=i[1]}else{var s=r._xA,f=r._yA;if(s&&f)n=s.c2p(e.x),a=f.c2p(e.y);else return 90}if(r._geo){var l=e.lonlat[0],u=e.lonlat[1],c=r._geo.project([l,u+1e-5]),v=r._geo.project([l+1e-5,u]),m=rp(v[1]-a,v[0]-n),x=rp(c[1]-a,c[0]-n),A;if(o==="north")A=t/180*Math.PI;else if(o==="previous"){var w=l/180*Math.PI,y=u/180*Math.PI,_=VD/180*Math.PI,M=YD/180*Math.PI,b=_-w,E=$c(M)*Qh(b),d=Qh(M)*$c(y)-$c(M)*Qh(y)*$c(b);A=-rp(E,d)-Math.PI,VD=l,YD=u}var T=HD(m,[$c(A),0]),g=HD(x,[Qh(A),0]);t=rp(T[1]+g[1],T[0]+g[0])/Math.PI*180,o==="previous"&&!(G4===r.uid&&e.i===U4+1)&&(t=null)}if(o==="previous"&&!r._geo)if(G4===r.uid&&e.i===U4+1&&e0(n)&&e0(a)){var h=n-WD,S=a-XD,p=r.line&&r.line.shape||"",C=p.slice(p.length-1);C==="h"&&(S=0),C==="v"&&(h=0),t+=rp(S,h)/Math.PI*180+90}else t=null}return WD=n,XD=a,U4=e.i,G4=r.uid,t}Wr.getMarkerAngle=W4});var np=ie((jFe,lF)=>{"use strict";var ev=gn(),ahe=cn(),ihe=Za(),X4=Dt(),r0=wr(),iF=r0.strTranslate,km=zn(),Lm=pn(),rv=Ni(),oF=Dh(),ohe=Oi().OPPOSITE_SIDE,sF=/ [XY][0-9]* /,Z4=1.6,j4=1.6;function she(e,r,t){var n=e._fullLayout,a=t.propContainer,o=t.propName,i=t.placeholder,s=t.traceIndex,f=t.avoid||{},l=t.attributes,u=t.transform,c=t.containerGroup,v=1,m=a.title,x=(m&&m.text?m.text:"").trim(),A=!1,w=m&&m.font?m.font:{},y=w.family,_=w.size,M=w.color,b=w.weight,E=w.style,d=w.variant,T=w.textcase,g=w.lineposition,h=w.shadow,S=t.subtitlePropName,p=!!S,C=t.subtitlePlaceholder,k=(a.title||{}).subtitle||{text:"",font:{}},D=k.text.trim(),P=!1,O=1,F=k.font,L=F.family,I=F.size,q=F.color,z=F.weight,W=F.style,$=F.variant,j=F.textcase,G=F.lineposition,B=F.shadow,X;o==="title.text"?X="titleText":o.indexOf("axis")!==-1?X="axisTitleText":o.indexOf("colorbar"!==-1)&&(X="colorbarTitleText");var te=e._context.edits[X];function J(we,Se){return we===void 0||Se===void 0?!1:we.replace(sF," % ")===Se.replace(sF," % ")}x===""?v=0:J(x,i)&&(te||(x=""),v=.2,A=!0),p&&(D===""?O=0:J(D,C)&&(te||(D=""),O=.2,P=!0)),t._meta?x=r0.templateString(x,t._meta):n._meta&&(x=r0.templateString(x,n._meta));var ae=x||D||te,ee;c||(c=r0.ensureSingle(n._infolayer,"g","g-"+r),ee=n._hColorbarMoveTitle);var H=c.selectAll("text."+r).data(ae?[0]:[]);H.enter().append("text"),H.text(x).attr("class",r),H.exit().remove();var re=null,V=r+"-subtitle",ne=D||te;if(p&&ne&&(re=c.selectAll("text."+V).data(ne?[0]:[]),re.enter().append("text"),re.text(D).attr("class",V),re.exit().remove()),!ae)return c;function le(we,Se){r0.syncOrAsync([de,_e],{title:we,subtitle:Se})}function de(we){var Se=we.title,Ae=we.subtitle,Ie;!u&&ee&&(u={}),u?(Ie="",u.rotate&&(Ie+="rotate("+[u.rotate,l.x,l.y]+")"),(u.offset||ee)&&(Ie+=iF(0,(u.offset||0)-(ee||0)))):Ie=null,Se.attr("transform",Ie);function Ve(ze){if(ze){var Ce=ev.select(ze.node().parentNode).select("."+V);if(!Ce.empty()){var Le=ze.node().getBBox();if(Le.height){var Ne=Le.y+Le.height+Z4*I;Ce.attr("y",Ne)}}}}if(Se.style("opacity",v*Lm.opacity(M)).call(km.font,{color:Lm.rgb(M),size:ev.round(_,2),family:y,weight:b,style:E,variant:d,textcase:T,shadow:h,lineposition:g}).attr(l).call(rv.convertToTspans,e,Ve),Ae){var pe=c.select("."+r+"-math-group"),xe=Se.node().getBBox(),Te=pe.node()?pe.node().getBBox():void 0,qe=Te?Te.y+Te.height+Z4*I:xe.y+xe.height+j4*I,er=r0.extendFlat({},l,{y:qe});Ae.attr("transform",Ie),Ae.style("opacity",O*Lm.opacity(q)).call(km.font,{color:Lm.rgb(q),size:ev.round(I,2),family:L,weight:z,style:W,variant:$,textcase:j,shadow:B,lineposition:G}).attr(er).call(rv.convertToTspans,e)}return ihe.previousPromises(e)}function _e(we){var Se=we.title,Ae=ev.select(Se.node().parentNode);if(f&&f.selection&&f.side&&x){Ae.attr("transform",null);var Ie=ohe[f.side],Ve=f.side==="left"||f.side==="top"?-1:1,pe=ahe(f.pad)?f.pad:2,xe=km.bBox(Ae.node()),Te={t:0,b:0,l:0,r:0},qe=e._fullLayout._reservedMargin;for(var er in qe)for(var ze in qe[er]){var Ce=qe[er][ze];Te[ze]=Math.max(Te[ze],Ce)}var Le={left:Te.l,top:Te.t,right:n.width-Te.r,bottom:n.height-Te.b},Ne=f.maxShift||Ve*(Le[f.side]-xe[f.side]),tr=0;if(Ne<0)tr=Ne;else{var ir=f.offsetLeft||0,mr=f.offsetTop||0;xe.left-=ir,xe.right-=ir,xe.top-=mr,xe.bottom-=mr,f.selection.each(function(){var pr=km.bBox(this);r0.bBoxIntersect(xe,pr,pe)&&(tr=Math.max(tr,Ve*(pr[f.side]-xe[Ie])+pe))}),tr=Math.min(Ne,tr),a._titleScoot=Math.abs(tr)}if(tr>0||Ne<0){var Tr={left:[-tr,0],right:[tr,0],top:[0,-tr],bottom:[0,tr]}[f.side];Ae.attr("transform",iF(Tr[0],Tr[1]))}}}H.call(le,re);function me(we,Se){we.text(Se).on("mouseover.opacity",function(){ev.select(this).transition().duration(oF.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){ev.select(this).transition().duration(oF.HIDE_PLACEHOLDER).style("opacity",0)})}if(te&&(x?H.on(".opacity",null):(me(H,i),A=!0),H.call(rv.makeEditable,{gd:e}).on("edit",function(we){s!==void 0?X4.call("_guiRestyle",e,o,we,s):X4.call("_guiRelayout",e,o,we)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(le)}).on("input",function(we){this.text(we||" ").call(rv.positionText,l.x,l.y)}),p)){if(p&&!x){var ve=H.node().getBBox(),be=ve.y+ve.height+j4*I;re.attr("y",be)}D?re.on(".opacity",null):(me(re,C),P=!0),re.call(rv.makeEditable,{gd:e}).on("edit",function(we){X4.call("_guiRelayout",e,"title.subtitle.text",we)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(le)}).on("input",function(we){this.text(we||" ").call(rv.positionText,re.attr("x"),re.attr("y"))})}return H.classed("js-placeholder",A),re&&re.classed("js-placeholder",P),c}lF.exports={draw:she,SUBTITLE_PADDING_EM:j4,SUBTITLE_PADDING_MATHJAX_EM:Z4}});var Bm=ie((JFe,vF)=>{"use strict";var lhe=gn(),fhe=kh().utcFormat,Wn=wr(),uhe=Wn.numberFormat,_l=cn(),bu=Wn.cleanNumber,che=Wn.ms2DateTime,fF=Wn.dateTime2ms,wl=Wn.ensureNumber,uF=Wn.isArrayOrTypedArray,_u=ta(),Rm=_u.FP_SAFE,Ns=_u.BADNUM,hhe=_u.LOG_CLIP,vhe=_u.ONEWEEK,Dm=_u.ONEDAY,Fm=_u.ONEHOUR,cF=_u.ONEMIN,hF=_u.ONESEC,Im=ya(),Nm=Pa(),Pm=Nm.HOUR_PATTERN,Om=Nm.WEEKDAY_PATTERN;function ap(e){return Math.pow(10,e)}function J4(e){return e!=null}vF.exports=function(r,t){t=t||{};var n=r._id||"x",a=n.charAt(0);function o(b,E){if(b>0)return Math.log(b)/Math.LN10;if(b<=0&&E&&r.range&&r.range.length===2){var d=r.range[0],T=r.range[1];return .5*(d+T-2*hhe*Math.abs(d-T))}else return Ns}function i(b,E,d,T){if((T||{}).msUTC&&_l(b))return+b;var g=fF(b,d||r.calendar);if(g===Ns)if(_l(b)){b=+b;var h=Math.floor(Wn.mod(b+.05,1)*10),S=Math.round(b-h/10);g=fF(new Date(S))+h/10}else return Ns;return g}function s(b,E,d){return che(b,E,d||r.calendar)}function f(b){return r._categories[Math.round(b)]}function l(b){if(J4(b)){if(r._categoriesMap===void 0&&(r._categoriesMap={}),r._categoriesMap[b]!==void 0)return r._categoriesMap[b];r._categories.push(typeof b=="number"?String(b):b);var E=r._categories.length-1;return r._categoriesMap[b]=E,E}return Ns}function u(b,E){for(var d=new Array(E),T=0;T<E;T++){var g=(b[0]||[])[T],h=(b[1]||[])[T];d[T]=c([g,h])}return d}function c(b){if(r._categoriesMap)return r._categoriesMap[b]}function v(b){var E=c(b);if(E!==void 0)return E;if(_l(b))return+b}function m(b){return _l(b)?+b:c(b)}function x(b,E,d){return lhe.round(d+E*b,2)}function A(b,E,d){return(b-d)/E}var w=function(E){return _l(E)?x(E,r._m,r._b):Ns},y=function(b){return A(b,r._m,r._b)};if(r.rangebreaks){var _=a==="y";w=function(b){if(!_l(b))return Ns;var E=r._rangebreaks.length;if(!E)return x(b,r._m,r._b);var d=_;r.range[0]>r.range[1]&&(d=!d);for(var T=d?-1:1,g=T*b,h=0,S=0;S<E;S++){var p=T*r._rangebreaks[S].min,C=T*r._rangebreaks[S].max;if(g<p)break;if(g>C)h=S+1;else{h=g<(p+C)/2?S:S+1;break}}var k=r._B[h]||0;return isFinite(k)?x(b,r._m2,k):0},y=function(b){var E=r._rangebreaks.length;if(!E)return A(b,r._m,r._b);for(var d=0,T=0;T<E&&!(b<r._rangebreaks[T].pmin);T++)b>r._rangebreaks[T].pmax&&(d=T+1);return A(b,r._m2,r._B[d])}}r.c2l=r.type==="log"?o:wl,r.l2c=r.type==="log"?ap:wl,r.l2p=w,r.p2l=y,r.c2p=r.type==="log"?function(b,E){return w(o(b,E))}:w,r.p2c=r.type==="log"?function(b){return ap(y(b))}:y,["linear","-"].indexOf(r.type)!==-1?(r.d2r=r.r2d=r.d2c=r.r2c=r.d2l=r.r2l=bu,r.c2d=r.c2r=r.l2d=r.l2r=wl,r.d2p=r.r2p=function(b){return r.l2p(bu(b))},r.p2d=r.p2r=y,r.cleanPos=wl):r.type==="log"?(r.d2r=r.d2l=function(b,E){return o(bu(b),E)},r.r2d=r.r2c=function(b){return ap(bu(b))},r.d2c=r.r2l=bu,r.c2d=r.l2r=wl,r.c2r=o,r.l2d=ap,r.d2p=function(b,E){return r.l2p(r.d2r(b,E))},r.p2d=function(b){return ap(y(b))},r.r2p=function(b){return r.l2p(bu(b))},r.p2r=y,r.cleanPos=wl):r.type==="date"?(r.d2r=r.r2d=Wn.identity,r.d2c=r.r2c=r.d2l=r.r2l=i,r.c2d=r.c2r=r.l2d=r.l2r=s,r.d2p=r.r2p=function(b,E,d){return r.l2p(i(b,0,d))},r.p2d=r.p2r=function(b,E,d){return s(y(b),E,d)},r.cleanPos=function(b){return Wn.cleanDate(b,Ns,r.calendar)}):r.type==="category"?(r.d2c=r.d2l=l,r.r2d=r.c2d=r.l2d=f,r.d2r=r.d2l_noadd=v,r.r2c=function(b){var E=m(b);return E!==void 0?E:r.fraction2r(.5)},r.l2r=r.c2r=wl,r.r2l=m,r.d2p=function(b){return r.l2p(r.r2c(b))},r.p2d=function(b){return f(y(b))},r.r2p=r.d2p,r.p2r=y,r.cleanPos=function(b){return typeof b=="string"&&b!==""?b:wl(b)}):r.type==="multicategory"&&(r.r2d=r.c2d=r.l2d=f,r.d2r=r.d2l_noadd=v,r.r2c=function(b){var E=v(b);return E!==void 0?E:r.fraction2r(.5)},r.r2c_just_indices=c,r.l2r=r.c2r=wl,r.r2l=v,r.d2p=function(b){return r.l2p(r.r2c(b))},r.p2d=function(b){return f(y(b))},r.r2p=r.d2p,r.p2r=y,r.cleanPos=function(b){return Array.isArray(b)||typeof b=="string"&&b!==""?b:wl(b)},r.setupMultiCategory=function(b){var E=r._traceIndices,d,T,g=r._matchGroup;if(g&&r._categories.length===0){for(var h in g)if(h!==n){var S=t[Im.id2name(h)];E=E.concat(S._traceIndices)}}var p=[[0,{}],[0,{}]],C=[];for(d=0;d<E.length;d++){var k=b[E[d]];if(a in k){var D=k[a],P=k._length||Wn.minRowLength(D);if(uF(D[0])&&uF(D[1]))for(T=0;T<P;T++){var O=D[0][T],F=D[1][T];J4(O)&&J4(F)&&(C.push([O,F]),O in p[0][1]||(p[0][1][O]=p[0][0]++),F in p[1][1]||(p[1][1][F]=p[1][0]++))}}}for(C.sort(function(L,I){var q=p[0][1],z=q[L[0]]-q[I[0]];if(z)return z;var W=p[1][1];return W[L[1]]-W[I[1]]}),d=0;d<C.length;d++)l(C[d])}),r.fraction2r=function(b){var E=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return r.l2r(E+b*(d-E))},r.r2fraction=function(b){var E=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return(r.r2l(b)-E)/(d-E)},r.limitRange=function(b){var E=r.minallowed,d=r.maxallowed;if(!(E===void 0&&d===void 0)){b||(b="range");var T=Wn.nestedProperty(r,b).get(),g=Wn.simpleMap(T,r.r2l),h=g[1]<g[0];h&&g.reverse();var S=Wn.simpleMap([E,d],r.r2l);if(E!==void 0&&g[0]<S[0]&&(T[h?1:0]=E),d!==void 0&&g[1]>S[1]&&(T[h?0:1]=d),T[0]===T[1]){var p=r.l2r(E),C=r.l2r(d);if(E!==void 0){var k=p+1;d!==void 0&&(k=Math.min(k,C)),T[h?1:0]=k}if(d!==void 0){var D=C+1;E!==void 0&&(D=Math.max(D,p)),T[h?0:1]=D}}}},r.cleanRange=function(b,E){r._cleanRange(b,E),r.limitRange(b)},r._cleanRange=function(b,E){E||(E={}),b||(b="range");var d=Wn.nestedProperty(r,b).get(),T,g;if(r.type==="date"?g=Wn.dfltRange(r.calendar):a==="y"?g=Nm.DFLTRANGEY:r._name==="realaxis"?g=[0,1]:g=E.dfltRange||Nm.DFLTRANGEX,g=g.slice(),(r.rangemode==="tozero"||r.rangemode==="nonnegative")&&(g[0]=0),!d||d.length!==2){Wn.nestedProperty(r,b).set(g);return}var h=d[0]===null,S=d[1]===null;for(r.type==="date"&&!r.autorange&&(d[0]=Wn.cleanDate(d[0],Ns,r.calendar),d[1]=Wn.cleanDate(d[1],Ns,r.calendar)),T=0;T<2;T++)if(r.type==="date"){if(!Wn.isDateTime(d[T],r.calendar)){r[b]=g;break}if(r.r2l(d[0])===r.r2l(d[1])){var p=Wn.constrain(r.r2l(d[0]),Wn.MIN_MS+1e3,Wn.MAX_MS-1e3);d[0]=r.l2r(p-1e3),d[1]=r.l2r(p+1e3);break}}else{if(!_l(d[T]))if(!(h||S)&&_l(d[1-T]))d[T]=d[1-T]*(T?10:.1);else{r[b]=g;break}if(d[T]<-Rm?d[T]=-Rm:d[T]>Rm&&(d[T]=Rm),d[0]===d[1]){var C=Math.max(1,Math.abs(d[0]*1e-6));d[0]-=C,d[1]+=C}}},r.setScale=function(b){var E=t._size;if(r.overlaying){var d=Im.getFromId({_fullLayout:t},r.overlaying);r.domain=d.domain}var T=b&&r._r?"_r":"range",g=r.calendar;r.cleanRange(T);var h=r.r2l(r[T][0],g),S=r.r2l(r[T][1],g),p=a==="y";if(p?(r._offset=E.t+(1-r.domain[1])*E.h,r._length=E.h*(r.domain[1]-r.domain[0]),r._m=r._length/(h-S),r._b=-r._m*S):(r._offset=E.l+r.domain[0]*E.w,r._length=E.w*(r.domain[1]-r.domain[0]),r._m=r._length/(S-h),r._b=-r._m*h),r._rangebreaks=[],r._lBreaks=0,r._m2=0,r._B=[],r.rangebreaks){var C,k;if(r._rangebreaks=r.locateBreaks(Math.min(h,S),Math.max(h,S)),r._rangebreaks.length){for(C=0;C<r._rangebreaks.length;C++)k=r._rangebreaks[C],r._lBreaks+=Math.abs(k.max-k.min);var D=p;h>S&&(D=!D),D&&r._rangebreaks.reverse();var P=D?-1:1;for(r._m2=P*r._length/(Math.abs(S-h)-r._lBreaks),r._B.push(-r._m2*(p?S:h)),C=0;C<r._rangebreaks.length;C++)k=r._rangebreaks[C],r._B.push(r._B[r._B.length-1]-P*r._m2*(k.max-k.min));for(C=0;C<r._rangebreaks.length;C++)k=r._rangebreaks[C],k.pmin=w(k.min),k.pmax=w(k.max)}}if(!isFinite(r._m)||!isFinite(r._b)||r._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},r.maskBreaks=function(b){var E=r.rangebreaks||[],d,T,g,h,S;E._cachedPatterns||(E._cachedPatterns=E.map(function(q){return q.enabled&&q.bounds?Wn.simpleMap(q.bounds,q.pattern?bu:r.d2c):null})),E._cachedValues||(E._cachedValues=E.map(function(q){return q.enabled&&q.values?Wn.simpleMap(q.values,r.d2c).sort(Wn.sorterAsc):null}));for(var p=0;p<E.length;p++){var C=E[p];if(C.enabled){if(C.bounds){var k=C.pattern;switch(d=E._cachedPatterns[p],T=d[0],g=d[1],k){case Om:S=new Date(b),h=S.getUTCDay(),T>g&&(g+=7,h<T&&(h+=7));break;case Pm:S=new Date(b);var D=S.getUTCHours(),P=S.getUTCMinutes(),O=S.getUTCSeconds(),F=S.getUTCMilliseconds();h=D+(P/60+O/3600+F/36e5),T>g&&(g+=24,h<T&&(h+=24));break;case"":h=b;break}if(h>=T&&h<g)return Ns}else for(var L=E._cachedValues[p],I=0;I<L.length;I++)if(T=L[I],g=T+C.dvalue,b>=T&&b<g)return Ns}}return b},r.locateBreaks=function(b,E){var d,T,g,h,S=[];if(!r.rangebreaks)return S;var p=r.rangebreaks.slice().sort(function(W,$){return W.pattern===Om&&$.pattern===Pm?-1:$.pattern===Om&&W.pattern===Pm?1:0}),C=function(W,$){if(W=Wn.constrain(W,b,E),$=Wn.constrain($,b,E),W!==$){for(var j=!0,G=0;G<S.length;G++){var B=S[G];W<B.max&&$>=B.min&&(W<B.min&&(B.min=W),$>B.max&&(B.max=$),j=!1)}j&&S.push({min:W,max:$})}};for(d=0;d<p.length;d++){var k=p[d];if(k.enabled)if(k.bounds){var D=b,P=E;k.pattern&&(D=Math.floor(D)),T=Wn.simpleMap(k.bounds,k.pattern?bu:r.r2l),g=T[0],h=T[1];var O=new Date(D),F,L;switch(k.pattern){case Om:L=vhe,F=((h<g?7:0)+(h-g))*Dm,D+=g*Dm-(O.getUTCDay()*Dm+O.getUTCHours()*Fm+O.getUTCMinutes()*cF+O.getUTCSeconds()*hF+O.getUTCMilliseconds());break;case Pm:L=Dm,F=((h<g?24:0)+(h-g))*Fm,D+=g*Fm-(O.getUTCHours()*Fm+O.getUTCMinutes()*cF+O.getUTCSeconds()*hF+O.getUTCMilliseconds());break;default:D=Math.min(T[0],T[1]),P=Math.max(T[0],T[1]),L=P-D,F=L}for(var I=D;I<P;I+=L)C(I,I+F)}else for(var q=Wn.simpleMap(k.values,r.d2c),z=0;z<q.length;z++)g=q[z],h=g+k.dvalue,C(g,h)}return S.sort(function(W,$){return W.min-$.min}),S},r.makeCalcdata=function(b,E,d){var T,g,h,S,p=r.type,C=p==="date"&&b[E+"calendar"];if(E in b){if(T=b[E],S=b._length||Wn.minRowLength(T),Wn.isTypedArray(T)&&(p==="linear"||p==="log")){if(S===T.length)return T;if(T.subarray)return T.subarray(0,S)}if(p==="multicategory")return u(T,S);for(g=new Array(S),h=0;h<S;h++)g[h]=r.d2c(T[h],0,C,d)}else{var k=E+"0"in b?r.d2c(b[E+"0"],0,C):0,D=b["d"+E]?Number(b["d"+E]):1;for(T=b[{x:"y",y:"x"}[E]],S=b._length||T.length,g=new Array(S),h=0;h<S;h++)g[h]=k+h*D}if(r.rangebreaks)for(h=0;h<S;h++)g[h]=r.maskBreaks(g[h]);return g},r.isValidRange=function(b,E){return Array.isArray(b)&&b.length===2&&(E&&b[0]===null||_l(r.r2l(b[0])))&&(E&&b[1]===null||_l(r.r2l(b[1])))},r.getAutorangeDflt=function(b,E){var d=!r.isValidRange(b,"nullOk");return d&&E&&E.reverseDflt?d="reversed":b&&(b[0]===null&&b[1]===null?d=!0:b[0]===null&&b[1]!==null?d="min":b[0]!==null&&b[1]===null&&(d="max")),d},r.isReversed=function(){var b=r.autorange;return b==="reversed"||b==="min reversed"||b==="max reversed"},r.isPtWithinRange=function(b,E){var d=r.c2l(b[a],null,E),T=r.r2l(r.range[0]),g=r.r2l(r.range[1]);return T<g?T<=d&&d<=g:g<=d&&d<=T},r._emptyCategories=function(){r._categories=[],r._categoriesMap={}},r.clearCalc=function(){var b=r._matchGroup;if(b){var E=null,d=null;for(var T in b){var g=t[Im.id2name(T)];if(g._categories){E=g._categories,d=g._categoriesMap;break}}E&&d?(r._categories=E,r._categoriesMap=d):r._emptyCategories()}else r._emptyCategories();if(r._initialCategories)for(var h=0;h<r._initialCategories.length;h++)l(r._initialCategories[h])},r.sortByInitialCategories=function(){var b=[];if(r._emptyCategories(),r._initialCategories)for(var E=0;E<r._initialCategories.length;E++)l(r._initialCategories[E]);b=b.concat(r._traceIndices);var d=r._matchGroup;for(var T in d)if(n!==T){var g=t[Im.id2name(T)];g._categories=r._categories,g._categoriesMap=r._categoriesMap,b=b.concat(g._traceIndices)}return b};var M=t._d3locale;r.type==="date"&&(r._dateFormat=M?M.timeFormat:fhe,r._extraFormat=t._extraFormat),r._separators=t.separators,r._numFormat=M?M.numberFormat:uhe,delete r._minDtick,delete r._forceTick0}});var K4=ie(($Fe,yF)=>{"use strict";var dF=cn(),$4=wr(),dhe=ta().BADNUM,qm=$4.isArrayOrTypedArray,phe=$4.isDateTime,ghe=$4.cleanNumber,pF=Math.round;yF.exports=function(r,t,n){var a=r,o=n.noMultiCategory;if(qm(a)&&!a.length)return"-";if(!o&&_he(a))return"multicategory";if(o&&Array.isArray(a[0])){for(var i=[],s=0;s<a.length;s++)if(qm(a[s]))for(var f=0;f<a[s].length;f++)i.push(a[s][f]);a=i}if(xhe(a,t))return"date";var l=n.autotypenumbers!=="strict";return bhe(a,l)?"category":mhe(a,l)?"linear":"-"};function yhe(e,r){return r?dF(e):typeof e=="number"}function mhe(e,r){for(var t=e.length,n=0;n<t;n++)if(yhe(e[n],r))return!0;return!1}function xhe(e,r){for(var t=e.length,n=gF(t),a=0,o=0,i={},s=0;s<t;s+=n){var f=pF(s),l=e[f],u=String(l);i[u]||(i[u]=1,phe(l,r)&&a++,dF(l)&&o++)}return a>o*2}function gF(e){return Math.max(1,(e-1)/1e3)}function bhe(e,r){for(var t=e.length,n=gF(t),a=0,o=0,i={},s=0;s<t;s+=n){var f=pF(s),l=e[f],u=String(l);if(!i[u]){i[u]=1;var c=typeof l;c==="boolean"?o++:(r?ghe(l)!==dhe:c==="number")?a++:c==="string"&&o++}}return o>a*2}function _he(e){return qm(e[0])&&qm(e[1])}});var Au=ie((KFe,MF)=>{"use strict";var whe=gn(),_F=cn(),wu=wr(),zm=ta().FP_SAFE,Ahe=Dt(),The=zn(),wF=ya(),Mhe=wF.getFromId,Ehe=wF.isLinked;MF.exports={applyAutorangeOptions:TF,getAutoRange:Q4,makePadFn:e6,doAutoRange:Che,findExtremes:khe,concatExtremes:n6};function Q4(e,r){var t,n,a=[],o=e._fullLayout,i=e6(o,r,0),s=e6(o,r,1),f=n6(e,r),l=f.min,u=f.max;if(l.length===0||u.length===0)return wu.simpleMap(r.range,r.r2l);var c=l[0].val,v=u[0].val;for(t=1;t<l.length&&c===v;t++)c=Math.min(c,l[t].val);for(t=1;t<u.length&&c===v;t++)v=Math.max(v,u[t].val);var m=r.autorange,x=m==="reversed"||m==="min reversed"||m==="max reversed";if(!x&&r.range){var A=wu.simpleMap(r.range,r.r2l);x=A[1]<A[0]}r.autorange==="reversed"&&(r.autorange=!0);var w=r.rangemode,y=w==="tozero",_=w==="nonnegative",M=r._length,b=M/10,E=0,d,T,g,h,S,p;for(t=0;t<l.length;t++)for(d=l[t],n=0;n<u.length;n++)T=u[n],p=T.val-d.val-mF(r,d.val,T.val),p>0&&(S=M-i(d)-s(T),S>b?p/S>E&&(g=d,h=T,E=p/S):p/M>E&&(g={val:d.val,nopad:1},h={val:T.val,nopad:1},E=p/M));function C(F,L){return Math.max(F,s(L))}if(c===v){var k=c-1,D=c+1;if(y)if(c===0)a=[0,1];else{var P=(c>0?u:l).reduce(C,0),O=c/(1-Math.min(.5,P/M));a=c>0?[0,O]:[O,0]}else _?a=[Math.max(0,k),Math.max(1,D)]:a=[k,D]}else y?(g.val>=0&&(g={val:0,nopad:1}),h.val<=0&&(h={val:0,nopad:1})):_&&(g.val-E*i(g)<0&&(g={val:0,nopad:1}),h.val<=0&&(h={val:1,nopad:1})),E=(h.val-g.val-mF(r,d.val,T.val))/(M-i(g)-s(h)),a=[g.val-E*i(g),h.val+E*s(h)];return a=TF(a,r),r.limitRange&&r.limitRange(),x&&a.reverse(),wu.simpleMap(a,r.l2r||Number)}function mF(e,r,t){var n=0;if(e.rangebreaks)for(var a=e.locateBreaks(r,t),o=0;o<a.length;o++){var i=a[o];n+=i.max-i.min}return n}function e6(e,r,t){var n=.05*r._length,a=r._anchorAxis||{};if((r.ticklabelposition||"").indexOf("inside")!==-1||(a.ticklabelposition||"").indexOf("inside")!==-1){var o=r.isReversed();if(!o){var i=wu.simpleMap(r.range,r.r2l);o=i[1]<i[0]}o&&(t=!t)}var s=0;return Ehe(e,r._id)||(s=She(e,r,t)),n=Math.max(s,n),r.constrain==="domain"&&r._inputDomain&&(n*=(r._inputDomain[1]-r._inputDomain[0])/(r.domain[1]-r.domain[0])),function(l){return l.nopad?0:l.pad+(l.extrapad?n:s)}}var xF=3;function She(e,r,t){var n=0,a=r._id.charAt(0)==="x";for(var o in e._plots){var i=e._plots[o];if(!(r._id!==i.xaxis._id&&r._id!==i.yaxis._id)){var s=(a?i.yaxis:i.xaxis)||{};if((s.ticklabelposition||"").indexOf("inside")!==-1&&(!t&&(s.side==="left"||s.side==="bottom")||t&&(s.side==="top"||s.side==="right"))){if(s._vals){var f=wu.deg2rad(s._tickAngles[s._id+"tick"]||0),l=Math.abs(Math.cos(f)),u=Math.abs(Math.sin(f));if(!s._vals[0].bb){var c=s._id+"tick",v=s._selections[c];v.each(function(_){var M=whe.select(this),b=M.select(".text-math-group");b.empty()&&(_.bb=The.bBox(M.node()))})}for(var m=0;m<s._vals.length;m++){var x=s._vals[m],A=x.bb;if(A){var w=2*xF+A.width,y=2*xF+A.height;n=Math.max(n,a?Math.max(w*l,y*u):Math.max(y*l,w*u))}}}s.ticks==="inside"&&s.ticklabelposition==="inside"&&(n+=s.ticklen||0)}}}return n}function n6(e,r,t){var n=r._id,a=e._fullData,o=e._fullLayout,i=[],s=[],f,l,u;function c(w,y){for(f=0;f<y.length;f++){var _=w[y[f]],M=(_._extremes||{})[n];if(_.visible===!0&&M){for(l=0;l<M.min.length;l++)u=M.min[l],r6(i,u.val,u.pad,{extrapad:u.extrapad});for(l=0;l<M.max.length;l++)u=M.max[l],t6(s,u.val,u.pad,{extrapad:u.extrapad})}}}if(c(a,r._traceIndices),c(o.annotations||[],r._annIndices||[]),c(o.shapes||[],r._shapeIndices||[]),r._matchGroup&&!t){for(var v in r._matchGroup)if(v!==r._id){var m=Mhe(e,v),x=n6(e,m,!0),A=r._length/m._length;for(l=0;l<x.min.length;l++)u=x.min[l],r6(i,u.val,u.pad*A,{extrapad:u.extrapad});for(l=0;l<x.max.length;l++)u=x.max[l],t6(s,u.val,u.pad*A,{extrapad:u.extrapad})}}return{min:i,max:s}}function Che(e,r,t){if(r.setScale(),r.autorange){r.range=t?t.slice():Q4(e,r),r._r=r.range.slice(),r._rl=wu.simpleMap(r._r,r.r2l);var n=r._input,a={};a[r._attr+".range"]=r.range,a[r._attr+".autorange"]=r.autorange,Ahe.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,a),n.range=r.range.slice(),n.autorange=r.autorange}var o=r._anchorAxis;if(o&&o.rangeslider){var i=o.rangeslider[r._name];i&&i.rangemode==="auto"&&(i.range=Q4(e,r)),o._input.rangeslider[r._name]=wu.extendFlat({},i)}}function khe(e,r,t){t||(t={}),e._m||e.setScale();var n=[],a=[],o=r.length,i=t.padded||!1,s=t.tozero&&(e.type==="linear"||e.type==="-"),f=e.type==="log",l=!1,u=t.vpadLinearized||!1,c,v,m,x,A,w,y,_,M;function b(C){if(Array.isArray(C))return l=!0,function(D){return Math.max(Number(C[D]||0),0)};var k=Math.max(Number(C||0),0);return function(){return k}}var E=b((e._m>0?t.ppadplus:t.ppadminus)||t.ppad||0),d=b((e._m>0?t.ppadminus:t.ppadplus)||t.ppad||0),T=b(t.vpadplus||t.vpad),g=b(t.vpadminus||t.vpad);if(!l){if(_=1/0,M=-1/0,f)for(c=0;c<o;c++)v=r[c],v<_&&v>0&&(_=v),v>M&&v<zm&&(M=v);else for(c=0;c<o;c++)v=r[c],v<_&&v>-zm&&(_=v),v>M&&v<zm&&(M=v);r=[_,M],o=2}var h={tozero:s,extrapad:i};function S(C){m=r[C],_F(m)&&(w=E(C),y=d(C),u?(x=e.c2l(m)-g(C),A=e.c2l(m)+T(C)):(_=m-g(C),M=m+T(C),f&&_<M/10&&(_=M/10),x=e.c2l(_),A=e.c2l(M)),s&&(x=Math.min(0,x),A=Math.max(0,A)),bF(x)&&r6(n,x,y,h),bF(A)&&t6(a,A,w,h))}var p=Math.min(6,o);for(c=0;c<p;c++)S(c);for(c=o-1;c>=p;c--)S(c);return{min:n,max:a,opts:t}}function r6(e,r,t,n){AF(e,r,t,n,Lhe)}function t6(e,r,t,n){AF(e,r,t,n,Rhe)}function AF(e,r,t,n,a){for(var o=n.tozero,i=n.extrapad,s=!0,f=0;f<e.length&&s;f++){var l=e[f];if(a(l.val,r)&&l.pad>=t&&(l.extrapad||!i)){s=!1;break}else a(r,l.val)&&l.pad<=t&&(i||!l.extrapad)&&(e.splice(f,1),f--)}if(s){var u=o&&r===0;e.push({val:r,pad:u?0:t,extrapad:u?!1:i})}}function bF(e){return _F(e)&&Math.abs(e)<zm}function Lhe(e,r){return e<=r}function Rhe(e,r){return e>=r}function Dhe(e,r){var t=r.autorangeoptions;return t&&t.minallowed!==void 0&&Um(r,t.minallowed,t.maxallowed)?t.minallowed:t&&t.clipmin!==void 0&&Um(r,t.clipmin,t.clipmax)?Math.max(e,r.d2l(t.clipmin)):e}function Fhe(e,r){var t=r.autorangeoptions;return t&&t.maxallowed!==void 0&&Um(r,t.minallowed,t.maxallowed)?t.maxallowed:t&&t.clipmax!==void 0&&Um(r,t.clipmin,t.clipmax)?Math.min(e,r.d2l(t.clipmax)):e}function Um(e,r,t){return r!==void 0&&t!==void 0?(r=e.d2l(r),t=e.d2l(t),r<t):!0}function TF(e,r){if(!r||!r.autorangeoptions)return e;var t=e[0],n=e[1],a=r.autorangeoptions.include;if(a!==void 0){var o=r.d2l(t),i=r.d2l(n);wu.isArrayOrTypedArray(a)||(a=[a]);for(var s=0;s<a.length;s++){var f=r.d2l(a[s]);o>=f&&(o=f,t=f),i<=f&&(i=f,n=f)}}return t=Dhe(t,r),n=Fhe(n,r),[t,n]}});var Rn=ie((QFe,XF)=>{"use strict";var os=gn(),Na=cn(),tv=Za(),op=Dt(),zt=wr(),nv=zt.strTranslate,t0=Ni(),Ihe=np(),sp=pn(),zo=zn(),Phe=is(),EF=_4(),xi=ta(),Ohe=xi.ONEMAXYEAR,Vm=xi.ONEAVGYEAR,Ym=xi.ONEMINYEAR,Nhe=xi.ONEMAXQUARTER,s6=xi.ONEAVGQUARTER,Wm=xi.ONEMINQUARTER,Bhe=xi.ONEMAXMONTH,av=xi.ONEAVGMONTH,Xm=xi.ONEMINMONTH,Uo=xi.ONEWEEK,Bi=xi.ONEDAY,Tu=Bi/2,Tl=xi.ONEHOUR,lp=xi.ONEMIN,Zm=xi.ONESEC,qhe=xi.ONEMILLI,zhe=xi.ONEMICROSEC,n0=xi.MINUS_SIGN,$m=xi.BADNUM,l6={K:"zeroline"},f6={K:"gridline",L:"path"},u6={K:"minor-gridline",L:"path"},NF={K:"tick",L:"path"},SF={K:"tick",L:"text"},CF={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Km=Oi(),ip=Km.MID_SHIFT,a0=Km.CAP_SHIFT,fp=Km.LINE_SPACING,Uhe=Km.OPPOSITE_SIDE,jm=3,Ir=XF.exports={};Ir.setConvert=Bm();var Ghe=K4(),vf=ya(),Hhe=vf.idSort,Vhe=vf.isLinked;Ir.id2name=vf.id2name;Ir.name2id=vf.name2id;Ir.cleanId=vf.cleanId;Ir.list=vf.list;Ir.listIds=vf.listIds;Ir.getFromId=vf.getFromId;Ir.getFromTrace=vf.getFromTrace;var BF=Au();Ir.getAutoRange=BF.getAutoRange;Ir.findExtremes=BF.findExtremes;var Yhe=1e-4;function d6(e){var r=(e[1]-e[0])*Yhe;return[e[0]-r,e[1]+r]}Ir.coerceRef=function(e,r,t,n,a,o){var i=n.charAt(n.length-1),s=t._fullLayout._subplots[i+"axis"],f=n+"ref",l={};return a||(a=s[0]||(typeof o=="string"?o:o[0])),o||(o=a),s=s.concat(s.map(function(u){return u+" domain"})),l[f]={valType:"enumerated",values:s.concat(o?typeof o=="string"?[o]:o:[]),dflt:a},zt.coerce(e,r,l,f)};Ir.getRefType=function(e){return e===void 0?e:e==="paper"?"paper":e==="pixel"?"pixel":/( domain)$/.test(e)?"domain":"range"};Ir.coercePosition=function(e,r,t,n,a,o){var i,s,f=Ir.getRefType(n);if(f!=="range")i=zt.ensureNumber,s=t(a,o);else{var l=Ir.getFromId(r,n);o=l.fraction2r(o),s=t(a,o),i=l.cleanPos}e[a]=i(s)};Ir.cleanPosition=function(e,r,t){var n=t==="paper"||t==="pixel"?zt.ensureNumber:Ir.getFromId(r,t).cleanPos;return n(e)};Ir.redrawComponents=function(e,r){r=r||Ir.listIds(e);var t=e._fullLayout;function n(a,o,i,s){for(var f=op.getComponentMethod(a,o),l={},u=0;u<r.length;u++)for(var c=t[Ir.id2name(r[u])],v=c[i],m=0;m<v.length;m++){var x=v[m];if(!l[x]&&(f(e,x),l[x]=1,s))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var Whe=Ir.getDataConversions=function(e,r,t,n){var a,o=t==="x"||t==="y"||t==="z"?t:n;if(zt.isArrayOrTypedArray(o)){if(a={type:Ghe(n,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},Ir.setConvert(a),a.type==="category")for(var i=0;i<n.length;i++)a.d2c(n[i])}else a=Ir.getFromTrace(e,r,o);return a?{d2c:a.d2c,c2d:a.c2d}:o==="ids"?{d2c:LF,c2d:LF}:{d2c:kF,c2d:kF}};function kF(e){return+e}function LF(e){return String(e)}Ir.getDataToCoordFunc=function(e,r,t,n){return Whe(e,r,t,n).d2c};Ir.counterLetter=function(e){var r=e.charAt(0);if(r==="x")return"y";if(r==="y")return"x"};Ir.minDtick=function(e,r,t,n){["log","category","multicategory"].indexOf(e.type)!==-1||!n?e._minDtick=0:e._minDtick===void 0?(e._minDtick=r,e._forceTick0=t):e._minDtick&&((e._minDtick/r+1e-6)%1<2e-6&&((t-e._forceTick0)/r%1+1.000001)%1<2e-6?(e._minDtick=r,e._forceTick0=t):((r/e._minDtick+1e-6)%1>2e-6||((t-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))};Ir.saveRangeInitial=function(e,r){for(var t=Ir.list(e,"",!0),n=!1,a=0;a<t.length;a++){var o=t[a],i=o._rangeInitial0===void 0&&o._rangeInitial1===void 0,s=i||o.range[0]!==o._rangeInitial0||o.range[1]!==o._rangeInitial1,f=o.autorange;(i&&f!==!0||r&&s)&&(o._rangeInitial0=f==="min"||f==="max reversed"?void 0:o.range[0],o._rangeInitial1=f==="max"||f==="min reversed"?void 0:o.range[1],o._autorangeInitial=f,n=!0)}return n};Ir.saveShowSpikeInitial=function(e,r){for(var t=Ir.list(e,"",!0),n=!1,a="on",o=0;o<t.length;o++){var i=t[o],s=i._showSpikeInitial===void 0,f=s||i.showspikes!==i._showspikes;(s||r&&f)&&(i._showSpikeInitial=i.showspikes,n=!0),a==="on"&&!i.showspikes&&(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,n};Ir.autoBin=function(e,r,t,n,a,o){var i=zt.aggNums(Math.min,null,e),s=zt.aggNums(Math.max,null,e);if(r.type==="category"||r.type==="multicategory")return{start:i-.5,end:s+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:s-i};a||(a=r.calendar);var f;if(r.type==="log"?f={type:"linear",range:[i,s]}:f={type:r.type,range:zt.simpleMap([i,s],r.c2r,0,a),calendar:a},Ir.setConvert(f),o=o&&EF.dtick(o,f.type),o)f.dtick=o,f.tick0=EF.tick0(void 0,f.type,a);else{var l;if(t)l=(s-i)/t;else{var u=zt.distinctVals(e),c=Math.pow(10,Math.floor(Math.log(u.minDiff)/Math.LN10)),v=c*zt.roundUp(u.minDiff/c,[.9,1.9,4.9,9.9],!0);l=Math.max(v,2*zt.stdev(e)/Math.pow(e.length,n?.25:.4)),Na(l)||(l=1)}Ir.autoTicks(f,l)}var m=f.dtick,x=Ir.tickIncrement(Ir.tickFirst(f),m,"reverse",a),A,w;if(typeof m=="number")x=Xhe(x,e,f,i,s),w=1+Math.floor((s-x)/m),A=x+w*m;else for(f.dtick.charAt(0)==="M"&&(x=Zhe(x,e,m,i,a)),A=x,w=0;A<=s;)A=Ir.tickIncrement(A,m,!1,a),w++;return{start:r.c2r(x,0,a),end:r.c2r(A,0,a),size:m,_dataSpan:s-i}};function Xhe(e,r,t,n,a){var o=0,i=0,s=0,f=0;function l(m){return(1+(m-e)*100/t.dtick)%100<2}for(var u=0;u<r.length;u++)r[u]%1===0?s++:Na(r[u])||f++,l(r[u])&&o++,l(r[u]+t.dtick/2)&&i++;var c=r.length-f;if(s===c&&t.type!=="date")t.dtick<1?e=n-.5*t.dtick:(e-=.5,e+t.dtick<n&&(e+=t.dtick));else if(i<c*.1&&(o>c*.3||l(n)||l(a))){var v=t.dtick/2;e+=e+v<n?v:-v}return e}function Zhe(e,r,t,n,a){var o=zt.findExactDates(r,a),i=.8;if(o.exactDays>i){var s=Number(t.substr(1));o.exactYears>i&&s%12===0?e=Ir.tickIncrement(e,"M6","reverse")+Bi*1.5:o.exactMonths>i?e=Ir.tickIncrement(e,"M1","reverse")+Bi*15.5:e-=Tu;var f=Ir.tickIncrement(e,t);if(f<=n)return f}return e}Ir.prepMinorTicks=function(e,r,t){if(!r.minor.dtick){delete e.dtick;var n=r.dtick&&Na(r._tmin),a;if(n){var o=Ir.tickIncrement(r._tmin,r.dtick,!0);a=[r._tmin,o*.99+r._tmin*.01]}else{var i=zt.simpleMap(r.range,r.r2l);a=[i[0],.8*i[0]+.2*i[1]]}if(e.range=zt.simpleMap(a,r.l2r),e._isMinor=!0,Ir.prepTicks(e,t),n){var s=Na(r.dtick),f=Na(e.dtick),l=s?r.dtick:+r.dtick.substring(1),u=f?e.dtick:+e.dtick.substring(1);s&&f?a6(l,u)?l===2*Uo&&u===2*Bi&&(e.dtick=Uo):l===2*Uo&&u===3*Bi?e.dtick=Uo:l===Uo&&!(r._input.minor||{}).nticks?e.dtick=Bi:RF(l/u,2.5)?e.dtick=l/2:e.dtick=l:String(r.dtick).charAt(0)==="M"?f?e.dtick="M1":a6(l,u)?l>=12&&u===2&&(e.dtick="M3"):e.dtick=r.dtick:String(e.dtick).charAt(0)==="L"?String(r.dtick).charAt(0)==="L"?a6(l,u)||(e.dtick=RF(l/u,2.5)?r.dtick/2:r.dtick):e.dtick="D1":e.dtick==="D2"&&+r.dtick>1&&(e.dtick=1)}e.range=r.range}r.minor._tick0Init===void 0&&(e.tick0=r.tick0)};function a6(e,r){return Math.abs((e/r+.5)%1-.5)<.001}function RF(e,r){return Math.abs(e/r-1)<.001}Ir.prepTicks=function(e,r){var t=zt.simpleMap(e.range,e.r2l,void 0,void 0,r);if(e.tickmode==="auto"||!e.dtick){var n=e.nticks,a;n||(e.type==="category"||e.type==="multicategory"?(a=e.tickfont?zt.bigFont(e.tickfont.size||12):15,n=e._length/a):(a=e._id.charAt(0)==="y"?40:80,n=zt.constrain(e._length/a,4,9)+1),e._name==="radialaxis"&&(n*=2)),e.minor&&e.minor.tickmode!=="array"||e.tickmode==="array"&&(n*=100),e._roughDTick=Math.abs(t[1]-t[0])/n,Ir.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode==="period"&&jhe(e),e.tick0||(e.tick0=e.type==="date"?"2000-01-01":0),e.type==="date"&&e.dtick<.1&&(e.dtick=.1),GF(e)};function i6(e){return+e.substring(1)}function jhe(e){var r;function t(){return!(Na(e.dtick)||e.dtick.charAt(0)!=="M")}var n=t(),a=Ir.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(r=Tl,o&&!n&&e.dtick<Tl&&(e.dtick=Tl)):/%p/.test(a)?(r=Tu,o&&!n&&e.dtick<Tu&&(e.dtick=Tu)):/%[Aadejuwx]/.test(a)?(r=Bi,o&&!n&&e.dtick<Bi&&(e.dtick=Bi)):/%[UVW]/.test(a)?(r=Uo,o&&!n&&e.dtick<Uo&&(e.dtick=Uo)):/%[Bbm]/.test(a)?(r=av,o&&(n?i6(e.dtick)<1:e.dtick<Xm)&&(e.dtick="M1")):/%[q]/.test(a)?(r=s6,o&&(n?i6(e.dtick)<3:e.dtick<Wm)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(r=Vm,o&&(n?i6(e.dtick)<12:e.dtick<Ym)&&(e.dtick="M12")))}n=t(),n&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=r}function Jhe(e,r,t){for(var n=0;n<e.length;n++){var a=e[n].value,o=n,i=n+1;n<e.length-1?(o=n,i=n+1):n>0?(o=n-1,i=n):(o=n,i=n);var s=e[o].value,f=e[i].value,l=Math.abs(f-s),u=t||l,c=0;u>=Ym?l>=Ym&&l<=Ohe?c=l:c=Vm:t===s6&&u>=Wm?l>=Wm&&l<=Nhe?c=l:c=s6:u>=Xm?l>=Xm&&l<=Bhe?c=l:c=av:t===Uo&&u>=Uo?c=Uo:u>=Bi?c=Bi:t===Tu&&u>=Tu?c=Tu:t===Tl&&u>=Tl&&(c=Tl);var v;c>=l&&(c=l,v=!0);var m=a+c;if(r.rangebreaks&&c>0){for(var x=84,A=0,w=0;w<x;w++){var y=(w+.5)/x;r.maskBreaks(a*(1-y)+y*m)!==$m&&A++}c*=A/x,c||(e[n].drop=!0),v&&l>Uo&&(c=l)}(c>0||n===0)&&(e[n].periodX=a+c/2)}}Ir.calcTicks=function(r,t){for(var n=r.type,a=r.calendar,o=r.ticklabelstep,i=r.ticklabelmode==="period",s=r.range[0]>r.range[1],f=!r.ticklabelindex||zt.isArrayOrTypedArray(r.ticklabelindex)?r.ticklabelindex:[r.ticklabelindex],l=zt.simpleMap(r.range,r.r2l,void 0,void 0,t),u=l[1]<l[0],c=Math.min(l[0],l[1]),v=Math.max(l[0],l[1]),m=Math.max(1e3,r._length||0),x=[],A=[],w=[],y=[],_=[],M=r.minor&&(r.minor.ticks||r.minor.showgrid),b=1;b>=(M?0:1);b--){var E=!b;b?(r._dtickInit=r.dtick,r._tick0Init=r.tick0):(r.minor._dtickInit=r.minor.dtick,r.minor._tick0Init=r.minor.tick0);var d=b?r:zt.extendFlat({},r,r.minor);if(E?Ir.prepMinorTicks(d,r,t):Ir.prepTicks(d,t),d.tickmode==="array"){b?(w=[],x=DF(r,!E)):(y=[],A=DF(r,!E));continue}if(d.tickmode==="sync"){w=[],x=$he(r);continue}var T=d6(l),g=T[0],h=T[1],S=Na(d.dtick),p=n==="log"&&!(S||d.dtick.charAt(0)==="L"),C=Ir.tickFirst(d,t);if(b){if(r._tmin=C,C<g!==u)break;(n==="category"||n==="multicategory")&&(h=u?Math.max(-.5,h):Math.min(r._categories.length-.5,h))}var k=null,D=C,P;if(b){var O;S?O=r.dtick:n==="date"?typeof r.dtick=="string"&&r.dtick.charAt(0)==="M"&&(O=av*r.dtick.substring(1)):O=r._roughDTick,P=Math.round((r.r2l(D)-r.r2l(r.tick0))/O)-1}var F=d.dtick;for(d.rangebreaks&&d._tick0Init!==d.tick0&&(D=o6(D,r),u||(D=Ir.tickIncrement(D,F,!u,a))),b&&i&&(D=Ir.tickIncrement(D,F,!u,a),P--);u?D>=h:D<=h;D=Ir.tickIncrement(D,F,u,a)){if(b&&P++,d.rangebreaks&&!u){if(D<g)continue;if(d.maskBreaks(D)===$m&&o6(D,d)>=v)break}if(w.length>m||D===k)break;k=D;var L={value:D};b?(p&&D!==(D|0)&&(L.simpleLabel=!0),o>1&&P%o&&(L.skipLabel=!0),w.push(L)):(L.minor=!0,y.push(L))}}if(!y||y.length<2)f=!1;else{var I=(y[1].value-y[0].value)*(s?-1:1);_ve(I,r.tickformat)||(f=!1)}if(!f)_=w;else{var q=w.concat(y);i&&w.length&&(q=q.slice(1)),q=q.sort(function(be,we){return be.value-we.value}).filter(function(be,we,Se){return we===0||be.value!==Se[we-1].value});var z=q.map(function(be,we){return be.minor===void 0&&!be.skipLabel?we:null}).filter(function(be){return be!==null});z.forEach(function(be){f.map(function(we){var Se=be+we;Se>=0&&Se<q.length&&zt.pushUnique(_,q[Se])})})}if(M){var W=r.minor.ticks==="inside"&&r.ticks==="outside"||r.minor.ticks==="outside"&&r.ticks==="inside";if(!W){for(var $=w.map(function(be){return be.value}),j=[],G=0;G<y.length;G++){var B=y[G],X=B.value;if($.indexOf(X)===-1){for(var te=!1,J=0;!te&&J<w.length;J++)1e7+w[J].value===1e7+X&&(te=!0);te||j.push(B)}}y=j}}i&&Jhe(_,r,r._definedDelta);var ae;if(r.rangebreaks){var ee=r._id.charAt(0)==="y",H=1;r.tickmode==="auto"&&(H=r.tickfont?r.tickfont.size:12);var re=NaN;for(ae=w.length-1;ae>-1;ae--){if(w[ae].drop){w.splice(ae,1);continue}w[ae].value=o6(w[ae].value,r);var V=r.c2p(w[ae].value);(ee?re>V-H:re<V+H)?w.splice(u?ae+1:ae,1):re=V}}y6(r)&&Math.abs(l[1]-l[0])===360&&w.pop(),r._tmax=(w[w.length-1]||{}).value,r._prevDateHead="",r._inCalcTicks=!0;var ne,le=function(be){be.text="",r._prevDateHead=ne};w=w.concat(y);function de(be,we){var Se=Ir.tickText(be,we.value,!1,we.simpleLabel),Ae=we.periodX;return Ae!==void 0&&(Se.periodX=Ae,(Ae>v||Ae<c)&&(Ae>v&&(Se.periodX=v),Ae<c&&(Se.periodX=c),le(Se))),Se}var _e;for(ae=0;ae<w.length;ae++){var me=w[ae].minor,ve=w[ae].value;me?(f&&_.indexOf(w[ae])!==-1?_e=de(r,w[ae]):_e={x:ve},_e.minor=!0,A.push(_e)):(ne=r._prevDateHead,_e=de(r,w[ae]),(w[ae].skipLabel||f&&_.indexOf(w[ae])===-1)&&le(_e),x.push(_e))}return x=x.concat(A),r._inCalcTicks=!1,i&&x.length&&(x[0].noTick=!0),x};function qF(e,r){return e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==$m})),r}function $he(e){var r=e._mainAxis,t=[];if(r._vals){for(var n=0;n<r._vals.length;n++)if(!r._vals[n].noTick){var a=r.l2p(r._vals[n].x),o=e.p2l(a),i=Ir.tickText(e,o);r._vals[n].minor&&(i.minor=!0,i.text=""),t.push(i)}}return t=qF(e,t),t}function DF(e,r){var t=zt.simpleMap(e.range,e.r2l),n=d6(t),a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),i=e.type==="category"?e.d2l_noadd:e.d2l;e.type==="log"&&String(e.dtick).charAt(0)!=="L"&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var s=[],f=0;f<=1;f++)if(!(r!==void 0&&(r&&f||r===!1&&!f))&&!(f&&!e.minor)){var l=f?e.minor.tickvals:e.tickvals,u=f?[]:e.ticktext;if(l){zt.isArrayOrTypedArray(u)||(u=[]);for(var c=0;c<l.length;c++){var v=i(l[c]);if(v>a&&v<o){var m=Ir.tickText(e,v,!1,String(u[c]));f&&(m.minor=!0,m.text=""),s.push(m)}}}}return s=qF(e,s),s}var Gm=[2,5,10],FF=[1,2,3,6,12],IF=[1,2,5,10,15,30],Khe=[1,2,3,7,14],zF=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],UF=[-.301,0,.301,.699,1],Qhe=[15,30,45,90,180];function Al(e,r,t){return r*zt.roundUp(e/r,t)}Ir.autoTicks=function(e,r,t){var n;function a(c){return Math.pow(c,Math.floor(Math.log(r)/Math.LN10))}if(e.type==="date"){e.tick0=zt.dateTick0(e.calendar,0);var o=2*r;if(o>Vm)r/=Vm,n=a(10),e.dtick="M"+12*Al(r,n,Gm);else if(o>av)r/=av,e.dtick="M"+Al(r,1,FF);else if(o>Bi){if(e.dtick=Al(r,Bi,e._hasDayOfWeekBreaks?[1,2,7,14]:Khe),!t){var i=Ir.getTickFormat(e),s=e.ticklabelmode==="period";s&&(e._rawTick0=e.tick0),/%[uVW]/.test(i)?e.tick0=zt.dateTick0(e.calendar,2):e.tick0=zt.dateTick0(e.calendar,1),s&&(e._dowTick0=e.tick0)}}else o>Tl?e.dtick=Al(r,Tl,FF):o>lp?e.dtick=Al(r,lp,IF):o>Zm?e.dtick=Al(r,Zm,IF):(n=a(10),e.dtick=Al(r,n,Gm))}else if(e.type==="log"){e.tick0=0;var f=zt.simpleMap(e.range,e.r2l);if(e._isMinor&&(r*=1.5),r>.7)e.dtick=Math.ceil(r);else if(Math.abs(f[1]-f[0])<1){var l=1.5*Math.abs((f[1]-f[0])/r);r=Math.abs(Math.pow(10,f[1])-Math.pow(10,f[0]))/l,n=a(10),e.dtick="L"+Al(r,n,Gm)}else e.dtick=r>.3?"D2":"D1"}else e.type==="category"||e.type==="multicategory"?(e.tick0=0,e.dtick=Math.ceil(Math.max(r,1))):y6(e)?(e.tick0=0,n=1,e.dtick=Al(r,n,Qhe)):(e.tick0=0,n=a(10),e.dtick=Al(r,n,Gm));if(e.dtick===0&&(e.dtick=1),!Na(e.dtick)&&typeof e.dtick!="string"){var u=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(u)}};function GF(e){var r=e.dtick;if(e._tickexponent=0,!Na(r)&&typeof r!="string"&&(r=1),(e.type==="category"||e.type==="multicategory")&&(e._tickround=null),e.type==="date"){var t=e.r2l(e.tick0),n=e.l2r(t).replace(/(^-|i)/g,""),a=n.length;if(String(r).charAt(0)==="M")a>10||n.substr(5)!=="01-01"?e._tickround="d":e._tickround=+r.substr(1)%12===0?"y":"m";else if(r>=Bi&&a<=10||r>=Bi*15)e._tickround="d";else if(r>=lp&&a<=16||r>=Tl)e._tickround="M";else if(r>=Zm&&a<=19||r>=lp)e._tickround="S";else{var o=e.l2r(t+r).replace(/^-/,"").length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(Na(r)||r.charAt(0)==="L"){var i=e.range.map(e.r2d||Number);Na(r)||(r=Number(r.substr(1))),e._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01);var s=Math.max(Math.abs(i[0]),Math.abs(i[1])),f=Math.floor(Math.log(s)/Math.LN10+.01),l=e.minexponent===void 0?3:e.minexponent;Math.abs(f)>l&&(Jm(e.exponentformat)&&!p6(f)?e._tickexponent=3*Math.round((f-1)/3):e._tickexponent=f)}else e._tickround=null}Ir.tickIncrement=function(e,r,t,n){var a=t?-1:1;if(Na(r))return zt.increment(e,a*r);var o=r.charAt(0),i=a*Number(r.substr(1));if(o==="M")return zt.incrementMonth(e,i,n);if(o==="L")return Math.log(Math.pow(10,e)+i)/Math.LN10;if(o==="D"){var s=r==="D2"?UF:zF,f=e+a*.01,l=zt.roundUp(zt.mod(f,1),s,t);return Math.floor(f)+Math.log(os.round(Math.pow(10,l),1))/Math.LN10}throw"unrecognized dtick "+String(r)};Ir.tickFirst=function(e,r){var t=e.r2l||Number,n=zt.simpleMap(e.range,t,void 0,void 0,r),a=n[1]<n[0],o=a?Math.floor:Math.ceil,i=d6(n)[0],s=e.dtick,f=t(e.tick0);if(Na(s)){var l=o((i-f)/s)*s+f;return(e.type==="category"||e.type==="multicategory")&&(l=zt.constrain(l,0,e._categories.length-1)),l}var u=s.charAt(0),c=Number(s.substr(1));if(u==="M"){for(var v=0,m=f,x,A,w;v<10;){if(x=Ir.tickIncrement(m,s,a,e.calendar),(x-i)*(m-i)<=0)return a?Math.min(m,x):Math.max(m,x);A=(i-(m+x)/2)/(x-m),w=u+(Math.abs(Math.round(A))||1)*c,m=Ir.tickIncrement(m,w,A<0?!a:a,e.calendar),v++}return zt.error("tickFirst did not converge",e),m}else{if(u==="L")return Math.log(o((Math.pow(10,i)-f)/c)*c+f)/Math.LN10;if(u==="D"){var y=s==="D2"?UF:zF,_=zt.roundUp(zt.mod(i,1),y,a);return Math.floor(i)+Math.log(os.round(Math.pow(10,_),1))/Math.LN10}else throw"unrecognized dtick "+String(s)}};Ir.tickText=function(e,r,t,n){var a=HF(e,r),o=e.tickmode==="array",i=t||o,s=e.type,f=s==="category"?e.d2l_noadd:e.d2l,l,u=function(w){var y=e.l2p(w);return y>=0&&y<=e._length?w:null};if(o&&zt.isArrayOrTypedArray(e.ticktext)){var c=zt.simpleMap(e.range,e.r2l),v=(Math.abs(c[1]-c[0])-(e._lBreaks||0))/1e4;for(l=0;l<e.ticktext.length&&!(Math.abs(r-f(e.tickvals[l]))<v);l++);if(l<e.ticktext.length)return a.text=String(e.ticktext[l]),a.xbnd=[u(a.x-.5),u(a.x+e.dtick-.5)],a}function m(w){if(w===void 0)return!0;if(t)return w==="none";var y={first:e._tmin,last:e._tmax}[w];return w!=="all"&&r!==y}var x=t?"never":e.exponentformat!=="none"&&m(e.showexponent)?"hide":"";if(s==="date"?eve(e,a,t,i):s==="log"?rve(e,a,t,i,x):s==="category"?tve(e,a):s==="multicategory"?nve(e,a,t):y6(e)?ive(e,a,t,i,x):ave(e,a,t,i,x),n||(e.tickprefix&&!m(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!m(e.showticksuffix)&&(a.text+=e.ticksuffix)),e.labelalias&&e.labelalias.hasOwnProperty(a.text)){var A=e.labelalias[a.text];typeof A=="string"&&(a.text=A)}return(e.tickson==="boundaries"||e.showdividers)&&(a.xbnd=[u(a.x-.5),u(a.x+e.dtick-.5)]),a};Ir.hoverLabelText=function(e,r,t){t&&(e=zt.extendFlat({},e,{hoverformat:t}));var n=zt.isArrayOrTypedArray(r)?r[0]:r,a=zt.isArrayOrTypedArray(r)?r[1]:void 0;if(a!==void 0&&a!==n)return Ir.hoverLabelText(e,n,t)+" - "+Ir.hoverLabelText(e,a,t);var o=e.type==="log"&&n<=0,i=Ir.tickText(e,e.c2l(o?-n:n),"hover").text;return o?n===0?"0":n0+i:i};function HF(e,r,t){var n=e.tickfont||{};return{x:r,dx:0,dy:0,text:t||"",fontSize:n.size,font:n.family,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontTextcase:n.textcase,fontLineposition:n.lineposition,fontShadow:n.shadow,fontColor:n.color}}function eve(e,r,t,n){var a=e._tickround,o=t&&e.hoverformat||Ir.getTickFormat(e);n=!o&&n,n&&(Na(a)?a=4:a={y:"m",m:"d",d:"M",M:"S",S:4}[a]);var i=zt.formatDate(r.x,o,a,e._dateFormat,e.calendar,e._extraFormat),s,f=i.indexOf(`
`);if(f!==-1&&(s=i.substr(f+1),i=i.substr(0,f)),n&&(s!==void 0&&(i==="00:00:00"||i==="00:00")?(i=s,s=""):i.length===8&&(i=i.replace(/:00$/,""))),s)if(t)a==="d"?i+=", "+s:i=s+(i?", "+i:"");else if(!e._inCalcTicks||e._prevDateHead!==s)e._prevDateHead=s,i+="<br>"+s;else{var l=cp(e),u=e._trueSide||e.side;(!l&&u==="top"||l&&u==="bottom")&&(i+="<br> ")}r.text=i}function rve(e,r,t,n,a){var o=e.dtick,i=r.x,s=e.tickformat,f=typeof o=="string"&&o.charAt(0);if(a==="never"&&(a=""),n&&f!=="L"&&(o="L3",f="L"),s||f==="L")r.text=up(Math.pow(10,i),e,a,n);else if(Na(o)||f==="D"&&zt.mod(i+.01,1)<.1){var l=Math.round(i),u=Math.abs(l),c=e.exponentformat;c==="power"||Jm(c)&&p6(l)?(l===0?r.text=1:l===1?r.text="10":r.text="10<sup>"+(l>1?"":n0)+u+"</sup>",r.fontSize*=1.25):(c==="e"||c==="E")&&u>2?r.text="1"+c+(l>0?"+":n0)+u:(r.text=up(Math.pow(10,i),e,"","fakehover"),o==="D1"&&e._id.charAt(0)==="y"&&(r.dy-=r.fontSize/6))}else if(f==="D")r.text=String(Math.round(Math.pow(10,zt.mod(i,1)))),r.fontSize*=.75;else throw"unrecognized dtick "+String(o);if(e.dtick==="D1"){var v=String(r.text).charAt(0);(v==="0"||v==="1")&&(e._id.charAt(0)==="y"?r.dx-=r.fontSize/4:(r.dy+=r.fontSize/2,r.dx+=(e.range[1]>e.range[0]?1:-1)*r.fontSize*(i<0?.5:.25)))}}function tve(e,r){var t=e._categories[Math.round(r.x)];t===void 0&&(t=""),r.text=String(t)}function nve(e,r,t){var n=Math.round(r.x),a=e._categories[n]||[],o=a[1]===void 0?"":String(a[1]),i=a[0]===void 0?"":String(a[0]);t?r.text=i+" - "+o:(r.text=o,r.text2=i)}function ave(e,r,t,n,a){a==="never"?a="":e.showexponent==="all"&&Math.abs(r.x/e.dtick)<1e-6&&(a="hide"),r.text=up(r.x,e,a,n)}function ive(e,r,t,n,a){if(e.thetaunit==="radians"&&!t){var o=r.x/180;if(o===0)r.text="0";else{var i=ove(o);if(i[1]>=100)r.text=up(zt.deg2rad(r.x),e,a,n);else{var s=r.x<0;i[1]===1?i[0]===1?r.text="\u03C0":r.text=i[0]+"\u03C0":r.text=["<sup>",i[0],"</sup>","\u2044","<sub>",i[1],"</sub>","\u03C0"].join(""),s&&(r.text=n0+r.text)}}}else r.text=up(r.x,e,a,n)}function ove(e){function r(s,f){return Math.abs(s-f)<=1e-6}function t(s,f){return r(f,0)?s:t(f,s%f)}function n(s){for(var f=1;!r(Math.round(s*f)/f,s);)f*=10;return f}var a=n(e),o=e*a,i=Math.abs(t(o,a));return[Math.round(o/i),Math.round(a/i)]}var sve=["f","p","n","\u03BC","m","","k","M","G","T"];function Jm(e){return e==="SI"||e==="B"}function p6(e){return e>14||e<-15}function up(e,r,t,n){var a=e<0,o=r._tickround,i=t||r.exponentformat||"B",s=r._tickexponent,f=Ir.getTickFormat(r),l=r.separatethousands;if(n){var u={exponentformat:i,minexponent:r.minexponent,dtick:r.showexponent==="none"?r.dtick:Na(e)&&Math.abs(e)||1,range:r.showexponent==="none"?r.range.map(r.r2d):[0,e||1]};GF(u),o=(Number(u._tickround)||0)+4,s=u._tickexponent,r.hoverformat&&(f=r.hoverformat)}if(f)return r._numFormat(f)(e).replace(/-/g,n0);var c=Math.pow(10,-o)/2;if(i==="none"&&(s=0),e=Math.abs(e),e<c)e="0",a=!1;else{if(e+=c,s&&(e*=Math.pow(10,-s),o+=s),o===0)e=String(Math.floor(e));else if(o<0){e=String(Math.round(e)),e=e.substr(0,e.length+o);for(var v=o;v<0;v++)e+="0"}else{e=String(e);var m=e.indexOf(".")+1;m&&(e=e.substr(0,m+o).replace(/\.?0+$/,""))}e=zt.numSeparate(e,r._separators,l)}if(s&&i!=="hide"){Jm(i)&&p6(s)&&(i="power");var x;s<0?x=n0+-s:i!=="power"?x="+"+s:x=String(s),i==="e"||i==="E"?e+=i+x:i==="power"?e+="\xD710<sup>"+x+"</sup>":i==="B"&&s===9?e+="B":Jm(i)&&(e+=sve[s/3+5])}return a?n0+e:e}Ir.getTickFormat=function(e){var r;function t(f){return typeof f!="string"?f:Number(f.replace("M",""))*av}function n(f,l){var u=["L","D"];if(typeof f==typeof l){if(typeof f=="number")return f-l;var c=u.indexOf(f.charAt(0)),v=u.indexOf(l.charAt(0));return c===v?Number(f.replace(/(L|D)/g,""))-Number(l.replace(/(L|D)/g,"")):c-v}else return typeof f=="number"?1:-1}function a(f,l,u){var c=u||function(x){return x},v=l[0],m=l[1];return(!v&&typeof v!="number"||c(v)<=c(f))&&(!m&&typeof m!="number"||c(m)>=c(f))}function o(f,l){var u=l[0]===null,c=l[1]===null,v=n(f,l[0])>=0,m=n(f,l[1])<=0;return(u||v)&&(c||m)}var i,s;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":{for(r=0;r<e.tickformatstops.length;r++)if(s=e.tickformatstops[r],s.enabled&&a(e.dtick,s.dtickrange,t)){i=s;break}break}case"log":{for(r=0;r<e.tickformatstops.length;r++)if(s=e.tickformatstops[r],s.enabled&&o(e.dtick,s.dtickrange)){i=s;break}break}default:}return i?i.value:e.tickformat};Ir.getSubplots=function(e,r){var t=e._fullLayout._subplots,n=t.cartesian.concat(t.gl2d||[]),a=r?Ir.findSubplotsWithAxis(n,r):n;return a.sort(function(o,i){var s=o.substr(1).split("y"),f=i.substr(1).split("y");return s[0]===f[0]?+s[1]-+f[1]:+s[0]-+f[0]}),a};Ir.findSubplotsWithAxis=function(e,r){for(var t=new RegExp(r._id.charAt(0)==="x"?"^"+r._id+"y":r._id+"$"),n=[],a=0;a<e.length;a++){var o=e[a];t.test(o)&&n.push(o)}return n};Ir.makeClipPaths=function(e){var r=e._fullLayout;if(!r._hasOnlyLargeSploms){var t={_offset:0,_length:r.width,_id:""},n={_offset:0,_length:r.height,_id:""},a=Ir.list(e,"x",!0),o=Ir.list(e,"y",!0),i=[],s,f;for(s=0;s<a.length;s++)for(i.push({x:a[s],y:n}),f=0;f<o.length;f++)s===0&&i.push({x:t,y:o[f]}),i.push({x:a[s],y:o[f]});var l=r._clips.selectAll(".axesclip").data(i,function(u){return u.x._id+u.y._id});l.enter().append("clipPath").classed("axesclip",!0).attr("id",function(u){return"clip"+r._uid+u.x._id+u.y._id}).append("rect"),l.exit().remove(),l.each(function(u){os.select(this).select("rect").attr({x:u.x._offset||0,y:u.y._offset||0,width:u.x._length||1,height:u.y._length||1})})}};Ir.draw=function(e,r,t){var n=e._fullLayout;r==="redraw"&&n._paper.selectAll("g.subplot").each(function(f){var l=f[0],u=n._plots[l];if(u){var c=u.xaxis,v=u.yaxis;u.xaxislayer.selectAll("."+c._id+"tick").remove(),u.yaxislayer.selectAll("."+v._id+"tick").remove(),u.xaxislayer.selectAll("."+c._id+"tick2").remove(),u.yaxislayer.selectAll("."+v._id+"tick2").remove(),u.xaxislayer.selectAll("."+c._id+"divider").remove(),u.yaxislayer.selectAll("."+v._id+"divider").remove(),u.minorGridlayer&&u.minorGridlayer.selectAll("path").remove(),u.gridlayer&&u.gridlayer.selectAll("path").remove(),u.zerolinelayer&&u.zerolinelayer.selectAll("path").remove(),n._infolayer.select(".g-"+c._id+"title").remove(),n._infolayer.select(".g-"+v._id+"title").remove()}});var a=!r||r==="redraw"?Ir.listIds(e):r,o=Ir.list(e),i=o.filter(function(f){return f.autoshift}).map(function(f){return f.overlaying});a.map(function(f){var l=Ir.getFromId(e,f);if(l.tickmode==="sync"&&l.overlaying){var u=a.findIndex(function(c){return c===l.overlaying});u>=0&&a.unshift(a.splice(u,1).shift())}});var s={false:{left:0,right:0}};return zt.syncOrAsync(a.map(function(f){return function(){if(f){var l=Ir.getFromId(e,f);t||(t={}),t.axShifts=s,t.overlayingShiftedAx=i;var u=Ir.drawOne(e,l,t);return l._shiftPusher&&v6(l,l._fullDepth||0,s,!0),l._r=l.range.slice(),l._rl=zt.simpleMap(l._r,l.r2l),u}}}))};Ir.drawOne=function(e,r,t){t=t||{};var n=t.axShifts||{},a=t.overlayingShiftedAx||[],o,i,s;r.setScale();var f=e._fullLayout,l=r._id,u=l.charAt(0),c=Ir.counterLetter(l),v=f._plots[r._mainSubplot];if(!v)return;if(r._shiftPusher=r.autoshift||a.indexOf(r._id)!==-1||a.indexOf(r.overlaying)!==-1,r._shiftPusher&r.anchor==="free"){var m=r.linewidth/2||0;r.ticks==="inside"&&(m+=r.ticklen),v6(r,m,n,!0),v6(r,r.shift||0,n,!1)}(t.skipTitle!==!0||r._shift===void 0)&&(r._shift=bve(r,n));var x=v[u+"axislayer"],A=r._mainLinePosition,w=A+=r._shift,y=r._mainMirrorPosition,_=r._vals=Ir.calcTicks(r),M=[r.mirror,w,y].join("_");for(o=0;o<_.length;o++)_[o].axInfo=M;r._selections={},r._tickAngles&&(r._prevTickAngles=r._tickAngles),r._tickAngles={},r._depth=null;var b={};function E(me){var ve=l+(me||"tick");return b[ve]||(b[ve]=cve(r,ve,w)),b[ve]}if(r.visible){var d=Ir.makeTransTickFn(r),T=Ir.makeTransTickLabelFn(r),g,h,S=r.ticks==="inside",p=r.ticks==="outside";if(r.tickson==="boundaries"){var C=lve(r,_);h=Ir.clipEnds(r,C),g=S?h:C}else h=Ir.clipEnds(r,_),g=S&&r.ticklabelmode!=="period"?h:_;var k=r._gridVals=h,D=uve(r,_);if(!f._hasOnlyLargeSploms){var P=r._subplotsWith,O={};for(o=0;o<P.length;o++){i=P[o],s=f._plots[i];var F=s[c+"axis"],L=F._mainAxis._id;if(!O[L]){O[L]=1;var I=u==="x"?"M0,"+F._offset+"v"+F._length:"M"+F._offset+",0h"+F._length;Ir.drawGrid(e,r,{vals:k,counterAxis:F,layer:s.gridlayer.select("."+l),minorLayer:s.minorGridlayer.select("."+l),path:I,transFn:d}),Ir.drawZeroLine(e,r,{counterAxis:F,layer:s.zerolinelayer,path:I,transFn:d})}}}var q,z=Ir.getTickSigns(r),W=Ir.getTickSigns(r,"minor");if(r.ticks||r.minor&&r.minor.ticks){var $=Ir.makeTickPath(r,w,z[2]),j=Ir.makeTickPath(r,w,W[2],{minor:!0}),G,B,X,te;if(r._anchorAxis&&r.mirror&&r.mirror!==!0?(G=Ir.makeTickPath(r,y,z[3]),B=Ir.makeTickPath(r,y,W[3],{minor:!0}),X=$+G,te=j+B):(G="",B="",X=$,te=j),r.showdividers&&p&&r.tickson==="boundaries"){var J={};for(o=0;o<D.length;o++)J[D[o].x]=1;q=function(me){return J[me.x]?G:X}}else q=function(me){return me.minor?te:X}}if(Ir.drawTicks(e,r,{vals:g,layer:x,path:q,transFn:d}),r.mirror==="allticks"){var ae=Object.keys(r._linepositions||{});for(o=0;o<ae.length;o++){i=ae[o],s=f._plots[i];var ee=r._linepositions[i]||[],H=ee[0],re=ee[1],V=ee[2],ne=Ir.makeTickPath(r,H,V?z[0]:W[0],{minor:V})+Ir.makeTickPath(r,re,V?z[1]:W[1],{minor:V});Ir.drawTicks(e,r,{vals:g,layer:s[u+"axislayer"],path:ne,transFn:d})}}var le=[];if(le.push(function(){return Ir.drawLabels(e,r,{vals:_,layer:x,plotinfo:s,transFn:T,labelFns:Ir.makeLabelFns(r,w)})}),r.type==="multicategory"){var de={x:2,y:10}[u];le.push(function(){var me={x:"height",y:"width"}[u],ve=E()[me]+de+(r._tickAngles[l+"tick"]?r.tickfont.size*fp:0);return Ir.drawLabels(e,r,{vals:fve(r,_),layer:x,cls:l+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:d,labelFns:Ir.makeLabelFns(r,w+ve*z[4])})}),le.push(function(){return r._depth=z[4]*(E("tick2")[r.side]-w),vve(e,r,{vals:D,layer:x,path:Ir.makeTickPath(r,w,z[4],{len:r._depth}),transFn:d})})}else r.title.hasOwnProperty("standoff")&&le.push(function(){r._depth=z[4]*(E()[r.side]-w)});var _e=op.getComponentMethod("rangeslider","isVisible")(r);return!t.skipTitle&&!(_e&&r.side==="bottom")&&le.push(function(){return dve(e,r)}),le.push(function(){var me=r.side.charAt(0),ve=Uhe[r.side].charAt(0),be=Ir.getPxPosition(e,r),we=p?r.ticklen:0,Se,Ae,Ie,Ve;(r.automargin||_e||r._shiftPusher)&&(r.type==="multicategory"?Se=E("tick2"):(Se=E(),u==="x"&&me==="b"&&(r._depth=Math.max(Se.width>0?Se.bottom-be:0,we))));var pe=0,xe=0;if(r._shiftPusher&&(pe=Math.max(we,Se.height>0?me==="l"?be-Se.left:Se.right-be:0),r.title.text!==f._dfltTitle[u]&&(xe=(r._titleStandoff||0)+(r._titleScoot||0),me==="l"&&(xe+=OF(r))),r._fullDepth=Math.max(pe,xe)),r.automargin){Ae={x:0,y:0,r:0,l:0,t:0,b:0};var Te=[0,1],qe=typeof r._shift=="number"?r._shift:0;if(u==="x"){if(me==="b"?Ae[me]=r._depth:(Ae[me]=r._depth=Math.max(Se.width>0?be-Se.top:0,we),Te.reverse()),Se.width>0){var er=Se.right-(r._offset+r._length);er>0&&(Ae.xr=1,Ae.r=er);var ze=r._offset-Se.left;ze>0&&(Ae.xl=0,Ae.l=ze)}}else if(me==="l"?(r._depth=Math.max(Se.height>0?be-Se.left:0,we),Ae[me]=r._depth-qe):(r._depth=Math.max(Se.height>0?Se.right-be:0,we),Ae[me]=r._depth+qe,Te.reverse()),Se.height>0){var Ce=Se.bottom-(r._offset+r._length);Ce>0&&(Ae.yb=0,Ae.b=Ce);var Le=r._offset-Se.top;Le>0&&(Ae.yt=1,Ae.t=Le)}Ae[c]=r.anchor==="free"?r.position:r._anchorAxis.domain[Te[0]],r.title.text!==f._dfltTitle[u]&&(Ae[me]+=OF(r)+(r.title.standoff||0)),r.mirror&&r.anchor!=="free"&&(Ie={x:0,y:0,r:0,l:0,t:0,b:0},Ie[ve]=r.linewidth,r.mirror&&r.mirror!==!0&&(Ie[ve]+=we),r.mirror===!0||r.mirror==="ticks"?Ie[c]=r._anchorAxis.domain[Te[1]]:(r.mirror==="all"||r.mirror==="allticks")&&(Ie[c]=[r._counterDomainMin,r._counterDomainMax][Te[1]]))}_e&&(Ve=op.getComponentMethod("rangeslider","autoMarginOpts")(e,r)),typeof r.automargin=="string"&&(PF(Ae,r.automargin),PF(Ie,r.automargin)),tv.autoMargin(e,g6(r),Ae),tv.autoMargin(e,YF(r),Ie),tv.autoMargin(e,WF(r),Ve)}),zt.syncOrAsync(le)}};function PF(e,r){if(e){var t=Object.keys(CF).reduce(function(n,a){return r.indexOf(a)!==-1&&CF[a].forEach(function(o){n[o]=1}),n},{});Object.keys(e).forEach(function(n){t[n]||(n.length===1?e[n]=0:delete e[n])})}}function lve(e,r){var t=[],n,a=function(o,i){var s=o.xbnd[i];s!==null&&t.push(zt.extendFlat({},o,{x:s}))};if(r.length){for(n=0;n<r.length;n++)a(r[n],0);a(r[n-1],1)}return t}function fve(e,r){for(var t=[],n={},a=0;a<r.length;a++){var o=r[a];n[o.text2]?n[o.text2].push(o.x):n[o.text2]=[o.x]}for(var i in n)t.push(HF(e,zt.interp(n[i],.5),i));return t}function uve(e,r){var t=[],n,a,o=r.length&&r[r.length-1].x<r[0].x,i=function(f,l){var u=f.xbnd[l];u!==null&&t.push(zt.extendFlat({},f,{x:u}))};if(e.showdividers&&r.length){for(n=0;n<r.length;n++){var s=r[n];s.text2!==a&&i(s,o?1:0),a=s.text2}i(r[n-1],o?0:1)}return t}function cve(e,r,t){var n,a,o,i;if(e._selections[r].size())n=1/0,a=-1/0,o=1/0,i=-1/0,e._selections[r].each(function(){var f=h6(this),l=zo.bBox(f.node().parentNode);n=Math.min(n,l.top),a=Math.max(a,l.bottom),o=Math.min(o,l.left),i=Math.max(i,l.right)});else{var s=Ir.makeLabelFns(e,t);n=a=s.yFn({dx:0,dy:0,fontSize:0}),o=i=s.xFn({dx:0,dy:0,fontSize:0})}return{top:n,bottom:a,left:o,right:i,height:a-n,width:i-o}}Ir.getTickSigns=function(e,r){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],a=e.side===n?1:-1,o=[-1,1,a,-a],i=r?(e.minor||{}).ticks:e.ticks;return i!=="inside"==(t==="x")&&(o=o.map(function(s){return-s})),e.side&&o.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),o};Ir.makeTransTickFn=function(e){return e._id.charAt(0)==="x"?function(r){return nv(e._offset+e.l2p(r.x),0)}:function(r){return nv(0,e._offset+e.l2p(r.x))}};Ir.makeTransTickLabelFn=function(e){var r=hve(e),t=e.ticklabelshift||0,n=e.ticklabelstandoff||0,a=r[0],o=r[1],i=e.range[0]>e.range[1],s=e.ticklabelposition&&e.ticklabelposition.indexOf("inside")!==-1,f=!s;if(t){var l=i?-1:1;t=t*l}if(n){var u=e.side,c=s&&(u==="top"||u==="left")||f&&(u==="bottom"||u==="right")?1:-1;n=n*c}return e._id.charAt(0)==="x"?function(v){return nv(a+e._offset+e.l2p(c6(v))+t,o+n)}:function(v){return nv(o+n,a+e._offset+e.l2p(c6(v))+t)}};function c6(e){return e.periodX!==void 0?e.periodX:e.x}function hve(e){var r=e.ticklabelposition||"",t=function(m){return r.indexOf(m)!==-1},n=t("top"),a=t("left"),o=t("right"),i=t("bottom"),s=t("inside"),f=i||a||n||o;if(!f&&!s)return[0,0];var l=e.side,u=f?(e.tickwidth||0)/2:0,c=jm,v=e.tickfont?e.tickfont.size:12;return(i||n)&&(u+=v*a0,c+=(e.linewidth||0)/2),(a||o)&&(u+=(e.linewidth||0)/2,c+=jm),s&&l==="top"&&(c-=v*(1-a0)),(a||n)&&(u=-u),(l==="bottom"||l==="right")&&(c=-c),[f?u:0,s?c:0]}Ir.makeTickPath=function(e,r,t,n){n||(n={});var a=n.minor;if(a&&!e.minor)return"";var o=n.len!==void 0?n.len:a?e.minor.ticklen:e.ticklen,i=e._id.charAt(0),s=(e.linewidth||1)/2;return i==="x"?"M0,"+(r+s*t)+"v"+o*t:"M"+(r+s*t)+",0h"+o*t};Ir.makeLabelFns=function(e,r,t){var n=e.ticklabelposition||"",a=function(C){return n.indexOf(C)!==-1},o=a("top"),i=a("left"),s=a("right"),f=a("bottom"),l=f||i||o||s,u=a("inside"),c=n==="inside"&&e.ticks==="inside"||!u&&e.ticks==="outside"&&e.tickson!=="boundaries",v=0,m=0,x=c?e.ticklen:0;if(u?x*=-1:l&&(x=0),c&&(v+=x,t)){var A=zt.deg2rad(t);v=x*Math.cos(A)+1,m=x*Math.sin(A)}e.showticklabels&&(c||e.showline)&&(v+=.2*e.tickfont.size),v+=(e.linewidth||1)/2*(u?-1:1);var w={labelStandoff:v,labelShift:m},y,_,M,b,E=0,d=e.side,T=e._id.charAt(0),g=e.tickangle,h;if(T==="x")h=!u&&d==="bottom"||u&&d==="top",b=h?1:-1,u&&(b*=-1),y=m*b,_=r+v*b,M=h?1:-.2,Math.abs(g)===90&&(u?M+=ip:g===-90&&d==="bottom"?M=a0:g===90&&d==="top"?M=ip:M=.5,E=ip/2*(g/90)),w.xFn=function(C){return C.dx+y+E*C.fontSize},w.yFn=function(C){return C.dy+_+C.fontSize*M},w.anchorFn=function(C,k){if(l){if(i)return"end";if(s)return"start"}return!Na(k)||k===0||k===180?"middle":k*b<0!==u?"end":"start"},w.heightFn=function(C,k,D){return k<-60||k>60?-.5*D:e.side==="top"!==u?-D:0};else if(T==="y"){if(h=!u&&d==="left"||u&&d==="right",b=h?1:-1,u&&(b*=-1),y=v,_=m*b,M=0,!u&&Math.abs(g)===90&&(g===-90&&d==="left"||g===90&&d==="right"?M=a0:M=.5),u){var S=Na(g)?+g:0;if(S!==0){var p=zt.deg2rad(S);E=Math.abs(Math.sin(p))*a0*b,M=0}}w.xFn=function(C){return C.dx+r-(y+C.fontSize*M)*b+E*C.fontSize},w.yFn=function(C){return C.dy+_+C.fontSize*ip},w.anchorFn=function(C,k){return Na(k)&&Math.abs(k)===90?"middle":h?"end":"start"},w.heightFn=function(C,k,D){return e.side==="right"&&(k*=-1),k<-30?-D:k<30?-.5*D:0}}return w};function Qm(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}Ir.drawTicks=function(e,r,t){t=t||{};var n=r._id+"tick",a=[].concat(r.minor&&r.minor.ticks?t.vals.filter(function(i){return i.minor&&!i.noTick}):[]).concat(r.ticks?t.vals.filter(function(i){return!i.minor&&!i.noTick}):[]),o=t.layer.selectAll("path."+n).data(a,Qm);o.exit().remove(),o.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",t.crisp!==!1).each(function(i){return sp.stroke(os.select(this),i.minor?r.minor.tickcolor:r.tickcolor)}).style("stroke-width",function(i){return zo.crispRound(e,i.minor?r.minor.tickwidth:r.tickwidth,1)+"px"}).attr("d",t.path).style("display",null),e3(r,[NF]),o.attr("transform",t.transFn)};Ir.drawGrid=function(e,r,t){if(t=t||{},r.tickmode!=="sync"){var n=r._id+"grid",a=r.minor&&r.minor.showgrid,o=a?t.vals.filter(function(y){return y.minor}):[],i=r.showgrid?t.vals.filter(function(y){return!y.minor}):[],s=t.counterAxis;if(s&&Ir.shouldShowZeroLine(e,r,s))for(var f=r.tickmode==="array",l=0;l<i.length;l++){var u=i[l].x;if(f?!u:Math.abs(u)<r.dtick/100)if(i=i.slice(0,l).concat(i.slice(l+1)),f)l--;else break}r._gw=zo.crispRound(e,r.gridwidth,1);for(var c=a?zo.crispRound(e,r.minor.gridwidth,1):0,v=t.layer,m=t.minorLayer,x=1;x>=0;x--){var A=x?v:m;if(A){var w=A.selectAll("path."+n).data(x?i:o,Qm);w.exit().remove(),w.enter().append("path").classed(n,1).classed("crisp",t.crisp!==!1),w.attr("transform",t.transFn).attr("d",t.path).each(function(y){return sp.stroke(os.select(this),y.minor?r.minor.gridcolor:r.gridcolor||"#ddd")}).style("stroke-dasharray",function(y){return zo.dashStyle(y.minor?r.minor.griddash:r.griddash,y.minor?r.minor.gridwidth:r.gridwidth)}).style("stroke-width",function(y){return(y.minor?c:r._gw)+"px"}).style("display",null),typeof t.path=="function"&&w.attr("d",t.path)}}e3(r,[f6,u6])}};Ir.drawZeroLine=function(e,r,t){t=t||t;var n=r._id+"zl",a=Ir.shouldShowZeroLine(e,r,t.counterAxis),o=t.layer.selectAll("path."+n).data(a?[{x:0,id:r._id}]:[]);o.exit().remove(),o.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",t.crisp!==!1).each(function(){t.layer.selectAll("path").sort(function(i,s){return Hhe(i.id,s.id)})}),o.attr("transform",t.transFn).attr("d",t.path).call(sp.stroke,r.zerolinecolor||sp.defaultLine).style("stroke-width",zo.crispRound(e,r.zerolinewidth,r._gw||1)+"px").style("display",null),e3(r,[l6])};Ir.drawLabels=function(e,r,t){t=t||{};var n=e._fullLayout,a=r._id,o=t.cls||a+"tick",i=t.vals.filter(function(L){return L.text}),s=t.labelFns,f=t.secondary?0:r.tickangle,l=(r._prevTickAngles||{})[o],u=t.layer.selectAll("g."+o).data(r.showticklabels?i:[],Qm),c=[];u.enter().append("g").classed(o,1).append("text").attr("text-anchor","middle").each(function(L){var I=os.select(this),q=e._promises.length;I.call(t0.positionText,s.xFn(L),s.yFn(L)).call(zo.font,{family:L.font,size:L.fontSize,color:L.fontColor,weight:L.fontWeight,style:L.fontStyle,variant:L.fontVariant,textcase:L.fontTextcase,lineposition:L.fontLineposition,shadow:L.fontShadow}).text(L.text).call(t0.convertToTspans,e),e._promises[q]?c.push(e._promises.pop().then(function(){v(I,f)})):v(I,f)}),e3(r,[SF]),u.exit().remove(),t.repositionOnUpdate&&u.each(function(L){os.select(this).select("text").call(t0.positionText,s.xFn(L),s.yFn(L))});function v(L,I){L.each(function(q){var z=os.select(this),W=z.select(".text-math-group"),$=s.anchorFn(q,I),j=t.transFn.call(z.node(),q)+(Na(I)&&+I!=0?" rotate("+I+","+s.xFn(q)+","+(s.yFn(q)-q.fontSize/2)+")":""),G=t0.lineCount(z),B=fp*q.fontSize,X=s.heightFn(q,Na(I)?+I:0,(G-1)*B);if(X&&(j+=nv(0,X)),W.empty()){var te=z.select("text");te.attr({transform:j,"text-anchor":$}),te.style("opacity",1),r._adjustTickLabelsOverflow&&r._adjustTickLabelsOverflow()}else{var J=zo.bBox(W.node()).width,ae=J*{end:-.5,start:.5}[$];W.attr("transform",j+nv(ae,0))}})}r._adjustTickLabelsOverflow=function(){var L=r.ticklabeloverflow;if(!(!L||L==="allow")){var I=L.indexOf("hide")!==-1,q=r._id.charAt(0)==="x",z=0,W=q?e._fullLayout.width:e._fullLayout.height;if(L.indexOf("domain")!==-1){var $=zt.simpleMap(r.range,r.r2l);z=r.l2p($[0])+r._offset,W=r.l2p($[1])+r._offset}var j=Math.min(z,W),G=Math.max(z,W),B=r.side,X=1/0,te=-1/0;u.each(function(H){var re=os.select(this),V=re.select(".text-math-group");if(V.empty()){var ne=zo.bBox(re.node()),le=0;q?(ne.right>G||ne.left<j)&&(le=1):(ne.bottom>G||ne.top+(r.tickangle?0:H.fontSize/4)<j)&&(le=1);var de=re.select("text");le?I&&de.style("opacity",0):(de.style("opacity",1),B==="bottom"||B==="right"?X=Math.min(X,q?ne.top:ne.left):X=-1/0,B==="top"||B==="left"?te=Math.max(te,q?ne.bottom:ne.right):te=1/0)}});for(var J in n._plots){var ae=n._plots[J];if(!(r._id!==ae.xaxis._id&&r._id!==ae.yaxis._id)){var ee=q?ae.yaxis:ae.xaxis;ee&&(ee["_visibleLabelMin_"+r._id]=X,ee["_visibleLabelMax_"+r._id]=te)}}}},r._hideCounterAxisInsideTickLabels=function(L){var I=r._id.charAt(0)==="x",q=[];for(var z in n._plots){var W=n._plots[z];r._id!==W.xaxis._id&&r._id!==W.yaxis._id||q.push(I?W.yaxis:W.xaxis)}q.forEach(function($,j){$&&cp($)&&(L||[l6,u6,f6,NF,SF]).forEach(function(G){var B=G.K==="tick"&&G.L==="text"&&r.ticklabelmode==="period",X=n._plots[r._mainSubplot],te;G.K===l6.K?te=X.zerolinelayer.selectAll("."+r._id+"zl"):G.K===u6.K?te=X.minorGridlayer.selectAll("."+r._id):G.K===f6.K?te=X.gridlayer.selectAll("."+r._id):te=X[r._id.charAt(0)+"axislayer"],te.each(function(){var J=os.select(this);G.L&&(J=J.selectAll(G.L)),J.each(function(ae){var ee=r.l2p(B?c6(ae):ae.x)+r._offset,H=os.select(this);ee<r["_visibleLabelMax_"+$._id]&&ee>r["_visibleLabelMin_"+$._id]?H.style("display","none"):G.K==="tick"&&!j&&H.style("display",null)})})})})},v(u,l+1?l:f);function m(){return c.length&&Promise.all(c)}var x=null;function A(){if(v(u,f),i.length&&r.autotickangles&&(r.type!=="log"||String(r.dtick).charAt(0)!=="D")){x=r.autotickangles[0];var L=0,I=[],q,z=1;u.each(function(Se){L=Math.max(L,Se.fontSize);var Ae=r.l2p(Se.x),Ie=h6(this),Ve=zo.bBox(Ie.node());z=Math.max(z,t0.lineCount(Ie)),I.push({top:0,bottom:10,height:10,left:Ae-Ve.width/2,right:Ae+Ve.width/2+2,width:Ve.width+2})});var W=(r.tickson==="boundaries"||r.showdividers)&&!t.secondary,$=i.length,j=Math.abs((i[$-1].x-i[0].x)*r._m)/($-1),G=W?j/2:j,B=W?r.ticklen:L*1.25*z,X=Math.sqrt(Math.pow(G,2)+Math.pow(B,2)),te=G/X,J=r.autotickangles.map(function(Se){return Se*Math.PI/180}),ae=J.find(function(Se){return Math.abs(Math.cos(Se))<=te});ae===void 0&&(ae=J.reduce(function(Se,Ae){return Math.abs(Math.cos(Se))<Math.abs(Math.cos(Ae))?Se:Ae},J[0]));var ee=ae*(180/Math.PI);if(W){var H=2;for(r.ticks&&(H+=r.tickwidth/2),q=0;q<I.length;q++){var re=i[q].xbnd,V=I[q];if(re[0]!==null&&V.left-r.l2p(re[0])<H||re[1]!==null&&r.l2p(re[1])-V.right<H){x=ee;break}}}else{var ne=r.ticklabelposition||"",le=function(Se){return ne.indexOf(Se)!==-1},de=le("top"),_e=le("left"),me=le("right"),ve=le("bottom"),be=ve||_e||de||me,we=be?(r.tickwidth||0)+2*jm:0;for(q=0;q<I.length-1;q++)if(zt.bBoxIntersect(I[q],I[q+1],we)){x=ee;break}}x&&v(u,x)}}r._selections&&(r._selections[o]=u);var w=[m];r.automargin&&n._redrawFromAutoMarginCount&&l===90?(x=l,w.push(function(){v(u,l)})):w.push(A),r._tickAngles&&w.push(function(){r._tickAngles[o]=x===null?Na(f)?f:0:x});var y=function(){var L=0,I=0;return u.each(function(q,z){var W=h6(this),$=W.select(".text-math-group");if($.empty()){var j;r._vals[z]&&(j=r._vals[z].bb||zo.bBox(W.node()),r._vals[z].bb=j),L=Math.max(L,j.width),I=Math.max(I,j.height)}}),{labelsMaxW:L,labelsMaxH:I}},_=r._anchorAxis;if(_&&(_.autorange||_.insiderange)&&cp(r)&&!Vhe(n,r._id)&&(n._insideTickLabelsUpdaterange||(n._insideTickLabelsUpdaterange={}),_.autorange&&(n._insideTickLabelsUpdaterange[_._name+".autorange"]=_.autorange,w.push(y)),_.insiderange)){var M=y(),b=r._id.charAt(0)==="y"?M.labelsMaxW:M.labelsMaxH;b+=2*jm,r.ticklabelposition==="inside"&&(b+=r.ticklen||0);var E=r.side==="right"||r.side==="top"?1:-1,d=E===1?1:0,T=E===1?0:1,g=[];g[T]=_.range[T];var h=_.range,S=_.r2p(h[d]),p=_.r2p(h[T]),C=n._insideTickLabelsUpdaterange[_._name+".range"];if(C){var k=_.r2p(C[d]),D=_.r2p(C[T]),P=E*(r._id.charAt(0)==="y"?1:-1);P*S<P*k&&(S=k,g[d]=h[d]=C[d]),P*p>P*D&&(p=D,g[T]=h[T]=C[T])}var O=Math.abs(p-S);O-b>0?(O-=b,b*=1+b/O):b=0,r._id.charAt(0)!=="y"&&(b=-b),g[d]=_.p2r(_.r2p(h[d])+E*b),_.autorange==="min"||_.autorange==="max reversed"?(g[0]=null,_._rangeInitial0=void 0,_._rangeInitial1=void 0):(_.autorange==="max"||_.autorange==="min reversed")&&(g[1]=null,_._rangeInitial0=void 0,_._rangeInitial1=void 0),n._insideTickLabelsUpdaterange[_._name+".range"]=g}var F=zt.syncOrAsync(w);return F&&F.then&&e._promises.push(F),F};function vve(e,r,t){var n=r._id+"divider",a=t.vals,o=t.layer.selectAll("path."+n).data(a,Qm);o.exit().remove(),o.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(sp.stroke,r.dividercolor).style("stroke-width",zo.crispRound(e,r.dividerwidth,1)+"px"),o.attr("transform",t.transFn).attr("d",t.path)}Ir.getPxPosition=function(e,r){var t=e._fullLayout._size,n=r._id.charAt(0),a=r.side,o;if(r.anchor!=="free"?o=r._anchorAxis:n==="x"?o={_offset:t.t+(1-(r.position||0))*t.h,_length:0}:n==="y"&&(o={_offset:t.l+(r.position||0)*t.w+r._shift,_length:0}),a==="top"||a==="left")return o._offset;if(a==="bottom"||a==="right")return o._offset+o._length};function OF(e){var r=e.title.font.size,t=(e.title.text.match(t0.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r*(a0+t*fp):t?r*(t+1)*fp:r}function dve(e,r){var t=e._fullLayout,n=r._id,a=n.charAt(0),o=r.title.font.size,i,s=(r.title.text.match(t0.BR_TAG_ALL)||[]).length;if(r.title.hasOwnProperty("standoff"))r.side==="bottom"||r.side==="right"?i=r._depth+r.title.standoff+o*a0:(r.side==="top"||r.side==="left")&&(i=r._depth+r.title.standoff+o*(ip+s*fp));else{var f=cp(r);if(r.type==="multicategory")i=r._depth;else{var l=1.5*o;f&&(l=.5*o,r.ticks==="outside"&&(l+=r.ticklen)),i=10+l+(r.linewidth?r.linewidth-1:0)}f||(a==="x"?i+=r.side==="top"?o*(r.showticklabels?1:0):o*(r.showticklabels?1.5:.5):i+=r.side==="right"?o*(r.showticklabels?1:.5):o*(r.showticklabels?.5:0))}var u=Ir.getPxPosition(e,r),c,v,m;a==="x"?(v=r._offset+r._length/2,m=r.side==="top"?u-i:u+i):(m=r._offset+r._length/2,v=r.side==="right"?u+i:u-i,c={rotate:"-90",offset:0});var x;if(r.type!=="multicategory"){var A=r._selections[r._id+"tick"];if(x={selection:A,side:r.side},A&&A.node()&&A.node().parentNode){var w=zo.getTranslate(A.node().parentNode);x.offsetLeft=w.x,x.offsetTop=w.y}r.title.hasOwnProperty("standoff")&&(x.pad=0)}return r._titleStandoff=i,Ihe.draw(e,n+"title",{propContainer:r,propName:r._name+".title.text",placeholder:t._dfltTitle[a],avoid:x,transform:c,attributes:{x:v,y:m,"text-anchor":"middle"}})}Ir.shouldShowZeroLine=function(e,r,t){var n=zt.simpleMap(r.range,r.r2l);return n[0]*n[1]<=0&&r.zeroline&&(r.type==="linear"||r.type==="-")&&!(r.rangebreaks&&r.maskBreaks(0)===$m)&&(VF(r,0)||!pve(e,r,t,n)||gve(e,r))};Ir.clipEnds=function(e,r){return r.filter(function(t){return VF(e,t.x)})};function VF(e,r){var t=e.l2p(r);return t>1&&t<e._length-1}function pve(e,r,t,n){var a=t._mainAxis;if(!a)return;var o=e._fullLayout,i=r._id.charAt(0),s=Ir.counterLetter(r._id),f=r._offset+(Math.abs(n[0])<Math.abs(n[1])==(i==="x")?0:r._length);function l(x){if(!x.showline||!x.linewidth)return!1;var A=Math.max((x.linewidth+r.zerolinewidth)/2,1);function w(M){return typeof M=="number"&&Math.abs(M-f)<A}if(w(x._mainLinePosition)||w(x._mainMirrorPosition))return!0;var y=x._linepositions||{};for(var _ in y)if(w(y[_][0])||w(y[_][1]))return!0}var u=o._plots[t._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return l(t,f);for(var c=Ir.list(e,s),v=0;v<c.length;v++){var m=c[v];if(m._mainAxis===a&&l(m,f))return!0}}function gve(e,r){for(var t=e._fullData,n=r._mainSubplot,a=r._id.charAt(0),o=0;o<t.length;o++){var i=t[o];if(i.visible===!0&&i.xaxis+i.yaxis===n&&(op.traceIs(i,"bar-like")&&i.orientation==={x:"h",y:"v"}[a]||i.fill&&i.fill.charAt(i.fill.length-1)===a))return!0}return!1}function h6(e){var r=os.select(e),t=r.select(".text-math-group");return t.empty()?r.select("text"):t}Ir.allowAutoMargin=function(e){for(var r=Ir.list(e,"",!0),t=0;t<r.length;t++){var n=r[t];n.automargin&&(tv.allowAutoMargin(e,g6(n)),n.mirror&&tv.allowAutoMargin(e,YF(n))),op.getComponentMethod("rangeslider","isVisible")(n)&&tv.allowAutoMargin(e,WF(n))}};function g6(e){return e._id+".automargin"}function YF(e){return g6(e)+".mirror"}function WF(e){return e._id+".rangeslider"}Ir.swap=function(e,r){for(var t=yve(e,r),n=0;n<t.length;n++)mve(e,t[n].x,t[n].y)};function yve(e,r){var t=[],n,a;for(n=0;n<r.length;n++){var o=[],i=e._fullData[r[n]].xaxis,s=e._fullData[r[n]].yaxis;if(!(!i||!s)){for(a=0;a<t.length;a++)(t[a].x.indexOf(i)!==-1||t[a].y.indexOf(s)!==-1)&&o.push(a);if(!o.length){t.push({x:[i],y:[s]});continue}var f=t[o[0]],l;if(o.length>1)for(a=1;a<o.length;a++)l=t[o[a]],Hm(f.x,l.x),Hm(f.y,l.y);Hm(f.x,[i]),Hm(f.y,[s])}}return t}function Hm(e,r){for(var t=0;t<r.length;t++)e.indexOf(r[t])===-1&&e.push(r[t])}function mve(e,r,t){var n=[],a=[],o=e.layout,i,s;for(i=0;i<r.length;i++)n.push(Ir.getFromId(e,r[i]));for(i=0;i<t.length;i++)a.push(Ir.getFromId(e,t[i]));var f=Object.keys(Phe),l=["anchor","domain","overlaying","position","side","tickangle","editType"],u=["linear","log"];for(i=0;i<f.length;i++){var c=f[i],v=n[0][c],m=a[0][c],x=!0,A=!1,w=!1;if(!(c.charAt(0)==="_"||typeof v=="function"||l.indexOf(c)!==-1)){for(s=1;s<n.length&&x;s++){var y=n[s][c];c==="type"&&u.indexOf(v)!==-1&&u.indexOf(y)!==-1&&v!==y?A=!0:y!==v&&(x=!1)}for(s=1;s<a.length&&x;s++){var _=a[s][c];c==="type"&&u.indexOf(m)!==-1&&u.indexOf(_)!==-1&&m!==_?w=!0:a[s][c]!==m&&(x=!1)}x&&(A&&(o[n[0]._name].type="linear"),w&&(o[a[0]._name].type="linear"),xve(o,c,n,a,e._fullLayout._dfltTitle))}}for(i=0;i<e._fullLayout.annotations.length;i++){var M=e._fullLayout.annotations[i];r.indexOf(M.xref)!==-1&&t.indexOf(M.yref)!==-1&&zt.swapAttrs(o.annotations[i],["?"])}}function xve(e,r,t,n,a){var o=zt.nestedProperty,i=o(e[t[0]._name],r).get(),s=o(e[n[0]._name],r).get(),f;for(r==="title"&&(i&&i.text===a.x&&(i.text=a.y),s&&s.text===a.y&&(s.text=a.x)),f=0;f<t.length;f++)o(e,t[f]._name+"."+r).set(s);for(f=0;f<n.length;f++)o(e,n[f]._name+"."+r).set(i)}function y6(e){return e._id==="angularaxis"}function o6(e,r){for(var t=r._rangebreaks.length,n=0;n<t;n++){var a=r._rangebreaks[n];if(e>=a.min&&e<a.max)return a.max}return e}function cp(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function e3(e,r){cp(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(r)}function v6(e,r,t,n){var a=e.anchor!=="free"&&(e.overlaying===void 0||e.overlaying===!1)?e._id:e.overlaying,o;n?o=e.side==="right"?r:-r:o=r,a in t||(t[a]={}),e.side in t[a]||(t[a][e.side]=0),t[a][e.side]+=o}function bve(e,r){return e.autoshift?r[e.overlaying][e.side]:e.shift||0}function _ve(e,r){return/%f/.test(r)?e>=zhe:/%L/.test(r)?e>=qhe:/%[SX]/.test(r)?e>=Zm:/%M/.test(r)?e>=lp:/%[HI]/.test(r)?e>=Tl:/%p/.test(r)?e>=Tu:/%[Aadejuwx]/.test(r)?e>=Bi:/%[UVW]/.test(r)?e>=Uo:/%[Bbm]/.test(r)?e>=Xm:/%[q]/.test(r)?e>=Wm:/%[Yy]/.test(r)?e>=Ym:!0}});var jF=ie((eIe,ZF)=>{"use strict";ZF.exports=function(r,t,n){var a,o;if(n){var i=t==="reversed"||t==="min reversed"||t==="max reversed";a=n[i?1:0],o=n[i?0:1]}var s=r("autorangeoptions.minallowed",o===null?a:void 0),f=r("autorangeoptions.maxallowed",a===null?o:void 0);s===void 0&&r("autorangeoptions.clipmin"),f===void 0&&r("autorangeoptions.clipmax"),r("autorangeoptions.include")}});var m6=ie((rIe,JF)=>{"use strict";var wve=jF();JF.exports=function(r,t,n,a){var o=t._template||{},i=t.type||o.type||"-";n("minallowed"),n("maxallowed");var s=n("range");if(!s){var f;!a.noInsiderange&&i!=="log"&&(f=n("insiderange"),f&&(f[0]===null||f[1]===null)&&(t.insiderange=!1,f=void 0),f&&(s=n("range",f)))}var l=t.getAutorangeDflt(s,a),u=n("autorange",l),c;s&&(s[0]===null&&s[1]===null||(s[0]===null||s[1]===null)&&(u==="reversed"||u===!0)||s[0]!==null&&(u==="min"||u==="max reversed")||s[1]!==null&&(u==="max"||u==="min reversed"))&&(s=void 0,delete t.range,t.autorange=!0,c=!0),c||(l=t.getAutorangeDflt(s,a),u=n("autorange",l)),u&&(wve(n,u,s),(i==="linear"||i==="-")&&n("rangemode")),t.cleanRange()}});var x6=ie((tIe,$F)=>{var Ave={left:0,top:0};$F.exports=Tve;function Tve(e,r,t){r=r||e.currentTarget||e.srcElement,Array.isArray(t)||(t=[0,0]);var n=e.clientX||0,a=e.clientY||0,o=Mve(r);return t[0]=n-o.left,t[1]=a-o.top,t}function Mve(e){return e===window||e===document||e===document.body?Ave:e.getBoundingClientRect()}});var r3=ie((nIe,KF)=>{"use strict";var Eve=Xw();function Sve(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(t){e=!1}return e}KF.exports=Eve&&Sve()});var eI=ie((aIe,QF)=>{"use strict";QF.exports=function(r,t,n,a,o){var i=(r-n)/(a-n),s=i+t/(a-n),f=(i+s)/2;return o==="left"||o==="bottom"?i:o==="center"||o==="middle"?f:o==="right"||o==="top"?s:i<2/3-f?i:s>4/3-f?s:f}});var nI=ie((iIe,tI)=>{"use strict";var rI=wr(),Cve=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];tI.exports=function(r,t,n,a){return n==="left"?r=0:n==="center"?r=1:n==="right"?r=2:r=rI.constrain(Math.floor(r*3),0,2),a==="bottom"?t=0:a==="middle"?t=1:a==="top"?t=2:t=rI.constrain(Math.floor(t*3),0,2),Cve[t][r]}});var iI=ie((oIe,aI)=>{"use strict";var kve=Y1(),Lve=nm(),Rve=N1().getGraphDiv,Dve=P1(),b6=aI.exports={};b6.wrapped=function(e,r,t){e=Rve(e),e._fullLayout&&Lve.clear(e._fullLayout._uid+Dve.HOVERID),b6.raw(e,r,t)};b6.raw=function(r,t){var n=r._fullLayout,a=r._hoverdata;t||(t={}),!(t.target&&!r._dragged&&kve.triggerHandler(r,"plotly_beforehover",t)===!1)&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,t.target&&a&&r.emit("plotly_unhover",{event:t,points:a}))}});var Bs=ie((sIe,lI)=>{"use strict";var Fve=x6(),_6=jw(),Ive=r3(),Pve=wr().removeElement,Ove=Pa(),i0=lI.exports={};i0.align=eI();i0.getCursor=nI();var oI=iI();i0.unhover=oI.wrapped;i0.unhoverRaw=oI.raw;i0.init=function(r){var t=r.gd,n=1,a=t._context.doubleClickDelay,o=r.element,i,s,f,l,u,c,v,m;t._mouseDownTime||(t._mouseDownTime=0),o.style.pointerEvents="all",o.onmousedown=w,Ive?(o._ontouchstart&&o.removeEventListener("touchstart",o._ontouchstart),o._ontouchstart=w,o.addEventListener("touchstart",w,{passive:!1})):o.ontouchstart=w;function x(M,b,E){return Math.abs(M)<E&&(M=0),Math.abs(b)<E&&(b=0),[M,b]}var A=r.clampFn||x;function w(M){t._dragged=!1,t._dragging=!0;var b=w6(M);i=b[0],s=b[1],v=M.target,c=M,m=M.buttons===2||M.ctrlKey,typeof M.clientX=="undefined"&&typeof M.clientY=="undefined"&&(M.clientX=i,M.clientY=s),f=new Date().getTime(),f-t._mouseDownTime<a?n+=1:(n=1,t._mouseDownTime=f),r.prepFn&&r.prepFn(M,i,s),_6&&!m?(u=sI(),u.style.cursor=window.getComputedStyle(o).cursor):_6||(u=document,l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(o).cursor),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),r.dragmode!==!1&&(M.preventDefault(),document.addEventListener("mousemove",y),document.addEventListener("touchmove",y,{passive:!1}))}function y(M){M.preventDefault();var b=w6(M),E=r.minDrag||Ove.MINDRAG,d=A(b[0]-i,b[1]-s,E),T=d[0],g=d[1];(T||g)&&(t._dragged=!0,i0.unhover(t,M)),t._dragged&&r.moveFn&&!m&&(t._dragdata={element:o,dx:T,dy:g},r.moveFn(T,g))}function _(M){if(delete t._dragdata,r.dragmode!==!1&&(M.preventDefault(),document.removeEventListener("mousemove",y),document.removeEventListener("touchmove",y)),document.removeEventListener("mouseup",_),document.removeEventListener("touchend",_),_6?Pve(u):l&&(u.documentElement.style.cursor=l,l=null),!t._dragging){t._dragged=!1;return}if(t._dragging=!1,new Date().getTime()-t._mouseDownTime>a&&(n=Math.max(n-1,1)),t._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(n,c),!m){var b;try{b=new MouseEvent("click",M)}catch(d){var E=w6(M);b=document.createEvent("MouseEvents"),b.initMouseEvent("click",M.bubbles,M.cancelable,M.view,M.detail,M.screenX,M.screenY,E[0],E[1],M.ctrlKey,M.altKey,M.shiftKey,M.metaKey,M.button,M.relatedTarget)}v.dispatchEvent(b)}t._dragging=!1,t._dragged=!1}};function sI(){var e=document.createElement("div");e.className="dragcover";var r=e.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(e),e}i0.coverSlip=sI;function w6(e){return Fve(e.changedTouches?e.changedTouches[0]:e,document.body)}});var Mu=ie((lIe,fI)=>{"use strict";fI.exports=function(r,t){(r.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&r.classed(n,!1)}),t&&r.classed("cursor-"+t,!0)}});var hI=ie((fIe,cI)=>{"use strict";var A6=Mu(),hp="data-savedcursor",uI="!!";cI.exports=function(r,t){var n=r.attr(hp);if(t){if(!n){for(var a=(r.attr("class")||"").split(" "),o=0;o<a.length;o++){var i=a[o];i.indexOf("cursor-")===0&&r.attr(hp,i.substr(7)).classed(i,!1)}r.attr(hp)||r.attr(hp,uI)}A6(r,t)}else n&&(r.attr(hp,null),n===uI?A6(r):A6(r,n))}});var M6=ie((uIe,vI)=>{"use strict";var T6=ci(),Nve=pl();vI.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:Nve.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:T6({editType:"legend"}),grouptitlefont:T6({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:T6({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}});var n3=ie(t3=>{"use strict";t3.isGrouped=function(r){return(r.traceorder||"").indexOf("grouped")!==-1};t3.isVertical=function(r){return r.orientation!=="h"};t3.isReversed=function(r){return(r.traceorder||"").indexOf("reversed")!==-1}});var C6=ie((hIe,dI)=>{"use strict";var E6=Dt(),Go=wr(),Bve=Yn(),qve=rs(),zve=M6(),Uve=zc(),S6=n3();function Gve(e,r,t,n){var a=r[e]||{},o=Bve.newContainer(t,e);function i(F,L){return Go.coerce(a,o,zve,F,L)}var s=Go.coerceFont(i,"font",t.font);i("bgcolor",t.paper_bgcolor),i("bordercolor");var f=i("visible");if(f){for(var l,u=function(F,L){var I=l._input,q=l;return Go.coerce(I,q,qve,F,L)},c=t.font||{},v=Go.coerceFont(i,"grouptitlefont",c,{overrideDflt:{size:Math.round(c.size*1.1)}}),m=0,x=!1,A="normal",w=(t.shapes||[]).filter(function(F){return F.showlegend}),y=n.concat(w).filter(function(F){return e===(F.legend||"legend")}),_=0;_<y.length;_++)if(l=y[_],!!l.visible){var M=l._isShape;(l.showlegend||l._dfltShowLegend&&!(l._module&&l._module.attributes&&l._module.attributes.showlegend&&l._module.attributes.showlegend.dflt===!1))&&(m++,l.showlegend&&(x=!0,(!M&&E6.traceIs(l,"pie-like")||l._input.showlegend===!0)&&m++),Go.coerceFont(u,"legendgrouptitle.font",v)),(!M&&E6.traceIs(l,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(l.fill)!==-1)&&(A=S6.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),l.legendgroup!==void 0&&l.legendgroup!==""&&(A=S6.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var b=Go.coerce(r,t,Uve,"showlegend",x&&m>(e==="legend"?1:0));if(b===!1&&(t[e]=void 0),!(b===!1&&!a.uirevision)&&(i("uirevision",t.uirevision),b!==!1)){i("borderwidth");var E=i("orientation"),d=i("yref"),T=i("xref"),g=E==="h",h=d==="paper",S=T==="paper",p,C,k,D="left";g?(p=0,E6.getComponentMethod("rangeslider","isVisible")(r.xaxis)?h?(C=1.1,k="bottom"):(C=1,k="top"):h?(C=-.1,k="top"):(C=0,k="bottom")):(C=1,k="auto",S?p=1.02:(p=1,D="right")),Go.coerce(a,o,{x:{valType:"number",editType:"legend",min:S?-2:0,max:S?3:1,dflt:p}},"x"),Go.coerce(a,o,{y:{valType:"number",editType:"legend",min:h?-2:0,max:h?3:1,dflt:C}},"y"),i("traceorder",A),S6.isGrouped(t[e])&&i("tracegroupgap"),i("entrywidth"),i("entrywidthmode"),i("indentation"),i("itemsizing"),i("itemwidth"),i("itemclick"),i("itemdoubleclick"),i("groupclick"),i("xanchor",D),i("yanchor",k),i("valign"),Go.noneOrAll(a,o,["x","y"]);var P=i("title.text");if(P){i("title.side",g?"left":"top");var O=Go.extendFlat({},s,{size:Go.bigFont(s.size)});Go.coerceFont(i,"title.font",O)}}}}dI.exports=function(r,t,n){var a,o=n.slice(),i=t.shapes;if(i)for(a=0;a<i.length;a++){var s=i[a];if(s.showlegend){var f={_input:s._input,visible:s.visible,showlegend:s.showlegend,legend:s.legend};o.push(f)}}var l=["legend"];for(a=0;a<o.length;a++)Go.pushUnique(l,o[a].legend);for(t._legends=[],a=0;a<l.length;a++){var u=l[a];Gve(u,r,t,o),t[u]&&t[u].visible&&(t[u]._id=u),t._legends.push(u)}}});var gI=ie((vIe,pI)=>{"use strict";var Eu=Dt(),a3=wr(),Hve=a3.pushUnique,k6=!0;pI.exports=function(r,t,n){var a=t._fullLayout;if(t._dragged||t._editing)return;var o=a.legend.itemclick,i=a.legend.itemdoubleclick,s=a.legend.groupclick;n===1&&o==="toggle"&&i==="toggleothers"&&k6&&t.data&&t._context.showTips&&a3.notifier(a3._(t,"Double-click on legend to isolate one trace"),"long"),k6=!1;var f;if(n===1?f=o:n===2&&(f=i),!f)return;var l=s==="togglegroup",u=a.hiddenlabels?a.hiddenlabels.slice():[],c=r.data()[0][0];if(c.groupTitle&&c.noClick)return;var v=t._fullData,m=(a.shapes||[]).filter(function(be){return be.showlegend}),x=v.concat(m),A=c.trace;A._isShape&&(A=A._fullInput);var w=A.legendgroup,y,_,M,b,E,d,T={},g=[],h=[],S=[];function p(be,we){var Se=g.indexOf(be),Ae=T.visible;return Ae||(Ae=T.visible=[]),g.indexOf(be)===-1&&(g.push(be),Se=g.length-1),Ae[Se]=we,Se}var C=(a.shapes||[]).map(function(be){return be._input}),k=!1;function D(be,we){C[be].visible=we,k=!0}function P(be,we){if(!(c.groupTitle&&!l)){var Se=be._fullInput||be,Ae=Se._isShape,Ie=Se.index;if(Ie===void 0&&(Ie=Se._index),Eu.hasTransform(Se,"groupby")){var Ve=h[Ie];if(!Ve){var pe=Eu.getTransformIndices(Se,"groupby"),xe=pe[pe.length-1];Ve=a3.keyedContainer(Se,"transforms["+xe+"].styles","target","value.visible"),h[Ie]=Ve}var Te=Ve.get(be._group);Te===void 0&&(Te=!0),Te!==!1&&Ve.set(be._group,we),S[Ie]=p(Ie,Se.visible!==!1)}else{var qe=Se.visible===!1?!1:we;Ae?D(Ie,qe):p(Ie,qe)}}}var O=A.legend,F=A._fullInput,L=F&&F._isShape;if(!L&&Eu.traceIs(A,"pie-like")){var I=c.label,q=u.indexOf(I);if(f==="toggle")q===-1?u.push(I):u.splice(q,1);else if(f==="toggleothers"){var z=q!==-1,W=[];for(y=0;y<t.calcdata.length;y++){var $=t.calcdata[y];for(_=0;_<$.length;_++){var j=$[_],G=j.label;O===$[0].trace.legend&&I!==G&&(u.indexOf(G)===-1&&(z=!0),Hve(u,G),W.push(G))}}if(!z)for(var B=0;B<W.length;B++){var X=u.indexOf(W[B]);X!==-1&&u.splice(X,1)}}Eu.call("_guiRelayout",t,"hiddenlabels",u)}else{var te=w&&w.length,J=[],ae;if(te)for(y=0;y<x.length;y++)ae=x[y],ae.visible&&ae.legendgroup===w&&J.push(y);if(f==="toggle"){var ee;switch(A.visible){case!0:ee="legendonly";break;case!1:ee=!1;break;case"legendonly":ee=!0;break}if(te)if(l)for(y=0;y<x.length;y++){var H=x[y];H.visible!==!1&&H.legendgroup===w&&P(H,ee)}else P(A,ee);else P(A,ee)}else if(f==="toggleothers"){var re,V,ne,le,de,_e=!0;for(y=0;y<x.length;y++)if(de=x[y],re=de===A,ne=de.showlegend!==!0,!(re||ne)&&(V=te&&de.legendgroup===w,!V&&de.legend===O&&de.visible===!0&&!Eu.traceIs(de,"notLegendIsolatable"))){_e=!1;break}for(y=0;y<x.length;y++)if(de=x[y],!(de.visible===!1||de.legend!==O)&&!Eu.traceIs(de,"notLegendIsolatable"))switch(A.visible){case"legendonly":P(de,!0);break;case!0:le=_e?!0:"legendonly",re=de===A,ne=de.showlegend!==!0&&!de.legendgroup,V=re||te&&de.legendgroup===w,P(de,V||ne?!0:le);break}}for(y=0;y<h.length;y++)if(M=h[y],!!M){var me=M.constructUpdate(),ve=Object.keys(me);for(_=0;_<ve.length;_++)b=ve[_],d=T[b]=T[b]||[],d[S[y]]=me[b]}for(E=Object.keys(T),y=0;y<E.length;y++)for(b=E[y],_=0;_<g.length;_++)T[b].hasOwnProperty(_)||(T[b][_]=void 0);k?Eu.call("_guiUpdate",t,T,{shapes:C},g):Eu.call("_guiRestyle",t,T,g)}}});var L6=ie((dIe,yI)=>{"use strict";yI.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var bI=ie((pIe,xI)=>{"use strict";var mI=Dt(),R6=n3();xI.exports=function(r,t,n){var a=t._inHover,o=R6.isGrouped(t),i=R6.isReversed(t),s={},f=[],l=!1,u={},c=0,v=0,m,x;function A(F,L,I){if(t.visible!==!1&&!(n&&F!==t._id))if(L===""||!R6.isGrouped(t)){var q="~~i"+c;f.push(q),s[q]=[I],c++}else f.indexOf(L)===-1?(f.push(L),l=!0,s[L]=[I]):s[L].push(I)}for(m=0;m<r.length;m++){var w=r[m],y=w[0],_=y.trace,M=_.legend,b=_.legendgroup;if(!(!a&&(!_.visible||!_.showlegend)))if(mI.traceIs(_,"pie-like"))for(u[b]||(u[b]={}),x=0;x<w.length;x++){var E=w[x].label;u[b][E]||(A(M,b,{label:E,color:w[x].color,i:w[x].i,trace:_,pts:w[x].pts}),u[b][E]=!0,v=Math.max(v,(E||"").length))}else A(M,b,y),v=Math.max(v,(_.name||"").length)}if(!f.length)return[];var d=!l||!o,T=[];for(m=0;m<f.length;m++){var g=s[f[m]];d?T.push(g[0]):T.push(g)}for(d&&(T=[T]),m=0;m<T.length;m++){var h=1/0;for(x=0;x<T[m].length;x++){var S=T[m][x].trace.legendrank;h>S&&(h=S)}T[m][0]._groupMinRank=h,T[m][0]._preGroupSort=m}var p=function(F,L){return F[0]._groupMinRank-L[0]._groupMinRank||F[0]._preGroupSort-L[0]._preGroupSort},C=function(F,L){return F.trace.legendrank-L.trace.legendrank||F._preSort-L._preSort};for(T.forEach(function(F,L){F[0]._preGroupSort=L}),T.sort(p),m=0;m<T.length;m++){T[m].forEach(function(F,L){F._preSort=L}),T[m].sort(C);var k=T[m][0].trace,D=null;for(x=0;x<T[m].length;x++){var P=T[m][x].trace.legendgrouptitle;if(P&&P.text){D=P,a&&(P.font=t._groupTitleFont);break}}if(i&&T[m].reverse(),D){var O=!1;for(x=0;x<T[m].length;x++)if(mI.traceIs(T[m][x].trace,"pie-like")){O=!0;break}T[m].unshift({i:-1,groupTitle:D,noClick:O,trace:{showlegend:k.showlegend,legendgroup:k.legendgroup,visible:t.groupclick==="toggleitem"?!0:k.visible}})}for(x=0;x<T[m].length;x++)T[m][x]=[T[m][x]]}return t._lgroupsLength=T.length,t._maxNameLength=v,T}});var D6=ie(o0=>{"use strict";var i3=wr();function _I(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}o0.formatPiePercent=function(r,t){var n=_I((r*100).toPrecision(3));return i3.numSeparate(n,t)+"%"};o0.formatPieValue=function(r,t){var n=_I(r.toPrecision(10));return i3.numSeparate(n,t)};o0.getFirstFilled=function(r,t){if(i3.isArrayOrTypedArray(r))for(var n=0;n<t.length;n++){var a=r[t[n]];if(a||a===0||a==="")return a}};o0.castOption=function(r,t){if(i3.isArrayOrTypedArray(r))return o0.getFirstFilled(r,t);if(r)return r};o0.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}});var AI=ie((yIe,wI)=>{"use strict";var Vve=zn(),Yve=pn();wI.exports=function(r,t,n,a){var o=n.marker.pattern;o&&o.shape?Vve.pointStyle(r,n,a,t):Yve.fill(r,t.color)}});var SI=ie((mIe,EI)=>{"use strict";var TI=pn(),MI=D6().castOption,Wve=AI();EI.exports=function(r,t,n,a){var o=n.marker.line,i=MI(o.color,t.pts)||TI.defaultLine,s=MI(o.width,t.pts)||0;r.call(Wve,t,n,a).style("stroke-width",s).call(TI.stroke,i)}});var O6=ie((xIe,FI)=>{"use strict";var qi=gn(),F6=Dt(),Ci=wr(),CI=Ci.strTranslate,Qi=zn(),ss=pn(),I6=Os().extractOpts,o3=hi(),Xve=SI(),Zve=D6().castOption,jve=L6(),kI=12,LI=5,s0=2,Jve=10,iv=5;FI.exports=function(r,t,n){var a=t._fullLayout;n||(n=a.legend);var o=n.itemsizing==="constant",i=n.itemwidth,s=(i+jve.itemGap*2)/2,f=CI(s,0),l=function(T,g,h,S){var p;if(T+1)p=T;else if(g&&g.width>0)p=g.width;else return 0;return o?S:Math.min(p,h)};r.each(function(T){var g=qi.select(this),h=Ci.ensureSingle(g,"g","layers");h.style("opacity",T[0].trace.opacity);var S=n.indentation,p=n.valign,C=T[0].lineHeight,k=T[0].height;if(p==="middle"&&S===0||!C||!k)h.attr("transform",null);else{var D={top:1,bottom:-1}[p],P=D*(.5*(C-k+3))||0,O=n.indentation;h.attr("transform",CI(O,P))}var F=h.selectAll("g.legendfill").data([T]);F.enter().append("g").classed("legendfill",!0);var L=h.selectAll("g.legendlines").data([T]);L.enter().append("g").classed("legendlines",!0);var I=h.selectAll("g.legendsymbols").data([T]);I.enter().append("g").classed("legendsymbols",!0),I.selectAll("g.legendpoints").data([T]).enter().append("g").classed("legendpoints",!0)}).each(d).each(v).each(x).each(m).each(w).each(b).each(M).each(u).each(c).each(y).each(_);function u(T){var g=RI(T),h=g.showFill,S=g.showLine,p=g.showGradientLine,C=g.showGradientFill,k=g.anyFill,D=g.anyLine,P=T[0],O=P.trace,F,L,I=I6(O),q=I.colorscale,z=I.reversescale,W=function(J){if(J.size())if(h)Qi.fillGroupStyle(J,t,!0);else{var ae="legendfill-"+O.uid;Qi.gradient(J,t,ae,P6(z),q,"fill")}},$=function(J){if(J.size()){var ae="legendline-"+O.uid;Qi.lineGroupStyle(J),Qi.gradient(J,t,ae,P6(z),q,"stroke")}},j=o3.hasMarkers(O)||!k?"M5,0":D?"M5,-2":"M5,-3",G=qi.select(this),B=G.select(".legendfill").selectAll("path").data(h||C?[T]:[]);if(B.enter().append("path").classed("js-fill",!0),B.exit().remove(),B.attr("d",j+"h"+i+"v6h-"+i+"z").call(W),S||p){var X=l(void 0,O.line,Jve,LI);L=Ci.minExtend(O,{line:{width:X}}),F=[Ci.minExtend(P,{trace:L})]}var te=G.select(".legendlines").selectAll("path").data(S||p?[F]:[]);te.enter().append("path").classed("js-line",!0),te.exit().remove(),te.attr("d",j+(p?"l"+i+",0.0001":"h"+i)).call(S?Qi.lineGroupStyle:$)}function c(T){var g=RI(T),h=g.anyFill,S=g.anyLine,p=g.showLine,C=g.showMarker,k=T[0],D=k.trace,P=!C&&!S&&!h&&o3.hasText(D),O,F;function L(B,X,te,J){var ae=Ci.nestedProperty(D,B).get(),ee=Ci.isArrayOrTypedArray(ae)&&X?X(ae):ae;if(o&&ee&&J!==void 0&&(ee=J),te){if(ee<te[0])return te[0];if(ee>te[1])return te[1]}return ee}function I(B){return k._distinct&&k.index&&B[k.index]?B[k.index]:B[0]}if(C||P||p){var q={},z={};if(C){q.mc=L("marker.color",I),q.mx=L("marker.symbol",I),q.mo=L("marker.opacity",Ci.mean,[.2,1]),q.mlc=L("marker.line.color",I),q.mlw=L("marker.line.width",Ci.mean,[0,5],s0),z.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var W=L("marker.size",Ci.mean,[2,16],kI);q.ms=W,z.marker.size=W}p&&(z.line={width:L("line.width",I,[0,10],LI)}),P&&(q.tx="Aa",q.tp=L("textposition",I),q.ts=10,q.tc=L("textfont.color",I),q.tf=L("textfont.family",I),q.tw=L("textfont.weight",I),q.ty=L("textfont.style",I),q.tv=L("textfont.variant",I),q.tC=L("textfont.textcase",I),q.tE=L("textfont.lineposition",I),q.tS=L("textfont.shadow",I)),O=[Ci.minExtend(k,q)],F=Ci.minExtend(D,z),F.selectedpoints=null,F.texttemplate=null}var $=qi.select(this).select("g.legendpoints"),j=$.selectAll("path.scatterpts").data(C?O:[]);j.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",f),j.exit().remove(),j.call(Qi.pointStyle,F,t),C&&(O[0].mrc=3);var G=$.selectAll("g.pointtext").data(P?O:[]);G.enter().append("g").classed("pointtext",!0).append("text").attr("transform",f),G.exit().remove(),G.selectAll("text").call(Qi.textPointStyle,F,t)}function v(T){var g=T[0].trace,h=g.type==="waterfall";if(T[0]._distinct&&h){var S=T[0].trace[T[0].dir].marker;return T[0].mc=S.color,T[0].mlw=S.line.width,T[0].mlc=S.line.color,A(T,this,"waterfall")}var p=[];g.visible&&h&&(p=T[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var C=qi.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(p);C.enter().append("path").classed("legendwaterfall",!0).attr("transform",f).style("stroke-miterlimit",1),C.exit().remove(),C.each(function(k){var D=qi.select(this),P=g[k[0]].marker,O=l(void 0,P.line,iv,s0);D.attr("d",k[1]).style("stroke-width",O+"px").call(ss.fill,P.color),O&&D.call(ss.stroke,P.line.color)})}function m(T){A(T,this)}function x(T){A(T,this,"funnel")}function A(T,g,h){var S=T[0].trace,p=S.marker||{},C=p.line||{},k=p.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",D=h?S.visible&&S.type===h:F6.traceIs(S,"bar"),P=qi.select(g).select("g.legendpoints").selectAll("path.legend"+h).data(D?[T]:[]);P.enter().append("path").classed("legend"+h,!0).attr("d",k).attr("transform",f),P.exit().remove(),P.each(function(O){var F=qi.select(this),L=O[0],I=l(L.mlw,p.line,iv,s0);F.style("stroke-width",I+"px");var q=L.mcc;if(!n._inHover&&"mc"in L){var z=I6(p),W=z.mid;W===void 0&&(W=(z.max+z.min)/2),q=Qi.tryColorscale(p,"")(W)}var $=q||L.mc||p.color,j=p.pattern,G=j&&Qi.getPatternAttr(j.shape,0,"");if(G){var B=Qi.getPatternAttr(j.bgcolor,0,null),X=Qi.getPatternAttr(j.fgcolor,0,null),te=j.fgopacity,J=DI(j.size,8,10),ae=DI(j.solidity,.5,1),ee="legend-"+S.uid;F.call(Qi.pattern,"legend",t,ee,G,J,ae,q,j.fillmode,B,X,te)}else F.call(ss.fill,$);I&&ss.stroke(F,L.mlc||C.color)})}function w(T){var g=T[0].trace,h=qi.select(this).select("g.legendpoints").selectAll("path.legendbox").data(g.visible&&F6.traceIs(g,"box-violin")?[T]:[]);h.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",f),h.exit().remove(),h.each(function(){var S=qi.select(this);if((g.boxpoints==="all"||g.points==="all")&&ss.opacity(g.fillcolor)===0&&ss.opacity((g.line||{}).color)===0){var p=Ci.minExtend(g,{marker:{size:o?kI:Ci.constrain(g.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});h.call(Qi.pointStyle,p,t)}else{var C=l(void 0,g.line,iv,s0);S.style("stroke-width",C+"px").call(ss.fill,g.fillcolor),C&&ss.stroke(S,g.line.color)}})}function y(T){var g=T[0].trace,h=qi.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(g.visible&&g.type==="candlestick"?[T,T]:[]);h.enter().append("path").classed("legendcandle",!0).attr("d",function(S,p){return p?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",f).style("stroke-miterlimit",1),h.exit().remove(),h.each(function(S,p){var C=qi.select(this),k=g[p?"increasing":"decreasing"],D=l(void 0,k.line,iv,s0);C.style("stroke-width",D+"px").call(ss.fill,k.fillcolor),D&&ss.stroke(C,k.line.color)})}function _(T){var g=T[0].trace,h=qi.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(g.visible&&g.type==="ohlc"?[T,T]:[]);h.enter().append("path").classed("legendohlc",!0).attr("d",function(S,p){return p?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",f).style("stroke-miterlimit",1),h.exit().remove(),h.each(function(S,p){var C=qi.select(this),k=g[p?"increasing":"decreasing"],D=l(void 0,k.line,iv,s0);C.style("fill","none").call(Qi.dashLine,k.line.dash,D),D&&ss.stroke(C,k.line.color)})}function M(T){E(T,this,"pie")}function b(T){E(T,this,"funnelarea")}function E(T,g,h){var S=T[0],p=S.trace,C=h?p.visible&&p.type===h:F6.traceIs(p,h),k=qi.select(g).select("g.legendpoints").selectAll("path.legend"+h).data(C?[T]:[]);if(k.enter().append("path").classed("legend"+h,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",f),k.exit().remove(),k.size()){var D=p.marker||{},P=l(Zve(D.line.width,S.pts),D.line,iv,s0),O="pieLike",F=Ci.minExtend(p,{marker:{line:{width:P}}},O),L=Ci.minExtend(S,{trace:F},O);Xve(k,L,F,t)}}function d(T){var g=T[0].trace,h,S=[];if(g.visible)switch(g.type){case"histogram2d":case"heatmap":S=[["M-15,-2V4H15V-2Z"]],h=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":S=[["M-6,-6V6H6V-6Z"]],h=!0;break;case"densitymapbox":case"densitymap":S=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],h="radial";break;case"cone":S=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],h=!1;break;case"streamtube":S=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],h=!1;break;case"surface":S=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],h=!0;break;case"mesh3d":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],h=!1;break;case"volume":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],h=!0;break;case"isosurface":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],h=!1;break}var p=qi.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(S);p.enter().append("path").classed("legend3dandfriends",!0).attr("transform",f).style("stroke-miterlimit",1),p.exit().remove(),p.each(function(C,k){var D=qi.select(this),P=I6(g),O=P.colorscale,F=P.reversescale,L=function(W){if(W.size()){var $="legendfill-"+g.uid;Qi.gradient(W,t,$,P6(F,h==="radial"),O,"fill")}},I;if(O){if(!h){var z=O.length;I=k===0?O[F?z-1:0][1]:k===1?O[F?0:z-1][1]:O[Math.floor((z-1)/2)][1]}}else{var q=g.vertexcolor||g.facecolor||g.color;I=Ci.isArrayOrTypedArray(q)?q[k]||q[0]:q}D.attr("d",C[0]),I?D.call(ss.fill,I):D.call(L)})}};function P6(e,r){var t=r?"radial":"horizontal";return t+(e?"":"reversed")}function RI(e){var r=e[0].trace,t=r.contours,n=o3.hasLines(r),a=o3.hasMarkers(r),o=r.visible&&r.fill&&r.fill!=="none",i=!1,s=!1;if(t){var f=t.coloring;f==="lines"?i=!0:n=f==="none"||f==="heatmap"||t.showlines,t.type==="constraint"?o=t._operation!=="=":(f==="fill"||f==="heatmap")&&(s=!0)}return{showMarker:a,showLine:n,showFill:o,showGradientLine:i,showGradientFill:s,anyLine:n||i,anyFill:o||s}}function DI(e,r,t){return e&&Ci.isArrayOrTypedArray(e)?r:e>t?t:e}});var z6=ie((bIe,HI)=>{"use strict";var To=gn(),ka=wr(),B6=Za(),Su=Dt(),II=Y1(),N6=Bs(),Ba=zn(),l3=pn(),l0=Ni(),PI=gI(),ja=L6(),q6=Oi(),UI=q6.LINE_SPACING,sv=q6.FROM_TL,OI=q6.FROM_BR,NI=bI(),$ve=O6(),BI=n3(),ov=1,Kve=/^legend[0-9]*$/;HI.exports=function(r,t){if(t)qI(r,t);else{var n=r._fullLayout,a=n._legends,o=n._infolayer.selectAll('[class^="legend"]');o.each(function(){var l=To.select(this),u=l.attr("class"),c=u.split(" ")[0];c.match(Kve)&&a.indexOf(c)===-1&&l.remove()});for(var i=0;i<a.length;i++){var s=a[i],f=r._fullLayout[s];qI(r,f)}}};function Qve(e,r,t){if(!(r.title.side!=="top center"&&r.title.side!=="top right")){var n=r.title.font,a=n.size*UI,o=0,i=e.node(),s=Ba.bBox(i).width;r.title.side==="top center"?o=.5*(r._width-2*t-2*ja.titlePad-s):r.title.side==="top right"&&(o=r._width-2*t-2*ja.titlePad-s),l0.positionText(e,t+ja.titlePad+o,t+a)}}function qI(e,r){var t=r||{},n=e._fullLayout,a=h3(t),o,i,s=t._inHover;if(s?(i=t.layer,o="hover"):(i=n._infolayer,o=a),!!i){o+=n._uid,e._legendMouseDownTime||(e._legendMouseDownTime=0);var f;if(s){if(!t.entries)return;f=NI(t.entries,t)}else{for(var l=(e.calcdata||[]).slice(),u=n.shapes,c=0;c<u.length;c++){var v=u[c];if(v.showlegend){var m={_isShape:!0,_fullInput:v,index:v._index,name:v.name||v.label.text||"shape "+v._index,legend:v.legend,legendgroup:v.legendgroup,legendgrouptitle:v.legendgrouptitle,legendrank:v.legendrank,legendwidth:v.legendwidth,showlegend:v.showlegend,visible:v.visible,opacity:v.opacity,mode:v.type==="line"?"lines":"markers",line:v.line,marker:{line:v.line,color:v.fillcolor,size:12,symbol:v.type==="rect"?"square":v.type==="circle"?"circle":"hexagon2"}};l.push([{trace:m}])}}f=n.showlegend&&NI(l,t,n._legends.length>1)}var x=n.hiddenlabels||[];if(!s&&(!n.showlegend||!f.length))return i.selectAll("."+a).remove(),n._topdefs.select("#"+o).remove(),B6.autoMargin(e,a);var A=ka.ensureSingle(i,"g",a,function(g){s||g.attr("pointer-events","all")}),w=ka.ensureSingleById(n._topdefs,"clipPath",o,function(g){g.append("rect")}),y=ka.ensureSingle(A,"rect","bg",function(g){g.attr("shape-rendering","crispEdges")});y.call(l3.stroke,t.bordercolor).call(l3.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var _=ka.ensureSingle(A,"g","scrollbox"),M=t.title;t._titleWidth=0,t._titleHeight=0;var b;M.text?(b=ka.ensureSingle(_,"text",a+"titletext"),b.attr("text-anchor","start").call(Ba.font,M.font).text(M.text),f3(b,_,e,t,ov)):_.selectAll("."+a+"titletext").remove();var E=ka.ensureSingle(A,"rect","scrollbar",function(g){g.attr(ja.scrollBarEnterAttrs).call(l3.fill,ja.scrollBarColor)}),d=_.selectAll("g.groups").data(f);d.enter().append("g").attr("class","groups"),d.exit().remove();var T=d.selectAll("g.traces").data(ka.identity);T.enter().append("g").attr("class","traces"),T.exit().remove(),T.style("opacity",function(g){var h=g[0].trace;return Su.traceIs(h,"pie-like")?x.indexOf(g[0].label)!==-1?.5:1:h.visible==="legendonly"?.5:1}).each(function(){To.select(this).call(ede,e,t)}).call($ve,e,t).each(function(){s||To.select(this).call(rde,e,a)}),ka.syncOrAsync([B6.previousPromises,function(){return ade(e,d,T,t)},function(){var g=n._size,h=t.borderwidth,S=t.xref==="paper",p=t.yref==="paper";if(M.text&&Qve(b,t,h),!s){var C,k;S?C=g.l+g.w*t.x-sv[u3(t)]*t._width:C=n.width*t.x-sv[u3(t)]*t._width,p?k=g.t+g.h*(1-t.y)-sv[c3(t)]*t._effHeight:k=n.height*(1-t.y)-sv[c3(t)]*t._effHeight;var D=ide(e,a,C,k);if(D)return;if(n.margin.autoexpand){var P=C,O=k;C=S?ka.constrain(C,0,n.width-t._width):P,k=p?ka.constrain(k,0,n.height-t._effHeight):O,C!==P&&ka.log("Constrain "+a+".x to make legend fit inside graph"),k!==O&&ka.log("Constrain "+a+".y to make legend fit inside graph")}Ba.setTranslate(A,C,k)}if(E.on(".drag",null),A.on("wheel",null),s||t._height<=t._maxHeight||e._context.staticPlot){var F=t._effHeight;s&&(F=t._height),y.attr({width:t._width-h,height:F-h,x:h/2,y:h/2}),Ba.setTranslate(_,0,0),w.select("rect").attr({width:t._width-2*h,height:F-2*h,x:h,y:h}),Ba.setClipUrl(_,o,e),Ba.setRect(E,0,0,0,0),delete t._scrollY}else{var L=Math.max(ja.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),I=t._effHeight-L-2*ja.scrollBarMargin,q=t._height-t._effHeight,z=I/q,W=Math.min(t._scrollY||0,q);y.attr({width:t._width-2*h+ja.scrollBarWidth+ja.scrollBarMargin,height:t._effHeight-h,x:h/2,y:h/2}),w.select("rect").attr({width:t._width-2*h+ja.scrollBarWidth+ja.scrollBarMargin,height:t._effHeight-2*h,x:h,y:h+W}),Ba.setClipUrl(_,o,e),ae(W,L,z),A.on("wheel",function(){W=ka.constrain(t._scrollY+To.event.deltaY/I*q,0,q),ae(W,L,z),W!==0&&W!==q&&To.event.preventDefault()});var $,j,G,B=function(ne,le,de){var _e=(de-le)/z+ne;return ka.constrain(_e,0,q)},X=function(ne,le,de){var _e=(le-de)/z+ne;return ka.constrain(_e,0,q)},te=To.behavior.drag().on("dragstart",function(){var ne=To.event.sourceEvent;ne.type==="touchstart"?$=ne.changedTouches[0].clientY:$=ne.clientY,G=W}).on("drag",function(){var ne=To.event.sourceEvent;ne.buttons===2||ne.ctrlKey||(ne.type==="touchmove"?j=ne.changedTouches[0].clientY:j=ne.clientY,W=B(G,$,j),ae(W,L,z))});E.call(te);var J=To.behavior.drag().on("dragstart",function(){var ne=To.event.sourceEvent;ne.type==="touchstart"&&($=ne.changedTouches[0].clientY,G=W)}).on("drag",function(){var ne=To.event.sourceEvent;ne.type==="touchmove"&&(j=ne.changedTouches[0].clientY,W=X(G,$,j),ae(W,L,z))});_.call(J)}function ae(ne,le,de){t._scrollY=e._fullLayout[a]._scrollY=ne,Ba.setTranslate(_,0,-ne),Ba.setRect(E,t._width,ja.scrollBarMargin+ne*de,ja.scrollBarWidth,le),w.select("rect").attr("y",h+ne)}if(e._context.edits.legendPosition){var ee,H,re,V;A.classed("cursor-move",!0),N6.init({element:A.node(),gd:e,prepFn:function(ne){if(ne.target!==E.node()){var le=Ba.getTranslate(A);re=le.x,V=le.y}},moveFn:function(ne,le){if(re!==void 0&&V!==void 0){var de=re+ne,_e=V+le;Ba.setTranslate(A,de,_e),ee=N6.align(de,t._width,g.l,g.l+g.w,t.xanchor),H=N6.align(_e+t._height,-t._height,g.t+g.h,g.t,t.yanchor)}},doneFn:function(){if(ee!==void 0&&H!==void 0){var ne={};ne[a+".x"]=ee,ne[a+".y"]=H,Su.call("_guiRelayout",e,ne)}},clickFn:function(ne,le){var de=i.selectAll("g.traces").filter(function(){var _e=this.getBoundingClientRect();return le.clientX>=_e.left&&le.clientX<=_e.right&&le.clientY>=_e.top&&le.clientY<=_e.bottom});de.size()>0&&GI(e,A,de,ne,le)}})}}],e)}}function s3(e,r,t){var n=e[0],a=n.width,o=r.entrywidthmode,i=n.trace.legendwidth||r.entrywidth;return o==="fraction"?r._maxWidth*i:t+(i||a)}function GI(e,r,t,n,a){var o=t.data()[0][0].trace,i={event:a,node:t.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(i.group=o._group),Su.traceIs(o,"pie-like")&&(i.label=t.datum()[0].label);var s=II.triggerHandler(e,"plotly_legendclick",i);if(n===1){if(s===!1)return;r._clickTimeout=setTimeout(function(){e._fullLayout&&PI(t,e,n)},e._context.doubleClickDelay)}else if(n===2){r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0;var f=II.triggerHandler(e,"plotly_legenddoubleclick",i);f!==!1&&s!==!1&&PI(t,e,n)}}function ede(e,r,t){var n=h3(t),a=e.data()[0][0],o=a.trace,i=Su.traceIs(o,"pie-like"),s=!t._inHover&&r._context.edits.legendText&&!i,f=t._maxNameLength,l,u;a.groupTitle?(l=a.groupTitle.text,u=a.groupTitle.font):(u=t.font,t.entries?l=a.text:(l=i?a.label:o.name,o._meta&&(l=ka.templateString(l,o._meta))));var c=ka.ensureSingle(e,"text",n+"text");c.attr("text-anchor","start").call(Ba.font,u).text(s?zI(l,f):l);var v=t.indentation+t.itemwidth+ja.itemGap*2;l0.positionText(c,v,0),s?c.call(l0.makeEditable,{gd:r,text:l}).call(f3,e,r,t).on("edit",function(m){this.text(zI(m,f)).call(f3,e,r,t);var x=a.trace._fullInput||{},A={};if(Su.hasTransform(x,"groupby")){var w=Su.getTransformIndices(x,"groupby"),y=w[w.length-1],_=ka.keyedContainer(x,"transforms["+y+"].styles","target","value.name");_.set(a.trace._group,m),A=_.constructUpdate()}else A.name=m;return x._isShape?Su.call("_guiRelayout",r,"shapes["+o.index+"].name",A.name):Su.call("_guiRestyle",r,A,o.index)}):f3(c,e,r,t)}function zI(e,r){var t=Math.max(4,r);if(e&&e.trim().length>=t/2)return e;e=e||"";for(var n=t-e.length;n>0;n--)e+=" ";return e}function rde(e,r,t){var n=r._context.doubleClickDelay,a,o=1,i=ka.ensureSingle(e,"rect",t+"toggle",function(s){r._context.staticPlot||s.style("cursor","pointer").attr("pointer-events","all"),s.call(l3.fill,"rgba(0,0,0,0)")});r._context.staticPlot||(i.on("mousedown",function(){a=new Date().getTime(),a-r._legendMouseDownTime<n?o+=1:(o=1,r._legendMouseDownTime=a)}),i.on("mouseup",function(){if(!(r._dragged||r._editing)){var s=r._fullLayout[t];new Date().getTime()-r._legendMouseDownTime>n&&(o=Math.max(o-1,1)),GI(r,s,e,o,To.event)}}))}function f3(e,r,t,n,a){n._inHover&&e.attr("data-notex",!0),l0.convertToTspans(e,t,function(){tde(r,t,n,a)})}function tde(e,r,t,n){var a=e.data()[0][0];if(!t._inHover&&a&&!a.trace.showlegend){e.remove();return}var o=e.select("g[class*=math-group]"),i=o.node(),s=h3(t);t||(t=r._fullLayout[s]);var f=t.borderwidth,l;n===ov?l=t.title.font:a.groupTitle?l=a.groupTitle.font:l=t.font;var u=l.size*UI,c,v;if(i){var m=Ba.bBox(i);c=m.height,v=m.width,n===ov?Ba.setTranslate(o,f,f+c*.75):Ba.setTranslate(o,0,c*.25)}else{var x="."+s+(n===ov?"title":"")+"text",A=e.select(x),w=l0.lineCount(A),y=A.node();if(c=u*w,v=y?Ba.bBox(y).width:0,n===ov)t.title.side==="left"&&(v+=ja.itemGap*2),l0.positionText(A,f+ja.titlePad,f+u);else{var _=ja.itemGap*2+t.indentation+t.itemwidth;a.groupTitle&&(_=ja.itemGap,v-=t.indentation+t.itemwidth),l0.positionText(A,_,-u*((w-1)/2-.3))}}n===ov?(t._titleWidth=v,t._titleHeight=c):(a.lineHeight=u,a.height=Math.max(c,16)+3,a.width=v)}function nde(e){var r=0,t=0,n=e.title.side;return n&&(n.indexOf("left")!==-1&&(r=e._titleWidth),n.indexOf("top")!==-1&&(t=e._titleHeight)),[r,t]}function ade(e,r,t,n){var a=e._fullLayout,o=h3(n);n||(n=a[o]);var i=a._size,s=BI.isVertical(n),f=BI.isGrouped(n),l=n.entrywidthmode==="fraction",u=n.borderwidth,c=2*u,v=ja.itemGap,m=n.indentation+n.itemwidth+v*2,x=2*(u+v),A=c3(n),w=n.y<0||n.y===0&&A==="top",y=n.y>1||n.y===1&&A==="bottom",_=n.tracegroupgap,M={};n._maxHeight=Math.max(w||y?a.height/2:i.h,30);var b=0;n._width=0,n._height=0;var E=nde(n);if(s)t.each(function(G){var B=G[0].height;Ba.setTranslate(this,u+E[0],u+E[1]+n._height+B/2+v),n._height+=B,n._width=Math.max(n._width,G[0].width)}),b=m+n._width,n._width+=v+m+c,n._height+=x,f&&(r.each(function(G,B){Ba.setTranslate(this,0,B*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var d=u3(n),T=n.x<0||n.x===0&&d==="right",g=n.x>1||n.x===1&&d==="left",h=y||w,S=a.width/2;n._maxWidth=Math.max(T?h&&d==="left"?i.l+i.w:S:g?h&&d==="right"?i.r+i.w:S:i.w,2*m);var p=0,C=0;t.each(function(G){var B=s3(G,n,m);p=Math.max(p,B),C+=B}),b=null;var k=0;if(f){var D=0,P=0,O=0;r.each(function(){var G=0,B=0;To.select(this).selectAll("g.traces").each(function(te){var J=s3(te,n,m),ae=te[0].height;Ba.setTranslate(this,E[0],E[1]+u+v+ae/2+B),B+=ae,G=Math.max(G,J),M[te[0].trace.legendgroup]=G});var X=G+v;P>0&&X+u+P>n._maxWidth?(k=Math.max(k,P),P=0,O+=D+_,D=B):D=Math.max(D,B),Ba.setTranslate(this,P,O),P+=X}),n._width=Math.max(k,P)+u,n._height=O+D+x}else{var F=t.size(),L=C+c+(F-1)*v<n._maxWidth,I=0,q=0,z=0,W=0;t.each(function(G){var B=G[0].height,X=s3(G,n,m,f),te=L?X:p;l||(te+=v),te+u+q-v>=n._maxWidth&&(k=Math.max(k,W),q=0,z+=I,n._height+=I,I=0),Ba.setTranslate(this,E[0]+u+q,E[1]+u+z+B/2+v),W=q+X+v,q+=te,I=Math.max(I,B)}),L?(n._width=q+c,n._height=I+x):(n._width=Math.max(k,W)+c,n._height+=I+x)}}n._width=Math.ceil(Math.max(n._width+E[0],n._titleWidth+2*(u+ja.titlePad))),n._height=Math.ceil(Math.max(n._height+E[1],n._titleHeight+2*(u+ja.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var $=e._context.edits,j=$.legendText||$.legendPosition;t.each(function(G){var B=To.select(this).select("."+o+"toggle"),X=G[0].height,te=G[0].trace.legendgroup,J=s3(G,n,m);f&&te!==""&&(J=M[te]);var ae=j?m:b||J;!s&&!l&&(ae+=v/2),Ba.setRect(B,0,-X/2,ae,X)})}function ide(e,r,t,n){var a=e._fullLayout,o=a[r],i=u3(o),s=c3(o),f=o.xref==="paper",l=o.yref==="paper";e._fullLayout._reservedMargin[r]={};var u=o.y<.5?"b":"t",c=o.x<.5?"l":"r",v={r:a.width-t,l:t+o._width,b:a.height-n,t:n+o._effHeight};if(f&&l)return B6.autoMargin(e,r,{x:o.x,y:o.y,l:o._width*sv[i],r:o._width*OI[i],b:o._effHeight*OI[s],t:o._effHeight*sv[s]});f?e._fullLayout._reservedMargin[r][u]=v[u]:l||o.orientation==="v"?e._fullLayout._reservedMargin[r][c]=v[c]:e._fullLayout._reservedMargin[r][u]=v[u]}function u3(e){return ka.isRightAnchor(e)?"right":ka.isCenterAnchor(e)?"center":"left"}function c3(e){return ka.isBottomAnchor(e)?"bottom":ka.isMiddleAnchor(e)?"middle":"top"}function h3(e){return e._id||"legend"}});var V6=ie(H6=>{"use strict";var f0=gn(),df=cn(),VI=Is(),xa=wr(),ode=xa.pushUnique,U6=xa.strTranslate,sde=xa.strRotate,lde=Y1(),ls=Ni(),fde=hI(),Ml=zn(),ai=pn(),v3=Bs(),El=Rn(),ude=Pa().zindexSeparator,fv=Dt(),qs=hf(),u0=P1(),cde=C6(),hde=z6(),KI=u0.YANGLE,G6=Math.PI*KI/180,vde=1/Math.sin(G6),dde=Math.cos(G6),pde=Math.sin(G6),oa=u0.HOVERARROWSIZE,dn=u0.HOVERTEXTPAD,YI={box:!0,ohlc:!0,violin:!0,candlestick:!0},gde={scatter:!0,scattergl:!0,splom:!0};function WI(e,r){return e.distance-r.distance}H6.hover=function(r,t,n,a){r=xa.getGraphDiv(r);var o=t.target;xa.throttle(r._fullLayout._uid+u0.HOVERID,u0.HOVERMINTIME,function(){yde(r,t,n,a,o)})};H6.loneHover=function(r,t){var n=!0;Array.isArray(r)||(n=!1,r=[r]);var a=t.gd,o=nP(a),i=aP(a),s=r.map(function(w){var y=w._x0||w.x0||w.x||0,_=w._x1||w.x1||w.x||0,M=w._y0||w.y0||w.y||0,b=w._y1||w.y1||w.y||0,E=w.eventData;if(E){var d=Math.min(y,_),T=Math.max(y,_),g=Math.min(M,b),h=Math.max(M,b),S=w.trace;if(fv.traceIs(S,"gl3d")){var p=a._fullLayout[S.scene]._scene.container,C=p.offsetLeft,k=p.offsetTop;d+=C,T+=C,g+=k,h+=k}E.bbox={x0:d+i,x1:T+i,y0:g+o,y1:h+o},t.inOut_bbox&&t.inOut_bbox.push(E.bbox)}else E=!1;return{color:w.color||ai.defaultLine,x0:w.x0||w.x||0,x1:w.x1||w.x||0,y0:w.y0||w.y||0,y1:w.y1||w.y||0,xLabel:w.xLabel,yLabel:w.yLabel,zLabel:w.zLabel,text:w.text,name:w.name,idealAlign:w.idealAlign,borderColor:w.borderColor,fontFamily:w.fontFamily,fontSize:w.fontSize,fontColor:w.fontColor,fontWeight:w.fontWeight,fontStyle:w.fontStyle,fontVariant:w.fontVariant,nameLength:w.nameLength,textAlign:w.textAlign,trace:w.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:w.hovertemplate||!1,hovertemplateLabels:w.hovertemplateLabels||!1,eventData:E}}),f=!1,l=eP(s,{gd:a,hovermode:"closest",rotateLabels:f,bgColor:t.bgColor||ai.background,container:f0.select(t.container),outerContainer:t.outerContainer||t.container}),u=l.hoverLabels,c=5,v=0,m=0;u.sort(function(w,y){return w.y0-y.y0}).each(function(w,y){var _=w.y0-w.by/2;_-c<v?w.offset=v-_+c:w.offset=0,v=_+w.by+w.offset,y===t.anchorIndex&&(m=w.offset)}).each(function(w){w.offset-=m});var x=a._fullLayout._invScaleX,A=a._fullLayout._invScaleY;return tP(u,f,x,A),n?u:u.node()};function yde(e,r,t,n,a){t||(t="xy"),typeof t=="string"&&(t=t.split(ude)[0]);var o=Array.isArray(t)?t:[t],i,s=e._fullLayout,f=s.hoversubplots,l=s._plots||[],u=l[t],c=s._has("cartesian"),v=r.hovermode||s.hovermode,m=(v||"").charAt(0)==="x",x=(v||"").charAt(0)==="y",A,w;if(c&&(m||x)&&f==="axis"){for(var y=o.length,_=0;_<y;_++)if(i=o[_],l[i]){A=El.getFromId(e,i,"x"),w=El.getFromId(e,i,"y");var M=(m?A:w)._subplotsWith;if(M&&M.length)for(var b=0;b<M.length;b++)ode(o,M[b])}}if(u&&f!=="single"){var E=u.overlays.map(function(it){return it.id});o=o.concat(E)}for(var d=o.length,T=new Array(d),g=new Array(d),h=!1,S=0;S<d;S++)if(i=o[S],l[i])h=!0,T[S]=l[i].xaxis,g[S]=l[i].yaxis;else if(s[i]&&s[i]._subplot){var p=s[i]._subplot;T[S]=p.xaxis,g[S]=p.yaxis}else{xa.warn("Unrecognized subplot: "+i);return}if(v&&!h&&(v="closest"),["x","y","closest","x unified","y unified"].indexOf(v)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return v3.unhoverRaw(e,r);var C=s.hoverdistance;C===-1&&(C=1/0);var k=s.spikedistance;k===-1&&(k=1/0);var D=[],P=[],O,F,L,I,q,z,W,$,j,G,B,X,te,J={hLinePoint:null,vLinePoint:null},ae=!1;if(Array.isArray(r))for(v="array",L=0;L<r.length;L++)q=e.calcdata[r[L].curveNumber||0],q&&(z=q[0].trace,q[0].trace.hoverinfo!=="skip"&&(P.push(q),z.orientation==="h"&&(ae=!0)));else{var ee=e.calcdata.slice();for(ee.sort(function(it,Mn){var Lt=it[0].trace.zorder||0,$t=Mn[0].trace.zorder||0;return Lt-$t}),I=0;I<ee.length;I++)q=ee[I],z=q[0].trace,z.hoverinfo!=="skip"&&qs.isTraceInSubplots(z,o)&&(P.push(q),z.orientation==="h"&&(ae=!0));var H=!a,re,V;if(H)"xpx"in r?re=r.xpx:re=T[0]._length/2,"ypx"in r?V=r.ypx:V=g[0]._length/2;else{if(lde.triggerHandler(e,"plotly_beforehover",r)===!1)return;var ne=a.getBoundingClientRect();re=r.clientX-ne.left,V=r.clientY-ne.top,s._calcInverseTransform(e);var le=xa.apply3DTransform(s._invTransform)(re,V);if(re=le[0],V=le[1],re<0||re>T[0]._length||V<0||V>g[0]._length)return v3.unhoverRaw(e,r)}if(r.pointerX=re+T[0]._offset,r.pointerY=V+g[0]._offset,"xval"in r?O=qs.flat(o,r.xval):O=qs.p2c(T,re),"yval"in r?F=qs.flat(o,r.yval):F=qs.p2c(g,V),!df(O[0])||!df(F[0]))return xa.warn("Fx.hover failed",r,e),v3.unhoverRaw(e,r)}var de=1/0;function _e(it,Mn){for(I=0;I<P.length;I++)if(q=P[I],!(!q||!q[0]||!q[0].trace)&&(z=q[0].trace,!(z.visible!==!0||z._length===0)&&["carpet","contourcarpet"].indexOf(z._module.name)===-1)){if(j=v,qs.isUnifiedHover(j)&&(j=j.charAt(0)),z.type==="splom"?($=0,W=o[$]):(W=qs.getSubplot(z),$=o.indexOf(W)),X={cd:q,trace:z,xa:T[$],ya:g[$],maxHoverDistance:C,maxSpikeDistance:k,index:!1,distance:Math.min(de,C),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:ai.defaultLine,name:z.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},s[W]&&(X.subplot=s[W]._subplot),s._splomScenes&&s._splomScenes[z.uid]&&(X.scene=s._splomScenes[z.uid]),j==="array"){var Lt=r[I];"pointNumber"in Lt?(X.index=Lt.pointNumber,j="closest"):(j="","xval"in Lt&&(G=Lt.xval,j="x"),"yval"in Lt&&(B=Lt.yval,j=j?"closest":"y"))}else it!==void 0&&Mn!==void 0?(G=it,B=Mn):(G=O[$],B=F[$]);if(te=D.length,C!==0)if(z._module&&z._module.hoverPoints){var $t=z._module.hoverPoints(X,G,B,j,{finiteRange:!0,hoverLayer:s._hoverlayer,hoversubplots:f,gd:e});if($t)for(var Un,Gt=0;Gt<$t.length;Gt++)Un=$t[Gt],df(Un.x0)&&df(Un.y0)&&D.push(_de(Un,v))}else xa.log("Unrecognized trace type in hover:",z);if(v==="closest"&&D.length>te&&(D.splice(0,te),de=D[0].distance),c&&k!==0&&D.length===0){X.distance=k,X.index=!1;var Yt=z._module.hoverPoints(X,G,B,"closest",{hoverLayer:s._hoverlayer});if(Yt&&(Yt=Yt.filter(function(xn){return xn.spikeDistance<=k})),Yt&&Yt.length){var Gn,Vn=Yt.filter(function(xn){return xn.xa.showspikes&&xn.xa.spikesnap!=="hovered data"});if(Vn.length){var Va=Vn[0];df(Va.x0)&&df(Va.y0)&&(Gn=ve(Va),(!J.vLinePoint||J.vLinePoint.spikeDistance>Gn.spikeDistance)&&(J.vLinePoint=Gn))}var va=Yt.filter(function(xn){return xn.ya.showspikes&&xn.ya.spikesnap!=="hovered data"});if(va.length){var Qn=va[0];df(Qn.x0)&&df(Qn.y0)&&(Gn=ve(Qn),(!J.hLinePoint||J.hLinePoint.spikeDistance>Gn.spikeDistance)&&(J.hLinePoint=Gn))}}}}}_e();function me(it,Mn,Lt){for(var $t=null,Un=1/0,Gt,Yt=0;Yt<it.length;Yt++)A&&A._id!==it[Yt].xa._id||w&&w._id!==it[Yt].ya._id||(Gt=it[Yt].spikeDistance,Lt&&Yt===0&&(Gt=-1/0),Gt<=Un&&Gt<=Mn&&($t=it[Yt],Un=Gt));return $t}function ve(it){return it?{xa:it.xa,ya:it.ya,x:it.xSpike!==void 0?it.xSpike:(it.x0+it.x1)/2,y:it.ySpike!==void 0?it.ySpike:(it.y0+it.y1)/2,distance:it.distance,spikeDistance:it.spikeDistance,curveNumber:it.trace.index,color:it.color,pointNumber:it.index}:null}var be={fullLayout:s,container:s._hoverlayer,event:r},we=e._spikepoints,Se={vLinePoint:J.vLinePoint,hLinePoint:J.hLinePoint};e._spikepoints=Se;var Ae=function(){var it=D.filter(function(Lt){return A&&A._id===Lt.xa._id&&w&&w._id===Lt.ya._id}),Mn=D.filter(function(Lt){return!(A&&A._id===Lt.xa._id&&w&&w._id===Lt.ya._id)});it.sort(WI),Mn.sort(WI),D=it.concat(Mn),D=Ade(D,v)};Ae();var Ie=v.charAt(0),Ve=(Ie==="x"||Ie==="y")&&D[0]&&gde[D[0].trace.type];if(c&&k!==0&&D.length!==0){var pe=D.filter(function(it){return it.ya.showspikes}),xe=me(pe,k,Ve);J.hLinePoint=ve(xe);var Te=D.filter(function(it){return it.xa.showspikes}),qe=me(Te,k,Ve);J.vLinePoint=ve(qe)}if(D.length===0){var er=v3.unhoverRaw(e,r);return c&&(J.hLinePoint!==null||J.vLinePoint!==null)&&jI(we)&&ZI(e,J,be),er}if(c&&jI(we)&&ZI(e,J,be),qs.isXYhover(j)&&D[0].length!==0&&D[0].trace.type!=="splom"){var ze=D[0];YI[ze.trace.type]?D=D.filter(function(it){return it.trace.index===ze.trace.index}):D=[ze];var Ce=D.length,Le=$I("x",ze,s),Ne=$I("y",ze,s);_e(Le,Ne);var tr=[],ir={},mr=0,Tr=function(it){var Mn=YI[it.trace.type]?QI(it):it.trace.index;if(!ir[Mn])mr++,ir[Mn]=mr,tr.push(it);else{var Lt=ir[Mn]-1,$t=tr[Lt];Lt>0&&Math.abs(it.distance)<Math.abs($t.distance)&&(tr[Lt]=it)}},pr;for(pr=0;pr<Ce;pr++)Tr(D[pr]);for(pr=D.length-1;pr>Ce-1;pr--)Tr(D[pr]);D=tr,Ae()}var nr=e._hoverdata,Me=[],Fe=nP(e),ur=aP(e);for(L=0;L<D.length;L++){var je=D[L],Er=qs.makeEventData(je,je.trace,je.cd);if(je.hovertemplate!==!1){var ue=!1;je.cd[je.index]&&je.cd[je.index].ht&&(ue=je.cd[je.index].ht),je.hovertemplate=ue||je.trace.hovertemplate||!1}if(je.xa&&je.ya){var Q=je.x0+je.xa._offset,oe=je.x1+je.xa._offset,Ee=je.y0+je.ya._offset,Xe=je.y1+je.ya._offset,ar=Math.min(Q,oe),yr=Math.max(Q,oe),Kr=Math.min(Ee,Xe),mt=Math.max(Ee,Xe);Er.bbox={x0:ar+ur,x1:yr+ur,y0:Kr+Fe,y1:mt+Fe}}je.eventData=[Er],Me.push(Er)}e._hoverdata=Me;var Ft=v==="y"&&(P.length>1||D.length>1)||v==="closest"&&ae&&D.length>1,wt=ai.combine(s.plot_bgcolor||ai.background,s.paper_bgcolor),bt=eP(D,{gd:e,hovermode:v,rotateLabels:Ft,bgColor:wt,container:s._hoverlayer,outerContainer:s._paper.node(),commonLabelOpts:s.hoverlabel,hoverdistance:s.hoverdistance}),Ln=bt.hoverLabels;if(qs.isUnifiedHover(v)||(xde(Ln,Ft,s,bt.commonLabelBoundingBox),tP(Ln,Ft,s._invScaleX,s._invScaleY)),a&&a.tagName){var tn=fv.getComponentMethod("annotations","hasClickToShow")(e,Me);fde(f0.select(a),tn?"pointer":"")}!a||n||!wde(e,r,nr)||(nr&&e.emit("plotly_unhover",{event:r,points:nr}),e.emit("plotly_hover",{event:r,points:e._hoverdata,xaxes:T,yaxes:g,xvals:O,yvals:F}))}function QI(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var mde=/<extra>([\s\S]*)<\/extra>/;function eP(e,r){var t=r.gd,n=t._fullLayout,a=r.hovermode,o=r.rotateLabels,i=r.bgColor,s=r.container,f=r.outerContainer,l=r.commonLabelOpts||{};if(e.length===0)return[[]];var u=r.fontFamily||u0.HOVERFONT,c=r.fontSize||u0.HOVERFONTSIZE,v=r.fontWeight||n.font.weight,m=r.fontStyle||n.font.style,x=r.fontVariant||n.font.variant,A=r.fontTextcase||n.font.textcase,w=r.fontLineposition||n.font.lineposition,y=r.fontShadow||n.font.shadow,_=e[0],M=_.xa,b=_.ya,E=a.charAt(0),d=E+"Label",T=_[d];if(T===void 0&&M.type==="multicategory")for(var g=0;g<e.length&&(T=e[g][d],T===void 0);g++);var h=lv(t,f),S=h.top,p=h.width,C=h.height,k=T!==void 0&&_.distance<=r.hoverdistance&&(a==="x"||a==="y");if(k){var D=!0,P,O;for(P=0;P<e.length;P++)if(D&&e[P].zLabel===void 0&&(D=!1),O=e[P].hoverinfo||e[P].trace.hoverinfo,O){var F=Array.isArray(O)?O:O.split("+");if(F.indexOf("all")===-1&&F.indexOf(a)===-1){k=!1;break}}D&&(k=!1)}var L=s.selectAll("g.axistext").data(k?[0]:[]);L.enter().append("g").classed("axistext",!0),L.exit().remove();var I={minX:0,maxX:0,minY:0,maxY:0};if(L.each(function(){var Te=f0.select(this),qe=xa.ensureSingle(Te,"path","",function(ar){ar.style({"stroke-width":"1px"})}),er=xa.ensureSingle(Te,"text","",function(ar){ar.attr("data-notex",1)}),ze=l.bgcolor||ai.defaultLine,Ce=l.bordercolor||ai.contrast(ze),Le=ai.contrast(ze),Ne=l.font,tr={weight:Ne.weight||v,style:Ne.style||m,variant:Ne.variant||x,textcase:Ne.textcase||A,lineposition:Ne.lineposition||w,shadow:Ne.shadow||y,family:Ne.family||u,size:Ne.size||c,color:Ne.color||Le};qe.style({fill:ze,stroke:Ce}),er.text(T).call(Ml.font,tr).call(ls.positionText,0,0).call(ls.convertToTspans,t),Te.attr("transform","");var ir=lv(t,er.node()),mr,Tr;if(a==="x"){var pr=M.side==="top"?"-":"";er.attr("text-anchor","middle").call(ls.positionText,0,M.side==="top"?S-ir.bottom-oa-dn:S-ir.top+oa+dn),mr=M._offset+(_.x0+_.x1)/2,Tr=b._offset+(M.side==="top"?0:b._length);var nr=ir.width/2+dn,Me=mr;mr<nr?Me=nr:mr>n.width-nr&&(Me=n.width-nr),qe.attr("d","M"+(mr-Me)+",0L"+(mr-Me+oa)+","+pr+oa+"H"+nr+"v"+pr+(dn*2+ir.height)+"H"+-nr+"V"+pr+oa+"H"+(mr-Me-oa)+"Z"),mr=Me,I.minX=mr-nr,I.maxX=mr+nr,M.side==="top"?(I.minY=Tr-(dn*2+ir.height),I.maxY=Tr-dn):(I.minY=Tr+dn,I.maxY=Tr+(dn*2+ir.height))}else{var Fe,ur,je;b.side==="right"?(Fe="start",ur=1,je="",mr=M._offset+M._length):(Fe="end",ur=-1,je="-",mr=M._offset),Tr=b._offset+(_.y0+_.y1)/2,er.attr("text-anchor",Fe),qe.attr("d","M0,0L"+je+oa+","+oa+"V"+(dn+ir.height/2)+"h"+je+(dn*2+ir.width)+"V-"+(dn+ir.height/2)+"H"+je+oa+"V-"+oa+"Z"),I.minY=Tr-(dn+ir.height/2),I.maxY=Tr+(dn+ir.height/2),b.side==="right"?(I.minX=mr+oa,I.maxX=mr+oa+(dn*2+ir.width)):(I.minX=mr-oa-(dn*2+ir.width),I.maxX=mr-oa);var Er=ir.height/2,ue=S-ir.top-Er,Q="clip"+n._uid+"commonlabel"+b._id,oe;if(mr<ir.width+2*dn+oa){oe="M-"+(oa+dn)+"-"+Er+"h-"+(ir.width-dn)+"V"+Er+"h"+(ir.width-dn)+"Z";var Ee=ir.width-mr+dn;ls.positionText(er,Ee,ue),Fe==="end"&&er.selectAll("tspan").each(function(){var ar=f0.select(this),yr=Ml.tester.append("text").text(ar.text()).call(Ml.font,tr),Kr=lv(t,yr.node());Math.round(Kr.width)<Math.round(ir.width)&&ar.attr("x",Ee-Kr.width),yr.remove()})}else ls.positionText(er,ur*(dn+oa),ue),oe=null;var Xe=n._topclips.selectAll("#"+Q).data(oe?[0]:[]);Xe.enter().append("clipPath").attr("id",Q).append("path"),Xe.exit().remove(),Xe.select("path").attr("d",oe),Ml.setClipUrl(er,oe?Q:null,t)}Te.attr("transform",U6(mr,Tr))}),qs.isUnifiedHover(a)){s.selectAll("g.hovertext").remove();var q=e.filter(function(Te){return Te.hoverinfo!=="none"});if(q.length===0)return[];var z=n.hoverlabel,W=z.font,$={showlegend:!0,legend:{title:{text:T,font:W},font:W,bgcolor:z.bgcolor,bordercolor:z.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},j={font:W};cde($,j,t._fullData);var G=j.legend;G.entries=[];for(var B=0;B<q.length;B++){var X=q[B];if(X.hoverinfo!=="none"){var te=XI(X,!0,a,n,T),J=te[0],ae=te[1];X.name=ae,ae!==""?X.text=ae+" : "+J:X.text=J;var ee=X.cd[X.index];ee&&(ee.mc&&(X.mc=ee.mc),ee.mcc&&(X.mc=ee.mcc),ee.mlc&&(X.mlc=ee.mlc),ee.mlcc&&(X.mlc=ee.mlcc),ee.mlw&&(X.mlw=ee.mlw),ee.mrc&&(X.mrc=ee.mrc),ee.dir&&(X.dir=ee.dir)),X._distinct=!0,G.entries.push([X])}}G.entries.sort(function(Te,qe){return Te[0].trace.index-qe[0].trace.index}),G.layer=s,G._inHover=!0,G._groupTitleFont=z.grouptitlefont,hde(t,G);var H=s.select("g.legend"),re=lv(t,H.node()),V=re.width+2*dn,ne=re.height+2*dn,le=q[0],de=(le.x0+le.x1)/2,_e=(le.y0+le.y1)/2,me=!(fv.traceIs(le.trace,"bar-like")||fv.traceIs(le.trace,"box-violin")),ve,be;E==="y"?me?(be=_e-dn,ve=_e+dn):(be=Math.min.apply(null,q.map(function(Te){return Math.min(Te.y0,Te.y1)})),ve=Math.max.apply(null,q.map(function(Te){return Math.max(Te.y0,Te.y1)}))):be=ve=xa.mean(q.map(function(Te){return(Te.y0+Te.y1)/2}))-ne/2;var we,Se;E==="x"?me?(we=de+dn,Se=de-dn):(we=Math.max.apply(null,q.map(function(Te){return Math.max(Te.x0,Te.x1)})),Se=Math.min.apply(null,q.map(function(Te){return Math.min(Te.x0,Te.x1)}))):we=Se=xa.mean(q.map(function(Te){return(Te.x0+Te.x1)/2}))-V/2;var Ae=M._offset,Ie=b._offset;ve+=Ie,we+=Ae,Se+=Ae-V,be+=Ie-ne;var Ve,pe;return we+V<p&&we>=0?Ve=we:Se+V<p&&Se>=0?Ve=Se:Ae+V<p?Ve=Ae:we-de<de-Se+V?Ve=p-V:Ve=0,Ve+=dn,ve+ne<C&&ve>=0?pe=ve:be+ne<C&&be>=0?pe=be:Ie+ne<C?pe=Ie:ve-_e<_e-be+ne?pe=C-ne:pe=0,pe+=dn,H.attr("transform",U6(Ve-1,pe-1)),H}var xe=s.selectAll("g.hovertext").data(e,function(Te){return QI(Te)});return xe.enter().append("g").classed("hovertext",!0).each(function(){var Te=f0.select(this);Te.append("rect").call(ai.fill,ai.addOpacity(i,.8)),Te.append("text").classed("name",!0),Te.append("path").style("stroke-width","1px"),Te.append("text").classed("nums",!0).call(Ml.font,{weight:v,style:m,variant:x,textcase:A,lineposition:w,shadow:y,family:u,size:c})}),xe.exit().remove(),xe.each(function(Te){var qe=f0.select(this).attr("transform",""),er=Te.color;Array.isArray(er)&&(er=er[Te.eventData[0].pointNumber]);var ze=Te.bgcolor||er,Ce=ai.combine(ai.opacity(ze)?ze:ai.defaultLine,i),Le=ai.combine(ai.opacity(er)?er:ai.defaultLine,i),Ne=Te.borderColor||ai.contrast(Ce),tr=XI(Te,k,a,n,T,qe),ir=tr[0],mr=tr[1],Tr=qe.select("text.nums").call(Ml.font,{family:Te.fontFamily||u,size:Te.fontSize||c,color:Te.fontColor||Ne,weight:Te.fontWeight||v,style:Te.fontStyle||m,variant:Te.fontVariant||x,textcase:Te.fontTextcase||A,lineposition:Te.fontLineposition||w,shadow:Te.fontShadow||y}).text(ir).attr("data-notex",1).call(ls.positionText,0,0).call(ls.convertToTspans,t),pr=qe.select("text.name"),nr=0,Me=0;if(mr&&mr!==ir){pr.call(Ml.font,{family:Te.fontFamily||u,size:Te.fontSize||c,color:Le,weight:Te.fontWeight||v,style:Te.fontStyle||m,variant:Te.fontVariant||x,textcase:Te.fontTextcase||A,lineposition:Te.fontLineposition||w,shadow:Te.fontShadow||y}).text(mr).attr("data-notex",1).call(ls.positionText,0,0).call(ls.convertToTspans,t);var Fe=lv(t,pr.node());nr=Fe.width+2*dn,Me=Fe.height+2*dn}else pr.remove(),qe.select("rect").remove();qe.select("path").style({fill:Ce,stroke:Ne});var ur=Te.xa._offset+(Te.x0+Te.x1)/2,je=Te.ya._offset+(Te.y0+Te.y1)/2,Er=Math.abs(Te.x1-Te.x0),ue=Math.abs(Te.y1-Te.y0),Q=lv(t,Tr.node()),oe=Q.width/n._invScaleX,Ee=Q.height/n._invScaleY;Te.ty0=(S-Q.top)/n._invScaleY,Te.bx=oe+2*dn,Te.by=Math.max(Ee+2*dn,Me),Te.anchor="start",Te.txwidth=oe,Te.tx2width=nr,Te.offset=0;var Xe=(oe+oa+dn+nr)*n._invScaleX,ar,yr;if(o)Te.pos=ur,ar=je+ue/2+Xe<=C,yr=je-ue/2-Xe>=0,(Te.idealAlign==="top"||!ar)&&yr?(je-=ue/2,Te.anchor="end"):ar?(je+=ue/2,Te.anchor="start"):Te.anchor="middle",Te.crossPos=je;else{if(Te.pos=je,ar=ur+Er/2+Xe<=p,yr=ur-Er/2-Xe>=0,(Te.idealAlign==="left"||!ar)&&yr)ur-=Er/2,Te.anchor="end";else if(ar)ur+=Er/2,Te.anchor="start";else{Te.anchor="middle";var Kr=Xe/2,mt=ur+Kr-p,Ft=ur-Kr;mt>0&&(ur-=mt),Ft<0&&(ur+=-Ft)}Te.crossPos=ur}Tr.attr("text-anchor",Te.anchor),nr&&pr.attr("text-anchor",Te.anchor),qe.attr("transform",U6(ur,je)+(o?sde(KI):""))}),{hoverLabels:xe,commonLabelBoundingBox:I}}function XI(e,r,t,n,a,o){var i="",s="";e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=xa.templateString(e.name,e.trace._meta)),i=JI(e.name,e.nameLength));var f=t.charAt(0),l=f==="x"?"y":"x";e.zLabel!==void 0?(e.xLabel!==void 0&&(s+="x: "+e.xLabel+"<br>"),e.yLabel!==void 0&&(s+="y: "+e.yLabel+"<br>"),e.trace.type!=="choropleth"&&e.trace.type!=="choroplethmapbox"&&e.trace.type!=="choroplethmap"&&(s+=(s?"z: ":"")+e.zLabel)):r&&e[f+"Label"]===a?s=e[l+"Label"]||"":e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!=="scattercarpet"&&(s=e.yLabel):e.yLabel===void 0?s=e.xLabel:s="("+e.xLabel+", "+e.yLabel+")",(e.text||e.text===0)&&!Array.isArray(e.text)&&(s+=(s?"<br>":"")+e.text),e.extraText!==void 0&&(s+=(s?"<br>":"")+e.extraText),o&&s===""&&!e.hovertemplate&&(i===""&&o.remove(),s=i);var u=e.hovertemplate||!1;if(u){var c=e.hovertemplateLabels||e;e[f+"Label"]!==a&&(c[f+"other"]=c[f+"Val"],c[f+"otherLabel"]=c[f+"Label"]),s=xa.hovertemplateString(u,c,n._d3locale,e.eventData[0]||{},e.trace._meta),s=s.replace(mde,function(v,m){return i=JI(m,e.nameLength),""})}return[s,i]}function xde(e,r,t,n){var a=r?"xa":"ya",o=r?"ya":"xa",i=0,s=1,f=e.size(),l=new Array(f),u=0,c=n.minX,v=n.maxX,m=n.minY,x=n.maxY,A=function(O){return O*t._invScaleX},w=function(O){return O*t._invScaleY};e.each(function(O){var F=O[a],L=O[o],I=F._id.charAt(0)==="x",q=F.range;u===0&&q&&q[0]>q[1]!==I&&(s=-1);var z=0,W=I?t.width:t.height;if(t.hovermode==="x"||t.hovermode==="y"){var $=rP(O,r),j=O.anchor,G=j==="end"?-1:1,B,X;if(j==="middle")B=O.crossPos+(I?w($.y-O.by/2):A(O.bx/2+O.tx2width/2)),X=B+(I?w(O.by):A(O.bx));else if(I)B=O.crossPos+w(oa+$.y)-w(O.by/2-oa),X=B+w(O.by);else{var te=A(G*oa+$.x),J=te+A(G*O.bx);B=O.crossPos+Math.min(te,J),X=O.crossPos+Math.max(te,J)}I?m!==void 0&&x!==void 0&&Math.min(X,x)-Math.max(B,m)>1&&(L.side==="left"?(z=L._mainLinePosition,W=t.width):W=L._mainLinePosition):c!==void 0&&v!==void 0&&Math.min(X,v)-Math.max(B,c)>1&&(L.side==="top"?(z=L._mainLinePosition,W=t.height):W=L._mainLinePosition)}l[u++]=[{datum:O,traceIndex:O.trace.index,dp:0,pos:O.pos,posref:O.posref,size:O.by*(I?vde:1)/2,pmin:z,pmax:W}]}),l.sort(function(O,F){return O[0].posref-F[0].posref||s*(F[0].traceIndex-O[0].traceIndex)});var y,_,M,b,E,d,T;function g(O){var F=O[0],L=O[O.length-1];if(_=F.pmin-F.pos-F.dp+F.size,M=L.pos+L.dp+L.size-F.pmax,_>.01){for(E=O.length-1;E>=0;E--)O[E].dp+=_;y=!1}if(!(M<.01)){if(_<-.01){for(E=O.length-1;E>=0;E--)O[E].dp-=M;y=!1}if(y){var I=0;for(b=0;b<O.length;b++)d=O[b],d.pos+d.dp+d.size>F.pmax&&I++;for(b=O.length-1;b>=0&&!(I<=0);b--)d=O[b],d.pos>F.pmax-1&&(d.del=!0,I--);for(b=0;b<O.length&&!(I<=0);b++)if(d=O[b],d.pos<F.pmin+1)for(d.del=!0,I--,M=d.size*2,E=O.length-1;E>=0;E--)O[E].dp-=M;for(b=O.length-1;b>=0&&!(I<=0);b--)d=O[b],d.pos+d.dp+d.size>F.pmax&&(d.del=!0,I--)}}}for(;!y&&i<=f;){for(i++,y=!0,b=0;b<l.length-1;){var h=l[b],S=l[b+1],p=h[h.length-1],C=S[0];if(_=p.pos+p.dp+p.size-C.pos-C.dp+C.size,_>.01){for(E=S.length-1;E>=0;E--)S[E].dp+=_;for(h.push.apply(h,S),l.splice(b+1,1),T=0,E=h.length-1;E>=0;E--)T+=h[E].dp;for(M=T/h.length,E=h.length-1;E>=0;E--)h[E].dp-=M;y=!1}else b++}l.forEach(g)}for(b=l.length-1;b>=0;b--){var k=l[b];for(E=k.length-1;E>=0;E--){var D=k[E],P=D.datum;P.offset=D.dp,P.del=D.del}}}function rP(e,r){var t=0,n=e.offset;return r&&(n*=-pde,t=e.offset*dde),{x:t,y:n}}function bde(e){var r={start:1,end:-1,middle:0}[e.anchor],t=r*(oa+dn),n=t+r*(e.txwidth+dn),a=e.anchor==="middle";return a&&(t-=e.tx2width/2,n+=e.txwidth/2+dn),{alignShift:r,textShiftX:t,text2ShiftX:n}}function tP(e,r,t,n){var a=function(i){return i*t},o=function(i){return i*n};e.each(function(i){var s=f0.select(this);if(i.del)return s.remove();var f=s.select("text.nums"),l=i.anchor,u=l==="end"?-1:1,c=bde(i),v=rP(i,r),m=v.x,x=v.y,A=l==="middle";s.select("path").attr("d",A?"M-"+a(i.bx/2+i.tx2width/2)+","+o(x-i.by/2)+"h"+a(i.bx)+"v"+o(i.by)+"h-"+a(i.bx)+"Z":"M0,0L"+a(u*oa+m)+","+o(oa+x)+"v"+o(i.by/2-oa)+"h"+a(u*i.bx)+"v-"+o(i.by)+"H"+a(u*oa+m)+"V"+o(x-oa)+"Z");var w=m+c.textShiftX,y=x+i.ty0-i.by/2+dn,_=i.textAlign||"auto";_!=="auto"&&(_==="left"&&l!=="start"?(f.attr("text-anchor","start"),w=A?-i.bx/2-i.tx2width/2+dn:-i.bx-dn):_==="right"&&l!=="end"&&(f.attr("text-anchor","end"),w=A?i.bx/2-i.tx2width/2-dn:i.bx+dn)),f.call(ls.positionText,a(w),o(y)),i.tx2width&&(s.select("text.name").call(ls.positionText,a(c.text2ShiftX+c.alignShift*dn+m),o(x+i.ty0-i.by/2+dn)),s.select("rect").call(Ml.setRect,a(c.text2ShiftX+(c.alignShift-1)*i.tx2width/2+m),o(x-i.by/2-1),a(i.tx2width),o(i.by+2)))})}function _de(e,r){var t=e.index,n=e.trace||{},a=e.cd[0],o=e.cd[t]||{};function i(v){return v||df(v)&&v===0}var s=Array.isArray(t)?function(v,m){var x=xa.castOption(a,t,v);return i(x)?x:xa.extractOption({},n,"",m)}:function(v,m){return xa.extractOption(o,n,v,m)};function f(v,m,x){var A=s(m,x);i(A)&&(e[v]=A)}if(f("hoverinfo","hi","hoverinfo"),f("bgcolor","hbg","hoverlabel.bgcolor"),f("borderColor","hbc","hoverlabel.bordercolor"),f("fontFamily","htf","hoverlabel.font.family"),f("fontSize","hts","hoverlabel.font.size"),f("fontColor","htc","hoverlabel.font.color"),f("fontWeight","htw","hoverlabel.font.weight"),f("fontStyle","hty","hoverlabel.font.style"),f("fontVariant","htv","hoverlabel.font.variant"),f("nameLength","hnl","hoverlabel.namelength"),f("textAlign","hta","hoverlabel.align"),e.posref=r==="y"||r==="closest"&&n.orientation==="h"?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=xa.constrain(e.x0,0,e.xa._length),e.x1=xa.constrain(e.x1,0,e.xa._length),e.y0=xa.constrain(e.y0,0,e.ya._length),e.y1=xa.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel="xLabel"in e?e.xLabel:El.hoverLabelText(e.xa,e.xLabelVal,n.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel="yLabel"in e?e.yLabel:El.hoverLabelText(e.ya,e.yLabelVal,n.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type==="log"&&e.xerr<=0)){var l=El.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xerrneg!==void 0?e.xLabel+=" +"+l+" / -"+El.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xB1 "+l,r==="x"&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type==="log"&&e.yerr<=0)){var u=El.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;e.yerrneg!==void 0?e.yLabel+=" +"+u+" / -"+El.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xB1 "+u,r==="y"&&(e.distance+=1)}var c=e.hoverinfo||e.trace.hoverinfo;return c&&c!=="all"&&(c=Array.isArray(c)?c:c.split("+"),c.indexOf("x")===-1&&(e.xLabel=void 0),c.indexOf("y")===-1&&(e.yLabel=void 0),c.indexOf("z")===-1&&(e.zLabel=void 0),c.indexOf("text")===-1&&(e.text=void 0),c.indexOf("name")===-1&&(e.name=void 0)),e}function ZI(e,r,t){var n=t.container,a=t.fullLayout,o=a._size,i=t.event,s=!!r.hLinePoint,f=!!r.vLinePoint,l,u;if(n.selectAll(".spikeline").remove(),!!(f||s)){var c=ai.combine(a.plot_bgcolor,a.paper_bgcolor);if(s){var v=r.hLinePoint,m,x;l=v&&v.xa,u=v&&v.ya;var A=u.spikesnap;A==="cursor"?(m=i.pointerX,x=i.pointerY):(m=l._offset+v.x,x=u._offset+v.y);var w=VI.readability(v.color,c)<1.5?ai.contrast(c):v.color,y=u.spikemode,_=u.spikethickness,M=u.spikecolor||w,b=El.getPxPosition(e,u),E,d;if(y.indexOf("toaxis")!==-1||y.indexOf("across")!==-1){if(y.indexOf("toaxis")!==-1&&(E=b,d=m),y.indexOf("across")!==-1){var T=u._counterDomainMin,g=u._counterDomainMax;u.anchor==="free"&&(T=Math.min(T,u.position),g=Math.max(g,u.position)),E=o.l+T*o.w,d=o.l+g*o.w}n.insert("line",":first-child").attr({x1:E,x2:d,y1:x,y2:x,"stroke-width":_,stroke:M,"stroke-dasharray":Ml.dashStyle(u.spikedash,_)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:E,x2:d,y1:x,y2:x,"stroke-width":_+2,stroke:c}).classed("spikeline",!0).classed("crisp",!0)}y.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:b+(u.side!=="right"?_:-_),cy:x,r:_,fill:M}).classed("spikeline",!0)}if(f){var h=r.vLinePoint,S,p;l=h&&h.xa,u=h&&h.ya;var C=l.spikesnap;C==="cursor"?(S=i.pointerX,p=i.pointerY):(S=l._offset+h.x,p=u._offset+h.y);var k=VI.readability(h.color,c)<1.5?ai.contrast(c):h.color,D=l.spikemode,P=l.spikethickness,O=l.spikecolor||k,F=El.getPxPosition(e,l),L,I;if(D.indexOf("toaxis")!==-1||D.indexOf("across")!==-1){if(D.indexOf("toaxis")!==-1&&(L=F,I=p),D.indexOf("across")!==-1){var q=l._counterDomainMin,z=l._counterDomainMax;l.anchor==="free"&&(q=Math.min(q,l.position),z=Math.max(z,l.position)),L=o.t+(1-z)*o.h,I=o.t+(1-q)*o.h}n.insert("line",":first-child").attr({x1:S,x2:S,y1:L,y2:I,"stroke-width":P,stroke:O,"stroke-dasharray":Ml.dashStyle(l.spikedash,P)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:S,x2:S,y1:L,y2:I,"stroke-width":P+2,stroke:c}).classed("spikeline",!0).classed("crisp",!0)}D.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:S,cy:F-(l.side!=="top"?P:-P),r:P,fill:O}).classed("spikeline",!0)}}}function wde(e,r,t){if(!t||t.length!==e._hoverdata.length)return!0;for(var n=t.length-1;n>=0;n--){var a=t[n],o=e._hoverdata[n];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber)||String(a.pointNumbers)!==String(o.pointNumbers))return!0}return!1}function jI(e,r){return!r||r.vLinePoint!==e._spikepoints.vLinePoint||r.hLinePoint!==e._spikepoints.hLinePoint}function JI(e,r){return ls.plainText(e||"",{len:r,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function Ade(e,r){for(var t=r.charAt(0),n=[],a=[],o=[],i=0;i<e.length;i++){var s=e[i];fv.traceIs(s.trace,"bar-like")||fv.traceIs(s.trace,"box-violin")?o.push(s):s.trace[t+"period"]?a.push(s):n.push(s)}return n.concat(a).concat(o)}function $I(e,r,t){var n=r[e+"a"],a=r[e+"Val"],o=r.cd[0];if(n.type==="category"||n.type==="multicategory")a=n._categoriesMap[a];else if(n.type==="date"){var i=r.trace[e+"periodalignment"];if(i){var s=r.cd[r.index],f=s[e+"Start"];f===void 0&&(f=s[e]);var l=s[e+"End"];l===void 0&&(l=s[e]);var u=l-f;i==="end"?a+=u:i==="middle"&&(a+=u/2)}a=n.d2c(a)}return o&&o.t&&o.t.posLetter===n._id&&(t.boxmode==="group"||t.violinmode==="group")&&(a+=o.t.dPos),a}function nP(e){return e.offsetTop+e.clientTop}function aP(e){return e.offsetLeft+e.clientLeft}function lv(e,r){var t=e._fullLayout,n=r.getBoundingClientRect(),a=n.left,o=n.top,i=a+n.width,s=o+n.height,f=xa.apply3DTransform(t._invTransform)(a,o),l=xa.apply3DTransform(t._invTransform)(i,s),u=f[0],c=f[1],v=l[0],m=l[1];return{x:u,y:c,width:v-u,height:m-c,top:Math.min(c,m),left:Math.min(u,v),right:Math.max(u,v),bottom:Math.max(c,m)}}});var d3=ie((wIe,iP)=>{"use strict";var Tde=wr(),Mde=pn(),Ede=hf().isUnifiedHover;iP.exports=function(r,t,n,a){a=a||{};var o=t.legend;function i(s){a.font[s]||(a.font[s]=o?t.legend.font[s]:t.font[s])}t&&Ede(t.hovermode)&&(a.font||(a.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),o?(a.bgcolor||(a.bgcolor=Mde.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),Tde.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}});var sP=ie((AIe,oP)=>{"use strict";var Sde=wr(),Cde=d3(),kde=Ic();oP.exports=function(r,t){function n(a,o){return Sde.coerce(r,t,kde,a,o)}Cde(r,t,n)}});var uP=ie((TIe,fP)=>{"use strict";var lP=wr(),Lde=P2(),Rde=d3();fP.exports=function(r,t,n,a){function o(s,f){return lP.coerce(r,t,Lde,s,f)}var i=lP.extendFlat({},a.hoverlabel);t.hovertemplate&&(i.namelength=-1),Rde(r,t,o,i)}});var Y6=ie((MIe,cP)=>{"use strict";var Dde=wr(),Fde=Ic();cP.exports=function(r,t){function n(a,o){return t[a]!==void 0?t[a]:Dde.coerce(r,t,Fde,a,o)}return n("clickmode"),n("hoversubplots"),n("hovermode")}});var dP=ie((EIe,vP)=>{"use strict";var hP=wr(),Ide=Ic(),Pde=Y6(),Ode=d3();vP.exports=function(r,t){function n(u,c){return hP.coerce(r,t,Ide,u,c)}var a=Pde(r,t);a&&(n("hoverdistance"),n("spikedistance"));var o=n("dragmode");o==="select"&&n("selectdirection");var i=t._has("mapbox"),s=t._has("map"),f=t._has("geo"),l=t._basePlotModules.length;t.dragmode==="zoom"&&((i||s||f)&&l===1||(i||s)&&f&&l===2)&&(t.dragmode="pan"),Ode(r,t,n),hP.coerceFont(n,"hoverlabel.grouptitlefont",t.hoverlabel.font)}});var yP=ie((SIe,gP)=>{"use strict";var W6=wr(),pP=Dt();gP.exports=function(r){var t=r.calcdata,n=r._fullLayout;function a(l){return function(u){return W6.coerceHoverinfo({hoverinfo:u},{_module:l._module},n)}}for(var o=0;o<t.length;o++){var i=t[o],s=i[0].trace;if(!pP.traceIs(s,"pie-like")){var f=pP.traceIs(s,"2dMap")?Nde:W6.fillArray;f(s.hoverinfo,i,"hi",a(s)),s.hovertemplate&&f(s.hovertemplate,i,"ht"),s.hoverlabel&&(f(s.hoverlabel.bgcolor,i,"hbg"),f(s.hoverlabel.bordercolor,i,"hbc"),f(s.hoverlabel.font.size,i,"hts"),f(s.hoverlabel.font.color,i,"htc"),f(s.hoverlabel.font.family,i,"htf"),f(s.hoverlabel.font.weight,i,"htw"),f(s.hoverlabel.font.style,i,"hty"),f(s.hoverlabel.font.variant,i,"htv"),f(s.hoverlabel.namelength,i,"hnl"),f(s.hoverlabel.align,i,"hta"))}}};function Nde(e,r,t,n){n=n||W6.identity,Array.isArray(e)&&(r[0][t]=n(e))}});var xP=ie((CIe,mP)=>{"use strict";var Bde=Dt(),qde=V6().hover;mP.exports=function(r,t,n){var a=Bde.getComponentMethod("annotations","onClick")(r,r._hoverdata);n!==void 0&&qde(r,t,n,!0);function o(){r.emit("plotly_click",{points:r._hoverdata,event:t})}r._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}});var pf=ie((kIe,wP)=>{"use strict";var zde=gn(),p3=wr(),Ude=Bs(),vp=hf(),bP=Ic(),_P=V6();wP.exports={moduleType:"component",name:"fx",constants:P1(),schema:{layout:bP},attributes:P2(),layoutAttributes:bP,supplyLayoutGlobalDefaults:sP(),supplyDefaults:uP(),supplyLayoutDefaults:dP(),calc:yP(),getDistanceFunction:vp.getDistanceFunction,getClosest:vp.getClosest,inbox:vp.inbox,quadrature:vp.quadrature,appendArrayPointValue:vp.appendArrayPointValue,castHoverOption:Hde,castHoverinfo:Vde,hover:_P.hover,unhover:Ude.unhover,loneHover:_P.loneHover,loneUnhover:Gde,click:xP()};function Gde(e){var r=p3.isD3Selection(e)?e:zde.select(e);r.selectAll("g.hovertext").remove(),r.selectAll(".spikeline").remove()}function Hde(e,r,t){return p3.castOption(e,r,"hoverlabel."+t)}function Vde(e,r,t){function n(a){return p3.coerceHoverinfo({hoverinfo:a},{_module:e._module},r)}return p3.castOption(e,t,"hoverinfo",n)}});var yf=ie(gf=>{"use strict";gf.selectMode=function(e){return e==="lasso"||e==="select"};gf.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};gf.openMode=function(e){return e==="drawline"||e==="drawopenpath"};gf.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};gf.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};gf.selectingOrDrawing=function(e){return gf.freeMode(e)||gf.rectMode(e)}});var g3=ie((RIe,AP)=>{"use strict";AP.exports=function(r){var t=r._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}});var y3=ie((DIe,TP)=>{"use strict";TP.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var x3=ie((FIe,MP)=>{"use strict";var m3=32;MP.exports={CIRCLE_SIDES:m3,i000:0,i090:m3/4,i180:m3/2,i270:m3/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var b3=ie((IIe,SP)=>{"use strict";var Yde=wr().strTranslate;function EP(e,r){switch(e.type){case"log":return e.p2d(r);case"date":return e.p2r(r,0,e.calendar);default:return e.p2r(r)}}function Wde(e,r){switch(e.type){case"log":return e.d2p(r);case"date":return e.r2p(r,0,e.calendar);default:return e.r2p(r)}}function Xde(e){var r=e._id.charAt(0)==="y"?1:0;return function(t){return EP(e,t[r])}}function Zde(e){return Yde(e.xaxis._offset,e.yaxis._offset)}SP.exports={p2r:EP,r2p:Wde,axValue:Xde,getTransform:Zde}});var Cu=ie(mf=>{"use strict";var jde=ep(),LP=x3(),uv=LP.CIRCLE_SIDES,X6=LP.SQRT2,RP=b3(),CP=RP.p2r,kP=RP.r2p,Jde=[0,3,4,5,6,1,2],$de=[0,3,4,1,2];mf.writePaths=function(e){var r=e.length;if(!r)return"M0,0Z";for(var t="",n=0;n<r;n++)for(var a=e[n].length,o=0;o<a;o++){var i=e[n][o][0];if(i==="Z")t+="Z";else for(var s=e[n][o].length,f=0;f<s;f++){var l=f;i==="Q"||i==="S"?l=$de[f]:i==="C"&&(l=Jde[f]),t+=e[n][o][l],f>0&&f<s-1&&(t+=",")}}return t};mf.readPaths=function(e,r,t,n){var a=jde(e),o=[],i=-1,s=function(){i++,o[i]=[]},f,l=0,u=0,c,v,m=function(){c=l,v=u};m();for(var x=0;x<a.length;x++){var A=[],w,y,_,M,b=a[x][0],E=b;switch(b){case"M":s(),l=+a[x][1],u=+a[x][2],A.push([E,l,u]),m();break;case"Q":case"S":w=+a[x][1],_=+a[x][2],l=+a[x][3],u=+a[x][4],A.push([E,l,u,w,_]);break;case"C":w=+a[x][1],_=+a[x][2],y=+a[x][3],M=+a[x][4],l=+a[x][5],u=+a[x][6],A.push([E,l,u,w,_,y,M]);break;case"T":case"L":l=+a[x][1],u=+a[x][2],A.push([E,l,u]);break;case"H":E="L",l=+a[x][1],A.push([E,l,u]);break;case"V":E="L",u=+a[x][1],A.push([E,l,u]);break;case"A":E="L";var d=+a[x][1],T=+a[x][2];+a[x][4]||(d=-d,T=-T);var g=l-d,h=u;for(f=1;f<=uv/2;f++){var S=2*Math.PI*f/uv;A.push([E,g+d*Math.cos(S),h+T*Math.sin(S)])}break;case"Z":(l!==c||u!==v)&&(l=c,u=v,A.push([E,l,u]));break}for(var p=(t||{}).domain,C=r._fullLayout._size,k=t&&t.xsizemode==="pixel",D=t&&t.ysizemode==="pixel",P=n===!1,O=0;O<A.length;O++){for(f=0;f+2<7;f+=2){var F=A[O][f+1],L=A[O][f+2];F===void 0||L===void 0||(l=F,u=L,t&&(t.xaxis&&t.xaxis.p2r?(P&&(F-=t.xaxis._offset),k?F=kP(t.xaxis,t.xanchor)+F:F=CP(t.xaxis,F)):(P&&(F-=C.l),p?F=p.x[0]+F/C.w:F=F/C.w),t.yaxis&&t.yaxis.p2r?(P&&(L-=t.yaxis._offset),D?L=kP(t.yaxis,t.yanchor)-L:L=CP(t.yaxis,L)):(P&&(L-=C.t),p?L=p.y[1]-L/C.h:L=1-L/C.h)),A[O][f+1]=F,A[O][f+2]=L)}o[i].push(A[O].slice())}}return o};function dp(e,r){return Math.abs(e-r)<=1e-6}function _3(e,r){var t=r[1]-e[1],n=r[2]-e[2];return Math.sqrt(t*t+n*n)}mf.pointsOnRectangle=function(e){var r=e.length;if(r!==5)return!1;for(var t=1;t<3;t++){var n=e[0][t]-e[1][t],a=e[3][t]-e[2][t];if(!dp(n,a))return!1;var o=e[0][t]-e[3][t],i=e[1][t]-e[2][t];if(!dp(o,i))return!1}return!dp(e[0][1],e[1][1])&&!dp(e[0][1],e[3][1])?!1:!!(_3(e[0],e[1])*_3(e[0],e[3]))};mf.pointsOnEllipse=function(e){var r=e.length;if(r!==uv+1)return!1;r=uv;for(var t=0;t<r;t++){var n=(r*2-t)%r,a=(r/2+n)%r,o=(r/2+t)%r;if(!dp(_3(e[t],e[o]),_3(e[n],e[a])))return!1}return!0};mf.handleEllipse=function(e,r,t){if(!e)return[r,t];var n=mf.ellipseOver({x0:r[0],y0:r[1],x1:t[0],y1:t[1]}),a=(n.x1+n.x0)/2,o=(n.y1+n.y0)/2,i=(n.x1-n.x0)/2,s=(n.y1-n.y0)/2;i||(i=s=s/X6),s||(s=i=i/X6);for(var f=[],l=0;l<uv;l++){var u=l*2*Math.PI/uv;f.push([a+i*Math.cos(u),o+s*Math.sin(u)])}return f};mf.ellipseOver=function(e){var r=e.x0,t=e.y0,n=e.x1,a=e.y1,o=n-r,i=a-t;r-=o,t-=i;var s=(r+n)/2,f=(t+a)/2,l=X6;return o*=l,i*=l,{x0:s-o,y0:f-i,x1:s+o,y1:f+i}};mf.fixDatesForPaths=function(e,r,t){var n=r.type==="date",a=t.type==="date";if(!n&&!a)return e;for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)for(var s=0;s+2<e[o][i].length;s+=2)n&&(e[o][i][s+1]=e[o][i][s+1].replace(" ","_")),a&&(e[o][i][s+2]=e[o][i][s+2].replace(" ","_"));return e}});var T3=ie((OIe,qP)=>{"use strict";var OP=yf(),Kde=OP.drawMode,Qde=OP.openMode,cv=x3(),DP=cv.i000,FP=cv.i090,IP=cv.i180,PP=cv.i270,e1e=cv.cos45,r1e=cv.sin45,NP=b3(),w3=NP.p2r,ku=NP.r2p,t1e=yu(),n1e=t1e.clearOutline,A3=Cu(),a1e=A3.readPaths,i1e=A3.writePaths,o1e=A3.ellipseOver,s1e=A3.fixDatesForPaths;function l1e(e,r){if(e.length){var t=e[0][0];if(t){var n=r.gd,a=r.isActiveShape,o=r.dragmode,i=(n.layout||{}).shapes||[];if(!Kde(o)&&a!==void 0){var s=n._fullLayout._activeShapeIndex;if(s<i.length)switch(n._fullLayout.shapes[s].type){case"rect":o="drawrect";break;case"circle":o="drawcircle";break;case"line":o="drawline";break;case"path":var f=i[s].path||"";f[f.length-1]==="Z"?o="drawclosedpath":o="drawopenpath";break}}var l=BP(e,r,o);n1e(n);for(var u=r.editHelpers,c=(u||{}).modifyItem,v=[],m=0;m<i.length;m++){var x=n._fullLayout.shapes[m];if(v[m]=x._input,a!==void 0&&m===n._fullLayout._activeShapeIndex){var A=l;switch(x.type){case"line":case"rect":case"circle":c("x0",A.x0-(x.x0shift||0)),c("x1",A.x1-(x.x1shift||0)),c("y0",A.y0-(x.y0shift||0)),c("y1",A.y1-(x.y1shift||0));break;case"path":c("path",A.path);break}}}return a===void 0?(v.push(l),v):u?u.getUpdateObj():{}}}}function BP(e,r,t){var n=e[0][0],a=r.gd,o=n.getAttribute("d"),i=a._fullLayout.newshape,s=r.plotinfo,f=r.isActiveShape,l=s.xaxis,u=s.yaxis,c=!!s.domain||!s.xaxis,v=!!s.domain||!s.yaxis,m=Qde(t),x=a1e(o,a,s,f),A={editable:!0,visible:i.visible,name:i.name,showlegend:i.showlegend,legend:i.legend,legendwidth:i.legendwidth,legendgroup:i.legendgroup,legendgrouptitle:{text:i.legendgrouptitle.text,font:i.legendgrouptitle.font},legendrank:i.legendrank,label:i.label,xref:c?"paper":l._id,yref:v?"paper":u._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};m||(A.fillcolor=i.fillcolor,A.fillrule=i.fillrule);var w;if(x.length===1&&(w=x[0]),w&&w.length===5&&t==="drawrect")A.type="rect",A.x0=w[0][1],A.y0=w[0][2],A.x1=w[2][1],A.y1=w[2][2];else if(w&&t==="drawline")A.type="line",A.x0=w[0][1],A.y0=w[0][2],A.x1=w[1][1],A.y1=w[1][2];else if(w&&t==="drawcircle"){A.type="circle";var y=w[DP][1],_=w[FP][1],M=w[IP][1],b=w[PP][1],E=w[DP][2],d=w[FP][2],T=w[IP][2],g=w[PP][2],h=s.xaxis&&(s.xaxis.type==="date"||s.xaxis.type==="log"),S=s.yaxis&&(s.yaxis.type==="date"||s.yaxis.type==="log");h&&(y=ku(s.xaxis,y),_=ku(s.xaxis,_),M=ku(s.xaxis,M),b=ku(s.xaxis,b)),S&&(E=ku(s.yaxis,E),d=ku(s.yaxis,d),T=ku(s.yaxis,T),g=ku(s.yaxis,g));var p=(_+b)/2,C=(E+T)/2,k=(b-_+M-y)/2,D=(g-d+T-E)/2,P=o1e({x0:p,y0:C,x1:p+k*e1e,y1:C+D*r1e});h&&(P.x0=w3(s.xaxis,P.x0),P.x1=w3(s.xaxis,P.x1)),S&&(P.y0=w3(s.yaxis,P.y0),P.y1=w3(s.yaxis,P.y1)),A.x0=P.x0,A.y0=P.y0,A.x1=P.x1,A.y1=P.y1}else A.type="path",l&&u&&s1e(x,l,u),A.path=i1e(x),w=null;return A}qP.exports={newShapes:l1e,createShapeObj:BP}});var j6=ie((NIe,zP)=>{"use strict";var f1e=yf(),u1e=f1e.selectMode,c1e=yu(),h1e=c1e.clearOutline,Z6=Cu(),v1e=Z6.readPaths,d1e=Z6.writePaths,p1e=Z6.fixDatesForPaths;zP.exports=function(r,t){if(r.length){var n=r[0][0];if(n){var a=n.getAttribute("d"),o=t.gd,i=o._fullLayout.newselection,s=t.plotinfo,f=s.xaxis,l=s.yaxis,u=t.isActiveSelection,c=t.dragmode,v=(o.layout||{}).selections||[];if(!u1e(c)&&u!==void 0){var m=o._fullLayout._activeSelectionIndex;if(m<v.length)switch(o._fullLayout.selections[m].type){case"rect":c="select";break;case"path":c="lasso";break}}var x=v1e(a,o,s,u),A={xref:f._id,yref:l._id,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}},w;x.length===1&&(w=x[0]),w&&w.length===5&&c==="select"?(A.type="rect",A.x0=w[0][1],A.y0=w[0][2],A.x1=w[2][1],A.y1=w[2][2]):(A.type="path",f&&l&&p1e(x,f,l),A.path=d1e(x),w=null),h1e(o);for(var y=t.editHelpers,_=(y||{}).modifyItem,M=[],b=0;b<v.length;b++){var E=o._fullLayout.selections[b];if(!E){M[b]=E;continue}if(M[b]=E._input,u!==void 0&&b===o._fullLayout._activeSelectionIndex){var d=A;switch(E.type){case"rect":_("x0",d.x0),_("x1",d.x1),_("y0",d.y0),_("y1",d.y1);break;case"path":_("path",d.path);break}}}return u===void 0?(M.push(A),M):y?y.getUpdateObj():{}}}}});var pp=ie((BIe,UP)=>{"use strict";UP.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var Lu=ie(vi=>{"use strict";var c0=pp(),GP=wr(),M3=Rn();vi.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(r){return r}};vi.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(r){return r}};vi.decodeDate=function(e){return function(r){return r.replace&&(r=r.replace("_"," ")),e(r)}};vi.encodeDate=function(e){return function(r){return e(r).replace(" ","_")}};vi.extractPathCoords=function(e,r,t){var n=[],a=e.match(c0.segmentRE);return a.forEach(function(o){var i=r[o.charAt(0)].drawn;if(i!==void 0){var s=o.substr(1).match(c0.paramRE);if(!(!s||s.length<i)){var f=s[i],l=t?f:GP.cleanNumber(f);n.push(l)}}}),n};vi.getDataToPixel=function(e,r,t,n,a){var o=e._fullLayout._size,i;if(r)if(a==="domain")i=function(f){return r._length*(n?1-f:f)+r._offset};else{var s=vi.shapePositionToRange(r);i=function(f){var l=gp(r,t);return r._offset+r.r2p(s(f,!0))+l},r.type==="date"&&(i=vi.decodeDate(i))}else n?i=function(f){return o.t+o.h*(1-f)}:i=function(f){return o.l+o.w*f};return i};vi.getPixelToData=function(e,r,t,n){var a=e._fullLayout._size,o;if(r)if(n==="domain")o=function(s){var f=(s-r._offset)/r._length;return t?1-f:f};else{var i=vi.rangeToShapePosition(r);o=function(s){return i(r.p2r(s-r._offset))}}else t?o=function(s){return 1-(s-a.t)/a.h}:o=function(s){return(s-a.l)/a.w};return o};vi.roundPositionForSharpStrokeRendering=function(e,r){var t=Math.round(r%2)===1,n=Math.round(e);return t?n+.5:n};vi.makeShapesOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.shapes[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&t.xref!=="paper"&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&t.yref!=="paper"&&(n.yaxis=e._fullLayout[t.yref+"axis"])),n.xsizemode=t.xsizemode,n.ysizemode=t.ysizemode,n.xanchor=t.xanchor,n.yanchor=t.yanchor,{options:t,plotinfo:n}};vi.makeSelectionsOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.selections[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&(n.yaxis=e._fullLayout[t.yref+"axis"])),{options:t,plotinfo:n}};vi.getPathString=function(e,r){var t=r.type,n=M3.getRefType(r.xref),a=M3.getRefType(r.yref),o=M3.getFromId(e,r.xref),i=M3.getFromId(e,r.yref),s=e._fullLayout._size,f,l,u,c,v=gp(o,r.x0shift),m=gp(o,r.x1shift),x=gp(i,r.y0shift),A=gp(i,r.y1shift),w,y,_,M;if(o?n==="domain"?l=function(k){return o._offset+o._length*k}:(f=vi.shapePositionToRange(o),l=function(k){return o._offset+o.r2p(f(k,!0))}):l=function(k){return s.l+s.w*k},i?a==="domain"?c=function(k){return i._offset+i._length*(1-k)}:(u=vi.shapePositionToRange(i),c=function(k){return i._offset+i.r2p(u(k,!0))}):c=function(k){return s.t+s.h*(1-k)},t==="path")return o&&o.type==="date"&&(l=vi.decodeDate(l)),i&&i.type==="date"&&(c=vi.decodeDate(c)),g1e(r,l,c);if(r.xsizemode==="pixel"){var b=l(r.xanchor);w=b+r.x0+v,y=b+r.x1+m}else w=l(r.x0)+v,y=l(r.x1)+m;if(r.ysizemode==="pixel"){var E=c(r.yanchor);_=E-r.y0+x,M=E-r.y1+A}else _=c(r.y0)+x,M=c(r.y1)+A;if(t==="line")return"M"+w+","+_+"L"+y+","+M;if(t==="rect")return"M"+w+","+_+"H"+y+"V"+M+"H"+w+"Z";var d=(w+y)/2,T=(_+M)/2,g=Math.abs(d-w),h=Math.abs(T-_),S="A"+g+","+h,p=d+g+","+T,C=d+","+(T-h);return"M"+p+S+" 0 1,1 "+C+S+" 0 0,1 "+p+"Z"};function g1e(e,r,t){var n=e.path,a=e.xsizemode,o=e.ysizemode,i=e.xanchor,s=e.yanchor;return n.replace(c0.segmentRE,function(f){var l=0,u=f.charAt(0),c=c0.paramIsX[u],v=c0.paramIsY[u],m=c0.numParams[u],x=f.substr(1).replace(c0.paramRE,function(A){return c[l]?a==="pixel"?A=r(i)+Number(A):A=r(A):v[l]&&(o==="pixel"?A=t(s)-Number(A):A=t(A)),l++,l>m&&(A="X"),A});return l>m&&(x=x.replace(/[\s,]*X.*/,""),GP.log("Ignoring extra params in segment "+f)),u+x})}function gp(e,r){r=r||0;var t=0;return r&&e&&(e.type==="category"||e.type==="multicategory")&&(t=(e.r2p(1)-e.r2p(0))*r),t}});var $6=ie((zIe,WP)=>{"use strict";var y1e=wr(),hv=Rn(),HP=Ni(),VP=zn(),m1e=Cu().readPaths,J6=Lu(),x1e=J6.getPathString,YP=V2(),b1e=Oi().FROM_TL;WP.exports=function(r,t,n,a){if(a.selectAll(".shape-label").remove(),!!(n.label.text||n.label.texttemplate)){var o;if(n.label.texttemplate){var i={};if(n.type!=="path"){var s=hv.getFromId(r,n.xref),f=hv.getFromId(r,n.yref);for(var l in YP){var u=YP[l](n,s,f);u!==void 0&&(i[l]=u)}}o=y1e.texttemplateStringForShapes(n.label.texttemplate,{},r._fullLayout._d3locale,i)}else o=n.label.text;var c={"data-index":t},v=n.label.font,m={"data-notex":1},x=a.append("g").attr(c).classed("shape-label",!0),A=x.append("text").attr(m).classed("shape-label-text",!0).text(o),w,y,_,M;if(n.path){var b=x1e(r,n),E=m1e(b,r);w=1/0,_=1/0,y=-1/0,M=-1/0;for(var d=0;d<E.length;d++)for(var T=0;T<E[d].length;T++)for(var g=E[d][T],h=1;h<g.length;h+=2){var S=g[h],p=g[h+1];w=Math.min(w,S),y=Math.max(y,S),_=Math.min(_,p),M=Math.max(M,p)}}else{var C=hv.getFromId(r,n.xref),k=n.x0shift,D=n.x1shift,P=hv.getRefType(n.xref),O=hv.getFromId(r,n.yref),F=n.y0shift,L=n.y1shift,I=hv.getRefType(n.yref),q=function(te,J){var ae=J6.getDataToPixel(r,C,J,!1,P);return ae(te)},z=function(te,J){var ae=J6.getDataToPixel(r,O,J,!0,I);return ae(te)};w=q(n.x0,k),y=q(n.x1,D),_=z(n.y0,F),M=z(n.y1,L)}var W=n.label.textangle;W==="auto"&&(n.type==="line"?W=_1e(w,_,y,M):W=0),A.call(function(te){return te.call(VP.font,v).attr({}),HP.convertToTspans(te,r),te});var $=VP.bBox(A.node()),j=w1e(w,_,y,M,n,W,$),G=j.textx,B=j.texty,X=j.xanchor;A.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[X],y:B,x:G,transform:"rotate("+W+","+G+","+B+")"}).call(HP.positionText,G,B)}};function _1e(e,r,t,n){var a,o;return o=Math.abs(t-e),t>=e?a=r-n:a=n-r,-180/Math.PI*Math.atan2(a,o)}function w1e(e,r,t,n,a,o,i){var s=a.label.textposition,f=a.label.textangle,l=a.label.padding,u=a.type,c=Math.PI/180*o,v=Math.sin(c),m=Math.cos(c),x=a.label.xanchor,A=a.label.yanchor,w,y,_,M;if(u==="line"){s==="start"?(w=e,y=r):s==="end"?(w=t,y=n):(w=(e+t)/2,y=(r+n)/2),x==="auto"&&(s==="start"?f==="auto"?t>e?x="left":t<e?x="right":x="center":t>e?x="right":t<e?x="left":x="center":s==="end"?f==="auto"?t>e?x="right":t<e?x="left":x="center":t>e?x="left":t<e?x="right":x="center":x="center");var b={left:1,center:0,right:-1},E={bottom:-1,middle:0,top:1};if(f==="auto"){var d=E[A];_=-l*v*d,M=l*m*d}else{var T=b[x],g=E[A];_=l*T,M=l*g}w=w+_,y=y+M}else _=l+3,s.indexOf("right")!==-1?(w=Math.max(e,t)-_,x==="auto"&&(x="right")):s.indexOf("left")!==-1?(w=Math.min(e,t)+_,x==="auto"&&(x="left")):(w=(e+t)/2,x==="auto"&&(x="center")),s.indexOf("top")!==-1?y=Math.min(r,n):s.indexOf("bottom")!==-1?y=Math.max(r,n):y=(r+n)/2,M=l,A==="bottom"?y=y-M:A==="top"&&(y=y+M);var h=b1e[A],S=a.label.font.size,p=i.height,C=(p*h-S)*v,k=-(p*h-S)*m;return{textx:w+C,texty:y+k,xanchor:x}}});var C3=ie((UIe,eO)=>{"use strict";var A1e=wr(),T1e=A1e.strTranslate,XP=Bs(),JP=yf(),M1e=JP.drawMode,$P=JP.selectMode,KP=Dt(),ZP=pn(),S3=x3(),E1e=S3.i000,S1e=S3.i090,C1e=S3.i180,k1e=S3.i270,L1e=yu(),QP=L1e.clearOutlineControllers,Q6=Cu(),E3=Q6.pointsOnRectangle,K6=Q6.pointsOnEllipse,R1e=Q6.writePaths,D1e=T3().newShapes,F1e=T3().createShapeObj,I1e=j6(),P1e=$6();eO.exports=function e(r,t,n,a){a||(a=0);var o=n.gd;function i(){e(r,t,n,a++),(K6(r[0])||n.hasText)&&s({redrawing:!0})}function s(F){var L={};n.isActiveShape!==void 0&&(n.isActiveShape=!1,L=D1e(t,n)),n.isActiveSelection!==void 0&&(n.isActiveSelection=!1,L=I1e(t,n),o._fullLayout._reselect=!0),Object.keys(L).length&&KP.call((F||{}).redrawing?"relayout":"_guiRelayout",o,L)}var f=o._fullLayout,l=f._zoomlayer,u=n.dragmode,c=M1e(u),v=$P(u);(c||v)&&(o._fullLayout._outlining=!0),QP(o),t.attr("d",R1e(r));var m,x,A,w,y;if(!a&&(n.isActiveShape||n.isActiveSelection)){y=O1e([],r);var _=l.append("g").attr("class","outline-controllers");S(_),O()}if(c&&n.hasText){var M=l.select(".label-temp"),b=F1e(t,n,n.dragmode);P1e(o,"label-temp",b,M)}function E(F){A=+F.srcElement.getAttribute("data-i"),w=+F.srcElement.getAttribute("data-j"),m[A][w].moveFn=d}function d(F,L){if(r.length){var I=y[A][w][1],q=y[A][w][2],z=r[A],W=z.length;if(E3(z)){var $=F,j=L;if(n.isActiveSelection){var G=jP(z,w);G[1]===z[w][1]?j=0:$=0}for(var B=0;B<W;B++)if(B!==w){var X=z[B];X[1]===z[w][1]&&(X[1]=I+$),X[2]===z[w][2]&&(X[2]=q+j)}if(z[w][1]=I+$,z[w][2]=q+j,!E3(z))for(var te=0;te<W;te++)for(var J=0;J<z[te].length;J++)z[te][J]=y[A][te][J]}else z[w][1]=I+F,z[w][2]=q+L;i()}}function T(){s()}function g(){if(r.length&&r[A]&&r[A].length){for(var F=[],L=0;L<r[A].length;L++)L!==w&&F.push(r[A][L]);F.length>1&&!(F.length===2&&F[1][0]==="Z")&&(w===0&&(F[0][0]="M"),r[A]=F,i(),s())}}function h(F,L){if(F===2){A=+L.srcElement.getAttribute("data-i"),w=+L.srcElement.getAttribute("data-j");var I=r[A];!E3(I)&&!K6(I)&&g()}}function S(F){m=[];for(var L=0;L<r.length;L++){var I=r[L],q=E3(I),z=!q&&K6(I);m[L]=[];for(var W=I.length,$=0;$<W;$++)if(I[$][0]!=="Z"&&!(z&&$!==E1e&&$!==S1e&&$!==C1e&&$!==k1e)){var j=q&&n.isActiveSelection,G;j&&(G=jP(I,$));var B=I[$][1],X=I[$][2],te=F.append(j?"rect":"circle").attr("data-i",L).attr("data-j",$).style({fill:ZP.background,stroke:ZP.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(j){var J=G[1]-B,ae=G[2]-X,ee=ae?5:Math.max(Math.min(25,Math.abs(J)-5),5),H=J?5:Math.max(Math.min(25,Math.abs(ae)-5),5);te.classed(ae?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ee).attr("height",H).attr("x",B-ee/2).attr("y",X-H/2).attr("transform",T1e(J/2,ae/2))}else te.classed("cursor-grab",!0).attr("r",5).attr("cx",B).attr("cy",X);m[L][$]={element:te.node(),gd:o,prepFn:E,doneFn:T,clickFn:h},XP.init(m[L][$])}}}function p(F,L){if(r.length)for(var I=0;I<r.length;I++)for(var q=0;q<r[I].length;q++)for(var z=0;z+2<r[I][q].length;z+=2)r[I][q][z+1]=y[I][q][z+1]+F,r[I][q][z+2]=y[I][q][z+2]+L}function C(F,L){p(F,L),i()}function k(F){A=+F.srcElement.getAttribute("data-i"),A||(A=0),x[A].moveFn=C}function D(){s()}function P(F){F===2&&N1e(o)}function O(){if(x=[],!!r.length){var F=0;x[F]={element:t[0][0],gd:o,prepFn:k,doneFn:D,clickFn:P},XP.init(x[F])}}};function O1e(e,r){for(var t=0;t<r.length;t++){var n=r[t];e[t]=[];for(var a=0;a<n.length;a++){e[t][a]=[];for(var o=0;o<n[a].length;o++)e[t][a][o]=n[a][o]}}return e}function jP(e,r){var t=e[r][1],n=e[r][2],a=e.length,o,i,s;return o=(r+1)%a,i=e[o][1],s=e[o][2],i===t&&s===n&&(o=(r+2)%a,i=e[o][1],s=e[o][2]),[o,i,s]}function N1e(e){if($P(e._fullLayout.dragmode)){QP(e);var r=e._fullLayout._activeSelectionIndex,t=(e.layout||{}).selections||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);delete e._fullLayout._activeSelectionIndex;var o=e._fullLayout.selections[r];e._fullLayout._deselect={xref:o.xref,yref:o.yref},KP.call("_guiRelayout",e,{selections:n})}}}});var D3=ie((GIe,uO)=>{"use strict";var B1e=gn(),oO=Dt(),rO=wr(),vv=Rn(),q1e=Cu().readPaths,z1e=C3(),L3=$6(),sO=yu().clearOutlineControllers,eA=pn(),tA=zn(),U1e=Yn().arrayEditor,tO=Bs(),nO=Mu(),h0=pp(),Mo=Lu(),rA=Mo.getPathString;uO.exports={draw:nA,drawOne:lO,eraseActiveShape:V1e,drawLabel:L3};function nA(e){var r=e._fullLayout;r._shapeUpperLayer.selectAll("path").remove(),r._shapeLowerLayer.selectAll("path").remove(),r._shapeUpperLayer.selectAll("text").remove(),r._shapeLowerLayer.selectAll("text").remove();for(var t in r._plots){var n=r._plots[t].shapelayer;n&&(n.selectAll("path").remove(),n.selectAll("text").remove())}for(var a=0;a<r.shapes.length;a++)r.shapes[a].visible===!0&&lO(e,a)}function k3(e){return!!e._fullLayout._outlining}function R3(e){return!e._context.edits.shapePosition}function lO(e,r){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+r+'"]').remove();var t=Mo.makeShapesOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input||n.visible!==!0)return;if(n.layer==="above")i(e._fullLayout._shapeUpperLayer);else if(n.xref==="paper"||n.yref==="paper")i(e._fullLayout._shapeLowerLayer);else if(n.layer==="between")i(a.shapelayerBetween);else if(a._hadPlotinfo){var o=a.mainplotinfo||a;i(o.shapelayer)}else i(e._fullLayout._shapeLowerLayer);function i(s){var f=rA(e,n),l={"data-index":r,"fill-rule":n.fillrule,d:f},u=n.opacity,c=n.fillcolor,v=n.line.width?n.line.color:"rgba(0,0,0,0)",m=n.line.width,x=n.line.dash;!m&&n.editable===!0&&(m=5,x="solid");var A=f[f.length-1]!=="Z",w=R3(e)&&n.editable&&e._fullLayout._activeShapeIndex===r;w&&(c=A?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,u=e._fullLayout.activeshape.opacity);var y=s.append("g").classed("shape-group",!0).attr({"data-index":r}),_=y.append("path").attr(l).style("opacity",u).call(eA.stroke,v).call(eA.fill,c).call(tA.dashLine,x,m);fO(y,e,n),L3(e,r,n,y);var M;if((w||e._context.edits.shapePosition)&&(M=U1e(e.layout,"shapes",n)),w){_.style({cursor:"move"});var b={element:_.node(),plotinfo:a,gd:e,editHelpers:M,hasText:n.label.text||n.label.texttemplate,isActiveShape:!0},E=q1e(f,e);z1e(E,_,b)}else e._context.edits.shapePosition?G1e(e,_,n,r,s,M):n.editable===!0&&_.style("pointer-events",A||eA.opacity(c)*u<=.5?"stroke":"all");_.node().addEventListener("click",function(){return H1e(e,_)})}}function fO(e,r,t){var n=(t.xref+t.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");tA.setClipUrl(e,n?"clip"+r._fullLayout._uid+n:null,r)}function G1e(e,r,t,n,a,o){var i=10,s=10,f=t.xsizemode==="pixel",l=t.ysizemode==="pixel",u=t.type==="line",c=t.type==="path",v=o.modifyItem,m,x,A,w,y,_,M,b,E,d,T,g,h,S,p,C=B1e.select(r.node().parentNode),k=vv.getFromId(e,t.xref),D=vv.getRefType(t.xref),P=vv.getFromId(e,t.yref),O=vv.getRefType(t.yref),F=t.x0shift,L=t.x1shift,I=t.y0shift,q=t.y1shift,z=function(me,ve){var be=Mo.getDataToPixel(e,k,ve,!1,D);return be(me)},W=function(me,ve){var be=Mo.getDataToPixel(e,P,ve,!0,O);return be(me)},$=Mo.getPixelToData(e,k,!1,D),j=Mo.getPixelToData(e,P,!0,O),G=te(),B={element:G.node(),gd:e,prepFn:ee,doneFn:H,clickFn:re},X;tO.init(B),G.node().onmousemove=ae;function te(){return u?J():r}function J(){var me=10,ve=Math.max(t.line.width,me),be=a.append("g").attr("data-index",n).attr("drag-helper",!0);be.append("path").attr("d",r.attr("d")).style({cursor:"move","stroke-width":ve,"stroke-opacity":"0"});var we={"fill-opacity":"0"},Se=Math.max(ve/2,me);return be.append("circle").attr({"data-line-point":"start-point",cx:f?z(t.xanchor)+t.x0:z(t.x0,F),cy:l?W(t.yanchor)-t.y0:W(t.y0,I),r:Se}).style(we).classed("cursor-grab",!0),be.append("circle").attr({"data-line-point":"end-point",cx:f?z(t.xanchor)+t.x1:z(t.x1,L),cy:l?W(t.yanchor)-t.y1:W(t.y1,q),r:Se}).style(we).classed("cursor-grab",!0),be}function ae(me){if(k3(e)){X=null;return}if(u)me.target.tagName==="path"?X="move":X=me.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ve=B.element.getBoundingClientRect(),be=ve.right-ve.left,we=ve.bottom-ve.top,Se=me.clientX-ve.left,Ae=me.clientY-ve.top,Ie=!c&&be>i&&we>s&&!me.shiftKey?tO.getCursor(Se/be,1-Ae/we):"move";nO(r,Ie),X=Ie.split("-")[0]}}function ee(me){k3(e)||(f&&(y=z(t.xanchor)),l&&(_=W(t.yanchor)),t.type==="path"?p=t.path:(m=f?t.x0:z(t.x0),x=l?t.y0:W(t.y0),A=f?t.x1:z(t.x1),w=l?t.y1:W(t.y1)),m<A?(E=m,h="x0",d=A,S="x1"):(E=A,h="x1",d=m,S="x0"),!l&&x<w||l&&x>w?(M=x,T="y0",b=w,g="y1"):(M=w,T="y1",b=x,g="y0"),ae(me),le(a,t),_e(r,t,e),B.moveFn=X==="move"?V:ne,B.altKey=me.altKey)}function H(){k3(e)||(nO(r),de(a),fO(r,e,t),oO.call("_guiRelayout",e,o.getUpdateObj()))}function re(){k3(e)||de(a)}function V(me,ve){if(t.type==="path"){var be=function(Ae){return Ae},we=be,Se=be;f?v("xanchor",t.xanchor=$(y+me)):(we=function(Ie){return $(z(Ie)+me)},k&&k.type==="date"&&(we=Mo.encodeDate(we))),l?v("yanchor",t.yanchor=j(_+ve)):(Se=function(Ie){return j(W(Ie)+ve)},P&&P.type==="date"&&(Se=Mo.encodeDate(Se))),v("path",t.path=aO(p,we,Se))}else f?v("xanchor",t.xanchor=$(y+me)):(v("x0",t.x0=$(m+me)),v("x1",t.x1=$(A+me))),l?v("yanchor",t.yanchor=j(_+ve)):(v("y0",t.y0=j(x+ve)),v("y1",t.y1=j(w+ve)));r.attr("d",rA(e,t)),le(a,t),L3(e,n,t,C)}function ne(me,ve){if(c){var be=function(ir){return ir},we=be,Se=be;f?v("xanchor",t.xanchor=$(y+me)):(we=function(mr){return $(z(mr)+me)},k&&k.type==="date"&&(we=Mo.encodeDate(we))),l?v("yanchor",t.yanchor=j(_+ve)):(Se=function(mr){return j(W(mr)+ve)},P&&P.type==="date"&&(Se=Mo.encodeDate(Se))),v("path",t.path=aO(p,we,Se))}else if(u){if(X==="resize-over-start-point"){var Ae=m+me,Ie=l?x-ve:x+ve;v("x0",t.x0=f?Ae:$(Ae)),v("y0",t.y0=l?Ie:j(Ie))}else if(X==="resize-over-end-point"){var Ve=A+me,pe=l?w-ve:w+ve;v("x1",t.x1=f?Ve:$(Ve)),v("y1",t.y1=l?pe:j(pe))}}else{var xe=function(ir){return X.indexOf(ir)!==-1},Te=xe("n"),qe=xe("s"),er=xe("w"),ze=xe("e"),Ce=Te?M+ve:M,Le=qe?b+ve:b,Ne=er?E+me:E,tr=ze?d+me:d;l&&(Te&&(Ce=M-ve),qe&&(Le=b-ve)),(!l&&Le-Ce>s||l&&Ce-Le>s)&&(v(T,t[T]=l?Ce:j(Ce)),v(g,t[g]=l?Le:j(Le))),tr-Ne>i&&(v(h,t[h]=f?Ne:$(Ne)),v(S,t[S]=f?tr:$(tr)))}r.attr("d",rA(e,t)),le(a,t),L3(e,n,t,C)}function le(me,ve){(f||l)&&be();function be(){var we=ve.type!=="path",Se=me.selectAll(".visual-cue").data([0]),Ae=1;Se.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ae}).classed("visual-cue",!0);var Ie=z(f?ve.xanchor:rO.midRange(we?[ve.x0,ve.x1]:Mo.extractPathCoords(ve.path,h0.paramIsX))),Ve=W(l?ve.yanchor:rO.midRange(we?[ve.y0,ve.y1]:Mo.extractPathCoords(ve.path,h0.paramIsY)));if(Ie=Mo.roundPositionForSharpStrokeRendering(Ie,Ae),Ve=Mo.roundPositionForSharpStrokeRendering(Ve,Ae),f&&l){var pe="M"+(Ie-1-Ae)+","+(Ve-1-Ae)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Se.attr("d",pe)}else if(f){var xe="M"+(Ie-1-Ae)+","+(Ve-9-Ae)+"v18 h2 v-18 Z";Se.attr("d",xe)}else{var Te="M"+(Ie-9-Ae)+","+(Ve-1-Ae)+"h18 v2 h-18 Z";Se.attr("d",Te)}}}function de(me){me.selectAll(".visual-cue").remove()}function _e(me,ve,be){var we=ve.xref,Se=ve.yref,Ae=vv.getFromId(be,we),Ie=vv.getFromId(be,Se),Ve="";we!=="paper"&&!Ae.autorange&&(Ve+=we),Se!=="paper"&&!Ie.autorange&&(Ve+=Se),tA.setClipUrl(me,Ve?"clip"+be._fullLayout._uid+Ve:null,be)}}function aO(e,r,t){return e.replace(h0.segmentRE,function(n){var a=0,o=n.charAt(0),i=h0.paramIsX[o],s=h0.paramIsY[o],f=h0.numParams[o],l=n.substr(1).replace(h0.paramRE,function(u){return a>=f||(i[a]?u=r(u):s[a]&&(u=t(u)),a++),u});return o+l})}function H1e(e,r){if(R3(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex){iO(e);return}e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=iO,nA(e)}}}function iO(e){if(R3(e)){var r=e._fullLayout._activeShapeIndex;r>=0&&(sO(e),delete e._fullLayout._activeShapeIndex,nA(e))}}function V1e(e){if(R3(e)){sO(e);var r=e._fullLayout._activeShapeIndex,t=(e.layout||{}).shapes||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);return delete e._fullLayout._activeShapeIndex,oO.call("_guiRelayout",e,{shapes:n})}}}});var sA=ie((HIe,mO)=>{"use strict";var fs=Dt(),cO=Za(),hO=ya(),yn=y3(),Y1e=D3().eraseActiveShape,dv=wr(),ln=dv._,mn=mO.exports={};mn.toImage={name:"toImage",title:function(e){var r=e._context.toImageButtonOptions||{},t=r.format||"png";return t==="png"?ln(e,"Download plot as a png"):ln(e,"Download plot")},icon:yn.camera,click:function(e){var r=e._context.toImageButtonOptions,t={format:r.format||"png"};dv.notifier(ln(e,"Taking snapshot - this may take a few seconds"),"long"),t.format!=="svg"&&dv.isIE()&&(dv.notifier(ln(e,"IE only supports svg.  Changing format to svg."),"long"),t.format="svg"),["filename","width","height","scale"].forEach(function(n){n in r&&(t[n]=r[n])}),fs.call("downloadImage",e,t).then(function(n){dv.notifier(ln(e,"Snapshot succeeded")+" - "+n,"long")}).catch(function(){dv.notifier(ln(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}};mn.sendDataToCloud={name:"sendDataToCloud",title:function(e){return ln(e,"Edit in Chart Studio")},icon:yn.disk,click:function(e){cO.sendDataToCloud(e)}};mn.editInChartStudio={name:"editInChartStudio",title:function(e){return ln(e,"Edit in Chart Studio")},icon:yn.pencil,click:function(e){cO.sendDataToCloud(e)}};mn.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return ln(e,"Zoom")},attr:"dragmode",val:"zoom",icon:yn.zoombox,click:zi};mn.pan2d={name:"pan2d",_cat:"pan",title:function(e){return ln(e,"Pan")},attr:"dragmode",val:"pan",icon:yn.pan,click:zi};mn.select2d={name:"select2d",_cat:"select",title:function(e){return ln(e,"Box Select")},attr:"dragmode",val:"select",icon:yn.selectbox,click:zi};mn.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return ln(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:yn.lasso,click:zi};mn.drawclosedpath={name:"drawclosedpath",title:function(e){return ln(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:yn.drawclosedpath,click:zi};mn.drawopenpath={name:"drawopenpath",title:function(e){return ln(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:yn.drawopenpath,click:zi};mn.drawline={name:"drawline",title:function(e){return ln(e,"Draw line")},attr:"dragmode",val:"drawline",icon:yn.drawline,click:zi};mn.drawrect={name:"drawrect",title:function(e){return ln(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:yn.drawrect,click:zi};mn.drawcircle={name:"drawcircle",title:function(e){return ln(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:yn.drawcircle,click:zi};mn.eraseshape={name:"eraseshape",title:function(e){return ln(e,"Erase active shape")},icon:yn.eraseshape,click:Y1e};mn.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return ln(e,"Zoom in")},attr:"zoom",val:"in",icon:yn.zoom_plus,click:zi};mn.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return ln(e,"Zoom out")},attr:"zoom",val:"out",icon:yn.zoom_minus,click:zi};mn.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return ln(e,"Autoscale")},attr:"zoom",val:"auto",icon:yn.autoscale,click:zi};mn.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return ln(e,"Reset axes")},attr:"zoom",val:"reset",icon:yn.home,click:zi};mn.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return ln(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:yn.tooltip_basic,gravity:"ne",click:zi};mn.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return ln(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:yn.tooltip_compare,gravity:"ne",click:zi};function zi(e,r){var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i={},s=hO.list(e,null,!0),f=o._cartesianSpikesEnabled,l,u;if(n==="zoom"){var c=a==="in"?.5:2,v=(1+c)/2,m=(1-c)/2,x;for(u=0;u<s.length;u++)if(l=s[u],!l.fixedrange)if(x=l._name,a==="auto")i[x+".autorange"]=!0;else if(a==="reset")l._rangeInitial0===void 0&&l._rangeInitial1===void 0?i[x+".autorange"]=!0:l._rangeInitial0===void 0?(i[x+".autorange"]=l._autorangeInitial,i[x+".range"]=[null,l._rangeInitial1]):l._rangeInitial1===void 0?(i[x+".range"]=[l._rangeInitial0,null],i[x+".autorange"]=l._autorangeInitial):i[x+".range"]=[l._rangeInitial0,l._rangeInitial1],l._showSpikeInitial!==void 0&&(i[x+".showspikes"]=l._showSpikeInitial,f==="on"&&!l._showSpikeInitial&&(f="off"));else{var A=[l.r2l(l.range[0]),l.r2l(l.range[1])],w=[v*A[0]+m*A[1],v*A[1]+m*A[0]];i[x+".range[0]"]=l.l2r(w[0]),i[x+".range[1]"]=l.l2r(w[1])}}else n==="hovermode"&&(a==="x"||a==="y")&&(a=o._isHoriz?"y":"x",t.setAttribute("data-val",a)),i[n]=a;o._cartesianSpikesEnabled=f,fs.call("_guiRelayout",e,i)}mn.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return ln(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:yn.zoombox,click:F3};mn.pan3d={name:"pan3d",_cat:"pan",title:function(e){return ln(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:yn.pan,click:F3};mn.orbitRotation={name:"orbitRotation",title:function(e){return ln(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:yn["3d_rotate"],click:F3};mn.tableRotation={name:"tableRotation",title:function(e){return ln(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:yn["z-axis"],click:F3};function F3(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],i={},s=n.split("."),f=0;f<o.length;f++)i[o[f]+"."+s[1]]=a;var l=a==="pan"?a:"zoom";i.dragmode=l,fs.call("_guiRelayout",e,i)}mn.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return ln(e,"Reset camera to default")},attr:"resetDefault",icon:yn.home,click:aA};mn.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return ln(e,"Reset camera to last save")},attr:"resetLastSave",icon:yn.movie,click:aA};function aA(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=n==="resetLastSave",o=n==="resetDefault",i=e._fullLayout,s=i._subplots.gl3d||[],f={},l=0;l<s.length;l++){var u=s[l],c=u+".camera",v=u+".aspectratio",m=u+".aspectmode",x=i[u]._scene,A;a?(f[c+".up"]=x.viewInitial.up,f[c+".eye"]=x.viewInitial.eye,f[c+".center"]=x.viewInitial.center,A=!0):o&&(f[c+".up"]=null,f[c+".eye"]=null,f[c+".center"]=null,A=!0),A&&(f[v+".x"]=x.viewInitial.aspectratio.x,f[v+".y"]=x.viewInitial.aspectratio.y,f[v+".z"]=x.viewInitial.aspectratio.z,f[m]=x.viewInitial.aspectmode)}fs.call("_guiRelayout",e,f)}mn.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return ln(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:yn.tooltip_basic,gravity:"ne",click:W1e};function vO(e,r){var t=r.currentTarget,n=t._previousVal,a=e._fullLayout,o=a._subplots.gl3d||[],i=["xaxis","yaxis","zaxis"],s={},f={};if(n)f=n,t._previousVal=null;else{for(var l=0;l<o.length;l++){var u=o[l],c=a[u],v=u+".hovermode";s[v]=c.hovermode,f[v]=!1;for(var m=0;m<3;m++){var x=i[m],A=u+"."+x+".showspikes";f[A]=!1,s[A]=c[x].showspikes}}t._previousVal=s}return f}function W1e(e,r){var t=vO(e,r);fs.call("_guiRelayout",e,t)}mn.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return ln(e,"Zoom in")},attr:"zoom",val:"in",icon:yn.zoom_plus,click:iA};mn.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return ln(e,"Zoom out")},attr:"zoom",val:"out",icon:yn.zoom_minus,click:iA};mn.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return ln(e,"Reset")},attr:"reset",val:null,icon:yn.autoscale,click:iA};mn.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return ln(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:yn.tooltip_basic,gravity:"ne",click:oA};function iA(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i=o._subplots.geo||[],s=0;s<i.length;s++){var f=i[s],l=o[f];if(n==="zoom"){var u=l.projection.scale,c=a==="in"?2*u:.5*u;fs.call("_guiRelayout",e,f+".projection.scale",c)}}n==="reset"&&pv(e,"geo")}mn.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(e){return ln(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:yn.tooltip_basic,gravity:"ne",click:oA};mn.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return ln(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:yn.tooltip_basic,gravity:"ne",click:oA};function dO(e){var r=e._fullLayout;return r.hovermode?!1:r._has("cartesian")?r._isHoriz?"y":"x":"closest"}function oA(e){var r=dO(e);fs.call("_guiRelayout",e,"hovermode",r)}mn.resetViewSankey={name:"resetSankeyGroup",title:function(e){return ln(e,"Reset view")},icon:yn.home,click:function(e){for(var r={"node.groups":[],"node.x":[],"node.y":[]},t=0;t<e._fullData.length;t++){var n=e._fullData[t]._viewInitial;r["node.groups"].push(n.node.groups.slice()),r["node.x"].push(n.node.x.slice()),r["node.y"].push(n.node.y.slice())}fs.call("restyle",e,r)}};mn.toggleHover={name:"toggleHover",title:function(e){return ln(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:yn.tooltip_basic,gravity:"ne",click:function(e,r){var t=vO(e,r);t.hovermode=dO(e),fs.call("_guiRelayout",e,t)}};mn.resetViews={name:"resetViews",title:function(e){return ln(e,"Reset views")},icon:yn.home,click:function(e,r){var t=r.currentTarget;t.setAttribute("data-attr","zoom"),t.setAttribute("data-val","reset"),zi(e,r),t.setAttribute("data-attr","resetLastSave"),aA(e,r),pv(e,"geo"),pv(e,"mapbox"),pv(e,"map")}};mn.toggleSpikelines={name:"toggleSpikelines",title:function(e){return ln(e,"Toggle Spike Lines")},icon:yn.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var r=e._fullLayout,t=r._cartesianSpikesEnabled;r._cartesianSpikesEnabled=t==="on"?"off":"on",fs.call("_guiRelayout",e,X1e(e))}};function X1e(e){for(var r=e._fullLayout,t=r._cartesianSpikesEnabled==="on",n=hO.list(e,null,!0),a={},o=0;o<n.length;o++){var i=n[o];a[i._name+".showspikes"]=t?!0:i._showSpikeInitial}return a}mn.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return ln(e,"Reset view")},attr:"reset",icon:yn.home,click:function(e){pv(e,"mapbox")}};mn.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(e){return ln(e,"Reset view")},attr:"reset",icon:yn.home,click:function(e){pv(e,"map")}};mn.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return ln(e,"Zoom in")},attr:"zoom",val:"in",icon:yn.zoom_plus,click:pO};mn.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(e){return ln(e,"Zoom in")},attr:"zoom",val:"in",icon:yn.zoom_plus,click:gO};mn.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return ln(e,"Zoom out")},attr:"zoom",val:"out",icon:yn.zoom_minus,click:pO};mn.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(e){return ln(e,"Zoom out")},attr:"zoom",val:"out",icon:yn.zoom_minus,click:gO};function pO(e,r){yO(e,r,"mapbox")}function gO(e,r){yO(e,r,"map")}function yO(e,r,t){for(var n=r.currentTarget,a=n.getAttribute("data-val"),o=e._fullLayout,i=o._subplots[t]||[],s=1.05,f={},l=0;l<i.length;l++){var u=i[l],c=o[u].zoom,v=a==="in"?s*c:c/s;f[u+".zoom"]=v}fs.call("_guiRelayout",e,f)}function pv(e,r){for(var t=e._fullLayout,n=t._subplots[r]||[],a={},o=0;o<n.length;o++)for(var i=n[o],s=t[i]._subplot,f=s.viewInitial,l=Object.keys(f),u=0;u<l.length;u++){var c=l[u];a[i+"."+c]=f[c]}fs.call("_guiRelayout",e,a)}});var lA=ie((VIe,wO)=>{"use strict";var xO=sA(),Z1e=Object.keys(xO),bO=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],_O=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(bO),gv=[],j1e=function(e){if(_O.indexOf(e._cat||e.name)===-1){var r=e.name,t=(e._cat||e.name).toLowerCase();gv.indexOf(r)===-1&&gv.push(r),gv.indexOf(t)===-1&&gv.push(t)}};Z1e.forEach(function(e){j1e(xO[e])});gv.sort();wO.exports={DRAW_MODES:bO,backButtons:_O,foreButtons:gv}});var fA=ie((WIe,AO)=>{"use strict";var YIe=lA();AO.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}});var MO=ie((XIe,TO)=>{"use strict";var J1e=wr(),yp=pn(),$1e=Yn(),K1e=fA();TO.exports=function(r,t){var n=r.modebar||{},a=$1e.newContainer(t,"modebar");function o(s,f){return J1e.coerce(n,a,K1e,s,f)}o("orientation"),o("bgcolor",yp.addOpacity(t.paper_bgcolor,.5));var i=yp.contrast(yp.rgb(t.modebar.bgcolor));o("color",yp.addOpacity(i,.3)),o("activecolor",yp.addOpacity(i,.7)),o("uirevision",t.uirevision),o("add"),o("remove")}});var kO=ie((ZIe,CO)=>{"use strict";var uA=gn(),Q1e=cn(),xf=wr(),EO=y3(),epe=_2().version,rpe=new DOMParser;function SO(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var Sl=SO.prototype;Sl.update=function(e,r){this.graphInfo=e;var t=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar",t.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var o=n.modebar,i=t.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";xf.deleteRelatedStyleRule(a),xf.addRelatedStyleRule(a,i+"#"+a+" .modebar-group","background-color: "+o.bgcolor),xf.addRelatedStyleRule(a,"#"+a+" .modebar-btn .icon path","fill: "+o.color),xf.addRelatedStyleRule(a,"#"+a+" .modebar-btn:hover .icon path","fill: "+o.activecolor),xf.addRelatedStyleRule(a,"#"+a+" .modebar-btn.active .icon path","fill: "+o.activecolor);var s=!this.hasButtons(r),f=this.hasLogo!==t.displaylogo,l=this.locale!==t.locale;if(this.locale=t.locale,(s||f||l)&&(this.removeAllButtons(),this.updateButtons(r),t.watermark||t.displaylogo)){var u=this.getLogo();t.watermark&&(u.className=u.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(u,this.element.childNodes[0]):this.element.appendChild(u),this.hasLogo=!0}this.updateActiveButton()};Sl.updateButtons=function(e){var r=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=r.createGroup();t.forEach(function(a){var o=a.name;if(!o)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(o)!==-1)throw new Error("button name '"+o+"' is taken");r.buttonsNames.push(o);var i=r.createButton(a);r.buttonElements.push(i),n.appendChild(i)}),r.element.appendChild(n)})};Sl.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e};Sl.createButton=function(e){var r=this,t=document.createElement("a");t.setAttribute("rel","tooltip"),t.className="modebar-btn";var n=e.title;n===void 0?n=e.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&t.setAttribute("data-title",n),e.attr!==void 0&&t.setAttribute("data-attr",e.attr);var a=e.val;a!==void 0&&(typeof a=="function"&&(a=a(this.graphInfo)),t.setAttribute("data-val",a));var o=e.click;if(typeof o!="function")throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(s){e.click(r.graphInfo,s),r.updateActiveButton(s.currentTarget)}),t.setAttribute("data-toggle",e.toggle||!1),e.toggle&&uA.select(t).classed("active",!0);var i=e.icon;return typeof i=="function"?t.appendChild(i()):t.appendChild(this.createIcon(i||EO.question)),t.setAttribute("data-gravity",e.gravity||"n"),t};Sl.createIcon=function(e){var r=Q1e(e.height)?Number(e.height):e.ascent-e.descent,t="http://www.w3.org/2000/svg",n;if(e.path){n=document.createElementNS(t,"svg"),n.setAttribute("viewBox",[0,0,e.width,r].join(" ")),n.setAttribute("class","icon");var a=document.createElementNS(t,"path");a.setAttribute("d",e.path),e.transform?a.setAttribute("transform",e.transform):e.ascent!==void 0&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),n.appendChild(a)}if(e.svg){var o=rpe.parseFromString(e.svg,"application/xml");n=o.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n};Sl.updateActiveButton=function(e){var r=this.graphInfo._fullLayout,t=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var a=n.getAttribute("data-val")||!0,o=n.getAttribute("data-attr"),i=n.getAttribute("data-toggle")==="true",s=uA.select(n);if(i)o===t&&s.classed("active",!s.classed("active"));else{var f=o===null?o:xf.nestedProperty(r,o).get();s.classed("active",f===a)}})};Sl.hasButtons=function(e){var r=this.buttons;if(!r||e.length!==r.length)return!1;for(var t=0;t<e.length;++t){if(e[t].length!==r[t].length)return!1;for(var n=0;n<e[t].length;n++)if(e[t][n].name!==r[t][n].name)return!1}return!0};function tpe(e){return e+" (v"+epe+")"}Sl.getLogo=function(){var e=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",tpe(xf._(this.graphInfo,"Produced with Plotly.js"))),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(EO.newplotlylogo)),e.appendChild(r),e};Sl.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};Sl.destroy=function(){xf.removeElement(this.container.querySelector(".modebar")),xf.deleteRelatedStyleRule(this._uid)};function npe(e,r){var t=e._fullLayout,n=new SO({graphInfo:e,container:t._modebardiv.node(),buttons:r});return t._privateplot&&uA.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}CO.exports=npe});var DO=ie((jIe,RO)=>{"use strict";var ape=ya(),LO=hi(),cA=Dt(),ipe=hf().isUnifiedHover,ope=kO(),I3=sA(),spe=lA().DRAW_MODES,lpe=wr().extendDeep;RO.exports=function(r){var t=r._fullLayout,n=r._context,a=t._modeBar;if(!n.displayModeBar&&!n.watermark){a&&(a.destroy(),delete t._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o=n.modeBarButtons,i;Array.isArray(o)&&o.length?i=dpe(o):!n.displayModeBar&&n.watermark?i=[]:i=fpe(r),a?a.update(r,i):t._modeBar=ope(r,i)};function fpe(e){var r=e._fullLayout,t=e._fullData,n=e._context;function a(I,q){if(typeof q=="string"){if(q.toLowerCase()===I.toLowerCase())return!0}else{var z=q.name,W=q._cat||q.name;if(z===I||W===I.toLowerCase())return!0}return!1}var o=r.modebar.add;typeof o=="string"&&(o=[o]);var i=r.modebar.remove;typeof i=="string"&&(i=[i]);var s=n.modeBarButtonsToAdd.concat(o.filter(function(I){for(var q=0;q<n.modeBarButtonsToRemove.length;q++)if(a(I,n.modeBarButtonsToRemove[q]))return!1;return!0})),f=n.modeBarButtonsToRemove.concat(i.filter(function(I){for(var q=0;q<n.modeBarButtonsToAdd.length;q++)if(a(I,n.modeBarButtonsToAdd[q]))return!1;return!0})),l=r._has("cartesian"),u=r._has("gl3d"),c=r._has("geo"),v=r._has("pie"),m=r._has("funnelarea"),x=r._has("gl2d"),A=r._has("ternary"),w=r._has("mapbox"),y=r._has("map"),_=r._has("polar"),M=r._has("smith"),b=r._has("sankey"),E=upe(r),d=ipe(r.hovermode),T=[];function g(I){if(I.length){for(var q=[],z=0;z<I.length;z++){for(var W=I[z],$=I3[W],j=$.name.toLowerCase(),G=($._cat||$.name).toLowerCase(),B=!1,X=0;X<f.length;X++){var te=f[X].toLowerCase();if(te===j||te===G){B=!0;break}}B||q.push(I3[W])}T.push(q)}}var h=["toImage"];n.showEditInChartStudio?h.push("editInChartStudio"):n.showSendToCloud&&h.push("sendDataToCloud"),g(h);var S=[],p=[],C=[],k=[];(l||x||v||m||A)+c+u+w+y+_+M>1?(p=["toggleHover"],C=["resetViews"]):c?(S=["zoomInGeo","zoomOutGeo"],p=["hoverClosestGeo"],C=["resetGeo"]):u?(p=["hoverClosest3d"],C=["resetCameraDefault3d","resetCameraLastSave3d"]):w?(S=["zoomInMapbox","zoomOutMapbox"],p=["toggleHover"],C=["resetViewMapbox"]):y?(S=["zoomInMap","zoomOutMap"],p=["toggleHover"],C=["resetViewMap"]):x?p=["hoverClosestGl2d"]:v?p=["hoverClosestPie"]:b?(p=["hoverClosestCartesian","hoverCompareCartesian"],C=["resetViewSankey"]):p=["toggleHover"],l&&p.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(hpe(t)||d)&&(p=[]),(l||x)&&!E&&(S=["zoomIn2d","zoomOut2d","autoScale2d"],C[0]!=="resetViews"&&(C=["resetScale2d"])),u?k=["zoom3d","pan3d","orbitRotation","tableRotation"]:(l||x)&&!E||A?k=["zoom2d","pan2d"]:w||y||c?k=["pan2d"]:_&&(k=["zoom2d"]),cpe(t)&&k.push("select2d","lasso2d");var D=[],P=function(I){D.indexOf(I)===-1&&p.indexOf(I)!==-1&&D.push(I)};if(Array.isArray(s)){for(var O=[],F=0;F<s.length;F++){var L=s[F];typeof L=="string"?(L=L.toLowerCase(),spe.indexOf(L)!==-1?(r._has("mapbox")||r._has("map")||r._has("cartesian"))&&k.push(L):L==="togglespikelines"?P("toggleSpikelines"):L==="togglehover"?P("toggleHover"):L==="hovercompare"?P("hoverCompareCartesian"):L==="hoverclosest"?(P("hoverClosestCartesian"),P("hoverClosestGeo"),P("hoverClosest3d"),P("hoverClosestGl2d"),P("hoverClosestPie")):L==="v1hovermode"&&(P("hoverClosestCartesian"),P("hoverCompareCartesian"),P("hoverClosestGeo"),P("hoverClosest3d"),P("hoverClosestGl2d"),P("hoverClosestPie"))):O.push(L)}s=O}return g(k),g(S.concat(C)),g(D),vpe(T,s)}function upe(e){for(var r=ape.list({_fullLayout:e},null,!0),t=0;t<r.length;t++)if(!r[t].fixedrange)return!1;return!0}function cpe(e){for(var r=!1,t=0;t<e.length&&!r;t++){var n=e[t];!n._module||!n._module.selectPoints||(cA.traceIs(n,"scatter-like")?(LO.hasMarkers(n)||LO.hasText(n))&&(r=!0):cA.traceIs(n,"box-violin")?(n.boxpoints==="all"||n.points==="all")&&(r=!0):r=!0)}return r}function hpe(e){for(var r=0;r<e.length;r++)if(!cA.traceIs(e[r],"noHover"))return!1;return!0}function vpe(e,r){if(r.length)if(Array.isArray(r[0]))for(var t=0;t<r.length;t++)e.push(r[t]);else e.push(r);return e}function dpe(e){for(var r=lpe([],e),t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;a++){var o=n[a];if(typeof o=="string")if(I3[o]!==void 0)r[t][a]=I3[o];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return r}});var hA=ie((JIe,FO)=>{"use strict";FO.exports={moduleType:"component",name:"modebar",layoutAttributes:fA(),supplyLayoutDefaults:MO(),manage:DO()}});var vA=ie(($Ie,IO)=>{"use strict";var ppe=Oi().FROM_BL;IO.exports=function(r,t,n){n===void 0&&(n=ppe[r.constraintoward||"center"]);var a=[r.r2l(r.range[0]),r.r2l(r.range[1])],o=a[0]+(a[1]-a[0])*n;r.range=r._input.range=[r.l2r(o+(a[0]-o)*t),r.l2r(o+(a[1]-o)*t)],r.setScale()}});var yv=ie(mp=>{"use strict";var v0=wr(),dA=Au(),zs=ya().id2name,gpe=is(),PO=vA(),ype=Bm(),mpe=ta().ALMOST_EQUAL,xpe=Oi().FROM_BL;mp.handleDefaults=function(e,r,t){var n=t.axIds,a=t.axHasImage,o=r._axisConstraintGroups=[],i=r._axisMatchGroups=[],s,f,l,u,c,v,m,x;for(s=0;s<n.length;s++)u=zs(n[s]),c=e[u],v=r[u],bpe(c,v,{axIds:n,layoutOut:r,hasImage:a[u]});function A(g,h){for(s=0;s<g.length;s++){f=g[s];for(l in f)r[zs(l)][h]=f}}for(A(i,"_matchGroup"),s=0;s<o.length;s++){f=o[s];for(l in f)if(v=r[zs(l)],v.fixedrange){for(var w in f){var y=zs(w);(e[y]||{}).fixedrange===!1&&v0.warn("fixedrange was specified as false for axis "+y+" but was overridden because another axis in its constraint group has fixedrange true"),r[y].fixedrange=!0}break}}for(s=0;s<o.length;){f=o[s];for(l in f){v=r[zs(l)],v._matchGroup&&Object.keys(v._matchGroup).length===Object.keys(f).length&&(o.splice(s,1),s--);break}s++}A(o,"_constraintGroup");var _=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],M=!1,b=!1;function E(){x=v[m],m==="rangebreaks"&&(b=v._hasDayOfWeekBreaks)}for(s=0;s<i.length;s++){f=i[s];for(var d=0;d<_.length;d++){m=_[d],x=null;var T;for(l in f)if(u=zs(l),c=e[u],v=r[u],m in v){if(!v.matches&&(T=v,m in c)){E();break}x===null&&m in c&&E()}if(m==="range"&&x&&c.range&&c.range.length===2&&c.range[0]!==null&&c.range[1]!==null&&(M=!0),m==="autorange"&&x===null&&M&&(x=!1),x===null&&m in T&&(x=T[m]),x!==null)for(l in f)v=r[zs(l)],v[m]=m==="range"?x.slice():x,m==="rangebreaks"&&(v._hasDayOfWeekBreaks=b,ype(v,r))}}};function bpe(e,r,t){var n=t.axIds,a=t.layoutOut,o=t.hasImage,i=a._axisConstraintGroups,s=a._axisMatchGroups,f=r._id,l=f.charAt(0),u=((a._splomAxes||{})[l]||{})[f]||{},c=r._id,v=c.charAt(0)==="x";r._matchGroup=null,r._constraintGroup=null;function m(C,k){return v0.coerce(e,r,gpe,C,k)}m("constrain",o?"domain":"range"),v0.coerce(e,r,{constraintoward:{valType:"enumerated",values:v?["left","center","right"]:["bottom","middle","top"],dflt:v?"center":"middle"}},"constraintoward");var x=r.type,A,w,y=[];for(A=0;A<n.length;A++)if(w=n[A],w!==c){var _=a[zs(w)];_.type===x&&y.push(w)}var M=BO(i,c);if(M){var b=[];for(A=0;A<y.length;A++)w=y[A],M[w]||b.push(w);y=b}var E=y.length,d,T;E&&(e.matches||u.matches)&&(d=v0.coerce(e,r,{matches:{valType:"enumerated",values:y,dflt:y.indexOf(u.matches)!==-1?u.matches:void 0}},"matches"));var g=o&&!v?r.anchor:void 0;if(E&&!d&&(e.scaleanchor||g)&&(T=v0.coerce(e,r,{scaleanchor:{valType:"enumerated",values:y.concat([!1])}},"scaleanchor",g)),d){r._matchGroup=pA(s,c,d,1);var h=a[zs(d)],S=OO(a,r)/OO(a,h);v!==(d.charAt(0)==="x")&&(S=(v?"x":"y")+S),pA(i,c,d,S)}else e.matches&&n.indexOf(e.matches)!==-1&&v0.warn("ignored "+r._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(T){var p=m("scaleratio");p||(p=r.scaleratio=1),pA(i,c,T,p)}else e.scaleanchor&&n.indexOf(e.scaleanchor)!==-1&&v0.warn("ignored "+r._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function OO(e,r){var t=r.domain;return t||(t=e[zs(r.overlaying)].domain),t[1]-t[0]}function BO(e,r){for(var t=0;t<e.length;t++)if(e[t][r])return e[t];return null}function pA(e,r,t,n){var a,o,i,s,f,l=BO(e,r);l===null?(l={},l[r]=1,f=e.length,e.push(l)):f=e.indexOf(l);var u=Object.keys(l);for(a=0;a<e.length;a++)if(i=e[a],a!==f&&i[t]){var c=i[t];for(o=0;o<u.length;o++)s=u[o],i[s]=gA(c,gA(n,l[s]));e.splice(f,1);return}if(n!==1)for(o=0;o<u.length;o++){var v=u[o];l[v]=gA(n,l[v])}l[t]=1}function gA(e,r){var t="",n="",a,o;typeof e=="string"&&(t=e.match(/^[xy]*/)[0],a=t.length,e=+e.substr(a)),typeof r=="string"&&(n=r.match(/^[xy]*/)[0],o=n.length,r=+r.substr(o));var i=e*r;return!a&&!o?i:!a||!o||t.charAt(0)===n.charAt(0)?t+n+e*r:a===o?i:(a>o?t.substr(o):n.substr(a))+i}function _pe(e,r){for(var t=r._size,n=t.h/t.w,a={},o=Object.keys(e),i=0;i<o.length;i++){var s=o[i],f=e[s];if(typeof f=="string"){var l=f.match(/^[xy]*/)[0],u=l.length;f=+f.substr(u);for(var c=l.charAt(0)==="y"?n:1/n,v=0;v<u;v++)f*=c}a[s]=f}return a}mp.enforce=function(r){var t=r._fullLayout,n=t._axisConstraintGroups||[],a,o,i,s,f,l,u,c;for(a=0;a<n.length;a++){i=_pe(n[a],t);var v=Object.keys(i),m=1/0,x=0,A=1/0,w={},y={},_=!1;for(o=0;o<v.length;o++)s=v[o],y[s]=f=t[zs(s)],f._inputDomain?f.domain=f._inputDomain.slice():f._inputDomain=f.domain.slice(),f._inputRange||(f._inputRange=f.range.slice()),f.setScale(),w[s]=l=Math.abs(f._m)/i[s],m=Math.min(m,l),(f.constrain==="domain"||!f._constraintShrinkable)&&(A=Math.min(A,l)),delete f._constraintShrinkable,x=Math.max(x,l),f.constrain==="domain"&&(_=!0);if(!(m>mpe*x&&!_)){for(o=0;o<v.length;o++)if(s=v[o],l=w[s],f=y[s],u=f.constrain,l!==A||u==="domain")if(c=l/A,u==="range")PO(f,c);else{var M=f._inputDomain,b=(f.domain[1]-f.domain[0])/(M[1]-M[0]),E=(f.r2l(f.range[1])-f.r2l(f.range[0]))/(f.r2l(f._inputRange[1])-f.r2l(f._inputRange[0]));if(c/=b,c*E<1){f.domain=f._input.domain=M.slice(),PO(f,c);continue}if(E<1&&(f.range=f._input.range=f._inputRange.slice(),c*=E),f.autorange){var d=f.r2l(f.range[0]),T=f.r2l(f.range[1]),g=(d+T)/2,h=g,S=g,p=Math.abs(T-g),C=g-p*c*1.0001,k=g+p*c*1.0001,D=dA.makePadFn(t,f,0),P=dA.makePadFn(t,f,1);NO(f,c);var O=Math.abs(f._m),F=dA.concatExtremes(r,f),L=F.min,I=F.max,q,z;for(z=0;z<L.length;z++)q=L[z].val-D(L[z])/O,q>C&&q<h&&(h=q);for(z=0;z<I.length;z++)q=I[z].val+P(I[z])/O,q<k&&q>S&&(S=q);var W=(S-h)/(2*p);c/=W,h=f.l2r(h),S=f.l2r(S),f.range=f._input.range=d<T?[h,S]:[S,h]}NO(f,c)}}}};mp.getAxisGroup=function(r,t){for(var n=r._axisMatchGroups,a=0;a<n.length;a++){var o=n[a];if(o[t])return"g"+a}return t};mp.clean=function(r,t){if(t._inputDomain){for(var n=!1,a=t._id,o=r._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][a]){n=!0;break}(!n||t.constrain!=="domain")&&(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}};function NO(e,r){var t=e._inputDomain,n=xpe[e.constraintoward],a=t[0]+(t[1]-t[0])*n;e.domain=e._input.domain=[a+(t[0]-a)/r,a+(t[1]-a)/r],e.setScale()}});var N3=ie(ii=>{"use strict";var O3=gn(),Ui=Dt(),Ho=Za(),us=wr(),yA=Ni(),mA=g3(),xp=pn(),mv=zn(),qO=np(),VO=hA(),bp=Rn(),bf=Oi(),YO=yv(),wpe=YO.enforce,Ape=YO.clean,zO=Au().doAutoRange,WO="start",Tpe="middle",XO="end",Mpe=Pa().zindexSeparator;ii.layoutStyles=function(e){return us.syncOrAsync([Ho.doAutoMargin,Spe],e)};function Epe(e,r,t){for(var n=0;n<t.length;n++){var a=t[n][0],o=t[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&o[0]<r[1]&&o[1]>r[0])return!0}return!1}function Spe(e){var r=e._fullLayout,t=r._size,n=t.p,a=bp.list(e,"",!0),o,i,s,f,l,u;if(r._paperdiv.style({width:e._context.responsive&&r.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":r.width+"px",height:e._context.responsive&&r.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":r.height+"px"}).selectAll(".main-svg").call(mv.setSize,r.width,r.height),e._context.setBackground(e,r.paper_bgcolor),ii.drawMainTitle(e),VO.manage(e),!r._has("cartesian"))return Ho.previousPromises(e);function c(ee,H,re){var V=ee._lw/2;if(ee._id.charAt(0)==="x"){if(H){if(re==="top")return H._offset-n-V}else return t.t+t.h*(1-(ee.position||0))+V%1;return H._offset+H._length+n+V}if(H){if(re==="right")return H._offset+H._length+n+V}else return t.l+t.w*(ee.position||0)+V%1;return H._offset-n-V}for(o=0;o<a.length;o++){f=a[o];var v=f._anchorAxis;f._linepositions={},f._lw=mv.crispRound(e,f.linewidth,1),f._mainLinePosition=c(f,v,f.side),f._mainMirrorPosition=f.mirror&&v?c(f,v,bf.OPPOSITE_SIDE[f.side]):null}var m=[],x=[],A=[],w=xp.opacity(r.paper_bgcolor)===1&&xp.opacity(r.plot_bgcolor)===1&&r.paper_bgcolor===r.plot_bgcolor;for(i in r._plots)if(s=r._plots[i],s.mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var y=s.xaxis.domain,_=s.yaxis.domain,M=s.plotgroup;if(Epe(y,_,A)&&i.indexOf(Mpe)===-1){var b=M.node(),E=s.bg=us.ensureSingle(M,"rect","bg");b.insertBefore(E.node(),b.childNodes[0]),x.push(i)}else M.select("rect.bg").remove(),A.push([y,_]),w||(m.push(i),x.push(i))}var d=r._bgLayer.selectAll(".bg").data(m);for(d.enter().append("rect").classed("bg",!0),d.exit().remove(),d.each(function(ee){r._plots[ee].bg=O3.select(this)}),o=0;o<x.length;o++)s=r._plots[x[o]],l=s.xaxis,u=s.yaxis,s.bg&&l._offset!==void 0&&u._offset!==void 0&&s.bg.call(mv.setRect,l._offset-n,u._offset-n,l._length+2*n,u._length+2*n).call(xp.fill,r.plot_bgcolor).style("stroke-width",0);if(!r._hasOnlyLargeSploms)for(i in r._plots){s=r._plots[i],l=s.xaxis,u=s.yaxis;var T=s.clipId="clip"+r._uid+i+"plot",g=us.ensureSingleById(r._clips,"clipPath",T,function(ee){ee.classed("plotclip",!0).append("rect")});s.clipRect=g.select("rect").attr({width:l._length,height:u._length}),mv.setTranslate(s.plot,l._offset,u._offset);var h,S;s._hasClipOnAxisFalse?(h=null,S=T):(h=T,S=null),mv.setClipUrl(s.plot,h,e),s.layerClipId=S}var p,C,k,D,P,O,F,L,I,q,z,W,$;function j(ee){return"M"+p+","+ee+"H"+C}function G(ee){return"M"+l._offset+","+ee+"h"+l._length}function B(ee){return"M"+ee+","+L+"V"+F}function X(ee){return u._shift!==void 0&&(ee+=u._shift),"M"+ee+","+u._offset+"v"+u._length}function te(ee,H,re){if(!ee.showline||i!==ee._mainSubplot)return"";if(!ee._anchorAxis)return re(ee._mainLinePosition);var V=H(ee._mainLinePosition);return ee.mirror&&(V+=H(ee._mainMirrorPosition)),V}for(i in r._plots){s=r._plots[i],l=s.xaxis,u=s.yaxis;var J="M0,0";UO(l,i)&&(P=P3(l,"left",u,a),p=l._offset-(P?n+P:0),O=P3(l,"right",u,a),C=l._offset+l._length+(O?n+O:0),k=c(l,u,"bottom"),D=c(l,u,"top"),$=!l._anchorAxis||i!==l._mainSubplot,$&&(l.mirror==="allticks"||l.mirror==="all")&&(l._linepositions[i]=[k,D]),J=te(l,j,G),$&&l.showline&&(l.mirror==="all"||l.mirror==="allticks")&&(J+=j(k)+j(D)),s.xlines.style("stroke-width",l._lw+"px").call(xp.stroke,l.showline?l.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",J);var ae="M0,0";UO(u,i)&&(z=P3(u,"bottom",l,a),F=u._offset+u._length+(z?n:0),W=P3(u,"top",l,a),L=u._offset-(W?n:0),I=c(u,l,"left"),q=c(u,l,"right"),$=!u._anchorAxis||i!==u._mainSubplot,$&&(u.mirror==="allticks"||u.mirror==="all")&&(u._linepositions[i]=[I,q]),ae=te(u,B,X),$&&u.showline&&(u.mirror==="all"||u.mirror==="allticks")&&(ae+=B(I)+B(q)),s.ylines.style("stroke-width",u._lw+"px").call(xp.stroke,u.showline?u.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ae)}return bp.makeClipPaths(e),Ho.previousPromises(e)}function UO(e,r){return(e.ticks||e.showline)&&(r===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function GO(e,r,t){if(!t.showline||!t._lw)return!1;if(t.mirror==="all"||t.mirror==="allticks")return!0;var n=t._anchorAxis;if(!n)return!1;var a=bf.FROM_BL[r];return t.side===r?n.domain[a]===e.domain[a]:t.mirror&&n.domain[1-a]===e.domain[1-a]}function P3(e,r,t,n){if(GO(e,r,t))return t._lw;for(var a=0;a<n.length;a++){var o=n[a];if(o._mainAxis===t._mainAxis&&GO(e,r,o))return o._lw}return 0}ii.drawMainTitle=function(e){var r=e._fullLayout.title,t=e._fullLayout,n=Ipe(t),a=Ppe(t),o=Fpe(t,a),i=Dpe(t,n);if(qO.draw(e,"gtitle",{propContainer:t,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:t._dfltTitle.plot,subtitlePlaceholder:t._dfltTitle.subtitle,attributes:{x:i,y:o,"text-anchor":n,dy:a}}),r.text&&r.automargin){var s=O3.selectAll(".gtitle"),f=mv.bBox(O3.selectAll(".g-gtitle").node()).height,l=Lpe(e,r,f);if(l>0){Rpe(e,o,l,f),s.attr({x:i,y:o,"text-anchor":n,dy:HO(r.yanchor)}).call(yA.positionText,i,o);var u=(r.text.match(yA.BR_TAG_ALL)||[]).length;if(u){var c=bf.LINE_SPACING*u+bf.MID_SHIFT;r.y===0&&(c=-c),s.selectAll(".line").each(function(){var w=+this.getAttribute("dy").slice(0,-2)-c+"em";this.setAttribute("dy",w)})}var v=O3.selectAll(".gtitle-subtitle");if(v.node()){var m=s.node().getBBox(),x=m.y+m.height,A=x+qO.SUBTITLE_PADDING_EM*r.subtitle.font.size;v.attr({x:i,y:A,"text-anchor":n,dy:HO(r.yanchor)}).call(yA.positionText,i,A)}}}};function Cpe(e,r,t,n,a){var o=r.yref==="paper"?e._fullLayout._size.h:e._fullLayout.height,i=us.isTopAnchor(r)?n:n-a,s=t==="b"?o-i:i;return us.isTopAnchor(r)&&t==="t"||us.isBottomAnchor(r)&&t==="b"?!1:s<a}function kpe(e,r,t,n,a){var o=0;return t==="middle"&&(o+=a/2),e==="t"?(t==="top"&&(o+=a),o+=n-r*n):(t==="bottom"&&(o+=a),o+=r*n),o}function Lpe(e,r,t){var n=r.y,a=r.yanchor,o=n>.5?"t":"b",i=e._fullLayout.margin[o],s=0;return r.yref==="paper"?s=t+r.pad.t+r.pad.b:r.yref==="container"&&(s=kpe(o,n,a,e._fullLayout.height,t)+r.pad.t+r.pad.b),s>i?s:0}function Rpe(e,r,t,n){var a="title.automargin",o=e._fullLayout.title,i=o.y>.5?"t":"b",s={x:o.x,y:o.y,t:0,b:0},f={};o.yref==="paper"&&Cpe(e,o,i,r,n)?s[i]=t:o.yref==="container"&&(f[i]=t,e._fullLayout._reservedMargin[a]=f),Ho.allowAutoMargin(e,a),Ho.autoMargin(e,a,s)}function Dpe(e,r){var t=e.title,n=e._size,a=0;switch(r===WO?a=t.pad.l:r===XO&&(a=-t.pad.r),t.xref){case"paper":return n.l+n.w*t.x+a;case"container":default:return e.width*t.x+a}}function Fpe(e,r){var t=e.title,n=e._size,a=0;if(r==="0em"||!r?a=-t.pad.b:r===bf.CAP_SHIFT+"em"&&(a=t.pad.t),t.y==="auto")return n.t/2;switch(t.yref){case"paper":return n.t+n.h-n.h*t.y+a;case"container":default:return e.height-e.height*t.y+a}}function HO(e){return e==="top"?bf.CAP_SHIFT+.3+"em":e==="bottom"?"-0.3em":bf.MID_SHIFT+"em"}function Ipe(e){var r=e.title,t=Tpe;return us.isRightAnchor(r)?t=XO:us.isLeftAnchor(r)&&(t=WO),t}function Ppe(e){var r=e.title,t="0em";return us.isTopAnchor(r)?t=bf.CAP_SHIFT+"em":us.isMiddleAnchor(r)&&(t=bf.MID_SHIFT+"em"),t}ii.doTraceStyle=function(e){var r=e.calcdata,t=[],n;for(n=0;n<r.length;n++){var a=r[n],o=a[0]||{},i=o.trace||{},s=i._module||{},f=s.arraysToCalcdata;f&&f(a,i);var l=s.editStyle;l&&t.push({fn:l,cd0:o})}if(t.length){for(n=0;n<t.length;n++){var u=t[n];u.fn(e,u.cd0)}mA(e),ii.redrawReglTraces(e)}return Ho.style(e),Ui.getComponentMethod("legend","draw")(e),Ho.previousPromises(e)};ii.doColorBars=function(e){return Ui.getComponentMethod("colorbar","draw")(e),Ho.previousPromises(e)};ii.layoutReplot=function(e){var r=e.layout;return e.layout=void 0,Ui.call("_doPlot",e,"",r)};ii.doLegend=function(e){return Ui.getComponentMethod("legend","draw")(e),Ho.previousPromises(e)};ii.doTicksRelayout=function(e){return bp.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(Ui.subplotsRegistry.splom.updateGrid(e),mA(e),ii.redrawReglTraces(e)),ii.drawMainTitle(e),Ho.previousPromises(e)};ii.doModeBar=function(e){var r=e._fullLayout;VO.manage(e);for(var t=0;t<r._basePlotModules.length;t++){var n=r._basePlotModules[t].updateFx;n&&n(e)}return Ho.previousPromises(e)};ii.doCamera=function(e){for(var r=e._fullLayout,t=r._subplots.gl3d,n=0;n<t.length;n++){var a=r[t[n]],o=a._scene;o.setViewport(a)}};ii.drawData=function(e){var r=e._fullLayout;mA(e);for(var t=r._basePlotModules,n=0;n<t.length;n++)t[n].plot(e);return ii.redrawReglTraces(e),Ho.style(e),Ui.getComponentMethod("selections","draw")(e),Ui.getComponentMethod("shapes","draw")(e),Ui.getComponentMethod("annotations","draw")(e),Ui.getComponentMethod("images","draw")(e),r._replotting=!1,Ho.previousPromises(e)};ii.redrawReglTraces=function(e){var r=e._fullLayout;if(r._has("regl")){var t=e._fullData,n=[],a=[],o,i;for(r._hasOnlyLargeSploms&&r._splomGrid.draw(),o=0;o<t.length;o++){var s=t[o];s.visible===!0&&s._length!==0&&(s.type==="splom"?r._splomScenes[s.uid].draw():s.type==="scattergl"?us.pushUnique(n,s.xaxis+s.yaxis):s.type==="scatterpolargl"&&us.pushUnique(a,s.subplot))}for(o=0;o<n.length;o++)i=r._plots[n[o]],i._scene&&i._scene.draw();for(o=0;o<a.length;o++)i=r[a[o]]._subplot,i._scene&&i._scene.draw()}};ii.doAutoRangeAndConstraints=function(e){for(var r=bp.list(e,"",!0),t,n={},a=0;a<r.length;a++)if(t=r[a],!n[t._id]){n[t._id]=1,Ape(e,t),zO(e,t);var o=t._matchGroup;if(o)for(var i in o){var s=bp.getFromId(e,i);zO(e,s,t.range),n[i]=1}}wpe(e)};ii.finalDraw=function(e){Ui.getComponentMethod("rangeslider","draw")(e),Ui.getComponentMethod("rangeselector","draw")(e)};ii.drawMarginPushers=function(e){Ui.getComponentMethod("legend","draw")(e),Ui.getComponentMethod("rangeselector","draw")(e),Ui.getComponentMethod("sliders","draw")(e),Ui.getComponentMethod("updatemenus","draw")(e),Ui.getComponentMethod("colorbar","draw")(e)}});var _A=ie((ePe,KO)=>{"use strict";var Ope=Cu().readPaths,Npe=C3(),ZO=yu().clearOutlineControllers,xA=pn(),jO=zn(),Bpe=Yn().arrayEditor,JO=Lu(),qpe=JO.getPathString;KO.exports={draw:B3,drawOne:$O,activateLastSelection:Gpe};function B3(e){var r=e._fullLayout;ZO(e),r._selectionLayer.selectAll("path").remove();for(var t in r._plots){var n=r._plots[t].selectionLayer;n&&n.selectAll("path").remove()}for(var a=0;a<r.selections.length;a++)$O(e,a)}function q3(e){return e._context.editSelection}function $O(e,r){e._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+r+'"]').remove();var t=JO.makeSelectionsOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input)return;o(e._fullLayout._selectionLayer);function o(i){var s=qpe(e,n),f={"data-index":r,"fill-rule":"evenodd",d:s},l=n.opacity,u="rgba(0,0,0,0)",c=n.line.color||xA.contrast(e._fullLayout.plot_bgcolor),v=n.line.width,m=n.line.dash;v||(v=5,m="solid");var x=q3(e)&&e._fullLayout._activeSelectionIndex===r;x&&(u=e._fullLayout.activeselection.fillcolor,l=e._fullLayout.activeselection.opacity);for(var A=[],w=1;w>=0;w--){var y=i.append("path").attr(f).style("opacity",w?.1:l).call(xA.stroke,c).call(xA.fill,u).call(jO.dashLine,w?"solid":m,w?4+v:v);if(zpe(y,e,n),x){var _=Bpe(e.layout,"selections",n);y.style({cursor:"move"});var M={element:y.node(),plotinfo:a,gd:e,editHelpers:_,isActiveSelection:!0},b=Ope(s,e);Npe(b,y,M)}else y.style("pointer-events",w?"all":"none");A[w]=y}var E=A[0],d=A[1];d.node().addEventListener("click",function(){return Upe(e,E)})}}function zpe(e,r,t){var n=t.xref+t.yref;jO.setClipUrl(e,"clip"+r._fullLayout._uid+n,r)}function Upe(e,r){if(q3(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeSelectionIndex){bA(e);return}e._fullLayout._activeSelectionIndex=n,e._fullLayout._deactivateSelection=bA,B3(e)}}}function Gpe(e){if(q3(e)){var r=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=r,e._fullLayout._deactivateSelection=bA,B3(e)}}function bA(e){if(q3(e)){var r=e._fullLayout._activeSelectionIndex;r>=0&&(ZO(e),delete e._fullLayout._activeSelectionIndex,B3(e))}}});var eN=ie((rPe,QO)=>{function Hpe(){var e,r=0,t=!1;function n(a,o){return e.list.push({type:a,data:o?JSON.parse(JSON.stringify(o)):void 0}),e}return e={list:[],segmentId:function(){return r++},checkIntersection:function(a,o){return n("check",{seg1:a,seg2:o})},segmentChop:function(a,o){return n("div_seg",{seg:a,pt:o}),n("chop",{seg:a,pt:o})},statusRemove:function(a){return n("pop_seg",{seg:a})},segmentUpdate:function(a){return n("seg_update",{seg:a})},segmentNew:function(a,o){return n("new_seg",{seg:a,primary:o})},segmentRemove:function(a){return n("rem_seg",{seg:a})},tempStatus:function(a,o,i){return n("temp_status",{seg:a,above:o,below:i})},rewind:function(a){return n("rewind",{seg:a})},status:function(a,o,i){return n("status",{seg:a,above:o,below:i})},vert:function(a){return a===t?e:(t=a,n("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),n("log",{txt:a})},reset:function(){return n("reset")},selected:function(a){return n("selected",{segs:a})},chainStart:function(a){return n("chain_start",{seg:a})},chainRemoveHead:function(a,o){return n("chain_rem_head",{index:a,pt:o})},chainRemoveTail:function(a,o){return n("chain_rem_tail",{index:a,pt:o})},chainNew:function(a,o){return n("chain_new",{pt1:a,pt2:o})},chainMatch:function(a){return n("chain_match",{index:a})},chainClose:function(a){return n("chain_close",{index:a})},chainAddHead:function(a,o){return n("chain_add_head",{index:a,pt:o})},chainAddTail:function(a,o){return n("chain_add_tail",{index:a,pt:o})},chainConnect:function(a,o){return n("chain_con",{index1:a,index2:o})},chainReverse:function(a){return n("chain_rev",{index:a})},chainJoin:function(a,o){return n("chain_join",{index1:a,index2:o})},done:function(){return n("done")}},e}QO.exports=Hpe});var tN=ie((tPe,rN)=>{function Vpe(e){typeof e!="number"&&(e=1e-10);var r={epsilon:function(t){return typeof t=="number"&&(e=t),e},pointAboveOrOnLine:function(t,n,a){var o=n[0],i=n[1],s=a[0],f=a[1],l=t[0],u=t[1];return(s-o)*(u-i)-(f-i)*(l-o)>=-e},pointBetween:function(t,n,a){var o=t[1]-n[1],i=a[0]-n[0],s=t[0]-n[0],f=a[1]-n[1],l=s*i+o*f;if(l<e)return!1;var u=i*i+f*f;return!(l-u>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(t,n){return r.pointsSameX(t,n)&&r.pointsSameY(t,n)},pointsCompare:function(t,n){return r.pointsSameX(t,n)?r.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(t,n,a){var o=t[0]-n[0],i=t[1]-n[1],s=n[0]-a[0],f=n[1]-a[1];return Math.abs(o*f-s*i)<e},linesIntersect:function(t,n,a,o){var i=n[0]-t[0],s=n[1]-t[1],f=o[0]-a[0],l=o[1]-a[1],u=i*l-s*f;if(Math.abs(u)<e)return!1;var c=t[0]-a[0],v=t[1]-a[1],m=(f*v-l*c)/u,x=(i*v-s*c)/u,A={alongA:0,alongB:0,pt:[t[0]+m*i,t[1]+m*s]};return m<=-e?A.alongA=-2:m<e?A.alongA=-1:m-1<=-e?A.alongA=0:m-1<e?A.alongA=1:A.alongA=2,x<=-e?A.alongB=-2:x<e?A.alongB=-1:x-1<=-e?A.alongB=0:x-1<e?A.alongB=1:A.alongB=2,A},pointInsideRegion:function(t,n){for(var a=t[0],o=t[1],i=n[n.length-1][0],s=n[n.length-1][1],f=!1,l=0;l<n.length;l++){var u=n[l][0],c=n[l][1];c-o>e!=s-o>e&&(i-u)*(o-c)/(s-c)+u-a>e&&(f=!f),i=u,s=c}return f}};return r}rN.exports=Vpe});var aN=ie((nPe,nN)=>{var Ype={create:function(){var e={root:{root:!0,next:null},exists:function(r){return!(r===null||r===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(r,t){for(var n=e.root,a=e.root.next;a!==null;){if(t(a)){r.prev=a.prev,r.next=a,a.prev.next=r,a.prev=r;return}n=a,a=a.next}n.next=r,r.prev=n,r.next=null},findTransition:function(r){for(var t=e.root,n=e.root.next;n!==null&&!r(n);)t=n,n=n.next;return{before:t===e.root?null:t,after:n,insert:function(a){return a.prev=t,a.next=n,t.next=a,n!==null&&(n.prev=a),a}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};nN.exports=Ype});var oN=ie((aPe,iN)=>{var _p=aN();function Wpe(e,r,t){function n(x,A){return{id:t?t.segmentId():-1,start:x,end:A,myFill:{above:null,below:null},otherFill:null}}function a(x,A,w){return{id:t?t.segmentId():-1,start:x,end:A,myFill:{above:w.myFill.above,below:w.myFill.below},otherFill:null}}var o=_p.create();function i(x,A,w,y,_,M){var b=r.pointsCompare(A,_);return b!==0?b:r.pointsSame(w,M)?0:x!==y?x?1:-1:r.pointAboveOrOnLine(w,y?_:M,y?M:_)?1:-1}function s(x,A){o.insertBefore(x,function(w){var y=i(x.isStart,x.pt,A,w.isStart,w.pt,w.other.pt);return y<0})}function f(x,A){var w=_p.node({isStart:!0,pt:x.start,seg:x,primary:A,other:null,status:null});return s(w,x.end),w}function l(x,A,w){var y=_p.node({isStart:!1,pt:A.end,seg:A,primary:w,other:x,status:null});x.other=y,s(y,x.pt)}function u(x,A){var w=f(x,A);return l(w,x,A),w}function c(x,A){t&&t.segmentChop(x.seg,A),x.other.remove(),x.seg.end=A,x.other.pt=A,s(x.other,x.pt)}function v(x,A){var w=a(A,x.seg.end,x.seg);return c(x,A),u(w,x.primary)}function m(x,A){var w=_p.create();function y(P,O){var F=P.seg.start,L=P.seg.end,I=O.seg.start,q=O.seg.end;return r.pointsCollinear(F,I,q)?r.pointsCollinear(L,I,q)||r.pointAboveOrOnLine(L,I,q)?1:-1:r.pointAboveOrOnLine(F,I,q)?1:-1}function _(P){return w.findTransition(function(O){var F=y(P,O.ev);return F>0})}function M(P,O){var F=P.seg,L=O.seg,I=F.start,q=F.end,z=L.start,W=L.end;t&&t.checkIntersection(F,L);var $=r.linesIntersect(I,q,z,W);if($===!1){if(!r.pointsCollinear(I,q,z)||r.pointsSame(I,W)||r.pointsSame(q,z))return!1;var j=r.pointsSame(I,z),G=r.pointsSame(q,W);if(j&&G)return O;var B=!j&&r.pointBetween(I,z,W),X=!G&&r.pointBetween(q,z,W);if(j)return X?v(O,q):v(P,W),O;B&&(G||(X?v(O,q):v(P,W)),v(O,I))}else $.alongA===0&&($.alongB===-1?v(P,z):$.alongB===0?v(P,$.pt):$.alongB===1&&v(P,W)),$.alongB===0&&($.alongA===-1?v(O,I):$.alongA===0?v(O,$.pt):$.alongA===1&&v(O,q));return!1}for(var b=[];!o.isEmpty();){var E=o.getHead();if(t&&t.vert(E.pt[0]),E.isStart){let P=function(){if(T){var O=M(E,T);if(O)return O}return g?M(E,g):!1};var D=P;t&&t.segmentNew(E.seg,E.primary);var d=_(E),T=d.before?d.before.ev:null,g=d.after?d.after.ev:null;t&&t.tempStatus(E.seg,T?T.seg:!1,g?g.seg:!1);var h=P();if(h){if(e){var S;E.seg.myFill.below===null?S=!0:S=E.seg.myFill.above!==E.seg.myFill.below,S&&(h.seg.myFill.above=!h.seg.myFill.above)}else h.seg.otherFill=E.seg.myFill;t&&t.segmentUpdate(h.seg),E.other.remove(),E.remove()}if(o.getHead()!==E){t&&t.rewind(E.seg);continue}if(e){var S;E.seg.myFill.below===null?S=!0:S=E.seg.myFill.above!==E.seg.myFill.below,g?E.seg.myFill.below=g.seg.myFill.above:E.seg.myFill.below=x,S?E.seg.myFill.above=!E.seg.myFill.below:E.seg.myFill.above=E.seg.myFill.below}else if(E.seg.otherFill===null){var p;g?E.primary===g.primary?p=g.seg.otherFill.above:p=g.seg.myFill.above:p=E.primary?A:x,E.seg.otherFill={above:p,below:p}}t&&t.status(E.seg,T?T.seg:!1,g?g.seg:!1),E.other.status=d.insert(_p.node({ev:E}))}else{var C=E.status;if(C===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(w.exists(C.prev)&&w.exists(C.next)&&M(C.prev.ev,C.next.ev),t&&t.statusRemove(C.ev.seg),C.remove(),!E.primary){var k=E.seg.myFill;E.seg.myFill=E.seg.otherFill,E.seg.otherFill=k}b.push(E.seg)}o.getHead().remove()}return t&&t.done(),b}return e?{addRegion:function(x){for(var A,w=x[x.length-1],y=0;y<x.length;y++){A=w,w=x[y];var _=r.pointsCompare(A,w);_!==0&&u(n(_<0?A:w,_<0?w:A),!0)}},calculate:function(x){return m(x,!1)}}:{calculate:function(x,A,w,y){return x.forEach(function(_){u(a(_.start,_.end,_),!0)}),w.forEach(function(_){u(a(_.start,_.end,_),!1)}),m(A,y)}}}iN.exports=Wpe});var lN=ie((iPe,sN)=>{function Xpe(e,r,t){var n=[],a=[];return e.forEach(function(o){var i=o.start,s=o.end;if(r.pointsSame(i,s)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}t&&t.chainStart(o);var f={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},u=f;function c(D,P,O){return u.index=D,u.matches_head=P,u.matches_pt1=O,u===f?(u=l,!1):(u=null,!0)}for(var v=0;v<n.length;v++){var m=n[v],x=m[0],A=m[1],w=m[m.length-1],y=m[m.length-2];if(r.pointsSame(x,i)){if(c(v,!0,!0))break}else if(r.pointsSame(x,s)){if(c(v,!0,!1))break}else if(r.pointsSame(w,i)){if(c(v,!1,!0))break}else if(r.pointsSame(w,s)&&c(v,!1,!1))break}if(u===f){n.push([i,s]),t&&t.chainNew(i,s);return}if(u===l){t&&t.chainMatch(f.index);var _=f.index,M=f.matches_pt1?s:i,b=f.matches_head,m=n[_],E=b?m[0]:m[m.length-1],d=b?m[1]:m[m.length-2],T=b?m[m.length-1]:m[0],g=b?m[m.length-2]:m[1];if(r.pointsCollinear(d,E,M)&&(b?(t&&t.chainRemoveHead(f.index,M),m.shift()):(t&&t.chainRemoveTail(f.index,M),m.pop()),E=d),r.pointsSame(T,M)){n.splice(_,1),r.pointsCollinear(g,T,E)&&(b?(t&&t.chainRemoveTail(f.index,E),m.pop()):(t&&t.chainRemoveHead(f.index,E),m.shift())),t&&t.chainClose(f.index),a.push(m);return}b?(t&&t.chainAddHead(f.index,M),m.unshift(M)):(t&&t.chainAddTail(f.index,M),m.push(M));return}function h(D){t&&t.chainReverse(D),n[D].reverse()}function S(D,P){var O=n[D],F=n[P],L=O[O.length-1],I=O[O.length-2],q=F[0],z=F[1];r.pointsCollinear(I,L,q)&&(t&&t.chainRemoveTail(D,L),O.pop(),L=I),r.pointsCollinear(L,q,z)&&(t&&t.chainRemoveHead(P,q),F.shift()),t&&t.chainJoin(D,P),n[D]=O.concat(F),n.splice(P,1)}var p=f.index,C=l.index;t&&t.chainConnect(p,C);var k=n[p].length<n[C].length;f.matches_head?l.matches_head?k?(h(p),S(p,C)):(h(C),S(C,p)):S(C,p):l.matches_head?S(p,C):k?(h(p),S(C,p)):(h(C),S(p,C))}),a}sN.exports=Xpe});var uN=ie((oPe,fN)=>{function wp(e,r,t){var n=[];return e.forEach(function(a){var o=(a.myFill.above?8:0)+(a.myFill.below?4:0)+(a.otherFill&&a.otherFill.above?2:0)+(a.otherFill&&a.otherFill.below?1:0);r[o]!==0&&n.push({id:t?t.segmentId():-1,start:a.start,end:a.end,myFill:{above:r[o]===1,below:r[o]===2},otherFill:null})}),t&&t.selected(n),n}var Zpe={union:function(e,r){return wp(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(e,r){return wp(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(e,r){return wp(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(e,r){return wp(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(e,r){return wp(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};fN.exports=Zpe});var hN=ie((sPe,cN)=>{var jpe={toPolygon:function(e,r){function t(o){if(o.length<=0)return e.segments({inverted:!1,regions:[]});function i(l){var u=l.slice(0,l.length-1);return e.segments({inverted:!1,regions:[u]})}for(var s=i(o[0]),f=1;f<o.length;f++)s=e.selectDifference(e.combine(s,i(o[f])));return s}if(r.type==="Polygon")return e.polygon(t(r.coordinates));if(r.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<r.coordinates.length;a++)n=e.selectUnion(e.combine(n,t(r.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,r,t){t=e.polygon(e.segments(t));function n(m,x){return r.pointInsideRegion([(m[0][0]+m[1][0])*.5,(m[0][1]+m[1][1])*.5],x)}function a(m){return{region:m,children:[]}}var o=a(null);function i(m,x){for(var A=0;A<m.children.length;A++){var w=m.children[A];if(n(x,w.region)){i(w,x);return}}for(var y=a(x),A=0;A<m.children.length;A++){var w=m.children[A];n(w.region,x)&&(y.children.push(w),m.children.splice(A,1),A--)}m.children.push(y)}for(var s=0;s<t.regions.length;s++){var f=t.regions[s];f.length<3||i(o,f)}function l(m,x){for(var A=0,w=m[m.length-1][0],y=m[m.length-1][1],_=[],M=0;M<m.length;M++){var b=m[M][0],E=m[M][1];_.push([b,E]),A+=E*w-b*y,w=b,y=E}var d=A<0;return d!==x&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var u=[];function c(m){var x=[l(m.region,!1)];u.push(x);for(var A=0;A<m.children.length;A++)x.push(v(m.children[A]))}function v(m){for(var x=0;x<m.children.length;x++)c(m.children[x]);return l(m.region,!0)}for(var s=0;s<o.children.length;s++)c(o.children[s]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};cN.exports=jpe});var gN=ie((lPe,pN)=>{var Jpe=eN(),$pe=tN(),vN=oN(),Kpe=lN(),Ap=uN(),dN=hN(),cs=!1,Tp=$pe(),Eo;Eo={buildLog:function(e){return e===!0?cs=Jpe():e===!1&&(cs=!1),cs===!1?!1:cs.list},epsilon:function(e){return Tp.epsilon(e)},segments:function(e){var r=vN(!0,Tp,cs);return e.regions.forEach(r.addRegion),{segments:r.calculate(e.inverted),inverted:e.inverted}},combine:function(e,r){var t=vN(!1,Tp,cs);return{combined:t.calculate(e.segments,e.inverted,r.segments,r.inverted),inverted1:e.inverted,inverted2:r.inverted}},selectUnion:function(e){return{segments:Ap.union(e.combined,cs),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:Ap.intersect(e.combined,cs),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:Ap.difference(e.combined,cs),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:Ap.differenceRev(e.combined,cs),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:Ap.xor(e.combined,cs),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:Kpe(e.segments,Tp,cs),inverted:e.inverted}},polygonFromGeoJSON:function(e){return dN.toPolygon(Eo,e)},polygonToGeoJSON:function(e){return dN.fromPolygon(Eo,Tp,e)},union:function(e,r){return Mp(e,r,Eo.selectUnion)},intersect:function(e,r){return Mp(e,r,Eo.selectIntersect)},difference:function(e,r){return Mp(e,r,Eo.selectDifference)},differenceRev:function(e,r){return Mp(e,r,Eo.selectDifferenceRev)},xor:function(e,r){return Mp(e,r,Eo.selectXor)}};function Mp(e,r,t){var n=Eo.segments(e),a=Eo.segments(r),o=Eo.combine(n,a),i=t(o);return Eo.polygon(i)}typeof window=="object"&&(window.PolyBool=Eo);pN.exports=Eo});var mN=ie((fPe,yN)=>{yN.exports=function(r,t,n,a){var o=r[0],i=r[1],s=!1;n===void 0&&(n=0),a===void 0&&(a=t.length);for(var f=a-n,l=0,u=f-1;l<f;u=l++){var c=t[l+n][0],v=t[l+n][1],m=t[u+n][0],x=t[u+n][1],A=v>i!=x>i&&o<(m-c)*(i-v)/(x-v)+c;A&&(s=!s)}return s}});var AA=ie((uPe,xN)=>{"use strict";var wA=z2().dot,z3=ta().BADNUM,U3=xN.exports={};U3.tester=function(r){var t=r.slice(),n=t[0][0],a=n,o=t[0][1],i=o,s;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),s=1;s<t.length;s++)n=Math.min(n,t[s][0]),a=Math.max(a,t[s][0]),o=Math.min(o,t[s][1]),i=Math.max(i,t[s][1]);var f=!1,l;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(f=!0,l=function(x){return x[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(f=!0,l=function(x){return x[1]===t[0][1]}));function u(x,A){var w=x[0],y=x[1];return!(w===z3||w<n||w>a||y===z3||y<o||y>i||A&&l(x))}function c(x,A){var w=x[0],y=x[1];if(w===z3||w<n||w>a||y===z3||y<o||y>i)return!1;var _=t.length,M=t[0][0],b=t[0][1],E=0,d,T,g,h,S;for(d=1;d<_;d++)if(T=M,g=b,M=t[d][0],b=t[d][1],h=Math.min(T,M),!(w<h||w>Math.max(T,M)||y>Math.max(g,b)))if(y<Math.min(g,b))w!==h&&E++;else{if(M===T?S=y:S=g+(w-T)*(b-g)/(M-T),y===S)return!(d===1&&A);y<=S&&w!==h&&E++}return E%2===1}var v=!0,m=t[0];for(s=1;s<t.length;s++)if(m[0]!==t[s][0]||m[1]!==t[s][1]){v=!1;break}return{xmin:n,xmax:a,ymin:o,ymax:i,pts:t,contains:f?u:c,isRect:f,degenerate:v}};U3.isSegmentBent=function(r,t,n,a){var o=r[t],i=[r[n][0]-o[0],r[n][1]-o[1]],s=wA(i,i),f=Math.sqrt(s),l=[-i[1]/f,i[0]/f],u,c,v;for(u=t+1;u<n;u++)if(c=[r[u][0]-o[0],r[u][1]-o[1]],v=wA(c,i),v<0||v>s||Math.abs(wA(c,l))>a)return!0;return!1};U3.filter=function(r,t){var n=[r[0]],a=0,o=0;function i(f){r.push(f);var l=n.length,u=a;n.splice(o+1);for(var c=u+1;c<r.length;c++)(c===r.length-1||U3.isSegmentBent(r,u,c+1,t))&&(n.push(r[c]),n.length<l-2&&(a=c,o=n.length-1),u=c)}if(r.length>1){var s=r.pop();i(s)}return{addPt:i,raw:r,filtered:n}}});var _N=ie((cPe,bN)=>{"use strict";bN.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var HN=ie((hPe,GN)=>{"use strict";var wN=gN(),Qpe=mN(),Cp=Dt(),ege=zn().dashStyle,Ep=pn(),rge=pf(),tge=hf().makeEventData,Fp=yf(),nge=Fp.freeMode,age=Fp.rectMode,kp=Fp.drawMode,SA=Fp.openMode,CA=Fp.selectMode,AN=Lu(),TN=pp(),kN=C3(),LN=yu().clearOutline,RN=Cu(),TA=RN.handleEllipse,ige=RN.readPaths,oge=T3().newShapes,sge=j6(),lge=_A().activateLastSelection,H3=wr(),fge=H3.sorterAsc,DN=AA(),Sp=nm(),hs=ya().getFromId,uge=g3(),cge=N3().redrawReglTraces,V3=_N(),Cl=V3.MINSELECT,hge=DN.filter,kA=DN.tester,LA=b3(),MN=LA.p2r,vge=LA.axValue,dge=LA.getTransform;function RA(e){return e.subplot!==void 0}function pge(e,r,t,n,a){var o=!RA(n),i=nge(a),s=age(a),f=SA(a),l=kp(a),u=CA(a),c=a==="drawline",v=a==="drawcircle",m=c||v,x=n.gd,A=x._fullLayout,w=u&&A.newselection.mode==="immediate"&&o,y=A._zoomlayer,_=n.element.getBoundingClientRect(),M=n.plotinfo,b=dge(M),E=r-_.left,d=t-_.top;A._calcInverseTransform(x);var T=H3.apply3DTransform(A._invTransform)(E,d);E=T[0],d=T[1];var g=A._invScaleX,h=A._invScaleY,S=E,p=d,C="M"+E+","+d,k=n.xaxes[0],D=n.yaxes[0],P=k._length,O=D._length,F=e.altKey&&!(kp(a)&&f),L,I,q,z,W,$,j;IN(e,x,n),i&&(L=hge([[E,d]],V3.BENDPX));var G=y.selectAll("path.select-outline-"+M.id).data([1]),B=l?A.newshape:A.newselection;l&&(n.hasText=B.label.text||B.label.texttemplate);var X=l&&!f?B.fillcolor:"rgba(0,0,0,0)",te=B.line.color||(o?Ep.contrast(x._fullLayout.plot_bgcolor):"#7f7f7f");G.enter().append("path").attr("class","select-outline select-outline-"+M.id).style({opacity:l?B.opacity/2:1,"stroke-dasharray":ege(B.line.dash,B.line.width),"stroke-width":B.line.width+"px","shape-rendering":"crispEdges"}).call(Ep.stroke,te).call(Ep.fill,X).attr("fill-rule","evenodd").classed("cursor-move",!!l).attr("transform",b).attr("d",C+"Z");var J=y.append("path").attr("class","zoombox-corners").style({fill:Ep.background,stroke:Ep.defaultLine,"stroke-width":1}).attr("transform",b).attr("d","M0,0Z");if(l&&n.hasText){var ae=y.select(".label-temp");ae.empty()&&(ae=y.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var ee=A._uid+V3.SELECTID,H=[],re=Y3(x,n.xaxes,n.yaxes,n.subplot);w&&!e.shiftKey&&(n._clearSubplotSelections=function(){if(o){var ne=k._id,le=D._id;qN(x,ne,le,re);for(var de=(x.layout||{}).selections||[],_e=[],me=!1,ve=0;ve<de.length;ve++){var be=A.selections[ve];be.xref!==ne||be.yref!==le?_e.push(de[ve]):me=!0}me&&(x._fullLayout._noEmitSelectedAtStart=!0,Cp.call("_guiRelayout",x,{selections:_e}))}});var V=kge(n);n.moveFn=function(ne,le){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),S=Math.max(0,Math.min(P,g*ne+E)),p=Math.max(0,Math.min(O,h*le+d));var de=Math.abs(S-E),_e=Math.abs(p-d);if(s){var me,ve,be;if(u){var we=A.selectdirection;switch(we==="any"?_e<Math.min(de*.6,Cl)?me="h":de<Math.min(_e*.6,Cl)?me="v":me="d":me=we,me){case"h":ve=v?O/2:0,be=O;break;case"v":ve=v?P/2:0,be=P;break}}if(l)switch(A.newshape.drawdirection){case"vertical":me="h",ve=v?O/2:0,be=O;break;case"horizontal":me="v",ve=v?P/2:0,be=P;break;case"ortho":de<_e?(me="h",ve=d,be=p):(me="v",ve=E,be=S);break;default:me="d"}me==="h"?(z=m?TA(v,[S,ve],[S,be]):[[E,ve],[E,be],[S,be],[S,ve]],z.xmin=m?S:Math.min(E,S),z.xmax=m?S:Math.max(E,S),z.ymin=Math.min(ve,be),z.ymax=Math.max(ve,be),J.attr("d","M"+z.xmin+","+(d-Cl)+"h-4v"+2*Cl+"h4ZM"+(z.xmax-1)+","+(d-Cl)+"h4v"+2*Cl+"h-4Z")):me==="v"?(z=m?TA(v,[ve,p],[be,p]):[[ve,d],[ve,p],[be,p],[be,d]],z.xmin=Math.min(ve,be),z.xmax=Math.max(ve,be),z.ymin=m?p:Math.min(d,p),z.ymax=m?p:Math.max(d,p),J.attr("d","M"+(E-Cl)+","+z.ymin+"v-4h"+2*Cl+"v4ZM"+(E-Cl)+","+(z.ymax-1)+"v4h"+2*Cl+"v-4Z")):me==="d"&&(z=m?TA(v,[E,d],[S,p]):[[E,d],[E,p],[S,p],[S,d]],z.xmin=Math.min(E,S),z.xmax=Math.max(E,S),z.ymin=Math.min(d,p),z.ymax=Math.max(d,p),J.attr("d","M0,0Z"))}else i&&(L.addPt([S,p]),z=L.filtered);if(n.selectionDefs&&n.selectionDefs.length?(q=PN(n.mergedPolygons,z,F),z.subtract=F,I=DA(n.selectionDefs.concat([z]))):(q=[z],I=kA(z)),kN(NN(q,f),G,n),u){var Se=EA(x,!1),Ae=Se.eventData?Se.eventData.points.slice():[];Se=EA(x,!1,I,re,n),I=Se.selectionTesters,j=Se.eventData;var Ie;L?Ie=L.filtered:Ie=zN(q),Sp.throttle(ee,V3.SELECTDELAY,function(){H=BN(I,re);for(var Ve=H.slice(),pe=0;pe<Ae.length;pe++){for(var xe=Ae[pe],Te=!1,qe=0;qe<Ve.length;qe++)if(Ve[qe].curveNumber===xe.curveNumber&&Ve[qe].pointNumber===xe.pointNumber){Te=!0;break}Te||Ve.push(xe)}Ve.length&&(j||(j={}),j.points=Ve),V(j,Ie),Lge(x,j)})}},n.clickFn=function(ne,le){if(J.remove(),x._fullLayout._activeShapeIndex>=0){x._fullLayout._deactivateShape(x);return}if(!l){var de=A.clickmode;Sp.done(ee).then(function(){if(Sp.clear(ee),ne===2){for(G.remove(),W=0;W<re.length;W++)$=re[W],$._module.selectPoints($,!1);if(Rp(x,re),Lp(n),IA(x),re.length){var _e=re[0].xaxis,me=re[0].yaxis;if(_e&&me){for(var ve=[],be=x._fullLayout.selections,we=0;we<be.length;we++){var Se=be[we];Se&&(Se.xref!==_e._id||Se.yref!==me._id)&&ve.push(Se)}ve.length<be.length&&(x._fullLayout._noEmitSelectedAtStart=!0,Cp.call("_guiRelayout",x,{selections:ve}))}}}else de.indexOf("select")>-1&&FN(le,x,n.xaxes,n.yaxes,n.subplot,n,G),de==="event"&&Dp(x,void 0);rge.click(x,le,M.id)}).catch(H3.error)}},n.doneFn=function(){J.remove(),Sp.done(ee).then(function(){Sp.clear(ee),!w&&z&&n.selectionDefs&&(z.subtract=F,n.selectionDefs.push(z),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,q)),(w||l)&&Lp(n,w),n.doneFnCompleted&&n.doneFnCompleted(H),u&&Dp(x,j)}).catch(H3.error)}}function FN(e,r,t,n,a,o,i){var s=r._hoverdata,f=r._fullLayout,l=f.clickmode,u=l.indexOf("event")>-1,c=[],v,m,x,A,w,y,_,M,b,E;if(bge(s)){IN(e,r,o),v=Y3(r,t,n,a);var d=_ge(s,v),T=d.pointNumbers.length>0;if(T?wge(v,d):Age(v)&&(_=SN(d))){for(i&&i.remove(),E=0;E<v.length;E++)m=v[E],m._module.selectPoints(m,!1);Rp(r,v),Lp(o),u&&IA(r)}else{M=e.shiftKey&&(_!==void 0?_:SN(d)),x=gge(d.pointNumber,d.searchInfo,M);var g=o.selectionDefs.concat([x]);for(A=DA(g,A),E=0;E<v.length;E++)if(w=v[E]._module.selectPoints(v[E],A),y=ON(w,v[E]),c.length)for(var h=0;h<y.length;h++)c.push(y[h]);else c=y;if(b={points:c},Rp(r,v,b),x&&o&&o.selectionDefs.push(x),i){var S=o.mergedPolygons,p=SA(o.dragmode);kN(NN(S,p),i,o)}u&&Dp(r,b)}}}function gge(e,r,t){return{pointNumber:e,searchInfo:r,subtract:!!t}}function MA(e){return"pointNumber"in e&&"searchInfo"in e}function yge(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(r,t,n,a){var o=e.searchInfo.cd[0].trace._expandedIndex,i=a.cd[0].trace._expandedIndex;return i===o&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function DA(e){if(!e.length)return;for(var r=[],t=MA(e[0])?0:e[0][0][0],n=t,a=MA(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(MA(e[i]))r.push(yge(e[i]));else{var s=kA(e[i]);s.subtract=!!e[i].subtract,r.push(s),t=Math.min(t,s.xmin),n=Math.max(n,s.xmax),a=Math.min(a,s.ymin),o=Math.max(o,s.ymax)}function f(l,u,c,v){for(var m=!1,x=0;x<r.length;x++)r[x].contains(l,u,c,v)&&(m=!r[x].subtract);return m}return{xmin:t,xmax:n,ymin:a,ymax:o,pts:[],contains:f,isRect:!1,degenerate:!1}}function IN(e,r,t){var n=r._fullLayout,a=t.plotinfo,o=t.dragmode,i=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,s=(e.shiftKey||e.altKey)&&!(kp(o)&&SA(o));i&&s&&a.selection&&a.selection.selectionDefs&&!t.selectionDefs?(t.selectionDefs=a.selection.selectionDefs,t.mergedPolygons=a.selection.mergedPolygons):(!s||!a.selection)&&Lp(t),i||(LN(r),n._lastSelectedSubplot=a.id)}function mge(e){return e._fullLayout._activeShapeIndex>=0}function xge(e){return e._fullLayout._activeSelectionIndex>=0}function Lp(e,r){var t=e.dragmode,n=e.plotinfo,a=e.gd;mge(a)&&a._fullLayout._deactivateShape(a),xge(a)&&a._fullLayout._deactivateSelection(a);var o=a._fullLayout,i=o._zoomlayer,s=kp(t),f=CA(t);if(s||f){var l=i.selectAll(".select-outline-"+n.id);if(l&&a._fullLayout._outlining){var u;s&&(u=oge(l,e)),u&&Cp.call("_guiRelayout",a,{shapes:u});var c;f&&!RA(e)&&(c=sge(l,e)),c&&(a._fullLayout._noEmitSelectedAtStart=!0,Cp.call("_guiRelayout",a,{selections:c}).then(function(){r&&lge(a)})),a._fullLayout._outlining=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function EN(e){return e._id}function Y3(e,r,t,n){if(!e.calcdata)return[];var a=[],o=r.map(EN),i=t.map(EN),s,f,l;for(l=0;l<e.calcdata.length;l++)if(s=e.calcdata[l],f=s[0].trace,!(f.visible!==!0||!f._module||!f._module.selectPoints))if(RA({subplot:n})&&(f.subplot===n||f.geo===n))a.push(G3(f._module,s,r[0],t[0]));else if(f.type==="splom"){if(f._xaxes[o[0]]&&f._yaxes[i[0]]){var u=G3(f._module,s,r[0],t[0]);u.scene=e._fullLayout._splomScenes[f.uid],a.push(u)}}else if(f.type==="sankey"){var c=G3(f._module,s,r[0],t[0]);a.push(c)}else{if(o.indexOf(f.xaxis)===-1&&(!f._xA||!f._xA.overlaying)||i.indexOf(f.yaxis)===-1&&(!f._yA||!f._yA.overlaying))continue;a.push(G3(f._module,s,hs(e,f.xaxis),hs(e,f.yaxis)))}return a}function G3(e,r,t,n){return{_module:e,cd:r,xaxis:t,yaxis:n}}function bge(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function _ge(e,r){var t=e[0],n=-1,a=[],o,i;for(i=0;i<r.length;i++)if(o=r[i],t.fullData._expandedIndex===o.cd[0].trace._expandedIndex){if(t.hoverOnBox===!0)break;t.pointNumber!==void 0?n=t.pointNumber:t.binNumber!==void 0&&(n=t.binNumber,a=t.pointNumbers);break}return{pointNumber:n,pointNumbers:a,searchInfo:o}}function SN(e){var r=e.searchInfo.cd[0].trace,t=e.pointNumber,n=e.pointNumbers,a=n.length>0,o=a?n[0]:t;return r.selectedpoints?r.selectedpoints.indexOf(o)>-1:!1}function wge(e,r){var t=[],n,a,o,i;for(i=0;i<e.length;i++)n=e[i],n.cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&t.push(n);if(t.length===1&&(o=t[0]===r.searchInfo,o&&(a=r.searchInfo.cd[0].trace,a.selectedpoints.length===r.pointNumbers.length))){for(i=0;i<r.pointNumbers.length;i++)if(a.selectedpoints.indexOf(r.pointNumbers[i])<0)return!1;return!0}return!1}function Age(e){var r=0,t,n,a;for(a=0;a<e.length;a++)if(t=e[a],n=t.cd[0].trace,n.selectedpoints&&(n.selectedpoints.length>1||(r+=n.selectedpoints.length,r>1)))return!1;return r===1}function Rp(e,r,t){var n;for(n=0;n<r.length;n++){var a=r[n].cd[0].trace._fullInput,o=e._fullLayout._tracePreGUI[a.uid]||{};o.selectedpoints===void 0&&(o.selectedpoints=a._input.selectedpoints||null)}var i;if(t){var s=t.points||[];for(n=0;n<r.length;n++)i=r[n].cd[0].trace,i._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(var f=0;f<s.length;f++){var l=s[f],u=l.data,c=l.fullData,v=l.pointIndex,m=l.pointIndices;m?([].push.apply(u.selectedpoints,m),i._fullInput!==i&&[].push.apply(c.selectedpoints,m)):(u.selectedpoints.push(v),i._fullInput!==i&&c.selectedpoints.push(v))}}else for(n=0;n<r.length;n++)i=r[n].cd[0].trace,delete i.selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;Tge(e,r)}function Tge(e,r){for(var t=!1,n=0;n<r.length;n++){var a=r[n],o=a.cd;Cp.traceIs(o[0].trace,"regl")&&(t=!0);var i=a._module,s=i.styleOnSelect||i.style;s&&(s(e,o,o[0].node3),o[0].nodeRangePlot3&&s(e,o,o[0].nodeRangePlot3))}t&&(uge(e),cge(e))}function PN(e,r,t){for(var n=t?wN.difference:wN.union,a=n({regions:e},{regions:[r]}),o=a.regions.reverse(),i=0;i<o.length;i++){var s=o[i];s.subtract=FA(s,o.slice(0,i))}return o}function ON(e,r){if(Array.isArray(e))for(var t=r.cd,n=r.cd[0].trace,a=0;a<e.length;a++)e[a]=tge(e[a],n,t);return e}function NN(e,r){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var a=0;a<e[n].length;a++){t[n][a]=[],t[n][a][0]=a?"L":"M";for(var o=0;o<e[n][a].length;o++)t[n][a].push(e[n][a][o])}r||t[n].push(["Z",t[n][0][1],t[n][0][2]])}return t}function BN(e,r){for(var t=[],n,a=[],o,i=0;i<r.length;i++){var s=r[i];o=s._module.selectPoints(s,e),a.push(o),n=ON(o,s),t=t.concat(n)}return t}function EA(e,r,t,n,a){var o=!!n,i,s,f;a&&(i=a.plotinfo,s=a.xaxes[0]._id,f=a.yaxes[0]._id);var l=[],u=[],c=CN(e),v=e._fullLayout;if(i){var m=v._zoomlayer,x=v.dragmode,A=kp(x),w=CA(x);if(A||w){var y=hs(e,s,"x"),_=hs(e,f,"y");if(y&&_){var M=m.selectAll(".select-outline-"+i.id);if(M&&e._fullLayout._outlining&&M.length){for(var b=M[0][0],E=b.getAttribute("d"),d=ige(E,e,i),T=[],g=0;g<d.length;g++){for(var h=d[g],S=[],p=0;p<h.length;p++)S.push([Ru(y,h[p][1]),Ru(_,h[p][2])]);S.xref=s,S.yref=f,S.subtract=FA(S,T),T.push(S)}c=c.concat(T)}}}}var C=s&&f?[s+f]:v._subplots.cartesian;Mge(e);for(var k={},D=0;D<C.length;D++){var P=C[D],O=P.indexOf("y"),F=P.slice(0,O),L=P.slice(O),I=s&&f?t:void 0;if(I=Sge(c,F,L,I),I){var q=n;if(!o){var z=hs(e,F,"x"),W=hs(e,L,"y");q=Y3(e,[z],[W],P);for(var $=0;$<q.length;$++){var j=q[$],G=j.cd[0],B=G.trace;if(j._module.name==="scattergl"&&!G.t.xpx){var X=B.x,te=B.y,J=B._length;G.t.xpx=[],G.t.ypx=[];for(var ae=0;ae<J;ae++)G.t.xpx[ae]=z.c2p(X[ae]),G.t.ypx[ae]=W.c2p(te[ae])}j._module.name==="splom"&&(k[B.uid]||(k[B.uid]=!0))}}var ee=BN(I,q);l=l.concat(ee),u=u.concat(q)}}var H={points:l};Rp(e,u,H);var re=v.clickmode,V=re.indexOf("event")>-1&&r;if(!i&&r){var ne=CN(e,!0);if(ne.length){var le=ne[0].xref,de=ne[0].yref;if(le&&de){var _e=zN(ne),me=UN([hs(e,le,"x"),hs(e,de,"y")]);me(H,_e)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:V&&Dp(e,H),v._reselect=!1}if(!i&&v._deselect){var ve=v._deselect;s=ve.xref,f=ve.yref,Ege(s,f,u)||qN(e,s,f,n),V&&(H.points.length?Dp(e,H):IA(e)),v._deselect=!1}return{eventData:H,selectionTesters:t}}function Mge(e){var r=e.calcdata;if(r)for(var t=0;t<r.length;t++){var n=r[t][0],a=n.trace,o=e._fullLayout._splomScenes;if(o){var i=o[a.uid];i&&(i.selectBatch=[])}}}function Ege(e,r,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.xaxis&&a.xaxis._id===e&&a.yaxis&&a.yaxis._id===r)return!0}return!1}function qN(e,r,t,n){n=Y3(e,[hs(e,r,"x")],[hs(e,t,"y")],r+t);for(var a=0;a<n.length;a++){var o=n[a];o._module.selectPoints(o,!1)}Rp(e,n)}function Sge(e,r,t,n){for(var a,o=0;o<e.length;o++){var i=e[o];if(!(r!==i.xref||t!==i.yref))if(a){var s=!!i.subtract;a=PN(a,i,s),n=DA(a)}else a=[i],n=kA(i)}return n}function CN(e,r){for(var t=[],n=e._fullLayout,a=n.selections,o=a.length,i=0;i<o;i++)if(!(r&&i!==n._activeSelectionIndex)){var s=a[i];if(s){var f=s.xref,l=s.yref,u=hs(e,f,"x"),c=hs(e,l,"y"),v,m,x,A,w;if(s.type==="rect"){w=[];var y=Ru(u,s.x0),_=Ru(u,s.x1),M=Ru(c,s.y0),b=Ru(c,s.y1);w=[[y,M],[y,b],[_,b],[_,M]],v=Math.min(y,_),m=Math.max(y,_),x=Math.min(M,b),A=Math.max(M,b),w.xmin=v,w.xmax=m,w.ymin=x,w.ymax=A,w.xref=f,w.yref=l,w.subtract=!1,w.isRect=!0,t.push(w)}else if(s.type==="path")for(var E=s.path.split("Z"),d=[],T=0;T<E.length;T++){var g=E[T];if(g){g+="Z";var h=AN.extractPathCoords(g,TN.paramIsX,"raw"),S=AN.extractPathCoords(g,TN.paramIsY,"raw");v=1/0,m=-1/0,x=1/0,A=-1/0,w=[];for(var p=0;p<h.length;p++){var C=Ru(u,h[p]),k=Ru(c,S[p]);w.push([C,k]),v=Math.min(C,v),m=Math.max(C,m),x=Math.min(k,x),A=Math.max(k,A)}w.xmin=v,w.xmax=m,w.ymin=x,w.ymax=A,w.xref=f,w.yref=l,w.subtract=FA(w,d),d.push(w),t.push(w)}}}}return t}function FA(e,r){for(var t=!1,n=0;n<r.length;n++)for(var a=r[n],o=0;o<e.length;o++)if(Qpe(e[o],a)){t=!t;break}return t}function Ru(e,r){return e.type==="date"&&(r=r.replace("_"," ")),e.type==="log"?e.c2p(r):e.r2p(r,null,e.calendar)}function zN(e){for(var r=e.length,t=[],n=0;n<r;n++){var a=e[n];t=t.concat(a),t=t.concat([a[0]])}return Cge(t)}function Cge(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function UN(e){return function(r,t){for(var n,a,o=0;o<e.length;o++){var i=e[o],s=i._id,f=s.charAt(0);if(t.isRect){n||(n={});var l=t[f+"min"],u=t[f+"max"];l!==void 0&&u!==void 0&&(n[s]=[MN(i,l),MN(i,u)].sort(fge))}else a||(a={}),a[s]=t.map(vge(i))}n&&(r.range=n),a&&(r.lassoPoints=a)}}function kge(e){var r=e.plotinfo;return r.fillRangeItems||UN(e.xaxes.concat(e.yaxes))}function Lge(e,r){e.emit("plotly_selecting",r)}function Dp(e,r){r&&(r.selections=(e.layout||{}).selections||[]),e.emit("plotly_selected",r)}function IA(e){e.emit("plotly_deselect",null)}GN.exports={reselect:EA,prepSelect:pge,clearOutline:LN,clearSelectionsCache:Lp,selectOnClick:FN}});var PA=ie((vPe,VN)=>{"use strict";VN.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var Ip=ie((dPe,YN)=>{"use strict";YN.exports={axisRefDescription:function(e,r,t){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+t+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",r,"and the",t,"of the domain of the","second",e,"axis."].join(" ")}}});var xv=ie((gPe,ZN)=>{"use strict";var WN=PA(),XN=ci(),W3=Pa(),Rge=Yn().templatedArray,pPe=Ip();ZN.exports=Rge("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:XN({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:WN.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:WN.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",W3.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",W3.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",W3.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",W3.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:XN({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})});var Pp=ie((yPe,jN)=>{"use strict";jN.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var OA=ie((mPe,JN)=>{"use strict";JN.exports=function(r){return{valType:"color",editType:"style",anim:!0}}});var kl=ie((xPe,tB)=>{"use strict";var $N=Zh().axisHoverFormat,Dge=su().texttemplateAttrs,Fge=su().hovertemplateAttrs,KN=cf(),Ige=ci(),Pge=ou().dash,Oge=ou().pattern,Nge=zn(),Bge=Pp(),X3=ga().extendFlat,qge=OA();function QN(e){return{valType:"any",dflt:0,editType:"calc"}}function eB(e){return{valType:"any",editType:"calc"}}function rB(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}tB.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:QN("x"),yperiod:QN("y"),xperiod0:eB("x0"),yperiod0:eB("y0"),xperiodalignment:rB("x"),yperiodalignment:rB("y"),xhoverformat:$N("x"),yhoverformat:$N("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:Dge({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:Fge({},{keys:Bge.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:X3({},Pge,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:qge(!0),fillgradient:X3({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:Oge,marker:X3({symbol:{valType:"enumerated",values:Nge.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:X3({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},KN("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},KN("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:Ige({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}});var NA=ie((_Pe,iB)=>{"use strict";var nB=xv(),aB=kl().line,zge=ou().dash,Z3=ga().extendFlat,Uge=No().overrideAll,Gge=Yn().templatedArray,bPe=Ip();iB.exports=Uge(Gge("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:Z3({},nB.xref,{}),yref:Z3({},nB.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:aB.color,width:Z3({},aB.width,{min:1,dflt:1}),dash:Z3({},zge,{dflt:"dot"})}}),"arraydraw","from-root")});var fB=ie((wPe,lB)=>{"use strict";var oB=wr(),j3=Rn(),Hge=qo(),Vge=NA(),sB=Lu();lB.exports=function(r,t){Hge(r,t,{name:"selections",handleItemDefaults:Yge});for(var n=t.selections,a=0;a<n.length;a++){var o=n[a];o&&o.path===void 0&&(o.x0===void 0||o.x1===void 0||o.y0===void 0||o.y1===void 0)&&(t.selections[a]=null)}};function Yge(e,r,t){function n(d,T){return oB.coerce(e,r,Vge,d,T)}var a=n("path"),o=a?"path":"rect",i=n("type",o),s=i!=="path";s&&delete r.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var f=["x","y"],l=0;l<2;l++){var u=f[l],c={_fullLayout:t},v,m,x,A=j3.coerceRef(e,r,c,u);if(v=j3.getFromId(c,A),v._selectionIndices.push(r._index),x=sB.rangeToShapePosition(v),m=sB.shapePositionToRange(v),s){var w=u+"0",y=u+"1",_=e[w],M=e[y];e[w]=m(e[w],!0),e[y]=m(e[y],!0),j3.coercePosition(r,c,n,A,w),j3.coercePosition(r,c,n,A,y);var b=r[w],E=r[y];b!==void 0&&E!==void 0&&(r[w]=x(b),r[y]=x(E),e[w]=_,e[y]=M)}}s&&oB.noneOrAll(e,r,["x0","x1","y0","y1"])}});var cB=ie((APe,uB)=>{"use strict";uB.exports=function(r,t,n){n("newselection.mode");var a=n("newselection.line.width");a&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}});var Op=ie((TPe,dB)=>{"use strict";var Wge=Dt(),hB=wr(),vB=ya();dB.exports=function(r){return function(n,a){var o=n[r];if(Array.isArray(o))for(var i=Wge.subplotsRegistry.cartesian,s=i.idRegex,f=a._subplots,l=f.xaxis,u=f.yaxis,c=f.cartesian,v=a._has("cartesian")||a._has("gl2d"),m=0;m<o.length;m++){var x=o[m];if(hB.isPlainObject(x)){var A=vB.cleanId(x.xref,"x",!1),w=vB.cleanId(x.yref,"y",!1),y=s.x.test(A),_=s.y.test(w);if(y||_){v||hB.pushUnique(a._basePlotModules,i);var M=!1;y&&l.indexOf(A)===-1&&(l.push(A),M=!0),_&&u.indexOf(w)===-1&&(u.push(w),M=!0),M&&y&&_&&c.push(A+w)}}}}}});var bv=ie((MPe,gB)=>{"use strict";var pB=_A(),Np=HN();gB.exports={moduleType:"component",name:"selections",layoutAttributes:NA(),supplyLayoutDefaults:fB(),supplyDrawNewSelectionDefaults:cB(),includeBasePlot:Op()("selections"),draw:pB.draw,drawOne:pB.drawOne,reselect:Np.reselect,prepSelect:Np.prepSelect,clearOutline:Np.clearOutline,clearSelectionsCache:Np.clearSelectionsCache,selectOnClick:Np.selectOnClick}});var NB=ie((EPe,OB)=>{"use strict";var GA=gn(),vs=wr(),yB=vs.numberFormat,Xge=Is(),Zge=r3(),J3=Dt(),EB=vs.strTranslate,jge=Ni(),mB=pn(),Du=zn(),Jge=pf(),xB=Rn(),$ge=Mu(),Kge=Bs(),SB=yf(),$3=SB.selectingOrDrawing,Qge=SB.freeMode,eye=Oi().FROM_TL,rye=g3(),tye=N3().redrawReglTraces,nye=Za(),qA=ya().getFromId,aye=bv().prepSelect,iye=bv().clearOutline,oye=bv().selectOnClick,BA=vA(),HA=Pa(),bB=HA.MINDRAG,eo=HA.MINZOOM,_B=!0;function sye(e,r,t,n,a,o,i,s){var f=e._fullLayout._zoomlayer,l=i+s==="nsew",u=(i+s).length===1,c,v,m,x,A,w,y,_,M,b,E,d,T,g,h,S,p,C,k,D,P,O,F;t+=r.yaxis._shift;function L(){if(c=r.xaxis,v=r.yaxis,M=c._length,b=v._length,y=c._offset,_=v._offset,m={},m[c._id]=c,x={},x[v._id]=v,i&&s)for(var ze=r.overlays,Ce=0;Ce<ze.length;Ce++){var Le=ze[Ce].xaxis;m[Le._id]=Le;var Ne=ze[Ce].yaxis;x[Ne._id]=Ne}A=MB(m),w=MB(x),T=wB(A,s),g=wB(w,i),h=!g&&!T,d=TB(e,e._fullLayout._axisMatchGroups,m,x),E=TB(e,e._fullLayout._axisConstraintGroups,m,x,d);var tr=E.isSubplotConstrained||d.isSubplotConstrained;S=s||tr,p=i||tr;var ir=e._fullLayout;C=ir._has("scattergl"),k=ir._has("splom"),D=ir._has("svg")}L();var I=uye(g+T,e._fullLayout.dragmode,l),q=kB(r,i+s+"drag",I,t,n,a,o);if(h&&!l)return q.onmousedown=null,q.style.pointerEvents="none",q;var z={element:q,gd:e,plotinfo:r};z.prepFn=function(ze,Ce,Le){var Ne=z.dragmode,tr=e._fullLayout.dragmode;tr!==Ne&&(z.dragmode=tr),L(),O=e._fullLayout._invScaleX,F=e._fullLayout._invScaleY,h||(l?ze.shiftKey?tr==="pan"?tr="zoom":$3(tr)||(tr="pan"):ze.ctrlKey&&(tr="pan"):tr="pan"),Qge(tr)?z.minDrag=1:z.minDrag=void 0,$3(tr)?(z.xaxes=A,z.yaxes=w,aye(ze,Ce,Le,z,tr)):(z.clickFn=$,$3(Ne)&&W(),h||(tr==="zoom"?(z.moveFn=ne,z.doneFn=de,z.minDrag=1,V(ze,Ce,Le)):tr==="pan"&&(z.moveFn=Se,z.doneFn=pe))),e._fullLayout._redrag=function(){var ir=e._dragdata;if(ir&&ir.element===q){var mr=e._fullLayout.dragmode;$3(mr)||(L(),xe([0,0,M,b]),z.moveFn(ir.dx,ir.dy))}}};function W(){z.plotinfo.selection=!1,iye(e)}function $(ze,Ce){var Le=z.gd;if(Le._fullLayout._activeShapeIndex>=0){Le._fullLayout._deactivateShape(Le);return}var Ne=Le._fullLayout.clickmode;if(UA(Le),ze===2&&!u&&Ve(),l)Ne.indexOf("select")>-1&&oye(Ce,Le,A,w,r.id,z),Ne.indexOf("event")>-1&&Jge.click(Le,Ce,r.id);else if(ze===1&&u){var tr=i?v:c,ir=i==="s"||s==="w"?0:1,mr=tr._name+".range["+ir+"]",Tr=lye(tr,ir),pr="left",nr="middle";if(tr.fixedrange)return;i?(nr=i==="n"?"top":"bottom",tr.side==="right"&&(pr="right")):s==="e"&&(pr="right"),Le._context.showAxisRangeEntryBoxes&&GA.select(q).call(jge.makeEditable,{gd:Le,immediate:!0,background:Le._fullLayout.paper_bgcolor,text:String(Tr),fill:tr.tickfont?tr.tickfont.color:"#444",horizontalAlign:pr,verticalAlign:nr}).on("edit",function(Me){var Fe=tr.d2r(Me);Fe!==void 0&&J3.call("_guiRelayout",Le,mr,Fe)})}}Kge.init(z);var j,G,B,X,te,J,ae,ee,H,re;function V(ze,Ce,Le){var Ne=q.getBoundingClientRect();j=Ce-Ne.left,G=Le-Ne.top,e._fullLayout._calcInverseTransform(e);var tr=vs.apply3DTransform(e._fullLayout._invTransform)(j,G);j=tr[0],G=tr[1],B={l:j,r:j,w:0,t:G,b:G,h:0},X=e._hmpixcount?e._hmlumcount/e._hmpixcount:Xge(e._fullLayout.plot_bgcolor).getLuminance(),te="M0,0H"+M+"V"+b+"H0V0",J=!1,ae="xy",re=!1,ee=LB(f,X,y,_,te),H=RB(f,y,_)}function ne(ze,Ce){if(e._transitioningWithDuration)return!1;var Le=Math.max(0,Math.min(M,O*ze+j)),Ne=Math.max(0,Math.min(b,F*Ce+G)),tr=Math.abs(Le-j),ir=Math.abs(Ne-G);B.l=Math.min(j,Le),B.r=Math.max(j,Le),B.t=Math.min(G,Ne),B.b=Math.max(G,Ne);function mr(){ae="",B.r=B.l,B.t=B.b,H.attr("d","M0,0Z")}if(E.isSubplotConstrained)tr>eo||ir>eo?(ae="xy",tr/M>ir/b?(ir=tr*b/M,G>Ne?B.t=G-ir:B.b=G+ir):(tr=ir*M/b,j>Le?B.l=j-tr:B.r=j+tr),H.attr("d",K3(B))):mr();else if(d.isSubplotConstrained)if(tr>eo||ir>eo){ae="xy";var Tr=Math.min(B.l/M,(b-B.b)/b),pr=Math.max(B.r/M,(b-B.t)/b);B.l=Tr*M,B.r=pr*M,B.b=(1-Tr)*b,B.t=(1-pr)*b,H.attr("d",K3(B))}else mr();else!g||ir<Math.min(Math.max(tr*.6,bB),eo)?tr<bB||!T?mr():(B.t=0,B.b=b,ae="x",H.attr("d",cye(B,G))):!T||tr<Math.min(ir*.6,eo)?(B.l=0,B.r=M,ae="y",H.attr("d",hye(B,j))):(ae="xy",H.attr("d",K3(B)));B.w=B.r-B.l,B.h=B.b-B.t,ae&&(re=!0),e._dragged=re,DB(ee,H,B,te,J,X),le(),e.emit("plotly_relayouting",P),J=!0}function le(){P={},(ae==="xy"||ae==="x")&&(zA(A,B.l/M,B.r/M,P,E.xaxes),Ae("x",P)),(ae==="xy"||ae==="y")&&(zA(w,(b-B.b)/b,(b-B.t)/b,P,E.yaxes),Ae("y",P))}function de(){le(),UA(e),pe(),IB(e)}var _e=[0,0,M,b],me=null,ve=HA.REDRAWDELAY,be=r.mainplot?e._fullLayout._plots[r.mainplot]:r;function we(ze){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(W(),e._transitioningWithDuration){ze.preventDefault(),ze.stopPropagation();return}L(),clearTimeout(me);var Ce=-ze.deltaY;if(isFinite(Ce)||(Ce=ze.wheelDelta/10),!isFinite(Ce)){vs.log("Did not find wheel motion attributes: ",ze);return}var Le=Math.exp(-Math.min(Math.max(Ce,-20),20)/200),Ne=be.draglayer.select(".nsewdrag").node().getBoundingClientRect(),tr=(ze.clientX-Ne.left)/Ne.width,ir=(Ne.bottom-ze.clientY)/Ne.height,mr;function Tr(pr,nr,Me){if(pr.fixedrange)return;var Fe=vs.simpleMap(pr.range,pr.r2l),ur=Fe[0]+(Fe[1]-Fe[0])*nr;function je(Er){return pr.l2r(ur+(Er-ur)*Me)}pr.range=Fe.map(je)}if(S){for(s||(tr=.5),mr=0;mr<A.length;mr++)Tr(A[mr],tr,Le);Ae("x"),_e[2]*=Le,_e[0]+=_e[2]*tr*(1/Le-1)}if(p){for(i||(ir=.5),mr=0;mr<w.length;mr++)Tr(w[mr],ir,Le);Ae("y"),_e[3]*=Le,_e[1]+=_e[3]*(1-ir)*(1/Le-1)}xe(_e),Ie(),e.emit("plotly_relayouting",P),me=setTimeout(function(){e._fullLayout&&(_e=[0,0,M,b],pe())},ve),ze.preventDefault()}i.length*s.length!==1&&PB(q,we);function Se(ze,Ce){if(ze=ze*O,Ce=Ce*F,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,T==="ew"||g==="ns"){var Le=T?-ze:0,Ne=g?-Ce:0;if(d.isSubplotConstrained){if(T&&g){var tr=(ze/M-Ce/b)/2;ze=tr*M,Ce=-tr*b,Le=-ze,Ne=-Ce}g?Le=-Ne*M/b:Ne=-Le*b/M}T&&(AB(A,ze),Ae("x")),g&&(AB(w,Ce),Ae("y")),xe([Le,Ne,M,b]),Ie(),e.emit("plotly_relayouting",P);return}function ir(je,Er,ue){for(var Q=1-Er,oe,Ee,Xe=0;Xe<je.length;Xe++){var ar=je[Xe];if(!ar.fixedrange){oe=ar,Ee=ar._rl[Q]+(ar._rl[Er]-ar._rl[Q])/fye(ue/ar._length);var yr=ar.l2r(Ee);yr!==!1&&yr!==void 0&&(ar.range[Er]=yr)}}return oe._length*(oe._rl[Er]-Ee)/(oe._rl[Er]-oe._rl[Q])}var mr=T==="w"==(g==="n")?1:-1;if(T&&g&&(E.isSubplotConstrained||d.isSubplotConstrained)){var Tr=(ze/M+mr*Ce/b)/2;ze=Tr*M,Ce=mr*Tr*b}var pr,nr;if(T==="w"?ze=ir(A,0,ze):T==="e"?ze=ir(A,1,-ze):T||(ze=0),g==="n"?Ce=ir(w,1,Ce):g==="s"?Ce=ir(w,0,-Ce):g||(Ce=0),pr=T==="w"?ze:0,nr=g==="n"?Ce:0,E.isSubplotConstrained&&!d.isSubplotConstrained||d.isSubplotConstrained&&T&&g&&mr>0){var Me;if(d.isSubplotConstrained||!T&&g.length===1){for(Me=0;Me<A.length;Me++)A[Me].range=A[Me]._r.slice(),BA(A[Me],1-Ce/b);ze=Ce*M/b,pr=ze/2}if(d.isSubplotConstrained||!g&&T.length===1){for(Me=0;Me<w.length;Me++)w[Me].range=w[Me]._r.slice(),BA(w[Me],1-ze/M);Ce=ze*b/M,nr=Ce/2}}(!d.isSubplotConstrained||!g)&&Ae("x"),(!d.isSubplotConstrained||!T)&&Ae("y");var Fe=M-ze,ur=b-Ce;d.isSubplotConstrained&&!(T&&g)&&(T?(nr=pr?0:ze*b/M,ur=Fe*b/M):(pr=nr?0:Ce*M/b,Fe=ur*M/b)),xe([pr,nr,Fe,ur]),Ie(),e.emit("plotly_relayouting",P)}function Ae(ze,Ce){for(var Le=d.isSubplotConstrained?{x:w,y:A}[ze]:d[ze+"axes"],Ne=d.isSubplotConstrained?{x:A,y:w}[ze]:[],tr=0;tr<Le.length;tr++){var ir=Le[tr],mr=ir._id,Tr=d.xLinks[mr]||d.yLinks[mr],pr=Ne[0]||m[Tr]||x[Tr];pr&&(Ce?(Ce[ir._name+".range[0]"]=Ce[pr._name+".range[0]"],Ce[ir._name+".range[1]"]=Ce[pr._name+".range[1]"]):ir.range=pr.range.slice())}}function Ie(){var ze=[],Ce;function Le(mr){for(Ce=0;Ce<mr.length;Ce++)mr[Ce].fixedrange||ze.push(mr[Ce]._id)}function Ne(mr,Tr){for(Ce=0;Ce<mr.length;Ce++){var pr=mr[Ce],nr=pr[Tr];!pr.fixedrange&&nr.tickmode==="sync"&&ze.push(nr._id)}}for(S&&(Le(A),Le(E.xaxes),Le(d.xaxes),Ne(r.overlays,"xaxis")),p&&(Le(w),Le(E.yaxes),Le(d.yaxes),Ne(r.overlays,"yaxis")),P={},Ce=0;Ce<ze.length;Ce++){var tr=ze[Ce],ir=qA(e,tr);xB.drawOne(e,ir,{skipTitle:!0}),P[ir._name+".range[0]"]=ir.range[0],P[ir._name+".range[1]"]=ir.range[1]}xB.redrawComponents(e,ze)}function Ve(){if(!e._transitioningWithDuration){var ze=e._context.doubleClick,Ce=[];T&&(Ce=Ce.concat(A)),g&&(Ce=Ce.concat(w)),d.xaxes&&(Ce=Ce.concat(d.xaxes)),d.yaxes&&(Ce=Ce.concat(d.yaxes));var Le={},Ne,tr;if(ze==="reset+autosize")for(ze="autosize",tr=0;tr<Ce.length;tr++){Ne=Ce[tr];var ir=Ne._rangeInitial0,mr=Ne._rangeInitial1,Tr=ir!==void 0||mr!==void 0;if(Tr&&(ir!==void 0&&ir!==Ne.range[0]||mr!==void 0&&mr!==Ne.range[1])||!Tr&&Ne.autorange!==!0){ze="reset";break}}if(ze==="autosize")for(tr=0;tr<Ce.length;tr++)Ne=Ce[tr],Ne.fixedrange||(Le[Ne._name+".autorange"]=!0);else if(ze==="reset"){for((T||E.isSubplotConstrained)&&(Ce=Ce.concat(E.xaxes)),g&&!E.isSubplotConstrained&&(Ce=Ce.concat(E.yaxes)),E.isSubplotConstrained&&(T?g||(Ce=Ce.concat(w)):Ce=Ce.concat(A)),tr=0;tr<Ce.length;tr++)if(Ne=Ce[tr],!Ne.fixedrange){var pr=Ne._name,nr=Ne._autorangeInitial;Ne._rangeInitial0===void 0&&Ne._rangeInitial1===void 0?Le[pr+".autorange"]=!0:Ne._rangeInitial0===void 0?(Le[pr+".autorange"]=nr,Le[pr+".range"]=[null,Ne._rangeInitial1]):Ne._rangeInitial1===void 0?(Le[pr+".range"]=[Ne._rangeInitial0,null],Le[pr+".autorange"]=nr):Le[pr+".range"]=[Ne._rangeInitial0,Ne._rangeInitial1]}}e.emit("plotly_doubleclick",null),J3.call("_guiRelayout",e,Le)}}function pe(){xe([0,0,M,b]),vs.syncOrAsync([nye.previousPromises,function(){e._fullLayout._replotting=!1,J3.call("_guiRelayout",e,P)}],e)}function xe(ze){var Ce=e._fullLayout,Le=Ce._plots,Ne=Ce._subplots.cartesian,tr,ir,mr,Tr;if(k&&J3.subplotsRegistry.splom.drag(e),C){for(tr=0;tr<Ne.length;tr++)if(ir=Le[Ne[tr]],mr=ir.xaxis,Tr=ir.yaxis,ir._scene){mr.limitRange&&mr.limitRange(),Tr.limitRange&&Tr.limitRange();var pr=vs.simpleMap(mr.range,mr.r2l),nr=vs.simpleMap(Tr.range,Tr.r2l);ir._scene.update({range:[pr[0],nr[0],pr[1],nr[1]]})}}if((k||C)&&(rye(e),tye(e)),D){var Me=ze[2]/c._length,Fe=ze[3]/v._length;for(tr=0;tr<Ne.length;tr++){ir=Le[Ne[tr]],mr=ir.xaxis,Tr=ir.yaxis;var ur=(S||d.isSubplotConstrained)&&!mr.fixedrange&&m[mr._id],je=(p||d.isSubplotConstrained)&&!Tr.fixedrange&&x[Tr._id],Er,ue,Q,oe;if(ur?(Er=Me,Q=s||d.isSubplotConstrained?ze[0]:er(mr,Er)):d.xaHash[mr._id]?(Er=Me,Q=ze[0]*mr._length/c._length):d.yaHash[mr._id]?(Er=Fe,Q=g==="ns"?-ze[1]*mr._length/v._length:er(mr,Er,{n:"top",s:"bottom"}[g])):(Er=Te(mr,Me,Fe),Q=qe(mr,Er)),Er>1&&(mr.maxallowed!==void 0&&S===(mr.range[0]<mr.range[1]?"e":"w")||mr.minallowed!==void 0&&S===(mr.range[0]<mr.range[1]?"w":"e"))&&(Er=1,Q=0),je?(ue=Fe,oe=i||d.isSubplotConstrained?ze[1]:er(Tr,ue)):d.yaHash[Tr._id]?(ue=Fe,oe=ze[1]*Tr._length/v._length):d.xaHash[Tr._id]?(ue=Me,oe=T==="ew"?-ze[0]*Tr._length/c._length:er(Tr,ue,{e:"right",w:"left"}[T])):(ue=Te(Tr,Me,Fe),oe=qe(Tr,ue)),ue>1&&(Tr.maxallowed!==void 0&&p===(Tr.range[0]<Tr.range[1]?"n":"s")||Tr.minallowed!==void 0&&p===(Tr.range[0]<Tr.range[1]?"s":"n"))&&(ue=1,oe=0),!(!Er&&!ue)){Er||(Er=1),ue||(ue=1);var Ee=mr._offset-Q/Er,Xe=Tr._offset-oe/ue;ir.clipRect.call(Du.setTranslate,Q,oe).call(Du.setScale,Er,ue),ir.plot.call(Du.setTranslate,Ee,Xe).call(Du.setScale,1/Er,1/ue),(Er!==ir.xScaleFactor||ue!==ir.yScaleFactor)&&(Du.setPointGroupScale(ir.zoomScalePts,Er,ue),Du.setTextPointsScale(ir.zoomScaleTxt,Er,ue)),Du.hideOutsideRangePoints(ir.clipOnAxisFalseTraces,ir),ir.xScaleFactor=Er,ir.yScaleFactor=ue}}}}function Te(ze,Ce,Le){return ze.fixedrange?0:S&&E.xaHash[ze._id]?Ce:p&&(E.isSubplotConstrained?E.xaHash:E.yaHash)[ze._id]?Le:0}function qe(ze,Ce){return Ce?(ze.range=ze._r.slice(),BA(ze,Ce),er(ze,Ce)):0}function er(ze,Ce,Le){return ze._length*(1-Ce)*eye[Le||ze.constraintoward||"middle"]}return q}function CB(e,r,t,n){var a=vs.ensureSingle(e.draglayer,r,t,function(o){o.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call($ge,n),a.node()}function kB(e,r,t,n,a,o,i){var s=CB(e,"rect",r,t);return GA.select(s).call(Du.setRect,n,a,o,i),s}function wB(e,r){for(var t=0;t<e.length;t++)if(!e[t].fixedrange)return r;return""}function lye(e,r){var t=e.range[r],n=Math.abs(t-e.range[1-r]),a;return e.type==="date"?t:e.type==="log"?(a=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,yB("."+a+"g")(Math.pow(10,t))):(a=Math.floor(Math.log(Math.abs(t))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,yB("."+String(a)+"g")(t))}function zA(e,r,t,n,a){for(var o=0;o<e.length;o++){var i=e[o];if(!i.fixedrange)if(i.rangebreaks){var s=i._id.charAt(0)==="y",f=s?1-r:r,l=s?1-t:t;n[i._name+".range[0]"]=i.l2r(i.p2l(f*i._length)),n[i._name+".range[1]"]=i.l2r(i.p2l(l*i._length))}else{var u=i._rl[0],c=i._rl[1]-u;n[i._name+".range[0]"]=i.l2r(u+c*r),n[i._name+".range[1]"]=i.l2r(u+c*t)}}if(a&&a.length){var v=(r+(1-t))/2;zA(a,v,1-v,n,[])}}function AB(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(!n.fixedrange){if(n.rangebreaks){var a=0,o=n._length,i=n.p2l(a+r)-n.p2l(a),s=n.p2l(o+r)-n.p2l(o),f=(i+s)/2;n.range=[n.l2r(n._rl[0]-f),n.l2r(n._rl[1]-f)]}else n.range=[n.l2r(n._rl[0]-r/n._m),n.l2r(n._rl[1]-r/n._m)];n.limitRange&&n.limitRange()}}}function fye(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function uye(e,r,t){return e?e==="nsew"?t?"":r==="pan"?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function LB(e,r,t,n,a){return e.append("path").attr("class","zoombox").style({fill:r>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",EB(t,n)).attr("d",a+"Z")}function RB(e,r,t){return e.append("path").attr("class","zoombox-corners").style({fill:mB.background,stroke:mB.defaultLine,"stroke-width":1,opacity:0}).attr("transform",EB(r,t)).attr("d","M0,0Z")}function DB(e,r,t,n,a,o){e.attr("d",n+"M"+t.l+","+t.t+"v"+t.h+"h"+t.w+"v-"+t.h+"h-"+t.w+"Z"),FB(e,r,a,o)}function FB(e,r,t,n){t||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),r.transition().style("opacity",1).duration(200))}function UA(e){GA.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function IB(e){_B&&e.data&&e._context.showTips&&(vs.notifier(vs._(e,"Double-click to zoom back out"),"long"),_B=!1)}function cye(e,r){return"M"+(e.l-.5)+","+(r-eo-.5)+"h-3v"+(2*eo+1)+"h3ZM"+(e.r+.5)+","+(r-eo-.5)+"h3v"+(2*eo+1)+"h-3Z"}function hye(e,r){return"M"+(r-eo-.5)+","+(e.t-.5)+"v-3h"+(2*eo+1)+"v3ZM"+(r-eo-.5)+","+(e.b+.5)+"v3h"+(2*eo+1)+"v-3Z"}function K3(e){var r=Math.floor(Math.min(e.b-e.t,e.r-e.l,eo)/2);return"M"+(e.l-3.5)+","+(e.t-.5+r)+"h3v"+-r+"h"+r+"v-3h-"+(r+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+r)+"h-3v"+-r+"h"+-r+"v-3h"+(r+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-r)+"h-3v"+r+"h"+-r+"v3h"+(r+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-r)+"h3v"+r+"h"+r+"v3h-"+(r+3)+"Z"}function TB(e,r,t,n,a){for(var o=!1,i={},s={},f,l,u,c,v=(a||{}).xaHash,m=(a||{}).yaHash,x=0;x<r.length;x++){var A=r[x];for(f in t)if(A[f]){for(u in A)!(a&&(v[u]||m[u]))&&!(u.charAt(0)==="x"?t:n)[u]&&(i[u]=f);for(l in n)!(a&&(v[l]||m[l]))&&A[l]&&(o=!0)}for(l in n)if(A[l])for(c in A)!(a&&(v[c]||m[c]))&&!(c.charAt(0)==="x"?t:n)[c]&&(s[c]=l)}o&&(vs.extendFlat(i,s),s={});var w={},y=[];for(u in i){var _=qA(e,u);y.push(_),w[_._id]=_}var M={},b=[];for(c in s){var E=qA(e,c);b.push(E),M[E._id]=E}return{xaHash:w,yaHash:M,xaxes:y,yaxes:b,xLinks:i,yLinks:s,isSubplotConstrained:o}}function PB(e,r){if(!Zge)e.onwheel!==void 0?e.onwheel=r:e.onmousewheel!==void 0?e.onmousewheel=r:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",r,{passive:!1}));else{var t=e.onwheel!==void 0?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(t,e._onwheel),e._onwheel=r,e.addEventListener(t,r,{passive:!1})}}function MB(e){var r=[];for(var t in e)r.push(e[t]);return r}OB.exports={makeDragBox:sye,makeDragger:CB,makeRectDragger:kB,makeZoombox:LB,makeCorners:RB,updateZoombox:DB,xyCorners:K3,transitionZoombox:FB,removeZoombox:UA,showDoubleClickNotifier:IB,attachWheelEventHandler:PB}});var VA=ie(ex=>{"use strict";var vye=gn(),Q3=pf(),dye=Bs(),pye=Mu(),Us=NB().makeDragBox,oi=Pa().DRAGGERSIZE;ex.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){vye.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var n=Object.keys(t._plots||{}).sort(function(o,i){if((t._plots[o].mainplot&&!0)===(t._plots[i].mainplot&&!0)){var s=o.split("y"),f=i.split("y");return s[0]===f[0]?Number(s[1]||1)-Number(f[1]||1):Number(s[0]||1)-Number(f[0]||1)}return t._plots[o].mainplot?1:-1});n.forEach(function(o){var i=t._plots[o],s=i.xaxis,f=i.yaxis;if(!i.mainplot){var l=Us(r,i,s._offset,f._offset,s._length,f._length,"ns","ew");l.onmousemove=function(v){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===o&&r._fullLayout._plots[o]&&Q3.hover(r,v,o)},Q3.hover(r,v,o),r._fullLayout._lasthover=l,r._fullLayout._hoversubplot=o},l.onmouseout=function(v){r._dragging||(r._fullLayout._hoversubplot=null,dye.unhover(r,v))},r._context.showAxisDragHandles&&(Us(r,i,s._offset-oi,f._offset-oi,oi,oi,"n","w"),Us(r,i,s._offset+s._length,f._offset-oi,oi,oi,"n","e"),Us(r,i,s._offset-oi,f._offset+f._length,oi,oi,"s","w"),Us(r,i,s._offset+s._length,f._offset+f._length,oi,oi,"s","e"))}if(r._context.showAxisDragHandles){if(o===s._mainSubplot){var u=s._mainLinePosition;s.side==="top"&&(u-=oi),Us(r,i,s._offset+s._length*.1,u,s._length*.8,oi,"","ew"),Us(r,i,s._offset,u,s._length*.1,oi,"","w"),Us(r,i,s._offset+s._length*.9,u,s._length*.1,oi,"","e")}if(o===f._mainSubplot){var c=f._mainLinePosition;f.side!=="right"&&(c-=oi),Us(r,i,c,f._offset+f._length*.1,oi,f._length*.8,"ns",""),Us(r,i,c,f._offset+f._length*.9,oi,f._length*.1,"s",""),Us(r,i,c,f._offset,oi,f._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(o){o.target=r._fullLayout._lasthover,Q3.hover(r,o,t._hoversubplot)},a.onclick=function(o){o.target=r._fullLayout._lasthover,Q3.click(r,o)},a.onmousedown=function(o){r._fullLayout._lasthover.onmousedown(o)},ex.updateFx(r)}};ex.updateFx=function(e){var r=e._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";pye(r._draggers,t)}});var zB=ie((CPe,qB)=>{"use strict";var BB=Dt();qB.exports=function(r){for(var t=BB.layoutArrayContainers,n=BB.layoutArrayRegexes,a=r.split("[")[0],o,i,s=0;s<n.length;s++)if(i=r.match(n[s]),i&&i.index===0){o=i[0];break}if(o||(o=t[t.indexOf(a)]),!o)return!1;var f=r.substr(o.length);return f?(i=f.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),i?{array:o,index:Number(i[1]),property:i[3]||""}:!1):{array:o,index:"",property:""}}});var GB=ie(qp=>{"use strict";var gye=nu(),YA=q2(),Bp=Bc(),yye=Ow().sorterAsc,WA=Dt();qp.containerArrayMatch=zB();var mye=qp.isAddVal=function(r){return r==="add"||gye(r)},UB=qp.isRemoveVal=function(r){return r===null||r==="remove"};qp.applyContainerArrayChanges=function(r,t,n,a,o){var i=t.astr,s=WA.getComponentMethod(i,"supplyLayoutDefaults"),f=WA.getComponentMethod(i,"draw"),l=WA.getComponentMethod(i,"drawOne"),u=a.replot||a.recalc||s===YA||f===YA,c=r.layout,v=r._fullLayout;if(n[""]){Object.keys(n).length>1&&Bp.warn("Full array edits are incompatible with other edits",i);var m=n[""][""];if(UB(m))t.set(null);else if(Array.isArray(m))t.set(m);else return Bp.warn("Unrecognized full array edit value",i,m),!0;return u?!1:(s(c,v),f(r),!0)}var x=Object.keys(n).map(Number).sort(yye),A=t.get(),w=A||[],y=o(v,i).get(),_=[],M=-1,b=w.length,E,d,T,g,h,S,p,C;for(E=0;E<x.length;E++){if(T=x[E],g=n[T],h=Object.keys(g),S=g[""],p=mye(S),T<0||T>w.length-(p?0:1)){Bp.warn("index out of range",i,T);continue}if(S!==void 0)h.length>1&&Bp.warn("Insertion & removal are incompatible with edits to the same index.",i,T),UB(S)?_.push(T):p?(S==="add"&&(S={}),w.splice(T,0,S),y&&y.splice(T,0,{})):Bp.warn("Unrecognized full object edit value",i,T,S),M===-1&&(M=T);else for(d=0;d<h.length;d++)C=i+"["+T+"].",o(w[T],h[d],C).set(g[h[d]])}for(E=_.length-1;E>=0;E--)w.splice(_[E],1),y&&y.splice(_[E],1);if(w.length?A||t.set(w):t.set(null),u)return!1;if(s(c,v),l!==YA){var k;if(M===-1)k=x;else{for(b=Math.max(w.length,b),k=[],E=0;E<x.length&&(T=x[E],!(T>=M));E++)k.push(T);for(E=M;E<b;E++)k.push(E)}for(E=0;E<k.length;E++)l(r,k[E])}else f(r);return!0}});var jB=ie(ds=>{"use strict";var WB=cn(),xye=kw(),XB=Dt(),to=wr(),Up=Za(),ZB=ya(),d0=pn(),Gp=ZB.cleanId,bye=ZB.getFromTrace,zp=XB.traceIs;ds.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&to.log("Clearing previous rejected promises from queue."),e._promises=[]};ds.cleanLayout=function(e){var r,t;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var n=(Up.subplotsRegistry.cartesian||{}).attrRegex,a=(Up.subplotsRegistry.polar||{}).attrRegex,o=(Up.subplotsRegistry.ternary||{}).attrRegex,i=(Up.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(e);for(r=0;r<s.length;r++){var f=s[r];if(n&&n.test(f)){var l=e[f];l.anchor&&l.anchor!=="free"&&(l.anchor=Gp(l.anchor)),l.overlaying&&(l.overlaying=Gp(l.overlaying)),l.type||(l.isdate?l.type="date":l.islog?l.type="log":l.isdate===!1&&l.islog===!1&&(l.type="linear")),(l.autorange==="withzero"||l.autorange==="tozero")&&(l.autorange=!0,l.rangemode="tozero"),l.insiderange&&delete l.range,delete l.islog,delete l.isdate,delete l.categories,rx(l,"domain")&&delete l.domain,l.autotick!==void 0&&(l.tickmode===void 0&&(l.tickmode=l.autotick?"auto":"linear"),delete l.autotick),ro(l)}else if(a&&a.test(f)){var u=e[f];ro(u.radialaxis)}else if(o&&o.test(f)){var c=e[f];ro(c.aaxis),ro(c.baxis),ro(c.caxis)}else if(i&&i.test(f)){var v=e[f],m=v.cameraposition;if(Array.isArray(m)&&m[0].length===4){var x=m[0],A=m[1],w=m[2],y=xye([],x),_=[];for(t=0;t<3;++t)_[t]=A[t]+w*y[2+4*t];v.camera={eye:{x:_[0],y:_[1],z:_[2]},center:{x:A[0],y:A[1],z:A[2]},up:{x:0,y:0,z:1}},delete v.cameraposition}ro(v.xaxis),ro(v.yaxis),ro(v.zaxis)}}var M=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<M;r++){var b=e.annotations[r];to.isPlainObject(b)&&(b.ref&&(b.ref==="paper"?(b.xref="paper",b.yref="paper"):b.ref==="data"&&(b.xref="x",b.yref="y"),delete b.ref),_v(b,"xref"),_v(b,"yref"))}var E=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<E;r++){var d=e.shapes[r];to.isPlainObject(d)&&(_v(d,"xref"),_v(d,"yref"))}var T=Array.isArray(e.images)?e.images.length:0;for(r=0;r<T;r++){var g=e.images[r];to.isPlainObject(g)&&(_v(g,"xref"),_v(g,"yref"))}var h=e.legend;return h&&(h.x>3?(h.x=1.02,h.xanchor="left"):h.x<-2&&(h.x=-.02,h.xanchor="right"),h.y>3?(h.y=1.02,h.yanchor="bottom"):h.y<-2&&(h.y=-.02,h.yanchor="top")),ro(e),e.dragmode==="rotate"&&(e.dragmode="orbit"),d0.clean(e),e.template&&e.template.layout&&ds.cleanLayout(e.template.layout),e};function _v(e,r){var t=e[r],n=r.charAt(0);t&&t!=="paper"&&(e[r]=Gp(t,n,!0))}function ro(e){e&&((typeof e.title=="string"||typeof e.title=="number")&&(e.title={text:e.title}),r("titlefont","font"),r("titleposition","position"),r("titleside","side"),r("titleoffset","offset"));function r(t,n){var a=e[t],o=e.title&&e.title[n];a&&!o&&(e.title||(e.title={}),e.title[n]=e[t],delete e[t])}}ds.cleanData=function(e){for(var r=0;r<e.length;r++){var t=e[r],n;if(t.type==="histogramy"&&"xbins"in t&&!("ybins"in t)&&(t.ybins=t.xbins,delete t.xbins),t.error_y&&"opacity"in t.error_y){var a=d0.defaults,o=t.error_y.color||(zp(t,"bar")?d0.defaultLine:a[r%a.length]);t.error_y.color=d0.addOpacity(d0.rgb(o),d0.opacity(o)*t.error_y.opacity),delete t.error_y.opacity}if("bardir"in t&&(t.bardir==="h"&&(zp(t,"bar")||t.type.substr(0,9)==="histogram")&&(t.orientation="h",ds.swapXYData(t)),delete t.bardir),t.type==="histogramy"&&ds.swapXYData(t),(t.type==="histogramx"||t.type==="histogramy")&&(t.type="histogram"),"scl"in t&&!("colorscale"in t)&&(t.colorscale=t.scl,delete t.scl),"reversescl"in t&&!("reversescale"in t)&&(t.reversescale=t.reversescl,delete t.reversescl),t.xaxis&&(t.xaxis=Gp(t.xaxis,"x")),t.yaxis&&(t.yaxis=Gp(t.yaxis,"y")),zp(t,"gl3d")&&t.scene&&(t.scene=Up.subplotsRegistry.gl3d.cleanId(t.scene)),!zp(t,"pie-like")&&!zp(t,"bar-like"))if(Array.isArray(t.textposition))for(n=0;n<t.textposition.length;n++)t.textposition[n]=VB(t.textposition[n]);else t.textposition&&(t.textposition=VB(t.textposition));var i=XB.getModule(t);if(i&&i.colorbar){var s=i.colorbar.container,f=s?t[s]:t;f&&f.colorscale&&(f.colorscale==="YIGnBu"&&(f.colorscale="YlGnBu"),f.colorscale==="YIOrRd"&&(f.colorscale="YlOrRd"))}if(t.type==="surface"&&to.isPlainObject(t.contours)){var l=["x","y","z"];for(n=0;n<l.length;n++){var u=t.contours[l[n]];to.isPlainObject(u)&&(u.highlightColor&&(u.highlightcolor=u.highlightColor,delete u.highlightColor),u.highlightWidth&&(u.highlightwidth=u.highlightWidth,delete u.highlightWidth))}}if(t.type==="candlestick"||t.type==="ohlc"){var c=(t.increasing||{}).showlegend!==!1,v=(t.decreasing||{}).showlegend!==!1,m=HB(t.increasing),x=HB(t.decreasing);if(m!==!1&&x!==!1){var A=_ye(m,x,c,v);A&&(t.name=A)}else(m||x)&&!t.name&&(t.name=m||x)}if(Array.isArray(t.transforms)){var w=t.transforms;for(n=0;n<w.length;n++){var y=w[n];if(to.isPlainObject(y))switch(y.type){case"filter":y.filtersrc&&(y.target=y.filtersrc,delete y.filtersrc),y.calendar&&(y.valuecalendar||(y.valuecalendar=y.calendar),delete y.calendar);break;case"groupby":if(y.styles=y.styles||y.style,y.styles&&!Array.isArray(y.styles)){var _=y.styles,M=Object.keys(_);y.styles=[];for(var b=0;b<M.length;b++)y.styles.push({target:M[b],value:_[M[b]]})}break}}}rx(t,"line")&&delete t.line,"marker"in t&&(rx(t.marker,"line")&&delete t.marker.line,rx(t,"marker")&&delete t.marker),d0.clean(t),t.autobinx&&(delete t.autobinx,delete t.xbins),t.autobiny&&(delete t.autobiny,delete t.ybins),ro(t),t.colorbar&&ro(t.colorbar),t.marker&&t.marker.colorbar&&ro(t.marker.colorbar),t.line&&t.line.colorbar&&ro(t.line.colorbar),t.aaxis&&ro(t.aaxis),t.baxis&&ro(t.baxis)}};function HB(e){if(!to.isPlainObject(e))return!1;var r=e.name;return delete e.name,delete e.showlegend,(typeof r=="string"||typeof r=="number")&&String(r)}function _ye(e,r,t,n){if(t&&!n)return e;if(n&&!t||!e.trim())return r;if(!r.trim())return e;var a=Math.min(e.length,r.length),o;for(o=0;o<a&&e.charAt(o)===r.charAt(o);o++);var i=e.substr(0,o);return i.trim()}function VB(e){var r="middle",t="center";return typeof e=="string"&&(e.indexOf("top")!==-1?r="top":e.indexOf("bottom")!==-1&&(r="bottom"),e.indexOf("left")!==-1?t="left":e.indexOf("right")!==-1&&(t="right")),r+" "+t}function rx(e,r){return r in e&&typeof e[r]=="object"&&Object.keys(e[r]).length===0}ds.swapXYData=function(e){var r;if(to.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var t=e.error_y,n="copy_ystyle"in t?t.copy_ystyle:!(t.color||t.thickness||t.width);to.swapAttrs(e,["error_?.copy_ystyle"]),n&&to.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(typeof e.hoverinfo=="string"){var a=e.hoverinfo.split("+");for(r=0;r<a.length;r++)a[r]==="x"?a[r]="y":a[r]==="y"&&(a[r]="x");e.hoverinfo=a.join("+")}};ds.coerceTraceIndices=function(e,r){if(WB(r))return[r];if(!Array.isArray(r)||!r.length)return e.data.map(function(a,o){return o});if(Array.isArray(r)){for(var t=[],n=0;n<r.length;n++)to.isIndex(r[n],e.data.length)?t.push(r[n]):to.warn("trace index (",r[n],") is not a number or is out of bounds");return t}return r};ds.manageArrayContainers=function(e,r,t){var n=e.obj,a=e.parts,o=a.length,i=a[o-1],s=WB(i);if(s&&r===null){var f=a.slice(0,o-1).join("."),l=to.nestedProperty(n,f).get();l.splice(i,1)}else s&&e.get()===void 0&&e.get()===void 0&&(t[e.astr]=null),e.set(r)};var wye=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function YB(e){var r=e.search(wye);if(r>0)return e.substr(0,r)}ds.hasParent=function(e,r){for(var t=YB(r);t;){if(t in e)return!0;t=YB(t)}return!1};var Aye=["x","y","z"];ds.clearAxisTypes=function(e,r,t){for(var n=0;n<r.length;n++)for(var a=e._fullData[n],o=0;o<3;o++){var i=bye(e,a,Aye[o]);if(i&&i.type!=="log"){var s=i._name,f=i._id.substr(1);if(f.substr(0,5)==="scene"){if(t[f]!==void 0)continue;s=f+"."+s}var l=s+".type";t[s]===void 0&&t[l]===void 0&&to.nestedProperty(e.layout,l).set(null)}}}});var QA=ie(Tn=>{"use strict";var ax=gn(),Tye=cn(),Mye=jw(),Jr=wr(),Xn=Jr.nestedProperty,jA=Y1(),no=IL(),ps=Dt(),cx=pu(),Bt=Za(),Gi=Rn(),Eye=m6(),Sye=is(),XA=zn(),Cye=pn(),kye=VA().initInteractions,Lye=ff(),Rye=bv().clearOutline,eq=Nc().dfltConfig,tx=GB(),qa=jB(),Bn=N3(),Fu=No(),Dye=Pa().AX_NAME_PATTERN,ZA=0,JB=5;function Fye(e,r,t,n){var a;if(e=Jr.getGraphDiv(e),jA.init(e),Jr.isPlainObject(r)){var o=r;r=o.data,t=o.layout,n=o.config,a=o.frames}var i=jA.triggerHandler(e,"plotly_beforeplot",[r,t,n]);if(i===!1)return Promise.reject();!r&&!t&&!Jr.isPlotDiv(e)&&Jr.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e);function s(){if(a)return Tn.addFrames(e,a)}tq(e,n),t||(t={}),ax.select(e).classed("js-plotly-plot",!0),XA.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var f=(e.data||[]).length===0&&Array.isArray(r);Array.isArray(r)&&(qa.cleanData(r),f?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),(!e.layout||f)&&(e.layout=qa.cleanLayout(t)),Bt.supplyDefaults(e);var l=e._fullLayout,u=l._has("cartesian");l._replotting=!0,(f||l._shouldCreateBgLayer)&&(r2e(e),l._shouldCreateBgLayer&&delete l._shouldCreateBgLayer),XA.initGradients(e),XA.initPatterns(e),f&&Gi.saveShowSpikeInitial(e);var c=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;c&&Bt.doCalcdata(e);for(var v=0;v<e.calcdata.length;v++)e.calcdata[v][0].trace=e._fullData[v];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){Jr.isHidden(e)||Bt.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):Jr.clearResponsive(e);var m=Jr.extendFlat({},l._size),x=0;function A(){for(var T=l._basePlotModules,g=0;g<T.length;g++)T[g].drawFramework&&T[g].drawFramework(e);!l._glcanvas&&l._has("gl")&&(l._glcanvas=l._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(C){return C.key}),l._glcanvas.enter().append("canvas").attr("class",function(C){return"gl-canvas gl-canvas-"+C.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var h=e._context.plotGlPixelRatio;if(l._glcanvas){l._glcanvas.attr("width",l.width*h).attr("height",l.height*h).style("width",l.width+"px").style("height",l.height+"px");var S=l._glcanvas.data()[0].regl;if(S&&(Math.floor(l.width*h)!==S._gl.drawingBufferWidth||Math.floor(l.height*h)!==S._gl.drawingBufferHeight)){var p="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(x)Jr.error(p);else return Jr.log(p+" Clearing graph and plotting again."),Bt.cleanPlot([],{},e._fullData,l),Bt.supplyDefaults(e),l=e._fullLayout,Bt.doCalcdata(e),x++,A()}}return l.modebar.orientation==="h"?l._modebardiv.style("height",null).style("width","100%"):l._modebardiv.style("width",null).style("height",l.height+"px"),Bt.previousPromises(e)}function w(){if(Bt.clearAutoMarginIds(e),Bn.drawMarginPushers(e),Gi.allowAutoMargin(e),e._fullLayout.title.text&&e._fullLayout.title.automargin&&Bt.allowAutoMargin(e,"title.automargin"),l._has("pie"))for(var T=e._fullData,g=0;g<T.length;g++){var h=T[g];h.type==="pie"&&h.automargin&&Bt.allowAutoMargin(e,"pie."+h.uid+".automargin")}return Bt.doAutoMargin(e),Bt.previousPromises(e)}function y(){if(Bt.didMarginChange(m,l._size))return Jr.syncOrAsync([w,Bn.layoutStyles],e)}function _(){if(!c){M();return}return Jr.syncOrAsync([ps.getComponentMethod("shapes","calcAutorange"),ps.getComponentMethod("annotations","calcAutorange"),M],e)}function M(){e._transitioning||(Bn.doAutoRangeAndConstraints(e),f&&Gi.saveRangeInitial(e),ps.getComponentMethod("rangeslider","calcAutorange")(e))}function b(){return Gi.draw(e,f?"":"redraw")}var E=[Bt.previousPromises,s,A,w,y];u&&E.push(_),E.push(Bn.layoutStyles),u&&E.push(b,function(g){var h=g._fullLayout._insideTickLabelsUpdaterange;if(h)return g._fullLayout._insideTickLabelsUpdaterange=void 0,Hp(g,h).then(function(){Gi.saveRangeInitial(g,!0)})}),E.push(Bn.drawData,Bn.finalDraw,kye,Bt.addLinks,Bt.rehover,Bt.redrag,Bt.reselect,Bt.doAutoMargin,Bt.previousPromises);var d=Jr.syncOrAsync(E,e);return(!d||!d.then)&&(d=Promise.resolve()),d.then(function(){return Vp(e),e})}function Vp(e){var r=e._fullLayout;r._redrawFromAutoMarginCount?r._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function Iye(e){return Jr.extendFlat(eq,e)}function rq(e,r){try{e._fullLayout._paper.style("background",r)}catch(t){Jr.error(t)}}function Pye(e,r){var t=Cye.combine(r,"white");rq(e,t)}function tq(e,r){if(!e._context){e._context=Jr.extendDeep({},eq);var t=ax.select("base");e._context._baseUrl=t.size()&&t.attr("href")?window.location.href.split("#")[0]:""}var n=e._context,a,o,i;if(r){for(o=Object.keys(r),a=0;a<o.length;a++)i=o[a],!(i==="editable"||i==="edits")&&i in n&&(i==="setBackground"&&r[i]==="opaque"?n[i]=Pye:n[i]=r[i]);r.plot3dPixelRatio&&!n.plotGlPixelRatio&&(n.plotGlPixelRatio=n.plot3dPixelRatio);var s=r.editable;if(s!==void 0)for(n.editable=s,o=Object.keys(n.edits),a=0;a<o.length;a++)n.edits[o[a]]=s;if(r.edits)for(o=Object.keys(r.edits),a=0;a<o.length;a++)i=o[a],i in n.edits&&(n.edits[i]=r.edits[i]);n._exportedPlot=r._exportedPlot}n.staticPlot&&(n.editable=!1,n.edits={},n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1),n.displayModeBar==="hover"&&!Mye&&(n.displayModeBar=!0),(n.setBackground==="transparent"||typeof n.setBackground!="function")&&(n.setBackground=rq),n._hasZeroHeight=n._hasZeroHeight||e.clientHeight===0,n._hasZeroWidth=n._hasZeroWidth||e.clientWidth===0;var f=n.scrollZoom,l=n._scrollZoom={};if(f===!0)l.cartesian=1,l.gl3d=1,l.geo=1,l.mapbox=1,l.map=1;else if(typeof f=="string"){var u=f.split("+");for(a=0;a<u.length;a++)l[u[a]]=1}else f!==!1&&(l.gl3d=1,l.geo=1,l.mapbox=1,l.map=1)}function Oye(e){if(e=Jr.getGraphDiv(e),!Jr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return qa.cleanData(e.data),qa.cleanLayout(e.layout),e.calcdata=void 0,Tn._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})}function Nye(e,r,t,n){return e=Jr.getGraphDiv(e),Bt.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),Bt.purge(e),Tn._doPlot(e,r,t,n)}function ix(e,r){var t=r+1,n=[],a,o;for(a=0;a<e.length;a++)o=e[a],o<0?n.push(t+o):n.push(o);return n}function ox(e,r,t){var n,a;for(n=0;n<r.length;n++){if(a=r[n],a!==parseInt(a,10))throw new Error("all values in "+t+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(t+" must be valid indices for gd.data.");if(r.indexOf(a,n+1)>-1||a>=0&&r.indexOf(-e.data.length+a)>-1||a<0&&r.indexOf(e.data.length+a)>-1)throw new Error("each index in "+t+" must be unique.")}}function nq(e,r,t){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(r)||(r=[r]),ox(e,r,"currentIndices"),typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&ox(e,t,"newIndices"),typeof t!="undefined"&&r.length!==t.length)throw new Error("current and new indices must be of equal length.")}function Bye(e,r,t){var n,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("traces must be defined.");for(Array.isArray(r)||(r=[r]),n=0;n<r.length;n++)if(a=r[n],typeof a!="object"||Array.isArray(a)||a===null)throw new Error("all values in traces array must be non-array objects");if(typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&t.length!==r.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function qye(e,r,t,n){var a=Jr.isPlainObject(n);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!Jr.isPlainObject(r))throw new Error("update must be a key:value object");if(typeof t=="undefined")throw new Error("indices must be an integer or array of integers");ox(e,t,"indices");for(var o in r){if(!Array.isArray(r[o])||r[o].length!==t.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in n)||!Array.isArray(n[o])||n[o].length!==r[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function zye(e,r,t,n){var a=Jr.isPlainObject(n),o=[],i,s,f,l,u;Array.isArray(t)||(t=[t]),t=ix(t,e.data.length-1);for(var c in r)for(var v=0;v<t.length;v++){if(i=e.data[t[v]],f=Xn(i,c),s=f.get(),l=r[c][v],!Jr.isArrayOrTypedArray(l))throw new Error("attribute: "+c+" index: "+v+" must be an array");if(!Jr.isArrayOrTypedArray(s))throw new Error("cannot extend missing or non-array attribute: "+c);if(s.constructor!==l.constructor)throw new Error("cannot extend array with an array of a different type: "+c);u=a?n[c][v]:n,Tye(u)||(u=-1),o.push({prop:f,target:s,insert:l,maxp:Math.floor(u)})}return o}function aq(e,r,t,n,a){qye(e,r,t,n);for(var o=zye(e,r,t,n),i={},s={},f=0;f<o.length;f++){var l=o[f].prop,u=o[f].maxp,c=a(o[f].target,o[f].insert,u);l.set(c[0]),Array.isArray(i[l.astr])||(i[l.astr]=[]),i[l.astr].push(c[1]),Array.isArray(s[l.astr])||(s[l.astr]=[]),s[l.astr].push(o[f].target.length)}return{update:i,maxPoints:s}}function iq(e,r){var t=new e.constructor(e.length+r.length);return t.set(e),t.set(r,e.length),t}function oq(e,r,t,n){e=Jr.getGraphDiv(e);function a(f,l,u){var c,v;if(Jr.isTypedArray(f))if(u<0){var m=new f.constructor(0),x=iq(f,l);u<0?(c=x,v=m):(c=m,v=x)}else if(c=new f.constructor(u),v=new f.constructor(f.length+l.length-u),u===l.length)c.set(l),v.set(f);else if(u<l.length){var A=l.length-u;c.set(l.subarray(A)),v.set(f),v.set(l.subarray(0,A),f.length)}else{var w=u-l.length,y=f.length-w;c.set(f.subarray(y)),c.set(l,w),v.set(f.subarray(0,y))}else c=f.concat(l),v=u>=0&&u<c.length?c.splice(0,c.length-u):[];return[c,v]}var o=aq(e,r,t,n,a),i=Tn.redraw(e),s=[e,o.update,t,o.maxPoints];return no.add(e,Tn.prependTraces,s,oq,arguments),i}function sq(e,r,t,n){e=Jr.getGraphDiv(e);function a(f,l,u){var c,v;if(Jr.isTypedArray(f))if(u<=0){var m=new f.constructor(0),x=iq(l,f);u<0?(c=x,v=m):(c=m,v=x)}else if(c=new f.constructor(u),v=new f.constructor(f.length+l.length-u),u===l.length)c.set(l),v.set(f);else if(u<l.length){var A=l.length-u;c.set(l.subarray(0,A)),v.set(l.subarray(A)),v.set(f,A)}else{var w=u-l.length;c.set(l),c.set(f.subarray(0,w),l.length),v.set(f.subarray(w))}else c=l.concat(f),v=u>=0&&u<c.length?c.splice(u,c.length):[];return[c,v]}var o=aq(e,r,t,n,a),i=Tn.redraw(e),s=[e,o.update,t,o.maxPoints];return no.add(e,Tn.extendTraces,s,sq,arguments),i}function lq(e,r,t){e=Jr.getGraphDiv(e);var n=[],a=Tn.deleteTraces,o=lq,i=[e,n],s=[e,r],f,l;for(Bye(e,r,t),Array.isArray(r)||(r=[r]),r=r.map(function(u){return Jr.extendFlat({},u)}),qa.cleanData(r),f=0;f<r.length;f++)e.data.push(r[f]);for(f=0;f<r.length;f++)n.push(-r.length+f);if(typeof t=="undefined")return l=Tn.redraw(e),no.add(e,a,i,o,s),l;Array.isArray(t)||(t=[t]);try{nq(e,n,t)}catch(u){throw e.data.splice(e.data.length-r.length,r.length),u}return no.startSequence(e),no.add(e,a,i,o,s),l=Tn.moveTraces(e,n,t),no.stopSequence(e),l}function fq(e,r){e=Jr.getGraphDiv(e);var t=[],n=Tn.addTraces,a=fq,o=[e,t,r],i=[e,r],s,f;if(typeof r=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),ox(e,r,"indices"),r=ix(r,e.data.length-1),r.sort(Jr.sorterDes),s=0;s<r.length;s+=1)f=e.data.splice(r[s],1)[0],t.push(f);var l=Tn.redraw(e);return no.add(e,n,o,a,i),l}function JA(e,r,t){e=Jr.getGraphDiv(e);var n=[],a=[],o=JA,i=JA,s=[e,t,r],f=[e,r,t],l;if(nq(e,r,t),r=Array.isArray(r)?r:[r],typeof t=="undefined")for(t=[],l=0;l<r.length;l++)t.push(-r.length+l);for(t=Array.isArray(t)?t:[t],r=ix(r,e.data.length-1),t=ix(t,e.data.length-1),l=0;l<e.data.length;l++)r.indexOf(l)===-1&&n.push(e.data[l]);for(l=0;l<r.length;l++)a.push({newIndex:t[l],trace:e.data[r[l]]});for(a.sort(function(c,v){return c.newIndex-v.newIndex}),l=0;l<a.length;l+=1)n.splice(a[l].newIndex,0,a[l].trace);e.data=n;var u=Tn.redraw(e);return no.add(e,o,s,i,f),u}function sx(e,r,t,n){e=Jr.getGraphDiv(e),qa.clearPromiseQueue(e);var a={};if(typeof r=="string")a[r]=t;else if(Jr.isPlainObject(r))a=Jr.extendFlat({},r),n===void 0&&(n=t);else return Jr.warn("Restyle fail.",r,t,n),Promise.reject();Object.keys(a).length&&(e.changed=!0);var o=qa.coerceTraceIndices(e,n),i=uq(e,a,o),s=i.flags;s.calc&&(e.calcdata=void 0),s.clearAxisTypes&&qa.clearAxisTypes(e,o,{});var f=[];s.fullReplot?f.push(Tn._doPlot):(f.push(Bt.previousPromises),Bt.supplyDefaults(e),s.markerSize&&(Bt.doCalcdata(e),hx(f)),s.style&&f.push(Bn.doTraceStyle),s.colorbars&&f.push(Bn.doColorBars),f.push(Vp)),f.push(Bt.rehover,Bt.redrag,Bt.reselect),no.add(e,sx,[e,i.undoit,i.traces],sx,[e,i.redoit,i.traces]);var l=Jr.syncOrAsync(f,e);return(!l||!l.then)&&(l=Promise.resolve()),l.then(function(){return e.emit("plotly_restyle",i.eventData),e})}function _f(e){return e===void 0?null:e}function nx(e,r){return r?function(t,n,a){var o=Xn(t,n),i=o.set;return o.set=function(s){var f=(a||"")+n;lx(f,o.get(),s,e),i(s)},o}:Xn}function lx(e,r,t,n){if(Array.isArray(r)||Array.isArray(t))for(var a=Array.isArray(r)?r:[],o=Array.isArray(t)?t:[],i=Math.max(a.length,o.length),s=0;s<i;s++)lx(e+"["+s+"]",a[s],o[s],n);else if(Jr.isPlainObject(r)||Jr.isPlainObject(t)){var f=Jr.isPlainObject(r)?r:{},l=Jr.isPlainObject(t)?t:{},u=Jr.extendFlat({},f,l);for(var c in u)lx(e+"."+c,f[c],l[c],n)}else n[e]===void 0&&(n[e]=_f(r))}function Uye(e,r,t){for(var n in t){var a=Xn(e,n);lx(n,a.get(),t[n],r)}}function uq(e,r,t){var n=e._fullLayout,a=e._fullData,o=e.data,i=n._guiEditing,s=nx(n._preGUI,i),f=Jr.extendDeepAll({},r),l;cq(r);var u=Fu.traceFlags(),c={},v={},m;function x(){return t.map(function(){})}function A(H){var re=Gi.id2name(H);m.indexOf(re)===-1&&m.push(re)}function w(H){return"LAYOUT"+H+".autorange"}function y(H){return"LAYOUT"+H+".range"}function _(H){for(var re=H;re<a.length;re++)if(a[re]._input===o[H])return a[re]}function M(H,re,V){if(Array.isArray(H)){H.forEach(function(_e){M(_e,re,V)});return}if(!(H in r||qa.hasParent(r,H))){var ne;if(H.substr(0,6)==="LAYOUT")ne=s(e.layout,H.replace("LAYOUT",""));else{var le=t[V],de=n._tracePreGUI[_(le)._fullInput.uid];ne=nx(de,i)(o[le],H)}H in v||(v[H]=x()),v[H][V]===void 0&&(v[H][V]=_f(ne.get())),re!==void 0&&ne.set(re)}}function b(H){return function(re){return a[re][H]}}function E(H){return function(re,V){return re===!1?a[t[V]][H]:null}}for(var d in r){if(qa.hasParent(r,d))throw new Error("cannot set "+d+" and a parent attribute simultaneously");var T=r[d],g,h,S,p,C,k;if((d==="autobinx"||d==="autobiny")&&(d=d.charAt(d.length-1)+"bins",Array.isArray(T)?T=T.map(E(d)):T===!1?T=t.map(b(d)):T=null),c[d]=T,d.substr(0,6)==="LAYOUT"){S=s(e.layout,d.replace("LAYOUT","")),v[d]=[_f(S.get())],S.set(Array.isArray(T)?T[0]:T),u.calc=!0;continue}for(v[d]=x(),l=0;l<t.length;l++){g=o[t[l]],h=_(t[l]);var D=n._tracePreGUI[h._fullInput.uid];if(S=nx(D,i)(g,d),p=S.get(),C=Array.isArray(T)?T[l%T.length]:T,C!==void 0){var P=S.parts[S.parts.length-1],O=d.substr(0,d.length-P.length-1),F=O?O+".":"",L=O?Xn(h,O).get():h;if(k=cx.getTraceValObject(h,S.parts),k&&k.impliedEdits&&C!==null)for(var I in k.impliedEdits)M(Jr.relativeAttr(d,I),k.impliedEdits[I],l);else if((P==="thicknessmode"||P==="lenmode")&&p!==C&&(C==="fraction"||C==="pixels")&&L){var q=n._size,z=L.orient,W=z==="top"||z==="bottom";if(P==="thicknessmode"){var $=W?q.h:q.w;M(F+"thickness",L.thickness*(C==="fraction"?1/$:$),l)}else{var j=W?q.w:q.h;M(F+"len",L.len*(C==="fraction"?1/j:j),l)}}else if(d==="type"&&(C==="pie"!=(p==="pie")||C==="funnelarea"!=(p==="funnelarea"))){var G="x",B="y";(C==="bar"||p==="bar")&&g.orientation==="h"&&(G="y",B="x"),Jr.swapAttrs(g,["?","?src"],"labels",G),Jr.swapAttrs(g,["d?","?0"],"label",G),Jr.swapAttrs(g,["?","?src"],"values",B),p==="pie"||p==="funnelarea"?(Xn(g,"marker.color").set(Xn(g,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):ps.traceIs(g,"cartesian")&&Xn(g,"marker.colors").set(Xn(g,"marker.color").get())}v[d][l]=_f(p);var X=["swapxy","swapxyaxes","orientation","orientationaxes"];if(X.indexOf(d)!==-1){if(d==="orientation"){S.set(C);var te=g.x&&!g.y?"h":"v";if((S.get()||te)===h.orientation)continue}else d==="orientationaxes"&&(g.orientation={v:"h",h:"v"}[h.orientation]);qa.swapXYData(g),u.calc=u.clearAxisTypes=!0}else Bt.dataArrayContainers.indexOf(S.parts[0])!==-1?(qa.manageArrayContainers(S,C,v),u.calc=!0):(k?k.arrayOk&&!ps.traceIs(h,"regl")&&(Jr.isArrayOrTypedArray(C)||Jr.isArrayOrTypedArray(p))?u.calc=!0:Fu.update(u,k):u.calc=!0,S.set(C))}}if(["swapxyaxes","orientationaxes"].indexOf(d)!==-1&&Gi.swap(e,t),d==="orientationaxes"){var J=Xn(e.layout,"hovermode"),ae=J.get();ae==="x"?J.set("y"):ae==="y"?J.set("x"):ae==="x unified"?J.set("y unified"):ae==="y unified"&&J.set("x unified")}if(["orientation","type"].indexOf(d)!==-1){for(m=[],l=0;l<t.length;l++){var ee=o[t[l]];ps.traceIs(ee,"cartesian")&&(A(ee.xaxis||"x"),A(ee.yaxis||"y"))}M(m.map(w),!0,0),M(m.map(y),[0,1],0)}}return(u.calc||u.plot)&&(u.fullReplot=!0),{flags:u,undoit:v,redoit:c,traces:t,eventData:Jr.extendDeepNoArrays([],[f,t])}}function cq(e){var r=Jr.counterRegex("axis",".title",!1,!1),t=/colorbar\.title$/,n=Object.keys(e),a,o,i;for(a=0;a<n.length;a++)o=n[a],i=e[o],(o==="title"||r.test(o)||t.test(o))&&(typeof i=="string"||typeof i=="number")?s(o,o.replace("title","title.text")):o.indexOf("titlefont")>-1&&o.indexOf("grouptitlefont")===-1?s(o,o.replace("titlefont","title.font")):o.indexOf("titleposition")>-1?s(o,o.replace("titleposition","title.position")):o.indexOf("titleside")>-1?s(o,o.replace("titleside","title.side")):o.indexOf("titleoffset")>-1&&s(o,o.replace("titleoffset","title.offset"));function s(f,l){e[l]=e[f],delete e[f]}}function Hp(e,r,t){e=Jr.getGraphDiv(e),qa.clearPromiseQueue(e);var n={};if(typeof r=="string")n[r]=t;else if(Jr.isPlainObject(r))n=Jr.extendFlat({},r);else return Jr.warn("Relayout fail.",r,t),Promise.reject();Object.keys(n).length&&(e.changed=!0);var a=gq(e,n),o=a.flags;o.calc&&(e.calcdata=void 0);var i=[Bt.previousPromises];o.layoutReplot?i.push(Bn.layoutReplot):Object.keys(n).length&&(hq(e,o,a)||Bt.supplyDefaults(e),o.legend&&i.push(Bn.doLegend),o.layoutstyle&&i.push(Bn.layoutStyles),o.axrange&&hx(i,a.rangesAltered),o.ticks&&i.push(Bn.doTicksRelayout),o.modebar&&i.push(Bn.doModeBar),o.camera&&i.push(Bn.doCamera),o.colorbars&&i.push(Bn.doColorBars),i.push(Vp)),i.push(Bt.rehover,Bt.redrag,Bt.reselect),no.add(e,Hp,[e,a.undoit],Hp,[e,a.redoit]);var s=Jr.syncOrAsync(i,e);return(!s||!s.then)&&(s=Promise.resolve(e)),s.then(function(){return e.emit("plotly_relayout",a.eventData),e})}function hq(e,r,t){var n=e._fullLayout;if(!r.axrange)return!1;for(var a in r)if(a!=="axrange"&&r[a])return!1;var o,i,s=function(m,x){return Jr.coerce(o,i,Sye,m,x)},f={};for(var l in t.rangesAltered){var u=Gi.id2name(l);if(o=e.layout[u],i=n[u],Eye(o,i,s,f),i._matchGroup){for(var c in i._matchGroup)if(c!==l){var v=n[Gi.id2name(c)];v.autorange=i.autorange,v.range=i.range.slice(),v._input.range=i.range.slice()}}}return!0}function hx(e,r){var t=r?function(n){var a=[],o=!0;for(var i in r){var s=Gi.getFromId(n,i);if(a.push(i),(s.ticklabelposition||"").indexOf("inside")!==-1&&s._anchorAxis&&a.push(s._anchorAxis._id),s._matchGroup)for(var f in s._matchGroup)r[f]||a.push(f)}return Gi.draw(n,a,{skipTitle:o})}:function(n){return Gi.draw(n,"redraw")};e.push(Rye,Bn.doAutoRangeAndConstraints,t,Bn.drawData,Bn.finalDraw)}var vq=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,dq=/^[xyz]axis[0-9]*\.autorange$/,pq=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function gq(e,r){var t=e.layout,n=e._fullLayout,a=n._guiEditing,o=nx(n._preGUI,a),i=Object.keys(r),s=Gi.list(e),f=Jr.extendDeepAll({},r),l={},u,c,v;for(cq(r),i=Object.keys(r),c=0;c<i.length;c++)if(i[c].indexOf("allaxes")===0){for(v=0;v<s.length;v++){var m=s[v]._id.substr(1),x=m.indexOf("scene")!==-1?m+".":"",A=i[c].replace("allaxes",x+s[v]._name);r[A]||(r[A]=r[i[c]])}delete r[i[c]]}var w=Fu.layoutFlags(),y={},_={};function M(de,_e){if(Array.isArray(de)){de.forEach(function(ve){M(ve,_e)});return}if(!(de in r||qa.hasParent(r,de))){var me=o(t,de);de in _||(_[de]=_f(me.get())),_e!==void 0&&me.set(_e)}}var b={},E;function d(de){var _e=Gi.name2id(de.split(".")[0]);return b[_e]=1,_e}for(var T in r){if(qa.hasParent(r,T))throw new Error("cannot set "+T+" and a parent attribute simultaneously");for(var g=o(t,T),h=r[T],S=g.parts.length,p=S-1;p>0&&typeof g.parts[p]!="string";)p--;var C=g.parts[p],k=g.parts[p-1]+"."+C,D=g.parts.slice(0,p).join("."),P=Xn(e.layout,D).get(),O=Xn(n,D).get(),F=g.get();if(h!==void 0){y[T]=h,_[T]=C==="reverse"?h:_f(F);var L=cx.getLayoutValObject(n,g.parts);if(L&&L.impliedEdits&&h!==null)for(var I in L.impliedEdits)M(Jr.relativeAttr(T,I),L.impliedEdits[I]);if(["width","height"].indexOf(T)!==-1)if(h){M("autosize",null);var q=T==="height"?"width":"height";M(q,n[q])}else n[T]=e._initialAutoSize[T];else if(T==="autosize")M("width",h?null:n.width),M("height",h?null:n.height);else if(k.match(vq))d(k),Xn(n,D+"._inputRange").set(null);else if(k.match(dq)){d(k),Xn(n,D+"._inputRange").set(null);var z=Xn(n,D).get();z._inputDomain&&(z._input.domain=z._inputDomain.slice())}else k.match(pq)&&Xn(n,D+"._inputDomain").set(null);if(C==="type"){E=P;var W=O.type==="linear"&&h==="log",$=O.type==="log"&&h==="linear";if(W||$){if(!E||!E.range)M(D+".autorange",!0);else if(O.autorange)W&&(E.range=E.range[1]>E.range[0]?[1,2]:[2,1]);else{var j=E.range[0],G=E.range[1];W?(j<=0&&G<=0&&M(D+".autorange",!0),j<=0?j=G/1e6:G<=0&&(G=j/1e6),M(D+".range[0]",Math.log(j)/Math.LN10),M(D+".range[1]",Math.log(G)/Math.LN10)):(M(D+".range[0]",Math.pow(10,j)),M(D+".range[1]",Math.pow(10,G)))}Array.isArray(n._subplots.polar)&&n._subplots.polar.length&&n[g.parts[0]]&&g.parts[1]==="radialaxis"&&delete n[g.parts[0]]._subplot.viewInitial["radialaxis.range"],ps.getComponentMethod("annotations","convertCoords")(e,O,h,M),ps.getComponentMethod("images","convertCoords")(e,O,h,M)}else M(D+".autorange",!0),M(D+".range",null);Xn(n,D+"._inputRange").set(null)}else if(C.match(Dye)){var B=Xn(n,T).get(),X=(h||{}).type;(!X||X==="-")&&(X="linear"),ps.getComponentMethod("annotations","convertCoords")(e,B,X,M),ps.getComponentMethod("images","convertCoords")(e,B,X,M)}var te=tx.containerArrayMatch(T);if(te){u=te.array,c=te.index;var J=te.property,ae=L||{editType:"calc"};c!==""&&J===""&&(tx.isAddVal(h)?_[T]=null:tx.isRemoveVal(h)?_[T]=(Xn(t,u).get()||[])[c]:Jr.warn("unrecognized full object value",r)),Fu.update(w,ae),l[u]||(l[u]={});var ee=l[u][c];ee||(ee=l[u][c]={}),ee[J]=h,delete r[T]}else C==="reverse"?(P.range?P.range.reverse():(M(D+".autorange",!0),P.range=[1,0]),O.autorange?w.calc=!0:w.plot=!0):(T==="dragmode"&&(h===!1&&F!==!1||h!==!1&&F===!1)||n._has("scatter-like")&&n._has("regl")&&T==="dragmode"&&(h==="lasso"||h==="select")&&!(F==="lasso"||F==="select")||n._has("gl2d")?w.plot=!0:L?Fu.update(w,L):w.calc=!0,g.set(h))}}for(u in l){var H=tx.applyContainerArrayChanges(e,o(t,u),l[u],w,o);H||(w.plot=!0)}for(var re in b){E=Gi.getFromId(e,re);var V=E&&E._constraintGroup;if(V){w.calc=!0;for(var ne in V)b[ne]||(Gi.getFromId(e,ne)._constraintShrinkable=!0)}}(yq(e)||r.height||r.width)&&(w.plot=!0);var le=n.shapes;for(c=0;c<le.length;c++)if(le[c].showlegend){w.calc=!0;break}return(w.plot||w.calc)&&(w.layoutReplot=!0),{flags:w,rangesAltered:b,undoit:_,redoit:y,eventData:f}}function yq(e){var r=e._fullLayout,t=r.width,n=r.height;return e.layout.autosize&&Bt.plotAutoSize(e,e.layout,r),r.width!==t||r.height!==n}function fx(e,r,t,n){e=Jr.getGraphDiv(e),qa.clearPromiseQueue(e),Jr.isPlainObject(r)||(r={}),Jr.isPlainObject(t)||(t={}),Object.keys(r).length&&(e.changed=!0),Object.keys(t).length&&(e.changed=!0);var a=qa.coerceTraceIndices(e,n),o=uq(e,Jr.extendFlat({},r),a),i=o.flags,s=gq(e,Jr.extendFlat({},t)),f=s.flags;(i.calc||f.calc)&&(e.calcdata=void 0),i.clearAxisTypes&&qa.clearAxisTypes(e,a,t);var l=[];f.layoutReplot?l.push(Bn.layoutReplot):i.fullReplot?l.push(Tn._doPlot):(l.push(Bt.previousPromises),hq(e,f,s)||Bt.supplyDefaults(e),i.style&&l.push(Bn.doTraceStyle),(i.colorbars||f.colorbars)&&l.push(Bn.doColorBars),f.legend&&l.push(Bn.doLegend),f.layoutstyle&&l.push(Bn.layoutStyles),f.axrange&&hx(l,s.rangesAltered),f.ticks&&l.push(Bn.doTicksRelayout),f.modebar&&l.push(Bn.doModeBar),f.camera&&l.push(Bn.doCamera),l.push(Vp)),l.push(Bt.rehover,Bt.redrag,Bt.reselect),no.add(e,fx,[e,o.undoit,s.undoit,o.traces],fx,[e,o.redoit,s.redoit,o.traces]);var u=Jr.syncOrAsync(l,e);return(!u||!u.then)&&(u=Promise.resolve(e)),u.then(function(){return e.emit("plotly_update",{data:o.eventData,layout:s.eventData}),e})}function KA(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var Gye=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Hye=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function $B(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=e.match(n.pattern);if(a){var o=a[1]||"";return{head:o,tail:e.substr(o.length+1),attr:n.attr}}}}function KB(e,r){var t=Xn(r,e).get();if(t!==void 0)return t;var n=e.split(".");for(n.pop();n.length>1;)if(n.pop(),t=Xn(r,n.join(".")+".uirevision").get(),t!==void 0)return t;return r.uirevision}function Vye(e,r){for(var t=0;t<r.length;t++)if(r[t]._fullInput.uid===e)return t;return-1}function Yye(e,r,t){for(var n=0;n<r.length;n++)if(r[n].uid===e)return n;return!r[t]||r[t].uid?-1:t}function QB(e,r){var t=Jr.isPlainObject(e),n=Array.isArray(e);return t||n?(t&&Jr.isPlainObject(r)||n&&Array.isArray(r))&&JSON.stringify(e)===JSON.stringify(r):e===r}function Wye(e,r,t,n){var a=n._preGUI,o,i,s,f,l,u,c,v,m,x,A=[],w={},y={};for(o in a){if(l=$B(o,Gye),l){if(m=l.head,x=l.tail,i=l.attr||m+".uirevision",s=Xn(n,i).get(),f=s&&KB(i,r),f&&f===s){if(u=a[o],u===null&&(u=void 0),c=Xn(r,o),v=c.get(),QB(v,u)){v===void 0&&x==="autorange"&&A.push(m),c.set(_f(Xn(n,o).get()));continue}else if(x==="autorange"||x.substr(0,6)==="range["){var _=a[m+".range[0]"],M=a[m+".range[1]"],b=a[m+".autorange"];if(b||b===null&&_===null&&M===null){if(!(m in w)){var E=Xn(r,m).get();w[m]=E&&(E.autorange||E.autorange!==!1&&(!E.range||E.range.length!==2))}if(w[m]){c.set(_f(Xn(n,o).get()));continue}}}}}else Jr.warn("unrecognized GUI edit: "+o);delete a[o],l&&l.tail.substr(0,6)==="range["&&(y[l.head]=1)}for(var d=0;d<A.length;d++){var T=A[d];if(y[T]){var g=Xn(r,T).get();g&&delete g.autorange}}var h=n._tracePreGUI;for(var S in h){var p=h[S],C=null,k;for(o in p){if(!C){var D=Vye(S,t);if(D<0){delete h[S];break}var P=t[D];k=P._fullInput;var O=Yye(S,e,k.index);if(O<0){delete h[S];break}C=e[O]}if(l=$B(o,Hye),l){if(l.attr?(s=Xn(n,l.attr).get(),f=s&&KB(l.attr,r)):(s=k.uirevision,f=C.uirevision,f===void 0&&(f=r.uirevision)),f&&f===s&&(u=p[o],u===null&&(u=void 0),c=Xn(C,o),v=c.get(),QB(v,u))){c.set(_f(Xn(k,o).get()));continue}}else Jr.warn("unrecognized GUI edit: "+o+" in trace uid "+S);delete p[o]}}}function Xye(e,r,t,n){var a,o;function i(){return Tn.addFrames(e,a)}e=Jr.getGraphDiv(e),qa.clearPromiseQueue(e);var s=e._fullData,f=e._fullLayout;if(!Jr.isPlotDiv(e)||!s||!f)o=Tn.newPlot(e,r,t,n);else{if(Jr.isPlainObject(r)){var l=r;r=l.data,t=l.layout,n=l.config,a=l.frames}var u=!1;if(n){var c=Jr.extendDeep({},e._context);e._context=void 0,tq(e,n),u=$A(c,e._context)}e.data=r||[],qa.cleanData(e.data),e.layout=t||{},qa.cleanLayout(e.layout),Wye(e.data,e.layout,s,f),Bt.supplyDefaults(e,{skipUpdateCalc:!0});var v=e._fullData,m=e._fullLayout,x=m.datarevision===void 0,A=m.transition,w=jye(e,f,m,x,A),y=w.newDataRevision,_=Zye(e,s,v,x,A,y);if(yq(e)&&(w.layoutReplot=!0),_.calc||w.calc){e.calcdata=void 0;for(var M=Object.getOwnPropertyNames(m),b=0;b<M.length;b++){var E=M[b],d=E.substring(0,5);if(d==="xaxis"||d==="yaxis"){var T=m[E]._emptyCategories;T&&T()}}}else Bt.supplyDefaultsUpdateCalc(e.calcdata,v);var g=[];if(a&&(e._transitionData={},Bt.createTransitionData(e),g.push(i)),m.transition&&!u&&(_.anim||w.anim))w.ticks&&g.push(Bn.doTicksRelayout),Bt.doCalcdata(e),Bn.doAutoRangeAndConstraints(e),g.push(function(){return Bt.transitionFromReact(e,_,w,f)});else if(_.fullReplot||w.layoutReplot||u)e._fullLayout._skipDefaults=!0,g.push(Tn._doPlot);else{for(var h in w.arrays){var S=w.arrays[h];if(S.length){var p=ps.getComponentMethod(h,"drawOne");if(p!==Jr.noop)for(var C=0;C<S.length;C++)p(e,S[C]);else{var k=ps.getComponentMethod(h,"draw");if(k===Jr.noop)throw new Error("cannot draw components: "+h);k(e)}}}g.push(Bt.previousPromises),_.style&&g.push(Bn.doTraceStyle),(_.colorbars||w.colorbars)&&g.push(Bn.doColorBars),w.legend&&g.push(Bn.doLegend),w.layoutstyle&&g.push(Bn.layoutStyles),w.axrange&&hx(g),w.ticks&&g.push(Bn.doTicksRelayout),w.modebar&&g.push(Bn.doModeBar),w.camera&&g.push(Bn.doCamera),g.push(Vp)}g.push(Bt.rehover,Bt.redrag,Bt.reselect),o=Jr.syncOrAsync(g,e),(!o||!o.then)&&(o=Promise.resolve(e))}return o.then(function(){return e.emit("plotly_react",{data:r,layout:t}),e})}function Zye(e,r,t,n,a,o){var i=r.length===t.length;if(!a&&!i)return{fullReplot:!0,calc:!0};var s=Fu.traceFlags();s.arrays={},s.nChanges=0,s.nChangesAnim=0;var f,l;function u(m){var x=cx.getTraceValObject(l,m);return!l._module.animatable&&x.anim&&(x.anim=!1),x}var c={getValObject:u,flags:s,immutable:n,transition:a,newDataRevision:o,gd:e},v={};for(f=0;f<r.length;f++)if(t[f]){if(l=t[f]._fullInput,Bt.hasMakesDataTransform(l)&&(l=t[f]),v[l.uid])continue;v[l.uid]=1,ux(r[f]._fullInput,l,[],c)}return(s.calc||s.plot)&&(s.fullReplot=!0),a&&s.nChanges&&s.nChangesAnim&&(s.anim=s.nChanges===s.nChangesAnim&&i?"all":"some"),s}function jye(e,r,t,n,a){var o=Fu.layoutFlags();o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0;function i(f){return cx.getLayoutValObject(t,f)}var s={getValObject:i,flags:o,immutable:n,transition:a,gd:e};return ux(r,t,[],s),(o.plot||o.calc)&&(o.layoutReplot=!0),a&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}function ux(e,r,t,n){var a,o,i,s=n.getValObject,f=n.flags,l=n.immutable,u=n.inArray,c=n.arrayIndex;function v(){var D=a.editType;if(u&&D.indexOf("arraydraw")!==-1){Jr.pushUnique(f.arrays[u],c);return}Fu.update(f,a),D!=="none"&&f.nChanges++,n.transition&&a.anim&&f.nChangesAnim++,(vq.test(i)||dq.test(i))&&(f.rangesAltered[t[0]]=1),pq.test(i)&&Xn(r,"_inputDomain").set(null),o==="datarevision"&&(f.newDataRevision=1)}function m(D){return D.valType==="data_array"||D.arrayOk}for(o in e){if(f.calc&&!n.transition)return;var x=e[o],A=r[o],w=t.concat(o);if(i=w.join("."),!(o.charAt(0)==="_"||typeof x=="function"||x===A)){if((o==="tick0"||o==="dtick")&&t[0]!=="geo"){var y=r.tickmode;if(y==="auto"||y==="array"||!y)continue}if(!(o==="range"&&r.autorange)&&!((o==="zmin"||o==="zmax")&&r.type==="contourcarpet")&&(a=s(w),!!a&&!(a._compareAsJSON&&JSON.stringify(x)===JSON.stringify(A)))){var _=a.valType,M,b=m(a),E=Array.isArray(x),d=Array.isArray(A);if(E&&d){var T="_input_"+o,g=e[T],h=r[T];if(Array.isArray(g)&&g===h)continue}if(A===void 0)b&&E?f.calc=!0:v();else if(a._isLinkedToArray){var S=[],p=!1;u||(f.arrays[o]=S);var C=Math.min(x.length,A.length),k=Math.max(x.length,A.length);if(C!==k)if(a.editType==="arraydraw")p=!0;else{v();continue}for(M=0;M<C;M++)ux(x[M],A[M],w.concat(M),Jr.extendFlat({inArray:o,arrayIndex:M},n));if(p)for(M=C;M<k;M++)S.push(M)}else!_&&Jr.isPlainObject(x)?ux(x,A,w,n):b?E&&d?(l&&(f.calc=!0),(l||n.newDataRevision)&&v()):E!==d?f.calc=!0:v():E&&d?(x.length!==A.length||String(x)!==String(A))&&v():v()}}}for(o in r)if(!(o in e||o.charAt(0)==="_"||typeof r[o]=="function"))if(a=s(t.concat(o)),m(a)&&Array.isArray(r[o])){f.calc=!0;return}else v()}function $A(e,r){var t;for(t in e)if(t.charAt(0)!=="_"){var n=e[t],a=r[t];if(n!==a)if(Jr.isPlainObject(n)&&Jr.isPlainObject(a)){if($A(n,a))return!0}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!0;for(var o=0;o<n.length;o++)if(n[o]!==a[o])if(Jr.isPlainObject(n[o])&&Jr.isPlainObject(a[o])){if($A(n[o],a[o]))return!0}else return!0}else return!0}}function Jye(e,r,t){if(e=Jr.getGraphDiv(e),!Jr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=e._transitionData;n._frameQueue||(n._frameQueue=[]),t=Bt.supplyAnimationDefaults(t);var a=t.transition,o=t.frame;n._frameWaitingCnt===void 0&&(n._frameWaitingCnt=0);function i(l){return Array.isArray(a)?l>=a.length?a[0]:a[l]:a}function s(l){return Array.isArray(o)?l>=o.length?o[0]:o[l]:o}function f(l,u){var c=0;return function(){if(l&&++c===u)return l()}}return new Promise(function(l,u){function c(){if(n._frameQueue.length!==0){for(;n._frameQueue.length;){var C=n._frameQueue.pop();C.onInterrupt&&C.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function v(C){if(C.length!==0){for(var k=0;k<C.length;k++){var D;C[k].type==="byname"?D=Bt.computeFrame(e,C[k].name):D=C[k].data;var P=s(k),O=i(k);O.duration=Math.min(O.duration,P.duration);var F={frame:D,name:C[k].name,frameOpts:P,transitionOpts:O};k===C.length-1&&(F.onComplete=f(l,2),F.onInterrupt=u),n._frameQueue.push(F)}t.mode==="immediate"&&(n._lastFrameAt=-1/0),n._animationRaf||A()}}function m(){e.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function x(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var C=n._currentFrame=n._frameQueue.shift();if(C){var k=C.name?C.name.toString():null;e._fullLayout._currentFrame=k,n._lastFrameAt=Date.now(),n._timeToNext=C.frameOpts.duration,Bt.transition(e,C.frame.data,C.frame.layout,qa.coerceTraceIndices(e,C.frame.traces),C.frameOpts,C.transitionOpts).then(function(){C.onComplete&&C.onComplete()}),e.emit("plotly_animatingframe",{name:k,frame:C.frame,animation:{frame:C.frameOpts,transition:C.transitionOpts}})}else m()}function A(){e.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var C=function(){n._animationRaf=window.requestAnimationFrame(C),Date.now()-n._lastFrameAt>n._timeToNext&&x()};C()}var w=0;function y(C){return Array.isArray(a)?w>=a.length?C.transitionOpts=a[w]:C.transitionOpts=a[0]:C.transitionOpts=a,w++,C}var _,M,b=[],E=r==null,d=Array.isArray(r),T=!E&&!d&&Jr.isPlainObject(r);if(T)b.push({type:"object",data:y(Jr.extendFlat({},r))});else if(E||["string","number"].indexOf(typeof r)!==-1)for(_=0;_<n._frames.length;_++)M=n._frames[_],M&&(E||String(M.group)===String(r))&&b.push({type:"byname",name:String(M.name),data:y({name:M.name})});else if(d)for(_=0;_<r.length;_++){var g=r[_];["number","string"].indexOf(typeof g)!==-1?(g=String(g),b.push({type:"byname",name:g,data:y({name:g})})):Jr.isPlainObject(g)&&b.push({type:"object",data:y(Jr.extendFlat({},g))})}for(_=0;_<b.length;_++)if(M=b[_],M.type==="byname"&&!n._frameHash[M.data.name]){Jr.warn('animate failure: frame not found: "'+M.data.name+'"'),u();return}["next","immediate"].indexOf(t.mode)!==-1&&c(),t.direction==="reverse"&&b.reverse();var h=e._fullLayout._currentFrame;if(h&&t.fromcurrent){var S=-1;for(_=0;_<b.length;_++)if(M=b[_],M.type==="byname"&&M.name===h){S=_;break}if(S>0&&S<b.length-1){var p=[];for(_=0;_<b.length;_++)M=b[_],(b[_].type!=="byname"||_>S)&&p.push(M);b=p}}b.length>0?v(b):(e.emit("plotly_animated"),l())})}function $ye(e,r,t){if(e=Jr.getGraphDiv(e),r==null)return Promise.resolve();if(!Jr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,a,o,i,s=e._transitionData._frames,f=e._transitionData._frameHash;if(!Array.isArray(r))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+r);var l=s.length+r.length*2,u=[],c={};for(n=r.length-1;n>=0;n--)if(Jr.isPlainObject(r[n])){var v=r[n].name,m=(f[v]||c[v]||{}).name,x=r[n].name,A=f[m]||c[m];m&&x&&typeof x=="number"&&A&&ZA<JB&&(ZA++,Jr.warn('addFrames: overwriting frame "'+(f[m]||c[m]).name+'" with a frame whose name of type "number" also equates to "'+m+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),ZA===JB&&Jr.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),c[v]={name:v},u.push({frame:Bt.supplyFrameDefaults(r[n]),index:t&&t[n]!==void 0&&t[n]!==null?t[n]:l+n})}u.sort(function(T,g){return T.index>g.index?-1:T.index<g.index?1:0});var w=[],y=[],_=s.length;for(n=u.length-1;n>=0;n--){if(a=u[n].frame,typeof a.name=="number"&&Jr.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;f[a.name="frame "+e._transitionData._counter++];);if(f[a.name]){for(o=0;o<s.length&&(s[o]||{}).name!==a.name;o++);w.push({type:"replace",index:o,value:a}),y.unshift({type:"replace",index:o,value:s[o]})}else i=Math.max(0,Math.min(u[n].index,_)),w.push({type:"insert",index:i,value:a}),y.unshift({type:"delete",index:i}),_++}var M=Bt.modifyFrames,b=Bt.modifyFrames,E=[e,y],d=[e,w];return no&&no.add(e,M,E,b,d),Bt.modifyFrames(e,w)}function Kye(e,r){if(e=Jr.getGraphDiv(e),!Jr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var t,n,a=e._transitionData._frames,o=[],i=[];if(!r)for(r=[],t=0;t<a.length;t++)r.push(t);for(r=r.slice(),r.sort(),t=r.length-1;t>=0;t--)n=r[t],o.push({type:"delete",index:n}),i.unshift({type:"insert",index:n,value:a[n]});var s=Bt.modifyFrames,f=Bt.modifyFrames,l=[e,i],u=[e,o];return no&&no.add(e,s,l,f,u),Bt.modifyFrames(e,o)}function Qye(e){e=Jr.getGraphDiv(e);var r=e._fullLayout||{},t=e._fullData||[];return Bt.cleanPlot([],{},t,r),Bt.purge(e),jA.purge(e),r._container&&r._container.remove(),delete e._context,e}function e2e(e){var r=e._fullLayout,t=e.getBoundingClientRect();if(!Jr.equalDomRects(t,r._lastBBox)){var n=r._invTransform=Jr.inverseTransformMatrix(Jr.getFullTransformMatrix(e));r._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),r._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),r._lastBBox=t}}function r2e(e){var r=ax.select(e),t=e._fullLayout;if(t._calcInverseTransform=e2e,t._calcInverseTransform(e),t._container=r.selectAll(".plot-container").data([0]),t._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),t._paperdiv=t._container.selectAll(".svg-container").data([0]),t._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),t._glcontainer=t._paperdiv.selectAll(".gl-container").data([{}]),t._glcontainer.enter().append("div").classed("gl-container",!0),t._paperdiv.selectAll(".main-svg").remove(),t._paperdiv.select(".modebar-container").remove(),t._paper=t._paperdiv.insert("svg",":first-child").classed("main-svg",!0),t._toppaper=t._paperdiv.append("svg").classed("main-svg",!0),t._modebardiv=t._paperdiv.append("div"),delete t._modeBar,t._hoverpaper=t._paperdiv.append("svg").classed("main-svg",!0),!t._uid){var n={};ax.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),t._uid=Jr.randstr(n)}t._paperdiv.selectAll(".main-svg").attr(Lye.svgAttrs),t._defs=t._paper.append("defs").attr("id","defs-"+t._uid),t._clips=t._defs.append("g").classed("clips",!0),t._topdefs=t._toppaper.append("defs").attr("id","topdefs-"+t._uid),t._topclips=t._topdefs.append("g").classed("clips",!0),t._bgLayer=t._paper.append("g").classed("bglayer",!0),t._draggers=t._paper.append("g").classed("draglayer",!0);var a=t._paper.append("g").classed("layer-below",!0);t._imageLowerLayer=a.append("g").classed("imagelayer",!0),t._shapeLowerLayer=a.append("g").classed("shapelayer",!0),t._cartesianlayer=t._paper.append("g").classed("cartesianlayer",!0),t._polarlayer=t._paper.append("g").classed("polarlayer",!0),t._smithlayer=t._paper.append("g").classed("smithlayer",!0),t._ternarylayer=t._paper.append("g").classed("ternarylayer",!0),t._geolayer=t._paper.append("g").classed("geolayer",!0),t._funnelarealayer=t._paper.append("g").classed("funnelarealayer",!0),t._pielayer=t._paper.append("g").classed("pielayer",!0),t._iciclelayer=t._paper.append("g").classed("iciclelayer",!0),t._treemaplayer=t._paper.append("g").classed("treemaplayer",!0),t._sunburstlayer=t._paper.append("g").classed("sunburstlayer",!0),t._indicatorlayer=t._toppaper.append("g").classed("indicatorlayer",!0),t._glimages=t._paper.append("g").classed("glimages",!0);var o=t._toppaper.append("g").classed("layer-above",!0);t._imageUpperLayer=o.append("g").classed("imagelayer",!0),t._shapeUpperLayer=o.append("g").classed("shapelayer",!0),t._selectionLayer=t._toppaper.append("g").classed("selectionlayer",!0),t._infolayer=t._toppaper.append("g").classed("infolayer",!0),t._menulayer=t._toppaper.append("g").classed("menulayer",!0),t._zoomlayer=t._toppaper.append("g").classed("zoomlayer",!0),t._hoverlayer=t._hoverpaper.append("g").classed("hoverlayer",!0),t._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}Tn.animate=Jye;Tn.addFrames=$ye;Tn.deleteFrames=Kye;Tn.addTraces=lq;Tn.deleteTraces=fq;Tn.extendTraces=oq;Tn.moveTraces=JA;Tn.prependTraces=sq;Tn.newPlot=Nye;Tn._doPlot=Fye;Tn.purge=Qye;Tn.react=Xye;Tn.redraw=Oye;Tn.relayout=Hp;Tn.restyle=sx;Tn.setPlotConfig=Iye;Tn.update=fx;Tn._guiRelayout=KA(Hp);Tn._guiRestyle=KA(sx);Tn._guiUpdate=KA(fx);Tn._storeDirectGUIEdit=Uye});var p0=ie(Gs=>{"use strict";var t2e=Dt();Gs.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox")||e._has("map"))?500:0};Gs.getRedrawFunc=function(e){return function(){t2e.getComponentMethod("colorbar","draw")(e)}};Gs.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};Gs.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var mq=window.URL||window.webkitURL;Gs.createObjectURL=function(e){return mq.createObjectURL(e)};Gs.revokeObjectURL=function(e){return mq.revokeObjectURL(e)};Gs.createBlob=function(e,r){if(r==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var t=n2e(window.atob(e));return new window.Blob([t],{type:"image/"+r})};Gs.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function n2e(e){for(var r=e.length,t=new ArrayBuffer(r),n=new Uint8Array(t),a=0;a<r;a++)n[a]=e.charCodeAt(a);return t}Gs.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/;Gs.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."});var dx=ie((FPe,xq)=>{"use strict";var rT=gn(),a2e=wr(),i2e=zn(),o2e=pn(),vx=ff(),eT=/"/g,Yp="TOBESTRIPPED",s2e=new RegExp('("'+Yp+")|("+Yp+'")',"g");function l2e(e){var r=rT.select("body").append("div").style({display:"none"}).html(""),t=e.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":r.html(n).text()});return r.remove(),t}function f2e(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}xq.exports=function(r,t,n){var a=r._fullLayout,o=a._paper,i=a._toppaper,s=a.width,f=a.height,l;o.insert("rect",":first-child").call(i2e.setRect,0,0,s,f).call(o2e.fill,a.paper_bgcolor);var u=a._basePlotModules||[];for(l=0;l<u.length;l++){var c=u[l];c.toSVG&&c.toSVG(r)}if(i){var v=i.node().childNodes,m=Array.prototype.slice.call(v);for(l=0;l<m.length;l++){var x=m[l];x.childNodes.length&&o.node().appendChild(x)}}a._draggers&&a._draggers.remove(),o.node().style.background="",o.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var w=rT.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){w.remove();return}else w.style({visibility:null,display:null});var y=this.style.fontFamily;y&&y.indexOf('"')!==-1&&w.style("font-family",y.replace(eT,Yp));var _=this.style.fontWeight;_&&(_==="normal"||_==="400")&&w.style("font-weight",void 0);var M=this.style.fontStyle;M&&M==="normal"&&w.style("font-style",void 0);var b=this.style.fontVariant;b&&b==="normal"&&w.style("font-variant",void 0)}),o.selectAll(".gradient_filled,.pattern_filled").each(function(){var w=rT.select(this),y=this.style.fill;y&&y.indexOf("url(")!==-1&&w.style("fill",y.replace(eT,Yp));var _=this.style.stroke;_&&_.indexOf("url(")!==-1&&w.style("stroke",_.replace(eT,Yp))}),(t==="pdf"||t==="eps")&&o.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),o.node().setAttributeNS(vx.xmlns,"xmlns",vx.svg),o.node().setAttributeNS(vx.xmlns,"xmlns:xlink",vx.xlink),t==="svg"&&n&&(o.attr("width",n*s),o.attr("height",n*f),o.attr("viewBox","0 0 "+s+" "+f));var A=new window.XMLSerializer().serializeToString(o.node());return A=l2e(A),A=f2e(A),A=A.replace(s2e,"'"),a2e.isIE()&&(A=A.replace(/"/gi,"'"),A=A.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),A=A.replace(/(\\')/gi,'"')),A}});var px=ie((IPe,_q)=>{"use strict";var bq=wr(),u2e=um().EventEmitter,wv=p0();function c2e(e){var r=e.emitter||new u2e,t=new Promise(function(n,a){var o=window.Image,i=e.svg,s=e.format||"png";if(bq.isIE()&&s!=="svg"){var f=new Error(wv.MSG_IE_BAD_FORMAT);return a(f),e.promise?t:r.emit("error",f)}var l=e.canvas,u=e.scale||1,c=e.width||300,v=e.height||150,m=u*c,x=u*v,A=l.getContext("2d",{willReadFrequently:!0}),w=new o,y,_;s==="svg"||bq.isSafari()?_=wv.encodeSVG(i):(y=wv.createBlob(i,"svg"),_=wv.createObjectURL(y)),l.width=m,l.height=x,w.onload=function(){var M;switch(y=null,wv.revokeObjectURL(_),s!=="svg"&&A.drawImage(w,0,0,m,x),s){case"jpeg":M=l.toDataURL("image/jpeg");break;case"png":M=l.toDataURL("image/png");break;case"webp":M=l.toDataURL("image/webp");break;case"svg":M=_;break;default:var b="Image format is not jpeg, png, svg or webp.";if(a(new Error(b)),!e.promise)return r.emit("error",b)}n(M),e.promise||r.emit("success",M)},w.onerror=function(M){if(y=null,wv.revokeObjectURL(_),a(M),!e.promise)return r.emit("error",M)},w.src=_});return e.promise?t:r}_q.exports=c2e});var nT=ie((PPe,Tq)=>{"use strict";var wq=cn(),Aq=QA(),h2e=Za(),Ll=wr(),Wp=p0(),v2e=dx(),d2e=px(),p2e=_2().version,tT={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function g2e(e,r){r=r||{};var t,n,a,o;Ll.isPlainObject(e)?(t=e.data||[],n=e.layout||{},a=e.config||{},o={}):(e=Ll.getGraphDiv(e),t=Ll.extendDeep([],e.data),n=Ll.extendDeep({},e.layout),a=e._context,o=e._fullLayout||{});function i(d){return!(d in r)||Ll.validate(r[d],tT[d])}if(!i("width")&&r.width!==null||!i("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!i("format"))throw new Error("Export format is not "+Ll.join2(tT.format.values,", "," or ")+".");var s={};function f(d,T){return Ll.coerce(r,s,tT,d,T)}var l=f("format"),u=f("width"),c=f("height"),v=f("scale"),m=f("setBackground"),x=f("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var w=Ll.extendFlat({},n);u?w.width=u:r.width===null&&wq(o.width)&&(w.width=o.width),c?w.height=c:r.height===null&&wq(o.height)&&(w.height=o.height);var y=Ll.extendFlat({},a,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),_=Wp.getRedrawFunc(A);function M(){return new Promise(function(d){setTimeout(d,Wp.getDelay(A._fullLayout))})}function b(){return new Promise(function(d,T){var g=v2e(A,l,v),h=A._fullLayout.width,S=A._fullLayout.height;function p(){Aq.purge(A),document.body.removeChild(A)}if(l==="full-json"){var C=h2e.graphJson(A,!1,"keepdata","object",!0,!0);return C.version=p2e,C=JSON.stringify(C),p(),d(x?C:Wp.encodeJSON(C))}if(p(),l==="svg")return d(x?g:Wp.encodeSVG(g));var k=document.createElement("canvas");k.id=Ll.randstr(),d2e({format:l,width:h,height:S,scale:v,canvas:k,svg:g,promise:!0}).then(d).catch(T)})}function E(d){return x?d.replace(Wp.IMAGE_URL_PREFIX,""):d}return new Promise(function(d,T){Aq.newPlot(A,t,w,y).then(_).then(M).then(b).then(function(g){d(E(g))}).catch(function(g){T(g)})})}Tq.exports=g2e});var Cq=ie((OPe,Sq)=>{"use strict";var ys=wr(),y2e=Za(),m2e=pu(),x2e=Nc().dfltConfig,gs=ys.isPlainObject,Iu=Array.isArray,Mq=ys.isArrayOrTypedArray;Sq.exports=function(r,t){r===void 0&&(r=[]),t===void 0&&(t={});var n=m2e.get(),a=[],o={_context:ys.extendFlat({},x2e)},i,s;Iu(r)?(o.data=ys.extendDeep([],r),i=r):(o.data=[],i=[],a.push(za("array","data"))),gs(t)?(o.layout=ys.extendDeep({},t),s=t):(o.layout={},s={},arguments.length>1&&a.push(za("object","layout"))),y2e.supplyDefaults(o);for(var f=o._fullData,l=i.length,u=0;u<l;u++){var c=i[u],v=["data",u];if(!gs(c)){a.push(za("object",v));continue}var m=f[u],x=m.type,A=n.traces[x].attributes;A.type={valType:"enumerated",values:[x]},m.visible===!1&&c.visible!==!1&&a.push(za("invisible",v)),Xp(c,m,A,a,v);var w=c.transforms,y=m.transforms;if(w){Iu(w)||a.push(za("array",v,["transforms"])),v.push("transforms");for(var _=0;_<w.length;_++){var M=["transforms",_],b=w[_].type;if(!gs(w[_])){a.push(za("object",v,M));continue}var E=n.transforms[b]?n.transforms[b].attributes:{};E.type={valType:"enumerated",values:Object.keys(n.transforms)},Xp(w[_],y[_],E,a,v,M)}}}var d=o._fullLayout,T=b2e(n,f);return Xp(s,d,T,a,"layout"),a.length===0?void 0:a};function Xp(e,r,t,n,a,o){o=o||[];for(var i=Object.keys(e),s=0;s<i.length;s++){var f=i[s];if(f!=="transforms"){var l=o.slice();l.push(f);var u=e[f],c=r[f],v=A2e(t,f),m=(v||{}).valType,x=m==="info_array",A=m==="colorscale",w=(v||{}).items;if(!w2e(t,f))n.push(za("schema",a,l));else if(gs(u)&&gs(c)&&m!=="any")Xp(u,c,v,n,a,l);else if(x&&Iu(u)){u.length>c.length&&n.push(za("unused",a,l.concat(c.length)));var y=c.length,_=Array.isArray(w);_&&(y=Math.min(y,w.length));var M,b,E,d,T;if(v.dimensions===2)for(b=0;b<y;b++)if(Iu(u[b])){u[b].length>c[b].length&&n.push(za("unused",a,l.concat(b,c[b].length)));var g=c[b].length;for(M=0;M<(_?Math.min(g,w[b].length):g);M++)E=_?w[b][M]:w,d=u[b][M],T=c[b][M],ys.validate(d,E)?T!==d&&T!==+d&&n.push(za("dynamic",a,l.concat(b,M),d,T)):n.push(za("value",a,l.concat(b,M),d))}else n.push(za("array",a,l.concat(b),u[b]));else for(b=0;b<y;b++)E=_?w[b]:w,d=u[b],T=c[b],ys.validate(d,E)?T!==d&&T!==+d&&n.push(za("dynamic",a,l.concat(b),d,T)):n.push(za("value",a,l.concat(b),d))}else if(v.items&&!x&&Iu(u)){var h=w[Object.keys(w)[0]],S=[],p,C;for(p=0;p<c.length;p++){var k=c[p]._index||p;if(C=l.slice(),C.push(k),gs(u[k])&&gs(c[p])){S.push(k);var D=u[k],P=c[p];gs(D)&&D.visible!==!1&&P.visible===!1?n.push(za("invisible",a,C)):Xp(D,P,h,n,a,C)}}for(p=0;p<u.length;p++)C=l.slice(),C.push(p),gs(u[p])?S.indexOf(p)===-1&&n.push(za("unused",a,C)):n.push(za("object",a,C,u[p]))}else!gs(u)&&gs(c)?n.push(za("object",a,l,u)):!Mq(u)&&Mq(c)&&!x&&!A?n.push(za("array",a,l,u)):f in r?ys.validate(u,v)?v.valType==="enumerated"&&(v.coerceNumber&&u!==+c||u!==c)&&n.push(za("dynamic",a,l,u,c)):n.push(za("value",a,l,u)):n.push(za("unused",a,l,u))}}return n}function b2e(e,r){for(var t=e.layout.layoutAttributes,n=0;n<r.length;n++){var a=r[n],o=e.traces[a.type],i=o.layoutAttributes;i&&(a.subplot?ys.extendFlat(t[o.attributes.subplot.dflt],i):ys.extendFlat(t,i))}return t}var _2e={object:function(e,r){var t;return e==="layout"&&r===""?t="The layout argument":e[0]==="data"&&r===""?t="Trace "+e[1]+" in the data argument":t=g0(e)+"key "+r,t+" must be linked to an object container"},array:function(e,r){var t;return e==="data"?t="The data argument":t=g0(e)+"key "+r,t+" must be linked to an array container"},schema:function(e,r){return g0(e)+"key "+r+" is not part of the schema"},unused:function(e,r,t){var n=gs(t)?"container":"key";return g0(e)+n+" "+r+" did not get coerced"},dynamic:function(e,r,t,n){return[g0(e)+"key",r,"(set to '"+t+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(e,r){return(r?g0(e)+"item "+r:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,r,t){return[g0(e)+"key "+r,"is set to an invalid value ("+t+")"].join(" ")}};function g0(e){return Iu(e)?"In data trace "+e[1]+", ":"In "+e+", "}function za(e,r,t,n,a){t=t||"";var o,i;Iu(r)?(o=r[0],i=r[1]):(o=r,i=null);var s=M2e(t),f=_2e[e](r,s,n,a);return ys.log(f),{code:e,container:o,trace:i,path:t,astr:s,msg:f}}function w2e(e,r){var t=Eq(r),n=t.keyMinusId,a=t.id;return n in e&&e[n]._isSubplotObj&&a?!0:r in e}function A2e(e,r){if(r in e)return e[r];var t=Eq(r);return e[t.keyMinusId]}var T2e=ys.counterRegex("([a-z]+)");function Eq(e){var r=e.match(T2e);return{keyMinusId:r&&r[1],id:r&&r[2]}}function M2e(e){if(!Iu(e))return String(e);for(var r="",t=0;t<e.length;t++){var n=e[t];typeof n=="number"?r=r.substr(0,r.length-1)+"["+n+"]":r+=n,t<e.length-1&&(r+=".")}return r}});var Rq=ie((NPe,Lq)=>{"use strict";var kq=wr(),Zp=p0();function E2e(e,r,t){var n=document.createElement("a"),a="download"in n,o=new Promise(function(i,s){var f,l;if(kq.isIE())return f=Zp.createBlob(e,"svg"),window.navigator.msSaveBlob(f,r),f=null,i(r);if(a)return f=Zp.createBlob(e,t),l=Zp.createObjectURL(f),n.href=l,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),Zp.revokeObjectURL(l),f=null,i(r);if(kq.isSafari()){var u=t==="svg"?",":";base64,";return Zp.octetStream(u+encodeURIComponent(e)),i(r)}s(new Error("download error"))});return o}Lq.exports=E2e});var iT=ie((BPe,Dq)=>{"use strict";var aT=wr(),S2e=nT(),C2e=Rq(),k2e=p0();function L2e(e,r){var t;return aT.isPlainObject(e)||(t=aT.getGraphDiv(e)),r=r||{},r.format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(n,a){t&&t._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),aT.isIE()&&r.format!=="svg"&&a(new Error(k2e.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var o=S2e(e,r),i=r.filename||e.fn||"newplot";i+="."+r.format.replace("-","."),o.then(function(s){return t&&(t._snapshotInProgress=!1),C2e(s,i,r.format)}).then(function(s){n(s)}).catch(function(s){t&&(t._snapshotInProgress=!1),a(s)})})}Dq.exports=L2e});var Nq=ie(oT=>{"use strict";var So=wr(),Co=So.isPlainObject,Fq=pu(),Iq=Za(),R2e=rs(),Pq=Yn(),Oq=Nc().dfltConfig;oT.makeTemplate=function(e){e=So.isPlainObject(e)?e:So.getGraphDiv(e),e=So.extendDeep({_context:Oq},{data:e.data,layout:e.layout}),Iq.supplyDefaults(e);var r=e.data||[],t=e.layout||{};t._basePlotModules=e._fullLayout._basePlotModules,t._modules=e._fullLayout._modules;var n={data:{},layout:{}};r.forEach(function(m){var x={};jp(m,x,F2e.bind(null,m));var A=So.coerce(m,{},R2e,"type"),w=n.data[A];w||(w=n.data[A]=[]),w.push(x)}),jp(t,n.layout,D2e.bind(null,t)),delete n.layout.template;var a=t.template;if(Co(a)){var o=a.layout,i,s,f,l,u,c;Co(o)&&gx(o,n.layout);var v=a.data;if(Co(v)){for(s in n.data)if(f=v[s],Array.isArray(f)){for(u=n.data[s],c=u.length,l=f.length,i=0;i<c;i++)gx(f[i%l],u[i]);for(i=c;i<l;i++)u.push(So.extendDeep({},f[i]))}for(s in v)s in n.data||(n.data[s]=So.extendDeep([],v[s]))}}return n};function gx(e,r){e=So.extendDeep({},e);var t=Object.keys(e).sort(),n,a;function o(u,c,v){if(Co(c)&&Co(u))gx(u,c);else if(Array.isArray(c)&&Array.isArray(u)){var m=Pq.arrayTemplater({_template:e},v);for(a=0;a<c.length;a++){var x=c[a],A=m.newItem(x)._template;A&&gx(A,x)}var w=m.defaultItems();for(a=0;a<w.length;a++)c.push(w[a]._template);for(a=0;a<c.length;a++)delete c[a].templateitemname}}for(n=0;n<t.length;n++){var i=t[n],s=e[i];if(i in r?o(s,r[i],i):r[i]=s,yx(i)===i)for(var f in r){var l=yx(f);f!==l&&l===i&&!(f in e)&&o(s,r[f],i)}}}function yx(e){return e.replace(/[0-9]+$/,"")}function jp(e,r,t,n,a){var o=a&&t(a);for(var i in e){var s=e[i],f=ms(e,i,n),l=ms(e,i,a),u=t(l);if(!u){var c=yx(i);c!==i&&(l=ms(e,c,a),u=t(l))}if(!(o&&o===u)&&!(!u||u._noTemplating||u.valType==="data_array"||u.arrayOk&&Array.isArray(s)))if(!u.valType&&Co(s))jp(s,r,t,f,l);else if(u._isLinkedToArray&&Array.isArray(s))for(var v=!1,m=0,x={},A=0;A<s.length;A++){var w=s[A];if(Co(w)){var y=w.name;if(y)x[y]||(jp(w,r,t,ms(s,m,f),ms(s,m,l)),m++,x[y]=1);else if(!v){var _=Pq.arrayDefaultKey(i),M=ms(e,_,n),b=ms(s,m,f);jp(w,r,t,b,ms(s,m,l));var E=So.nestedProperty(r,b),d=So.nestedProperty(r,M);d.set(E.get()),E.set(null),v=!0}}}else{var T=So.nestedProperty(r,f);T.set(s)}}}function D2e(e,r){return Fq.getLayoutValObject(e,So.nestedProperty({},r).parts)}function F2e(e,r){return Fq.getTraceValObject(e,So.nestedProperty({},r).parts)}function ms(e,r,t){var n;return t?Array.isArray(e)?n=t+"["+r+"]":n=t+"."+r:n=r,n}oT.validateTemplate=function(e,r){var t=So.extendDeep({},{_context:Oq,data:e.data,layout:e.layout}),n=t.layout||{};Co(r)||(r=n.template||{});var a=r.layout,o=r.data,i=[];t.layout=n,t.layout.template=r,Iq.supplyDefaults(t);var s=t._fullLayout,f=t._fullData,l={};function u(M,b){for(var E in M)if(E.charAt(0)!=="_"&&Co(M[E])){var d=yx(E),T=[],g;for(g=0;g<b.length;g++)T.push(ms(M,E,b[g])),d!==E&&T.push(ms(M,d,b[g]));for(g=0;g<T.length;g++)l[T[g]]=1;u(M[E],T)}}function c(M,b){for(var E in M)if(E.indexOf("defaults")===-1&&Co(M[E])){var d=ms(M,E,b);l[d]?c(M[E],d):i.push({code:"unused",path:d})}}if(Co(a)?(u(s,["layout"]),c(a,"layout")):i.push({code:"layout"}),!Co(o))i.push({code:"data"});else{for(var v={},m,x=0;x<f.length;x++){var A=f[x];m=A.type,v[m]=(v[m]||0)+1,A._fullInput._template||i.push({code:"missing",index:A._fullInput.index,traceType:m})}for(m in o){var w=o[m].length,y=v[m]||0;w>y?i.push({code:"unused",traceType:m,templateCount:w,dataCount:y}):y>w&&i.push({code:"reused",traceType:m,templateCount:w,dataCount:y})}}function _(M,b){for(var E in M)if(E.charAt(0)!=="_"){var d=M[E],T=ms(M,E,b);Co(d)?(Array.isArray(M)&&d._template===!1&&d.templateitemname&&i.push({code:"missing",path:T,templateitemname:d.templateitemname}),_(d,T)):Array.isArray(d)&&I2e(d)&&_(d,T)}}if(_({data:f,layout:s},""),i.length)return i.map(P2e)};function I2e(e){for(var r=0;r<e.length;r++)if(Co(e[r]))return!0}function P2e(e){var r;switch(e.code){case"data":r="The template has no key data.";break;case"layout":r="The template has no key layout.";break;case"missing":e.path?r="There are no templates for item "+e.path+" with name "+e.templateitemname:r="There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":e.path?r="The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?r="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":r="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":r="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}return e.msg=r,e}});var qq=ie(ia=>{"use strict";var Ja=QA();ia._doPlot=Ja._doPlot;ia.newPlot=Ja.newPlot;ia.restyle=Ja.restyle;ia.relayout=Ja.relayout;ia.redraw=Ja.redraw;ia.update=Ja.update;ia._guiRestyle=Ja._guiRestyle;ia._guiRelayout=Ja._guiRelayout;ia._guiUpdate=Ja._guiUpdate;ia._storeDirectGUIEdit=Ja._storeDirectGUIEdit;ia.react=Ja.react;ia.extendTraces=Ja.extendTraces;ia.prependTraces=Ja.prependTraces;ia.addTraces=Ja.addTraces;ia.deleteTraces=Ja.deleteTraces;ia.moveTraces=Ja.moveTraces;ia.purge=Ja.purge;ia.addFrames=Ja.addFrames;ia.deleteFrames=Ja.deleteFrames;ia.animate=Ja.animate;ia.setPlotConfig=Ja.setPlotConfig;var O2e=N1().getGraphDiv,N2e=D3().eraseActiveShape;ia.deleteActiveShape=function(e){return N2e(O2e(e))};ia.toImage=nT();ia.validate=Cq();ia.downloadImage=iT();var Bq=Nq();ia.makeTemplate=Bq.makeTemplate;ia.validateTemplate=Bq.validateTemplate});var lT=ie((UPe,zq)=>{"use strict";var sT=wr(),B2e=Dt();zq.exports=function(r,t,n,a){var o=a("x"),i=a("y"),s,f=B2e.getComponentMethod("calendars","handleTraceDefaults");if(f(r,t,["x","y"],n),o){var l=sT.minRowLength(o);i?s=Math.min(l,sT.minRowLength(i)):(s=l,a("y0"),a("dy"))}else{if(!i)return 0;s=sT.minRowLength(i),a("x0"),a("dx")}return t._length=s,s}});var fT=ie((GPe,Hq)=>{"use strict";var Uq=wr().dateTick0,q2e=ta(),z2e=q2e.ONEWEEK;function Gq(e,r){return e%z2e===0?Uq(r,1):Uq(r,0)}Hq.exports=function(r,t,n,a,o){if(o||(o={x:!0,y:!0}),o.x){var i=a("xperiod");i&&(a("xperiod0",Gq(i,t.xcalendar)),a("xperiodalignment"))}if(o.y){var s=a("yperiod");s&&(a("yperiod0",Gq(s,t.ycalendar)),a("yperiodalignment"))}}});var Wq=ie((HPe,Yq)=>{"use strict";var Vq=["orientation","groupnorm","stackgaps"];Yq.exports=function(r,t,n,a){var o=n._scatterStackOpts,i=a("stackgroup");if(i){var s=t.xaxis+t.yaxis,f=o[s];f||(f=o[s]={});var l=f[i],u=!1;l?l.traces.push(t):(l=f[i]={traceIndices:[],traces:[t]},u=!0);for(var c={orientation:t.x&&!t.y?"h":"v"},v=0;v<Vq.length;v++){var m=Vq[v],x=m+"Found";if(!l[x]){var A=r[m]!==void 0,w=m==="orientation";if((A||u)&&(l[m]=a(m,c[m]),w&&(l.fillDflt=l[m]==="h"?"tonextx":"tonexty"),A&&(l[x]=!0,!u&&(delete l.traces[0][m],w))))for(var y=0;y<l.traces.length-1;y++){var _=l.traces[y];_._input.fill!==_.fill&&(_.fill=l.fillDflt)}}}return l}}});var mx=ie((VPe,Jq)=>{"use strict";var Xq=pn(),Zq=Os().hasColorscale,jq=Jc(),U2e=hi();Jq.exports=function(r,t,n,a,o,i){var s=U2e.isBubble(r),f=(r.line||{}).color,l;if(i=i||{},f&&(n=f),o("marker.symbol"),o("marker.opacity",s?.7:1),o("marker.size"),i.noAngle||(o("marker.angle"),i.noAngleRef||o("marker.angleref"),i.noStandOff||o("marker.standoff")),o("marker.color",n),Zq(r,"marker")&&jq(r,t,a,o,{prefix:"marker.",cLetter:"c"}),i.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),i.noLine||(f&&!Array.isArray(f)&&t.marker.color!==f?l=f:s?l=Xq.background:l=Xq.defaultLine,o("marker.line.color",l),Zq(r,"marker.line")&&jq(r,t,a,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",s?1:0)),s&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),i.gradient){var u=o("marker.gradient.type");u!=="none"&&o("marker.gradient.color")}}});var uT=ie((YPe,$q)=>{"use strict";var G2e=wr().isArrayOrTypedArray,H2e=Os().hasColorscale,V2e=Jc();$q.exports=function(r,t,n,a,o,i){i||(i={});var s=(r.marker||{}).color;if(s&&s._inputArray&&(s=s._inputArray),o("line.color",n),H2e(r,"line"))V2e(r,t,a,o,{prefix:"line.",cLetter:"c"});else{var f=(G2e(s)?!1:s)||n;o("line.color",f)}o("line.width"),i.noDash||o("line.dash"),i.backoff&&o("line.backoff")}});var Qq=ie((WPe,Kq)=>{"use strict";Kq.exports=function(r,t,n){var a=n("line.shape");a==="spline"&&n("line.smoothing")}});var cT=ie((XPe,ez)=>{"use strict";var Y2e=wr();ez.exports=function(e,r,t,n,a){a=a||{},n("textposition"),Y2e.coerceFont(n,"textfont",a.font||t.font,a),a.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}});var hT=ie((ZPe,tz)=>{"use strict";var xx=pn(),rz=wr().isArrayOrTypedArray;function W2e(e){for(var r=xx.interpolate(e[0][1],e[1][1],.5),t=2;t<e.length;t++){var n=xx.interpolate(e[t-1][1],e[t][1],.5);r=xx.interpolate(r,n,e[t-1][0]/e[t][0])}return r}tz.exports=function(r,t,n,a,o){o||(o={});var i=!1;if(t.marker){var s=t.marker.color,f=(t.marker.line||{}).color;s&&!rz(s)?i=s:f&&!rz(f)&&(i=f)}var l;if(o.moduleHasFillgradient){var u=a("fillgradient.type");if(u!=="none"){a("fillgradient.start"),a("fillgradient.stop");var c=a("fillgradient.colorscale");c&&(l=W2e(c))}}a("fillcolor",xx.addOpacity((t.line||{}).color||i||l||n,.5))}});var oz=ie((jPe,iz)=>{"use strict";var nz=wr(),X2e=Dt(),Z2e=kl(),j2e=Pp(),Av=hi(),J2e=lT(),$2e=fT(),K2e=Wq(),Q2e=mx(),eme=uT(),az=Qq(),rme=cT(),tme=hT(),nme=wr().coercePattern;iz.exports=function(r,t,n,a){function o(m,x){return nz.coerce(r,t,Z2e,m,x)}var i=J2e(r,t,a,o);if(i||(t.visible=!1),!!t.visible){$2e(r,t,a,o),o("xhoverformat"),o("yhoverformat"),o("zorder");var s=K2e(r,t,a,o);a.scattermode==="group"&&t.orientation===void 0&&o("orientation","v");var f=!s&&i<j2e.PTS_LINESONLY?"lines+markers":"lines";o("text"),o("hovertext"),o("mode",f),Av.hasMarkers(t)&&Q2e(r,t,n,a,o,{gradient:!0}),Av.hasLines(t)&&(eme(r,t,n,a,o,{backoff:!0}),az(r,t,o),o("connectgaps"),o("line.simplify")),Av.hasText(t)&&(o("texttemplate"),rme(r,t,a,o));var l=[];(Av.hasMarkers(t)||Av.hasText(t))&&(o("cliponaxis"),o("marker.maxdisplayed"),l.push("points")),o("fill",s?s.fillDflt:"none"),t.fill!=="none"&&(tme(r,t,n,o,{moduleHasFillgradient:!0}),Av.hasLines(t)||az(r,t,o),nme(o,"fillpattern",t.fillcolor,!1));var u=(t.line||{}).color,c=(t.marker||{}).color;(t.fill==="tonext"||t.fill==="toself")&&l.push("fills"),o("hoveron",l.join("+")||"points"),t.hoveron!=="fills"&&o("hovertemplate");var v=X2e.getComponentMethod("errorbars","supplyDefaults");v(r,t,u||c||n,{axis:"y"}),v(r,t,u||c||n,{axis:"x",inherit:"y"}),nz.coerceSelectionMarkerOpacity(t,o)}}});var lz=ie((JPe,sz)=>{"use strict";var ame=yv().getAxisGroup;sz.exports=function(r,t,n,a){var o=t.orientation,i=t[{v:"x",h:"y"}[o]+"axis"],s=ame(n,i)+o,f=n._alignmentOpts||{},l=a("alignmentgroup"),u=f[s];u||(u=f[s]={});var c=u[l];c?c.traces.push(t):c=u[l]={traces:[t],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var v=a("offsetgroup"),m=c.offsetGroups,x=m[v];v&&(x||(x=m[v]={offsetIndex:Object.keys(m).length}),t._offsetIndex=x.offsetIndex)}});var vT=ie(($Pe,fz)=>{"use strict";var ime=wr(),ome=lz(),sme=kl();fz.exports=function(r,t){var n,a,o;function i(c){return ime.coerce(a._input,a,sme,c)}if(t.scattermode==="group")for(o=0;o<r.length;o++)a=r[o],a.type==="scatter"&&(n=a._input,ome(n,a,t,i));for(o=0;o<r.length;o++){var s=r[o];if(s.type==="scatter"){var f=s.fill;if(!(f==="none"||f==="toself")&&(s.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var l=o-1;l>=0;l--){var u=r[l];if(u.type==="scatter"&&u.xaxis===s.xaxis&&u.yaxis===s.yaxis){u.opacity=void 0;break}}}}}});var cz=ie((KPe,uz)=>{"use strict";var lme=wr(),fme=vm();uz.exports=function(e,r){function t(a,o){return lme.coerce(e,r,fme,a,o)}var n=r.barmode==="group";r.scattermode==="group"&&t("scattergap",n?r.bargap:.2)}});var Jp=ie((QPe,vz)=>{"use strict";var ume=cn(),hz=wr(),cme=hz.dateTime2ms,bx=hz.incrementMonth,hme=ta(),vme=hme.ONEAVGMONTH;vz.exports=function(r,t,n,a){if(t.type!=="date")return{vals:a};var o=r[n+"periodalignment"];if(!o)return{vals:a};var i=r[n+"period"],s;if(ume(i)){if(i=+i,i<=0)return{vals:a}}else if(typeof i=="string"&&i.charAt(0)==="M"){var f=+i.substring(1);if(f>0&&Math.round(f)===f)s=f;else return{vals:a}}for(var l=t.calendar,u=o==="start",c=o==="end",v=r[n+"period0"],m=cme(v,l)||0,x=[],A=[],w=[],y=a.length,_=0;_<y;_++){var M=a[_],b,E,d;if(s){for(b=Math.round((M-m)/(s*vme)),d=bx(m,s*b,l);d>M;)d=bx(d,-s,l);for(;d<=M;)d=bx(d,s,l);E=bx(d,-s,l)}else{for(b=Math.round((M-m)/i),d=m+b*i;d>M;)d-=i;for(;d<=M;)d+=i;E=d-i}x[_]=u?E:c?d:(E+d)/2,A[_]=E,w[_]=d}return{vals:x,starts:A,ends:w}}});var Tv=ie((eOe,pz)=>{"use strict";var dT=Os().hasColorscale,pT=Tm(),dz=hi();pz.exports=function(r,t){dz.hasLines(t)&&dT(t,"line")&&pT(r,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),dz.hasMarkers(t)&&(dT(t,"marker")&&pT(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),dT(t,"marker.line")&&pT(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var _x=ie((rOe,gz)=>{"use strict";var ba=wr();gz.exports=function(r,t){for(var n=0;n<r.length;n++)r[n].i=n;ba.mergeArray(t.text,r,"tx"),ba.mergeArray(t.texttemplate,r,"txt"),ba.mergeArray(t.hovertext,r,"htx"),ba.mergeArray(t.customdata,r,"data"),ba.mergeArray(t.textposition,r,"tp"),t.textfont&&(ba.mergeArrayCastPositive(t.textfont.size,r,"ts"),ba.mergeArray(t.textfont.color,r,"tc"),ba.mergeArray(t.textfont.family,r,"tf"),ba.mergeArray(t.textfont.weight,r,"tw"),ba.mergeArray(t.textfont.style,r,"ty"),ba.mergeArray(t.textfont.variant,r,"tv"),ba.mergeArray(t.textfont.textcase,r,"tC"),ba.mergeArray(t.textfont.lineposition,r,"tE"),ba.mergeArray(t.textfont.shadow,r,"tS"));var a=t.marker;if(a){ba.mergeArrayCastPositive(a.size,r,"ms"),ba.mergeArrayCastPositive(a.opacity,r,"mo"),ba.mergeArray(a.symbol,r,"mx"),ba.mergeArray(a.angle,r,"ma"),ba.mergeArray(a.standoff,r,"mf"),ba.mergeArray(a.color,r,"mc");var o=a.line;a.line&&(ba.mergeArray(o.color,r,"mlc"),ba.mergeArrayCastPositive(o.width,r,"mlw"));var i=a.gradient;i&&i.type!=="none"&&(ba.mergeArray(i.type,r,"mgt"),ba.mergeArray(i.color,r,"mgc"))}}});var xz=ie((tOe,mz)=>{"use strict";var yz=wr();mz.exports=function(r,t){yz.isArrayOrTypedArray(t.selectedpoints)&&yz.tagSelected(r,t)}});var Mv=ie((nOe,Ez)=>{"use strict";var bz=cn(),yT=wr(),$p=Rn(),_z=Jp(),gT=ta().BADNUM,mT=hi(),dme=Tv(),pme=_x(),gme=xz();function yme(e,r){var t=e._fullLayout,n=r._xA=$p.getFromId(e,r.xaxis||"x","x"),a=r._yA=$p.getFromId(e,r.yaxis||"y","y"),o=n.makeCalcdata(r,"x"),i=a.makeCalcdata(r,"y"),s=_z(r,n,"x",o),f=_z(r,a,"y",i),l=s.vals,u=f.vals,c=r._length,v=new Array(c),m=r.ids,x=xT(r,t,n,a),A=!1,w,y,_,M,b,E;Tz(t,r);var d="x",T="y",g;if(x)yT.pushUnique(x.traceIndices,r._expandedIndex),w=x.orientation==="v",w?(T="s",g="x"):(d="s",g="y"),b=x.stackgaps==="interpolate";else{var h=Az(r,c);wz(e,r,n,a,l,u,h)}var S=!!r.xperiodalignment,p=!!r.yperiodalignment;for(y=0;y<c;y++){var C=v[y]={},k=bz(l[y]),D=bz(u[y]);k&&D?(C[d]=l[y],C[T]=u[y],S&&(C.orig_x=o[y],C.xEnd=s.ends[y],C.xStart=s.starts[y]),p&&(C.orig_y=i[y],C.yEnd=f.ends[y],C.yStart=f.starts[y])):x&&(w?k:D)?(C[g]=w?l[y]:u[y],C.gap=!0,b?(C.s=gT,A=!0):C.s=0):C[d]=C[T]=gT,m&&(C.id=String(m[y]))}if(pme(v,r),dme(e,r),gme(v,r),x){for(y=0;y<v.length;)v[y][g]===gT?v.splice(y,1):y++;if(yT.sort(v,function(L,I){return L[g]-I[g]||L.i-I.i}),A){for(y=0;y<v.length-1&&v[y].gap;)y++;for(E=v[y].s,E||(E=v[y].s=0),_=0;_<y;_++)v[_].s=E;for(M=v.length-1;M>y&&v[M].gap;)M--;for(E=v[M].s,_=v.length-1;_>M;_--)v[_].s=E;for(;y<M;)if(y++,v[y].gap){for(_=y+1;v[_].gap;)_++;for(var P=v[y-1][g],O=v[y-1].s,F=(v[_].s-O)/(v[_][g]-P);y<_;)v[y].s=O+(v[y][g]-P)*F,y++}}}return v}function wz(e,r,t,n,a,o,i){var s=r._length,f=e._fullLayout,l=t._id,u=n._id,c=f._firstScatter[Mz(r)]===r.uid,v=(xT(r,f,t,n)||{}).orientation,m=r.fill;t._minDtick=0,n._minDtick=0;var x={padded:!0},A={padded:!0};i&&(x.ppad=A.ppad=i);var w=s<2||a[0]!==a[s-1]||o[0]!==o[s-1];w&&(m==="tozerox"||m==="tonextx"&&(c||v==="h"))?x.tozero=!0:!(r.error_y||{}).visible&&(m==="tonexty"||m==="tozeroy"||!mT.hasMarkers(r)&&!mT.hasText(r))&&(x.padded=!1,x.ppad=0),w&&(m==="tozeroy"||m==="tonexty"&&(c||v==="v"))?A.tozero=!0:(m==="tonextx"||m==="tozerox")&&(A.padded=!1),l&&(r._extremes[l]=$p.findExtremes(t,a,x)),u&&(r._extremes[u]=$p.findExtremes(n,o,A))}function Az(e,r){if(mT.hasMarkers(e)){var t=e.marker,n=1.6*(e.marker.sizeref||1),a;if(e.marker.sizemode==="area"?a=function(l){return Math.max(Math.sqrt((l||0)/n),3)}:a=function(l){return Math.max((l||0)/n,3)},yT.isArrayOrTypedArray(t.size)){var o={type:"linear"};$p.setConvert(o);for(var i=o.makeCalcdata(e.marker,"size"),s=new Array(r),f=0;f<r;f++)s[f]=a(i[f]);return s}else return a(t.size)}}function Tz(e,r){var t=Mz(r),n=e._firstScatter;n[t]||(n[t]=r.uid)}function Mz(e){var r=e.stackgroup;return e.xaxis+e.yaxis+e.type+(r?"-"+r:"")}function xT(e,r,t,n){var a=e.stackgroup;if(a){var o=r._scatterStackOpts[t._id+n._id][a],i=o.orientation==="v"?n:t;if(i.type==="linear"||i.type==="log")return o}}Ez.exports={calc:yme,calcMarkerSize:Az,calcAxisExpansion:wz,setFirstScatter:Tz,getStackOpts:xT}});var Cz=ie((aOe,Sz)=>{"use strict";Sz.exports=wx;var mme=wr().distinctVals;function wx(e,r){this.traces=e,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var t=1/0,n=r.posAxis._id.charAt(0),a=[],o=0;o<e.length;o++){for(var i=e[o],s=0;s<i.length;s++){var f=i[s],l=f.p;l===void 0&&(l=f[n]),l!==void 0&&a.push(l)}i[0]&&i[0].width1&&(t=Math.min(i[0].width1,t))}this.positions=a;var u=mme(a);this.distinctPositions=u.vals,u.vals.length===1&&t!==1/0?this.minDiff=t:this.minDiff=Math.min(u.minDiff,t);var c=(r.posAxis||{}).type;(c==="category"||c==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}wx.prototype.put=function(r,t){var n=this.getLabel(r,t),a=this.bins[n]||0;return this.bins[n]=a+t,a};wx.prototype.get=function(r,t){var n=this.getLabel(r,t);return this.bins[n]||0};wx.prototype.getLabel=function(r,t){var n=t<0&&this.sepNegVal?"v":"^",a=this.overlapNoMerge?r:Math.round(r/this.binWidth);return n+a}});var Oz=ie((iOe,Pz)=>{"use strict";var xs=cn(),Pu=wr().isArrayOrTypedArray,Ev=ta().BADNUM,xme=Dt(),Kp=Rn(),bme=yv().getAxisGroup,Ax=Cz();function _me(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,s=[],f=[],l=0;l<o.length;l++){var u=o[l];if(u.visible===!0&&xme.traceIs(u,"bar")&&u.xaxis===t._id&&u.yaxis===n._id&&(u.orientation==="h"?s.push(i[l]):f.push(i[l]),u._computePh))for(var c=e.calcdata[l],v=0;v<c.length;v++)typeof c[v].ph0=="function"&&(c[v].ph0=c[v].ph0()),typeof c[v].ph1=="function"&&(c[v].ph1=c[v].ph1())}var m={xCat:t.type==="category"||t.type==="multicategory",yCat:n.type==="category"||n.type==="multicategory",mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap};_T(e,t,n,f,m),_T(e,n,t,s,m)}function _T(e,r,t,n,a){if(n.length){var o,i,s,f,l;switch(Tme(t,n),a.mode){case"overlay":bT(r,t,n,a);break;case"group":for(o=[],i=[],s=0;s<n.length;s++)f=n[s],l=f[0].trace,l.offset===void 0?i.push(f):o.push(f);i.length&&Mme(e,r,t,i,a),o.length&&bT(r,t,o,a);break;case"stack":case"relative":for(o=[],i=[],s=0;s<n.length;s++)f=n[s],l=f[0].trace,l.base===void 0?i.push(f):o.push(f);Ame(i),i.length&&Eme(e,r,t,i,a),o.length&&bT(r,t,o,a);break}wme(n),Rme(n,r)}}function wme(e){var r,t,n,a,o,i,s;for(r=0;r<e.length;r++)t=e[r],n=t[0].trace,a=t[0].t,a.cornerradiusvalue===void 0&&(o=n.marker?n.marker.cornerradius:void 0,o!==void 0&&(i=xs(o)?+o:+o.slice(0,-1),s=xs(o)?"px":"%",a.cornerradiusvalue=i,a.cornerradiusform=s))}function Ame(e){if(!(e.length<2)){var r,t,n,a,o,i,s;for(r=0;r<e.length&&(t=e[r],n=t[0].trace,o=n.marker?n.marker.cornerradius:void 0,o===void 0);r++);if(o!==void 0)for(i=xs(o)?+o:+o.slice(0,-1),s=xs(o)?"px":"%",r=0;r<e.length;r++)t=e[r],a=t[0].t,a.cornerradiusvalue=i,a.cornerradiusform=s}}function Tme(e,r){var t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0].trace,i=o.type==="funnel"?o._base:o.base,s,f=o.orientation==="h"?o.xcalendar:o.ycalendar,l=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(Pu(i)){for(n=0;n<Math.min(i.length,a.length);n++)s=l(i[n],0,f),xs(s)?(a[n].b=+s,a[n].hasB=1):a[n].b=0;for(;n<a.length;n++)a[n].b=0}else{s=l(i,0,f);var u=xs(s);for(s=u?s:0,n=0;n<a.length;n++)a[n].b=s,u&&(a[n].hasB=1)}}}function bT(e,r,t,n){for(var a=0;a<t.length;a++){var o=t[a],i=new Ax([o],{posAxis:e,sepNegVal:!1,overlapNoMerge:!n.norm});kz(e,i,n),n.norm?(Iz(i),wT(r,i,n)):Fz(r,i)}}function Mme(e,r,t,n,a){var o=new Ax(n,{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});Sme(e,r,o,a),kme(o,r),a.norm?(Iz(o),wT(t,o,a)):Fz(t,o)}function Eme(e,r,t,n,a){var o=new Ax(n,{posAxis:r,sepNegVal:a.mode==="relative",overlapNoMerge:!(a.norm||a.mode==="stack"||a.mode==="relative")});kz(r,o,a),Cme(t,o,a);for(var i=0;i<n.length;i++)for(var s=n[i],f=0;f<s.length;f++){var l=s[f];if(l.s!==Ev){var u=l.b+l.s===o.get(l.p,l.s);u&&(l._outmost=!0)}}a.norm&&wT(t,o,a)}function kz(e,r,t){for(var n=r.minDiff,a=r.traces,o=n*(1-t.gap),i=o,s=i*(1-(t.groupgap||0)),f=-s/2,l=0;l<a.length;l++){var u=a[l],c=u[0].t;c.barwidth=s,c.poffset=f,c.bargroupwidth=o,c.bardelta=n}r.binWidth=a[0][0].t.barwidth/100,Lz(r),Rz(e,r),Dz(e,r)}function Sme(e,r,t,n){for(var a=e._fullLayout,o=t.positions,i=t.distinctPositions,s=t.minDiff,f=t.traces,l=f.length,u=o.length!==i.length,c=s*(1-n.gap),v=bme(a,r._id)+f[0][0].trace.orientation,m=a._alignmentOpts[v]||{},x=0;x<l;x++){var A=f[x],w=A[0].trace,y=m[w.alignmentgroup]||{},_=Object.keys(y.offsetGroups||{}).length,M;_?M=c/_:M=u?c/l:c;var b=M*(1-(n.groupgap||0)),E;_?E=((2*w._offsetIndex+1-_)*M-b)/2:E=u?((2*x+1-l)*M-b)/2:-b/2;var d=A[0].t;d.barwidth=b,d.poffset=E,d.bargroupwidth=c,d.bardelta=s}t.binWidth=f[0][0].t.barwidth/100,Lz(t),Rz(r,t),Dz(r,t,u)}function Lz(e){var r=e.traces,t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0],i=o.trace,s=o.t,f=i._offset||i.offset,l=s.poffset,u;if(Pu(f)){for(u=Array.prototype.slice.call(f,0,a.length),n=0;n<u.length;n++)xs(u[n])||(u[n]=l);for(n=u.length;n<a.length;n++)u.push(l);s.poffset=u}else f!==void 0&&(s.poffset=f);var c=i._width||i.width,v=s.barwidth;if(Pu(c)){var m=Array.prototype.slice.call(c,0,a.length);for(n=0;n<m.length;n++)xs(m[n])||(m[n]=v);for(n=m.length;n<a.length;n++)m.push(v);if(s.barwidth=m,f===void 0){for(u=[],n=0;n<a.length;n++)u.push(l+(v-m[n])/2);s.poffset=u}}else c!==void 0&&(s.barwidth=c,f===void 0&&(s.poffset=l+(v-c)/2))}}function Rz(e,r){for(var t=r.traces,n=Sv(e),a=0;a<t.length;a++)for(var o=t[a],i=o[0].t,s=i.poffset,f=Pu(s),l=i.barwidth,u=Pu(l),c=0;c<o.length;c++){var v=o[c],m=v.w=u?l[c]:l;v.p===void 0&&(v.p=v[n],v["orig_"+n]=v[n]);var x=(f?s[c]:s)+m/2;v[n]=v.p+x}}function Dz(e,r,t){var n=r.traces,a=r.minDiff,o=a/2;Kp.minDtick(e,r.minDiff,r.distinctPositions[0],t);for(var i=0;i<n.length;i++){var s=n[i],f=s[0],l=f.trace,u=[],c,v,m,x;for(x=0;x<s.length;x++)c=s[x],v=c.p-o,m=c.p+o,u.push(v,m);if(l.width||l.offset){var A=f.t,w=A.poffset,y=A.barwidth,_=Pu(w),M=Pu(y);for(x=0;x<s.length;x++){c=s[x];var b=_?w[x]:w,E=M?y[x]:y;v=c.p+b,m=v+E,u.push(v,m)}}l._extremes[e._id]=Kp.findExtremes(e,u,{padded:!1})}}function Fz(e,r){for(var t=r.traces,n=Sv(e),a=0;a<t.length;a++){for(var o=t[a],i=o[0].trace,s=i.type==="scatter",f=i.orientation==="v",l=[],u=!1,c=0;c<o.length;c++){var v=o[c],m=s?0:v.b,x=s?f?v.y:v.x:m+v.s;v[n]=x,l.push(x),v.hasB&&l.push(m),(!v.hasB||!v.b)&&(u=!0)}i._extremes[e._id]=Kp.findExtremes(e,l,{tozero:u,padded:!0})}}function Cme(e,r,t){var n=Sv(e),a=r.traces,o,i,s,f,l,u;for(f=0;f<a.length;f++)if(o=a[f],i=o[0].trace,i.type==="funnel")for(l=0;l<o.length;l++)u=o[l],u.s!==Ev&&r.put(u.p,-.5*u.s);for(f=0;f<a.length;f++){o=a[f],i=o[0].trace,s=i.type==="funnel";var c=[];for(l=0;l<o.length;l++)if(u=o[l],u.s!==Ev){var v;s?v=u.s:v=u.s+u.b;var m=r.put(u.p,v),x=m+v;u.b=m,u[n]=x,t.norm||(c.push(x),u.hasB&&c.push(m))}t.norm||(i._extremes[e._id]=Kp.findExtremes(e,c,{tozero:!0,padded:!0}))}}function Iz(e){for(var r=e.traces,t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;a++){var o=n[a];o.s!==Ev&&e.put(o.p,o.b+o.s)}}function kme(e,r){for(var t=e.traces,n=0;n<t.length;n++){var a=t[n],o=a[0].trace;if(o.base===void 0)for(var i=new Ax([a],{posAxis:r,sepNegVal:!0,overlapNoMerge:!0}),s=0;s<a.length;s++){var f=a[s];if(f.p!==Ev){var l=i.put(f.p,f.b+f.s);l&&(f.b=l)}}}}function wT(e,r,t){var n=r.traces,a=Sv(e),o=t.norm==="fraction"?1:100,i=o/1e9,s=e.l2c(e.c2l(0)),f=t.mode==="stack"?o:s;function l(E){return xs(e.c2l(E))&&(E<s-i||E>f+i||!xs(s))}for(var u=0;u<n.length;u++){for(var c=n[u],v=c[0].trace,m=[],x=!1,A=!1,w=0;w<c.length;w++){var y=c[w];if(y.s!==Ev){var _=Math.abs(o/r.get(y.p,y.s));y.b*=_,y.s*=_;var M=y.b,b=M+y.s;y[a]=b,m.push(b),A=A||l(b),y.hasB&&(m.push(M),A=A||l(M)),(!y.hasB||!y.b)&&(x=!0)}}v._extremes[e._id]=Kp.findExtremes(e,m,{tozero:x,padded:A})}}function Lme(e,r,t,n){for(var a=Sv(n),o=0;o<e.length;o++)for(var i=e[o],s=0;s<i.length;s++){var f=i[s],l=f[a];f._sMin=r[l],f._sMax=t[l]}}function Rme(e,r){var t=Sv(r),n={},a,o,i,s=1/0,f=-1/0;for(a=0;a<e.length;a++)for(i=e[a],o=0;o<i.length;o++){var l=i[o].p;xs(l)&&(s=Math.min(s,l),f=Math.max(f,l))}var u=1e4/(f-s),c=n.round=function(g){return String(Math.round(u*(g-s)))},v={},m={},x=e.some(function(g){var h=g[0].trace;return"marker"in h&&h.marker.cornerradius});for(a=0;a<e.length;a++){i=e[a],i[0].t.extents=n;var A=i[0].t.poffset,w=Pu(A);for(o=0;o<i.length;o++){var y=i[o],_=y[t]-y.w/2;if(xs(_)){var M=y[t]+y.w/2,b=c(y.p);n[b]?n[b]=[Math.min(_,n[b][0]),Math.max(M,n[b][1])]:n[b]=[_,M]}if(y.p0=y.p+(w?A[o]:A),y.p1=y.p0+y.w,y.s0=y.b,y.s1=y.s0+y.s,x){var E=Math.min(y.s0,y.s1)||0,d=Math.max(y.s0,y.s1)||0,T=y[t];v[T]=T in v?Math.min(v[T],E):E,m[T]=T in m?Math.max(m[T],d):d}}}x&&Lme(e,v,m,r)}function Sv(e){return e._id.charAt(0)}Pz.exports={crossTraceCalc:_me,setGroupPositions:_T}});var zz=ie((oOe,qz)=>{"use strict";var Nz=Mv(),Bz=Oz().setGroupPositions;function Dme(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,s=[],f=[],l=0;l<o.length;l++){var u=o[l];u.visible===!0&&u.type==="scatter"&&u.xaxis===t._id&&u.yaxis===n._id&&(u.orientation==="h"?s.push(i[l]):u.orientation==="v"&&f.push(i[l]))}var c={mode:a.scattermode,gap:a.scattergap};Bz(e,t,n,f,c),Bz(e,n,t,s,c)}qz.exports=function(r,t){r._fullLayout.scattermode==="group"&&Dme(r,t);var n=t.xaxis,a=t.yaxis,o=n._id+a._id,i=r._fullLayout._scatterStackOpts[o];if(i){var s=r.calcdata,f,l,u,c,v,m,x,A,w,y,_,M,b,E,d;for(var T in i){y=i[T];var g=y.traceIndices;if(g.length){for(_=y.stackgaps==="interpolate",M=y.groupnorm,y.orientation==="v"?(b="x",E="y"):(b="y",E="x"),d=new Array(g.length),f=0;f<d.length;f++)d[f]=!1;m=s[g[0]];var h=new Array(m.length);for(f=0;f<m.length;f++)h[f]=m[f][b];for(f=1;f<g.length;f++){for(v=s[g[f]],l=u=0;l<v.length;l++){for(x=v[l][b];x>h[u]&&u<h.length;u++)AT(v,l,h[u],f,d,_,b),l++;if(x!==h[u]){for(c=0;c<f;c++)AT(s[g[c]],u,x,c,d,_,b);h.splice(u,0,x)}u++}for(;u<h.length;u++)AT(v,l,h[u],f,d,_,b),l++}var S=h.length;for(l=0;l<m.length;l++){for(A=m[l][E]=m[l].s,f=1;f<g.length;f++)v=s[g[f]],v[0].trace._rawLength=v[0].trace._length,v[0].trace._length=S,A+=v[l].s,v[l][E]=A;if(M)for(w=(M==="fraction"?A:A/100)||1,f=0;f<g.length;f++){var p=s[g[f]][l];p[E]/=w,p.sNorm=p.s/w}}for(f=0;f<g.length;f++){v=s[g[f]];var C=v[0].trace,k=Nz.calcMarkerSize(C,C._rawLength),D=Array.isArray(k);if(k&&d[f]||D){var P=k;for(k=new Array(S),l=0;l<S;l++)k[l]=v[l].gap?0:D?P[v[l].i]:P}var O=new Array(S),F=new Array(S);for(l=0;l<S;l++)O[l]=v[l].x,F[l]=v[l].y;Nz.calcAxisExpansion(r,C,n,a,O,F,k),v[0].t.orientation=y.orientation}}}}};function AT(e,r,t,n,a,o,i){a[n]=!0;var s={i:null,gap:!0,s:0};if(s[i]=t,e.splice(r,0,s),r&&t===e[r-1][i]){var f=e[r-1];s.s=f.s,s.i=f.i,s.gap=f.gap}else o&&(s.s=Fme(e,r,t,i));r||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function Fme(e,r,t,n){var a=e[r-1],o=e[r+1];return o?a?a.s+(o.s-a.s)*(t-a[n])/(o[n]-a[n]):o.s:a.s}});var Xz=ie((sOe,Wz)=>{"use strict";var Ime=zn(),Vz=ta(),Qp=Vz.BADNUM,Yz=Vz.LOG_CLIP,Uz=Yz+.5,Gz=Yz-.5,Tx=wr(),Pme=Tx.segmentsIntersect,Hz=Tx.constrain,TT=Pp();Wz.exports=function(r,t){var n=t.trace||{},a=t.xaxis,o=t.yaxis,i=a.type==="log",s=o.type==="log",f=a._length,l=o._length,u=t.backoff,c=n.marker,v=t.connectGaps,m=t.baseTolerance,x=t.shape,A=x==="linear",w=n.fill&&n.fill!=="none",y=[],_=TT.minTolerance,M=r.length,b=new Array(M),E=0,d,T,g,h,S,p,C,k,D,P,O,F,L,I,q,z;function W(nr){var Me=r[nr];if(!Me)return!1;var Fe=t.linearized?a.l2p(Me.x):a.c2p(Me.x),ur=t.linearized?o.l2p(Me.y):o.c2p(Me.y);if(Fe===Qp){if(i&&(Fe=a.c2p(Me.x,!0)),Fe===Qp)return!1;s&&ur===Qp&&(Fe*=Math.abs(a._m*l*(a._m>0?Uz:Gz)/(o._m*f*(o._m>0?Uz:Gz)))),Fe*=1e3}if(ur===Qp){if(s&&(ur=o.c2p(Me.y,!0)),ur===Qp)return!1;ur*=1e3}return[Fe,ur]}function $(nr,Me,Fe,ur){var je=Fe-nr,Er=ur-Me,ue=.5-nr,Q=.5-Me,oe=je*je+Er*Er,Ee=je*ue+Er*Q;if(Ee>0&&Ee<oe){var Xe=ue*Er-Q*je;if(Xe*Xe<oe)return!0}}var j,G;function B(nr,Me){var Fe=nr[0]/f,ur=nr[1]/l,je=Math.max(0,-Fe,Fe-1,-ur,ur-1);return je&&j!==void 0&&$(Fe,ur,j,G)&&(je=0),je&&Me&&$(Fe,ur,Me[0]/f,Me[1]/l)&&(je=0),(1+TT.toleranceGrowth*je)*m}function X(nr,Me){var Fe=nr[0]-Me[0],ur=nr[1]-Me[1];return Math.sqrt(Fe*Fe+ur*ur)}var te=TT.maxScreensAway,J=-f*te,ae=f*(1+te),ee=-l*te,H=l*(1+te),re=[[J,ee,ae,ee],[ae,ee,ae,H],[ae,H,J,H],[J,H,J,ee]],V,ne,le,de,_e,me;function ve(nr,Me){for(var Fe=[],ur=0,je=0;je<4;je++){var Er=re[je],ue=Pme(nr[0],nr[1],Me[0],Me[1],Er[0],Er[1],Er[2],Er[3]);ue&&(!ur||Math.abs(ue.x-Fe[0][0])>1||Math.abs(ue.y-Fe[0][1])>1)&&(ue=[ue.x,ue.y],ur&&X(ue,nr)<X(Fe[0],nr)?Fe.unshift(ue):Fe.push(ue),ur++)}return Fe}function be(nr){if(nr[0]<J||nr[0]>ae||nr[1]<ee||nr[1]>H)return[Hz(nr[0],J,ae),Hz(nr[1],ee,H)]}function we(nr,Me){if(nr[0]===Me[0]&&(nr[0]===J||nr[0]===ae)||nr[1]===Me[1]&&(nr[1]===ee||nr[1]===H))return!0}function Se(nr,Me){var Fe=[],ur=be(nr),je=be(Me);return ur&&je&&we(ur,je)||(ur&&Fe.push(ur),je&&Fe.push(je)),Fe}function Ae(nr,Me,Fe){return function(ur,je){var Er=be(ur),ue=be(je),Q=[];if(Er&&ue&&we(Er,ue))return Q;Er&&Q.push(Er),ue&&Q.push(ue);var oe=2*Tx.constrain((ur[nr]+je[nr])/2,Me,Fe)-((Er||ur)[nr]+(ue||je)[nr]);if(oe){var Ee;Er&&ue?Ee=oe>0==Er[nr]>ue[nr]?Er:ue:Ee=Er||ue,Ee[nr]+=oe}return Q}}var Ie;x==="linear"||x==="spline"?Ie=ve:x==="hv"||x==="vh"?Ie=Se:x==="hvh"?Ie=Ae(0,J,ae):x==="vhv"&&(Ie=Ae(1,ee,H));function Ve(nr,Me){var Fe=Me[0]-nr[0],ur=(Me[1]-nr[1])/Fe,je=(nr[1]*Me[0]-Me[1]*nr[0])/Fe;return je>0?[ur>0?J:ae,H]:[ur>0?ae:J,ee]}function pe(nr){var Me=nr[0],Fe=nr[1],ur=Me===b[E-1][0],je=Fe===b[E-1][1];if(!(ur&&je))if(E>1){var Er=Me===b[E-2][0],ue=Fe===b[E-2][1];ur&&(Me===J||Me===ae)&&Er?ue?E--:b[E-1]=nr:je&&(Fe===ee||Fe===H)&&ue?Er?E--:b[E-1]=nr:b[E++]=nr}else b[E++]=nr}function xe(nr){b[E-1][0]!==nr[0]&&b[E-1][1]!==nr[1]&&pe([le,de]),pe(nr),_e=null,le=de=0}var Te=Tx.isArrayOrTypedArray(c);function qe(nr){if(nr&&u&&(nr.i=d,nr.d=r,nr.trace=n,nr.marker=Te?c[nr.i]:c,nr.backoff=u),j=nr[0]/f,G=nr[1]/l,V=nr[0]<J?J:nr[0]>ae?ae:0,ne=nr[1]<ee?ee:nr[1]>H?H:0,V||ne){if(!E)b[E++]=[V||nr[0],ne||nr[1]];else if(_e){var Me=Ie(_e,nr);Me.length>1&&(xe(Me[0]),b[E++]=Me[1])}else me=Ie(b[E-1],nr)[0],b[E++]=me;var Fe=b[E-1];V&&ne&&(Fe[0]!==V||Fe[1]!==ne)?(_e&&(le!==V&&de!==ne?pe(le&&de?Ve(_e,nr):[le||V,de||ne]):le&&de&&pe([le,de])),pe([V,ne])):le-V&&de-ne&&pe([V||le,ne||de]),_e=nr,le=V,de=ne}else _e&&xe(Ie(_e,nr)[0]),b[E++]=nr}for(d=0;d<M;d++)if(T=W(d),!!T){for(E=0,_e=null,qe(T),d++;d<M;d++){if(h=W(d),!h){if(v)continue;break}if(!A||!t.simplify){qe(h);continue}var er=W(d+1);if(P=X(h,T),!(!(w&&(E===0||E===M-1))&&P<B(h,er)*_)){for(k=[(h[0]-T[0])/P,(h[1]-T[1])/P],S=T,O=P,F=I=q=0,C=!1,g=h,d++;d<r.length;d++){if(p=er,er=W(d+1),!p){if(v)continue;break}if(D=[p[0]-T[0],p[1]-T[1]],z=D[0]*k[1]-D[1]*k[0],I=Math.min(I,z),q=Math.max(q,z),q-I>B(p,er))break;g=p,L=D[0]*k[0]+D[1]*k[1],L>O?(O=L,h=p,C=!1):L<F&&(F=L,S=p,C=!0)}if(C?(qe(h),g!==S&&qe(S)):(S!==T&&qe(S),g!==h&&qe(h)),qe(g),d>=r.length||!p)break;qe(p),T=p}}_e&&pe([le||_e[0],de||_e[1]]),y.push(b.slice(0,E))}var ze=x.slice(x.length-1);if(u&&ze!=="h"&&ze!=="v"){for(var Ce=!1,Le=-1,Ne=[],tr=0;tr<y.length;tr++)for(var ir=0;ir<y[tr].length-1;ir++){var mr=y[tr][ir],Tr=y[tr][ir+1],pr=Ime.applyBackoff(Tr,mr);(pr[0]!==Tr[0]||pr[1]!==Tr[1])&&(Ce=!0),Ne[Le+1]||(Le++,Ne[Le]=[mr,[pr[0],pr[1]]])}return Ce?Ne:y}return y}});var MT=ie((lOe,jz)=>{"use strict";var Zz={tonextx:1,tonexty:1,tonext:1};jz.exports=function(r,t,n){var a,o,i,s,f,l={},u=!1,c=-1,v=0,m=-1;for(o=0;o<n.length;o++)a=n[o][0].trace,i=a.stackgroup||"",i?i in l?f=l[i]:(f=l[i]=v,v++):a.fill in Zz&&m>=0?f=m:(f=m=v,v++),f<c&&(u=!0),a._groupIndex=c=f;var x=n.slice();u&&x.sort(function(w,y){var _=w[0].trace,M=y[0].trace;return _._groupIndex-M._groupIndex||_.index-M.index});var A={};for(o=0;o<x.length;o++)a=x[o][0].trace,i=a.stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in Zz&&(s=A[i],a._prevtrace=s||null,s&&(s._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),A[i]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return x}});var Qz=ie((fOe,Kz)=>{"use strict";var Hs=gn(),Ome=Dt(),eg=wr(),Cv=eg.ensureSingle,$z=eg.identity,_a=zn(),kv=hi(),Nme=Xz(),Bme=MT(),Mx=AA().tester;Kz.exports=function(r,t,n,a,o,i){var s,f,l=!o,u=!!o&&o.duration>0,c=Bme(r,t,n);if(s=a.selectAll("g.trace").data(c,function(m){return m[0].trace.uid}),s.enter().append("g").attr("class",function(m){return"trace scatter trace"+m[0].trace.uid}).style("stroke-miterlimit",2),s.order(),qme(r,s,t),u){i&&(f=i());var v=Hs.transition().duration(o.duration).ease(o.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()});v.each(function(){a.selectAll("g.trace").each(function(m,x){Jz(r,x,t,m,c,this,o)})})}else s.each(function(m,x){Jz(r,x,t,m,c,this,o)});l&&s.exit().remove(),a.selectAll("path:not([d])").remove()};function qme(e,r,t){r.each(function(n){var a=Cv(Hs.select(this),"g","fills");_a.setClipUrl(a,t.layerClipId,e);var o=n[0].trace,i=[];o._ownfill&&i.push("_ownFill"),o._nexttrace&&i.push("_nextFill");var s=a.selectAll("g").data(i,$z);s.enter().append("g"),s.exit().each(function(f){o[f]=null}).remove(),s.order().each(function(f){o[f]=Cv(Hs.select(this),"path","js-fill")})})}function Jz(e,r,t,n,a,o,i){var s=e._context.staticPlot,f;zme(e,r,t,n,a);var l=!!i&&i.duration>0;function u(Ae){return l?Ae.transition():Ae}var c=t.xaxis,v=t.yaxis,m=n[0].trace,x=m.line,A=Hs.select(o),w=Cv(A,"g","errorbars"),y=Cv(A,"g","lines"),_=Cv(A,"g","points"),M=Cv(A,"g","text");if(Ome.getComponentMethod("errorbars","plot")(e,w,t,i),m.visible!==!0)return;u(A).style("opacity",m.opacity);var b,E,d=m.fill.charAt(m.fill.length-1);d!=="x"&&d!=="y"&&(d="");var T,g;d==="y"?(T=1,g=v.c2p(0,!0)):d==="x"&&(T=0,g=c.c2p(0,!0)),n[0][t.isRangePlot?"nodeRangePlot3":"node3"]=A;var h="",S=[],p=m._prevtrace,C=null,k=null;p&&(h=p._prevRevpath||"",E=p._nextFill,S=p._ownPolygons,C=p._fillsegments,k=p._fillElement);var D,P,O="",F="",L,I,q,z,W,$,j=[];m._polygons=[];var G=[],B=[],X=eg.noop;if(b=m._ownFill,kv.hasLines(m)||m.fill!=="none"){E&&E.datum(n),["hv","vh","hvh","vhv"].indexOf(x.shape)!==-1?(L=_a.steps(x.shape),I=_a.steps(x.shape.split("").reverse().join(""))):x.shape==="spline"?L=I=function(Ae){var Ie=Ae[Ae.length-1];return Ae.length>1&&Ae[0][0]===Ie[0]&&Ae[0][1]===Ie[1]?_a.smoothclosed(Ae.slice(1),x.smoothing):_a.smoothopen(Ae,x.smoothing)}:L=I=function(Ae){return"M"+Ae.join("L")},q=function(Ae){return I(Ae.reverse())},B=Nme(n,{xaxis:c,yaxis:v,trace:m,connectGaps:m.connectgaps,baseTolerance:Math.max(x.width||1,3)/4,shape:x.shape,backoff:x.backoff,simplify:x.simplify,fill:m.fill}),G=new Array(B.length);var te=0;for(f=0;f<B.length;f++){var J,ae=B[f];!J||!d?(J=ae.slice(),G[te]=J,te++):J.push.apply(J,ae)}m._fillElement=null,m._fillExclusionElement=k,m._fillsegments=G.slice(0,te),G=m._fillsegments,B.length&&(z=B[0][0].slice(),W=B[B.length-1],$=W[W.length-1].slice()),X=function(Ae){return function(Ie){if(D=L(Ie),P=q(Ie),O?d?(O+="L"+D.substr(1),F=P+("L"+F.substr(1))):(O+="Z"+D,F=P+"Z"+F):(O=D,F=P),kv.hasLines(m)){var Ve=Hs.select(this);if(Ve.datum(n),Ae)u(Ve.style("opacity",0).attr("d",D).call(_a.lineGroupStyle)).style("opacity",1);else{var pe=u(Ve);pe.attr("d",D),_a.singleLineStyle(n,pe)}}}}}var ee=y.selectAll(".js-line").data(B);u(ee.exit()).style("opacity",0).remove(),ee.each(X(!1)),ee.enter().append("path").classed("js-line",!0).style("vector-effect",s?"none":"non-scaling-stroke").call(_a.lineGroupStyle).each(X(!0)),_a.setClipUrl(ee,t.layerClipId,e);function H(Ae){u(Ae).attr("d","M0,0Z")}var re=function(){var Ae=new Array(G.length);for(f=0;f<G.length;f++)Ae[f]=Mx(G[f]);return Ae},V=function(Ae){var Ie,Ve;if(!Ae||Ae.length===0)for(Ie=new Array(G.length),Ve=0;Ve<G.length;Ve++){var pe=G[Ve][0].slice(),xe=G[Ve][G[Ve].length-1].slice();pe[T]=xe[T]=g;var Te=[xe,pe],qe=Te.concat(G[Ve]);Ie[Ve]=Mx(qe)}else{for(Ie=new Array(Ae.length-1+G.length),Ve=0;Ve<Ae.length-1;Ve++)Ie[Ve]=Mx(Ae[Ve]);var er=Ae[Ae.length-1].slice();for(er.reverse(),Ve=0;Ve<G.length;Ve++)Ie[Ae.length-1+Ve]=Mx(G[Ve].concat(er))}return Ie};B.length?(b?(b.datum(n),z&&$&&(d?(z[T]=$[T]=g,u(b).attr("d","M"+$+"L"+z+"L"+O.substr(1)).call(_a.singleFillStyle,e),j=V(null)):(u(b).attr("d",O+"Z").call(_a.singleFillStyle,e),j=re())),m._polygons=j,m._fillElement=b):E&&(m.fill.substr(0,6)==="tonext"&&O&&h?(m.fill==="tonext"?(u(E).attr("d",O+"Z"+h+"Z").call(_a.singleFillStyle,e),j=re(),m._polygons=j.concat(S)):(u(E).attr("d",O+"L"+h.substr(1)+"Z").call(_a.singleFillStyle,e),j=V(C),m._polygons=j),m._fillElement=E):H(E)),m._prevRevpath=F):(b?H(b):E&&H(E),m._prevRevpath=null),m._ownPolygons=j;function ne(Ae){return Ae.filter(function(Ie){return!Ie.gap&&Ie.vis})}function le(Ae){return Ae.filter(function(Ie){return Ie.vis})}function de(Ae){return Ae.filter(function(Ie){return!Ie.gap})}function _e(Ae){return Ae.id}function me(Ae){if(Ae.ids)return _e}function ve(){return!1}function be(Ae,Ie,Ve){var pe,xe,Te,qe=Ve[0].trace,er=kv.hasMarkers(qe),ze=kv.hasText(qe),Ce=me(qe),Le=ve,Ne=ve;if(er||ze){var tr=$z,ir=qe.stackgroup,mr=ir&&e._fullLayout._scatterStackOpts[c._id+v._id][ir].stackgaps==="infer zero";qe.marker.maxdisplayed||qe._needsCull?tr=mr?le:ne:ir&&!mr&&(tr=de),er&&(Le=tr),ze&&(Ne=tr)}xe=Ae.selectAll("path.point"),pe=xe.data(Le,Ce);var Tr=pe.enter().append("path").classed("point",!0);l&&Tr.call(_a.pointStyle,qe,e).call(_a.translatePoints,c,v).style("opacity",0).transition().style("opacity",1),pe.order();var pr;er&&(pr=_a.makePointStyleFns(qe)),pe.each(function(nr){var Me=Hs.select(this),Fe=u(Me);Te=_a.translatePoint(nr,Fe,c,v),Te?(_a.singlePointStyle(nr,Fe,qe,pr,e),t.layerClipId&&_a.hideOutsideRangePoint(nr,Fe,c,v,qe.xcalendar,qe.ycalendar),qe.customdata&&Me.classed("plotly-customdata",nr.data!==null&&nr.data!==void 0)):Fe.remove()}),l?pe.exit().transition().style("opacity",0).remove():pe.exit().remove(),xe=Ie.selectAll("g"),pe=xe.data(Ne,Ce),pe.enter().append("g").classed("textpoint",!0).append("text"),pe.order(),pe.each(function(nr){var Me=Hs.select(this),Fe=u(Me.select("text"));Te=_a.translatePoint(nr,Fe,c,v),Te?t.layerClipId&&_a.hideOutsideRangePoint(nr,Me,c,v,qe.xcalendar,qe.ycalendar):Me.remove()}),pe.selectAll("text").call(_a.textPointStyle,qe,e).each(function(nr){var Me=c.c2p(nr.x),Fe=v.c2p(nr.y);Hs.select(this).selectAll("tspan.line").each(function(){u(Hs.select(this)).attr({x:Me,y:Fe})})}),pe.exit().remove()}_.datum(n),M.datum(n),be(_,M,n);var we=m.cliponaxis===!1,Se=we?null:t.layerClipId;_a.setClipUrl(_,Se,e),_a.setClipUrl(M,Se,e)}function zme(e,r,t,n,a){var o=t.xaxis,i=t.yaxis,s=Hs.extent(eg.simpleMap(o.range,o.r2c)),f=Hs.extent(eg.simpleMap(i.range,i.r2c)),l=n[0].trace;if(kv.hasMarkers(l)){var u=l.marker.maxdisplayed;if(u!==0){var c=n.filter(function(A){return A.x>=s[0]&&A.x<=s[1]&&A.y>=f[0]&&A.y<=f[1]}),v=Math.ceil(c.length/u),m=0;a.forEach(function(A,w){var y=A[0].trace;kv.hasMarkers(y)&&y.marker.maxdisplayed>0&&w<r&&m++});var x=Math.round(m*v/3+Math.floor(m/3)*v/7.1);n.forEach(function(A){delete A.vis}),c.forEach(function(A,w){Math.round((w+x)%v)===0&&(A.vis=!0)})}}}});var Ex=ie((uOe,eU)=>{"use strict";eU.exports={container:"marker",min:"cmin",max:"cmax"}});var ET=ie((cOe,rU)=>{"use strict";var Sx=Rn();rU.exports=function(r,t,n){var a={},o={_fullLayout:n},i=Sx.getFromTrace(o,t,"x"),s=Sx.getFromTrace(o,t,"y"),f=r.orig_x;f===void 0&&(f=r.x);var l=r.orig_y;return l===void 0&&(l=r.y),a.xLabel=Sx.tickText(i,i.c2l(f),!0).text,a.yLabel=Sx.tickText(s,s.c2l(l),!0).text,a}});var LT=ie((hOe,tU)=>{"use strict";var ST=gn(),Lv=zn(),Ume=Dt();function Gme(e){var r=ST.select(e).selectAll("g.trace.scatter");r.style("opacity",function(t){return t[0].trace.opacity}),r.selectAll("g.points").each(function(t){var n=ST.select(this),a=t.trace||t[0].trace;CT(n,a,e)}),r.selectAll("g.text").each(function(t){var n=ST.select(this),a=t.trace||t[0].trace;kT(n,a,e)}),r.selectAll("g.trace path.js-line").call(Lv.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(Lv.fillGroupStyle,e,!1),Ume.getComponentMethod("errorbars","style")(r)}function CT(e,r,t){Lv.pointStyle(e.selectAll("path.point"),r,t)}function kT(e,r,t){Lv.textPointStyle(e.selectAll("text"),r,t)}function Hme(e,r,t){var n=r[0].trace;n.selectedpoints?(Lv.selectedPointStyle(t.selectAll("path.point"),n),Lv.selectedTextStyle(t.selectAll("text"),n)):(CT(t,n,e),kT(t,n,e))}tU.exports={style:Gme,stylePoints:CT,styleText:kT,styleOnSelect:Hme}});var Cx=ie((vOe,nU)=>{"use strict";var Rv=pn(),Vme=hi();nU.exports=function(r,t){var n,a;if(r.mode==="lines")return n=r.line.color,n&&Rv.opacity(n)?n:r.fillcolor;if(r.mode==="none")return r.fill?r.fillcolor:"";var o=t.mcc||(r.marker||{}).color,i=t.mlcc||((r.marker||{}).line||{}).color;return a=o&&Rv.opacity(o)?o:i&&Rv.opacity(i)&&(t.mlw||((r.marker||{}).line||{}).width)?i:"",a?Rv.opacity(a)<.3?Rv.addOpacity(a,.3):a:(n=(r.line||{}).color,n&&Rv.opacity(n)&&Vme.hasLines(r)&&r.line.width?n:r.fillcolor)}});var oU=ie((dOe,iU)=>{"use strict";var kx=wr(),aU=pf(),Yme=Dt(),Wme=Cx(),RT=pn(),Xme=kx.fillText;iU.exports=function(r,t,n,a){var o=r.cd,i=o[0].trace,s=r.xa,f=r.ya,l=s.c2p(t),u=f.c2p(n),c=[l,u],v=i.hoveron||"",m=i.mode.indexOf("markers")!==-1?3:.5,x=!!i.xperiodalignment,A=!!i.yperiodalignment;if(v.indexOf("points")!==-1){var w=function(F){if(x){var L=s.c2p(F.xStart),I=s.c2p(F.xEnd);return l>=Math.min(L,I)&&l<=Math.max(L,I)?0:1/0}var q=Math.max(3,F.mrc||0),z=1-1/q,W=Math.abs(s.c2p(F.x)-l);return W<q?z*W/q:W-q+z},y=function(F){if(A){var L=f.c2p(F.yStart),I=f.c2p(F.yEnd);return u>=Math.min(L,I)&&u<=Math.max(L,I)?0:1/0}var q=Math.max(3,F.mrc||0),z=1-1/q,W=Math.abs(f.c2p(F.y)-u);return W<q?z*W/q:W-q+z},_=function(F){var L=Math.max(m,F.mrc||0),I=s.c2p(F.x)-l,q=f.c2p(F.y)-u;return Math.max(Math.sqrt(I*I+q*q)-L,1-m/L)},M=aU.getDistanceFunction(a,w,y,_);if(aU.getClosest(o,M,r),r.index!==!1){var b=o[r.index],E=s.c2p(b.x,!0),d=f.c2p(b.y,!0),T=b.mrc||1;r.index=b.i;var g=o[0].t.orientation,h=g&&(b.sNorm||b.s),S=g==="h"?h:b.orig_x!==void 0?b.orig_x:b.x,p=g==="v"?h:b.orig_y!==void 0?b.orig_y:b.y;return kx.extendFlat(r,{color:Wme(i,b),x0:E-T,x1:E+T,xLabelVal:S,y0:d-T,y1:d+T,yLabelVal:p,spikeDistance:_(b),hovertemplate:i.hovertemplate}),Xme(b,i,r),Yme.getComponentMethod("errorbars","hoverInfo")(b,i,r),[r]}}function C(F){if(!F)return!1;var L=F.node();try{var I=new DOMPoint(c[0],c[1]);return L.isPointInFill(I)}catch(z){var q=L.ownerSVGElement.createSVGPoint();return q.x=c[0],q.y=c[1],L.isPointInFill(q)}}function k(F){var L,I=[],q=1/0,z=-1/0,W=1/0,$=-1/0,j;for(L=0;L<F.length;L++){var G=F[L];G.contains(c)&&(I.push(G),W=Math.min(W,G.ymin),$=Math.max($,G.ymax))}if(I.length===0)return null;W=Math.max(W,0),$=Math.min($,f._length),j=(W+$)/2;var B,X,te,J,ae,ee,H;for(L=0;L<I.length;L++)for(X=I[L].pts,B=1;B<X.length;B++)ee=X[B-1][1],H=X[B][1],ee>j!=H>=j&&(J=X[B-1][0],ae=X[B][0],H-ee&&(te=J+(ae-J)*(j-ee)/(H-ee),q=Math.min(q,te),z=Math.max(z,te)));return q=Math.max(q,0),z=Math.min(z,s._length),{x0:q,x1:z,y0:j,y1:j}}if(v.indexOf("fills")!==-1&&i._fillElement){var D=C(i._fillElement)&&!C(i._fillExclusionElement);if(D){var P=k(i._polygons);P===null&&(P={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var O=RT.defaultLine;return RT.opacity(i.fillcolor)?O=i.fillcolor:RT.opacity((i.line||{}).color)&&(O=i.line.color),kx.extendFlat(r,{distance:r.maxHoverDistance,x0:P.x0,x1:P.x1,y0:P.y0,y1:P.y1,color:O,hovertemplate:!1}),delete r.index,i.text&&!kx.isArrayOrTypedArray(i.text)?r.text=String(i.text):r.text=i.name,[r]}}}});var fU=ie((pOe,lU)=>{"use strict";var sU=hi();lU.exports=function(r,t){var n=r.cd,a=r.xaxis,o=r.yaxis,i=[],s=n[0].trace,f,l,u,c,v=!sU.hasMarkers(s)&&!sU.hasText(s);if(v)return[];if(t===!1)for(f=0;f<n.length;f++)n[f].selected=0;else for(f=0;f<n.length;f++)l=n[f],u=a.c2p(l.x),c=o.c2p(l.y),l.i!==null&&t.contains([u,c],!1,f,r)?(i.push({pointNumber:l.i,x:a.c2d(l.x),y:o.c2d(l.y)}),l.selected=1):l.selected=0;return i}});var DT=ie((gOe,uU)=>{"use strict";uU.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}});var dU=ie((yOe,vU)=>{"use strict";var rg=Dt().traceIs,FT=K4();vU.exports=function(r,t,n,a){n("autotypenumbers",a.autotypenumbersDflt);var o=n("type",(a.splomStash||{}).type);o==="-"&&(Zme(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function Zme(e,r){if(e.type==="-"){var t=e._id,n=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=n);var o=jme(r,t,n);if(o){if(o.type==="histogram"&&n==={v:"y",h:"x"}[o.orientation||"v"]){e.type="linear";return}var i=n+"calendar",s=o[i],f={noMultiCategory:!rg(o,"cartesian")||rg(o,"noMultiCategory")};if(o.type==="box"&&o._hasPreCompStats&&n==={h:"x",v:"y"}[o.orientation||"v"]&&(f.noMultiCategory=!0),f.autotypenumbers=e.autotypenumbers,hU(o,n)){var l=cU(o),u=[];for(a=0;a<r.length;a++){var c=r[a];!rg(c,"box-violin")||(c[n+"axis"]||n)!==t||(c[l]!==void 0?u.push(c[l][0]):c.name!==void 0?u.push(c.name):u.push("text"),c[i]!==s&&(s=void 0))}e.type=FT(u,s,f)}else if(o.type==="splom"){var v=o.dimensions,m=v[o._axesDim[t]];m.visible&&(e.type=FT(m.values,s,f))}else e.type=FT(o[n]||[o[n+"0"]],s,f)}}}function jme(e,r,t){for(var n=0;n<e.length;n++){var a=e[n];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(hU(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function cU(e){return{v:"x",h:"y"}[e.orientation||"v"]}function hU(e,r){var t=cU(e),n=rg(e,"box-violin"),a=rg(e._fullInput||{},"candlestick");return n&&!a&&r===t&&e[t]===void 0&&e[t+"0"]===void 0}});var gU=ie((mOe,pU)=>{"use strict";var Jme=mo().isTypedArraySpec;function $me(e,r){var t=r.dataAttr||e._id.charAt(0),n={},a,o,i;if(r.axData)a=r.axData;else for(a=[],o=0;o<r.data.length;o++){var s=r.data[o];s[t+"axis"]===e._id&&a.push(s)}for(o=0;o<a.length;o++){var f=a[o][t];for(i=0;i<f.length;i++){var l=f[i];l!=null&&(n[l]=1)}}return Object.keys(n)}pU.exports=function(r,t,n,a){if(t.type==="category"){var o=r.categoryarray,i=Array.isArray(o)&&o.length>0||Jme(o),s;i&&(s="array");var f=n("categoryorder",s),l;f==="array"&&(l=n("categoryarray")),!i&&f==="array"&&(f=t.categoryorder="trace"),f==="trace"?t._initialCategories=[]:f==="array"?t._initialCategories=l.slice():(l=$me(t,a).sort(),f==="category ascending"?t._initialCategories=l:f==="category descending"&&(t._initialCategories=l.reverse()))}}});var xU=ie((xOe,mU)=>{"use strict";var yU=Is().mix,Kme=pl(),Qme=wr();mU.exports=function(r,t,n,a){a=a||{};var o=a.dfltColor;function i(T,g){return Qme.coerce2(r,t,a.attributes,T,g)}var s=i("linecolor",o),f=i("linewidth"),l=n("showline",a.showLine||!!s||!!f);l||(delete t.linecolor,delete t.linewidth);var u=yU(o,a.bgColor,a.blend||Kme.lightFraction).toRgbString(),c=i("gridcolor",u),v=i("gridwidth"),m=i("griddash"),x=n("showgrid",a.showGrid||!!c||!!v||!!m);if(x||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),a.hasMinor){var A=yU(t.gridcolor,a.bgColor,67).toRgbString(),w=i("minor.gridcolor",A),y=i("minor.gridwidth",t.gridwidth||1),_=i("minor.griddash",t.griddash||"solid"),M=n("minor.showgrid",!!w||!!y||!!_);M||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!a.noZeroLine){var b=i("zerolinecolor",o),E=i("zerolinewidth"),d=n("zeroline",a.showGrid||!!b||!!E);d||(delete t.zerolinecolor,delete t.zerolinewidth)}}});var PT=ie((bOe,MU)=>{"use strict";var bU=cn(),e3e=Dt(),tg=wr(),r3e=Yn(),t3e=qo(),IT=is(),_U=w4(),wU=T4(),n3e=S4(),a3e=C4(),i3e=gU(),o3e=xU(),s3e=m6(),AU=Bm(),Lx=Pa().WEEKDAY_PATTERN,l3e=Pa().HOUR_PATTERN;MU.exports=function(r,t,n,a,o){var i=a.letter,s=a.font||{},f=a.splomStash||{},l=n("visible",!a.visibleDflt),u=t._template||{},c=t.type||u.type||"-",v;if(c==="date"){var m=e3e.getComponentMethod("calendars","handleDefaults");m(r,t,"calendar",a.calendar),a.noTicklabelmode||(v=n("ticklabelmode"))}!a.noTicklabelindex&&(c==="date"||c==="linear")&&n("ticklabelindex");var x="";(!a.noTicklabelposition||c==="multicategory")&&(x=tg.coerce(r,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:v==="period"?["outside","inside"]:i==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),a.noTicklabeloverflow||n("ticklabeloverflow",x.indexOf("inside")!==-1?"hide past domain":c==="category"||c==="multicategory"?"allow":"hide past div"),AU(t,o),s3e(r,t,n,a),i3e(r,t,n,a),c!=="category"&&!a.noHover&&n("hoverformat");var A=n("color"),w=A!==IT.color.dflt?A:s.color,y=f.label||o._dfltTitle[i];if(a3e(r,t,n,c,a),!l)return t;n("title.text",y),tg.coerceFont(n,"title.font",s,{overrideDflt:{size:tg.bigFont(s.size),color:w}}),_U(r,t,n,c);var _=a.hasMinor;if(_&&(r3e.newContainer(t,"minor"),_U(r,t,n,c,{isMinor:!0})),n3e(r,t,n,c,a),wU(r,t,n,a),_){var M=a.isMinor;a.isMinor=!0,wU(r,t,n,a),a.isMinor=M}o3e(r,t,n,{dfltColor:A,bgColor:a.bgColor,showGrid:a.showGrid,hasMinor:_,attributes:IT}),_&&!t.minor.ticks&&!t.minor.showgrid&&delete t.minor,(t.showline||t.ticks)&&n("mirror");var b=c==="multicategory";if(!a.noTickson&&(c==="category"||b)&&(t.ticks||t.showgrid)){var E;b&&(E="boundaries");var d=n("tickson",E);d==="boundaries"&&delete t.ticklabelposition}if(b){var T=n("showdividers");T&&(n("dividercolor"),n("dividerwidth"))}if(c==="date")if(t3e(r,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:f3e}),!t.rangebreaks.length)delete t.rangebreaks;else{for(var g=0;g<t.rangebreaks.length;g++)if(t.rangebreaks[g].pattern===Lx){t._hasDayOfWeekBreaks=!0;break}if(AU(t,o),o._has("scattergl")||o._has("splom"))for(var h=0;h<a.data.length;h++){var S=a.data[h];(S.type==="scattergl"||S.type==="splom")&&(S.visible=!1,tg.warn(S.type+" traces do not work on axes with rangebreaks. Setting trace "+S.index+" to `visible: false`."))}}return t};function f3e(e,r,t){function n(v,m){return tg.coerce(e,r,IT.rangebreaks,v,m)}var a=n("enabled");if(a){var o=n("bounds");if(o&&o.length>=2){var i="",s,f;if(o.length===2){for(s=0;s<2;s++)if(f=TU(o[s]),f){i=Lx;break}}var l=n("pattern",i);if(l===Lx)for(s=0;s<2;s++)f=TU(o[s]),f&&(r.bounds[s]=o[s]=f-1);if(l)for(s=0;s<2;s++)switch(f=o[s],l){case Lx:if(!bU(f)){r.enabled=!1;return}if(f=+f,f!==Math.floor(f)||f<0||f>=7){r.enabled=!1;return}r.bounds[s]=o[s]=f;break;case l3e:if(!bU(f)){r.enabled=!1;return}if(f=+f,f<0||f>24){r.enabled=!1;return}r.bounds[s]=o[s]=f;break}if(t.autorange===!1){var u=t.range;if(u[0]<u[1]){if(o[0]<u[0]&&o[1]>u[1]){r.enabled=!1;return}}else if(o[0]>u[0]&&o[1]<u[1]){r.enabled=!1;return}}}else{var c=n("values");if(c&&c.length)n("dvalue");else{r.enabled=!1;return}}}}var u3e={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function TU(e){if(typeof e=="string")return u3e[e.substr(0,3).toLowerCase()]}});var OT=ie((_Oe,EU)=>{"use strict";var c3e=cn(),Rx=wr();EU.exports=function(r,t,n,a){var o=a.counterAxes||[],i=a.overlayableAxes||[],s=a.letter,f=a.grid,l=a.overlayingDomain,u,c,v,m,x,A;f&&(c=f._domains[s][f._axisMap[t._id]],u=f._anchors[t._id],c&&(v=f[s+"side"].split(" ")[0],m=f.domain[s][v==="right"||v==="top"?1:0])),c=c||[0,1],u=u||(c3e(r.position)?"free":o[0]||"free"),v=v||(s==="x"?"bottom":"left"),m=m||0,x=0,A=!1;var w=Rx.coerce(r,t,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:u}},"anchor"),y=Rx.coerce(r,t,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:v}},"side");if(w==="free"){if(s==="y"){var _=n("autoshift");_&&(m=y==="left"?l[0]:l[1],A=t.automargin?t.automargin:!0,x=y==="left"?-3:3),n("shift",x)}n("position",m)}n("automargin",A);var M=!1;if(i.length&&(M=Rx.coerce(r,t,{overlaying:{valType:"enumerated",values:[!1].concat(i),dflt:!1}},"overlaying")),!M){var b=n("domain",c);b[0]>b[1]-1/4096&&(t.domain=c),Rx.noneOrAll(r.domain,t.domain,c),t.tickmode==="sync"&&(t.tickmode="auto")}return n("layer"),t}});var PU=ie((wOe,IU)=>{"use strict";var y0=wr(),SU=pn(),h3e=hf().isUnifiedHover,v3e=Y6(),CU=Yn(),d3e=zc(),kU=is(),p3e=dU(),LU=PT(),g3e=yv(),RU=OT(),BT=ya(),Rl=BT.id2name,DU=BT.name2id,y3e=Pa().AX_ID_PATTERN,FU=Dt(),ng=FU.traceIs,NT=FU.getComponentMethod;function Dx(e,r,t){Array.isArray(e[r])?e[r].push(t):e[r]=[t]}IU.exports=function(r,t,n){var a=t.autotypenumbers,o={},i={},s={},f={},l={},u={},c={},v={},m={},x={},A,w;for(A=0;A<n.length;A++){var y=n[A];if(!(!ng(y,"cartesian")&&!ng(y,"gl2d"))){var _;if(y.xaxis)_=Rl(y.xaxis),Dx(o,_,y);else if(y.xaxes)for(w=0;w<y.xaxes.length;w++)Dx(o,Rl(y.xaxes[w]),y);var M;if(y.yaxis)M=Rl(y.yaxis),Dx(o,M,y);else if(y.yaxes)for(w=0;w<y.yaxes.length;w++)Dx(o,Rl(y.yaxes[w]),y);if(y.type==="funnel"?y.orientation==="h"?(_&&(i[_]=!0),M&&(c[M]=!0)):M&&(s[M]=!0):y.type==="image"?(M&&(v[M]=!0),_&&(v[_]=!0)):(M&&(l[M]=!0,u[M]=!0),(!ng(y,"carpet")||y.type==="carpet"&&!y._cheater)&&_&&(f[_]=!0)),y.type==="carpet"&&y._cheater&&_&&(i[_]=!0),ng(y,"2dMap")&&(m[_]=!0,m[M]=!0),ng(y,"oriented")){var b=y.orientation==="h"?M:_;x[b]=!0}}}var E=t._subplots,d=E.xaxis,T=E.yaxis,g=y0.simpleMap(d,Rl),h=y0.simpleMap(T,Rl),S=g.concat(h),p=SU.background;d.length&&T.length&&(p=y0.coerce(r,t,d3e,"plot_bgcolor"));var C=SU.combine(p,t.paper_bgcolor),k,D,P,O,F;function L(){var xe=o[k]||[];F._traceIndices=xe.map(function(Te){return Te._expandedIndex}),F._annIndices=[],F._shapeIndices=[],F._selectionIndices=[],F._imgIndices=[],F._subplotsWith=[],F._counterAxes=[],F._name=F._attr=k,F._id=D}function I(xe,Te){return y0.coerce(O,F,kU,xe,Te)}function q(xe,Te){return y0.coerce2(O,F,kU,xe,Te)}function z(xe){return xe==="x"?T:d}function W(xe,Te){for(var qe=xe==="x"?g:h,er=[],ze=0;ze<qe.length;ze++){var Ce=qe[ze];Ce!==Te&&!(r[Ce]||{}).overlaying&&er.push(DU(Ce))}return er}var $={x:z("x"),y:z("y")},j=$.x.concat($.y),G={},B=[];function X(){var xe=O.matches;y3e.test(xe)&&j.indexOf(xe)===-1&&(G[xe]=O.type,B=Object.keys(G))}var te=v3e(r,t),J=h3e(te);for(A=0;A<S.length;A++){k=S[A],D=DU(k),P=k.charAt(0),y0.isPlainObject(r[k])||(r[k]={}),O=r[k],F=CU.newContainer(t,k,P+"axis"),L();var ae=P==="x"&&!f[k]&&i[k]||P==="y"&&!l[k]&&s[k],ee=P==="y"&&(!u[k]&&c[k]||v[k]),H={hasMinor:!0,letter:P,font:t.font,outerTicks:m[k],showGrid:!x[k],data:o[k]||[],bgColor:C,calendar:t.calendar,automargin:!0,visibleDflt:ae,reverseDflt:ee,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[P]||{})[D],noAutotickangles:P==="y"};I("uirevision",t.uirevision),p3e(O,F,I,H),LU(O,F,I,H,t);var re=J&&P===te.charAt(0),V=q("spikecolor",J?F.color:void 0),ne=q("spikethickness",J?1.5:void 0),le=q("spikedash",J?"dot":void 0),de=q("spikemode",J?"across":void 0),_e=q("spikesnap"),me=I("showspikes",!!re||!!V||!!ne||!!le||!!de||!!_e);me||(delete F.spikecolor,delete F.spikethickness,delete F.spikedash,delete F.spikemode,delete F.spikesnap);var ve=Rl(O.overlaying),be=[0,1];if(t[ve]!==void 0){var we=Rl(t[ve].anchor);t[we]!==void 0&&(be=t[we].domain)}RU(O,F,I,{letter:P,counterAxes:$[P],overlayableAxes:W(P,k),grid:t.grid,overlayingDomain:be}),I("title.standoff"),X(),F._input=O}for(A=0;A<B.length;){D=B[A++],k=Rl(D),P=k.charAt(0),y0.isPlainObject(r[k])||(r[k]={}),O=r[k],F=CU.newContainer(t,k,P+"axis"),L();var Se={letter:P,font:t.font,outerTicks:m[k],showGrid:!x[k],data:[],bgColor:C,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[P]||{})[D]};I("uirevision",t.uirevision),F.type=G[D]||"linear",LU(O,F,I,Se,t),RU(O,F,I,{letter:P,counterAxes:$[P],overlayableAxes:W(P,k),grid:t.grid}),I("fixedrange"),X(),F._input=O}var Ae=NT("rangeslider","handleDefaults"),Ie=NT("rangeselector","handleDefaults");for(A=0;A<g.length;A++)k=g[A],O=r[k],F=t[k],Ae(r,t,k),F.type==="date"&&Ie(O,F,t,h,F.calendar),I("fixedrange");for(A=0;A<h.length;A++){k=h[A],O=r[k],F=t[k];var Ve=t[Rl(F.anchor)],pe=NT("rangeslider","isVisible")(Ve);I("fixedrange",pe)}g3e.handleDefaults(r,t,{axIds:j.concat(B).sort(BT.idSort),axHasImage:v})}});var BU=ie((AOe,NU)=>{"use strict";var m3e=gn(),OU=Dt(),Fx=wr(),Vo=zn(),Ix=Rn();NU.exports=function(r,t,n,a){var o=r._fullLayout;if(t.length===0){Ix.redrawComponents(r);return}function i(w){var y=w.xaxis,_=w.yaxis;o._defs.select("#"+w.clipId+"> rect").call(Vo.setTranslate,0,0).call(Vo.setScale,1,1),w.plot.call(Vo.setTranslate,y._offset,_._offset).call(Vo.setScale,1,1);var M=w.plot.selectAll(".scatterlayer .trace");M.selectAll(".point").call(Vo.setPointGroupScale,1,1),M.selectAll(".textpoint").call(Vo.setTextPointsScale,1,1),M.call(Vo.hideOutsideRangePoints,w)}function s(w,y){var _=w.plotinfo,M=_.xaxis,b=_.yaxis,E=M._length,d=b._length,T=!!w.xr1,g=!!w.yr1,h=[];if(T){var S=Fx.simpleMap(w.xr0,M.r2l),p=Fx.simpleMap(w.xr1,M.r2l),C=S[1]-S[0],k=p[1]-p[0];h[0]=(S[0]*(1-y)+y*p[0]-S[0])/(S[1]-S[0])*E,h[2]=E*(1-y+y*k/C),M.range[0]=M.l2r(S[0]*(1-y)+y*p[0]),M.range[1]=M.l2r(S[1]*(1-y)+y*p[1])}else h[0]=0,h[2]=E;if(g){var D=Fx.simpleMap(w.yr0,b.r2l),P=Fx.simpleMap(w.yr1,b.r2l),O=D[1]-D[0],F=P[1]-P[0];h[1]=(D[1]*(1-y)+y*P[1]-D[1])/(D[0]-D[1])*d,h[3]=d*(1-y+y*F/O),b.range[0]=M.l2r(D[0]*(1-y)+y*P[0]),b.range[1]=b.l2r(D[1]*(1-y)+y*P[1])}else h[1]=0,h[3]=d;Ix.drawOne(r,M,{skipTitle:!0}),Ix.drawOne(r,b,{skipTitle:!0}),Ix.redrawComponents(r,[M._id,b._id]);var L=T?E/h[2]:1,I=g?d/h[3]:1,q=T?h[0]:0,z=g?h[1]:0,W=T?h[0]/h[2]*E:0,$=g?h[1]/h[3]*d:0,j=M._offset-W,G=b._offset-$;_.clipRect.call(Vo.setTranslate,q,z).call(Vo.setScale,1/L,1/I),_.plot.call(Vo.setTranslate,j,G).call(Vo.setScale,L,I),Vo.setPointGroupScale(_.zoomScalePts,1/L,1/I),Vo.setTextPointsScale(_.zoomScaleTxt,1/L,1/I)}var f;a&&(f=a());function l(){for(var w={},y=0;y<t.length;y++){var _=t[y],M=_.plotinfo.xaxis,b=_.plotinfo.yaxis;_.xr1&&(w[M._name+".range"]=_.xr1.slice()),_.yr1&&(w[b._name+".range"]=_.yr1.slice())}return f&&f(),OU.call("relayout",r,w).then(function(){for(var E=0;E<t.length;E++)i(t[E].plotinfo)})}function u(){for(var w={},y=0;y<t.length;y++){var _=t[y],M=_.plotinfo.xaxis,b=_.plotinfo.yaxis;_.xr0&&(w[M._name+".range"]=_.xr0.slice()),_.yr0&&(w[b._name+".range"]=_.yr0.slice())}return OU.call("relayout",r,w).then(function(){for(var E=0;E<t.length;E++)i(t[E].plotinfo)})}var c,v,m,x=m3e.ease(n.easing);r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(m),m=null,u()});function A(){v=Date.now();for(var w=Math.min(1,(v-c)/n.duration),y=x(w),_=0;_<t.length;_++)s(t[_],y);v-c>n.duration?(l(),m=window.cancelAnimationFrame(A)):m=window.requestAnimationFrame(A)}return c=Date.now(),m=window.requestAnimationFrame(A),Promise.resolve()}});var Dv=ie(ki=>{"use strict";var Ox=gn(),qU=Dt(),m0=wr(),x3e=Za(),b3e=zn(),zU=Wh().getModuleCalcData,Ou=ya(),Vs=Pa(),_3e=ff(),Dn=m0.ensureSingle;function Px(e,r,t){return m0.ensureSingle(e,r,t,function(n){n.datum(t)})}var x0=Vs.zindexSeparator;ki.name="cartesian";ki.attr=["xaxis","yaxis"];ki.idRoot=["x","y"];ki.idRegex=Vs.idRegex;ki.attrRegex=Vs.attrRegex;ki.attributes=DT();ki.layoutAttributes=is();ki.supplyLayoutDefaults=PU();ki.transitionAxes=BU();ki.finalizeSubplots=function(e,r){var t=r._subplots,n=t.xaxis,a=t.yaxis,o=t.cartesian,i=o.concat(t.gl2d||[]),s={},f={},l,u,c;for(l=0;l<i.length;l++){var v=i[l].split("y");s[v[0]]=1,f["y"+v[1]]=1}for(l=0;l<n.length;l++)u=n[l],s[u]||(c=(e[Ou.id2name(u)]||{}).anchor,Vs.idRegex.y.test(c)||(c="y"),o.push(u+c),i.push(u+c),f[c]||(f[c]=1,m0.pushUnique(a,c)));for(l=0;l<a.length;l++)c=a[l],f[c]||(u=(e[Ou.id2name(c)]||{}).anchor,Vs.idRegex.x.test(u)||(u="x"),o.push(u+c),i.push(u+c),s[u]||(s[u]=1,m0.pushUnique(n,u)));if(!i.length){u="",c="";for(var m in e)if(Vs.attrRegex.test(m)){var x=m.charAt(0);x==="x"?(!u||+m.substr(5)<+u.substr(5))&&(u=m):(!c||+m.substr(5)<+c.substr(5))&&(c=m)}u=u?Ou.name2id(u):"x",c=c?Ou.name2id(c):"y",n.push(u),a.push(c),o.push(u+c)}};ki.plot=function(e,r,t,n){var a=e._fullLayout,o=a._subplots.cartesian,i=e.calcdata,s;if(!Array.isArray(r))for(r=[],s=0;s<i.length;s++)r.push(s);for(var f=a._zindices,l=0;l<f.length;l++){var u=f[l];for(s=0;s<o.length;s++){var c=o[s],v=a._plots[c];if(l>0){var m=v.id;if(m.indexOf(x0)!==-1)continue;m+=x0+(l+1),v=m0.extendFlat({},v,{id:m,plot:a._cartesianlayer.selectAll(".subplot").select("."+m)})}for(var x=[],A,w=0;w<i.length;w++){var y=i[w],_=y[0].trace;u===(_.zorder||0)&&_.xaxis+_.yaxis===c&&((r.indexOf(_.index)!==-1||_.carpet)&&(A&&A[0].trace.xaxis+A[0].trace.yaxis===c&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&x.indexOf(A)===-1&&x.push(A),x.push(y)),A=y)}UU(e,v,x,t,n)}}};function UU(e,r,t,n,a){for(var o=Vs.traceLayerClasses,i=e._fullLayout,s=i._zindices,f=i._modules,l,u,c,v=[],m=[],x=0;x<s.length;x++)for(var A=s[x],w=0;w<f.length;w++){l=f[w];var y=l.name,_=qU.modules[y].categories;if(_.svg){var M=l.layerName||y+"layer",b=M+(x?Number(x)+1:""),E=l.plot;u=zU(t,E,A),c=u[0],t=u[1],c.length&&v.push({i:o.indexOf(M),zindex:x,className:b,plotMethod:E,cdModule:c}),_.zoomScale&&m.push("."+b)}}v.sort(function(g,h){return(g.zindex||0)-(h.zindex||0)||g.i-h.i});var d=r.plot.selectAll("g.mlayer").data(v,function(g){return g.className});if(d.enter().append("g").attr("class",function(g){return g.className}).classed("mlayer",!0).classed("rangeplot",r.isRangePlot),d.exit().remove(),d.order(),d.each(function(g){var h=Ox.select(this),S=g.className;g.plotMethod(e,r,g.cdModule,h,n,a),Vs.clipOnAxisFalseQuery.indexOf("."+S)===-1&&b3e.setClipUrl(h,r.layerClipId,e)}),i._has("scattergl")&&(l=qU.getModule("scattergl"),c=zU(t,l)[0],l.plot(e,r,c)),!e._context.staticPlot&&(r._hasClipOnAxisFalse&&(r.clipOnAxisFalseTraces=r.plot.selectAll(Vs.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),m.length)){var T=r.plot.selectAll(m.join(",")).selectAll(".trace");r.zoomScalePts=T.selectAll("path.point"),r.zoomScaleTxt=T.selectAll(".textpoint")}}ki.clean=function(e,r,t,n){var a=n._plots||{},o=r._plots||{},i=n._subplots||{},s,f,l;if(n._hasOnlyLargeSploms&&!r._hasOnlyLargeSploms)for(l in a)s=a[l],s.plotgroup&&s.plotgroup.remove();var u=n._has&&n._has("gl"),c=r._has&&r._has("gl");if(u&&!c)for(l in a)s=a[l],s._scene&&s._scene.destroy();if(i.xaxis&&i.yaxis){var v=Ou.listIds({_fullLayout:n});for(f=0;f<v.length;f++){var m=v[f];r[Ou.id2name(m)]||n._infolayer.selectAll(".g-"+m+"title").remove()}}var x=n._has&&n._has("cartesian"),A=r._has&&r._has("cartesian");if(x&&!A)HU(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(i.cartesian)for(f=0;f<i.cartesian.length;f++){var w=i.cartesian[f];if(w.indexOf(x0)===-1&&!o[w]){var y="."+w+",."+w+"-x,."+w+"-y";n._cartesianlayer.selectAll(y).remove(),VU(w,n)}}};ki.drawFramework=function(e){var r=e._fullLayout,t=e.calcdata,n,a={};for(n=0;n<t.length;n++){var o=t[n][0],i=o.trace,s=i.zorder||0;a[s]||(a[s]=[]),a[s].push(o)}var f=Object.keys(a).map(Number).sort(m0.sorterAsc);f.length||(f=[0]),r._zindices=f;var l=w3e(e),u=l.length,c=[];for(n=0;n<u;n++)c[n]=l[n].slice();for(var v=1;v<f.length;v++){var m=[];for(n=0;n<u;n++)m[n]=l[n].slice(),m[n][0]+=x0+(v+1);c=c.concat(m)}var x=r._cartesianlayer.selectAll(".subplot").data(c,String);x.enter().append("g").attr("class",function(A){return"subplot "+A[0]}),x.order(),x.exit().call(HU,r),x.each(function(A){var w=A[0],y=w.indexOf(x0),_=y!==-1,M=_?w.slice(0,y):w,b=r._plots[w];b||(b=m0.extendFlat({},r._plots[M]),b&&(b.id=w,r._plots[w]=b,r._subplots.cartesian.push(w))),b&&(b.plotgroup=Ox.select(this),GU(e,b),_||(b.draglayer=Dn(r._draggers,"g",w)))})};ki.rangePlot=function(e,r,t){GU(e,r),UU(e,r,t),x3e.style(e)};function w3e(e){var r=e._fullLayout,t=r._zindices.length,n=r._subplots.cartesian,a=n.length,o,i,s,f,l,u,c=[],v=[];for(o=0;o<a;o++){s=n[o],f=r._plots[s],l=f.xaxis,u=f.yaxis;var m=l._mainAxis,x=u._mainAxis,A=m._id+x._id,w=r._plots[A];f.overlays=[],A!==s&&w?(f.mainplot=A,f.mainplotinfo=w,v.push(s)):(f.mainplot=void 0,f.mainplotinfo=void 0,c.push(s))}for(o=0;o<v.length;o++)s=v[o],f=r._plots[s],f.mainplotinfo.overlays.push(f);var y=c.concat(v),_=[];for(o=0;o<a;o++){s=y[o],f=r._plots[s],l=f.xaxis,u=f.yaxis;for(var M=[],b=1;b<=t;b++){var E="";for(b>1&&(E+=x0+b),M.push(s+E),i=0;i<f.overlays.length;i++)M.push(f.overlays[i].id+E)}M=M.concat([l.layer,u.layer,l.overlaying||"",u.overlaying||""]),_.push(M)}return _}function GU(e,r){var t=e._fullLayout,n=r.plotgroup,a=r.id,o=a.indexOf(x0),i=o!==-1,s=Vs.layerValue2layerClass[r.xaxis.layer],f=Vs.layerValue2layerClass[r.yaxis.layer],l=t._hasOnlyLargeSploms;if(!r.mainplot||t._zindices.length>1)if(l)r.xlines=Dn(n,"path","xlines-above"),r.ylines=Dn(n,"path","ylines-above"),r.xaxislayer=Dn(n,"g","xaxislayer-above"),r.yaxislayer=Dn(n,"g","yaxislayer-above");else{if(!i){var u=Dn(n,"g","layer-subplot");r.shapelayer=Dn(u,"g","shapelayer"),r.imagelayer=Dn(u,"g","imagelayer"),r.minorGridlayer=Dn(n,"g","minor-gridlayer"),r.gridlayer=Dn(n,"g","gridlayer"),r.zerolinelayer=Dn(n,"g","zerolinelayer");var c=Dn(n,"g","layer-between");r.shapelayerBetween=Dn(c,"g","shapelayer"),r.imagelayerBetween=Dn(c,"g","imagelayer"),Dn(n,"path","xlines-below"),Dn(n,"path","ylines-below"),r.overlinesBelow=Dn(n,"g","overlines-below"),Dn(n,"g","xaxislayer-below"),Dn(n,"g","yaxislayer-below"),r.overaxesBelow=Dn(n,"g","overaxes-below")}r.overplot=Dn(n,"g","overplot"),r.plot=Dn(r.overplot,"g",a),i||(r.xlines=Dn(n,"path","xlines-above"),r.ylines=Dn(n,"path","ylines-above"),r.overlinesAbove=Dn(n,"g","overlines-above"),Dn(n,"g","xaxislayer-above"),Dn(n,"g","yaxislayer-above"),r.overaxesAbove=Dn(n,"g","overaxes-above"),r.xlines=n.select(".xlines-"+s),r.ylines=n.select(".ylines-"+f),r.xaxislayer=n.select(".xaxislayer-"+s),r.yaxislayer=n.select(".yaxislayer-"+f))}else{var v=r.mainplotinfo,m=v.plotgroup,x=a+"-x",A=a+"-y";r.minorGridlayer=v.minorGridlayer,r.gridlayer=v.gridlayer,r.zerolinelayer=v.zerolinelayer,Dn(v.overlinesBelow,"path",x),Dn(v.overlinesBelow,"path",A),Dn(v.overaxesBelow,"g",x),Dn(v.overaxesBelow,"g",A),r.plot=Dn(v.overplot,"g",a),Dn(v.overlinesAbove,"path",x),Dn(v.overlinesAbove,"path",A),Dn(v.overaxesAbove,"g",x),Dn(v.overaxesAbove,"g",A),r.xlines=m.select(".overlines-"+s).select("."+x),r.ylines=m.select(".overlines-"+f).select("."+A),r.xaxislayer=m.select(".overaxes-"+s).select("."+x),r.yaxislayer=m.select(".overaxes-"+f).select("."+A)}i||(l||(Px(r.minorGridlayer,"g",r.xaxis._id),Px(r.minorGridlayer,"g",r.yaxis._id),r.minorGridlayer.selectAll("g").map(function(w){return w[0]}).sort(Ou.idSort),Px(r.gridlayer,"g",r.xaxis._id),Px(r.gridlayer,"g",r.yaxis._id),r.gridlayer.selectAll("g").map(function(w){return w[0]}).sort(Ou.idSort)),r.xlines.style("fill","none").classed("crisp",!0),r.ylines.style("fill","none").classed("crisp",!0))}function HU(e,r){if(e){var t={};e.each(function(f){var l=f[0],u=Ox.select(this);u.remove(),VU(l,r),t[l]=!0});for(var n in r._plots)for(var a=r._plots[n],o=a.overlays||[],i=0;i<o.length;i++){var s=o[i];t[s.id]&&s.plot.selectAll(".trace").remove()}}}function VU(e,r){r._draggers.selectAll("g."+e).remove(),r._defs.select("#clip"+r._uid+e+"plot").remove()}ki.toSVG=function(e){var r=e._fullLayout._glimages,t=Ox.select(e).selectAll(".svg-container"),n=t.filter(function(o,i){return i===t.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function a(){var o=this,i=o.toDataURL("image/png"),s=r.append("svg:image");s.attr({xmlns:_3e.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}n.each(a)};ki.updateFx=VA().updateFx});var WU=ie((MOe,YU)=>{"use strict";var Nx=hi();YU.exports={hasLines:Nx.hasLines,hasMarkers:Nx.hasMarkers,hasText:Nx.hasText,isBubble:Nx.isBubble,attributes:kl(),layoutAttributes:vm(),supplyDefaults:oz(),crossTraceDefaults:vT(),supplyLayoutDefaults:cz(),calc:Mv().calc,crossTraceCalc:zz(),arraysToCalcdata:_x(),plot:Qz(),colorbar:Ex(),formatLabels:ET(),style:LT().style,styleOnSelect:LT().styleOnSelect,hoverPoints:oU(),selectPoints:fU(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:Dv(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}});var jU=ie((EOe,ZU)=>{"use strict";var A3e=gn(),T3e=pn(),XU=PA(),qT=wr(),M3e=qT.strScale,E3e=qT.strRotate,S3e=qT.strTranslate;ZU.exports=function(r,t,n){var a=r.node(),o=XU[n.arrowhead||0],i=XU[n.startarrowhead||0],s=(n.arrowwidth||1)*(n.arrowsize||1),f=(n.arrowwidth||1)*(n.startarrowsize||1),l=t.indexOf("start")>=0,u=t.indexOf("end")>=0,c=o.backoff*s+n.standoff,v=i.backoff*f+n.startstandoff,m,x,A,w;if(a.nodeName==="line"){m={x:+r.attr("x1"),y:+r.attr("y1")},x={x:+r.attr("x2"),y:+r.attr("y2")};var y=m.x-x.x,_=m.y-x.y;if(A=Math.atan2(_,y),w=A+Math.PI,c&&v&&c+v>Math.sqrt(y*y+_*_)){D();return}if(c){if(c*c>y*y+_*_){D();return}var M=c*Math.cos(A),b=c*Math.sin(A);x.x+=M,x.y+=b,r.attr({x2:x.x,y2:x.y})}if(v){if(v*v>y*y+_*_){D();return}var E=v*Math.cos(A),d=v*Math.sin(A);m.x-=E,m.y-=d,r.attr({x1:m.x,y1:m.y})}}else if(a.nodeName==="path"){var T=a.getTotalLength(),g="";if(T<c+v){D();return}var h=a.getPointAtLength(0),S=a.getPointAtLength(.1);A=Math.atan2(h.y-S.y,h.x-S.x),m=a.getPointAtLength(Math.min(v,T)),g="0px,"+v+"px,";var p=a.getPointAtLength(T),C=a.getPointAtLength(T-.1);w=Math.atan2(p.y-C.y,p.x-C.x),x=a.getPointAtLength(Math.max(0,T-c));var k=g?v+c:c;g+=T-k+"px,"+T+"px",r.style("stroke-dasharray",g)}function D(){r.style("stroke-dasharray","0px,100px")}function P(O,F,L,I){O.path&&(O.noRotate&&(L=0),A3e.select(a.parentNode).append("path").attr({class:r.attr("class"),d:O.path,transform:S3e(F.x,F.y)+E3e(L*180/Math.PI)+M3e(I)}).style({fill:T3e.rgb(n.arrowcolor),"stroke-width":0}))}l&&P(i,m,A,f),u&&P(o,x,w,s)}});var Bx=ie((SOe,eG)=>{"use strict";var JU=gn(),zT=Dt(),C3e=Za(),Bu=wr(),UT=Bu.strTranslate,ig=Rn(),b0=pn(),wf=zn(),$U=pf(),GT=Ni(),HT=Mu(),ag=Bs(),k3e=Yn().arrayEditor,L3e=jU();eG.exports={draw:R3e,drawOne:KU,drawRaw:QU};function R3e(e){var r=e._fullLayout;r._infolayer.selectAll(".annotation").remove();for(var t=0;t<r.annotations.length;t++)r.annotations[t].visible&&KU(e,t);return C3e.previousPromises(e)}function KU(e,r){var t=e._fullLayout,n=t.annotations[r]||{},a=ig.getFromId(e,n.xref),o=ig.getFromId(e,n.yref);a&&a.setScale(),o&&o.setScale(),QU(e,n,r,!1,a,o)}function Nu(e,r,t,n,a){var o=a[t],i=a[t+"ref"],s=t.indexOf("y")!==-1,f=ig.getRefType(i)==="domain",l=s?n.h:n.w;return e?f?o+(s?-r:r)/e._length:e.p2r(e.r2p(o)+r):o+(s?-r:r)/l}function QU(e,r,t,n,a,o){var i=e._fullLayout,s=e._fullLayout._size,f=e._context.edits,l,u;n?(l="annotation-"+n,u=n+".annotations"):(l="annotation",u="annotations");var c=k3e(e.layout,u,r),v=c.modifyBase,m=c.modifyItem,x=c.getUpdateObj;i._infolayer.selectAll("."+l+'[data-index="'+t+'"]').remove();var A="clip"+i._uid+"_ann"+t;if(!r._input||r.visible===!1){JU.selectAll("#"+A).remove();return}var w={x:{},y:{}},y=+r.textangle||0,_=i._infolayer.append("g").classed(l,!0).attr("data-index",String(t)).style("opacity",r.opacity),M=_.append("g").classed("annotation-text-g",!0),b=f[r.showarrow?"annotationTail":"annotationPosition"],E=r.captureevents||f.annotationText||b;function d(I){var q={index:t,annotation:r._input,fullAnnotation:r,event:I};return n&&(q.subplotId=n),q}var T=M.append("g").style("pointer-events",E?"all":null).call(HT,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",d(JU.event))});r.hovertext&&T.on("mouseover",function(){var I=r.hoverlabel,q=I.font,z=this.getBoundingClientRect(),W=e.getBoundingClientRect();$U.loneHover({x0:z.left-W.left,x1:z.right-W.left,y:(z.top+z.bottom)/2-W.top,text:r.hovertext,color:I.bgcolor,borderColor:I.bordercolor,fontFamily:q.family,fontSize:q.size,fontColor:q.color,fontWeight:q.weight,fontStyle:q.style,fontVariant:q.variant,fontShadow:q.fontShadow,fontLineposition:q.fontLineposition,fontTextcase:q.fontTextcase},{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:e})}).on("mouseout",function(){$U.loneUnhover(i._hoverlayer.node())});var g=r.borderwidth,h=r.borderpad,S=g+h,p=T.append("rect").attr("class","bg").style("stroke-width",g+"px").call(b0.stroke,r.bordercolor).call(b0.fill,r.bgcolor),C=r.width||r.height,k=i._topclips.selectAll("#"+A).data(C?[0]:[]);k.enter().append("clipPath").classed("annclip",!0).attr("id",A).append("rect"),k.exit().remove();var D=r.font,P=i._meta?Bu.templateString(r.text,i._meta):r.text,O=T.append("text").classed("annotation-text",!0).text(P);function F(I){return I.call(wf.font,D).attr({"text-anchor":{left:"start",right:"end"}[r.align]||"middle"}),GT.convertToTspans(I,e,L),I}function L(){var I=O.selectAll("a");if(I.size()===1&&I.text()===O.text()){var q=T.insert("a",":first-child").attr({"xlink:xlink:href":I.attr("xlink:href"),"xlink:xlink:show":I.attr("xlink:show")}).style({cursor:"pointer"});q.node().appendChild(p.node())}var z=T.select(".annotation-text-math-group"),W=!z.empty(),$=wf.bBox((W?z:O).node()),j=$.width,G=$.height,B=r.width||j,X=r.height||G,te=Math.round(B+2*S),J=Math.round(X+2*S);function ae(ur,je){return je==="auto"&&(ur<1/3?je="left":ur>2/3?je="right":je="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[je]}for(var ee=!1,H=["x","y"],re=0;re<H.length;re++){var V=H[re],ne=r[V+"ref"]||V,le=r["a"+V+"ref"],de={x:a,y:o}[V],_e=(y+(V==="x"?0:-90))*Math.PI/180,me=te*Math.cos(_e),ve=J*Math.sin(_e),be=Math.abs(me)+Math.abs(ve),we=r[V+"anchor"],Se=r[V+"shift"]*(V==="x"?1:-1),Ae=w[V],Ie,Ve,pe,xe,Te,qe=ig.getRefType(ne);if(de&&qe!=="domain"){var er=de.r2fraction(r[V]);(er<0||er>1)&&(le===ne?(er=de.r2fraction(r["a"+V]),(er<0||er>1)&&(ee=!0)):ee=!0),Ie=de._offset+de.r2p(r[V]),xe=.5}else{var ze=qe==="domain";V==="x"?(pe=r[V],Ie=ze?de._offset+de._length*pe:Ie=s.l+s.w*pe):(pe=1-r[V],Ie=ze?de._offset+de._length*pe:Ie=s.t+s.h*pe),xe=r.showarrow?.5:pe}if(r.showarrow){Ae.head=Ie;var Ce=r["a"+V];if(Te=me*ae(.5,r.xanchor)-ve*ae(.5,r.yanchor),le===ne){var Le=ig.getRefType(le);Le==="domain"?(V==="y"&&(Ce=1-Ce),Ae.tail=de._offset+de._length*Ce):Le==="paper"?V==="y"?(Ce=1-Ce,Ae.tail=s.t+s.h*Ce):Ae.tail=s.l+s.w*Ce:Ae.tail=de._offset+de.r2p(Ce),Ve=Te}else Ae.tail=Ie+Ce,Ve=Te+Ce;Ae.text=Ae.tail+Te;var Ne=i[V==="x"?"width":"height"];if(ne==="paper"&&(Ae.head=Bu.constrain(Ae.head,1,Ne-1)),le==="pixel"){var tr=-Math.max(Ae.tail-3,Ae.text),ir=Math.min(Ae.tail+3,Ae.text)-Ne;tr>0?(Ae.tail+=tr,Ae.text+=tr):ir>0&&(Ae.tail-=ir,Ae.text-=ir)}Ae.tail+=Se,Ae.head+=Se}else Te=be*ae(xe,we),Ve=Te,Ae.text=Ie+Te;Ae.text+=Se,Te+=Se,Ve+=Se,r["_"+V+"padplus"]=be/2+Ve,r["_"+V+"padminus"]=be/2-Ve,r["_"+V+"size"]=be,r["_"+V+"shift"]=Te}if(ee){T.remove();return}var mr=0,Tr=0;if(r.align!=="left"&&(mr=(B-j)*(r.align==="center"?.5:1)),r.valign!=="top"&&(Tr=(X-G)*(r.valign==="middle"?.5:1)),W)z.select("svg").attr({x:S+mr-1,y:S+Tr}).call(wf.setClipUrl,C?A:null,e);else{var pr=S+Tr-$.top,nr=S+mr-$.left;O.call(GT.positionText,nr,pr).call(wf.setClipUrl,C?A:null,e)}k.select("rect").call(wf.setRect,S,S,B,X),p.call(wf.setRect,g/2,g/2,te-g,J-g),T.call(wf.setTranslate,Math.round(w.x.text-te/2),Math.round(w.y.text-J/2)),M.attr({transform:"rotate("+y+","+w.x.text+","+w.y.text+")"});var Me=function(ur,je){_.selectAll(".annotation-arrow-g").remove();var Er=w.x.head,ue=w.y.head,Q=w.x.tail+ur,oe=w.y.tail+je,Ee=w.x.text+ur,Xe=w.y.text+je,ar=Bu.rotationXYMatrix(y,Ee,Xe),yr=Bu.apply2DTransform(ar),Kr=Bu.apply2DTransform2(ar),mt=+p.attr("width"),Ft=+p.attr("height"),wt=Ee-.5*mt,bt=wt+mt,Ln=Xe-.5*Ft,tn=Ln+Ft,it=[[wt,Ln,wt,tn],[wt,tn,bt,tn],[bt,tn,bt,Ln],[bt,Ln,wt,Ln]].map(Kr);if(!it.reduce(function(xn,la){return xn^!!Bu.segmentsIntersect(Er,ue,Er+1e6,ue+1e6,la[0],la[1],la[2],la[3])},!1)){it.forEach(function(xn){var la=Bu.segmentsIntersect(Q,oe,Er,ue,xn[0],xn[1],xn[2],xn[3]);la&&(Q=la.x,oe=la.y)});var Mn=r.arrowwidth,Lt=r.arrowcolor,$t=r.arrowside,Un=_.append("g").style({opacity:b0.opacity(Lt)}).classed("annotation-arrow-g",!0),Gt=Un.append("path").attr("d","M"+Q+","+oe+"L"+Er+","+ue).style("stroke-width",Mn+"px").call(b0.stroke,b0.rgb(Lt));if(L3e(Gt,$t,r),f.annotationPosition&&Gt.node().parentNode&&!n){var Yt=Er,Gn=ue;if(r.standoff){var Vn=Math.sqrt(Math.pow(Er-Q,2)+Math.pow(ue-oe,2));Yt+=r.standoff*(Q-Er)/Vn,Gn+=r.standoff*(oe-ue)/Vn}var Va=Un.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Q-Yt)+","+(oe-Gn),transform:UT(Yt,Gn)}).style("stroke-width",Mn+6+"px").call(b0.stroke,"rgba(0,0,0,0)").call(b0.fill,"rgba(0,0,0,0)"),va,Qn;ag.init({element:Va.node(),gd:e,prepFn:function(){var xn=wf.getTranslate(T);va=xn.x,Qn=xn.y,a&&a.autorange&&v(a._name+".autorange",!0),o&&o.autorange&&v(o._name+".autorange",!0)},moveFn:function(xn,la){var Yi=yr(va,Qn),Fi=Yi[0]+xn,gi=Yi[1]+la;T.call(wf.setTranslate,Fi,gi),m("x",Nu(a,xn,"x",s,r)),m("y",Nu(o,la,"y",s,r)),r.axref===r.xref&&m("ax",Nu(a,xn,"ax",s,r)),r.ayref===r.yref&&m("ay",Nu(o,la,"ay",s,r)),Un.attr("transform",UT(xn,la)),M.attr({transform:"rotate("+y+","+Fi+","+gi+")"})},doneFn:function(){zT.call("_guiRelayout",e,x());var xn=document.querySelector(".js-notes-box-panel");xn&&xn.redraw(xn.selectedObj)}})}}};if(r.showarrow&&Me(0,0),b){var Fe;ag.init({element:T.node(),gd:e,prepFn:function(){Fe=M.attr("transform")},moveFn:function(ur,je){var Er="pointer";if(r.showarrow)r.axref===r.xref?m("ax",Nu(a,ur,"ax",s,r)):m("ax",r.ax+ur),r.ayref===r.yref?m("ay",Nu(o,je,"ay",s.w,r)):m("ay",r.ay+je),Me(ur,je);else{if(n)return;var ue,Q;if(a)ue=Nu(a,ur,"x",s,r);else{var oe=r._xsize/s.w,Ee=r.x+(r._xshift-r.xshift)/s.w-oe/2;ue=ag.align(Ee+ur/s.w,oe,0,1,r.xanchor)}if(o)Q=Nu(o,je,"y",s,r);else{var Xe=r._ysize/s.h,ar=r.y-(r._yshift+r.yshift)/s.h-Xe/2;Q=ag.align(ar-je/s.h,Xe,0,1,r.yanchor)}m("x",ue),m("y",Q),(!a||!o)&&(Er=ag.getCursor(a?.5:ue,o?.5:Q,r.xanchor,r.yanchor))}M.attr({transform:UT(ur,je)+Fe}),HT(T,Er)},clickFn:function(ur,je){r.captureevents&&e.emit("plotly_clickannotation",d(je))},doneFn:function(){HT(T),zT.call("_guiRelayout",e,x());var ur=document.querySelector(".js-notes-box-panel");ur&&ur.redraw(ur.selectedObj)}})}}f.annotationText?O.call(GT.makeEditable,{delegate:T,gd:e}).call(F).on("edit",function(I){r.text=I,this.call(F),m("text",I),a&&a.autorange&&v(a._name+".autorange",!0),o&&o.autorange&&v(o._name+".autorange",!0),zT.call("_guiRelayout",e,x())}):O.call(F)}});var oG=ie((COe,iG)=>{"use strict";var rG=wr(),D3e=Dt(),tG=Yn().arrayEditor;iG.exports={hasClickToShow:F3e,onClick:I3e};function F3e(e,r){var t=aG(e,r);return t.on.length>0||t.explicitOff.length>0}function I3e(e,r){var t=aG(e,r),n=t.on,a=t.off.concat(t.explicitOff),o={},i=e._fullLayout.annotations,s,f;if(n.length||a.length){for(s=0;s<n.length;s++)f=tG(e.layout,"annotations",i[n[s]]),f.modifyItem("visible",!0),rG.extendFlat(o,f.getUpdateObj());for(s=0;s<a.length;s++)f=tG(e.layout,"annotations",i[a[s]]),f.modifyItem("visible",!1),rG.extendFlat(o,f.getUpdateObj());return D3e.call("update",e,{},o)}}function aG(e,r){var t=e._fullLayout.annotations,n=[],a=[],o=[],i=(r||[]).length,s,f,l,u,c,v,m,x;for(s=0;s<t.length;s++)if(l=t[s],u=l.clicktoshow,u){for(f=0;f<i;f++)if(c=r[f],v=c.xaxis,m=c.yaxis,v._id===l.xref&&m._id===l.yref&&v.d2r(c.x)===nG(l._xclick,v)&&m.d2r(c.y)===nG(l._yclick,m)){l.visible?u==="onout"?x=a:x=o:x=n,x.push(s);break}f===i&&l.visible&&u==="onout"&&a.push(s)}return{on:n,off:a,explicitOff:o}}function nG(e,r){return r.type==="log"?r.l2r(e):r.d2r(e)}});var YT=ie((kOe,sG)=>{"use strict";var VT=wr(),Fv=pn();sG.exports=function(r,t,n,a){a("opacity");var o=a("bgcolor"),i=a("bordercolor"),s=Fv.opacity(i);a("borderpad");var f=a("borderwidth"),l=a("showarrow");a("text",l?" ":n._dfltTitle.annotation),a("textangle"),VT.coerceFont(a,"font",n.font),a("width"),a("align");var u=a("height");if(u&&a("valign"),l){var c=a("arrowside"),v,m;c.indexOf("end")!==-1&&(v=a("arrowhead"),m=a("arrowsize")),c.indexOf("start")!==-1&&(a("startarrowhead",v),a("startarrowsize",m)),a("arrowcolor",s?t.bordercolor:Fv.defaultLine),a("arrowwidth",(s&&f||1)*2),a("standoff"),a("startstandoff")}var x=a("hovertext"),A=n.hoverlabel||{};if(x){var w=a("hoverlabel.bgcolor",A.bgcolor||(Fv.opacity(o)?Fv.rgb(o):Fv.defaultLine)),y=a("hoverlabel.bordercolor",A.bordercolor||Fv.contrast(w)),_=VT.extendFlat({},A.font);_.color||(_.color=y),VT.coerceFont(a,"hoverlabel.font",_)}a("captureevents",!!x)}});var fG=ie((LOe,lG)=>{"use strict";var WT=wr(),_0=Rn(),P3e=qo(),O3e=YT(),N3e=xv();lG.exports=function(r,t){P3e(r,t,{name:"annotations",handleItemDefaults:B3e})};function B3e(e,r,t){function n(M,b){return WT.coerce(e,r,N3e,M,b)}var a=n("visible"),o=n("clicktoshow");if(a||o){O3e(e,r,t,n);for(var i=r.showarrow,s=["x","y"],f=[-10,-30],l={_fullLayout:t},u=0;u<2;u++){var c=s[u],v=_0.coerceRef(e,r,l,c,"","paper");if(v!=="paper"){var m=_0.getFromId(l,v);m._annIndices.push(r._index)}if(_0.coercePosition(r,l,n,v,c,.5),i){var x="a"+c,A=_0.coerceRef(e,r,l,x,"pixel",["pixel","paper"]);A!=="pixel"&&A!==v&&(A=r[x]="pixel");var w=A==="pixel"?f[u]:.4;_0.coercePosition(r,l,n,A,x,w)}n(c+"anchor"),n(c+"shift")}if(WT.noneOrAll(e,r,["x","y"]),i&&WT.noneOrAll(e,r,["ax","ay"]),o){var y=n("xclick"),_=n("yclick");r._xclick=y===void 0?r.x:_0.cleanPosition(y,l,r.xref),r._yclick=_===void 0?r.y:_0.cleanPosition(_,l,r.yref)}}}});var hG=ie((ROe,cG)=>{"use strict";var XT=wr(),w0=Rn(),q3e=Bx().draw;cG.exports=function(r){var t=r._fullLayout,n=XT.filterVisible(t.annotations);if(n.length&&r._fullData.length)return XT.syncOrAsync([q3e,z3e],r)};function z3e(e){var r=e._fullLayout;XT.filterVisible(r.annotations).forEach(function(t){var n=w0.getFromId(e,t.xref),a=w0.getFromId(e,t.yref),o=w0.getRefType(t.xref),i=w0.getRefType(t.yref);t._extremes={},o==="range"&&uG(t,n),i==="range"&&uG(t,a)})}function uG(e,r){var t=r._id,n=t.charAt(0),a=e[n],o=e["a"+n],i=e[n+"ref"],s=e["a"+n+"ref"],f=e["_"+n+"padplus"],l=e["_"+n+"padminus"],u={x:1,y:-1}[n]*e[n+"shift"],c=3*e.arrowsize*e.arrowwidth||0,v=c+u,m=c-u,x=3*e.startarrowsize*e.arrowwidth||0,A=x+u,w=x-u,y;if(s===i){var _=w0.findExtremes(r,[r.r2c(a)],{ppadplus:v,ppadminus:m}),M=w0.findExtremes(r,[r.r2c(o)],{ppadplus:Math.max(f,A),ppadminus:Math.max(l,w)});y={min:[_.min[0],M.min[0]],max:[_.max[0],M.max[0]]}}else A=o?A+o:A,w=o?w-o:w,y=w0.findExtremes(r,[r.r2c(a)],{ppadplus:Math.max(f,v,A),ppadminus:Math.max(l,m,w)});e._extremes[t]=y}});var dG=ie((DOe,vG)=>{"use strict";var U3e=cn(),G3e=R2();vG.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(!(o||i))return;var s=r._fullLayout.annotations,f=t._id.charAt(0),l,u;function c(m){var x=l[m],A=null;o?A=G3e(x,t.range):A=Math.pow(10,x),U3e(A)||(A=null),a(u+m,A)}for(var v=0;v<s.length;v++)l=s[v],u="annotations["+v+"].",l[f+"ref"]===t._id&&c(f),l["a"+f+"ref"]===t._id&&c("a"+f)}});var yG=ie((FOe,gG)=>{"use strict";var ZT=Bx(),pG=oG();gG.exports={moduleType:"component",name:"annotations",layoutAttributes:xv(),supplyLayoutDefaults:fG(),includeBasePlot:Op()("annotations"),calcAutorange:hG(),draw:ZT.draw,drawOne:ZT.drawOne,drawRaw:ZT.drawRaw,hasClickToShow:pG.hasClickToShow,onClick:pG.onClick,convertCoords:dG()}});var qx=ie((IOe,mG)=>{"use strict";var jn=xv(),H3e=No().overrideAll,V3e=Yn().templatedArray;mG.exports=H3e(V3e("annotation",{visible:jn.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:jn.xanchor,xshift:jn.xshift,yanchor:jn.yanchor,yshift:jn.yshift,text:jn.text,textangle:jn.textangle,font:jn.font,width:jn.width,height:jn.height,opacity:jn.opacity,align:jn.align,valign:jn.valign,bgcolor:jn.bgcolor,bordercolor:jn.bordercolor,borderpad:jn.borderpad,borderwidth:jn.borderwidth,showarrow:jn.showarrow,arrowcolor:jn.arrowcolor,arrowhead:jn.arrowhead,startarrowhead:jn.startarrowhead,arrowside:jn.arrowside,arrowsize:jn.arrowsize,startarrowsize:jn.startarrowsize,arrowwidth:jn.arrowwidth,standoff:jn.standoff,startstandoff:jn.startstandoff,hovertext:jn.hovertext,hoverlabel:jn.hoverlabel,captureevents:jn.captureevents}),"calc","from-root")});var bG=ie((POe,xG)=>{"use strict";var jT=wr(),Y3e=Rn(),W3e=qo(),X3e=YT(),Z3e=qx();xG.exports=function(r,t,n){W3e(r,t,{name:"annotations",handleItemDefaults:j3e,fullLayout:n.fullLayout})};function j3e(e,r,t,n){function a(s,f){return jT.coerce(e,r,Z3e,s,f)}function o(s){var f=s+"axis",l={_fullLayout:{}};return l._fullLayout[f]=t[f],Y3e.coercePosition(r,l,a,s,s,.5)}var i=a("visible");i&&(X3e(e,r,n.fullLayout,a),o("x"),o("y"),o("z"),jT.noneOrAll(e,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),jT.noneOrAll(e,r,["ax","ay"])))}});var TG=ie((OOe,AG)=>{"use strict";var _G=wr(),wG=Rn();AG.exports=function(r){for(var t=r.fullSceneLayout,n=t.annotations,a=0;a<n.length;a++)J3e(n[a],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function J3e(e,r){var t=r.fullSceneLayout,n=t.domain,a=r.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},_G.extendFlat(e._xa,o),wG.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},_G.extendFlat(e._ya,o),wG.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}});var EG=ie((NOe,MG)=>{"use strict";function JT(e,r){var t=[0,0,0,0],n,a;for(n=0;n<4;++n)for(a=0;a<4;++a)t[a]+=e[4*n+a]*r[n];return t}function $3e(e,r){var t=JT(e.projection,JT(e.view,JT(e.model,[r[0],r[1],r[2],1])));return t}MG.exports=$3e});var CG=ie((BOe,SG)=>{"use strict";var K3e=Bx().drawRaw,Q3e=EG(),exe=["x","y","z"];SG.exports=function(r){for(var t=r.fullSceneLayout,n=r.dataScale,a=t.annotations,o=0;o<a.length;o++){for(var i=a[o],s=!1,f=0;f<3;f++){var l=exe[f],u=i[l],c=t[l+"axis"],v=c.r2fraction(u);if(v<0||v>1){s=!0;break}}s?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+o+'"]').remove():(i._pdata=Q3e(r.glplot.cameraParams,[t.xaxis.r2l(i.x)*n[0],t.yaxis.r2l(i.y)*n[1],t.zaxis.r2l(i.z)*n[2]]),K3e(r.graphDiv,i,o,r.id,i._xa,i._ya))}}});var RG=ie((qOe,LG)=>{"use strict";var rxe=Dt(),kG=wr();LG.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:qx()}}},layoutAttributes:qx(),handleDefaults:bG(),includeBasePlot:txe,convert:TG(),draw:CG()};function txe(e,r){var t=rxe.subplotsRegistry.gl3d;if(t)for(var n=t.attrRegex,a=Object.keys(e),o=0;o<a.length;o++){var i=a[o];n.test(i)&&(e[i].annotations||[]).length&&(kG.pushUnique(r._basePlotModules,t),kG.pushUnique(r._subplots.gl3d,i))}}});var $T=ie((UOe,PG)=>{"use strict";var DG=xv(),FG=ci(),IG=kl().line,nxe=ou().dash,Ys=ga().extendFlat,axe=Yn().templatedArray,zOe=Ip(),Iv=rs(),ixe=su().shapeTexttemplateAttrs,oxe=V2();PG.exports=axe("shape",{visible:Ys({},Iv.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:Ys({},Iv.legend,{editType:"calc+arraydraw"}),legendgroup:Ys({},Iv.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:Ys({},Iv.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:FG({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:Ys({},Iv.legendrank,{editType:"calc+arraydraw"}),legendwidth:Ys({},Iv.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:Ys({},DG.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:Ys({},DG.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:Ys({},IG.color,{editType:"arraydraw"}),width:Ys({},IG.width,{editType:"calc+arraydraw"}),dash:Ys({},nxe,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:ixe({},{keys:Object.keys(oxe)}),font:FG({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})});var BG=ie((GOe,NG)=>{"use strict";var og=wr(),Pv=Rn(),sxe=qo(),lxe=$T(),OG=Lu();NG.exports=function(r,t){sxe(r,t,{name:"shapes",handleItemDefaults:uxe})};function fxe(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function uxe(e,r,t){function n(I,q){return og.coerce(e,r,lxe,I,q)}r._isShape=!0;var a=n("visible");if(a){var o=n("showlegend");o&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),og.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var i=n("path"),s=i?"path":"rect",f=n("type",s),l=f!=="path";l&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var u=n("line.width");u&&(n("line.color"),n("line.dash"));for(var c=n("xsizemode"),v=n("ysizemode"),m=["x","y"],x=0;x<2;x++){var A=m[x],w=A+"anchor",y=A==="x"?c:v,_={_fullLayout:t},M,b,E,d=Pv.coerceRef(e,r,_,A,void 0,"paper"),T=Pv.getRefType(d);if(T==="range"?(M=Pv.getFromId(_,d),M._shapeIndices.push(r._index),E=OG.rangeToShapePosition(M),b=OG.shapePositionToRange(M),(M.type==="category"||M.type==="multicategory")&&(n(A+"0shift"),n(A+"1shift"))):b=E=og.identity,l){var g=.25,h=.75,S=A+"0",p=A+"1",C=e[S],k=e[p];e[S]=b(e[S],!0),e[p]=b(e[p],!0),y==="pixel"?(n(S,0),n(p,10)):(Pv.coercePosition(r,_,n,d,S,g),Pv.coercePosition(r,_,n,d,p,h)),r[S]=E(r[S]),r[p]=E(r[p]),e[S]=C,e[p]=k}if(y==="pixel"){var D=e[w];e[w]=b(e[w],!0),Pv.coercePosition(r,_,n,d,w,.25),r[w]=E(r[w]),e[w]=D}}l&&og.noneOrAll(e,r,["x0","x1","y0","y1"]);var P=f==="line",O,F;if(l&&(O=n("label.texttemplate")),O||(F=n("label.text")),F||O){n("label.textangle");var L=n("label.textposition",P?"middle":"middle center");n("label.xanchor"),n("label.yanchor",fxe(P,L)),n("label.padding"),og.coerceFont(n,"label.font",t.font)}}}});var UG=ie((HOe,zG)=>{"use strict";var cxe=pn(),qG=wr();function hxe(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}zG.exports=function(r,t,n){n("newshape.visible"),n("newshape.name"),n("newshape.showlegend"),n("newshape.legend"),n("newshape.legendwidth"),n("newshape.legendgroup"),n("newshape.legendgrouptitle.text"),qG.coerceFont(n,"newshape.legendgrouptitle.font"),n("newshape.legendrank"),n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity");var a=n("newshape.line.width");if(a){var o=(r||{}).plot_bgcolor||"#FFF";n("newshape.line.color",cxe.contrast(o)),n("newshape.line.dash")}var i=r.dragmode==="drawline",s=n("newshape.label.text"),f=n("newshape.label.texttemplate");if(s||f){n("newshape.label.textangle");var l=n("newshape.label.textposition",i?"middle":"middle center");n("newshape.label.xanchor"),n("newshape.label.yanchor",hxe(i,l)),n("newshape.label.padding"),qG.coerceFont(n,"newshape.label.font",t.font)}n("activeshape.fillcolor"),n("activeshape.opacity")}});var WG=ie((VOe,YG)=>{"use strict";var KT=wr(),Ov=Rn(),Nv=pp(),HG=Lu();YG.exports=function(r){var t=r._fullLayout,n=KT.filterVisible(t.shapes);if(!(!n.length||!r._fullData.length))for(var a=0;a<n.length;a++){var o=n[a];o._extremes={};var i,s,f=Ov.getRefType(o.xref),l=Ov.getRefType(o.yref);o.xref!=="paper"&&f!=="domain"&&(i=Ov.getFromId(r,o.xref),s=GG(i,o,Nv.paramIsX),s&&(o._extremes[i._id]=Ov.findExtremes(i,s,vxe(o)))),o.yref!=="paper"&&l!=="domain"&&(i=Ov.getFromId(r,o.yref),s=GG(i,o,Nv.paramIsY),s&&(o._extremes[i._id]=Ov.findExtremes(i,s,dxe(o))))}};function vxe(e){return VG(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function dxe(e){return VG(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function VG(e,r,t,n,a,o){var i=e/2,s=o;if(r==="pixel"){var f=a?HG.extractPathCoords(a,o?Nv.paramIsY:Nv.paramIsX):[t,n],l=KT.aggNums(Math.max,null,f),u=KT.aggNums(Math.min,null,f),c=u<0?Math.abs(u)+i:i,v=l>0?l+i:i;return{ppad:i,ppadplus:s?c:v,ppadminus:s?v:c}}else return{ppad:i}}function GG(e,r,t){var n=e._id.charAt(0)==="x"?"x":"y",a=e.type==="category"||e.type==="multicategory",o,i,s=0,f=0,l=a?e.r2c:e.d2c,u=r[n+"sizemode"]==="scaled";if(u?(o=r[n+"0"],i=r[n+"1"],a&&(s=r[n+"0shift"],f=r[n+"1shift"])):(o=r[n+"anchor"],i=r[n+"anchor"]),o!==void 0)return[l(o)+s,l(i)+f];if(r.path){var c=1/0,v=-1/0,m=r.path.match(Nv.segmentRE),x,A,w,y,_;for(e.type==="date"&&(l=HG.decodeDate(l)),x=0;x<m.length;x++)A=m[x],w=t[A.charAt(0)].drawn,w!==void 0&&(y=m[x].substr(1).match(Nv.paramRE),!(!y||y.length<w)&&(_=l(y[w]),_<c&&(c=_),_>v&&(v=_)));if(v>=c)return[c,v]}}});var jG=ie((YOe,ZG)=>{"use strict";var XG=D3();ZG.exports={moduleType:"component",name:"shapes",layoutAttributes:$T(),supplyLayoutDefaults:BG(),supplyDrawNewShapeDefaults:UG(),includeBasePlot:Op()("shapes"),calcAutorange:WG(),draw:XG.draw,drawOne:XG.drawOne}});var QT=ie((XOe,$G)=>{"use strict";var JG=Pa(),pxe=Yn().templatedArray,WOe=Ip();$G.exports=pxe("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",JG.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",JG.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})});var QG=ie((ZOe,KG)=>{"use strict";var gxe=wr(),e8=Rn(),yxe=qo(),mxe=QT(),xxe="images";KG.exports=function(r,t){var n={name:xxe,handleItemDefaults:bxe};yxe(r,t,n)};function bxe(e,r,t){function n(v,m){return gxe.coerce(e,r,mxe,v,m)}var a=n("source"),o=n("visible",!!a);if(!o)return r;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var i={_fullLayout:t},s=["x","y"],f=0;f<2;f++){var l=s[f],u=e8.coerceRef(e,r,i,l,"paper",void 0);if(u!=="paper"){var c=e8.getFromId(i,u);c._imgIndices.push(r._index)}e8.coercePosition(r,i,n,u,l,0)}return r}});var nH=ie((jOe,tH)=>{"use strict";var eH=gn(),_xe=zn(),Bv=Rn(),rH=ya(),wxe=ff();tH.exports=function(r){var t=r._fullLayout,n=[],a={},o=[],i,s;for(s=0;s<t.images.length;s++){var f=t.images[s];if(f.visible)if(f.layer==="below"&&f.xref!=="paper"&&f.yref!=="paper"){i=rH.ref2id(f.xref)+rH.ref2id(f.yref);var l=t._plots[i];if(!l){o.push(f);continue}l.mainplot&&(i=l.mainplot.id),a[i]||(a[i]=[]),a[i].push(f)}else f.layer==="above"?n.push(f):o.push(f)}var u={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function c(_){var M=eH.select(this);if(this._imgSrc!==_.source)if(M.attr("xmlns",wxe.svg),_.source&&_.source.slice(0,5)==="data:")M.attr("xlink:href",_.source),this._imgSrc=_.source;else{var b=new Promise(function(E){var d=new Image;this.img=d,d.setAttribute("crossOrigin","anonymous"),d.onerror=T,d.onload=function(){var g=document.createElement("canvas");g.width=this.width,g.height=this.height;var h=g.getContext("2d",{willReadFrequently:!0});h.drawImage(this,0,0);var S=g.toDataURL("image/png");M.attr("xlink:href",S),E()},M.on("error",T),d.src=_.source,this._imgSrc=_.source;function T(){M.remove(),E()}}.bind(this));r._promises.push(b)}}function v(_){var M=eH.select(this),b=Bv.getFromId(r,_.xref),E=Bv.getFromId(r,_.yref),d=Bv.getRefType(_.xref)==="domain",T=Bv.getRefType(_.yref)==="domain",g=t._size,h,S;b!==void 0?h=typeof _.xref=="string"&&d?b._length*_.sizex:Math.abs(b.l2p(_.sizex)-b.l2p(0)):h=_.sizex*g.w,E!==void 0?S=typeof _.yref=="string"&&T?E._length*_.sizey:Math.abs(E.l2p(_.sizey)-E.l2p(0)):S=_.sizey*g.h;var p=h*u.x[_.xanchor].offset,C=S*u.y[_.yanchor].offset,k=u.x[_.xanchor].sizing+u.y[_.yanchor].sizing,D,P;switch(b!==void 0?D=typeof _.xref=="string"&&d?b._length*_.x+b._offset:b.r2p(_.x)+b._offset:D=_.x*g.w+g.l,D+=p,E!==void 0?P=typeof _.yref=="string"&&T?E._length*(1-_.y)+E._offset:E.r2p(_.y)+E._offset:P=g.h-_.y*g.h+g.t,P+=C,_.sizing){case"fill":k+=" slice";break;case"stretch":k="none";break}M.attr({x:D,y:P,width:h,height:S,preserveAspectRatio:k,opacity:_.opacity});var O=b&&Bv.getRefType(_.xref)!=="domain"?b._id:"",F=E&&Bv.getRefType(_.yref)!=="domain"?E._id:"",L=O+F;_xe.setClipUrl(M,L?"clip"+t._uid+L:null,r)}var m=t._imageLowerLayer.selectAll("image").data(o),x=t._imageUpperLayer.selectAll("image").data(n);m.enter().append("image"),x.enter().append("image"),m.exit().remove(),x.exit().remove(),m.each(function(_){c.bind(this)(_),v.bind(this)(_)}),x.each(function(_){c.bind(this)(_),v.bind(this)(_)});var A=Object.keys(t._plots);for(s=0;s<A.length;s++){i=A[s];var w=t._plots[i];if(w.imagelayer){var y=w.imagelayer.selectAll("image").data(a[i]||[]);y.enter().append("image"),y.exit().remove(),y.each(function(_){c.bind(this)(_),v.bind(this)(_)})}}}});var oH=ie((JOe,iH)=>{"use strict";var aH=cn(),Axe=R2();iH.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(o||i){for(var s=r._fullLayout.images,f=t._id.charAt(0),l,u,c=0;c<s.length;c++)if(l=s[c],u="images["+c+"].",l[f+"ref"]===t._id){var v=l[f],m=l["size"+f],x=null,A=null;if(o){x=Axe(v,t.range);var w=m/Math.pow(10,x)/2;A=2*Math.log(w+Math.sqrt(1+w*w))/Math.LN10}else x=Math.pow(10,v),A=x*(Math.pow(10,m/2)-Math.pow(10,-m/2));aH(x)?aH(A)||(A=null):(x=null,A=null),a(u+f,x),a(u+"size"+f,A)}}}});var lH=ie(($Oe,sH)=>{"use strict";sH.exports={moduleType:"component",name:"images",layoutAttributes:QT(),supplyLayoutDefaults:QG(),includeBasePlot:Op()("images"),draw:nH(),convertCoords:oH()}});var zx=ie((KOe,fH)=>{"use strict";fH.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var r8=ie((QOe,cH)=>{"use strict";var Txe=ci(),Mxe=pl(),Exe=ga().extendFlat,Sxe=No().overrideAll,Cxe=Y2(),uH=Yn().templatedArray,kxe=uH("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});cH.exports=Sxe(uH("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:kxe,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:Exe(Cxe({editType:"arraydraw"}),{}),font:Txe({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:Mxe.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")});var pH=ie((eNe,dH)=>{"use strict";var Ux=wr(),hH=qo(),vH=r8(),Lxe=zx(),Rxe=Lxe.name,Dxe=vH.buttons;dH.exports=function(r,t){var n={name:Rxe,handleItemDefaults:Fxe};hH(r,t,n)};function Fxe(e,r,t){function n(i,s){return Ux.coerce(e,r,vH,i,s)}var a=hH(e,r,{name:"buttons",handleItemDefaults:Ixe}),o=n("visible",a.length>0);o&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),Ux.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),Ux.coerceFont(n,"font",t.font),n("bgcolor",t.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function Ixe(e,r){function t(a,o){return Ux.coerce(e,r,Dxe,a,o)}var n=t("visible",e.method==="skip"||Array.isArray(e.args));n&&(t("method"),t("args"),t("args2"),t("label"),t("execute"))}});var mH=ie((rNe,yH)=>{"use strict";yH.exports=ca;var Ws=gn(),gH=pn(),qv=zn(),Gx=wr();function ca(e,r,t){this.gd=e,this.container=r,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}ca.barWidth=2;ca.barLength=20;ca.barRadius=2;ca.barPad=1;ca.barColor="#808BA4";ca.prototype.enable=function(r,t,n){var a=this.gd._fullLayout,o=a.width,i=a.height;this.position=r;var s=this.position.l,f=this.position.w,l=this.position.t,u=this.position.h,c=this.position.direction,v=c==="down",m=c==="left",x=c==="right",A=c==="up",w=f,y=u,_,M,b,E;!v&&!m&&!x&&!A&&(this.position.direction="down",v=!0);var d=v||A;d?(_=s,M=_+w,v?(b=l,E=Math.min(b+y,i),y=E-b):(E=l+y,b=Math.max(E-y,0),y=E-b)):(b=l,E=b+y,m?(M=s+w,_=Math.max(M-w,0),w=M-_):(_=s,M=Math.min(_+w,o),w=M-_)),this._box={l:_,t:b,w,h:y};var T=f>w,g=ca.barLength+2*ca.barPad,h=ca.barWidth+2*ca.barPad,S=s,p=l+u;p+h>i&&(p=i-h);var C=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);C.exit().on(".drag",null).remove(),C.enter().append("rect").classed("scrollbar-horizontal",!0).call(gH.fill,ca.barColor),T?(this.hbar=C.attr({rx:ca.barRadius,ry:ca.barRadius,x:S,y:p,width:g,height:h}),this._hbarXMin=S+g/2,this._hbarTranslateMax=w-g):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var k=u>y,D=ca.barWidth+2*ca.barPad,P=ca.barLength+2*ca.barPad,O=s+f,F=l;O+D>o&&(O=o-D);var L=this.container.selectAll("rect.scrollbar-vertical").data(k?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(gH.fill,ca.barColor),k?(this.vbar=L.attr({rx:ca.barRadius,ry:ca.barRadius,x:O,y:F,width:D,height:P}),this._vbarYMin=F+P/2,this._vbarTranslateMax=y-P):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var I=this.id,q=_-.5,z=k?M+D+.5:M+.5,W=b-.5,$=T?E+h+.5:E+.5,j=a._topdefs.selectAll("#"+I).data(T||k?[0]:[]);if(j.exit().remove(),j.enter().append("clipPath").attr("id",I).append("rect"),T||k?(this._clipRect=j.select("rect").attr({x:Math.floor(q),y:Math.floor(W),width:Math.ceil(z)-Math.floor(q),height:Math.ceil($)-Math.floor(W)}),this.container.call(qv.setClipUrl,I,this.gd),this.bg.attr({x:s,y:l,width:f,height:u})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(qv.setClipUrl,null),delete this._clipRect),T||k){var G=Ws.behavior.drag().on("dragstart",function(){Ws.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(G);var B=Ws.behavior.drag().on("dragstart",function(){Ws.event.sourceEvent.preventDefault(),Ws.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(B),k&&this.vbar.on(".drag",null).call(B)}this.setTranslate(t,n)};ca.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(qv.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};ca.prototype._onBoxDrag=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r-=Ws.event.dx),this.vbar&&(t-=Ws.event.dy),this.setTranslate(r,t)};ca.prototype._onBoxWheel=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r+=Ws.event.deltaY),this.vbar&&(t+=Ws.event.deltaY),this.setTranslate(r,t)};ca.prototype._onBarDrag=function(){var r=this.translateX,t=this.translateY;if(this.hbar){var n=r+this._hbarXMin,a=n+this._hbarTranslateMax,o=Gx.constrain(Ws.event.x,n,a),i=(o-n)/(a-n),s=this.position.w-this._box.w;r=i*s}if(this.vbar){var f=t+this._vbarYMin,l=f+this._vbarTranslateMax,u=Gx.constrain(Ws.event.y,f,l),c=(u-f)/(l-f),v=this.position.h-this._box.h;t=c*v}this.setTranslate(r,t)};ca.prototype.setTranslate=function(r,t){var n=this.position.w-this._box.w,a=this.position.h-this._box.h;if(r=Gx.constrain(r||0,0,n),t=Gx.constrain(t||0,0,a),this.translateX=r,this.translateY=t,this.container.call(qv.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var o=r/n;this.hbar.call(qv.setTranslate,r+o*this._hbarTranslateMax,t)}if(this.vbar){var i=t/a;this.vbar.call(qv.setTranslate,r,t+i*this._vbarTranslateMax)}}});var CH=ie((tNe,SH)=>{"use strict";var zv=gn(),sg=Za(),lg=pn(),Uv=zn(),Yo=wr(),Hx=Ni(),Pxe=Yn().arrayEditor,bH=Oi().LINE_SPACING,Ut=zx(),Oxe=mH();SH.exports=function(r){var t=r._fullLayout,n=Yo.filterVisible(t[Ut.name]);function a(v){sg.autoMargin(r,MH(v))}var o=t._menulayer.selectAll("g."+Ut.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(Ut.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){zv.select(this).selectAll("g."+Ut.headerGroupClassName).each(a)}).remove(),n.length!==0){var i=o.selectAll("g."+Ut.headerGroupClassName).data(n,Nxe);i.enter().append("g").classed(Ut.headerGroupClassName,!0);for(var s=Yo.ensureSingle(o,"g",Ut.dropdownButtonGroupClassName,function(v){v.style("pointer-events","all")}),f=0;f<n.length;f++){var l=n[f];Hxe(r,l)}var u="updatemenus"+t._uid,c=new Oxe(r,s,u);i.enter().size()&&(s.node().parentNode.appendChild(s.node()),s.call(n8)),i.exit().each(function(v){s.call(n8),a(v)}).remove(),i.each(function(v){var m=zv.select(this),x=v.type==="dropdown"?s:null;sg.manageCommandObserver(r,v,v.buttons,function(A){t8(r,v,v.buttons[A.index],m,x,c,A.index,!0)}),v.type==="dropdown"?(wH(r,m,s,c,v),_H(s,v)&&fg(r,m,s,c,v)):fg(r,m,null,null,v)})}};function Nxe(e){return e._index}function Bxe(e){return+e.attr(Ut.menuIndexAttrName)==-1}function _H(e,r){return+e.attr(Ut.menuIndexAttrName)===r._index}function t8(e,r,t,n,a,o,i,s){r.active=i,Pxe(e.layout,Ut.name,r).applyUpdate("active",i),r.type==="buttons"?fg(e,n,null,null,r):r.type==="dropdown"&&(a.attr(Ut.menuIndexAttrName,"-1"),wH(e,n,a,o,r),s||fg(e,n,a,o,r))}function wH(e,r,t,n,a){var o=Yo.ensureSingle(r,"g",Ut.headerClassName,function(v){v.style("pointer-events","all")}),i=a._dims,s=a.active,f=a.buttons[s]||Ut.blankHeaderOpts,l={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},u={width:i.headerWidth,height:i.headerHeight};o.call(a8,a,f,e).call(EH,a,l,u);var c=Yo.ensureSingle(r,"text",Ut.headerArrowClassName,function(v){v.attr("text-anchor","end").call(Uv.font,a.font).text(Ut.arrowSymbol[a.direction])});c.attr({x:i.headerWidth-Ut.arrowOffsetX+a.pad.l,y:i.headerHeight/2+Ut.textOffsetY+a.pad.t}),o.on("click",function(){t.call(n8,String(_H(t,a)?-1:a._index)),fg(e,r,t,n,a)}),o.on("mouseover",function(){o.call(AH)}),o.on("mouseout",function(){o.call(TH,a)}),Uv.setTranslate(r,i.lx,i.ly)}function fg(e,r,t,n,a){t||(t=r,t.attr("pointer-events","all"));var o=!Bxe(t)||a.type==="buttons"?a.buttons:[],i=a.type==="dropdown"?Ut.dropdownButtonClassName:Ut.buttonClassName,s=t.selectAll("g."+i).data(Yo.filterVisible(o)),f=s.enter().append("g").classed(i,!0),l=s.exit();a.type==="dropdown"?(f.attr("opacity","0").transition().attr("opacity","1"),l.transition().attr("opacity","0").remove()):l.remove();var u=0,c=0,v=a._dims,m=["up","down"].indexOf(a.direction)!==-1;a.type==="dropdown"&&(m?c=v.headerHeight+Ut.gapButtonHeader:u=v.headerWidth+Ut.gapButtonHeader),a.type==="dropdown"&&a.direction==="up"&&(c=-Ut.gapButtonHeader+Ut.gapButton-v.openHeight),a.type==="dropdown"&&a.direction==="left"&&(u=-Ut.gapButtonHeader+Ut.gapButton-v.openWidth);var x={x:v.lx+u+a.pad.l,y:v.ly+c+a.pad.t,yPad:Ut.gapButton,xPad:Ut.gapButton,index:0},A={l:x.x+a.borderwidth,t:x.y+a.borderwidth};s.each(function(w,y){var _=zv.select(this);_.call(a8,a,w,e).call(EH,a,x),_.on("click",function(){zv.event.defaultPrevented||(w.execute&&(w.args2&&a.active===y?(t8(e,a,w,r,t,n,-1),sg.executeAPICommand(e,w.method,w.args2)):(t8(e,a,w,r,t,n,y),sg.executeAPICommand(e,w.method,w.args))),e.emit("plotly_buttonclicked",{menu:a,button:w,active:a.active}))}),_.on("mouseover",function(){_.call(AH)}),_.on("mouseout",function(){_.call(TH,a),s.call(xH,a)})}),s.call(xH,a),m?(A.w=Math.max(v.openWidth,v.headerWidth),A.h=x.y-A.t):(A.w=x.x-A.l,A.h=Math.max(v.openHeight,v.headerHeight)),A.direction=a.direction,n&&(s.size()?qxe(e,r,t,n,a,A):zxe(n))}function qxe(e,r,t,n,a,o){var i=a.direction,s=i==="up"||i==="down",f=a._dims,l=a.active,u,c,v;if(s)for(c=0,v=0;v<l;v++)c+=f.heights[v]+Ut.gapButton;else for(u=0,v=0;v<l;v++)u+=f.widths[v]+Ut.gapButton;n.enable(o,u,c),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function zxe(e){var r=!!e.hbar,t=!!e.vbar;r&&e.hbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()}),t&&e.vbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()})}function a8(e,r,t,n){e.call(Uxe,r).call(Gxe,r,t,n)}function Uxe(e,r){var t=Yo.ensureSingle(e,"rect",Ut.itemRectClassName,function(n){n.attr({rx:Ut.rx,ry:Ut.ry,"shape-rendering":"crispEdges"})});t.call(lg.stroke,r.bordercolor).call(lg.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function Gxe(e,r,t,n){var a=Yo.ensureSingle(e,"text",Ut.itemTextClassName,function(s){s.attr({"text-anchor":"start","data-notex":1})}),o=t.label,i=n._fullLayout._meta;i&&(o=Yo.templateString(o,i)),a.call(Uv.font,r.font).text(o).call(Hx.convertToTspans,n)}function xH(e,r){var t=r.active;e.each(function(n,a){var o=zv.select(this);a===t&&r.showactive&&o.select("rect."+Ut.itemRectClassName).call(lg.fill,Ut.activeColor)})}function AH(e){e.select("rect."+Ut.itemRectClassName).call(lg.fill,Ut.hoverColor)}function TH(e,r){e.select("rect."+Ut.itemRectClassName).call(lg.fill,r.bgcolor)}function Hxe(e,r){var t=r._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},n=Uv.tester.selectAll("g."+Ut.dropdownButtonClassName).data(Yo.filterVisible(r.buttons));n.enter().append("g").classed(Ut.dropdownButtonClassName,!0);var a=["up","down"].indexOf(r.direction)!==-1;n.each(function(u,c){var v=zv.select(this);v.call(a8,r,u,e);var m=v.select("."+Ut.itemTextClassName),x=m.node()&&Uv.bBox(m.node()).width,A=Math.max(x+Ut.textPadX,Ut.minWidth),w=r.font.size*bH,y=Hx.lineCount(m),_=Math.max(w*y,Ut.minHeight)+Ut.textOffsetY;_=Math.ceil(_),A=Math.ceil(A),t.widths[c]=A,t.heights[c]=_,t.height1=Math.max(t.height1,_),t.width1=Math.max(t.width1,A),a?(t.totalWidth=Math.max(t.totalWidth,A),t.openWidth=t.totalWidth,t.totalHeight+=_+Ut.gapButton,t.openHeight+=_+Ut.gapButton):(t.totalWidth+=A+Ut.gapButton,t.openWidth+=A+Ut.gapButton,t.totalHeight=Math.max(t.totalHeight,_),t.openHeight=t.totalHeight)}),a?t.totalHeight-=Ut.gapButton:t.totalWidth-=Ut.gapButton,t.headerWidth=t.width1+Ut.arrowPadX,t.headerHeight=t.height1,r.type==="dropdown"&&(a?(t.width1+=Ut.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=Ut.arrowPadX),n.remove();var o=t.totalWidth+r.pad.l+r.pad.r,i=t.totalHeight+r.pad.t+r.pad.b,s=e._fullLayout._size;t.lx=s.l+s.w*r.x,t.ly=s.t+s.h*(1-r.y);var f="left";Yo.isRightAnchor(r)&&(t.lx-=o,f="right"),Yo.isCenterAnchor(r)&&(t.lx-=o/2,f="center");var l="top";Yo.isBottomAnchor(r)&&(t.ly-=i,l="bottom"),Yo.isMiddleAnchor(r)&&(t.ly-=i/2,l="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),sg.autoMargin(e,MH(r),{x:r.x,y:r.y,l:o*({right:1,center:.5}[f]||0),r:o*({left:1,center:.5}[f]||0),b:i*({top:1,middle:.5}[l]||0),t:i*({bottom:1,middle:.5}[l]||0)})}function MH(e){return Ut.autoMarginIdRoot+e._index}function EH(e,r,t,n){n=n||{};var a=e.select("."+Ut.itemRectClassName),o=e.select("."+Ut.itemTextClassName),i=r.borderwidth,s=t.index,f=r._dims;Uv.setTranslate(e,i+t.x,i+t.y);var l=["up","down"].indexOf(r.direction)!==-1,u=n.height||(l?f.heights[s]:f.height1);a.attr({x:0,y:0,width:n.width||(l?f.width1:f.widths[s]),height:u});var c=r.font.size*bH,v=Hx.lineCount(o),m=(v-1)*c/2;Hx.positionText(o,Ut.textOffsetX,u/2-m+Ut.textOffsetY),l?t.y+=f.heights[s]+t.yPad:t.x+=f.widths[s]+t.xPad,t.index++}function n8(e,r){e.attr(Ut.menuIndexAttrName,r||"-1").selectAll("g."+Ut.dropdownButtonClassName).remove()}});var LH=ie((nNe,kH)=>{"use strict";var Vxe=zx();kH.exports={moduleType:"component",name:Vxe.name,layoutAttributes:r8(),supplyLayoutDefaults:pH(),draw:CH()}});var ug=ie((aNe,RH)=>{"use strict";RH.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var i8=ie((iNe,IH)=>{"use strict";var DH=ci(),Yxe=Y2(),Wxe=ga().extendDeepAll,Xxe=No().overrideAll,Zxe=B1(),FH=Yn().templatedArray,A0=ug(),jxe=FH("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});IH.exports=Xxe(FH("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:jxe,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:Wxe(Yxe({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:Zxe.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:DH({})},font:DH({}),activebgcolor:{valType:"color",dflt:A0.gripBgActiveColor},bgcolor:{valType:"color",dflt:A0.railBgColor},bordercolor:{valType:"color",dflt:A0.railBorderColor},borderwidth:{valType:"number",min:0,dflt:A0.railBorderWidth},ticklen:{valType:"number",min:0,dflt:A0.tickLength},tickcolor:{valType:"color",dflt:A0.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:A0.minorTickLength}}),"arraydraw","from-root")});var BH=ie((oNe,NH)=>{"use strict";var Gv=wr(),PH=qo(),OH=i8(),Jxe=ug(),$xe=Jxe.name,Kxe=OH.steps;NH.exports=function(r,t){PH(r,t,{name:$xe,handleItemDefaults:Qxe})};function Qxe(e,r,t){function n(c,v){return Gv.coerce(e,r,OH,c,v)}for(var a=PH(e,r,{name:"steps",handleItemDefaults:ebe}),o=0,i=0;i<a.length;i++)a[i].visible&&o++;var s;if(o<2?s=r.visible=!1:s=n("visible"),!!s){r._stepCount=o;var f=r._visibleSteps=Gv.filterVisible(a),l=n("active");(a[l]||{}).visible||(r.active=f[0]._index),n("x"),n("y"),Gv.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),Gv.coerceFont(n,"font",t.font);var u=n("currentvalue.visible");u&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),Gv.coerceFont(n,"currentvalue.font",r.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function ebe(e,r){function t(o,i){return Gv.coerce(e,r,Kxe,o,i)}var n;if(e.method!=="skip"&&!Array.isArray(e.args)?n=r.visible=!1:n=t("visible"),n){t("method"),t("args");var a=t("label","step-"+r._index);t("value",a),t("execute")}}});var ZH=ie((sNe,XH)=>{"use strict";var Xs=gn(),Vx=Za(),qu=pn(),Zs=zn(),Wo=wr(),rbe=Wo.strTranslate,cg=Ni(),tbe=Yn().arrayEditor,an=ug(),l8=Oi(),UH=l8.LINE_SPACING,o8=l8.FROM_TL,s8=l8.FROM_BR;XH.exports=function(r){var t=r._context.staticPlot,n=r._fullLayout,a=nbe(n,r),o=n._infolayer.selectAll("g."+an.containerClassName).data(a.length>0?[0]:[]);o.enter().append("g").classed(an.containerClassName,!0).style("cursor",t?null:"ew-resize");function i(u){u._commandObserver&&(u._commandObserver.remove(),delete u._commandObserver),Vx.autoMargin(r,GH(u))}if(o.exit().each(function(){Xs.select(this).selectAll("g."+an.groupClassName).each(i)}).remove(),a.length!==0){var s=o.selectAll("g."+an.groupClassName).data(a,abe);s.enter().append("g").classed(an.groupClassName,!0),s.exit().each(i).remove();for(var f=0;f<a.length;f++){var l=a[f];ibe(r,l)}s.each(function(u){var c=Xs.select(this);ube(u),Vx.manageCommandObserver(r,u,u._visibleSteps,function(v){var m=c.data()[0];m.active!==v.index&&(m._dragging||VH(r,c,m,v.index,!1,!0))}),obe(r,Xs.select(this),u)})}};function GH(e){return an.autoMarginIdRoot+e._index}function nbe(e,r){for(var t=e[an.name],n=[],a=0;a<t.length;a++){var o=t[a];o.visible&&(o._gd=r,n.push(o))}return n}function abe(e){return e._index}function ibe(e,r){var t=Zs.tester.selectAll("g."+an.labelGroupClass).data(r._visibleSteps);t.enter().append("g").classed(an.labelGroupClass,!0);var n=0,a=0;t.each(function(x){var A=Xs.select(this),w=HH(A,{step:x},r),y=w.node();if(y){var _=Zs.bBox(y);a=Math.max(a,_.height),n=Math.max(n,_.width)}}),t.remove();var o=r._dims={};o.inputAreaWidth=Math.max(an.railWidth,an.gripHeight);var i=e._fullLayout._size;o.lx=i.l+i.w*r.x,o.ly=i.t+i.h*(1-r.y),r.lenmode==="fraction"?o.outerLength=Math.round(i.w*r.len):o.outerLength=r.len,o.inputAreaStart=0,o.inputAreaLength=Math.round(o.outerLength-r.pad.l-r.pad.r);var s=o.inputAreaLength-2*an.stepInset,f=s/(r._stepCount-1),l=n+an.labelPadding;if(o.labelStride=Math.max(1,Math.ceil(l/f)),o.labelHeight=a,o.currentValueMaxWidth=0,o.currentValueHeight=0,o.currentValueTotalHeight=0,o.currentValueMaxLines=1,r.currentvalue.visible){var u=Zs.tester.append("g");t.each(function(x){var A=Yx(u,r,x.label),w=A.node()&&Zs.bBox(A.node())||{width:0,height:0},y=cg.lineCount(A);o.currentValueMaxWidth=Math.max(o.currentValueMaxWidth,Math.ceil(w.width)),o.currentValueHeight=Math.max(o.currentValueHeight,Math.ceil(w.height)),o.currentValueMaxLines=Math.max(o.currentValueMaxLines,y)}),o.currentValueTotalHeight=o.currentValueHeight+r.currentvalue.offset,u.remove()}o.height=o.currentValueTotalHeight+an.tickOffset+r.ticklen+an.labelOffset+o.labelHeight+r.pad.t+r.pad.b;var c="left";Wo.isRightAnchor(r)&&(o.lx-=o.outerLength,c="right"),Wo.isCenterAnchor(r)&&(o.lx-=o.outerLength/2,c="center");var v="top";Wo.isBottomAnchor(r)&&(o.ly-=o.height,v="bottom"),Wo.isMiddleAnchor(r)&&(o.ly-=o.height/2,v="middle"),o.outerLength=Math.ceil(o.outerLength),o.height=Math.ceil(o.height),o.lx=Math.round(o.lx),o.ly=Math.round(o.ly);var m={y:r.y,b:o.height*s8[v],t:o.height*o8[v]};r.lenmode==="fraction"?(m.l=0,m.xl=r.x-r.len*o8[c],m.r=0,m.xr=r.x+r.len*s8[c]):(m.x=r.x,m.l=o.outerLength*o8[c],m.r=o.outerLength*s8[c]),Vx.autoMargin(e,GH(r),m)}function obe(e,r,t){(t.steps[t.active]||{}).visible||(t.active=t._visibleSteps[0]._index),r.call(Yx,t).call(hbe,t).call(lbe,t).call(fbe,t).call(cbe,e,t).call(sbe,e,t);var n=t._dims;Zs.setTranslate(r,n.lx+t.pad.l,n.ly+t.pad.t),r.call(WH,t,!1),r.call(Yx,t)}function Yx(e,r,t){if(r.currentvalue.visible){var n=r._dims,a,o;switch(r.currentvalue.xanchor){case"right":a=n.inputAreaLength-an.currentValueInset-n.currentValueMaxWidth,o="left";break;case"center":a=n.inputAreaLength*.5,o="middle";break;default:a=an.currentValueInset,o="left"}var i=Wo.ensureSingle(e,"text",an.labelClass,function(v){v.attr({"text-anchor":o,"data-notex":1})}),s=r.currentvalue.prefix?r.currentvalue.prefix:"";if(typeof t=="string")s+=t;else{var f=r.steps[r.active].label,l=r._gd._fullLayout._meta;l&&(f=Wo.templateString(f,l)),s+=f}r.currentvalue.suffix&&(s+=r.currentvalue.suffix),i.call(Zs.font,r.currentvalue.font).text(s).call(cg.convertToTspans,r._gd);var u=cg.lineCount(i),c=(n.currentValueMaxLines+1-u)*r.currentvalue.font.size*UH;return cg.positionText(i,a,c),i}}function sbe(e,r,t){var n=Wo.ensureSingle(e,"rect",an.gripRectClass,function(a){a.call(YH,r,e,t).style("pointer-events","all")});n.attr({width:an.gripWidth,height:an.gripHeight,rx:an.gripRadius,ry:an.gripRadius}).call(qu.stroke,t.bordercolor).call(qu.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function HH(e,r,t){var n=Wo.ensureSingle(e,"text",an.labelClass,function(i){i.attr({"text-anchor":"middle","data-notex":1})}),a=r.step.label,o=t._gd._fullLayout._meta;return o&&(a=Wo.templateString(a,o)),n.call(Zs.font,t.font).text(a).call(cg.convertToTspans,t._gd),n}function lbe(e,r){var t=Wo.ensureSingle(e,"g",an.labelsClass),n=r._dims,a=t.selectAll("g."+an.labelGroupClass).data(n.labelSteps);a.enter().append("g").classed(an.labelGroupClass,!0),a.exit().remove(),a.each(function(o){var i=Xs.select(this);i.call(HH,o,r),Zs.setTranslate(i,f8(r,o.fraction),an.tickOffset+r.ticklen+r.font.size*UH+an.labelOffset+n.currentValueTotalHeight)})}function qH(e,r,t,n,a){var o=Math.round(n*(t._stepCount-1)),i=t._visibleSteps[o]._index;i!==t.active&&VH(e,r,t,i,!0,a)}function VH(e,r,t,n,a,o){var i=t.active;t.active=n,tbe(e.layout,an.name,t).applyUpdate("active",n);var s=t.steps[t.active];r.call(WH,t,o),r.call(Yx,t),e.emit("plotly_sliderchange",{slider:t,step:t.steps[t.active],interaction:a,previousActive:i}),s&&s.method&&a&&(r._nextMethod?(r._nextMethod.step=s,r._nextMethod.doCallback=a,r._nextMethod.doTransition=o):(r._nextMethod={step:s,doCallback:a,doTransition:o},r._nextMethodRaf=window.requestAnimationFrame(function(){var f=r._nextMethod.step;f.method&&(f.execute&&Vx.executeAPICommand(e,f.method,f.args),r._nextMethod=null,r._nextMethodRaf=null)})))}function YH(e,r,t){if(r._context.staticPlot)return;var n=t.node(),a=Xs.select(r);function o(){return t.data()[0]}function i(){var s=o();r.emit("plotly_sliderstart",{slider:s});var f=t.select("."+an.gripRectClass);Xs.event.stopPropagation(),Xs.event.preventDefault(),f.call(qu.fill,s.activebgcolor);var l=zH(s,Xs.mouse(n)[0]);qH(r,t,s,l,!0),s._dragging=!0;function u(){var v=o(),m=zH(v,Xs.mouse(n)[0]);qH(r,t,v,m,!1)}a.on("mousemove",u),a.on("touchmove",u);function c(){var v=o();v._dragging=!1,f.call(qu.fill,v.bgcolor),a.on("mouseup",null),a.on("mousemove",null),a.on("touchend",null),a.on("touchmove",null),r.emit("plotly_sliderend",{slider:v,step:v.steps[v.active]})}a.on("mouseup",c),a.on("touchend",c)}e.on("mousedown",i),e.on("touchstart",i)}function fbe(e,r){var t=e.selectAll("rect."+an.tickRectClass).data(r._visibleSteps),n=r._dims;t.enter().append("rect").classed(an.tickRectClass,!0),t.exit().remove(),t.attr({width:r.tickwidth+"px","shape-rendering":"crispEdges"}),t.each(function(a,o){var i=o%n.labelStride===0,s=Xs.select(this);s.attr({height:i?r.ticklen:r.minorticklen}).call(qu.fill,r.tickcolor),Zs.setTranslate(s,f8(r,o/(r._stepCount-1))-.5*r.tickwidth,(i?an.tickOffset:an.minorTickOffset)+n.currentValueTotalHeight)})}function ube(e){var r=e._dims;r.labelSteps=[];for(var t=e._stepCount,n=0;n<t;n+=r.labelStride)r.labelSteps.push({fraction:n/(t-1),step:e._visibleSteps[n]})}function WH(e,r,t){for(var n=e.select("rect."+an.gripRectClass),a=0,o=0;o<r._stepCount;o++)if(r._visibleSteps[o]._index===r.active){a=o;break}var i=f8(r,a/(r._stepCount-1));if(!r._invokingCommand){var s=n;t&&r.transition.duration>0&&(s=s.transition().duration(r.transition.duration).ease(r.transition.easing)),s.attr("transform",rbe(i-an.gripWidth*.5,r._dims.currentValueTotalHeight))}}function f8(e,r){var t=e._dims;return t.inputAreaStart+an.stepInset+(t.inputAreaLength-2*an.stepInset)*Math.min(1,Math.max(0,r))}function zH(e,r){var t=e._dims;return Math.min(1,Math.max(0,(r-an.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*an.stepInset-2*t.inputAreaStart)))}function cbe(e,r,t){var n=t._dims,a=Wo.ensureSingle(e,"rect",an.railTouchRectClass,function(o){o.call(YH,r,e,t).style("pointer-events","all")});a.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,an.tickOffset+t.ticklen+n.labelHeight)}).call(qu.fill,t.bgcolor).attr("opacity",0),Zs.setTranslate(a,0,n.currentValueTotalHeight)}function hbe(e,r){var t=r._dims,n=t.inputAreaLength-an.railInset*2,a=Wo.ensureSingle(e,"rect",an.railRectClass);a.attr({width:n,height:an.railWidth,rx:an.railRadius,ry:an.railRadius,"shape-rendering":"crispEdges"}).call(qu.stroke,r.bordercolor).call(qu.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px"),Zs.setTranslate(a,an.railInset,(t.inputAreaWidth-an.railWidth)*.5+t.currentValueTotalHeight)}});var JH=ie((lNe,jH)=>{"use strict";var vbe=ug();jH.exports={moduleType:"component",name:vbe.name,layoutAttributes:i8(),supplyLayoutDefaults:BH(),draw:ZH()}});var Wx=ie((fNe,KH)=>{"use strict";var $H=pl();KH.exports={bgcolor:{valType:"color",dflt:$H.background,editType:"plot"},bordercolor:{valType:"color",dflt:$H.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}});var u8=ie((uNe,QH)=>{"use strict";QH.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}});var Xx=ie((cNe,eV)=>{"use strict";eV.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var nV=ie(jx=>{"use strict";var dbe=ya(),pbe=Ni(),rV=Xx(),gbe=Oi().LINE_SPACING,Zx=rV.name;function tV(e){var r=e&&e[Zx];return r&&r.visible}jx.isVisible=tV;jx.makeData=function(e){var r=dbe.list({_fullLayout:e},"x",!0),t=e.margin,n=[];if(!e._has("gl2d"))for(var a=0;a<r.length;a++){var o=r[a];if(tV(o)){n.push(o);var i=o[Zx];i._id=Zx+o._id,i._height=(e.height-t.b-t.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2)}}e._rangeSliderData=n};jx.autoMarginOpts=function(e,r){var t=e._fullLayout,n=r[Zx],a=r._id.charAt(0),o=0,i=0;if(r.side==="bottom"&&(o=r._depth,r.title.text!==t._dfltTitle[a])){i=1.5*r.title.font.size+10+n._offsetShift;var s=(r.title.text.match(pbe.BR_TAG_ALL)||[]).length;i+=s*r.title.font.size*gbe}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:n._height+o+Math.max(t.margin.b,i),pad:rV.extraPad+n._offsetShift*2}}});var sV=ie((vNe,oV)=>{"use strict";var Jx=wr(),aV=Yn(),iV=ya(),ybe=Wx(),mbe=u8();oV.exports=function(r,t,n){var a=r[n],o=t[n];if(!(a.rangeslider||t._requestRangeslider[o._id]))return;Jx.isPlainObject(a.rangeslider)||(a.rangeslider={});var i=a.rangeslider,s=aV.newContainer(o,"rangeslider");function f(E,d){return Jx.coerce(i,s,ybe,E,d)}var l,u;function c(E,d){return Jx.coerce(l,u,mbe,E,d)}var v=f("visible");if(v){f("bgcolor",t.plot_bgcolor),f("bordercolor"),f("borderwidth"),f("thickness"),f("autorange",!o.isValidRange(i.range)),f("range");var m=t._subplots;if(m)for(var x=m.cartesian.filter(function(E){return E.substr(0,E.indexOf("y"))===iV.name2id(n)}).map(function(E){return E.substr(E.indexOf("y"),E.length)}),A=Jx.simpleMap(x,iV.id2name),w=0;w<A.length;w++){var y=A[w];l=i[y]||{},u=aV.newContainer(s,y,"yaxis");var _=t[y],M;l.range&&_.isValidRange(l.range)&&(M="fixed");var b=c("rangemode",M);b!=="match"&&c("range",_.range.slice())}s._input=i}}});var fV=ie((dNe,lV)=>{"use strict";var xbe=ya().list,bbe=Au().getAutoRange,_be=Xx();lV.exports=function(r){for(var t=xbe(r,"x",!0),n=0;n<t.length;n++){var a=t[n],o=a[_be.name];o&&o.visible&&o.autorange&&(o._input.autorange=!0,o._input.range=o.range=bbe(r,a))}}});var vV=ie((pNe,hV)=>{"use strict";var $x=gn(),wbe=Dt(),Abe=Za(),wa=wr(),Kx=wa.strTranslate,cV=zn(),zu=pn(),Tbe=np(),Mbe=Dv(),c8=ya(),Ebe=Bs(),Sbe=Mu(),hn=Xx();hV.exports=function(e){for(var r=e._fullLayout,t=r._rangeSliderData,n=0;n<t.length;n++){var a=t[n][hn.name];a._clipId=a._id+"-"+r._uid}function o(s){return s._name}var i=r._infolayer.selectAll("g."+hn.containerClassName).data(t,o);i.exit().each(function(s){var f=s[hn.name];r._topdefs.select("#"+f._clipId).remove()}).remove(),t.length!==0&&(i.enter().append("g").classed(hn.containerClassName,!0).attr("pointer-events","all"),i.each(function(s){var f=$x.select(this),l=s[hn.name],u=r[c8.id2name(s.anchor)],c=l[c8.id2name(s.anchor)];if(l.range){var v=wa.simpleMap(l.range,s.r2l),m=wa.simpleMap(s.range,s.r2l),x;m[0]<m[1]?x=[Math.min(v[0],m[0]),Math.max(v[1],m[1])]:x=[Math.max(v[0],m[0]),Math.min(v[1],m[1])],l.range=l._input.range=wa.simpleMap(x,s.l2r)}s.cleanRange("rangeslider.range");var A=r._size,w=s.domain;l._width=A.w*(w[1]-w[0]);var y=Math.round(A.l+A.w*w[0]),_=Math.round(A.t+A.h*(1-s._counterDomainMin)+(s.side==="bottom"?s._depth:0)+l._offsetShift+hn.extraPad);f.attr("transform",Kx(y,_)),l._rl=wa.simpleMap(l.range,s.r2l);var M=l._rl[0],b=l._rl[1],E=b-M;if(l.p2d=function(P){return P/l._width*E+M},l.d2p=function(P){return(P-M)/E*l._width},s.rangebreaks){var d=s.locateBreaks(M,b);if(d.length){var T,g,h=0;for(T=0;T<d.length;T++)g=d[T],h+=g.max-g.min;var S=l._width/(b-M-h),p=[-S*M];for(T=0;T<d.length;T++)g=d[T],p.push(p[p.length-1]-S*(g.max-g.min));for(l.d2p=function(P){for(var O=p[0],F=0;F<d.length;F++){var L=d[F];if(P>=L.max)O=p[F+1];else if(P<L.min)break}return O+S*P},T=0;T<d.length;T++)g=d[T],g.pmin=l.d2p(g.min),g.pmax=l.d2p(g.max);l.p2d=function(P){for(var O=p[0],F=0;F<d.length;F++){var L=d[F];if(P>=L.pmax)O=p[F+1];else if(P<L.pmin)break}return(P-O)/S}}}if(c.rangemode!=="match"){var C=u.r2l(c.range[0]),k=u.r2l(c.range[1]),D=k-C;l.d2pOppAxis=function(P){return(P-C)/D*l._height}}f.call(Rbe,e,s,l).call(Dbe,e,s,l).call(Fbe,e,s,l).call(Pbe,e,s,l,c).call(Obe,e,s,l).call(Nbe,e,s,l),Cbe(f,e,s,l),Lbe(f,e,s,l,u,c),s.side==="bottom"&&Tbe.draw(e,s._id+"title",{propContainer:s,propName:s._name+".title",placeholder:r._dfltTitle.x,attributes:{x:s._offset+s._length/2,y:_+l._height+l._offsetShift+10+1.5*s.title.font.size,"text-anchor":"middle"}})}))};function uV(e){return typeof e.clientX=="number"?e.clientX:e.touches&&e.touches.length>0?e.touches[0].clientX:0}function Cbe(e,r,t,n){if(r._context.staticPlot)return;var a=e.select("rect."+hn.slideBoxClassName).node(),o=e.select("rect."+hn.grabAreaMinClassName).node(),i=e.select("rect."+hn.grabAreaMaxClassName).node();function s(){var f=$x.event,l=f.target,u=uV(f),c=u-e.node().getBoundingClientRect().left,v=n.d2p(t._rl[0]),m=n.d2p(t._rl[1]),x=Ebe.coverSlip();this.addEventListener("touchmove",A),this.addEventListener("touchend",w),x.addEventListener("mousemove",A),x.addEventListener("mouseup",w);function A(y){var _=uV(y),M=+_-u,b,E,d;switch(l){case a:if(d="ew-resize",v+M>t._length||m+M<0)return;b=v+M,E=m+M;break;case o:if(d="col-resize",v+M>t._length)return;b=v+M,E=m;break;case i:if(d="col-resize",m+M<0)return;b=v,E=m+M;break;default:d="ew-resize",b=c,E=c+M;break}if(E<b){var T=E;E=b,b=T}n._pixelMin=b,n._pixelMax=E,Sbe($x.select(x),d),kbe(e,r,t,n)}function w(){x.removeEventListener("mousemove",A),x.removeEventListener("mouseup",w),this.removeEventListener("touchmove",A),this.removeEventListener("touchend",w),wa.removeElement(x)}}e.on("mousedown",s),e.on("touchstart",s)}function kbe(e,r,t,n){function a(s){return t.l2r(wa.constrain(s,n._rl[0],n._rl[1]))}var o=a(n.p2d(n._pixelMin)),i=a(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){wbe.call("_guiRelayout",r,t._name+".range",[o,i])})}function Lbe(e,r,t,n,a,o){var i=hn.handleWidth/2;function s(y){return wa.constrain(y,0,n._width)}function f(y){return wa.constrain(y,0,n._height)}function l(y){return wa.constrain(y,-i,n._width+i)}var u=s(n.d2p(t._rl[0])),c=s(n.d2p(t._rl[1]));if(e.select("rect."+hn.slideBoxClassName).attr("x",u).attr("width",c-u),e.select("rect."+hn.maskMinClassName).attr("width",u),e.select("rect."+hn.maskMaxClassName).attr("x",c).attr("width",n._width-c),o.rangemode!=="match"){var v=n._height-f(n.d2pOppAxis(a._rl[1])),m=n._height-f(n.d2pOppAxis(a._rl[0]));e.select("rect."+hn.maskMinOppAxisClassName).attr("x",u).attr("height",v).attr("width",c-u),e.select("rect."+hn.maskMaxOppAxisClassName).attr("x",u).attr("y",m).attr("height",n._height-m).attr("width",c-u),e.select("rect."+hn.slideBoxClassName).attr("y",v).attr("height",m-v)}var x=.5,A=Math.round(l(u-i))-x,w=Math.round(l(c-i))+x;e.select("g."+hn.grabberMinClassName).attr("transform",Kx(A,x)),e.select("g."+hn.grabberMaxClassName).attr("transform",Kx(w,x))}function Rbe(e,r,t,n){var a=wa.ensureSingle(e,"rect",hn.bgClassName,function(f){f.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,i=-n._offsetShift,s=cV.crispRound(r,n.borderwidth);a.attr({width:n._width+o,height:n._height+o,transform:Kx(i,i),"stroke-width":s}).call(zu.stroke,n.bordercolor).call(zu.fill,n.bgcolor)}function Dbe(e,r,t,n){var a=r._fullLayout,o=wa.ensureSingleById(a._topdefs,"clipPath",n._clipId,function(i){i.append("rect").attr({x:0,y:0})});o.select("rect").attr({width:n._width,height:n._height})}function Fbe(e,r,t,n){var a=r.calcdata,o=e.selectAll("g."+hn.rangePlotClassName).data(t._subplotsWith,wa.identity);o.enter().append("g").attr("class",function(s){return hn.rangePlotClassName+" "+s}).call(cV.setClipUrl,n._clipId,r),o.order(),o.exit().remove();var i;o.each(function(s,f){var l=$x.select(this),u=f===0,c=c8.getFromId(r,s,"y"),v=c._name,m=n[v],x={data:[],layout:{xaxis:{type:t.type,domain:[0,1],range:n.range.slice(),calendar:t.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:r._context};t.rangebreaks&&(x.layout.xaxis.rangebreaks=t.rangebreaks),x.layout[v]={type:c.type,domain:[0,1],range:m.rangemode!=="match"?m.range.slice():c.range.slice(),calendar:c.calendar},c.rangebreaks&&(x.layout[v].rangebreaks=c.rangebreaks),Abe.supplyDefaults(x);var A=x._fullLayout.xaxis,w=x._fullLayout[v];A.clearCalc(),A.setScale(),w.clearCalc(),w.setScale();var y={id:s,plotgroup:l,xaxis:A,yaxis:w,isRangePlot:!0};u?i=y:(y.mainplot="xy",y.mainplotinfo=i),Mbe.rangePlot(r,y,Ibe(a,s))})}function Ibe(e,r){for(var t=[],n=0;n<e.length;n++){var a=e[n],o=a[0].trace;o.xaxis+o.yaxis===r&&t.push(a)}return t}function Pbe(e,r,t,n,a){var o=wa.ensureSingle(e,"rect",hn.maskMinClassName,function(l){l.attr({x:0,y:0,"shape-rendering":"crispEdges"})});o.attr("height",n._height).call(zu.fill,hn.maskColor);var i=wa.ensureSingle(e,"rect",hn.maskMaxClassName,function(l){l.attr({y:0,"shape-rendering":"crispEdges"})});if(i.attr("height",n._height).call(zu.fill,hn.maskColor),a.rangemode!=="match"){var s=wa.ensureSingle(e,"rect",hn.maskMinOppAxisClassName,function(l){l.attr({y:0,"shape-rendering":"crispEdges"})});s.attr("width",n._width).call(zu.fill,hn.maskOppAxisColor);var f=wa.ensureSingle(e,"rect",hn.maskMaxOppAxisClassName,function(l){l.attr({y:0,"shape-rendering":"crispEdges"})});f.attr("width",n._width).style("border-top",hn.maskOppBorder).call(zu.fill,hn.maskOppAxisColor)}}function Obe(e,r,t,n){if(!r._context.staticPlot){var a=wa.ensureSingle(e,"rect",hn.slideBoxClassName,function(o){o.attr({y:0,cursor:hn.slideBoxCursor,"shape-rendering":"crispEdges"})});a.attr({height:n._height,fill:hn.slideBoxFill})}}function Nbe(e,r,t,n){var a=wa.ensureSingle(e,"g",hn.grabberMinClassName),o=wa.ensureSingle(e,"g",hn.grabberMaxClassName),i={x:0,width:hn.handleWidth,rx:hn.handleRadius,fill:zu.background,stroke:zu.defaultLine,"stroke-width":hn.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(n._height/4),height:Math.round(n._height/2)},f=wa.ensureSingle(a,"rect",hn.handleMinClassName,function(m){m.attr(i)});f.attr(s);var l=wa.ensureSingle(o,"rect",hn.handleMaxClassName,function(m){m.attr(i)});l.attr(s);var u={width:hn.grabAreaWidth,x:0,y:0,fill:hn.grabAreaFill,cursor:r._context.staticPlot?void 0:hn.grabAreaCursor},c=wa.ensureSingle(a,"rect",hn.grabAreaMinClassName,function(m){m.attr(u)});c.attr("height",n._height);var v=wa.ensureSingle(o,"rect",hn.grabAreaMaxClassName,function(m){m.attr(u)});v.attr("height",n._height)}});var pV=ie((gNe,dV)=>{"use strict";var Bbe=wr(),qbe=Wx(),zbe=u8(),h8=nV();dV.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:Bbe.extendFlat({},qbe,{yaxis:zbe})}}},layoutAttributes:Wx(),handleDefaults:sV(),calcAutorange:fV(),draw:vV(),isVisible:h8.isVisible,makeData:h8.makeData,autoMarginOpts:h8.autoMarginOpts}});var Qx=ie((yNe,yV)=>{"use strict";var Ube=ci(),gV=pl(),Gbe=Yn().templatedArray,Hbe=Gbe("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});yV.exports={visible:{valType:"boolean",editType:"plot"},buttons:Hbe,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:Ube({editType:"plot"}),bgcolor:{valType:"color",dflt:gV.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:gV.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}});var v8=ie((mNe,mV)=>{"use strict";mV.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var _V=ie((xNe,bV)=>{"use strict";var eb=wr(),Vbe=pn(),Ybe=Yn(),Wbe=qo(),xV=Qx(),d8=v8();bV.exports=function(r,t,n,a,o){var i=r.rangeselector||{},s=Ybe.newContainer(t,"rangeselector");function f(m,x){return eb.coerce(i,s,xV,m,x)}var l=Wbe(i,s,{name:"buttons",handleItemDefaults:Xbe,calendar:o}),u=f("visible",l.length>0);if(u){var c=Zbe(t,n,a);f("x",c[0]),f("y",c[1]),eb.noneOrAll(r,t,["x","y"]),f("xanchor"),f("yanchor"),eb.coerceFont(f,"font",n.font);var v=f("bgcolor");f("activecolor",Vbe.contrast(v,d8.lightAmount,d8.darkAmount)),f("bordercolor"),f("borderwidth")}};function Xbe(e,r,t,n){var a=n.calendar;function o(f,l){return eb.coerce(e,r,xV.buttons,f,l)}var i=o("visible");if(i){var s=o("step");s!=="all"&&(a&&a!=="gregorian"&&(s==="month"||s==="year")?r.stepmode="backward":o("stepmode"),o("count")),o("label")}}function Zbe(e,r,t){for(var n=t.filter(function(s){return r[s].anchor===e._id}),a=0,o=0;o<n.length;o++){var i=r[n[o]].domain;i&&(a=Math.max(i[1],a))}return[e.domain[0],a+d8.yPad]}});var AV=ie((bNe,wV)=>{"use strict";var jbe=hw(),Jbe=wr().titleCase;wV.exports=function(r,t){var n=r._name,a={};if(t.step==="all")a[n+".autorange"]=!0;else{var o=$be(r,t);a[n+".range[0]"]=o[0],a[n+".range[1]"]=o[1]}return a};function $be(e,r){var t=e.range,n=new Date(e.r2l(t[1])),a=r.step,o=jbe["utc"+Jbe(a)],i=r.count,s;switch(r.stepmode){case"backward":s=e.l2r(+o.offset(n,-i));break;case"todate":var f=o.offset(n,-i);s=e.l2r(+o.ceil(f));break}var l=t[1];return[s,l]}});var RV=ie((_Ne,LV)=>{"use strict";var tb=gn(),Kbe=Dt(),Qbe=Za(),TV=pn(),kV=zn(),Af=wr(),MV=Af.strTranslate,rb=Ni(),e5e=ya(),y8=Oi(),EV=y8.LINE_SPACING,SV=y8.FROM_TL,CV=y8.FROM_BR,g8=v8(),r5e=AV();LV.exports=function(r){var t=r._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(t5e(r),n5e);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(a){var o=tb.select(this),i=a,s=i.rangeselector,f=o.selectAll("g.button").data(Af.filterVisible(s.buttons));f.enter().append("g").classed("button",!0),f.exit().remove(),f.each(function(l){var u=tb.select(this),c=r5e(i,l);l._isActive=a5e(i,l,c),u.call(p8,s,l),u.call(o5e,s,l,r),u.on("click",function(){r._dragged||Kbe.call("_guiRelayout",r,c)}),u.on("mouseover",function(){l._isHovered=!0,u.call(p8,s,l)}),u.on("mouseout",function(){l._isHovered=!1,u.call(p8,s,l)})}),l5e(r,f,s,i._name,o)})};function t5e(e){for(var r=e5e.list(e,"x",!0),t=[],n=0;n<r.length;n++){var a=r[n];a.rangeselector&&a.rangeselector.visible&&t.push(a)}return t}function n5e(e){return e._id}function a5e(e,r,t){if(r.step==="all")return e.autorange===!0;var n=Object.keys(t);return e.range[0]===t[n[0]]&&e.range[1]===t[n[1]]}function p8(e,r,t){var n=Af.ensureSingle(e,"rect","selector-rect",function(a){a.attr("shape-rendering","crispEdges")});n.attr({rx:g8.rx,ry:g8.ry}),n.call(TV.stroke,r.bordercolor).call(TV.fill,i5e(r,t)).style("stroke-width",r.borderwidth+"px")}function i5e(e,r){return r._isActive||r._isHovered?e.activecolor:e.bgcolor}function o5e(e,r,t,n){function a(i){rb.convertToTspans(i,n)}var o=Af.ensureSingle(e,"text","selector-text",function(i){i.attr("text-anchor","middle")});o.call(kV.font,r.font).text(s5e(t,n._fullLayout._meta)).call(a)}function s5e(e,r){return e.label?r?Af.templateString(e.label,r):e.label:e.step==="all"?"all":e.count+e.step.charAt(0)}function l5e(e,r,t,n,a){var o=0,i=0,s=t.borderwidth;r.each(function(){var m=tb.select(this),x=m.select(".selector-text"),A=t.font.size*EV,w=Math.max(A*rb.lineCount(x),16)+3;i=Math.max(i,w)}),r.each(function(){var m=tb.select(this),x=m.select(".selector-rect"),A=m.select(".selector-text"),w=A.node()&&kV.bBox(A.node()).width,y=t.font.size*EV,_=rb.lineCount(A),M=Math.max(w+10,g8.minButtonWidth);m.attr("transform",MV(s+o,s)),x.attr({x:0,y:0,width:M,height:i}),rb.positionText(A,M/2,i/2-(_-1)*y/2+3),o+=M+5});var f=e._fullLayout._size,l=f.l+f.w*t.x,u=f.t+f.h*(1-t.y),c="left";Af.isRightAnchor(t)&&(l-=o,c="right"),Af.isCenterAnchor(t)&&(l-=o/2,c="center");var v="top";Af.isBottomAnchor(t)&&(u-=i,v="bottom"),Af.isMiddleAnchor(t)&&(u-=i/2,v="middle"),o=Math.ceil(o),i=Math.ceil(i),l=Math.round(l),u=Math.round(u),Qbe.autoMargin(e,n+"-range-selector",{x:t.x,y:t.y,l:o*SV[c],r:o*CV[c],b:i*CV[v],t:i*SV[v]}),a.attr("transform",MV(l,u))}});var FV=ie((wNe,DV)=>{"use strict";DV.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:Qx()}}},layoutAttributes:Qx(),handleDefaults:_V(),draw:RV()}});var nb=ie(m8=>{"use strict";var IV=ga().extendFlat;m8.attributes=function(e,r){e=e||{},r=r||{};var t={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",a=e.trace?"trace ":"subplot ",o=r.description?" "+r.description:"",i={x:IV({},t,{}),y:IV({},t,{}),editType:e.editType};return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i};m8.defaults=function(e,r,t,n){var a=n&&n.x||[0,1],o=n&&n.y||[0,1],i=r.grid;if(i){var s=t("domain.column");s!==void 0&&(s<i.columns?a=i._domains.x[s]:delete e.domain.column);var f=t("domain.row");f!==void 0&&(f<i.rows?o=i._domains.y[f]:delete e.domain.row)}var l=t("domain.x",a),u=t("domain.y",o);l[0]<l[1]||(e.domain.x=a.slice()),u[0]<u[1]||(e.domain.y=o.slice())}});var b8=ie((TNe,BV)=>{"use strict";var f5e=wr(),u5e=Fh().counter,c5e=nb().attributes,PV=Pa().idRegex,h5e=Yn(),x8={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[u5e("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[PV.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[PV.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:c5e({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function ab(e,r,t){var n=r[t+"axes"],a=Object.keys((e._splomAxes||{})[t]||{});if(Array.isArray(n))return n;if(a.length)return a}function v5e(e,r){var t=e.grid||{},n=ab(r,t,"x"),a=ab(r,t,"y");if(!e.grid&&!n&&!a)return;var o=Array.isArray(t.subplots)&&Array.isArray(t.subplots[0]),i=Array.isArray(n),s=Array.isArray(a),f=i&&n!==t.xaxes&&s&&a!==t.yaxes,l,u;o?(l=t.subplots.length,u=t.subplots[0].length):(s&&(l=a.length),i&&(u=n.length));var c=h5e.newContainer(r,"grid");function v(d,T){return f5e.coerce(t,c,x8,d,T)}var m=v("rows",l),x=v("columns",u);if(!(m*x>1)){delete r.grid;return}if(!o&&!i&&!s){var A=v("pattern")==="independent";A&&(o=!0)}c._hasSubplotGrid=o;var w=v("roworder"),y=w==="top to bottom",_=o?.2:.1,M=o?.3:.1,b,E;f&&r._splomGridDflt&&(b=r._splomGridDflt.xside,E=r._splomGridDflt.yside),c._domains={x:OV("x",v,_,b,x),y:OV("y",v,M,E,m,y)}}function OV(e,r,t,n,a,o){var i=r(e+"gap",t),s=r("domain."+e);r(e+"side",n);for(var f=new Array(a),l=s[0],u=(s[1]-l)/(a-i),c=u*(1-i),v=0;v<a;v++){var m=l+u*v;f[o?a-1-v:v]=[m,m+c]}return f}function d5e(e,r){var t=r.grid;if(!(!t||!t._domains)){var n=e.grid||{},a=r._subplots,o=t._hasSubplotGrid,i=t.rows,s=t.columns,f=t.pattern==="independent",l,u,c,v,m,x,A,w=t._axisMap={};if(o){var y=n.subplots||[];x=t.subplots=new Array(i);var _=1;for(l=0;l<i;l++){var M=x[l]=new Array(s),b=y[l]||[];for(u=0;u<s;u++)if(f?(m=_===1?"xy":"x"+_+"y"+_,_++):m=b[u],M[u]="",a.cartesian.indexOf(m)!==-1){if(A=m.indexOf("y"),c=m.slice(0,A),v=m.slice(A),w[c]!==void 0&&w[c]!==u||w[v]!==void 0&&w[v]!==l)continue;M[u]=m,w[c]=u,w[v]=l}}}else{var E=ab(r,n,"x"),d=ab(r,n,"y");t.xaxes=NV(E,a.xaxis,s,w,"x"),t.yaxes=NV(d,a.yaxis,i,w,"y")}var T=t._anchors={},g=t.roworder==="top to bottom";for(var h in w){var S=h.charAt(0),p=t[S+"side"],C,k,D;if(p.length<8)T[h]="free";else if(S==="x"){if(p.charAt(0)==="t"===g?(C=0,k=1,D=i):(C=i-1,k=-1,D=-1),o){var P=w[h];for(l=C;l!==D;l+=k)if(m=x[l][P],!!m&&(A=m.indexOf("y"),m.slice(0,A)===h)){T[h]=m.slice(A);break}}else for(l=C;l!==D;l+=k)if(v=t.yaxes[l],a.cartesian.indexOf(h+v)!==-1){T[h]=v;break}}else if(p.charAt(0)==="l"?(C=0,k=1,D=s):(C=s-1,k=-1,D=-1),o){var O=w[h];for(l=C;l!==D;l+=k)if(m=x[O][l],!!m&&(A=m.indexOf("y"),m.slice(A)===h)){T[h]=m.slice(0,A);break}}else for(l=C;l!==D;l+=k)if(c=t.xaxes[l],a.cartesian.indexOf(c+h)!==-1){T[h]=c;break}}}}function NV(e,r,t,n,a){var o=new Array(t),i;function s(f,l){r.indexOf(l)!==-1&&n[l]===void 0?(o[f]=l,n[l]=f):o[f]=""}if(Array.isArray(e))for(i=0;i<t;i++)s(i,e[i]);else for(s(0,a),i=1;i<t;i++)s(i,a+(i+1));return o}BV.exports={moduleType:"component",name:"grid",schema:{layout:{grid:x8}},layoutAttributes:x8,sizeDefaults:v5e,contentDefaults:d5e}});var _8=ie((MNe,qV)=>{"use strict";qV.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}});var GV=ie((ENe,UV)=>{"use strict";var zV=cn(),p5e=Dt(),g5e=wr(),y5e=Yn(),m5e=_8();UV.exports=function(e,r,t,n){var a="error_"+n.axis,o=y5e.newContainer(r,a),i=e[a]||{};function s(x,A){return g5e.coerce(i,o,m5e,x,A)}var f=i.array!==void 0||i.value!==void 0||i.type==="sqrt",l=s("visible",f);if(l!==!1){var u=s("type","array"in i?"data":"percent"),c=!0;u!=="sqrt"&&(c=s("symmetric",!((u==="data"?"arrayminus":"valueminus")in i))),u==="data"?(s("array"),s("traceref"),c||(s("arrayminus"),s("tracerefminus"))):(u==="percent"||u==="constant")&&(s("value"),c||s("valueminus"));var v="copy_"+n.inherit+"style";if(n.inherit){var m=r["error_"+n.inherit];(m||{}).visible&&s(v,!(i.color||zV(i.thickness)||zV(i.width)))}(!n.inherit||!o[v])&&(s("color",t),s("thickness"),s("width",p5e.traceIs(r,"gl3d")?0:4))}}});var w8=ie((SNe,VV)=>{"use strict";VV.exports=function(r){var t=r.type,n=r.symmetric;if(t==="data"){var a=r.array||[];if(n)return function(l,u){var c=+a[u];return[c,c]};var o=r.arrayminus||[];return function(l,u){var c=+a[u],v=+o[u];return!isNaN(c)||!isNaN(v)?[v||0,c||0]:[NaN,NaN]}}else{var i=HV(t,r.value),s=HV(t,r.valueminus);return n||r.valueminus===void 0?function(l){var u=i(l);return[u,u]}:function(l){return[s(l),i(l)]}}};function HV(e,r){if(e==="percent")return function(t){return Math.abs(t*r/100)};if(e==="constant")return function(){return Math.abs(r)};if(e==="sqrt")return function(t){return Math.sqrt(Math.abs(t))}}});var XV=ie((CNe,WV)=>{"use strict";var A8=cn(),x5e=Dt(),T8=Rn(),b5e=wr(),_5e=w8();WV.exports=function(r){for(var t=r.calcdata,n=0;n<t.length;n++){var a=t[n],o=a[0].trace;if(o.visible===!0&&x5e.traceIs(o,"errorBarsOK")){var i=T8.getFromId(r,o.xaxis),s=T8.getFromId(r,o.yaxis);YV(a,o,i,"x"),YV(a,o,s,"y")}}};function YV(e,r,t,n){var a=r["error_"+n]||{},o=a.visible&&["linear","log"].indexOf(t.type)!==-1,i=[];if(o){for(var s=_5e(a),f=0;f<e.length;f++){var l=e[f],u=l.i;if(u===void 0)u=f;else if(u===null)continue;var c=l[n];if(A8(t.c2l(c))){var v=s(c,u);if(A8(v[0])&&A8(v[1])){var m=l[n+"s"]=c-v[0],x=l[n+"h"]=c+v[1];i.push(m,x)}}}var A=t._id,w=r._extremes[A],y=T8.findExtremes(t,i,b5e.extendFlat({tozero:w.opts.tozero},{padded:!0}));w.min=w.min.concat(y.min),w.max=w.max.concat(y.max)}}});var JV=ie((kNe,jV)=>{"use strict";var ZV=gn(),Uu=cn(),w5e=zn(),A5e=hi();jV.exports=function(r,t,n,a){var o,i=n.xaxis,s=n.yaxis,f=a&&a.duration>0,l=r._context.staticPlot;t.each(function(u){var c=u[0].trace,v=c.error_x||{},m=c.error_y||{},x;c.ids&&(x=function(_){return _.id});var A=A5e.hasMarkers(c)&&c.marker.maxdisplayed>0;!m.visible&&!v.visible&&(u=[]);var w=ZV.select(this).selectAll("g.errorbar").data(u,x);if(w.exit().remove(),!!u.length){v.visible||w.selectAll("path.xerror").remove(),m.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var y=w.enter().append("g").classed("errorbar",!0);f&&y.style("opacity",0).transition().duration(a.duration).style("opacity",1),w5e.setClipUrl(w,n.layerClipId,r),w.each(function(_){var M=ZV.select(this),b=T5e(_,i,s);if(!(A&&!_.vis)){var E,d=M.select("path.yerror");if(m.visible&&Uu(b.x)&&Uu(b.yh)&&Uu(b.ys)){var T=m.width;E="M"+(b.x-T)+","+b.yh+"h"+2*T+"m-"+T+",0V"+b.ys,b.noYS||(E+="m-"+T+",0h"+2*T),o=!d.size(),o?d=M.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0):f&&(d=d.transition().duration(a.duration).ease(a.easing)),d.attr("d",E)}else d.remove();var g=M.select("path.xerror");if(v.visible&&Uu(b.y)&&Uu(b.xh)&&Uu(b.xs)){var h=(v.copy_ystyle?m:v).width;E="M"+b.xh+","+(b.y-h)+"v"+2*h+"m0,-"+h+"H"+b.xs,b.noXS||(E+="m0,-"+h+"v"+2*h),o=!g.size(),o?g=M.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0):f&&(g=g.transition().duration(a.duration).ease(a.easing)),g.attr("d",E)}else g.remove()}})}})};function T5e(e,r,t){var n={x:r.c2p(e.x),y:t.c2p(e.y)};return e.yh!==void 0&&(n.yh=t.c2p(e.yh),n.ys=t.c2p(e.ys),Uu(n.ys)||(n.noYS=!0,n.ys=t.c2p(e.ys,!0))),e.xh!==void 0&&(n.xh=r.c2p(e.xh),n.xs=r.c2p(e.xs),Uu(n.xs)||(n.noXS=!0,n.xs=r.c2p(e.xs,!0))),n}});var QV=ie((LNe,KV)=>{"use strict";var M5e=gn(),$V=pn();KV.exports=function(r){r.each(function(t){var n=t[0].trace,a=n.error_y||{},o=n.error_x||{},i=M5e.select(this);i.selectAll("path.yerror").style("stroke-width",a.thickness+"px").call($V.stroke,a.color),o.copy_ystyle&&(o=a),i.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call($V.stroke,o.color)})}});var tY=ie((RNe,rY)=>{"use strict";var hg=wr(),eY=No().overrideAll,vg=_8(),T0={error_x:hg.extendFlat({},vg),error_y:hg.extendFlat({},vg)};delete T0.error_x.copy_zstyle;delete T0.error_y.copy_zstyle;delete T0.error_y.copy_ystyle;var dg={error_x:hg.extendFlat({},vg),error_y:hg.extendFlat({},vg),error_z:hg.extendFlat({},vg)};delete dg.error_x.copy_ystyle;delete dg.error_y.copy_ystyle;delete dg.error_z.copy_ystyle;delete dg.error_z.copy_zstyle;rY.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:T0,bar:T0,histogram:T0,scatter3d:eY(dg,"calc","nested"),scattergl:eY(T0,"calc","nested")}},supplyDefaults:GV(),calc:XV(),makeComputeError:w8(),plot:JV(),style:QV(),hoverInfo:E5e};function E5e(e,r,t){(r.error_y||{}).visible&&(t.yerr=e.yh-e.y,r.error_y.symmetric||(t.yerrneg=e.y-e.ys)),(r.error_x||{}).visible&&(t.xerr=e.xh-e.x,r.error_x.symmetric||(t.xerrneg=e.x-e.xs))}});var aY=ie((DNe,nY)=>{"use strict";nY.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var cY=ie((FNe,uY)=>{"use strict";var Gu=gn(),M8=Is(),ob=Za(),iY=Dt(),Tf=Rn(),ib=Bs(),bs=wr(),Js=bs.strTranslate,fY=ga().extendFlat,E8=Mu(),js=zn(),S8=pn(),S5e=np(),C5e=Ni(),k5e=Os().flipScale,L5e=PT(),R5e=OT(),D5e=is(),C8=Oi(),oY=C8.LINE_SPACING,sY=C8.FROM_TL,lY=C8.FROM_BR,sa=aY().cn;function F5e(e){var r=e._fullLayout,t=r._infolayer.selectAll("g."+sa.colorbar).data(I5e(e),function(n){return n._id});t.enter().append("g").attr("class",function(n){return n._id}).classed(sa.colorbar,!0),t.each(function(n){var a=Gu.select(this);bs.ensureSingle(a,"rect",sa.cbbg),bs.ensureSingle(a,"g",sa.cbfills),bs.ensureSingle(a,"g",sa.cblines),bs.ensureSingle(a,"g",sa.cbaxis,function(i){i.classed(sa.crisp,!0)}),bs.ensureSingle(a,"g",sa.cbtitleunshift,function(i){i.append("g").classed(sa.cbtitle,!0)}),bs.ensureSingle(a,"rect",sa.cboutline);var o=P5e(a,n,e);o&&o.then&&(e._promises||[]).push(o),e._context.edits.colorbarPosition&&O5e(a,n,e)}),t.exit().each(function(n){ob.autoMargin(e,n._id)}).remove(),t.order()}function I5e(e){var r=e._fullLayout,t=e.calcdata,n=[],a,o,i,s;function f(M){return fY(M,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function l(){typeof s.calc=="function"?s.calc(e,i,a):(a._fillgradient=o.reversescale?k5e(o.colorscale):o.colorscale,a._zrange=[o[s.min],o[s.max]])}for(var u=0;u<t.length;u++){var c=t[u];if(i=c[0].trace,!!i._module){var v=i._module.colorbar;if(i.visible===!0&&v)for(var m=Array.isArray(v),x=m?v:[v],A=0;A<x.length;A++){s=x[A];var w=s.container;o=w?i[w]:i,o&&o.showscale&&(a=f(o.colorbar),a._id="cb"+i.uid+(m&&w?"-"+w:""),a._traceIndex=i.index,a._propPrefix=(w?w+".":"")+"colorbar.",a._meta=i._meta,l(),n.push(a))}}}for(var y in r._colorAxes)if(o=r[y],o.showscale){var _=r._colorAxes[y];a=f(o.colorbar),a._id="cb"+y,a._propPrefix=y+".colorbar.",a._meta=r._meta,s={min:"cmin",max:"cmax"},_[0]!=="heatmap"&&(i=_[1],s.calc=i._module.colorbar.calc),l(),n.push(a)}return n}function P5e(e,r,t){var n=r.orientation==="v",a=r.len,o=r.lenmode,i=r.thickness,s=r.thicknessmode,f=r.outlinewidth,l=r.borderwidth,u=r.bgcolor,c=r.xanchor,v=r.yanchor,m=r.xpad,x=r.ypad,A=r.x,w=n?r.y:1-r.y,y=r.yref==="paper",_=r.xref==="paper",M=t._fullLayout,b=M._size,E=r._fillcolor,d=r._line,T=r.title,g=T.side,h=r._zrange||Gu.extent((typeof E=="function"?E:d.color).domain()),S=typeof d.color=="function"?d.color:function(){return d.color},p=typeof E=="function"?E:function(){return E},C=r._levels,k=N5e(t,r,h),D=k.fill,P=k.line,O=Math.round(i*(s==="fraction"?n?b.w:b.h:1)),F=O/(n?b.w:b.h),L=Math.round(a*(o==="fraction"?n?b.h:b.w:1)),I=L/(n?b.h:b.w),q=_?b.w:t._fullLayout.width,z=y?b.h:t._fullLayout.height,W=Math.round(n?A*q+m:w*z+x),$={center:.5,right:1}[c]||0,j={top:1,middle:.5}[v]||0,G=n?A-$*F:w-j*F,B=n?w-j*I:A-$*I,X=Math.round(n?z*(1-B):q*B);r._lenFrac=I,r._thickFrac=F,r._uFrac=G,r._vFrac=B;var te=r._axis=B5e(t,r,h);te.position=F+(n?A+m/b.w:w+x/b.h);var J=["top","bottom"].indexOf(g)!==-1;if(n&&J&&(te.title.side=g,te.titlex=A+m/b.w,te.titley=B+(T.side==="top"?I-x/b.h:x/b.h)),!n&&!J&&(te.title.side=g,te.titley=w+x/b.h,te.titlex=B+m/b.w),d.color&&r.tickmode==="auto"){te.tickmode="linear",te.tick0=C.start;var ae=C.size,ee=bs.constrain(L/50,4,15)+1,H=(h[1]-h[0])/((r.nticks||ee)*ae);if(H>1){var re=Math.pow(10,Math.floor(Math.log(H)/Math.LN10));ae*=re*bs.roundUp(H/re,[2,5,10]),(Math.abs(C.start)/C.size+1e-6)%1<2e-6&&(te.tick0=0)}te.dtick=ae}te.domain=n?[B+x/b.h,B+I-x/b.h]:[B+m/b.w,B+I-m/b.w],te.setScale(),e.attr("transform",Js(Math.round(b.l),Math.round(b.t)));var V=e.select("."+sa.cbtitleunshift).attr("transform",Js(-Math.round(b.l),-Math.round(b.t))),ne=te.ticklabelposition,le=te.title.font.size,de=e.select("."+sa.cbaxis),_e,me=0,ve=0;function be(Ve,pe){var xe={propContainer:te,propName:r._propPrefix+"title",traceIndex:r._traceIndex,_meta:r._meta,placeholder:M._dfltTitle.colorbar,containerGroup:e.select("."+sa.cbtitle)},Te=Ve.charAt(0)==="h"?Ve.substr(1):"h"+Ve;e.selectAll("."+Te+",."+Te+"-math-group").remove(),S5e.draw(t,Ve,fY(xe,pe||{}))}function we(){if(n&&J||!n&&!J){var Ve,pe;g==="top"&&(Ve=m+b.l+q*A,pe=x+b.t+z*(1-B-I)+3+le*.75),g==="bottom"&&(Ve=m+b.l+q*A,pe=x+b.t+z*(1-B)-3-le*.25),g==="right"&&(pe=x+b.t+z*w+3+le*.75,Ve=m+b.l+q*B),be(te._id+"title",{attributes:{x:Ve,y:pe,"text-anchor":n?"start":"middle"}})}}function Se(){if(n&&!J||!n&&J){var Ve=te.position||0,pe=te._offset+te._length/2,xe,Te;if(g==="right")Te=pe,xe=b.l+q*Ve+10+le*(te.showticklabels?1:.5);else if(xe=pe,g==="bottom"&&(Te=b.t+z*Ve+10+(ne.indexOf("inside")===-1?te.tickfont.size:0)+(te.ticks!=="intside"&&r.ticklen||0)),g==="top"){var qe=T.text.split("<br>").length;Te=b.t+z*Ve+10-O-oY*le*qe}be((n?"h":"v")+te._id+"title",{avoid:{selection:Gu.select(t).selectAll("g."+te._id+"tick"),side:g,offsetTop:n?0:b.t,offsetLeft:n?b.l:0,maxShift:n?M.width:M.height},attributes:{x:xe,y:Te,"text-anchor":"middle"},transform:{rotate:n?-90:0,offset:0}})}}function Ae(){if(!n&&!J||n&&J){var Ve=e.select("."+sa.cbtitle),pe=Ve.select("text"),xe=[-f/2,f/2],Te=Ve.select(".h"+te._id+"title-math-group").node(),qe=15.6;pe.node()&&(qe=parseInt(pe.node().style.fontSize,10)*oY);var er;if(Te?(er=js.bBox(Te),ve=er.width,me=er.height,me>qe&&(xe[1]-=(me-qe)/2)):pe.node()&&!pe.classed(sa.jsPlaceholder)&&(er=js.bBox(pe.node()),ve=er.width,me=er.height),n){if(me){if(me+=5,g==="top")te.domain[1]-=me/b.h,xe[1]*=-1;else{te.domain[0]+=me/b.h;var ze=C5e.lineCount(pe);xe[1]+=(1-ze)*qe}Ve.attr("transform",Js(xe[0],xe[1])),te.setScale()}}else ve&&(g==="right"&&(te.domain[0]+=(ve+le/2)/b.w),Ve.attr("transform",Js(xe[0],xe[1])),te.setScale())}e.selectAll("."+sa.cbfills+",."+sa.cblines).attr("transform",n?Js(0,Math.round(b.h*(1-te.domain[1]))):Js(Math.round(b.w*te.domain[0]),0)),de.attr("transform",n?Js(0,Math.round(-b.t)):Js(Math.round(-b.l),0));var Ce=e.select("."+sa.cbfills).selectAll("rect."+sa.cbfill).attr("style","").data(D);Ce.enter().append("rect").classed(sa.cbfill,!0).attr("style",""),Ce.exit().remove();var Le=h.map(te.c2p).map(Math.round).sort(function(Tr,pr){return Tr-pr});Ce.each(function(Tr,pr){var nr=[pr===0?h[0]:(D[pr]+D[pr-1])/2,pr===D.length-1?h[1]:(D[pr]+D[pr+1])/2].map(te.c2p).map(Math.round);n&&(nr[1]=bs.constrain(nr[1]+(nr[1]>nr[0])?1:-1,Le[0],Le[1]));var Me=Gu.select(this).attr(n?"x":"y",W).attr(n?"y":"x",Gu.min(nr)).attr(n?"width":"height",Math.max(O,2)).attr(n?"height":"width",Math.max(Gu.max(nr)-Gu.min(nr),2));if(r._fillgradient)js.gradient(Me,t,r._id,n?"vertical":"horizontalreversed",r._fillgradient,"fill");else{var Fe=p(Tr).replace("e-","");Me.attr("fill",M8(Fe).toHexString())}});var Ne=e.select("."+sa.cblines).selectAll("path."+sa.cbline).data(d.color&&d.width?P:[]);Ne.enter().append("path").classed(sa.cbline,!0),Ne.exit().remove(),Ne.each(function(Tr){var pr=W,nr=Math.round(te.c2p(Tr))+d.width/2%1;Gu.select(this).attr("d","M"+(n?pr+","+nr:nr+","+pr)+(n?"h":"v")+O).call(js.lineGroupStyle,d.width,S(Tr),d.dash)}),de.selectAll("g."+te._id+"tick,path").remove();var tr=W+O+(f||0)/2-(r.ticks==="outside"?1:0),ir=Tf.calcTicks(te),mr=Tf.getTickSigns(te)[2];return Tf.drawTicks(t,te,{vals:te.ticks==="inside"?Tf.clipEnds(te,ir):ir,layer:de,path:Tf.makeTickPath(te,tr,mr),transFn:Tf.makeTransTickFn(te)}),Tf.drawLabels(t,te,{vals:ir,layer:de,transFn:Tf.makeTransTickLabelFn(te),labelFns:Tf.makeLabelFns(te,tr)})}function Ie(){var Ve,pe=O+f/2;ne.indexOf("inside")===-1&&(Ve=js.bBox(de.node()),pe+=n?Ve.width:Ve.height),_e=V.select("text");var xe=0,Te=n&&g==="top",qe=!n&&g==="right",er=0;if(_e.node()&&!_e.classed(sa.jsPlaceholder)){var ze,Ce=V.select(".h"+te._id+"title-math-group").node();Ce&&(n&&J||!n&&!J)?(Ve=js.bBox(Ce),xe=Ve.width,ze=Ve.height):(Ve=js.bBox(V.node()),xe=Ve.right-b.l-(n?W:X),ze=Ve.bottom-b.t-(n?X:W),!n&&g==="top"&&(pe+=Ve.height,er=Ve.height)),qe&&(_e.attr("transform",Js(xe/2+le/2,0)),xe*=2),pe=Math.max(pe,n?xe:ze)}var Le=(n?m:x)*2+pe+l+f/2,Ne=0;!n&&T.text&&v==="bottom"&&w<=0&&(Ne=Le/2,Le+=Ne,er+=Ne),M._hColorbarMoveTitle=Ne,M._hColorbarMoveCBTitle=er;var tr=l+f,ir=(n?W:X)-tr/2-(n?m:0),mr=(n?X:W)-(n?L:x+er-Ne);e.select("."+sa.cbbg).attr("x",ir).attr("y",mr).attr(n?"width":"height",Math.max(Le-Ne,2)).attr(n?"height":"width",Math.max(L+tr,2)).call(S8.fill,u).call(S8.stroke,r.bordercolor).style("stroke-width",l);var Tr=qe?Math.max(xe-10,0):0;e.selectAll("."+sa.cboutline).attr("x",(n?W:X+m)+Tr).attr("y",(n?X+x-L:W)+(Te?me:0)).attr(n?"width":"height",Math.max(O,2)).attr(n?"height":"width",Math.max(L-(n?2*x+me:2*m+Tr),2)).call(S8.stroke,r.outlinecolor).style({fill:"none","stroke-width":f});var pr=n?$*Le:0,nr=n?0:(1-j)*Le-er;if(pr=_?b.l-pr:-pr,nr=y?b.t-nr:-nr,e.attr("transform",Js(pr,nr)),!n&&(l||M8(u).getAlpha()&&!M8.equals(M.paper_bgcolor,u))){var Me=de.selectAll("text"),Fe=Me[0].length,ur=e.select("."+sa.cbbg).node(),je=js.bBox(ur),Er=js.getTranslate(e),ue=2;Me.each(function(wt,bt){var Ln=0,tn=Fe-1;if(bt===Ln||bt===tn){var it=js.bBox(this),Mn=js.getTranslate(this),Lt;if(bt===tn){var $t=it.right+Mn.x,Un=je.right+Er.x+X-l-ue+A;Lt=Un-$t,Lt>0&&(Lt=0)}else if(bt===Ln){var Gt=it.left+Mn.x,Yt=je.left+Er.x+X+l+ue;Lt=Yt-Gt,Lt<0&&(Lt=0)}Lt&&(Fe<3?this.setAttribute("transform","translate("+Lt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Q={},oe=sY[c],Ee=lY[c],Xe=sY[v],ar=lY[v],yr=Le-O;n?(o==="pixels"?(Q.y=w,Q.t=L*Xe,Q.b=L*ar):(Q.t=Q.b=0,Q.yt=w+a*Xe,Q.yb=w-a*ar),s==="pixels"?(Q.x=A,Q.l=Le*oe,Q.r=Le*Ee):(Q.l=yr*oe,Q.r=yr*Ee,Q.xl=A-i*oe,Q.xr=A+i*Ee)):(o==="pixels"?(Q.x=A,Q.l=L*oe,Q.r=L*Ee):(Q.l=Q.r=0,Q.xl=A+a*oe,Q.xr=A-a*Ee),s==="pixels"?(Q.y=1-w,Q.t=Le*Xe,Q.b=Le*ar):(Q.t=yr*Xe,Q.b=yr*ar,Q.yt=w-i*Xe,Q.yb=w+i*ar));var Kr=r.y<.5?"b":"t",mt=r.x<.5?"l":"r";t._fullLayout._reservedMargin[r._id]={};var Ft={r:M.width-ir-pr,l:ir+Q.r,b:M.height-mr-nr,t:mr+Q.b};_&&y?ob.autoMargin(t,r._id,Q):_?t._fullLayout._reservedMargin[r._id][Kr]=Ft[Kr]:y||n?t._fullLayout._reservedMargin[r._id][mt]=Ft[mt]:t._fullLayout._reservedMargin[r._id][Kr]=Ft[Kr]}return bs.syncOrAsync([ob.previousPromises,we,Ae,Se,ob.previousPromises,Ie],t)}function O5e(e,r,t){var n=r.orientation==="v",a=t._fullLayout,o=a._size,i,s,f;ib.init({element:e.node(),gd:t,prepFn:function(){i=e.attr("transform"),E8(e)},moveFn:function(l,u){e.attr("transform",i+Js(l,u)),s=ib.align((n?r._uFrac:r._vFrac)+l/o.w,n?r._thickFrac:r._lenFrac,0,1,r.xanchor),f=ib.align((n?r._vFrac:1-r._uFrac)-u/o.h,n?r._lenFrac:r._thickFrac,0,1,r.yanchor);var c=ib.getCursor(s,f,r.xanchor,r.yanchor);E8(e,c)},doneFn:function(){if(E8(e),s!==void 0&&f!==void 0){var l={};l[r._propPrefix+"x"]=s,l[r._propPrefix+"y"]=f,r._traceIndex!==void 0?iY.call("_guiRestyle",t,l,r._traceIndex):iY.call("_guiRelayout",t,l)}}})}function N5e(e,r,t){var n=r._levels,a=[],o=[],i,s,f=n.end+n.size/100,l=n.size,u=1.001*t[0]-.001*t[1],c=1.001*t[1]-.001*t[0];for(s=0;s<1e5&&(i=n.start+s*l,!(l>0?i>=f:i<=f));s++)i>u&&i<c&&a.push(i);if(r._fillgradient)o=[0];else if(typeof r._fillcolor=="function"){var v=r._filllevels;if(v)for(f=v.end+v.size/100,l=v.size,s=0;s<1e5&&(i=v.start+s*l,!(l>0?i>=f:i<=f));s++)i>t[0]&&i<t[1]&&o.push(i);else o=a.map(function(m){return m-n.size/2}),o.push(o[o.length-1]+n.size)}else r._fillcolor&&typeof r._fillcolor=="string"&&(o=[0]);return n.size<0&&(a.reverse(),o.reverse()),{line:a,fill:o}}function B5e(e,r,t){var n=e._fullLayout,a=r.orientation==="v",o={type:"linear",range:t,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,labelalias:r.labelalias,ticklabelposition:r.ticklabelposition,ticklabeloverflow:r.ticklabeloverflow,ticklabelstep:r.ticklabelstep,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,minexponent:r.minexponent,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,showline:!0,anchor:"free",side:a?"right":"bottom",position:1},i=a?"y":"x",s={type:"linear",_id:i+r._id},f={letter:i,font:n.font,noAutotickangles:i==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:n.calendar};function l(u,c){return bs.coerce(o,s,D5e,u,c)}return L5e(o,s,l,f,n),R5e(o,s,l,f),s}uY.exports={draw:F5e}});var vY=ie((INe,hY)=>{"use strict";hY.exports={moduleType:"component",name:"colorbar",attributes:_m(),supplyDefaults:k4(),draw:cY().draw,hasColorbar:m4()}});var pY=ie((PNe,dY)=>{"use strict";dY.exports={moduleType:"component",name:"legend",layoutAttributes:M6(),supplyLayoutDefaults:C6(),draw:z6(),style:O6()}});var yY=ie((ONe,gY)=>{"use strict";gY.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var xY=ie((NNe,mY)=>{"use strict";mY.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var L8=ie((BNe,AY)=>{"use strict";var q5e=Dt(),wY=wr(),k8=wY.extendFlat,bY=wY.extendDeep;function _Y(e){var r;switch(e){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function z5e(e){var r=["xaxis","yaxis","zaxis"];return r.indexOf(e.slice(0,5))>-1}AY.exports=function(r,t){var n,a=r.data,o=r.layout,i=bY([],a),s=bY({},o,_Y(t.tileClass)),f=r._context||{};if(t.width&&(s.width=t.width),t.height&&(s.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){s.annotations=[];var l=Object.keys(s);for(n=0;n<l.length;n++)z5e(l[n])&&(s[l[n]].title={text:""});for(n=0;n<i.length;n++){var u=i[n];u.showscale=!1,u.marker&&(u.marker.showscale=!1),q5e.traceIs(u,"pie-like")&&(u.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)s.annotations.push(t.annotations[n]);var c=Object.keys(s).filter(function(w){return w.match(/^scene\d*$/)});if(c.length){var v={};for(t.tileClass==="thumbnail"&&(v={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<c.length;n++){var m=s[c[n]];m.xaxis||(m.xaxis={}),m.yaxis||(m.yaxis={}),m.zaxis||(m.zaxis={}),k8(m.xaxis,v),k8(m.yaxis,v),k8(m.zaxis,v),m._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var A={gd:x,td:x,layout:s,data:i,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return t.setBackground!=="transparent"&&(A.config.setBackground=t.setBackground||"opaque"),A.gd.defaultLayout=_Y(t.tileClass),A}});var EY=ie((qNe,MY)=>{"use strict";var U5e=um().EventEmitter,G5e=Dt(),H5e=wr(),TY=p0(),V5e=L8(),Y5e=dx(),W5e=px();function X5e(e,r){var t=new U5e,n=V5e(e,{format:"png"}),a=n.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);function o(){var s=TY.getDelay(a._fullLayout);setTimeout(function(){var f=Y5e(a),l=document.createElement("canvas");l.id=H5e.randstr(),t=W5e({format:r.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:l,emitter:t,svg:f}),t.clean=function(){a&&document.body.removeChild(a)}},s)}var i=TY.getRedrawFunc(a);return G5e.call("_doPlot",a,n.data,n.layout,n.config).then(i).then(o).catch(function(s){t.emit("error",s)}),t}MY.exports=X5e});var kY=ie((zNe,CY)=>{"use strict";var SY=p0(),Z5e={getDelay:SY.getDelay,getRedrawFunc:SY.getRedrawFunc,clone:L8(),toSVG:dx(),svgToImg:px(),toImage:EY(),downloadImage:iT()};CY.exports=Z5e});var RY=ie(Mf=>{"use strict";Mf.version=_2().version;CS();mL();var j5e=Dt(),pg=Mf.register=j5e.register,D8=qq(),LY=Object.keys(D8);for(sb=0;sb<LY.length;sb++)Hv=LY[sb],Hv.charAt(0)!=="_"&&(Mf[Hv]=D8[Hv]),pg({moduleType:"apiMethod",name:Hv,fn:D8[Hv]});var Hv,sb;pg(WU());pg([yG(),RG(),bv(),jG(),lH(),LH(),JH(),pV(),FV(),b8(),tY(),$h(),vY(),pY(),pf(),hA()]);pg([yY(),xY()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(pg(window.PlotlyLocales),delete window.PlotlyLocales);Mf.Icons=y3();var lb=pf(),R8=Za();Mf.Plots={resize:R8.resize,graphJson:R8.graphJson,sendDataToCloud:R8.sendDataToCloud};Mf.Fx={hover:lb.hover,unhover:lb.unhover,loneHover:lb.loneHover,loneUnhover:lb.loneUnhover};Mf.Snapshot=kY();Mf.PlotSchema=pu()});var FY=ie((GNe,DY)=>{"use strict";DY.exports=RY()});var F8=ie((HNe,PY)=>{"use strict";var J5e=Dt(),Xo=wr(),$5e=Cx();function K5e(e,r,t,n){var a=e.cd,o=a[0].t,i=a[0].trace,s=e.xa,f=e.ya,l=o.x,u=o.y,c=s.c2p(r),v=f.c2p(t),m=e.distance,x;if(o.tree){var A=s.p2c(c-m),w=s.p2c(c+m),y=f.p2c(v-m),_=f.p2c(v+m);n==="x"?x=o.tree.range(Math.min(A,w),Math.min(f._rl[0],f._rl[1]),Math.max(A,w),Math.max(f._rl[0],f._rl[1])):x=o.tree.range(Math.min(A,w),Math.min(y,_),Math.max(A,w),Math.max(y,_))}else x=o.ids;var M,b,E,d,T,g,h,S,p,C=m;if(n==="x"){var k=!!i.xperiodalignment,D=!!i.yperiodalignment;for(T=0;T<x.length;T++){if(M=x[T],E=l[M],g=Math.abs(s.c2p(E)-c),k){var P=s.c2p(i._xStarts[M]),O=s.c2p(i._xEnds[M]);g=c>=Math.min(P,O)&&c<=Math.max(P,O)?0:1/0}if(g<C){if(C=g,d=u[M],h=f.c2p(d)-v,D){var F=f.c2p(i._yStarts[M]),L=f.c2p(i._yEnds[M]);h=v>=Math.min(F,L)&&v<=Math.max(F,L)?0:1/0}p=Math.sqrt(g*g+h*h),b=x[T]}}}else for(T=x.length-1;T>-1;T--)M=x[T],E=l[M],d=u[M],g=s.c2p(E)-c,h=f.c2p(d)-v,S=Math.sqrt(g*g+h*h),S<C&&(C=p=S,b=M);return e.index=b,e.distance=C,e.dxy=p,b===void 0?[e]:[IY(e,l,u,i)]}function IY(e,r,t,n){var a=e.xa,o=e.ya,i=e.distance,s=e.dxy,f=e.index,l={pointNumber:f,x:r[f],y:t[f]};l.tx=Xo.isArrayOrTypedArray(n.text)?n.text[f]:n.text,l.htx=Array.isArray(n.hovertext)?n.hovertext[f]:n.hovertext,l.data=Array.isArray(n.customdata)?n.customdata[f]:n.customdata,l.tp=Array.isArray(n.textposition)?n.textposition[f]:n.textposition;var u=n.textfont;u&&(l.ts=Xo.isArrayOrTypedArray(u.size)?u.size[f]:u.size,l.tc=Xo.isArrayOrTypedArray(u.color)?u.color[f]:u.color,l.tf=Array.isArray(u.family)?u.family[f]:u.family,l.tw=Array.isArray(u.weight)?u.weight[f]:u.weight,l.ty=Array.isArray(u.style)?u.style[f]:u.style,l.tv=Array.isArray(u.variant)?u.variant[f]:u.variant);var c=n.marker;c&&(l.ms=Xo.isArrayOrTypedArray(c.size)?c.size[f]:c.size,l.mo=Xo.isArrayOrTypedArray(c.opacity)?c.opacity[f]:c.opacity,l.mx=Xo.isArrayOrTypedArray(c.symbol)?c.symbol[f]:c.symbol,l.ma=Xo.isArrayOrTypedArray(c.angle)?c.angle[f]:c.angle,l.mc=Xo.isArrayOrTypedArray(c.color)?c.color[f]:c.color);var v=c&&c.line;v&&(l.mlc=Array.isArray(v.color)?v.color[f]:v.color,l.mlw=Xo.isArrayOrTypedArray(v.width)?v.width[f]:v.width);var m=c&&c.gradient;m&&m.type!=="none"&&(l.mgt=Array.isArray(m.type)?m.type[f]:m.type,l.mgc=Array.isArray(m.color)?m.color[f]:m.color);var x=a.c2p(l.x,!0),A=o.c2p(l.y,!0),w=l.mrc||1,y=n.hoverlabel;y&&(l.hbg=Array.isArray(y.bgcolor)?y.bgcolor[f]:y.bgcolor,l.hbc=Array.isArray(y.bordercolor)?y.bordercolor[f]:y.bordercolor,l.hts=Xo.isArrayOrTypedArray(y.font.size)?y.font.size[f]:y.font.size,l.htc=Array.isArray(y.font.color)?y.font.color[f]:y.font.color,l.htf=Array.isArray(y.font.family)?y.font.family[f]:y.font.family,l.hnl=Xo.isArrayOrTypedArray(y.namelength)?y.namelength[f]:y.namelength);var _=n.hoverinfo;_&&(l.hi=Array.isArray(_)?_[f]:_);var M=n.hovertemplate;M&&(l.ht=Array.isArray(M)?M[f]:M);var b={};b[e.index]=l;var E=n._origX,d=n._origY,T=Xo.extendFlat({},e,{color:$5e(n,l),x0:x-w,x1:x+w,xLabelVal:E?E[f]:l.x,y0:A-w,y1:A+w,yLabelVal:d?d[f]:l.y,cd:b,distance:i,spikeDistance:s,hovertemplate:l.ht});return l.htx?T.text=l.htx:l.tx?T.text=l.tx:n.text&&(T.text=n.text),Xo.fillText(l,n,T),J5e.getComponentMethod("errorbars","hoverInfo")(l,n,T),T}PY.exports={hoverPoints:K5e,calcHover:IY}});var Vv=ie((VNe,NY)=>{"use strict";var OY=20;NY.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:OY,SYMBOL_STROKE:OY/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}});var fb=ie((YNe,UY)=>{"use strict";var Q5e=rs(),e_e=ci(),r_e=OA(),ma=kl(),BY=Zh().axisHoverFormat,qY=cf(),t_e=em(),I8=ga().extendFlat,n_e=No().overrideAll,a_e=Vv().DASHES,zY=ma.line,Ef=ma.marker,i_e=Ef.line,Yv=UY.exports=n_e({x:ma.x,x0:ma.x0,dx:ma.dx,y:ma.y,y0:ma.y0,dy:ma.dy,xperiod:ma.xperiod,yperiod:ma.yperiod,xperiod0:ma.xperiod0,yperiod0:ma.yperiod0,xperiodalignment:ma.xperiodalignment,yperiodalignment:ma.yperiodalignment,xhoverformat:BY("x"),yhoverformat:BY("y"),text:ma.text,hovertext:ma.hovertext,textposition:ma.textposition,textfont:e_e({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:zY.color,width:zY.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:t_e(a_e),dflt:"solid"}},marker:I8({},qY("marker"),{symbol:Ef.symbol,angle:Ef.angle,size:Ef.size,sizeref:Ef.sizeref,sizemin:Ef.sizemin,sizemode:Ef.sizemode,opacity:Ef.opacity,colorbar:Ef.colorbar,line:I8({},qY("marker.line"),{width:i_e.width})}),connectgaps:ma.connectgaps,fill:I8({},ma.fill,{dflt:"none"}),fillcolor:r_e(),selected:{marker:ma.selected.marker,textfont:ma.selected.textfont},unselected:{marker:ma.unselected.marker,textfont:ma.unselected.textfont},opacity:Q5e.opacity},"calc","nested");Yv.x.editType=Yv.y.editType=Yv.x0.editType=Yv.y0.editType="calc+clearAxisTypes";Yv.hovertemplate=ma.hovertemplate;Yv.texttemplate=ma.texttemplate});var ub=ie(P8=>{"use strict";var GY=Vv();P8.isOpenSymbol=function(e){return typeof e=="string"?GY.OPEN_RE.test(e):e%200>100};P8.isDotSymbol=function(e){return typeof e=="string"?GY.DOT_RE.test(e):e>200}});var YY=ie((XNe,VY)=>{"use strict";var HY=wr(),o_e=Dt(),s_e=ub(),l_e=fb(),f_e=Pp(),cb=hi(),u_e=lT(),c_e=fT(),h_e=mx(),v_e=uT(),d_e=hT(),p_e=cT();VY.exports=function(r,t,n,a){function o(m,x){return HY.coerce(r,t,l_e,m,x)}var i=r.marker?s_e.isOpenSymbol(r.marker.symbol):!1,s=cb.isBubble(r),f=u_e(r,t,a,o);if(!f){t.visible=!1;return}c_e(r,t,a,o),o("xhoverformat"),o("yhoverformat");var l=f<f_e.PTS_LINESONLY?"lines+markers":"lines";o("text"),o("hovertext"),o("hovertemplate"),o("mode",l),cb.hasMarkers(t)&&(h_e(r,t,n,a,o,{noAngleRef:!0,noStandOff:!0}),o("marker.line.width",i||s?1:0)),cb.hasLines(t)&&(o("connectgaps"),v_e(r,t,n,a,o),o("line.shape")),cb.hasText(t)&&(o("texttemplate"),p_e(r,t,a,o,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var u=(t.line||{}).color,c=(t.marker||{}).color;o("fill"),t.fill!=="none"&&d_e(r,t,n,o);var v=o_e.getComponentMethod("errorbars","supplyDefaults");v(r,t,u||c||n,{axis:"y"}),v(r,t,u||c||n,{axis:"x",inherit:"y"}),HY.coerceSelectionMarkerOpacity(t,o)}});var XY=ie((ZNe,WY)=>{"use strict";var g_e=ET();WY.exports=function(r,t,n){var a=r.i;return"x"in r||(r.x=t._x[a]),"y"in r||(r.y=t._y[a]),g_e(r,t,n)}});var jY=ie((jNe,ZY)=>{"use strict";function y_e(e,r,t,n,a){for(var o=a+1;n<=a;){var i=n+a>>>1,s=e[i],f=t!==void 0?t(s,r):s-r;f>=0?(o=i,a=i-1):n=i+1}return o}function m_e(e,r,t,n,a){for(var o=a+1;n<=a;){var i=n+a>>>1,s=e[i],f=t!==void 0?t(s,r):s-r;f>0?(o=i,a=i-1):n=i+1}return o}function x_e(e,r,t,n,a){for(var o=n-1;n<=a;){var i=n+a>>>1,s=e[i],f=t!==void 0?t(s,r):s-r;f<0?(o=i,n=i+1):a=i-1}return o}function b_e(e,r,t,n,a){for(var o=n-1;n<=a;){var i=n+a>>>1,s=e[i],f=t!==void 0?t(s,r):s-r;f<=0?(o=i,n=i+1):a=i-1}return o}function __e(e,r,t,n,a){for(;n<=a;){var o=n+a>>>1,i=e[o],s=t!==void 0?t(i,r):i-r;if(s===0)return o;s<=0?n=o+1:a=o-1}return-1}function gg(e,r,t,n,a,o){return typeof t=="function"?o(e,r,t,n===void 0?0:n|0,a===void 0?e.length-1:a|0):o(e,r,void 0,t===void 0?0:t|0,n===void 0?e.length-1:n|0)}ZY.exports={ge:function(e,r,t,n,a){return gg(e,r,t,n,a,y_e)},gt:function(e,r,t,n,a){return gg(e,r,t,n,a,m_e)},lt:function(e,r,t,n,a){return gg(e,r,t,n,a,x_e)},le:function(e,r,t,n,a){return gg(e,r,t,n,a,b_e)},eq:function(e,r,t,n,a){return gg(e,r,t,n,a,__e)}}});var Wv=ie((JNe,JY)=>{JY.exports=w_e;function w_e(e,r,t){return r<t?e<r?r:e>t?t:e:e<t?t:e>r?r:e}});var Dl=ie(($Ne,KY)=>{"use strict";KY.exports=function(r,t,n){var a={},o,i;if(typeof t=="string"&&(t=$Y(t)),Array.isArray(t)){var s={};for(i=0;i<t.length;i++)s[t[i]]=!0;t=s}for(o in t)t[o]=$Y(t[o]);var f={};for(o in t){var l=t[o];if(Array.isArray(l))for(i=0;i<l.length;i++){var u=l[i];if(n&&(f[u]=!0),u in r){if(a[o]=r[u],n)for(var c=i;c<l.length;c++)f[l[c]]=!0;break}}else o in r&&(t[o]&&(a[o]=r[o]),n&&(f[o]=!0))}if(n)for(o in r)f[o]||(a[o]=r[o]);return a};var O8={};function $Y(e){return O8[e]?O8[e]:(typeof e=="string"&&(e=O8[e]=e.split(/\s*,\s*|\s+/)),e)}});var Xv=ie((KNe,QY)=>{"use strict";var A_e=Dl();QY.exports=T_e;function T_e(e){var r;return arguments.length>1&&(e=arguments),typeof e=="string"?e=e.split(/\s/).map(parseFloat):typeof e=="number"&&(e=[e]),e.length&&typeof e[0]=="number"?e.length===1?r={width:e[0],height:e[0],x:0,y:0}:e.length===2?r={width:e[0],height:e[1],x:0,y:0}:r={x:e[0],y:e[1],width:e[2]-e[0]||0,height:e[3]-e[1]||0}:e&&(e=A_e(e,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),r={x:e.left||0,y:e.top||0},e.width==null?e.right?r.width=e.right-r.x:r.width=0:r.width=e.width,e.height==null?e.bottom?r.height=e.bottom-r.y:r.height=0:r.height=e.height),r}});var M0=ie((QNe,eW)=>{"use strict";eW.exports=M_e;function M_e(e,r){if(!e||e.length==null)throw Error("Argument should be an array");r==null?r=1:r=Math.floor(r);for(var t=Array(r*2),n=0;n<r;n++){for(var a=-1/0,o=1/0,i=n,s=e.length;i<s;i+=r)e[i]>a&&(a=e[i]),e[i]<o&&(o=e[i]);t[n]=o,t[r+n]=a}return t}});var tW=ie((eBe,rW)=>{rW.exports=function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==void 0)return arguments[e]}});var hb=ie((rBe,nW)=>{nW.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}});var E0=ie((tBe,iW)=>{var aW=hb();iW.exports=E_e;function E_e(e,r,t){if(!e)throw new TypeError("must specify data as first parameter");if(t=+(t||0)|0,Array.isArray(e)&&e[0]&&typeof e[0][0]=="number"){var n=e[0].length,a=e.length*n,o,i,s,f;(!r||typeof r=="string")&&(r=new(aW(r||"float32"))(a+t));var l=r.length-t;if(a!==l)throw new Error("source length "+a+" ("+n+"x"+e.length+") does not match destination length "+l);for(o=0,s=t;o<e.length;o++)for(i=0;i<n;i++)r[s++]=e[o][i]===null?NaN:e[o][i]}else if(!r||typeof r=="string"){var u=aW(r||"float32");if(Array.isArray(e)||r==="array")for(r=new u(e.length+t),o=0,s=t,f=r.length;s<f;s++,o++)r[s]=e[o]===null?NaN:e[o];else t===0?r=new u(e):(r=new u(e.length+t),r.set(e,t))}else r.set(e,t);return r}});var sW=ie((nBe,oW)=>{"use strict";oW.exports=function(e){var r=typeof e;return e!==null&&(r==="object"||r==="function")}});var fW=ie((aBe,lW)=>{"use strict";lW.exports=Math.log2||function(e){return Math.log(e)*Math.LOG2E}});var gW=ie((iBe,pW)=>{"use strict";var uW=jY(),cW=Wv(),S_e=Xv(),C_e=M0(),hW=Dl(),N8=tW(),k_e=E0(),L_e=sW(),R_e=hb(),vW=fW(),D_e=1073741824;pW.exports=function(r,t){t||(t={}),r=k_e(r,"float64"),t=hW(t,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});let n=N8(t.maxDepth,255),a=N8(t.bounds,C_e(r,2));a[0]===a[2]&&a[2]++,a[1]===a[3]&&a[3]++;let o=dW(r,a),i=r.length>>>1,s;t.dtype||(t.dtype="array"),typeof t.dtype=="string"?s=new(R_e(t.dtype))(i):t.dtype&&(s=t.dtype,Array.isArray(s)&&(s.length=i));for(let y=0;y<i;++y)s[y]=y;let f=[],l=[],u=[],c=[];m(0,0,1,s,0,1);let v=0;for(let y=0;y<f.length;y++){let _=f[y];if(s.set)s.set(_,v);else for(let b=0,E=_.length;b<E;b++)s[b+v]=_[b];let M=v+f[y].length;c[y]=[v,M],v=M}return s.range=x,s;function m(y,_,M,b,E,d){if(!b.length)return null;let T=f[E]||(f[E]=[]),g=u[E]||(u[E]=[]),h=l[E]||(l[E]=[]),S=T.length;if(E++,E>n||d>D_e){for(let L=0;L<b.length;L++)T.push(b[L]),g.push(d),h.push(null,null,null,null);return S}if(T.push(b[0]),g.push(d),b.length<=1)return h.push(null,null,null,null),S;let p=M*.5,C=y+p,k=_+p,D=[],P=[],O=[],F=[];for(let L=1,I=b.length;L<I;L++){let q=b[L],z=o[q*2],W=o[q*2+1];z<C?W<k?D.push(q):P.push(q):W<k?O.push(q):F.push(q)}return d<<=2,h.push(m(y,_,p,D,E,d),m(y,k,p,P,E,d+1),m(C,_,p,O,E,d+2),m(C,k,p,F,E,d+3)),S}function x(...y){let _;if(L_e(y[y.length-1])){let O=y.pop();!y.length&&(O.x!=null||O.l!=null||O.left!=null)&&(y=[O],_={}),_=hW(O,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else _={};y.length||(y=a);let M=S_e(...y),[b,E,d,T]=[Math.min(M.x,M.x+M.width),Math.min(M.y,M.y+M.height),Math.max(M.x,M.x+M.width),Math.max(M.y,M.y+M.height)],[g,h,S,p]=dW([b,E,d,T],a),C=N8(_.level,f.length);if(_.d!=null){let O;typeof _.d=="number"?O=[_.d,_.d]:_.d.length&&(O=_.d),C=Math.min(Math.max(Math.ceil(-vW(Math.abs(O[0])/(a[2]-a[0]))),Math.ceil(-vW(Math.abs(O[1])/(a[3]-a[1])))),C)}if(C=Math.min(C,f.length),_.lod)return A(g,h,S,p,C);let k=[];D(0,0,1,0,0,1);function D(O,F,L,I,q,z){if(q===null||z===null)return;let W=O+L,$=F+L;if(g>W||h>$||S<O||p<F||I>=C||q===z)return;let j=f[I];z===void 0&&(z=j.length);for(let re=q;re<z;re++){let V=j[re],ne=r[V*2],le=r[V*2+1];ne>=b&&ne<=d&&le>=E&&le<=T&&k.push(V)}let G=l[I],B=G[q*4+0],X=G[q*4+1],te=G[q*4+2],J=G[q*4+3],ae=P(G,q+1),ee=L*.5,H=I+1;D(O,F,ee,H,B,X||te||J||ae),D(O,F+ee,ee,H,X,te||J||ae),D(O+ee,F,ee,H,te,J||ae),D(O+ee,F+ee,ee,H,J,ae)}function P(O,F){let L=null,I=0;for(;L===null;)if(L=O[F*4+I],I++,I>O.length)return null;return L}return k}function A(y,_,M,b,E){let d=[];for(let T=0;T<E;T++){let g=u[T],h=c[T][0],S=w(y,_,T),p=w(M,b,T),C=uW.ge(g,S),k=uW.gt(g,p,C,g.length-1);d[T]=[C+h,k+h]}return d}function w(y,_,M){let b=1,E=.5,d=.5,T=.5;for(let g=0;g<M;g++)b<<=2,b+=y<E?_<d?0:1:_<d?2:3,T*=.5,E+=y<E?-T:T,d+=_<d?-T:T;return b}};function dW(e,r){let[t,n,a,o]=r,i=1/(a-t),s=1/(o-n),f=new Array(e.length);for(let l=0,u=e.length/2;l<u;l++)f[2*l]=cW((e[2*l]-t)*i,0,1),f[2*l+1]=cW((e[2*l+1]-n)*s,0,1);return f}});var B8=ie((oBe,yW)=>{"use strict";yW.exports=gW()});var q8=ie((sBe,mW)=>{mW.exports=F_e;function F_e(e){var r=0,t=0,n=0,a=0;return e.map(function(o){o=o.slice();var i=o[0],s=i.toUpperCase();if(i!=s)switch(o[0]=s,i){case"a":o[6]+=n,o[7]+=a;break;case"v":o[1]+=a;break;case"h":o[1]+=n;break;default:for(var f=1;f<o.length;)o[f++]+=n,o[f++]+=a}switch(s){case"Z":n=r,a=t;break;case"H":n=o[1];break;case"V":a=o[1];break;case"M":n=r=o[1],a=t=o[2];break;default:n=o[o.length-2],a=o[o.length-1]}return o})}});var _W=ie((vb,bW)=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});var I_e=function(){function e(r,t){var n=[],a=!0,o=!1,i=void 0;try{for(var s=r[Symbol.iterator](),f;!(a=(f=s.next()).done)&&(n.push(f.value),!(t&&n.length===t));a=!0);}catch(l){o=!0,i=l}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),yg=Math.PI*2,z8=function(r,t,n,a,o,i,s){var f=r.x,l=r.y;f*=t,l*=n;var u=a*f-o*l,c=o*f+a*l;return{x:u+i,y:c+s}},P_e=function(r,t){var n=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),a=Math.cos(r),o=Math.sin(r),i=Math.cos(r+t),s=Math.sin(r+t);return[{x:a-o*n,y:o+a*n},{x:i+s*n,y:s-i*n},{x:i,y:s}]},xW=function(r,t,n,a){var o=r*a-t*n<0?-1:1,i=r*n+t*a;return i>1&&(i=1),i<-1&&(i=-1),o*Math.acos(i)},O_e=function(r,t,n,a,o,i,s,f,l,u,c,v){var m=Math.pow(o,2),x=Math.pow(i,2),A=Math.pow(c,2),w=Math.pow(v,2),y=m*x-m*w-x*A;y<0&&(y=0),y/=m*w+x*A,y=Math.sqrt(y)*(s===f?-1:1);var _=y*o/i*v,M=y*-i/o*c,b=u*_-l*M+(r+n)/2,E=l*_+u*M+(t+a)/2,d=(c-_)/o,T=(v-M)/i,g=(-c-_)/o,h=(-v-M)/i,S=xW(1,0,d,T),p=xW(d,T,g,h);return f===0&&p>0&&(p-=yg),f===1&&p<0&&(p+=yg),[b,E,S,p]},N_e=function(r){var t=r.px,n=r.py,a=r.cx,o=r.cy,i=r.rx,s=r.ry,f=r.xAxisRotation,l=f===void 0?0:f,u=r.largeArcFlag,c=u===void 0?0:u,v=r.sweepFlag,m=v===void 0?0:v,x=[];if(i===0||s===0)return[];var A=Math.sin(l*yg/360),w=Math.cos(l*yg/360),y=w*(t-a)/2+A*(n-o)/2,_=-A*(t-a)/2+w*(n-o)/2;if(y===0&&_===0)return[];i=Math.abs(i),s=Math.abs(s);var M=Math.pow(y,2)/Math.pow(i,2)+Math.pow(_,2)/Math.pow(s,2);M>1&&(i*=Math.sqrt(M),s*=Math.sqrt(M));var b=O_e(t,n,a,o,i,s,c,m,A,w,y,_),E=I_e(b,4),d=E[0],T=E[1],g=E[2],h=E[3],S=Math.abs(h)/(yg/4);Math.abs(1-S)<1e-7&&(S=1);var p=Math.max(Math.ceil(S),1);h/=p;for(var C=0;C<p;C++)x.push(P_e(g,h)),g+=h;return x.map(function(k){var D=z8(k[0],i,s,w,A,d,T),P=D.x,O=D.y,F=z8(k[1],i,s,w,A,d,T),L=F.x,I=F.y,q=z8(k[2],i,s,w,A,d,T),z=q.x,W=q.y;return{x1:P,y1:O,x2:L,y2:I,x:z,y:W}})};vb.default=N_e;bW.exports=vb.default});var TW=ie((lBe,AW)=>{"use strict";AW.exports=q_e;var B_e=_W();function q_e(e){for(var r,t=[],n=0,a=0,o=0,i=0,s=null,f=null,l=0,u=0,c=0,v=e.length;c<v;c++){var m=e[c],x=m[0];switch(x){case"M":o=m[1],i=m[2];break;case"A":var A=B_e({px:l,py:u,cx:m[6],cy:m[7],rx:m[1],ry:m[2],xAxisRotation:m[3],largeArcFlag:m[4],sweepFlag:m[5]});if(!A.length)continue;for(var w=0,y;w<A.length;w++)y=A[w],m=["C",y.x1,y.y1,y.x2,y.y2,y.x,y.y],w<A.length-1&&t.push(m);break;case"S":var _=l,M=u;(r=="C"||r=="S")&&(_+=_-n,M+=M-a),m=["C",_,M,m[1],m[2],m[3],m[4]];break;case"T":r=="Q"||r=="T"?(s=l*2-s,f=u*2-f):(s=l,f=u),m=wW(l,u,s,f,m[1],m[2]);break;case"Q":s=m[1],f=m[2],m=wW(l,u,m[1],m[2],m[3],m[4]);break;case"L":m=db(l,u,m[1],m[2]);break;case"H":m=db(l,u,m[1],u);break;case"V":m=db(l,u,l,m[1]);break;case"Z":m=db(l,u,o,i);break}r=x,l=m[m.length-2],u=m[m.length-1],m.length>4?(n=m[m.length-4],a=m[m.length-3]):(n=l,a=u),t.push(m)}return t}function db(e,r,t,n){return["C",e,r,t,n,t,n]}function wW(e,r,t,n,a,o){return["C",e/3+2/3*t,r/3+2/3*n,a/3+2/3*t,o/3+2/3*n,a,o]}});var U8=ie((fBe,MW)=>{"use strict";MW.exports=function(r){return typeof r!="string"?!1:(r=r.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(r)&&/[\dz]$/i.test(r)&&r.length>4))}});var pb=ie((uBe,EW)=>{"use strict";EW.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;r[t]=a;for(t in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var o=Object.getOwnPropertySymbols(r);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(r,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(r,t);if(i.value!==a||i.enumerable!==!0)return!1}return!0}});var mg=ie((cBe,SW)=>{"use strict";var z_e=pb();SW.exports=function(){return z_e()&&!!Symbol.toStringTag}});var kW=ie((hBe,CW)=>{"use strict";CW.exports=Error});var RW=ie((vBe,LW)=>{"use strict";LW.exports=EvalError});var FW=ie((dBe,DW)=>{"use strict";DW.exports=RangeError});var PW=ie((pBe,IW)=>{"use strict";IW.exports=ReferenceError});var G8=ie((gBe,OW)=>{"use strict";OW.exports=SyntaxError});var xg=ie((yBe,NW)=>{"use strict";NW.exports=TypeError});var qW=ie((mBe,BW)=>{"use strict";BW.exports=URIError});var GW=ie((xBe,UW)=>{"use strict";var zW=typeof Symbol!="undefined"&&Symbol,U_e=pb();UW.exports=function(){return typeof zW!="function"||typeof Symbol!="function"||typeof zW("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:U_e()}});var YW=ie((bBe,VW)=>{"use strict";var HW={foo:{}},G_e=Object;VW.exports=function(){return{__proto__:HW}.foo===HW.foo&&!({__proto__:null}instanceof G_e)}});var ZW=ie((_Be,XW)=>{"use strict";var H_e="Function.prototype.bind called on incompatible ",V_e=Object.prototype.toString,Y_e=Math.max,W_e="[object Function]",WW=function(r,t){for(var n=[],a=0;a<r.length;a+=1)n[a]=r[a];for(var o=0;o<t.length;o+=1)n[o+r.length]=t[o];return n},X_e=function(r,t){for(var n=[],a=t||0,o=0;a<r.length;a+=1,o+=1)n[o]=r[a];return n},Z_e=function(e,r){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=r);return t};XW.exports=function(r){var t=this;if(typeof t!="function"||V_e.apply(t)!==W_e)throw new TypeError(H_e+t);for(var n=X_e(arguments,1),a,o=function(){if(this instanceof a){var u=t.apply(this,WW(n,arguments));return Object(u)===u?u:this}return t.apply(r,WW(n,arguments))},i=Y_e(0,t.length-n.length),s=[],f=0;f<i;f++)s[f]="$"+f;if(a=Function("binder","return function ("+Z_e(s,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var l=function(){};l.prototype=t.prototype,a.prototype=new l,l.prototype=null}return a}});var gb=ie((wBe,jW)=>{"use strict";var j_e=ZW();jW.exports=Function.prototype.bind||j_e});var $W=ie((ABe,JW)=>{"use strict";var J_e=Function.prototype.call,$_e=Object.prototype.hasOwnProperty,K_e=gb();JW.exports=K_e.call(J_e,$_e)});var Kv=ie((TBe,tX)=>{"use strict";var On,Q_e=kW(),ewe=RW(),rwe=FW(),twe=PW(),$v=G8(),Jv=xg(),nwe=qW(),rX=Function,H8=function(e){try{return rX('"use strict"; return ('+e+").constructor;")()}catch(r){}},S0=Object.getOwnPropertyDescriptor;if(S0)try{S0({},"")}catch(e){S0=null}var V8=function(){throw new Jv},awe=S0?function(){try{return arguments.callee,V8}catch(e){try{return S0(arguments,"callee").get}catch(r){return V8}}}():V8,Zv=GW()(),iwe=YW()(),bi=Object.getPrototypeOf||(iwe?function(e){return e.__proto__}:null),jv={},owe=typeof Uint8Array=="undefined"||!bi?On:bi(Uint8Array),C0={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?On:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?On:ArrayBuffer,"%ArrayIteratorPrototype%":Zv&&bi?bi([][Symbol.iterator]()):On,"%AsyncFromSyncIteratorPrototype%":On,"%AsyncFunction%":jv,"%AsyncGenerator%":jv,"%AsyncGeneratorFunction%":jv,"%AsyncIteratorPrototype%":jv,"%Atomics%":typeof Atomics=="undefined"?On:Atomics,"%BigInt%":typeof BigInt=="undefined"?On:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?On:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?On:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?On:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Q_e,"%eval%":eval,"%EvalError%":ewe,"%Float32Array%":typeof Float32Array=="undefined"?On:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?On:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?On:FinalizationRegistry,"%Function%":rX,"%GeneratorFunction%":jv,"%Int8Array%":typeof Int8Array=="undefined"?On:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?On:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?On:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zv&&bi?bi(bi([][Symbol.iterator]())):On,"%JSON%":typeof JSON=="object"?JSON:On,"%Map%":typeof Map=="undefined"?On:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Zv||!bi?On:bi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?On:Promise,"%Proxy%":typeof Proxy=="undefined"?On:Proxy,"%RangeError%":rwe,"%ReferenceError%":twe,"%Reflect%":typeof Reflect=="undefined"?On:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?On:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Zv||!bi?On:bi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?On:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zv&&bi?bi(""[Symbol.iterator]()):On,"%Symbol%":Zv?Symbol:On,"%SyntaxError%":$v,"%ThrowTypeError%":awe,"%TypedArray%":owe,"%TypeError%":Jv,"%Uint8Array%":typeof Uint8Array=="undefined"?On:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?On:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?On:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?On:Uint32Array,"%URIError%":nwe,"%WeakMap%":typeof WeakMap=="undefined"?On:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?On:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?On:WeakSet};if(bi)try{null.error}catch(e){KW=bi(bi(e)),C0["%Error.prototype%"]=KW}var KW,swe=function e(r){var t;if(r==="%AsyncFunction%")t=H8("async function () {}");else if(r==="%GeneratorFunction%")t=H8("function* () {}");else if(r==="%AsyncGeneratorFunction%")t=H8("async function* () {}");else if(r==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(r==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&bi&&(t=bi(a.prototype))}return C0[r]=t,t},QW={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bg=gb(),yb=$W(),lwe=bg.call(Function.call,Array.prototype.concat),fwe=bg.call(Function.apply,Array.prototype.splice),eX=bg.call(Function.call,String.prototype.replace),mb=bg.call(Function.call,String.prototype.slice),uwe=bg.call(Function.call,RegExp.prototype.exec),cwe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,hwe=/\\(\\)?/g,vwe=function(r){var t=mb(r,0,1),n=mb(r,-1);if(t==="%"&&n!=="%")throw new $v("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new $v("invalid intrinsic syntax, expected opening `%`");var a=[];return eX(r,cwe,function(o,i,s,f){a[a.length]=s?eX(f,hwe,"$1"):i||o}),a},dwe=function(r,t){var n=r,a;if(yb(QW,n)&&(a=QW[n],n="%"+a[0]+"%"),yb(C0,n)){var o=C0[n];if(o===jv&&(o=swe(n)),typeof o=="undefined"&&!t)throw new Jv("intrinsic "+r+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new $v("intrinsic "+r+" does not exist!")};tX.exports=function(r,t){if(typeof r!="string"||r.length===0)throw new Jv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Jv('"allowMissing" argument must be a boolean');if(uwe(/^%?[^%]*%?$/,r)===null)throw new $v("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=vwe(r),a=n.length>0?n[0]:"",o=dwe("%"+a+"%",t),i=o.name,s=o.value,f=!1,l=o.alias;l&&(a=l[0],fwe(n,lwe([0,1],l)));for(var u=1,c=!0;u<n.length;u+=1){var v=n[u],m=mb(v,0,1),x=mb(v,-1);if((m==='"'||m==="'"||m==="`"||x==='"'||x==="'"||x==="`")&&m!==x)throw new $v("property names with quotes must have matching quotes");if((v==="constructor"||!c)&&(f=!0),a+="."+v,i="%"+a+"%",yb(C0,i))s=C0[i];else if(s!=null){if(!(v in s)){if(!t)throw new Jv("base intrinsic for "+r+" exists, but the property is not available.");return}if(S0&&u+1>=n.length){var A=S0(s,v);c=!!A,c&&"get"in A&&!("originalValue"in A.get)?s=A.get:s=s[v]}else c=yb(s,v),s=s[v];c&&!f&&(C0[i]=s)}}return s}});var bb=ie((MBe,nX)=>{"use strict";var pwe=Kv(),xb=pwe("%Object.defineProperty%",!0)||!1;if(xb)try{xb({},"a",{value:1})}catch(e){xb=!1}nX.exports=xb});var _g=ie((EBe,aX)=>{"use strict";var gwe=Kv(),_b=gwe("%Object.getOwnPropertyDescriptor%",!0);if(_b)try{_b([],"length")}catch(e){_b=null}aX.exports=_b});var lX=ie((SBe,sX)=>{"use strict";var iX=bb(),ywe=G8(),Qv=xg(),oX=_g();sX.exports=function(r,t,n){if(!r||typeof r!="object"&&typeof r!="function")throw new Qv("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Qv("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Qv("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Qv("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Qv("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Qv("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,f=!!oX&&oX(r,t);if(iX)iX(r,t,{configurable:i===null&&f?f.configurable:!i,enumerable:a===null&&f?f.enumerable:!a,value:n,writable:o===null&&f?f.writable:!o});else if(s||!a&&!o&&!i)r[t]=n;else throw new ywe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var W8=ie((CBe,uX)=>{"use strict";var Y8=bb(),fX=function(){return!!Y8};fX.hasArrayLengthDefineBug=function(){if(!Y8)return null;try{return Y8([],"length",{value:1}).length!==1}catch(r){return!0}};uX.exports=fX});var pX=ie((kBe,dX)=>{"use strict";var mwe=Kv(),cX=lX(),xwe=W8()(),hX=_g(),vX=xg(),bwe=mwe("%Math.floor%");dX.exports=function(r,t){if(typeof r!="function")throw new vX("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||bwe(t)!==t)throw new vX("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,o=!0;if("length"in r&&hX){var i=hX(r,"length");i&&!i.configurable&&(a=!1),i&&!i.writable&&(o=!1)}return(a||o||!n)&&(xwe?cX(r,"length",t,!0,!0):cX(r,"length",t)),r}});var wg=ie((LBe,wb)=>{"use strict";var X8=gb(),Ab=Kv(),_we=pX(),wwe=xg(),mX=Ab("%Function.prototype.apply%"),xX=Ab("%Function.prototype.call%"),bX=Ab("%Reflect.apply%",!0)||X8.call(xX,mX),gX=bb(),Awe=Ab("%Math.max%");wb.exports=function(r){if(typeof r!="function")throw new wwe("a function is required");var t=bX(X8,xX,arguments);return _we(t,1+Awe(0,r.length-(arguments.length-1)),!0)};var yX=function(){return bX(X8,mX,arguments)};gX?gX(wb.exports,"apply",{value:yX}):wb.exports.apply=yX});var ed=ie((RBe,AX)=>{"use strict";var _X=Kv(),wX=wg(),Twe=wX(_X("String.prototype.indexOf"));AX.exports=function(r,t){var n=_X(r,!!t);return typeof n=="function"&&Twe(r,".prototype.")>-1?wX(n):n}});var EX=ie((DBe,MX)=>{"use strict";var Mwe=mg()(),Ewe=ed(),Z8=Ewe("Object.prototype.toString"),Tb=function(r){return Mwe&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:Z8(r)==="[object Arguments]"},TX=function(r){return Tb(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&Z8(r)!=="[object Array]"&&Z8(r.callee)==="[object Function]"},Swe=function(){return Tb(arguments)}();Tb.isLegacyArguments=TX;MX.exports=Swe?Tb:TX});var kX=ie((FBe,CX)=>{"use strict";var Cwe=Object.prototype.toString,kwe=Function.prototype.toString,Lwe=/^\s*(?:function)?\*/,SX=mg()(),j8=Object.getPrototypeOf,Rwe=function(){if(!SX)return!1;try{return Function("return function*() {}")()}catch(e){}},J8;CX.exports=function(r){if(typeof r!="function")return!1;if(Lwe.test(kwe.call(r)))return!0;if(!SX){var t=Cwe.call(r);return t==="[object GeneratorFunction]"}if(!j8)return!1;if(typeof J8=="undefined"){var n=Rwe();J8=n?j8(n):!1}return j8(r)===J8}});var FX=ie((IBe,DX)=>{"use strict";var RX=Function.prototype.toString,rd=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,K8,Mb;if(typeof rd=="function"&&typeof Object.defineProperty=="function")try{K8=Object.defineProperty({},"length",{get:function(){throw Mb}}),Mb={},rd(function(){throw 42},null,K8)}catch(e){e!==Mb&&(rd=null)}else rd=null;var Dwe=/^\s*class\b/,Q8=function(r){try{var t=RX.call(r);return Dwe.test(t)}catch(n){return!1}},$8=function(r){try{return Q8(r)?!1:(RX.call(r),!0)}catch(t){return!1}},Eb=Object.prototype.toString,Fwe="[object Object]",Iwe="[object Function]",Pwe="[object GeneratorFunction]",Owe="[object HTMLAllCollection]",Nwe="[object HTML document.all class]",Bwe="[object HTMLCollection]",qwe=typeof Symbol=="function"&&!!Symbol.toStringTag,zwe=!(0 in[,]),eM=function(){return!1};typeof document=="object"&&(LX=document.all,Eb.call(LX)===Eb.call(document.all)&&(eM=function(r){if((zwe||!r)&&(typeof r=="undefined"||typeof r=="object"))try{var t=Eb.call(r);return(t===Owe||t===Nwe||t===Bwe||t===Fwe)&&r("")==null}catch(n){}return!1}));var LX;DX.exports=rd?function(r){if(eM(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;try{rd(r,null,K8)}catch(t){if(t!==Mb)return!1}return!Q8(r)&&$8(r)}:function(r){if(eM(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;if(qwe)return $8(r);if(Q8(r))return!1;var t=Eb.call(r);return t!==Iwe&&t!==Pwe&&!/^\[object HTML/.test(t)?!1:$8(r)}});var rM=ie((PBe,PX)=>{"use strict";var Uwe=FX(),Gwe=Object.prototype.toString,IX=Object.prototype.hasOwnProperty,Hwe=function(r,t,n){for(var a=0,o=r.length;a<o;a++)IX.call(r,a)&&(n==null?t(r[a],a,r):t.call(n,r[a],a,r))},Vwe=function(r,t,n){for(var a=0,o=r.length;a<o;a++)n==null?t(r.charAt(a),a,r):t.call(n,r.charAt(a),a,r)},Ywe=function(r,t,n){for(var a in r)IX.call(r,a)&&(n==null?t(r[a],a,r):t.call(n,r[a],a,r))},Wwe=function(r,t,n){if(!Uwe(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),Gwe.call(r)==="[object Array]"?Hwe(r,t,a):typeof r=="string"?Vwe(r,t,a):Ywe(r,t,a)};PX.exports=Wwe});var nM=ie((OBe,OX)=>{"use strict";var tM=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Xwe=typeof globalThis=="undefined"?window:globalThis;OX.exports=function(){for(var r=[],t=0;t<tM.length;t++)typeof Xwe[tM[t]]=="function"&&(r[r.length]=tM[t]);return r}});var UX=ie((NBe,zX)=>{"use strict";var Cb=rM(),Zwe=nM(),NX=wg(),oM=ed(),Sb=_g(),jwe=oM("Object.prototype.toString"),qX=mg()(),BX=typeof globalThis=="undefined"?window:globalThis,iM=Zwe(),sM=oM("String.prototype.slice"),aM=Object.getPrototypeOf,Jwe=oM("Array.prototype.indexOf",!0)||function(r,t){for(var n=0;n<r.length;n+=1)if(r[n]===t)return n;return-1},kb={__proto__:null};qX&&Sb&&aM?Cb(iM,function(e){var r=new BX[e];if(Symbol.toStringTag in r){var t=aM(r),n=Sb(t,Symbol.toStringTag);if(!n){var a=aM(t);n=Sb(a,Symbol.toStringTag)}kb["$"+e]=NX(n.get)}}):Cb(iM,function(e){var r=new BX[e],t=r.slice||r.set;t&&(kb["$"+e]=NX(t))});var $we=function(r){var t=!1;return Cb(kb,function(n,a){if(!t)try{"$"+n(r)===a&&(t=sM(a,1))}catch(o){}}),t},Kwe=function(r){var t=!1;return Cb(kb,function(n,a){if(!t)try{n(r),t=sM(a,1)}catch(o){}}),t};zX.exports=function(r){if(!r||typeof r!="object")return!1;if(!qX){var t=sM(jwe(r),8,-1);return Jwe(iM,t)>-1?t:t!=="Object"?!1:Kwe(r)}return Sb?$we(r):null}});var XX=ie((BBe,WX)=>{"use strict";var GX=rM(),Qwe=nM(),fM=ed(),e4e=fM("Object.prototype.toString"),HX=mg()(),Lb=_g(),r4e=typeof globalThis=="undefined"?window:globalThis,VX=Qwe(),t4e=fM("Array.prototype.indexOf",!0)||function(r,t){for(var n=0;n<r.length;n+=1)if(r[n]===t)return n;return-1},n4e=fM("String.prototype.slice"),YX={},lM=Object.getPrototypeOf;HX&&Lb&&lM&&GX(VX,function(e){var r=new r4e[e];if(Symbol.toStringTag in r){var t=lM(r),n=Lb(t,Symbol.toStringTag);if(!n){var a=lM(t);n=Lb(a,Symbol.toStringTag)}YX[e]=n.get}});var a4e=function(r){var t=!1;return GX(YX,function(n,a){if(!t)try{t=n.call(r)===a}catch(o){}}),t};WX.exports=function(r){if(!r||typeof r!="object")return!1;if(!HX||!(Symbol.toStringTag in r)){var t=n4e(e4e(r),8,-1);return t4e(VX,t)>-1}return Lb?a4e(r):!1}});var sZ=ie(Fn=>{"use strict";var i4e=EX(),o4e=kX(),$s=UX(),ZX=XX();function td(e){return e.call.bind(e)}var jX=typeof BigInt!="undefined",JX=typeof Symbol!="undefined",_s=td(Object.prototype.toString),s4e=td(Number.prototype.valueOf),l4e=td(String.prototype.valueOf),f4e=td(Boolean.prototype.valueOf);jX&&($X=td(BigInt.prototype.valueOf));var $X;JX&&(KX=td(Symbol.prototype.valueOf));var KX;function Tg(e,r){if(typeof e!="object")return!1;try{return r(e),!0}catch(t){return!1}}Fn.isArgumentsObject=i4e;Fn.isGeneratorFunction=o4e;Fn.isTypedArray=ZX;function u4e(e){return typeof Promise!="undefined"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}Fn.isPromise=u4e;function c4e(e){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(e):ZX(e)||eZ(e)}Fn.isArrayBufferView=c4e;function h4e(e){return $s(e)==="Uint8Array"}Fn.isUint8Array=h4e;function v4e(e){return $s(e)==="Uint8ClampedArray"}Fn.isUint8ClampedArray=v4e;function d4e(e){return $s(e)==="Uint16Array"}Fn.isUint16Array=d4e;function p4e(e){return $s(e)==="Uint32Array"}Fn.isUint32Array=p4e;function g4e(e){return $s(e)==="Int8Array"}Fn.isInt8Array=g4e;function y4e(e){return $s(e)==="Int16Array"}Fn.isInt16Array=y4e;function m4e(e){return $s(e)==="Int32Array"}Fn.isInt32Array=m4e;function x4e(e){return $s(e)==="Float32Array"}Fn.isFloat32Array=x4e;function b4e(e){return $s(e)==="Float64Array"}Fn.isFloat64Array=b4e;function _4e(e){return $s(e)==="BigInt64Array"}Fn.isBigInt64Array=_4e;function w4e(e){return $s(e)==="BigUint64Array"}Fn.isBigUint64Array=w4e;function Rb(e){return _s(e)==="[object Map]"}Rb.working=typeof Map!="undefined"&&Rb(new Map);function A4e(e){return typeof Map=="undefined"?!1:Rb.working?Rb(e):e instanceof Map}Fn.isMap=A4e;function Db(e){return _s(e)==="[object Set]"}Db.working=typeof Set!="undefined"&&Db(new Set);function T4e(e){return typeof Set=="undefined"?!1:Db.working?Db(e):e instanceof Set}Fn.isSet=T4e;function Fb(e){return _s(e)==="[object WeakMap]"}Fb.working=typeof WeakMap!="undefined"&&Fb(new WeakMap);function M4e(e){return typeof WeakMap=="undefined"?!1:Fb.working?Fb(e):e instanceof WeakMap}Fn.isWeakMap=M4e;function cM(e){return _s(e)==="[object WeakSet]"}cM.working=typeof WeakSet!="undefined"&&cM(new WeakSet);function E4e(e){return cM(e)}Fn.isWeakSet=E4e;function Ib(e){return _s(e)==="[object ArrayBuffer]"}Ib.working=typeof ArrayBuffer!="undefined"&&Ib(new ArrayBuffer);function QX(e){return typeof ArrayBuffer=="undefined"?!1:Ib.working?Ib(e):e instanceof ArrayBuffer}Fn.isArrayBuffer=QX;function Pb(e){return _s(e)==="[object DataView]"}Pb.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Pb(new DataView(new ArrayBuffer(1),0,1));function eZ(e){return typeof DataView=="undefined"?!1:Pb.working?Pb(e):e instanceof DataView}Fn.isDataView=eZ;var uM=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function Ag(e){return _s(e)==="[object SharedArrayBuffer]"}function rZ(e){return typeof uM=="undefined"?!1:(typeof Ag.working=="undefined"&&(Ag.working=Ag(new uM)),Ag.working?Ag(e):e instanceof uM)}Fn.isSharedArrayBuffer=rZ;function S4e(e){return _s(e)==="[object AsyncFunction]"}Fn.isAsyncFunction=S4e;function C4e(e){return _s(e)==="[object Map Iterator]"}Fn.isMapIterator=C4e;function k4e(e){return _s(e)==="[object Set Iterator]"}Fn.isSetIterator=k4e;function L4e(e){return _s(e)==="[object Generator]"}Fn.isGeneratorObject=L4e;function R4e(e){return _s(e)==="[object WebAssembly.Module]"}Fn.isWebAssemblyCompiledModule=R4e;function tZ(e){return Tg(e,s4e)}Fn.isNumberObject=tZ;function nZ(e){return Tg(e,l4e)}Fn.isStringObject=nZ;function aZ(e){return Tg(e,f4e)}Fn.isBooleanObject=aZ;function iZ(e){return jX&&Tg(e,$X)}Fn.isBigIntObject=iZ;function oZ(e){return JX&&Tg(e,KX)}Fn.isSymbolObject=oZ;function D4e(e){return tZ(e)||nZ(e)||aZ(e)||iZ(e)||oZ(e)}Fn.isBoxedPrimitive=D4e;function F4e(e){return typeof Uint8Array!="undefined"&&(QX(e)||rZ(e))}Fn.isAnyArrayBuffer=F4e;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(Fn,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var fZ=ie((zBe,lZ)=>{lZ.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}});var uZ=ie((UBe,hM)=>{typeof Object.create=="function"?hM.exports=function(r,t){t&&(r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:hM.exports=function(r,t){if(t){r.super_=t;var n=function(){};n.prototype=t.prototype,r.prototype=new n,r.prototype.constructor=r}}});var ad=ie(In=>{var cZ=Object.getOwnPropertyDescriptors||function(r){for(var t=Object.keys(r),n={},a=0;a<t.length;a++)n[t[a]]=Object.getOwnPropertyDescriptor(r,t[a]);return n},I4e=/%[sdj%]/g;In.format=function(e){if(!Gb(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(Hu(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,a=n.length,o=String(e).replace(I4e,function(s){if(s==="%%")return"%";if(t>=a)return s;switch(s){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(f){return"[Circular]"}default:return s}}),i=n[t];t<a;i=n[++t])Ub(i)||!nd(i)?o+=" "+i:o+=" "+Hu(i);return o};In.deprecate=function(e,r){if(typeof process!="undefined"&&process.noDeprecation===!0)return e;if(typeof process=="undefined")return function(){return In.deprecate(e,r).apply(this,arguments)};var t=!1;function n(){if(!t){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),t=!0}return e.apply(this,arguments)}return n};var Ob={},hZ=/^$/;Nb="false",Nb=Nb.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),hZ=new RegExp("^"+Nb+"$","i");var Nb;In.debuglog=function(e){if(e=e.toUpperCase(),!Ob[e])if(hZ.test(e)){var r=process.pid;Ob[e]=function(){var t=In.format.apply(In,arguments);console.error("%s %d: %s",e,r,t)}}else Ob[e]=function(){};return Ob[e]};function Hu(e,r){var t={seen:[],stylize:O4e};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),gM(r)?t.showHidden=r:r&&In._extend(t,r),L0(t.showHidden)&&(t.showHidden=!1),L0(t.depth)&&(t.depth=2),L0(t.colors)&&(t.colors=!1),L0(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=P4e),qb(t,e,t.depth)}In.inspect=Hu;Hu.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Hu.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function P4e(e,r){var t=Hu.styles[r];return t?"\x1B["+Hu.colors[t][0]+"m"+e+"\x1B["+Hu.colors[t][1]+"m":e}function O4e(e,r){return e}function N4e(e){var r={};return e.forEach(function(t,n){r[t]=!0}),r}function qb(e,r,t){if(e.customInspect&&r&&Bb(r.inspect)&&r.inspect!==In.inspect&&!(r.constructor&&r.constructor.prototype===r)){var n=r.inspect(t,e);return Gb(n)||(n=qb(e,n,t)),n}var a=B4e(e,r);if(a)return a;var o=Object.keys(r),i=N4e(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),Eg(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return vM(r);if(o.length===0){if(Bb(r)){var s=r.name?": "+r.name:"";return e.stylize("[Function"+s+"]","special")}if(Mg(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(zb(r))return e.stylize(Date.prototype.toString.call(r),"date");if(Eg(r))return vM(r)}var f="",l=!1,u=["{","}"];if(vZ(r)&&(l=!0,u=["[","]"]),Bb(r)){var c=r.name?": "+r.name:"";f=" [Function"+c+"]"}if(Mg(r)&&(f=" "+RegExp.prototype.toString.call(r)),zb(r)&&(f=" "+Date.prototype.toUTCString.call(r)),Eg(r)&&(f=" "+vM(r)),o.length===0&&(!l||r.length==0))return u[0]+f+u[1];if(t<0)return Mg(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var v;return l?v=q4e(e,r,t,i,o):v=o.map(function(m){return pM(e,r,t,i,m,l)}),e.seen.pop(),z4e(v,f,u)}function B4e(e,r){if(L0(r))return e.stylize("undefined","undefined");if(Gb(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}if(dZ(r))return e.stylize(""+r,"number");if(gM(r))return e.stylize(""+r,"boolean");if(Ub(r))return e.stylize("null","null")}function vM(e){return"["+Error.prototype.toString.call(e)+"]"}function q4e(e,r,t,n,a){for(var o=[],i=0,s=r.length;i<s;++i)pZ(r,String(i))?o.push(pM(e,r,t,n,String(i),!0)):o.push("");return a.forEach(function(f){f.match(/^\d+$/)||o.push(pM(e,r,t,n,f,!0))}),o}function pM(e,r,t,n,a,o){var i,s,f;if(f=Object.getOwnPropertyDescriptor(r,a)||{value:r[a]},f.get?f.set?s=e.stylize("[Getter/Setter]","special"):s=e.stylize("[Getter]","special"):f.set&&(s=e.stylize("[Setter]","special")),pZ(n,a)||(i="["+a+"]"),s||(e.seen.indexOf(f.value)<0?(Ub(t)?s=qb(e,f.value,null):s=qb(e,f.value,t-1),s.indexOf(`
`)>-1&&(o?s=s.split(`
`).map(function(l){return"  "+l}).join(`
`).slice(2):s=`
`+s.split(`
`).map(function(l){return"   "+l}).join(`
`))):s=e.stylize("[Circular]","special")),L0(i)){if(o&&a.match(/^\d+$/))return s;i=JSON.stringify(""+a),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.slice(1,-1),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function z4e(e,r,t){var n=0,a=e.reduce(function(o,i){return n++,i.indexOf(`
`)>=0&&n++,o+i.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?t[0]+(r===""?"":r+`
 `)+" "+e.join(`,
  `)+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}In.types=sZ();function vZ(e){return Array.isArray(e)}In.isArray=vZ;function gM(e){return typeof e=="boolean"}In.isBoolean=gM;function Ub(e){return e===null}In.isNull=Ub;function U4e(e){return e==null}In.isNullOrUndefined=U4e;function dZ(e){return typeof e=="number"}In.isNumber=dZ;function Gb(e){return typeof e=="string"}In.isString=Gb;function G4e(e){return typeof e=="symbol"}In.isSymbol=G4e;function L0(e){return e===void 0}In.isUndefined=L0;function Mg(e){return nd(e)&&yM(e)==="[object RegExp]"}In.isRegExp=Mg;In.types.isRegExp=Mg;function nd(e){return typeof e=="object"&&e!==null}In.isObject=nd;function zb(e){return nd(e)&&yM(e)==="[object Date]"}In.isDate=zb;In.types.isDate=zb;function Eg(e){return nd(e)&&(yM(e)==="[object Error]"||e instanceof Error)}In.isError=Eg;In.types.isNativeError=Eg;function Bb(e){return typeof e=="function"}In.isFunction=Bb;function H4e(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e=="undefined"}In.isPrimitive=H4e;In.isBuffer=fZ();function yM(e){return Object.prototype.toString.call(e)}function dM(e){return e<10?"0"+e.toString(10):e.toString(10)}var V4e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y4e(){var e=new Date,r=[dM(e.getHours()),dM(e.getMinutes()),dM(e.getSeconds())].join(":");return[e.getDate(),V4e[e.getMonth()],r].join(" ")}In.log=function(){console.log("%s - %s",Y4e(),In.format.apply(In,arguments))};In.inherits=uZ();In._extend=function(e,r){if(!r||!nd(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};function pZ(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var k0=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;In.promisify=function(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');if(k0&&r[k0]){var t=r[k0];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,k0,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var n,a,o=new Promise(function(f,l){n=f,a=l}),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push(function(f,l){f?a(f):n(l)});try{r.apply(this,i)}catch(f){a(f)}return o}return Object.setPrototypeOf(t,Object.getPrototypeOf(r)),k0&&Object.defineProperty(t,k0,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,cZ(r))};In.promisify.custom=k0;function W4e(e,r){if(!e){var t=new Error("Promise was rejected with a falsy value");t.reason=e,e=t}return r(e)}function X4e(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var a=t.pop();if(typeof a!="function")throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return a.apply(o,arguments)};e.apply(this,t).then(function(s){process.nextTick(i.bind(null,null,s))},function(s){process.nextTick(W4e.bind(null,s,i))})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,cZ(e)),r}In.callbackify=X4e});var bM=ie((HBe,xZ)=>{"use strict";function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vu(e)}function gZ(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j4e(n.key),n)}}function Z4e(e,r,t){return r&&gZ(e.prototype,r),t&&gZ(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j4e(e){var r=J4e(e,"string");return Vu(r)==="symbol"?r:String(r)}function J4e(e,r){if(Vu(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Vu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $4e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function K4e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&xM(e,r)}function xM(e,r){return xM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xM(e,r)}function Q4e(e){var r=t6e();return function(){var n=Hb(e),a;if(r){var o=Hb(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return e6e(this,a)}}function e6e(e,r){if(r&&(Vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r6e(e)}function r6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hb(e)}var mZ={},id,mM;function Sg(e,r,t){t||(t=Error);function n(o,i,s){return typeof r=="string"?r:r(o,i,s)}var a=function(o){K4e(s,o);var i=Q4e(s);function s(f,l,u){var c;return $4e(this,s),c=i.call(this,n(f,l,u)),c.code=e,c}return Z4e(s)}(t);mZ[e]=a}function yZ(e,r){if(Array.isArray(e)){var t=e.length;return e=e.map(function(n){return String(n)}),t>2?"one of ".concat(r," ").concat(e.slice(0,t-1).join(", "),", or ")+e[t-1]:t===2?"one of ".concat(r," ").concat(e[0]," or ").concat(e[1]):"of ".concat(r," ").concat(e[0])}else return"of ".concat(r," ").concat(String(e))}function n6e(e,r,t){return e.substr(!t||t<0?0:+t,r.length)===r}function a6e(e,r,t){return(t===void 0||t>e.length)&&(t=e.length),e.substring(t-r.length,t)===r}function i6e(e,r,t){return typeof t!="number"&&(t=0),t+r.length>e.length?!1:e.indexOf(r,t)!==-1}Sg("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);Sg("ERR_INVALID_ARG_TYPE",function(e,r,t){id===void 0&&(id=Vb()),id(typeof e=="string","'name' must be a string");var n;typeof r=="string"&&n6e(r,"not ")?(n="must not be",r=r.replace(/^not /,"")):n="must be";var a;if(a6e(e," argument"))a="The ".concat(e," ").concat(n," ").concat(yZ(r,"type"));else{var o=i6e(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(yZ(r,"type"))}return a+=". Received type ".concat(Vu(t)),a},TypeError);Sg("ERR_INVALID_ARG_VALUE",function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";mM===void 0&&(mM=ad());var n=mM.inspect(r);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(t,". Received ").concat(n)},TypeError,RangeError);Sg("ERR_INVALID_RETURN_VALUE",function(e,r,t){var n;return t&&t.constructor&&t.constructor.name?n="instance of ".concat(t.constructor.name):n="type ".concat(Vu(t)),"Expected ".concat(e,' to be returned from the "').concat(r,'"')+" function but got ".concat(n,".")},TypeError);Sg("ERR_MISSING_ARGS",function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];id===void 0&&(id=Vb()),id(r.length>0,"At least one arg needs to be specified");var n="The ",a=r.length;switch(r=r.map(function(o){return'"'.concat(o,'"')}),a){case 1:n+="".concat(r[0]," argument");break;case 2:n+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:n+=r.slice(0,a-1).join(", "),n+=", and ".concat(r[a-1]," arguments");break}return"".concat(n," must be specified")},TypeError);xZ.exports.codes=mZ});var kZ=ie((VBe,CZ)=>{"use strict";function bZ(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function _Z(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?bZ(Object(t),!0).forEach(function(n){o6e(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bZ(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function o6e(e,r,t){return r=MZ(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s6e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wZ(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MZ(n.key),n)}}function l6e(e,r,t){return r&&wZ(e.prototype,r),t&&wZ(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MZ(e){var r=f6e(e,"string");return ko(r)==="symbol"?r:String(r)}function f6e(e,r){if(ko(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(ko(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function u6e(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Rg(e,r)}function c6e(e){var r=SZ();return function(){var n=Dg(e),a;if(r){var o=Dg(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return EZ(this,a)}}function EZ(e,r){if(r&&(ko(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _M(e)}function _M(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wM(e){var r=typeof Map=="function"?new Map:void 0;return wM=function(n){if(n===null||!h6e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r!="undefined"){if(r.has(n))return r.get(n);r.set(n,a)}function a(){return Yb(n,arguments,Dg(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Rg(a,n)},wM(e)}function Yb(e,r,t){return SZ()?Yb=Reflect.construct.bind():Yb=function(a,o,i){var s=[null];s.push.apply(s,o);var f=Function.bind.apply(a,s),l=new f;return i&&Rg(l,i.prototype),l},Yb.apply(null,arguments)}function SZ(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h6e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Rg(e,r){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rg(e,r)}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dg(e)}function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ko(e)}var v6e=ad(),AM=v6e.inspect,d6e=bM(),p6e=d6e.codes.ERR_INVALID_ARG_TYPE;function AZ(e,r,t){return(t===void 0||t>e.length)&&(t=e.length),e.substring(t-r.length,t)===r}function g6e(e,r){if(r=Math.floor(r),e.length==0||r==0)return"";var t=e.length*r;for(r=Math.floor(Math.log(r)/Math.log(2));r;)e+=e,r--;return e+=e.substring(0,t-e.length),e}var Ks="",Cg="",kg="",Li="",R0={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},y6e=10;function TZ(e){var r=Object.keys(e),t=Object.create(Object.getPrototypeOf(e));return r.forEach(function(n){t[n]=e[n]}),Object.defineProperty(t,"message",{value:e.message}),t}function Lg(e){return AM(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function m6e(e,r,t){var n="",a="",o=0,i="",s=!1,f=Lg(e),l=f.split(`
`),u=Lg(r).split(`
`),c=0,v="";if(t==="strictEqual"&&ko(e)==="object"&&ko(r)==="object"&&e!==null&&r!==null&&(t="strictEqualObject"),l.length===1&&u.length===1&&l[0]!==u[0]){var m=l[0].length+u[0].length;if(m<=y6e){if((ko(e)!=="object"||e===null)&&(ko(r)!=="object"||r===null)&&(e!==0||r!==0))return"".concat(R0[t],`

`)+"".concat(l[0]," !== ").concat(u[0],`
`)}else if(t!=="strictEqualObject"){var x=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(m<x){for(;l[0][c]===u[0][c];)c++;c>2&&(v=`
  `.concat(g6e(" ",c),"^"),c=0)}}}for(var A=l[l.length-1],w=u[u.length-1];A===w&&(c++<2?i=`
  `.concat(A).concat(i):n=A,l.pop(),u.pop(),!(l.length===0||u.length===0));)A=l[l.length-1],w=u[u.length-1];var y=Math.max(l.length,u.length);if(y===0){var _=f.split(`
`);if(_.length>30)for(_[26]="".concat(Ks,"...").concat(Li);_.length>27;)_.pop();return"".concat(R0.notIdentical,`

`).concat(_.join(`
`),`
`)}c>3&&(i=`
`.concat(Ks,"...").concat(Li).concat(i),s=!0),n!==""&&(i=`
  `.concat(n).concat(i),n="");var M=0,b=R0[t]+`
`.concat(Cg,"+ actual").concat(Li," ").concat(kg,"- expected").concat(Li),E=" ".concat(Ks,"...").concat(Li," Lines skipped");for(c=0;c<y;c++){var d=c-o;if(l.length<c+1)d>1&&c>2&&(d>4?(a+=`
`.concat(Ks,"...").concat(Li),s=!0):d>3&&(a+=`
  `.concat(u[c-2]),M++),a+=`
  `.concat(u[c-1]),M++),o=c,n+=`
`.concat(kg,"-").concat(Li," ").concat(u[c]),M++;else if(u.length<c+1)d>1&&c>2&&(d>4?(a+=`
`.concat(Ks,"...").concat(Li),s=!0):d>3&&(a+=`
  `.concat(l[c-2]),M++),a+=`
  `.concat(l[c-1]),M++),o=c,a+=`
`.concat(Cg,"+").concat(Li," ").concat(l[c]),M++;else{var T=u[c],g=l[c],h=g!==T&&(!AZ(g,",")||g.slice(0,-1)!==T);h&&AZ(T,",")&&T.slice(0,-1)===g&&(h=!1,g+=","),h?(d>1&&c>2&&(d>4?(a+=`
`.concat(Ks,"...").concat(Li),s=!0):d>3&&(a+=`
  `.concat(l[c-2]),M++),a+=`
  `.concat(l[c-1]),M++),o=c,a+=`
`.concat(Cg,"+").concat(Li," ").concat(g),n+=`
`.concat(kg,"-").concat(Li," ").concat(T),M+=2):(a+=n,n="",(d===1||c===0)&&(a+=`
  `.concat(g),M++))}if(M>20&&c<y-2)return"".concat(b).concat(E,`
`).concat(a,`
`).concat(Ks,"...").concat(Li).concat(n,`
`)+"".concat(Ks,"...").concat(Li)}return"".concat(b).concat(s?E:"",`
`).concat(a).concat(n).concat(i).concat(v)}var x6e=function(e,r){u6e(n,e);var t=c6e(n);function n(a){var o;if(s6e(this,n),ko(a)!=="object"||a===null)throw new p6e("options","Object",a);var i=a.message,s=a.operator,f=a.stackStartFn,l=a.actual,u=a.expected,c=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)o=t.call(this,String(i));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Ks="\x1B[34m",Cg="\x1B[32m",Li="\x1B[39m",kg="\x1B[31m"):(Ks="",Cg="",Li="",kg="")),ko(l)==="object"&&l!==null&&ko(u)==="object"&&u!==null&&"stack"in l&&l instanceof Error&&"stack"in u&&u instanceof Error&&(l=TZ(l),u=TZ(u)),s==="deepStrictEqual"||s==="strictEqual")o=t.call(this,m6e(l,u,s));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var v=R0[s],m=Lg(l).split(`
`);if(s==="notStrictEqual"&&ko(l)==="object"&&l!==null&&(v=R0.notStrictEqualObject),m.length>30)for(m[26]="".concat(Ks,"...").concat(Li);m.length>27;)m.pop();m.length===1?o=t.call(this,"".concat(v," ").concat(m[0])):o=t.call(this,"".concat(v,`

`).concat(m.join(`
`),`
`))}else{var x=Lg(l),A="",w=R0[s];s==="notDeepEqual"||s==="notEqual"?(x="".concat(R0[s],`

`).concat(x),x.length>1024&&(x="".concat(x.slice(0,1021),"..."))):(A="".concat(Lg(u)),x.length>512&&(x="".concat(x.slice(0,509),"...")),A.length>512&&(A="".concat(A.slice(0,509),"...")),s==="deepEqual"||s==="equal"?x="".concat(w,`

`).concat(x,`

should equal

`):A=" ".concat(s," ").concat(A)),o=t.call(this,"".concat(x).concat(A))}return Error.stackTraceLimit=c,o.generatedMessage=!i,Object.defineProperty(_M(o),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),o.code="ERR_ASSERTION",o.actual=l,o.expected=u,o.operator=s,Error.captureStackTrace&&Error.captureStackTrace(_M(o),f),o.stack,o.name="AssertionError",EZ(o)}return l6e(n,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r,value:function(o,i){return AM(this,_Z(_Z({},i),{},{customInspect:!1,depth:0}))}}]),n}(wM(Error),AM.custom);CZ.exports=x6e});var TM=ie((YBe,RZ)=>{"use strict";var LZ=Object.prototype.toString;RZ.exports=function(r){var t=LZ.call(r),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&LZ.call(r.callee)==="[object Function]"),n}});var zZ=ie((WBe,qZ)=>{"use strict";var BZ;Object.keys||(Fg=Object.prototype.hasOwnProperty,MM=Object.prototype.toString,DZ=TM(),EM=Object.prototype.propertyIsEnumerable,FZ=!EM.call({toString:null},"toString"),IZ=EM.call(function(){},"prototype"),Ig=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Wb=function(e){var r=e.constructor;return r&&r.prototype===e},PZ={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},OZ=function(){if(typeof window=="undefined")return!1;for(var e in window)try{if(!PZ["$"+e]&&Fg.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{Wb(window[e])}catch(r){return!0}}catch(r){return!0}return!1}(),NZ=function(e){if(typeof window=="undefined"||!OZ)return Wb(e);try{return Wb(e)}catch(r){return!1}},BZ=function(r){var t=r!==null&&typeof r=="object",n=MM.call(r)==="[object Function]",a=DZ(r),o=t&&MM.call(r)==="[object String]",i=[];if(!t&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var s=IZ&&n;if(o&&r.length>0&&!Fg.call(r,0))for(var f=0;f<r.length;++f)i.push(String(f));if(a&&r.length>0)for(var l=0;l<r.length;++l)i.push(String(l));else for(var u in r)!(s&&u==="prototype")&&Fg.call(r,u)&&i.push(String(u));if(FZ)for(var c=NZ(r),v=0;v<Ig.length;++v)!(c&&Ig[v]==="constructor")&&Fg.call(r,Ig[v])&&i.push(Ig[v]);return i});var Fg,MM,DZ,EM,FZ,IZ,Ig,Wb,PZ,OZ,NZ;qZ.exports=BZ});var SM=ie((XBe,HZ)=>{"use strict";var b6e=Array.prototype.slice,_6e=TM(),UZ=Object.keys,Xb=UZ?function(r){return UZ(r)}:zZ(),GZ=Object.keys;Xb.shim=function(){if(Object.keys){var r=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);r||(Object.keys=function(n){return _6e(n)?GZ(b6e.call(n)):GZ(n)})}else Object.keys=Xb;return Object.keys||Xb};HZ.exports=Xb});var jZ=ie((ZBe,ZZ)=>{"use strict";var w6e=SM(),WZ=pb()(),XZ=ed(),VZ=Object,A6e=XZ("Array.prototype.push"),YZ=XZ("Object.prototype.propertyIsEnumerable"),T6e=WZ?Object.getOwnPropertySymbols:null;ZZ.exports=function(r,t){if(r==null)throw new TypeError("target must be an object");var n=VZ(r);if(arguments.length===1)return n;for(var a=1;a<arguments.length;++a){var o=VZ(arguments[a]),i=w6e(o),s=WZ&&(Object.getOwnPropertySymbols||T6e);if(s)for(var f=s(o),l=0;l<f.length;++l){var u=f[l];YZ(o,u)&&A6e(i,u)}for(var c=0;c<i.length;++c){var v=i[c];if(YZ(o,v)){var m=o[v];n[v]=m}}}return n}});var $Z=ie((jBe,JZ)=>{"use strict";var CM=jZ(),M6e=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",r=e.split(""),t={},n=0;n<r.length;++n)t[r[n]]=r[n];var a=Object.assign({},t),o="";for(var i in a)o+=i;return e!==o},E6e=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(r){return e[1]==="y"}return!1};JZ.exports=function(){return!Object.assign||M6e()||E6e()?CM:Object.assign}});var kM=ie((JBe,QZ)=>{"use strict";var KZ=function(e){return e!==e};QZ.exports=function(r,t){return r===0&&t===0?1/r===1/t:!!(r===t||KZ(r)&&KZ(t))}});var Zb=ie(($Be,ej)=>{"use strict";var S6e=kM();ej.exports=function(){return typeof Object.is=="function"?Object.is:S6e}});var Pg=ie((KBe,aj)=>{"use strict";var C6e=SM(),k6e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",L6e=Object.prototype.toString,R6e=Array.prototype.concat,rj=Object.defineProperty,D6e=function(e){return typeof e=="function"&&L6e.call(e)==="[object Function]"},F6e=W8()(),tj=rj&&F6e,I6e=function(e,r,t,n){if(r in e){if(n===!0){if(e[r]===t)return}else if(!D6e(n)||!n())return}tj?rj(e,r,{configurable:!0,enumerable:!1,value:t,writable:!0}):e[r]=t},nj=function(e,r){var t=arguments.length>2?arguments[2]:{},n=C6e(r);k6e&&(n=R6e.call(n,Object.getOwnPropertySymbols(r)));for(var a=0;a<n.length;a+=1)I6e(e,n[a],r[n[a]],t[n[a]])};nj.supportsDescriptors=!!tj;aj.exports=nj});var oj=ie((QBe,ij)=>{"use strict";var P6e=Zb(),O6e=Pg();ij.exports=function(){var r=P6e();return O6e(Object,{is:r},{is:function(){return Object.is!==r}}),r}});var uj=ie((eqe,fj)=>{"use strict";var N6e=Pg(),B6e=wg(),q6e=kM(),sj=Zb(),z6e=oj(),lj=B6e(sj(),Object);N6e(lj,{getPolyfill:sj,implementation:q6e,shim:z6e});fj.exports=lj});var LM=ie((rqe,cj)=>{"use strict";cj.exports=function(r){return r!==r}});var RM=ie((tqe,hj)=>{"use strict";var U6e=LM();hj.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:U6e}});var dj=ie((nqe,vj)=>{"use strict";var G6e=Pg(),H6e=RM();vj.exports=function(){var r=H6e();return G6e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r}});var mj=ie((aqe,yj)=>{"use strict";var V6e=wg(),Y6e=Pg(),W6e=LM(),pj=RM(),X6e=dj(),gj=V6e(pj(),Number);Y6e(gj,{getPolyfill:pj,implementation:W6e,shim:X6e});yj.exports=gj});var Bj=ie((iqe,Nj)=>{"use strict";function xj(e,r){return $6e(e)||J6e(e,r)||j6e(e,r)||Z6e()}function Z6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j6e(e,r){if(e){if(typeof e=="string")return bj(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bj(e,r)}}function bj(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function J6e(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,o,i,s=[],f=!0,l=!1;try{if(o=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(n=o.call(t)).done)&&(s.push(n.value),s.length!==r);f=!0);}catch(u){l=!0,a=u}finally{try{if(!f&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function $6e(e){if(Array.isArray(e))return e}function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ws(e)}var K6e=/a/g.flags!==void 0,r5=function(r){var t=[];return r.forEach(function(n){return t.push(n)}),t},_j=function(r){var t=[];return r.forEach(function(n,a){return t.push([a,n])}),t},Dj=Object.is?Object.is:uj(),Qb=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},DM=Number.isNaN?Number.isNaN:mj();function IM(e){return e.call.bind(e)}var Ng=IM(Object.prototype.hasOwnProperty),e5=IM(Object.prototype.propertyIsEnumerable),wj=IM(Object.prototype.toString),ao=ad().types,Q6e=ao.isAnyArrayBuffer,eAe=ao.isArrayBufferView,Aj=ao.isDate,jb=ao.isMap,Tj=ao.isRegExp,Jb=ao.isSet,rAe=ao.isNativeError,tAe=ao.isBoxedPrimitive,Mj=ao.isNumberObject,Ej=ao.isStringObject,Sj=ao.isBooleanObject,Cj=ao.isBigIntObject,nAe=ao.isSymbolObject,aAe=ao.isFloat32Array,iAe=ao.isFloat64Array;function oAe(e){if(e.length===0||e.length>10)return!0;for(var r=0;r<e.length;r++){var t=e.charCodeAt(r);if(t<48||t>57)return!0}return e.length===10&&e>=Math.pow(2,32)}function $b(e){return Object.keys(e).filter(oAe).concat(Qb(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function Fj(e,r){if(e===r)return 0;for(var t=e.length,n=r.length,a=0,o=Math.min(t,n);a<o;++a)if(e[a]!==r[a]){t=e[a],n=r[a];break}return t<n?-1:n<t?1:0}var Kb=void 0,sAe=!0,lAe=!1,FM=0,PM=1,Ij=2,Pj=3;function fAe(e,r){return K6e?e.source===r.source&&e.flags===r.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(r)}function uAe(e,r){if(e.byteLength!==r.byteLength)return!1;for(var t=0;t<e.byteLength;t++)if(e[t]!==r[t])return!1;return!0}function cAe(e,r){return e.byteLength!==r.byteLength?!1:Fj(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(r.buffer,r.byteOffset,r.byteLength))===0}function hAe(e,r){return e.byteLength===r.byteLength&&Fj(new Uint8Array(e),new Uint8Array(r))===0}function vAe(e,r){return Mj(e)?Mj(r)&&Dj(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(r)):Ej(e)?Ej(r)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(r):Sj(e)?Sj(r)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(r):Cj(e)?Cj(r)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(r):nAe(r)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(r)}function As(e,r,t,n){if(e===r)return e!==0?!0:t?Dj(e,r):!0;if(t){if(ws(e)!=="object")return typeof e=="number"&&DM(e)&&DM(r);if(ws(r)!=="object"||e===null||r===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(r))return!1}else{if(e===null||ws(e)!=="object")return r===null||ws(r)!=="object"?e==r:!1;if(r===null||ws(r)!=="object")return!1}var a=wj(e),o=wj(r);if(a!==o)return!1;if(Array.isArray(e)){if(e.length!==r.length)return!1;var i=$b(e,Kb),s=$b(r,Kb);return i.length!==s.length?!1:Og(e,r,t,n,PM,i)}if(a==="[object Object]"&&(!jb(e)&&jb(r)||!Jb(e)&&Jb(r)))return!1;if(Aj(e)){if(!Aj(r)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(r))return!1}else if(Tj(e)){if(!Tj(r)||!fAe(e,r))return!1}else if(rAe(e)||e instanceof Error){if(e.message!==r.message||e.name!==r.name)return!1}else if(eAe(e)){if(!t&&(aAe(e)||iAe(e))){if(!uAe(e,r))return!1}else if(!cAe(e,r))return!1;var f=$b(e,Kb),l=$b(r,Kb);return f.length!==l.length?!1:Og(e,r,t,n,FM,f)}else{if(Jb(e))return!Jb(r)||e.size!==r.size?!1:Og(e,r,t,n,Ij);if(jb(e))return!jb(r)||e.size!==r.size?!1:Og(e,r,t,n,Pj);if(Q6e(e)){if(!hAe(e,r))return!1}else if(tAe(e)&&!vAe(e,r))return!1}return Og(e,r,t,n,FM)}function kj(e,r){return r.filter(function(t){return e5(e,t)})}function Og(e,r,t,n,a,o){if(arguments.length===5){o=Object.keys(e);var i=Object.keys(r);if(o.length!==i.length)return!1}for(var s=0;s<o.length;s++)if(!Ng(r,o[s]))return!1;if(t&&arguments.length===5){var f=Qb(e);if(f.length!==0){var l=0;for(s=0;s<f.length;s++){var u=f[s];if(e5(e,u)){if(!e5(r,u))return!1;o.push(u),l++}else if(e5(r,u))return!1}var c=Qb(r);if(f.length!==c.length&&kj(r,c).length!==l)return!1}else{var v=Qb(r);if(v.length!==0&&kj(r,v).length!==0)return!1}}if(o.length===0&&(a===FM||a===PM&&e.length===0||e.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var m=n.val1.get(e);if(m!==void 0){var x=n.val2.get(r);if(x!==void 0)return m===x}n.position++}n.val1.set(e,n.position),n.val2.set(r,n.position);var A=mAe(e,r,t,o,n,a);return n.val1.delete(e),n.val2.delete(r),A}function Lj(e,r,t,n){for(var a=r5(e),o=0;o<a.length;o++){var i=a[o];if(As(r,i,t,n))return e.delete(i),!0}return!1}function Oj(e){switch(ws(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(DM(e))return!1}return!0}function dAe(e,r,t){var n=Oj(t);return n!=null?n:r.has(n)&&!e.has(n)}function pAe(e,r,t,n,a){var o=Oj(t);if(o!=null)return o;var i=r.get(o);return i===void 0&&!r.has(o)||!As(n,i,!1,a)?!1:!e.has(o)&&As(n,i,!1,a)}function gAe(e,r,t,n){for(var a=null,o=r5(e),i=0;i<o.length;i++){var s=o[i];if(ws(s)==="object"&&s!==null)a===null&&(a=new Set),a.add(s);else if(!r.has(s)){if(t||!dAe(e,r,s))return!1;a===null&&(a=new Set),a.add(s)}}if(a!==null){for(var f=r5(r),l=0;l<f.length;l++){var u=f[l];if(ws(u)==="object"&&u!==null){if(!Lj(a,u,t,n))return!1}else if(!t&&!e.has(u)&&!Lj(a,u,t,n))return!1}return a.size===0}return!0}function Rj(e,r,t,n,a,o){for(var i=r5(e),s=0;s<i.length;s++){var f=i[s];if(As(t,f,a,o)&&As(n,r.get(f),a,o))return e.delete(f),!0}return!1}function yAe(e,r,t,n){for(var a=null,o=_j(e),i=0;i<o.length;i++){var s=xj(o[i],2),f=s[0],l=s[1];if(ws(f)==="object"&&f!==null)a===null&&(a=new Set),a.add(f);else{var u=r.get(f);if(u===void 0&&!r.has(f)||!As(l,u,t,n)){if(t||!pAe(e,r,f,l,n))return!1;a===null&&(a=new Set),a.add(f)}}}if(a!==null){for(var c=_j(r),v=0;v<c.length;v++){var m=xj(c[v],2),x=m[0],A=m[1];if(ws(x)==="object"&&x!==null){if(!Rj(a,e,x,A,t,n))return!1}else if(!t&&(!e.has(x)||!As(e.get(x),A,!1,n))&&!Rj(a,e,x,A,!1,n))return!1}return a.size===0}return!0}function mAe(e,r,t,n,a,o){var i=0;if(o===Ij){if(!gAe(e,r,t,a))return!1}else if(o===Pj){if(!yAe(e,r,t,a))return!1}else if(o===PM)for(;i<e.length;i++)if(Ng(e,i)){if(!Ng(r,i)||!As(e[i],r[i],t,a))return!1}else{if(Ng(r,i))return!1;for(var s=Object.keys(e);i<s.length;i++){var f=s[i];if(!Ng(r,f)||!As(e[f],r[f],t,a))return!1}return s.length===Object.keys(r).length}for(i=0;i<n.length;i++){var l=n[i];if(!As(e[l],r[l],t,a))return!1}return!0}function xAe(e,r){return As(e,r,lAe)}function bAe(e,r){return As(e,r,sAe)}Nj.exports={isDeepEqual:xAe,isDeepStrictEqual:bAe}});var Vb=ie((oqe,tJ)=>{"use strict";function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qs(e)}function qj(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wAe(n.key),n)}}function _Ae(e,r,t){return r&&qj(e.prototype,r),t&&qj(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wAe(e){var r=AAe(e,"string");return Qs(r)==="symbol"?r:String(r)}function AAe(e,r){if(Qs(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Qs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function TAe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var MAe=bM(),Bg=MAe.codes,zj=Bg.ERR_AMBIGUOUS_ARGUMENT,od=Bg.ERR_INVALID_ARG_TYPE,EAe=Bg.ERR_INVALID_ARG_VALUE,SAe=Bg.ERR_INVALID_RETURN_VALUE,Wu=Bg.ERR_MISSING_ARGS,Xu=kZ(),CAe=ad(),t5=CAe.inspect,Vj=ad().types,kAe=Vj.isPromise,n5=Vj.isRegExp,LAe=$Z()(),Yj=Zb()(),a5=ed()("RegExp.prototype.test"),Yu,i5;function qg(){var e=Bj();Yu=e.isDeepEqual,i5=e.isDeepStrictEqual}var Uj=!1,ha=tJ.exports=OM,o5={};function el(e){throw e.message instanceof Error?e.message:new Xu(e)}function Wj(e,r,t,n,a){var o=arguments.length,i;if(o===0)i="Failed";else if(o===1)t=e,e=void 0;else{if(Uj===!1){Uj=!0;var s=process.emitWarning?process.emitWarning:console.warn.bind(console);s("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(t instanceof Error)throw t;var f={actual:e,expected:r,operator:n===void 0?"fail":n,stackStartFn:a||Wj};t!==void 0&&(f.message=t);var l=new Xu(f);throw i&&(l.message=i,l.generatedMessage=!0),l}ha.fail=Wj;ha.AssertionError=Xu;function Xj(e,r,t,n){if(!t){var a=!1;if(r===0)a=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new Xu({actual:t,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=a,o}}function OM(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];Xj.apply(void 0,[OM,r.length].concat(r))}ha.ok=OM;ha.equal=function e(r,t,n){if(arguments.length<2)throw new Wu("actual","expected");r!=t&&el({actual:r,expected:t,message:n,operator:"==",stackStartFn:e})};ha.notEqual=function e(r,t,n){if(arguments.length<2)throw new Wu("actual","expected");r==t&&el({actual:r,expected:t,message:n,operator:"!=",stackStartFn:e})};ha.deepEqual=function e(r,t,n){if(arguments.length<2)throw new Wu("actual","expected");Yu===void 0&&qg(),Yu(r,t)||el({actual:r,expected:t,message:n,operator:"deepEqual",stackStartFn:e})};ha.notDeepEqual=function e(r,t,n){if(arguments.length<2)throw new Wu("actual","expected");Yu===void 0&&qg(),Yu(r,t)&&el({actual:r,expected:t,message:n,operator:"notDeepEqual",stackStartFn:e})};ha.deepStrictEqual=function e(r,t,n){if(arguments.length<2)throw new Wu("actual","expected");Yu===void 0&&qg(),i5(r,t)||el({actual:r,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:e})};ha.notDeepStrictEqual=Zj;function Zj(e,r,t){if(arguments.length<2)throw new Wu("actual","expected");Yu===void 0&&qg(),i5(e,r)&&el({actual:e,expected:r,message:t,operator:"notDeepStrictEqual",stackStartFn:Zj})}ha.strictEqual=function e(r,t,n){if(arguments.length<2)throw new Wu("actual","expected");Yj(r,t)||el({actual:r,expected:t,message:n,operator:"strictEqual",stackStartFn:e})};ha.notStrictEqual=function e(r,t,n){if(arguments.length<2)throw new Wu("actual","expected");Yj(r,t)&&el({actual:r,expected:t,message:n,operator:"notStrictEqual",stackStartFn:e})};var Gj=_Ae(function e(r,t,n){var a=this;TAe(this,e),t.forEach(function(o){o in r&&(n!==void 0&&typeof n[o]=="string"&&n5(r[o])&&a5(r[o],n[o])?a[o]=n[o]:a[o]=r[o])})});function RAe(e,r,t,n,a,o){if(!(t in e)||!i5(e[t],r[t])){if(!n){var i=new Gj(e,a),s=new Gj(r,a,e),f=new Xu({actual:i,expected:s,operator:"deepStrictEqual",stackStartFn:o});throw f.actual=e,f.expected=r,f.operator=o.name,f}el({actual:e,expected:r,message:n,operator:o.name,stackStartFn:o})}}function jj(e,r,t,n){if(typeof r!="function"){if(n5(r))return a5(r,e);if(arguments.length===2)throw new od("expected",["Function","RegExp"],r);if(Qs(e)!=="object"||e===null){var a=new Xu({actual:e,expected:r,message:t,operator:"deepStrictEqual",stackStartFn:n});throw a.operator=n.name,a}var o=Object.keys(r);if(r instanceof Error)o.push("name","message");else if(o.length===0)throw new EAe("error",r,"may not be an empty object");return Yu===void 0&&qg(),o.forEach(function(i){typeof e[i]=="string"&&n5(r[i])&&a5(r[i],e[i])||RAe(e,r,i,t,o,n)}),!0}return r.prototype!==void 0&&e instanceof r?!0:Error.isPrototypeOf(r)?!1:r.call({},e)===!0}function Jj(e){if(typeof e!="function")throw new od("fn","Function",e);try{e()}catch(r){return r}return o5}function Hj(e){return kAe(e)||e!==null&&Qs(e)==="object"&&typeof e.then=="function"&&typeof e.catch=="function"}function $j(e){return Promise.resolve().then(function(){var r;if(typeof e=="function"){if(r=e(),!Hj(r))throw new SAe("instance of Promise","promiseFn",r)}else if(Hj(e))r=e;else throw new od("promiseFn",["Function","Promise"],e);return Promise.resolve().then(function(){return r}).then(function(){return o5}).catch(function(t){return t})})}function Kj(e,r,t,n){if(typeof t=="string"){if(arguments.length===4)throw new od("error",["Object","Error","Function","RegExp"],t);if(Qs(r)==="object"&&r!==null){if(r.message===t)throw new zj("error/message",'The error message "'.concat(r.message,'" is identical to the message.'))}else if(r===t)throw new zj("error/message",'The error "'.concat(r,'" is identical to the message.'));n=t,t=void 0}else if(t!=null&&Qs(t)!=="object"&&typeof t!="function")throw new od("error",["Object","Error","Function","RegExp"],t);if(r===o5){var a="";t&&t.name&&(a+=" (".concat(t.name,")")),a+=n?": ".concat(n):".";var o=e.name==="rejects"?"rejection":"exception";el({actual:void 0,expected:t,operator:e.name,message:"Missing expected ".concat(o).concat(a),stackStartFn:e})}if(t&&!jj(r,t,n,e))throw r}function Qj(e,r,t,n){if(r!==o5){if(typeof t=="string"&&(n=t,t=void 0),!t||jj(r,t)){var a=n?": ".concat(n):".",o=e.name==="doesNotReject"?"rejection":"exception";el({actual:r,expected:t,operator:e.name,message:"Got unwanted ".concat(o).concat(a,`
`)+'Actual message: "'.concat(r&&r.message,'"'),stackStartFn:e})}throw r}}ha.throws=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];Kj.apply(void 0,[e,Jj(r)].concat(n))};ha.rejects=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return $j(r).then(function(o){return Kj.apply(void 0,[e,o].concat(n))})};ha.doesNotThrow=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];Qj.apply(void 0,[e,Jj(r)].concat(n))};ha.doesNotReject=function e(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return $j(r).then(function(o){return Qj.apply(void 0,[e,o].concat(n))})};ha.ifError=function e(r){if(r!=null){var t="ifError got unwanted exception: ";Qs(r)==="object"&&typeof r.message=="string"?r.message.length===0&&r.constructor?t+=r.constructor.name:t+=r.message:t+=t5(r);var n=new Xu({actual:r,expected:null,operator:"ifError",message:t,stackStartFn:e}),a=r.stack;if(typeof a=="string"){var o=a.split(`
`);o.shift();for(var i=n.stack.split(`
`),s=0;s<o.length;s++){var f=i.indexOf(o[s]);if(f!==-1){i=i.slice(0,f);break}}n.stack="".concat(i.join(`
`),`
`).concat(o.join(`
`))}throw n}};function eJ(e,r,t,n,a){if(!n5(r))throw new od("regexp","RegExp",r);var o=a==="match";if(typeof e!="string"||a5(r,e)!==o){if(t instanceof Error)throw t;var i=!t;t=t||(typeof e!="string"?'The "string" argument must be of type string. Received type '+"".concat(Qs(e)," (").concat(t5(e),")"):(o?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(t5(r),`. Input:

`).concat(t5(e),`
`));var s=new Xu({actual:e,expected:r,message:t,operator:a,stackStartFn:n});throw s.generatedMessage=i,s}}ha.match=function e(r,t,n){eJ(r,t,n,e,"match")};ha.doesNotMatch=function e(r,t,n){eJ(r,t,n,e,"doesNotMatch")};function rJ(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];Xj.apply(void 0,[rJ,r.length].concat(r))}ha.strict=LAe(rJ,ha,{equal:ha.strictEqual,deepEqual:ha.deepStrictEqual,notEqual:ha.notStrictEqual,notDeepEqual:ha.notDeepStrictEqual});ha.strict.strict=ha.strict});var iJ=ie((sqe,aJ)=>{"use strict";var DAe=ep(),FAe=q8(),IAe=TW(),PAe=U8(),nJ=Vb();aJ.exports=OAe;function OAe(e){if(Array.isArray(e)&&e.length===1&&typeof e[0]=="string"&&(e=e[0]),typeof e=="string"&&(nJ(PAe(e),"String is not an SVG path."),e=DAe(e)),nJ(Array.isArray(e),"Argument should be a string or an array of path segments."),e=FAe(e),e=IAe(e),!e.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,n=e.length;t<n;t++)for(var a=e[t].slice(1),o=0;o<a.length;o+=2)a[o+0]<r[0]&&(r[0]=a[o+0]),a[o+1]<r[1]&&(r[1]=a[o+1]),a[o+0]>r[2]&&(r[2]=a[o+0]),a[o+1]>r[3]&&(r[3]=a[o+1]);return r}});var cJ=ie((lqe,uJ)=>{var D0=Math.PI,oJ=fJ(120);uJ.exports=NAe;function NAe(e){for(var r,t=[],n=0,a=0,o=0,i=0,s=null,f=null,l=0,u=0,c=0,v=e.length;c<v;c++){var m=e[c],x=m[0];switch(x){case"M":o=m[1],i=m[2];break;case"A":m=lJ(l,u,m[1],m[2],fJ(m[3]),m[4],m[5],m[6],m[7]),m.unshift("C"),m.length>7&&(t.push(m.splice(0,7)),m.unshift("C"));break;case"S":var A=l,w=u;(r=="C"||r=="S")&&(A+=A-n,w+=w-a),m=["C",A,w,m[1],m[2],m[3],m[4]];break;case"T":r=="Q"||r=="T"?(s=l*2-s,f=u*2-f):(s=l,f=u),m=sJ(l,u,s,f,m[1],m[2]);break;case"Q":s=m[1],f=m[2],m=sJ(l,u,m[1],m[2],m[3],m[4]);break;case"L":m=s5(l,u,m[1],m[2]);break;case"H":m=s5(l,u,m[1],u);break;case"V":m=s5(l,u,l,m[1]);break;case"Z":m=s5(l,u,o,i);break}r=x,l=m[m.length-2],u=m[m.length-1],m.length>4?(n=m[m.length-4],a=m[m.length-3]):(n=l,a=u),t.push(m)}return t}function s5(e,r,t,n){return["C",e,r,t,n,t,n]}function sJ(e,r,t,n,a,o){return["C",e/3+2/3*t,r/3+2/3*n,a/3+2/3*t,o/3+2/3*n,a,o]}function lJ(e,r,t,n,a,o,i,s,f,l){if(l)M=l[0],b=l[1],y=l[2],_=l[3];else{var u=NM(e,r,-a);e=u.x,r=u.y,u=NM(s,f,-a),s=u.x,f=u.y;var c=(e-s)/2,v=(r-f)/2,m=c*c/(t*t)+v*v/(n*n);m>1&&(m=Math.sqrt(m),t=m*t,n=m*n);var x=t*t,A=n*n,w=(o==i?-1:1)*Math.sqrt(Math.abs((x*A-x*v*v-A*c*c)/(x*v*v+A*c*c)));w==1/0&&(w=1);var y=w*t*v/n+(e+s)/2,_=w*-n*c/t+(r+f)/2,M=Math.asin(((r-_)/n).toFixed(9)),b=Math.asin(((f-_)/n).toFixed(9));M=e<y?D0-M:M,b=s<y?D0-b:b,M<0&&(M=D0*2+M),b<0&&(b=D0*2+b),i&&M>b&&(M=M-D0*2),!i&&b>M&&(b=b-D0*2)}if(Math.abs(b-M)>oJ){var E=b,d=s,T=f;b=M+oJ*(i&&b>M?1:-1),s=y+t*Math.cos(b),f=_+n*Math.sin(b);var g=lJ(s,f,t,n,a,0,i,d,T,[b,E,y,_])}var h=Math.tan((b-M)/4),S=4/3*t*h,p=4/3*n*h,C=[2*e-(e+S*Math.sin(M)),2*r-(r-p*Math.cos(M)),s+S*Math.sin(b),f-p*Math.cos(b),s,f];if(l)return C;g&&(C=C.concat(g));for(var k=0;k<C.length;){var D=NM(C[k],C[k+1],a);C[k++]=D.x,C[k++]=D.y}return C}function NM(e,r,t){return{x:e*Math.cos(t)-r*Math.sin(t),y:e*Math.sin(t)+r*Math.cos(t)}}function fJ(e){return e*(D0/180)}});var vJ=ie((fqe,hJ)=>{var BAe=q8(),qAe=cJ(),zAe={M:"moveTo",C:"bezierCurveTo"};hJ.exports=function(e,r){e.beginPath(),qAe(BAe(r)).forEach(function(t){var n=t[0],a=t.slice(1);e[zAe[n]].apply(e,a)}),e.closePath()}});var yJ=ie((uqe,gJ)=>{"use strict";var UAe=Wv();gJ.exports=GAe;var zg=1e20;function GAe(e,r){r||(r={});var t=r.cutoff==null?.25:r.cutoff,n=r.radius==null?8:r.radius,a=r.channel||0,o,i,s,f,l,u,c,v,m,x,A;if(ArrayBuffer.isView(e)||Array.isArray(e)){if(!r.width||!r.height)throw Error("For raw data width and height should be provided by options");o=r.width,i=r.height,f=e,r.stride?u=r.stride:u=Math.floor(e.length/o/i)}else window.HTMLCanvasElement&&e instanceof window.HTMLCanvasElement?(v=e,c=v.getContext("2d"),o=v.width,i=v.height,m=c.getImageData(0,0,o,i),f=m.data,u=4):window.CanvasRenderingContext2D&&e instanceof window.CanvasRenderingContext2D?(v=e.canvas,c=e,o=v.width,i=v.height,m=c.getImageData(0,0,o,i),f=m.data,u=4):window.ImageData&&e instanceof window.ImageData&&(m=e,o=e.width,i=e.height,f=m.data,u=4);if(s=Math.max(o,i),window.Uint8ClampedArray&&f instanceof window.Uint8ClampedArray||window.Uint8Array&&f instanceof window.Uint8Array)for(l=f,f=Array(o*i),x=0,A=l.length;x<A;x++)f[x]=l[x*u+a]/255;else if(u!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(o*i),y=Array(o*i),_=Array(s),M=Array(s),b=Array(s+1),E=Array(s);for(x=0,A=o*i;x<A;x++){var d=f[x];w[x]=d===1?0:d===0?zg:Math.pow(Math.max(0,.5-d),2),y[x]=d===1?zg:d===0?0:Math.pow(Math.max(0,d-.5),2)}dJ(w,o,i,_,M,E,b),dJ(y,o,i,_,M,E,b);var T=window.Float32Array?new Float32Array(o*i):new Array(o*i);for(x=0,A=o*i;x<A;x++)T[x]=UAe(1-((w[x]-y[x])/n+t),0,1);return T}function dJ(e,r,t,n,a,o,i){for(var s=0;s<r;s++){for(var f=0;f<t;f++)n[f]=e[f*r+s];for(pJ(n,a,o,i,t),f=0;f<t;f++)e[f*r+s]=a[f]}for(f=0;f<t;f++){for(s=0;s<r;s++)n[s]=e[f*r+s];for(pJ(n,a,o,i,r),s=0;s<r;s++)e[f*r+s]=Math.sqrt(a[s])}}function pJ(e,r,t,n,a){t[0]=0,n[0]=-zg,n[1]=+zg;for(var o=1,i=0;o<a;o++){for(var s=(e[o]+o*o-(e[t[i]]+t[i]*t[i]))/(2*o-2*t[i]);s<=n[i];)i--,s=(e[o]+o*o-(e[t[i]]+t[i]*t[i]))/(2*o-2*t[i]);i++,t[i]=o,n[i]=s,n[i+1]=+zg}for(o=0,i=0;o<a;o++){for(;n[i+1]<o;)i++;r[o]=(o-t[i])*(o-t[i])+e[t[i]]}}});var xJ=ie((cqe,mJ)=>{"use strict";var HAe=iJ(),VAe=ep(),YAe=vJ(),WAe=U8(),XAe=yJ(),BM=document.createElement("canvas"),io=BM.getContext("2d");mJ.exports=ZAe;function ZAe(e,r){if(!WAe(e))throw Error("Argument should be valid svg path string");r||(r={});var t,n;r.shape?(t=r.shape[0],n=r.shape[1]):(t=BM.width=r.w||r.width||200,n=BM.height=r.h||r.height||200);var a=Math.min(t,n),o=r.stroke||0,i=r.viewbox||r.viewBox||HAe(e),s=[t/(i[2]-i[0]),n/(i[3]-i[1])],f=Math.min(s[0]||0,s[1]||0)/2;if(io.fillStyle="black",io.fillRect(0,0,t,n),io.fillStyle="white",o&&(typeof o!="number"&&(o=1),o>0?io.strokeStyle="white":io.strokeStyle="black",io.lineWidth=Math.abs(o)),io.translate(t*.5,n*.5),io.scale(f,f),jAe()){var l=new Path2D(e);io.fill(l),o&&io.stroke(l)}else{var u=VAe(e);YAe(io,u),io.fill(),o&&io.stroke()}io.setTransform(1,0,0,1,0,0);var c=XAe(io,{cutoff:r.cutoff!=null?r.cutoff:.5,radius:r.radius!=null?r.radius:a*.5});return c}var l5;function jAe(){if(l5!=null)return l5;var e=document.createElement("canvas").getContext("2d");if(e.canvas.width=e.canvas.height=1,!window.Path2D)return l5=!1;var r=new Path2D("M0,0h1v1h-1v-1Z");e.fillStyle="black",e.fill(r);var t=e.getImageData(0,0,1,1);return l5=t&&t.data&&t.data[3]===255}});var _J=ie((hqe,bJ)=>{"use strict";bJ.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var MJ=ie((vqe,TJ)=>{"use strict";var wJ=_J();TJ.exports=JAe;var AJ={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function JAe(e){var r,t=[],n=1,a;if(typeof e=="string")if(e=e.toLowerCase(),wJ[e])t=wJ[e].slice(),a="rgb";else if(e==="transparent")n=0,a="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var o=e.slice(1),i=o.length,s=i<=4;n=1,s?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],i===4&&(n=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],i===8&&(n=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),a="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var f=r[1],l=f==="rgb",o=f.replace(/a$/,"");a=o;var i=o==="cmyk"?4:o==="gray"?1:3;t=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(v,m){if(/%$/.test(v))return m===i?parseFloat(v)/100:o==="rgb"?parseFloat(v)*255/100:parseFloat(v);if(o[m]==="h"){if(/deg$/.test(v))return parseFloat(v);if(AJ[v]!==void 0)return AJ[v]}return parseFloat(v)}),f===o&&t.push(1),n=l||t[i]===void 0?1:t[i],t=t.slice(0,i)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(t=e.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),a=e.match(/([a-z])/ig).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(t=[e[0],e[1],e[2]],a="rgb",n=e.length===4?e[3]:1):e instanceof Object&&(e.r!=null||e.red!=null||e.R!=null?(a="rgb",t=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(a="hsl",t=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),n=e.a||e.alpha||e.opacity||1,e.opacity!=null&&(n/=100)):(a="rgb",t=[e>>>16,(e&65280)>>>8,e&255]);return{space:a,values:t,alpha:n}}});var SJ=ie((dqe,EJ)=>{"use strict";EJ.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}});var kJ=ie((pqe,CJ)=>{"use strict";var $Ae=SJ();CJ.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var r=e[0]/360,t=e[1]/100,n=e[2]/100,a,o,i,s,f;if(t===0)return f=n*255,[f,f,f];n<.5?o=n*(1+t):o=n+t-n*t,a=2*n-o,s=[0,0,0];for(var l=0;l<3;l++)i=r+1/3*-(l-1),i<0?i++:i>1&&i--,6*i<1?f=a+(o-a)*6*i:2*i<1?f=o:3*i<2?f=a+(o-a)*(2/3-i)*6:f=a,s[l]=f*255;return s}};$Ae.hsl=function(e){var r=e[0]/255,t=e[1]/255,n=e[2]/255,a=Math.min(r,t,n),o=Math.max(r,t,n),i=o-a,s,f,l;return o===a?s=0:r===o?s=(t-n)/i:t===o?s=2+(n-r)/i:n===o&&(s=4+(r-t)/i),s=Math.min(s*60,360),s<0&&(s+=360),l=(a+o)/2,o===a?f=0:l<=.5?f=i/(o+a):f=i/(2-o-a),[s,f*100,l*100]}});var qM=ie((gqe,LJ)=>{"use strict";var KAe=MJ(),QAe=kJ(),f5=Wv();LJ.exports=function(r){var t,n,a,o=KAe(r);return o.space?(t=Array(3),t[0]=f5(o.values[0],0,255),t[1]=f5(o.values[1],0,255),t[2]=f5(o.values[2],0,255),o.space[0]==="h"&&(t=QAe.rgb(t)),t.push(f5(o.alpha,0,1)),t):[]}});var Zu=ie((yqe,RJ)=>{"use strict";var eTe=qM(),u5=Wv(),rTe=hb();RJ.exports=function(r,t){(t==="float"||!t)&&(t="array"),t==="uint"&&(t="uint8"),t==="uint_clamped"&&(t="uint8_clamped");var n=rTe(t),a=new n(4),o=t!=="uint8"&&t!=="uint8_clamped";return(!r.length||typeof r=="string")&&(r=eTe(r),r[0]/=255,r[1]/=255,r[2]/=255),tTe(r)?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:255,o&&(a[0]/=255,a[1]/=255,a[2]/=255,a[3]/=255),a):(o?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:1):(a[0]=u5(Math.floor(r[0]*255),0,255),a[1]=u5(Math.floor(r[1]*255),0,255),a[2]=u5(Math.floor(r[2]*255),0,255),a[3]=r[3]==null?255:u5(Math.floor(r[3]*255),0,255)),a)};function tTe(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}});var qJ=ie((mqe,BJ)=>{"use strict";var OJ=cn(),nTe=Is(),c5=Zu(),h5=$h(),aTe=pl().defaultLine,DJ=mo().isArrayOrTypedArray,zM=c5(aTe),NJ=1;function FJ(e,r){var t=e;return t[3]*=r,t}function IJ(e){if(OJ(e))return zM;var r=c5(e);return r.length?r:zM}function PJ(e){return OJ(e)?e:NJ}function iTe(e,r,t){var n=e.color;n&&n._inputArray&&(n=n._inputArray);var a=DJ(n),o=DJ(r),i=h5.extractOpts(e),s=[],f,l,u,c,v;if(i.colorscale!==void 0?f=h5.makeColorScaleFuncFromTrace(e):f=IJ,a?l=function(x,A){return x[A]===void 0?zM:c5(f(x[A]))}:l=IJ,o?u=function(x,A){return x[A]===void 0?NJ:PJ(x[A])}:u=PJ,a||o)for(var m=0;m<t;m++)c=l(n,m),v=u(r,m),s[m]=FJ(c,v);else s=FJ(c5(n),r);return s}function oTe(e){var r=h5.extractOpts(e),t=r.colorscale;return r.reversescale&&(t=h5.flipScale(r.colorscale)),t.map(function(n){var a=n[0],o=nTe(n[1]),i=o.toRgb();return{index:a,rgb:[i.r,i.g,i.b,i.a]}})}BJ.exports={formatColor:iTe,parseColorScale:oTe}});var Gg=ie((xqe,JJ)=>{"use strict";var d5=cn(),sTe=xJ(),v5=Zu(),lTe=Dt(),fd=wr(),La=fd.isArrayOrTypedArray,sd=zn(),zJ=ya(),UJ=qJ().formatColor,ld=hi(),fTe=F4(),GM=ub(),Ug=Vv(),uTe=Dh().DESELECTDIM,GJ={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},cTe=hf().appendArrayPointValue;function hTe(e,r){var t,n={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},a=e._context.plotGlPixelRatio;if(r.visible!==!0)return n;if(ld.hasText(r)&&(n.text=jJ(e,r),n.textSel=VJ(e,r,r.selected),n.textUnsel=VJ(e,r,r.unselected)),ld.hasMarkers(r)&&(n.marker=VM(e,r),n.markerSel=HM(e,r,r.selected),n.markerUnsel=HM(e,r,r.unselected),!r.unselected&&La(r.marker.opacity))){var o=r.marker.opacity;for(n.markerUnsel.opacity=new Array(o.length),t=0;t<o.length;t++)n.markerUnsel.opacity[t]=uTe*o[t]}if(ld.hasLines(r)){n.line={overlay:!0,thickness:r.line.width*a,color:r.line.color,opacity:r.opacity};var i=(Ug.DASHES[r.line.dash]||[1]).slice();for(t=0;t<i.length;++t)i[t]*=r.line.width*a;n.line.dashes=i}return r.error_x&&r.error_x.visible&&(n.errorX=YJ(r,r.error_x,a)),r.error_y&&r.error_y.visible&&(n.errorY=YJ(r,r.error_y,a)),r.fill&&r.fill!=="none"&&(n.fill={closed:!0,fill:r.fillcolor,thickness:0}),n}function jJ(e,r){var t=e._fullLayout,n=r._length,a=r.textfont,o=r.textposition,i=La(o)?o:[o],s=a.color,f=a.size,l=a.family,u=a.weight,c=a.style,v=a.variant,m={},x,A=e._context.plotGlPixelRatio,w=r.texttemplate;if(w){m.text=[];var y=t._d3locale,_=Array.isArray(w),M=_?Math.min(w.length,n):n,b=_?function(p){return w[p]}:function(){return w};for(x=0;x<M;x++){var E={i:x},d=r._module.formatLabels(E,r,t),T={};cTe(T,r,x);var g=r._meta||{};m.text.push(fd.texttemplateString(b(x),d,y,T,E,g))}}else La(r.text)&&r.text.length<n?m.text=r.text.slice():m.text=r.text;if(La(m.text))for(x=m.text.length;x<n;x++)m.text[x]="";for(m.opacity=r.opacity,m.font={},m.align=[],m.baseline=[],x=0;x<i.length;x++){var h=i[x].split(/\s+/);switch(h[1]){case"left":m.align.push("right");break;case"right":m.align.push("left");break;default:m.align.push(h[1])}switch(h[0]){case"top":m.baseline.push("bottom");break;case"bottom":m.baseline.push("top");break;default:m.baseline.push(h[0])}}if(La(s))for(m.color=new Array(n),x=0;x<n;x++)m.color[x]=s[x];else m.color=s;if(La(f)||Array.isArray(l)||La(u)||Array.isArray(c)||Array.isArray(v))for(m.font=new Array(n),x=0;x<n;x++){var S=m.font[x]={};S.size=(fd.isTypedArray(f)?f[x]:La(f)?d5(f[x])?f[x]:0:f)*A,S.family=Array.isArray(l)?l[x]:l,S.weight=HJ(La(u)?u[x]:u),S.style=Array.isArray(c)?c[x]:c,S.variant=Array.isArray(v)?v[x]:v}else m.font={size:f*A,family:l,weight:HJ(u),style:c,variant:v};return m}function HJ(e){return e<=1e3?e>500?"bold":"normal":e}function VM(e,r){var t=r._length,n=r.marker,a={},o,i=La(n.symbol),s=La(n.angle),f=La(n.color),l=La(n.line.color),u=La(n.opacity),c=La(n.size),v=La(n.line.width),m;if(i||(m=GM.isOpenSymbol(n.symbol)),i||f||l||u||s){a.symbols=new Array(t),a.angles=new Array(t),a.colors=new Array(t),a.borderColors=new Array(t);var x=n.symbol,A=n.angle,w=UJ(n,n.opacity,t),y=UJ(n.line,n.opacity,t);if(!La(y[0])){var _=y;for(y=Array(t),o=0;o<t;o++)y[o]=_}if(!La(w[0])){var M=w;for(w=Array(t),o=0;o<t;o++)w[o]=M}if(!La(x)){var b=x;for(x=Array(t),o=0;o<t;o++)x[o]=b}if(!La(A)){var E=A;for(A=Array(t),o=0;o<t;o++)A[o]=E}for(a.symbols=x,a.angles=A,a.colors=w,a.borderColors=y,o=0;o<t;o++)i&&(m=GM.isOpenSymbol(n.symbol[o])),m&&(y[o]=w[o].slice(),w[o]=w[o].slice(),w[o][3]=0);for(a.opacity=r.opacity,a.markers=new Array(t),o=0;o<t;o++)a.markers[o]=ZJ({mx:a.symbols[o],ma:a.angles[o]},r)}else m?(a.color=v5(n.color,"uint8"),a.color[3]=0,a.borderColor=v5(n.color,"uint8")):(a.color=v5(n.color,"uint8"),a.borderColor=v5(n.line.color,"uint8")),a.opacity=r.opacity*n.opacity,a.marker=ZJ({mx:n.symbol,ma:n.angle},r);var d=1,T=fTe(r,d),g;if(c||v){var h=a.sizes=new Array(t),S=a.borderSizes=new Array(t),p=0,C;if(c){for(o=0;o<t;o++)h[o]=T(n.size[o]),p+=h[o];C=p/t}else for(g=T(n.size),o=0;o<t;o++)h[o]=g;if(v)for(o=0;o<t;o++)S[o]=n.line.width[o];else for(g=n.line.width,o=0;o<t;o++)S[o]=g;a.sizeAvg=C}else a.size=T(n&&n.size||10),a.borderSizes=T(n.line.width);return a}function HM(e,r,t){var n=r.marker,a={};return t&&(t.marker&&t.marker.symbol?a=VM(e,fd.extendFlat({},n,t.marker)):t.marker&&(t.marker.size&&(a.size=t.marker.size),t.marker.color&&(a.colors=t.marker.color),t.marker.opacity!==void 0&&(a.opacity=t.marker.opacity))),a}function VJ(e,r,t){var n={};if(!t)return n;if(t.textfont){var a={opacity:1,text:r.text,texttemplate:r.texttemplate,textposition:r.textposition,textfont:fd.extendFlat({},r.textfont)};t.textfont&&fd.extendFlat(a.textfont,t.textfont),n=jJ(e,a)}return n}function YJ(e,r,t){var n={capSize:r.width*2*t,lineWidth:r.thickness*t,color:r.color};return r.copy_ystyle&&(n=e.error_y),n}var WJ=Ug.SYMBOL_SDF_SIZE,F0=Ug.SYMBOL_SIZE,XJ=Ug.SYMBOL_STROKE,UM={},vTe=sd.symbolFuncs[0](F0*.05);function ZJ(e,r){var t=e.mx;if(t==="circle")return null;var n,a,o=sd.symbolNumber(t),i=sd.symbolFuncs[o%100],s=!!sd.symbolNoDot[o%100],f=!!sd.symbolNoFill[o%100],l=GM.isDotSymbol(t);if(e.ma&&(t+="_"+e.ma),UM[t])return UM[t];var u=sd.getMarkerAngle(e,r);return l&&!s?n=i(F0*1.1,u)+vTe:n=i(F0,u),a=sTe(n,{w:WJ,h:WJ,viewBox:[-F0,-F0,F0,F0],stroke:f?XJ:-XJ}),UM[t]=a,a||null}function dTe(e,r,t){var n=t.length,a=n/2,o,i;if(ld.hasLines(r)&&a)if(r.line.shape==="hv"){for(o=[],i=0;i<a-1;i++)isNaN(t[i*2])||isNaN(t[i*2+1])?o.push(NaN,NaN,NaN,NaN):(o.push(t[i*2],t[i*2+1]),!isNaN(t[i*2+2])&&!isNaN(t[i*2+3])?o.push(t[i*2+2],t[i*2+1]):o.push(NaN,NaN));o.push(t[n-2],t[n-1])}else if(r.line.shape==="hvh"){for(o=[],i=0;i<a-1;i++)if(isNaN(t[i*2])||isNaN(t[i*2+1])||isNaN(t[i*2+2])||isNaN(t[i*2+3]))!isNaN(t[i*2])&&!isNaN(t[i*2+1])?o.push(t[i*2],t[i*2+1]):o.push(NaN,NaN),o.push(NaN,NaN);else{var s=(t[i*2]+t[i*2+2])/2;o.push(t[i*2],t[i*2+1],s,t[i*2+1],s,t[i*2+3])}o.push(t[n-2],t[n-1])}else if(r.line.shape==="vhv"){for(o=[],i=0;i<a-1;i++)if(isNaN(t[i*2])||isNaN(t[i*2+1])||isNaN(t[i*2+2])||isNaN(t[i*2+3]))!isNaN(t[i*2])&&!isNaN(t[i*2+1])?o.push(t[i*2],t[i*2+1]):o.push(NaN,NaN),o.push(NaN,NaN);else{var f=(t[i*2+1]+t[i*2+3])/2;o.push(t[i*2],t[i*2+1],t[i*2],f,t[i*2+2],f)}o.push(t[n-2],t[n-1])}else if(r.line.shape==="vh"){for(o=[],i=0;i<a-1;i++)isNaN(t[i*2])||isNaN(t[i*2+1])?o.push(NaN,NaN,NaN,NaN):(o.push(t[i*2],t[i*2+1]),!isNaN(t[i*2+2])&&!isNaN(t[i*2+3])?o.push(t[i*2],t[i*2+3]):o.push(NaN,NaN));o.push(t[n-2],t[n-1])}else o=t;var l=!1;for(i=0;i<o.length;i++)if(isNaN(o[i])){l=!0;break}var u=l||o.length>Ug.TOO_MANY_POINTS||ld.hasMarkers(r)?"rect":"round";if(l&&r.connectgaps){var c=o[0],v=o[1];for(i=0;i<o.length;i+=2)isNaN(o[i])||isNaN(o[i+1])?(o[i]=c,o[i+1]=v):(c=o[i],v=o[i+1])}return{join:u,positions:o}}function pTe(e,r,t,n,a){var o=lTe.getComponentMethod("errorbars","makeComputeError"),i=zJ.getFromId(e,r.xaxis,"x"),s=zJ.getFromId(e,r.yaxis,"y"),f=t.length/2,l={};function u(c,v){var m=v._id.charAt(0),x=r["error_"+m];if(x&&x.visible&&(v.type==="linear"||v.type==="log")){for(var A=o(x),w={x:0,y:1}[m],y={x:[0,1,2,3],y:[2,3,0,1]}[m],_=new Float64Array(4*f),M=1/0,b=-1/0,E=0,d=0;E<f;E++,d+=4){var T=c[E];if(d5(T)){var g=t[E*2+w],h=A(T,E),S=h[0],p=h[1];if(d5(S)&&d5(p)){var C=T-S,k=T+p;_[d+y[0]]=g-v.c2l(C),_[d+y[1]]=v.c2l(k)-g,_[d+y[2]]=0,_[d+y[3]]=0,M=Math.min(M,T-S),b=Math.max(b,T+p)}}}l[m]={positions:t,errors:_,_bnds:[M,b]}}}return u(n,i),u(a,s),l}function gTe(e,r,t,n){var a=r._length,o={},i;if(ld.hasMarkers(r)){var s=t.font,f=t.align,l=t.baseline;for(o.offset=new Array(a),i=0;i<a;i++){var u=n.sizes?n.sizes[i]:n.size,c=La(s)?s[i].size:s.size,v=La(f)?f.length>1?f[i]:f[0]:f,m=La(l)?l.length>1?l[i]:l[0]:l,x=GJ[v],A=GJ[m],w=u?u/.8+1:0,y=-A*w-A*.5;o.offset[i]=[x*w/c,y/c]}}return o}JJ.exports={style:hTe,markerStyle:VM,markerSelection:HM,linePositions:dTe,errorBarPositions:pTe,textPosition:gTe}});var KJ=ie((bqe,$J)=>{"use strict";var p5=wr();$J.exports=function(r,t){var n=t._scene,a={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},o={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return t._scene||(n=t._scene={},n.init=function(){p5.extendFlat(n,o,a)},n.init(),n.update=function(s){var f=p5.repeat(s,n.count);if(n.fill2d&&n.fill2d.update(f),n.scatter2d&&n.scatter2d.update(f),n.line2d&&n.line2d.update(f),n.error2d&&n.error2d.update(f.concat(f)),n.select2d&&n.select2d.update(f),n.glText)for(var l=0;l<n.count;l++)n.glText[l].update(s)},n.draw=function(){for(var s=n.count,f=n.fill2d,l=n.error2d,u=n.line2d,c=n.scatter2d,v=n.glText,m=n.select2d,x=n.selectBatch,A=n.unselectBatch,w=0;w<s;w++){if(f&&n.fillOrder[w]&&f.draw(n.fillOrder[w]),u&&n.lineOptions[w]&&u.draw(w),l&&(n.errorXOptions[w]&&l.draw(w),n.errorYOptions[w]&&l.draw(w+s)),c&&n.markerOptions[w])if(A[w].length){var y=p5.repeat([],n.count);y[w]=A[w],c.draw(y)}else x[w].length||c.draw(w);v[w]&&n.textOptions[w]&&v[w].render()}m&&m.draw(x),n.dirty=!1},n.destroy=function(){n.fill2d&&n.fill2d.destroy&&n.fill2d.destroy(),n.scatter2d&&n.scatter2d.destroy&&n.scatter2d.destroy(),n.error2d&&n.error2d.destroy&&n.error2d.destroy(),n.line2d&&n.line2d.destroy&&n.line2d.destroy(),n.select2d&&n.select2d.destroy&&n.select2d.destroy(),n.glText&&n.glText.forEach(function(s){s.destroy&&s.destroy()}),n.lineOptions=null,n.fillOptions=null,n.markerOptions=null,n.markerSelectedOptions=null,n.markerUnselectedOptions=null,n.errorXOptions=null,n.errorYOptions=null,n.textOptions=null,n.textSelectedOptions=null,n.textUnselectedOptions=null,n.selectBatch=null,n.unselectBatch=null,t._scene=null}),n.dirty||p5.extendFlat(n,a),n}});var a$=ie((_qe,n$)=>{"use strict";var yTe=B8(),ud=wr(),QJ=ya(),mTe=Au().findExtremes,e$=Jp(),YM=Mv(),xTe=YM.calcMarkerSize,bTe=YM.calcAxisExpansion,_Te=YM.setFirstScatter,wTe=Tv(),cd=Gg(),ATe=KJ(),r$=ta().BADNUM,TTe=Vv().TOO_MANY_POINTS;n$.exports=function(r,t){var n=r._fullLayout,a=t._xA=QJ.getFromId(r,t.xaxis,"x"),o=t._yA=QJ.getFromId(r,t.yaxis,"y"),i=n._plots[t.xaxis+t.yaxis],s=t._length,f=s>=TTe,l=s*2,u={},c,v=a.makeCalcdata(t,"x"),m=o.makeCalcdata(t,"y"),x=e$(t,a,"x",v),A=e$(t,o,"y",m),w=x.vals,y=A.vals;t._x=w,t._y=y,t.xperiodalignment&&(t._origX=v,t._xStarts=x.starts,t._xEnds=x.ends),t.yperiodalignment&&(t._origY=m,t._yStarts=A.starts,t._yEnds=A.ends);var _=new Array(l),M=new Array(s);for(c=0;c<s;c++)_[c*2]=w[c]===r$?NaN:w[c],_[c*2+1]=y[c]===r$?NaN:y[c],M[c]=c;if(a.type==="log")for(c=0;c<l;c+=2)_[c]=a.c2l(_[c]);if(o.type==="log")for(c=1;c<l;c+=2)_[c]=o.c2l(_[c]);f&&a.type!=="log"&&o.type!=="log"?u.tree=yTe(_):u.ids=M,wTe(r,t);var b=MTe(r,i,t,_,w,y),E=ATe(r,i);_Te(n,t);var d;return f?b.marker&&(d=b.marker.sizeAvg||Math.max(b.marker.size,3)):d=xTe(t,s),bTe(r,t,a,o,w,y,d),b.errorX&&t$(t,a,b.errorX),b.errorY&&t$(t,o,b.errorY),b.fill&&!E.fill2d&&(E.fill2d=!0),b.marker&&!E.scatter2d&&(E.scatter2d=!0),b.line&&!E.line2d&&(E.line2d=!0),(b.errorX||b.errorY)&&!E.error2d&&(E.error2d=!0),b.text&&!E.glText&&(E.glText=!0),b.marker&&(b.marker.snap=s),E.lineOptions.push(b.line),E.errorXOptions.push(b.errorX),E.errorYOptions.push(b.errorY),E.fillOptions.push(b.fill),E.markerOptions.push(b.marker),E.markerSelectedOptions.push(b.markerSel),E.markerUnselectedOptions.push(b.markerUnsel),E.textOptions.push(b.text),E.textSelectedOptions.push(b.textSel),E.textUnselectedOptions.push(b.textUnsel),E.selectBatch.push([]),E.unselectBatch.push([]),u._scene=E,u.index=E.count,u.x=w,u.y=y,u.positions=_,E.count++,[{x:!1,y:!1,t:u,trace:t}]};function t$(e,r,t){var n=e._extremes[r._id],a=mTe(r,t._bnds,{padded:!0});n.min=n.min.concat(a.min),n.max=n.max.concat(a.max)}function MTe(e,r,t,n,a,o){var i=cd.style(e,t);if(i.marker&&(i.marker.positions=n),i.line&&n.length>1&&ud.extendFlat(i.line,cd.linePositions(e,t,n)),i.errorX||i.errorY){var s=cd.errorBarPositions(e,t,n,a,o);i.errorX&&ud.extendFlat(i.errorX,s.x),i.errorY&&ud.extendFlat(i.errorY,s.y)}return i.text&&(ud.extendFlat(i.text,{positions:n},cd.textPosition(e,t,i.text,i.marker)),ud.extendFlat(i.textSel,{positions:n},cd.textPosition(e,t,i.text,i.markerSel)),ud.extendFlat(i.textUnsel,{positions:n},cd.textPosition(e,t,i.text,i.markerUnsel))),i}});var WM=ie((wqe,o$)=>{"use strict";var i$=wr(),ETe=pn(),STe=Dh().DESELECTDIM;function CTe(e){var r=e[0],t=r.trace,n=r.t,a=n._scene,o=n.index,i=a.selectBatch[o],s=a.unselectBatch[o],f=a.textOptions[o],l=a.textSelectedOptions[o]||{},u=a.textUnselectedOptions[o]||{},c=i$.extendFlat({},f),v,m;if(i.length||s.length){var x=l.color,A=u.color,w=f.color,y=i$.isArrayOrTypedArray(w);for(c.color=new Array(t._length),v=0;v<i.length;v++)m=i[v],c.color[m]=x||(y?w[m]:w);for(v=0;v<s.length;v++){m=s[v];var _=y?w[m]:w;c.color[m]=A||(x?_:ETe.addOpacity(_,STe))}}a.glText[o].update(c)}o$.exports={styleTextSelection:CTe}});var f$=ie((Aqe,l$)=>{"use strict";var s$=hi(),kTe=WM().styleTextSelection;l$.exports=function(r,t){var n=r.cd,a=r.xaxis,o=r.yaxis,i=[],s=n[0].trace,f=n[0].t,l=s._length,u=f.x,c=f.y,v=f._scene,m=f.index;if(!v)return i;var x=s$.hasText(s),A=s$.hasMarkers(s),w=!A&&!x;if(s.visible!==!0||w)return i;var y=[],_=[];if(t!==!1&&!t.degenerate)for(var M=0;M<l;M++)t.contains([f.xpx[M],f.ypx[M]],!1,M,r)?(y.push(M),i.push({pointNumber:M,x:a.c2d(u[M]),y:o.c2d(c[M])})):_.push(M);if(A){var b=v.scatter2d;if(!y.length&&!_.length){var E=new Array(v.count);E[m]=v.markerOptions[m],b.update.apply(b,E)}else if(!v.selectBatch[m].length&&!v.unselectBatch[m].length){var d=new Array(v.count);d[m]=v.markerUnselectedOptions[m],b.update.apply(b,d)}}return v.selectBatch[m]=y,v.unselectBatch[m]=_,x&&kTe(n),i}});var c$=ie((Tqe,u$)=>{"use strict";var LTe=F8();u$.exports={moduleType:"trace",name:"scattergl",basePlotModule:Dv(),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:fb(),supplyDefaults:YY(),crossTraceDefaults:vT(),colorbar:Ex(),formatLabels:XY(),calc:a$(),hoverPoints:LTe.hoverPoints,selectPoints:f$(),meta:{}}});var v$=ie((Mqe,y5)=>{"use strict";var g5=Wv();y5.exports=h$;y5.exports.to=h$;y5.exports.from=RTe;function h$(e,r){r==null&&(r=!0);var t=e[0],n=e[1],a=e[2],o=e[3];o==null&&(o=r?1:255),r&&(t*=255,n*=255,a*=255,o*=255),t=g5(t,0,255)&255,n=g5(n,0,255)&255,a=g5(a,0,255)&255,o=g5(o,0,255)&255;var i=t*16777216+(n<<16)+(a<<8)+o;return i}function RTe(e,r){e=+e;var t=e>>>24,n=(e&16711680)>>>16,a=(e&65280)>>>8,o=e&255;return r===!1?[t,n,a,o]:[t/255,n/255,a/255,o/255]}});var Ua=ie((Eqe,p$)=>{"use strict";var d$=Object.getOwnPropertySymbols,DTe=Object.prototype.hasOwnProperty,FTe=Object.prototype.propertyIsEnumerable;function ITe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function PTe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}p$.exports=PTe()?Object.assign:function(e,r){for(var t,n=ITe(e),a,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var i in t)DTe.call(t,i)&&(n[i]=t[i]);if(d$){a=d$(t);for(var s=0;s<a.length;s++)FTe.call(t,a[s])&&(n[a[s]]=t[a[s]])}}return n}});var y$=ie((Sqe,g$)=>{g$.exports=function(e){typeof e=="string"&&(e=[e]);for(var r=[].slice.call(arguments,1),t=[],n=0;n<e.length-1;n++)t.push(e[n],r[n]||"");return t.push(e[n]),t.join("")}});var XM=ie((Cqe,m$)=>{"use strict";m$.exports=function(r,t,n){Array.isArray(n)||(n=[].slice.call(arguments,2));for(var a=0,o=n.length;a<o;a++){var i=n[a];for(var s in i)if(!(t[s]!==void 0&&!Array.isArray(t[s])&&r[s]===t[s])&&s in t){var f;if(i[s]===!0)f=t[s];else{if(i[s]===!1)continue;if(typeof i[s]=="function"&&(f=i[s](t[s],r,t),f===void 0))continue}r[s]=f}}return r}});var b$=ie((kqe,x$)=>{"use strict";x$.exports=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))});var m5=ie((Lqe,hd)=>{"use strict";hd.exports=Hg;hd.exports.float32=hd.exports.float=Hg;hd.exports.fract32=hd.exports.fract=OTe;var _$=new Float32Array(1);function OTe(e,r){if(e.length){if(e instanceof Float32Array)return new Float32Array(e.length);r instanceof Float32Array||(r=Hg(e));for(var t=0,n=r.length;t<n;t++)r[t]=e[t]-r[t];return r}return Hg(e-Hg(e))}function Hg(e){return e.length?e instanceof Float32Array?e:new Float32Array(e):(_$[0]=e,_$[0])}});var jM=ie((Rqe,T$)=>{"use strict";function NTe(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,o,i,s=[],f=!0,l=!1;try{if(o=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(n=o.call(t)).done)&&(s.push(n.value),s.length!==r);f=!0);}catch(u){l=!0,a=u}finally{try{if(!f&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function BTe(e,r){return UTe(e)||NTe(e,r)||A$(e,r)||VTe()}function qTe(e){return zTe(e)||GTe(e)||A$(e)||HTe()}function zTe(e){if(Array.isArray(e))return ZM(e)}function UTe(e){if(Array.isArray(e))return e}function GTe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A$(e,r){if(e){if(typeof e=="string")return ZM(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZM(e,r)}}function ZM(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function HTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var YTe=Zu(),WTe=M0(),XTe=v$(),ZTe=B8(),I0=Ua(),x5=y$(),jTe=Dl(),JTe=XM(),$Te=E0(),w$=b$(),b5=m5(),KTe=Xv(),QTe=_i;function _i(e,r){var t=this;if(!(this instanceof _i))return new _i(e,r);typeof e=="function"?(r||(r={}),r.regl=e):(r=e,e=null),r&&r.length&&(r.positions=r),e=r.regl;var n=e._gl,a,o=[],i={},s=[],f=[null],l=[null],u=255,c=100;this.tooManyColors=w$,a=e.texture({data:new Uint8Array(u*4),width:u,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),I0(this,{regl:e,gl:n,groups:s,markerCache:l,markerTextures:f,palette:o,paletteIds:i,paletteTexture:a,maxColors:u,maxSize:c,canvas:n.canvas}),this.update(r);var v={uniforms:{constPointSize:!!r.constPointSize,opacity:e.prop("opacity"),paletteSize:function(w,y){return[t.tooManyColors?0:u,a.height]},pixelRatio:e.context("pixelRatio"),scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translate:e.prop("translate"),translateFract:e.prop("translateFract"),markerTexture:e.prop("markerTexture"),paletteTexture:a},attributes:{x:function(w,y){return y.xAttr||{buffer:y.positionBuffer,stride:8,offset:0}},y:function(w,y){return y.yAttr||{buffer:y.positionBuffer,stride:8,offset:4}},xFract:function(w,y){return y.xAttr?{constant:[0,0]}:{buffer:y.positionFractBuffer,stride:8,offset:0}},yFract:function(w,y){return y.yAttr?{constant:[0,0]}:{buffer:y.positionFractBuffer,stride:8,offset:4}},size:function(w,y){return y.size.length?{buffer:y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(y.size*255/t.maxSize)]}},borderSize:function(w,y){return y.borderSize.length?{buffer:y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(y.borderSize*255/t.maxSize)]}},colorId:function(w,y){return y.color.length?{buffer:y.colorBuffer,stride:t.tooManyColors?8:4,offset:0}:{constant:t.tooManyColors?o.slice(y.color*4,y.color*4+4):[y.color]}},borderColorId:function(w,y){return y.borderColor.length?{buffer:y.colorBuffer,stride:t.tooManyColors?8:4,offset:t.tooManyColors?4:2}:{constant:t.tooManyColors?o.slice(y.borderColor*4,y.borderColor*4+4):[y.borderColor]}},isActive:function(w,y){return y.activation===!0?{constant:[1]}:y.activation?y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:e.prop("elements"),count:e.prop("count"),offset:e.prop("offset"),primitive:"points"},m=I0({},v);m.frag=x5([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),m.vert=x5([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=e(m);var x=I0({},v);x.frag=x5([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),x.vert=x5([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),w$&&(x.frag=x.frag.replace("smoothstep","smoothStep"),m.frag=m.frag.replace("smoothstep","smoothStep")),this.drawCircle=e(x)}_i.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4};_i.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this};_i.prototype.draw=function(){for(var e=this,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var a=this.groups;if(t.length===1&&Array.isArray(t[0])&&(t[0][0]===null||Array.isArray(t[0][0]))&&(t=t[0]),this.regl._refresh(),t.length)for(var o=0;o<t.length;o++)this.drawItem(o,t[o]);else a.forEach(function(i,s){e.drawItem(s)});return this};_i.prototype.drawItem=function(e,r){var t=this.groups,n=t[e];if(typeof r=="number"&&(e=r,n=t[r],r=null),!!(n&&n.count&&n.opacity)){n.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,n,r));for(var a=[],o=1;o<n.activation.length;o++)!n.activation[o]||n.activation[o]!==!0&&!n.activation[o].data.length||a.push.apply(a,qTe(this.getMarkerDrawOptions(o,n,r)));a.length&&this.drawMarker(a)}};_i.prototype.getMarkerDrawOptions=function(e,r,t){var n=r.range,a=r.tree,o=r.viewport,i=r.activation,s=r.selectionBuffer,f=r.count,l=this.regl;if(!a)return t?[I0({},r,{markerTexture:this.markerTextures[e],activation:i[e],count:t.length,elements:t,offset:0})]:[I0({},r,{markerTexture:this.markerTextures[e],activation:i[e],offset:0})];var u=[],c=a.range(n,{lod:!0,px:[(n[2]-n[0])/o.width,(n[3]-n[1])/o.height]});if(t){for(var v=i[e],m=v.data,x=new Uint8Array(f),A=0;A<t.length;A++){var w=t[A];x[w]=m?m[w]:1}s.subdata(x)}for(var y=c.length;y--;){var _=BTe(c[y],2),M=_[0],b=_[1];u.push(I0({},r,{markerTexture:this.markerTextures[e],activation:t?s:i[e],offset:M,count:b-M}))}return u};_i.prototype.update=function(){for(var e=this,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];if(t.length){t.length===1&&Array.isArray(t[0])&&(t=t[0]);var a=this.groups,o=this.gl,i=this.regl,s=this.maxSize,f=this.maxColors,l=this.palette;this.groups=a=t.map(function(u,c){var v=a[c];if(u===void 0)return v;u===null?u={positions:null}:typeof u=="function"?u={ondraw:u}:typeof u[0]=="number"&&(u={positions:u}),u=jTe(u,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),u.positions===null&&(u.positions=[]),u.tooManyColors!=null&&(e.tooManyColors=u.tooManyColors),v||(a[c]=v={id:c,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:i.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:i.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:i.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:i.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:i.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},u=I0({},_i.defaults,u)),u.positions&&!("marker"in u)&&(u.marker=v.marker,delete v.marker),u.marker&&!("positions"in u)&&(u.positions=v.positions,delete v.positions);var m=0,x=0;if(JTe(v,u,[{snap:!0,size:function(F,L){return F==null&&(F=_i.defaults.size),m+=F&&F.length?1:0,F},borderSize:function(F,L){return F==null&&(F=_i.defaults.borderSize),m+=F&&F.length?1:0,F},opacity:parseFloat,color:function(F,L){return F==null&&(F=_i.defaults.color),F=e.updateColor(F),x++,F},borderColor:function(F,L){return F==null&&(F=_i.defaults.borderColor),F=e.updateColor(F),x++,F},bounds:function(F,L,I){return"range"in I||(I.range=null),F},positions:function(F,L,I){var q=L.snap,z=L.positionBuffer,W=L.positionFractBuffer,$=L.selectionBuffer;if(F.x||F.y)return F.x.length?L.xAttr={buffer:i.buffer(F.x),offset:0,stride:4,count:F.x.length}:L.xAttr={buffer:F.x.buffer,offset:F.x.offset*4||0,stride:(F.x.stride||1)*4,count:F.x.count},F.y.length?L.yAttr={buffer:i.buffer(F.y),offset:0,stride:4,count:F.y.length}:L.yAttr={buffer:F.y.buffer,offset:F.y.offset*4||0,stride:(F.y.stride||1)*4,count:F.y.count},L.count=Math.max(L.xAttr.count,L.yAttr.count),F;F=$Te(F,"float64");var j=L.count=Math.floor(F.length/2),G=L.bounds=j?WTe(F,2):null;if(!I.range&&!L.range&&(delete L.range,I.range=G),!I.marker&&!L.marker&&(delete L.marker,I.marker=null),q&&(q===!0||j>q)?L.tree=ZTe(F,{bounds:G}):q&&q.length&&(L.tree=q),L.tree){var B={primitive:"points",usage:"static",data:L.tree,type:"uint32"};L.elements?L.elements(B):L.elements=i.elements(B)}var X=b5.float32(F);z({data:X,usage:"dynamic"});var te=b5.fract32(F,X);return W({data:te,usage:"dynamic"}),$({data:new Uint8Array(j),type:"uint8",usage:"stream"}),F}},{marker:function(F,L,I){var q=L.activation;if(q.forEach(function(te){return te&&te.destroy&&te.destroy()}),q.length=0,!F||typeof F[0]=="number"){var z=e.addMarker(F);q[z]=!0}else{for(var W=[],$=0,j=Math.min(F.length,L.count);$<j;$++){var G=e.addMarker(F[$]);W[G]||(W[G]=new Uint8Array(L.count)),W[G][$]=1}for(var B=0;B<W.length;B++)if(W[B]){var X={data:W[B],type:"uint8",usage:"static"};q[B]?q[B](X):q[B]=i.buffer(X),q[B].data=W[B]}}return F},range:function(F,L,I){var q=L.bounds;if(q)return F||(F=q),L.scale=[1/(F[2]-F[0]),1/(F[3]-F[1])],L.translate=[-F[0],-F[1]],L.scaleFract=b5.fract(L.scale),L.translateFract=b5.fract(L.translate),F},viewport:function(F){var L=KTe(F||[o.drawingBufferWidth,o.drawingBufferHeight]);return L}}]),m){var A=v,w=A.count,y=A.size,_=A.borderSize,M=A.sizeBuffer,b=new Uint8Array(w*2);if(y.length||_.length)for(var E=0;E<w;E++)b[E*2]=Math.round((y[E]==null?y:y[E])*255/s),b[E*2+1]=Math.round((_[E]==null?_:_[E])*255/s);M({data:b,usage:"dynamic"})}if(x){var d=v,T=d.count,g=d.color,h=d.borderColor,S=d.colorBuffer,p;if(e.tooManyColors){if(g.length||h.length){p=new Uint8Array(T*8);for(var C=0;C<T;C++){var k=g[C];p[C*8]=l[k*4],p[C*8+1]=l[k*4+1],p[C*8+2]=l[k*4+2],p[C*8+3]=l[k*4+3];var D=h[C];p[C*8+4]=l[D*4],p[C*8+5]=l[D*4+1],p[C*8+6]=l[D*4+2],p[C*8+7]=l[D*4+3]}}}else if(g.length||h.length){p=new Uint8Array(T*4+2);for(var P=0;P<T;P++)g[P]!=null&&(p[P*4]=g[P]%f,p[P*4+1]=Math.floor(g[P]/f)),h[P]!=null&&(p[P*4+2]=h[P]%f,p[P*4+3]=Math.floor(h[P]/f))}S({data:p||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return v})}};_i.prototype.addMarker=function(e){var r=this.markerTextures,t=this.regl,n=this.markerCache,a=e==null?0:n.indexOf(e);if(a>=0)return a;var o;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)o=e;else{o=new Uint8Array(e.length);for(var i=0,s=e.length;i<s;i++)o[i]=e[i]*255}var f=Math.floor(Math.sqrt(o.length));return a=r.length,n.push(e),r.push(t.texture({channels:1,data:o,radius:f,mag:"linear",min:"linear"})),a};_i.prototype.updateColor=function(e){var r=this.paletteIds,t=this.palette,n=this.maxColors;Array.isArray(e)||(e=[e]);var a=[];if(typeof e[0]=="number"){var o=[];if(Array.isArray(e))for(var i=0;i<e.length;i+=4)o.push(e.slice(i,i+4));else for(var s=0;s<e.length;s+=4)o.push(e.subarray(s,s+4));e=o}for(var f=0;f<e.length;f++){var l=e[f];l=YTe(l,"uint8");var u=XTe(l,!1);if(r[u]==null){var c=t.length;r[u]=Math.floor(c/4),t[c]=l[0],t[c+1]=l[1],t[c+2]=l[2],t[c+3]=l[3]}a[f]=r[u]}return!this.tooManyColors&&t.length>n*4&&(this.tooManyColors=!0),this.updatePalette(t),a.length===1?a[0]:a};_i.prototype.updatePalette=function(e){if(!this.tooManyColors){var r=this.maxColors,t=this.paletteTexture,n=Math.ceil(e.length*.25/r);if(n>1){e=e.slice();for(var a=e.length*.25%r;a<n*r;a++)e.push(0,0,0,0)}t.height<n&&t.resize(r,n),t.subimage({width:Math.min(e.length*.25,r),height:n,data:e},0,0)}};_i.prototype.destroy=function(){return this.groups.forEach(function(e){e.sizeBuffer.destroy(),e.positionBuffer.destroy(),e.positionFractBuffer.destroy(),e.colorBuffer.destroy(),e.activation.forEach(function(r){return r&&r.destroy&&r.destroy()}),e.selectionBuffer.destroy(),e.elements&&e.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(e){return e&&e.destroy&&e.destroy()}),this};var e8e=Ua(),r8e=function(r,t){var n=new QTe(r,t),a=n.render.bind(n);return e8e(a,{render:a,update:n.update.bind(n),draw:n.draw.bind(n),destroy:n.destroy.bind(n),regl:n.regl,gl:n.gl,canvas:n.gl.canvas,groups:n.groups,markers:n.markerCache,palette:n.palette}),a};T$.exports=r8e});var k$=ie((Dqe,QM)=>{"use strict";QM.exports=A5;QM.exports.default=A5;function A5(e,r,t){t=t||2;var n=r&&r.length,a=n?r[0]*t:e.length,o=E$(e,0,a,t,!0),i=[];if(!o||o.next===o.prev)return i;var s,f,l,u,c,v,m;if(n&&(o=o8e(e,r,o,t)),e.length>80*t){s=l=e[0],f=u=e[1];for(var x=t;x<a;x+=t)c=e[x],v=e[x+1],c<s&&(s=c),v<f&&(f=v),c>l&&(l=c),v>u&&(u=v);m=Math.max(l-s,u-f),m=m!==0?32767/m:0}return Vg(o,i,t,s,f,m,0),i}function E$(e,r,t,n,a){var o,i;if(a===KM(e,r,t,n)>0)for(o=r;o<t;o+=n)i=M$(o,e[o],e[o+1],i);else for(o=t-n;o>=r;o-=n)i=M$(o,e[o],e[o+1],i);return i&&T5(i,i.next)&&(Wg(i),i=i.next),i}function P0(e,r){if(!e)return e;r||(r=e);var t=e,n;do if(n=!1,!t.steiner&&(T5(t,t.next)||Ra(t.prev,t,t.next)===0)){if(Wg(t),t=r=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==r);return r}function Vg(e,r,t,n,a,o,i){if(e){!i&&o&&c8e(e,n,a,o);for(var s=e,f,l;e.prev!==e.next;){if(f=e.prev,l=e.next,o?n8e(e,n,a,o):t8e(e)){r.push(f.i/t|0),r.push(e.i/t|0),r.push(l.i/t|0),Wg(e),e=l.next,s=l.next;continue}if(e=l,e===s){i?i===1?(e=a8e(P0(e),r,t),Vg(e,r,t,n,a,o,2)):i===2&&i8e(e,r,t,n,a,o):Vg(P0(e),r,t,n,a,o,1);break}}}}function t8e(e){var r=e.prev,t=e,n=e.next;if(Ra(r,t,n)>=0)return!1;for(var a=r.x,o=t.x,i=n.x,s=r.y,f=t.y,l=n.y,u=a<o?a<i?a:i:o<i?o:i,c=s<f?s<l?s:l:f<l?f:l,v=a>o?a>i?a:i:o>i?o:i,m=s>f?s>l?s:l:f>l?f:l,x=n.next;x!==r;){if(x.x>=u&&x.x<=v&&x.y>=c&&x.y<=m&&vd(a,s,o,f,i,l,x.x,x.y)&&Ra(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function n8e(e,r,t,n){var a=e.prev,o=e,i=e.next;if(Ra(a,o,i)>=0)return!1;for(var s=a.x,f=o.x,l=i.x,u=a.y,c=o.y,v=i.y,m=s<f?s<l?s:l:f<l?f:l,x=u<c?u<v?u:v:c<v?c:v,A=s>f?s>l?s:l:f>l?f:l,w=u>c?u>v?u:v:c>v?c:v,y=JM(m,x,r,t,n),_=JM(A,w,r,t,n),M=e.prevZ,b=e.nextZ;M&&M.z>=y&&b&&b.z<=_;){if(M.x>=m&&M.x<=A&&M.y>=x&&M.y<=w&&M!==a&&M!==i&&vd(s,u,f,c,l,v,M.x,M.y)&&Ra(M.prev,M,M.next)>=0||(M=M.prevZ,b.x>=m&&b.x<=A&&b.y>=x&&b.y<=w&&b!==a&&b!==i&&vd(s,u,f,c,l,v,b.x,b.y)&&Ra(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;M&&M.z>=y;){if(M.x>=m&&M.x<=A&&M.y>=x&&M.y<=w&&M!==a&&M!==i&&vd(s,u,f,c,l,v,M.x,M.y)&&Ra(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;b&&b.z<=_;){if(b.x>=m&&b.x<=A&&b.y>=x&&b.y<=w&&b!==a&&b!==i&&vd(s,u,f,c,l,v,b.x,b.y)&&Ra(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function a8e(e,r,t){var n=e;do{var a=n.prev,o=n.next.next;!T5(a,o)&&S$(a,n,n.next,o)&&Yg(a,o)&&Yg(o,a)&&(r.push(a.i/t|0),r.push(n.i/t|0),r.push(o.i/t|0),Wg(n),Wg(n.next),n=e=o),n=n.next}while(n!==e);return P0(n)}function i8e(e,r,t,n,a,o){var i=e;do{for(var s=i.next.next;s!==i.prev;){if(i.i!==s.i&&d8e(i,s)){var f=C$(i,s);i=P0(i,i.next),f=P0(f,f.next),Vg(i,r,t,n,a,o,0),Vg(f,r,t,n,a,o,0);return}s=s.next}i=i.next}while(i!==e)}function o8e(e,r,t,n){var a=[],o,i,s,f,l;for(o=0,i=r.length;o<i;o++)s=r[o]*n,f=o<i-1?r[o+1]*n:e.length,l=E$(e,s,f,n,!1),l===l.next&&(l.steiner=!0),a.push(v8e(l));for(a.sort(s8e),o=0;o<a.length;o++)t=l8e(a[o],t);return t}function s8e(e,r){return e.x-r.x}function l8e(e,r){var t=f8e(e,r);if(!t)return r;var n=C$(t,e);return P0(n,n.next),P0(t,t.next)}function f8e(e,r){var t=r,n=e.x,a=e.y,o=-1/0,i;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){var s=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(s<=n&&s>o&&(o=s,i=t.x<t.next.x?t:t.next,s===n))return i}t=t.next}while(t!==r);if(!i)return null;var f=i,l=i.x,u=i.y,c=1/0,v;t=i;do n>=t.x&&t.x>=l&&n!==t.x&&vd(a<u?n:o,a,l,u,a<u?o:n,a,t.x,t.y)&&(v=Math.abs(a-t.y)/(n-t.x),Yg(t,e)&&(v<c||v===c&&(t.x>i.x||t.x===i.x&&u8e(i,t)))&&(i=t,c=v)),t=t.next;while(t!==f);return i}function u8e(e,r){return Ra(e.prev,e,r.prev)<0&&Ra(r.next,e,e.next)<0}function c8e(e,r,t,n){var a=e;do a.z===0&&(a.z=JM(a.x,a.y,r,t,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,h8e(a)}function h8e(e){var r,t,n,a,o,i,s,f,l=1;do{for(t=e,e=null,o=null,i=0;t;){for(i++,n=t,s=0,r=0;r<l&&(s++,n=n.nextZ,!!n);r++);for(f=l;s>0||f>0&&n;)s!==0&&(f===0||!n||t.z<=n.z)?(a=t,t=t.nextZ,s--):(a=n,n=n.nextZ,f--),o?o.nextZ=a:e=a,a.prevZ=o,o=a;t=n}o.nextZ=null,l*=2}while(i>1);return e}function JM(e,r,t,n,a){return e=(e-t)*a|0,r=(r-n)*a|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e|r<<1}function v8e(e){var r=e,t=e;do(r.x<t.x||r.x===t.x&&r.y<t.y)&&(t=r),r=r.next;while(r!==e);return t}function vd(e,r,t,n,a,o,i,s){return(a-i)*(r-s)>=(e-i)*(o-s)&&(e-i)*(n-s)>=(t-i)*(r-s)&&(t-i)*(o-s)>=(a-i)*(n-s)}function d8e(e,r){return e.next.i!==r.i&&e.prev.i!==r.i&&!p8e(e,r)&&(Yg(e,r)&&Yg(r,e)&&g8e(e,r)&&(Ra(e.prev,e,r.prev)||Ra(e,r.prev,r))||T5(e,r)&&Ra(e.prev,e,e.next)>0&&Ra(r.prev,r,r.next)>0)}function Ra(e,r,t){return(r.y-e.y)*(t.x-r.x)-(r.x-e.x)*(t.y-r.y)}function T5(e,r){return e.x===r.x&&e.y===r.y}function S$(e,r,t,n){var a=w5(Ra(e,r,t)),o=w5(Ra(e,r,n)),i=w5(Ra(t,n,e)),s=w5(Ra(t,n,r));return!!(a!==o&&i!==s||a===0&&_5(e,t,r)||o===0&&_5(e,n,r)||i===0&&_5(t,e,n)||s===0&&_5(t,r,n))}function _5(e,r,t){return r.x<=Math.max(e.x,t.x)&&r.x>=Math.min(e.x,t.x)&&r.y<=Math.max(e.y,t.y)&&r.y>=Math.min(e.y,t.y)}function w5(e){return e>0?1:e<0?-1:0}function p8e(e,r){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==r.i&&t.next.i!==r.i&&S$(t,t.next,e,r))return!0;t=t.next}while(t!==e);return!1}function Yg(e,r){return Ra(e.prev,e,e.next)<0?Ra(e,r,e.next)>=0&&Ra(e,e.prev,r)>=0:Ra(e,r,e.prev)<0||Ra(e,e.next,r)<0}function g8e(e,r){var t=e,n=!1,a=(e.x+r.x)/2,o=(e.y+r.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&a<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==e);return n}function C$(e,r){var t=new $M(e.i,e.x,e.y),n=new $M(r.i,r.x,r.y),a=e.next,o=r.prev;return e.next=r,r.prev=e,t.next=a,a.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function M$(e,r,t,n){var a=new $M(e,r,t);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function Wg(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $M(e,r,t){this.i=e,this.x=r,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}A5.deviation=function(e,r,t,n){var a=r&&r.length,o=a?r[0]*t:e.length,i=Math.abs(KM(e,0,o,t));if(a)for(var s=0,f=r.length;s<f;s++){var l=r[s]*t,u=s<f-1?r[s+1]*t:e.length;i-=Math.abs(KM(e,l,u,t))}var c=0;for(s=0;s<n.length;s+=3){var v=n[s]*t,m=n[s+1]*t,x=n[s+2]*t;c+=Math.abs((e[v]-e[x])*(e[m+1]-e[v+1])-(e[v]-e[m])*(e[x+1]-e[v+1]))}return i===0&&c===0?0:Math.abs((c-i)/i)};function KM(e,r,t,n){for(var a=0,o=r,i=t-n;o<t;o+=n)a+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return a}A5.flatten=function(e){for(var r=e[0][0].length,t={vertices:[],holes:[],dimensions:r},n=0,a=0;a<e.length;a++){for(var o=0;o<e[a].length;o++)for(var i=0;i<r;i++)t.vertices.push(e[a][o][i]);a>0&&(n+=e[a-1].length,t.holes.push(n))}return t}});var R$=ie((Fqe,L$)=>{"use strict";var y8e=M0();L$.exports=m8e;function m8e(e,r,t){if(!e||e.length==null)throw Error("Argument should be an array");r==null&&(r=1),t==null&&(t=y8e(e,r));for(var n=0;n<r;n++){var a=t[r+n],o=t[n],i=n,s=e.length;if(a===1/0&&o===-1/0)for(i=n;i<s;i+=r)e[i]=e[i]===a?1:e[i]===o?0:.5;else if(a===1/0)for(i=n;i<s;i+=r)e[i]=e[i]===a?1:0;else if(o===-1/0)for(i=n;i<s;i+=r)e[i]=e[i]===o?0:1;else{var f=a-o;for(i=n;i<s;i+=r)isNaN(e[i])||(e[i]=f===0?.5:(e[i]-o)/f)}}return e}});var F$=ie((Iqe,D$)=>{"use strict";D$.exports=function(){var e,r;if(typeof WeakMap!="function")return!1;try{e=new WeakMap([[r={},"one"],[{},"two"],[{},"three"]])}catch(t){return!1}return!(String(e)!=="[object WeakMap]"||typeof e.set!="function"||e.set({},1)!==e||typeof e.delete!="function"||typeof e.has!="function"||e.get(r)!=="one")}});var P$=ie((Pqe,I$)=>{"use strict";I$.exports=function(){}});var ju=ie((Oqe,O$)=>{"use strict";var x8e=P$()();O$.exports=function(e){return e!==x8e&&e!==null}});var e7=ie((Nqe,B$)=>{"use strict";var b8e=Object.create,_8e=Object.getPrototypeOf,N$={};B$.exports=function(){var e=Object.setPrototypeOf,r=arguments[0]||b8e;return typeof e!="function"?!1:_8e(e(r(null),N$))===N$}});var r7=ie((Bqe,q$)=>{"use strict";var w8e=ju(),A8e={function:!0,object:!0};q$.exports=function(e){return w8e(e)&&A8e[typeof e]||!1}});var Sf=ie((qqe,z$)=>{"use strict";var T8e=ju();z$.exports=function(e){if(!T8e(e))throw new TypeError("Cannot use null or undefined");return e}});var G$=ie((zqe,U$)=>{"use strict";var t7=Object.create,M5;e7()()||(M5=n7());U$.exports=function(){var e,r,t;return!M5||M5.level!==1?t7:(e={},r={},t={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(n){if(n==="__proto__"){r[n]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}r[n]=t}),Object.defineProperties(e,r),Object.defineProperty(M5,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(n,a){return t7(n===null?e:n,a)})}()});var n7=ie((Uqe,H$)=>{"use strict";var M8e=r7(),E8e=Sf(),S8e=Object.prototype.isPrototypeOf,C8e=Object.defineProperty,k8e={configurable:!0,enumerable:!1,writable:!0,value:void 0},E5;E5=function(e,r){if(E8e(e),r===null||M8e(r))return e;throw new TypeError("Prototype must be null or an object")};H$.exports=function(e){var r,t;return e?(e.level===2?e.set?(t=e.set,r=function(n,a){return t.call(E5(n,a),a),n}):r=function(n,a){return E5(n,a).__proto__=a,n}:r=function n(a,o){var i;return E5(a,o),i=S8e.call(n.nullPolyfill,a),i&&delete n.nullPolyfill.__proto__,o===null&&(o=n.nullPolyfill),a.__proto__=o,i&&C8e(n.nullPolyfill,"__proto__",k8e),a},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e=Object.create(null),r={},t,n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{t=n.set,t.call(e,r)}catch(a){}if(Object.getPrototypeOf(e)===r)return{set:t,level:2}}return e.__proto__=r,Object.getPrototypeOf(e)===r?{level:2}:(e={},e.__proto__=r,Object.getPrototypeOf(e)===r?{level:1}:!1)}());G$()});var S5=ie((Gqe,V$)=>{"use strict";V$.exports=e7()()?Object.setPrototypeOf:n7()});var W$=ie((Hqe,Y$)=>{"use strict";var L8e=r7();Y$.exports=function(e){if(!L8e(e))throw new TypeError(e+" is not an Object");return e}});var Z$=ie((Vqe,X$)=>{"use strict";var R8e=Object.create(null),D8e=Math.random;X$.exports=function(){var e;do e=D8e().toString(36).slice(2);while(R8e[e]);return e}});var O0=ie((Yqe,j$)=>{"use strict";var F8e=void 0;j$.exports=function(e){return e!==F8e&&e!==null}});var C5=ie((Wqe,J$)=>{"use strict";var I8e=O0(),P8e={object:!0,function:!0,undefined:!0};J$.exports=function(e){return I8e(e)?hasOwnProperty.call(P8e,typeof e):!1}});var K$=ie((Xqe,$$)=>{"use strict";var O8e=C5();$$.exports=function(e){if(!O8e(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch(r){return!1}}});var eK=ie((Zqe,Q$)=>{"use strict";var N8e=K$();Q$.exports=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch(r){return!1}return!N8e(e)}});var a7=ie((jqe,rK)=>{"use strict";var B8e=eK(),q8e=/^\s*class[\s{/}]/,z8e=Function.prototype.toString;rK.exports=function(e){return!(!B8e(e)||q8e.test(z8e.call(e)))}});var nK=ie((Jqe,tK)=>{"use strict";tK.exports=function(){var e=Object.assign,r;return typeof e!="function"?!1:(r={foo:"raz"},e(r,{bar:"dwa"},{trzy:"trzy"}),r.foo+r.bar+r.trzy==="razdwatrzy")}});var iK=ie(($qe,aK)=>{"use strict";aK.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}});var sK=ie((Kqe,oK)=>{"use strict";var U8e=ju(),G8e=Object.keys;oK.exports=function(e){return G8e(U8e(e)?Object(e):e)}});var fK=ie((Qqe,lK)=>{"use strict";lK.exports=iK()()?Object.keys:sK()});var cK=ie((eze,uK)=>{"use strict";var H8e=fK(),V8e=Sf(),Y8e=Math.max;uK.exports=function(e,r){var t,n,a=Y8e(arguments.length,2),o;for(e=Object(V8e(e)),o=function(i){try{e[i]=r[i]}catch(s){t||(t=s)}},n=1;n<a;++n)r=arguments[n],H8e(r).forEach(o);if(t!==void 0)throw t;return e}});var k5=ie((rze,hK)=>{"use strict";hK.exports=nK()()?Object.assign:cK()});var i7=ie((tze,vK)=>{"use strict";var W8e=ju(),X8e=Array.prototype.forEach,Z8e=Object.create,j8e=function(e,r){var t;for(t in e)r[t]=e[t]};vK.exports=function(e){var r=Z8e(null);return X8e.call(arguments,function(t){W8e(t)&&j8e(Object(t),r)}),r}});var pK=ie((nze,dK)=>{"use strict";var o7="razdwatrzy";dK.exports=function(){return typeof o7.contains!="function"?!1:o7.contains("dwa")===!0&&o7.contains("foo")===!1}});var yK=ie((aze,gK)=>{"use strict";var J8e=String.prototype.indexOf;gK.exports=function(e){return J8e.call(this,e,arguments[1])>-1}});var s7=ie((ize,mK)=>{"use strict";mK.exports=pK()()?String.prototype.contains:yK()});var Cf=ie((oze,wK)=>{"use strict";var L5=O0(),xK=a7(),bK=k5(),_K=i7(),Xg=s7(),$8e=wK.exports=function(e,r){var t,n,a,o,i;return arguments.length<2||typeof e!="string"?(o=r,r=e,e=null):o=arguments[2],L5(e)?(t=Xg.call(e,"c"),n=Xg.call(e,"e"),a=Xg.call(e,"w")):(t=a=!0,n=!1),i={value:r,configurable:t,enumerable:n,writable:a},o?bK(_K(o),i):i};$8e.gs=function(e,r,t){var n,a,o,i;return typeof e!="string"?(o=t,t=r,r=e,e=null):o=arguments[3],L5(r)?xK(r)?L5(t)?xK(t)||(o=t,t=void 0):t=void 0:(o=r,r=t=void 0):r=void 0,L5(e)?(n=Xg.call(e,"c"),a=Xg.call(e,"e")):(n=!0,a=!1),i={get:r,set:t,configurable:n,enumerable:a},o?bK(_K(o),i):i}});var Zg=ie((sze,TK)=>{"use strict";var AK=Object.prototype.toString,K8e=AK.call(function(){return arguments}());TK.exports=function(e){return AK.call(e)===K8e}});var jg=ie((lze,EK)=>{"use strict";var MK=Object.prototype.toString,Q8e=MK.call("");EK.exports=function(e){return typeof e=="string"||e&&typeof e=="object"&&(e instanceof String||MK.call(e)===Q8e)||!1}});var CK=ie((fze,SK)=>{"use strict";SK.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}});var RK=ie((uze,LK)=>{var kK=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};LK.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return kK()}try{return __global__||kK()}finally{delete Object.prototype.__global__}}()});var Jg=ie((cze,DK)=>{"use strict";DK.exports=CK()()?globalThis:RK()});var IK=ie((hze,FK)=>{"use strict";var eMe=Jg(),l7={object:!0,symbol:!0};FK.exports=function(){var e=eMe.Symbol,r;if(typeof e!="function")return!1;r=e("test symbol");try{String(r)}catch(t){return!1}return!(!l7[typeof e.iterator]||!l7[typeof e.toPrimitive]||!l7[typeof e.toStringTag])}});var OK=ie((vze,PK)=>{"use strict";PK.exports=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}});var f7=ie((dze,NK)=>{"use strict";var rMe=OK();NK.exports=function(e){if(!rMe(e))throw new TypeError(e+" is not a symbol");return e}});var GK=ie((pze,UK)=>{"use strict";var BK=Cf(),tMe=Object.create,qK=Object.defineProperty,nMe=Object.prototype,zK=tMe(null);UK.exports=function(e){for(var r=0,t,n;zK[e+(r||"")];)++r;return e+=r||"",zK[e]=!0,t="@@"+e,qK(nMe,t,BK.gs(null,function(a){n||(n=!0,qK(this,t,BK(a)),n=!1)})),t}});var VK=ie((gze,HK)=>{"use strict";var rl=Cf(),Ga=Jg().Symbol;HK.exports=function(e){return Object.defineProperties(e,{hasInstance:rl("",Ga&&Ga.hasInstance||e("hasInstance")),isConcatSpreadable:rl("",Ga&&Ga.isConcatSpreadable||e("isConcatSpreadable")),iterator:rl("",Ga&&Ga.iterator||e("iterator")),match:rl("",Ga&&Ga.match||e("match")),replace:rl("",Ga&&Ga.replace||e("replace")),search:rl("",Ga&&Ga.search||e("search")),species:rl("",Ga&&Ga.species||e("species")),split:rl("",Ga&&Ga.split||e("split")),toPrimitive:rl("",Ga&&Ga.toPrimitive||e("toPrimitive")),toStringTag:rl("",Ga&&Ga.toStringTag||e("toStringTag")),unscopables:rl("",Ga&&Ga.unscopables||e("unscopables"))})}});var XK=ie((yze,WK)=>{"use strict";var YK=Cf(),aMe=f7(),$g=Object.create(null);WK.exports=function(e){return Object.defineProperties(e,{for:YK(function(r){return $g[r]?$g[r]:$g[r]=e(String(r))}),keyFor:YK(function(r){var t;aMe(r);for(t in $g)if($g[t]===r)return t})})}});var JK=ie((mze,jK)=>{"use strict";var Fl=Cf(),u7=f7(),R5=Jg().Symbol,iMe=GK(),oMe=VK(),sMe=XK(),lMe=Object.create,c7=Object.defineProperties,D5=Object.defineProperty,Hi,dd,ZK;if(typeof R5=="function")try{String(R5()),ZK=!0}catch(e){}else R5=null;dd=function(r){if(this instanceof dd)throw new TypeError("Symbol is not a constructor");return Hi(r)};jK.exports=Hi=function e(r){var t;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return ZK?R5(r):(t=lMe(dd.prototype),r=r===void 0?"":String(r),c7(t,{__description__:Fl("",r),__name__:Fl("",iMe(r))}))};oMe(Hi);sMe(Hi);c7(dd.prototype,{constructor:Fl(Hi),toString:Fl("",function(){return this.__name__})});c7(Hi.prototype,{toString:Fl(function(){return"Symbol ("+u7(this).__description__+")"}),valueOf:Fl(function(){return u7(this)})});D5(Hi.prototype,Hi.toPrimitive,Fl("",function(){var e=u7(this);return typeof e=="symbol"?e:e.toString()}));D5(Hi.prototype,Hi.toStringTag,Fl("c","Symbol"));D5(dd.prototype,Hi.toStringTag,Fl("c",Hi.prototype[Hi.toStringTag]));D5(dd.prototype,Hi.toPrimitive,Fl("c",Hi.prototype[Hi.toPrimitive]))});var Ju=ie((xze,$K)=>{"use strict";$K.exports=IK()()?Jg().Symbol:JK()});var QK=ie((bze,KK)=>{"use strict";var fMe=Sf();KK.exports=function(){return fMe(this).length=0,this}});var pd=ie((_ze,eQ)=>{"use strict";eQ.exports=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}});var tQ=ie((wze,rQ)=>{"use strict";var uMe=O0(),cMe=C5(),hMe=Object.prototype.toString;rQ.exports=function(e){if(!uMe(e))return null;if(cMe(e)){var r=e.toString;if(typeof r!="function"||r===hMe)return null}try{return""+e}catch(t){return null}}});var aQ=ie((Aze,nQ)=>{"use strict";nQ.exports=function(e){try{return e.toString()}catch(r){try{return String(e)}catch(t){return null}}}});var oQ=ie((Tze,iQ)=>{"use strict";var vMe=aQ(),dMe=/[\n\r\u2028\u2029]/g;iQ.exports=function(e){var r=vMe(e);return r===null?"<Non-coercible to string value>":(r.length>100&&(r=r.slice(0,99)+"\u2026"),r=r.replace(dMe,function(t){switch(t){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),r)}});var h7=ie((Mze,fQ)=>{"use strict";var sQ=O0(),pMe=C5(),gMe=tQ(),yMe=oQ(),lQ=function(e,r){return e.replace("%v",yMe(r))};fQ.exports=function(e,r,t){if(!pMe(t))throw new TypeError(lQ(r,e));if(!sQ(e)){if("default"in t)return t.default;if(t.isOptional)return null}var n=gMe(t.errorMessage);throw sQ(n)||(n=r),new TypeError(lQ(n,e))}});var cQ=ie((Eze,uQ)=>{"use strict";var mMe=h7(),xMe=O0();uQ.exports=function(e){return xMe(e)?e:mMe(e,"Cannot use %v",arguments[1])}});var vQ=ie((Sze,hQ)=>{"use strict";var bMe=h7(),_Me=a7();hQ.exports=function(e){return _Me(e)?e:bMe(e,"%v is not a plain function",arguments[1])}});var pQ=ie((Cze,dQ)=>{"use strict";dQ.exports=function(){var e=Array.from,r,t;return typeof e!="function"?!1:(r=["raz","dwa"],t=e(r),!!(t&&t!==r&&t[1]==="dwa"))}});var yQ=ie((kze,gQ)=>{"use strict";var wMe=Object.prototype.toString,AMe=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);gQ.exports=function(e){return typeof e=="function"&&AMe(wMe.call(e))}});var xQ=ie((Lze,mQ)=>{"use strict";mQ.exports=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1}});var _Q=ie((Rze,bQ)=>{"use strict";bQ.exports=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}});var AQ=ie((Dze,wQ)=>{"use strict";wQ.exports=xQ()()?Math.sign:_Q()});var MQ=ie((Fze,TQ)=>{"use strict";var TMe=AQ(),MMe=Math.abs,EMe=Math.floor;TQ.exports=function(e){return isNaN(e)?0:(e=Number(e),e===0||!isFinite(e)?e:TMe(e)*EMe(MMe(e)))}});var SQ=ie((Ize,EQ)=>{"use strict";var SMe=MQ(),CMe=Math.max;EQ.exports=function(e){return CMe(0,SMe(e))}});var RQ=ie((Pze,LQ)=>{"use strict";var kMe=Ju().iterator,LMe=Zg(),RMe=yQ(),DMe=SQ(),CQ=pd(),FMe=Sf(),IMe=ju(),PMe=jg(),kQ=Array.isArray,v7=Function.prototype.call,N0={configurable:!0,enumerable:!0,writable:!0,value:null},d7=Object.defineProperty;LQ.exports=function(e){var r=arguments[1],t=arguments[2],n,a,o,i,s,f,l,u,c,v;if(e=Object(FMe(e)),IMe(r)&&CQ(r),!this||this===Array||!RMe(this)){if(!r){if(LMe(e))return s=e.length,s!==1?Array.apply(null,e):(i=new Array(1),i[0]=e[0],i);if(kQ(e)){for(i=new Array(s=e.length),a=0;a<s;++a)i[a]=e[a];return i}}i=[]}else n=this;if(!kQ(e)){if((c=e[kMe])!==void 0){for(l=CQ(c).call(e),n&&(i=new n),u=l.next(),a=0;!u.done;)v=r?v7.call(r,t,u.value,a):u.value,n?(N0.value=v,d7(i,a,N0)):i[a]=v,u=l.next(),++a;s=a}else if(PMe(e)){for(s=e.length,n&&(i=new n),a=0,o=0;a<s;++a)v=e[a],a+1<s&&(f=v.charCodeAt(0),f>=55296&&f<=56319&&(v+=e[++a])),v=r?v7.call(r,t,v,o):v,n?(N0.value=v,d7(i,o,N0)):i[o]=v,++o;s=o}}if(s===void 0)for(s=DMe(e.length),n&&(i=new n(s)),a=0;a<s;++a)v=r?v7.call(r,t,e[a],a):e[a],n?(N0.value=v,d7(i,a,N0)):i[a]=v;return n&&(N0.value=null,i.length=s),i}});var FQ=ie((Oze,DQ)=>{"use strict";DQ.exports=pQ()()?Array.from:RQ()});var PQ=ie((Nze,IQ)=>{"use strict";var OMe=FQ(),NMe=k5(),BMe=Sf();IQ.exports=function(e){var r=Object(BMe(e)),t=arguments[1],n=Object(arguments[2]);if(r!==e&&!t)return r;var a={};return t?OMe(t,function(o){(n.ensure||o in e)&&(a[o]=e[o])}):NMe(a,e),a}});var BQ=ie((Bze,NQ)=>{"use strict";var qMe=pd(),zMe=Sf(),UMe=Function.prototype.bind,OQ=Function.prototype.call,GMe=Object.keys,HMe=Object.prototype.propertyIsEnumerable;NQ.exports=function(e,r){return function(t,n){var a,o=arguments[2],i=arguments[3];return t=Object(zMe(t)),qMe(n),a=GMe(t),i&&a.sort(typeof i=="function"?UMe.call(i,t):void 0),typeof e!="function"&&(e=a[e]),OQ.call(e,a,function(s,f){return HMe.call(t,s)?OQ.call(n,o,t[s],s,t,f):r})}}});var zQ=ie((qze,qQ)=>{"use strict";qQ.exports=BQ()("forEach")});var GQ=ie((zze,UQ)=>{"use strict";var VMe=pd(),YMe=zQ(),WMe=Function.prototype.call;UQ.exports=function(e,r){var t={},n=arguments[2];return VMe(r),YMe(e,function(a,o,i,s){t[o]=WMe.call(r,n,a,o,i,s)}),t}});var WQ=ie((Uze,YQ)=>{"use strict";var XMe=O0(),ZMe=cQ(),HQ=vQ(),jMe=PQ(),JMe=i7(),$Me=GQ(),KMe=Function.prototype.bind,QMe=Object.defineProperty,e7e=Object.prototype.hasOwnProperty,VQ;VQ=function(e,r,t){var n=ZMe(r)&&HQ(r.value),a;return a=jMe(r),delete a.writable,delete a.value,a.get=function(){return!t.overwriteDefinition&&e7e.call(this,e)?n:(r.value=KMe.call(n,t.resolveContext?t.resolveContext(this):this),QMe(this,e,r),this[e])},a};YQ.exports=function(e){var r=JMe(arguments[1]);return XMe(r.resolveContext)&&HQ(r.resolveContext),$Me(e,function(t,n){return VQ(n,t,r)})}});var p7=ie((Gze,JQ)=>{"use strict";var r7e=QK(),t7e=k5(),n7e=pd(),a7e=Sf(),Lo=Cf(),i7e=WQ(),XQ=Ju(),ZQ=Object.defineProperty,jQ=Object.defineProperties,Kg;JQ.exports=Kg=function(e,r){if(!(this instanceof Kg))throw new TypeError("Constructor requires 'new'");jQ(this,{__list__:Lo("w",a7e(e)),__context__:Lo("w",r),__nextIndex__:Lo("w",0)}),r&&(n7e(r.on),r.on("_add",this._onAdd),r.on("_delete",this._onDelete),r.on("_clear",this._onClear))};delete Kg.prototype.constructor;jQ(Kg.prototype,t7e({_next:Lo(function(){var e;if(this.__list__){if(this.__redo__&&(e=this.__redo__.shift(),e!==void 0))return e;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:Lo(function(){return this._createResult(this._next())}),_createResult:Lo(function(e){return e===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:Lo(function(e){return this.__list__[e]}),_unBind:Lo(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:Lo(function(){return"[object "+(this[XQ.toStringTag]||"Object")+"]"})},i7e({_onAdd:Lo(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){ZQ(this,"__redo__",Lo("c",[e]));return}this.__redo__.forEach(function(r,t){r>=e&&(this.__redo__[t]=++r)},this),this.__redo__.push(e)}}),_onDelete:Lo(function(e){var r;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(r=this.__redo__.indexOf(e),r!==-1&&this.__redo__.splice(r,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:Lo(function(){this.__redo__&&r7e.call(this.__redo__),this.__nextIndex__=0})})));ZQ(Kg.prototype,XQ.iterator,Lo(function(){return this}))});var ree=ie((Hze,eee)=>{"use strict";var $Q=S5(),KQ=s7(),g7=Cf(),o7e=Ju(),y7=p7(),QQ=Object.defineProperty,gd;gd=eee.exports=function(e,r){if(!(this instanceof gd))throw new TypeError("Constructor requires 'new'");y7.call(this,e),r?KQ.call(r,"key+value")?r="key+value":KQ.call(r,"key")?r="key":r="value":r="value",QQ(this,"__kind__",g7("",r))};$Q&&$Q(gd,y7);delete gd.prototype.constructor;gd.prototype=Object.create(y7.prototype,{_resolve:g7(function(e){return this.__kind__==="value"?this.__list__[e]:this.__kind__==="key+value"?[e,this.__list__[e]]:e})});QQ(gd.prototype,o7e.toStringTag,g7("c","Array Iterator"))});var iee=ie((Vze,aee)=>{"use strict";var tee=S5(),F5=Cf(),s7e=Ju(),m7=p7(),nee=Object.defineProperty,yd;yd=aee.exports=function(e){if(!(this instanceof yd))throw new TypeError("Constructor requires 'new'");e=String(e),m7.call(this,e),nee(this,"__length__",F5("",e.length))};tee&&tee(yd,m7);delete yd.prototype.constructor;yd.prototype=Object.create(m7.prototype,{_next:F5(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:F5(function(e){var r=this.__list__[e],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})});nee(yd.prototype,s7e.toStringTag,F5("c","String Iterator"))});var see=ie((Yze,oee)=>{"use strict";var l7e=Zg(),f7e=ju(),u7e=jg(),c7e=Ju().iterator,h7e=Array.isArray;oee.exports=function(e){return f7e(e)?h7e(e)||u7e(e)||l7e(e)?!0:typeof e[c7e]=="function":!1}});var fee=ie((Wze,lee)=>{"use strict";var v7e=see();lee.exports=function(e){if(!v7e(e))throw new TypeError(e+" is not iterable");return e}});var x7=ie((Xze,hee)=>{"use strict";var d7e=Zg(),p7e=jg(),uee=ree(),g7e=iee(),y7e=fee(),cee=Ju().iterator;hee.exports=function(e){return typeof y7e(e)[cee]=="function"?e[cee]():d7e(e)?new uee(e):p7e(e)?new g7e(e):new uee(e)}});var dee=ie((Zze,vee)=>{"use strict";var m7e=Zg(),x7e=pd(),b7e=jg(),_7e=x7(),w7e=Array.isArray,b7=Function.prototype.call,A7e=Array.prototype.some;vee.exports=function(e,r){var t,n=arguments[2],a,o,i,s,f,l,u;if(w7e(e)||m7e(e)?t="array":b7e(e)?t="string":e=_7e(e),x7e(r),o=function(){i=!0},t==="array"){A7e.call(e,function(c){return b7.call(r,n,c,o),i});return}if(t==="string"){for(f=e.length,s=0;s<f&&(l=e[s],s+1<f&&(u=l.charCodeAt(0),u>=55296&&u<=56319&&(l+=e[++s])),b7.call(r,n,l,o),!i);++s);return}for(a=e.next();!a.done;){if(b7.call(r,n,a.value,o),i)return;a=e.next()}}});var gee=ie((jze,pee)=>{"use strict";pee.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()});var xee=ie((Jze,mee)=>{"use strict";var T7e=ju(),P5=S5(),I5=W$(),M7e=Sf(),E7e=Z$(),kf=Cf(),S7e=x7(),C7e=dee(),k7e=Ju().toStringTag,yee=gee(),L7e=Array.isArray,w7=Object.defineProperty,_7=Object.prototype.hasOwnProperty,R7e=Object.getPrototypeOf,$u;mee.exports=$u=function(){var e=arguments[0],r;if(!(this instanceof $u))throw new TypeError("Constructor requires 'new'");return r=yee&&P5&&WeakMap!==$u?P5(new WeakMap,R7e(this)):this,T7e(e)&&(L7e(e)||(e=S7e(e))),w7(r,"__weakMapData__",kf("c","$weakMap$"+E7e())),e&&C7e(e,function(t){M7e(t),r.set(t[0],t[1])}),r};yee&&(P5&&P5($u,WeakMap),$u.prototype=Object.create(WeakMap.prototype,{constructor:kf($u)}));Object.defineProperties($u.prototype,{delete:kf(function(e){return _7.call(I5(e),this.__weakMapData__)?(delete e[this.__weakMapData__],!0):!1}),get:kf(function(e){if(_7.call(I5(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:kf(function(e){return _7.call(I5(e),this.__weakMapData__)}),set:kf(function(e,r){return w7(I5(e),this.__weakMapData__,kf("c",r)),this}),toString:kf(function(){return"[object WeakMap]"})});w7($u.prototype,k7e,kf("c","WeakMap"))});var A7=ie(($ze,bee)=>{"use strict";bee.exports=F$()()?WeakMap:xee()});var wee=ie((Kze,_ee)=>{"use strict";_ee.exports=function(e,r,t){if(typeof Array.prototype.findIndex=="function")return e.findIndex(r,t);if(typeof r!="function")throw new TypeError("predicate must be a function");var n=Object(e),a=n.length;if(a===0)return-1;for(var o=0;o<a;o++)if(r.call(t,n[o],o,n))return o;return-1}});var E7=ie((Qze,Mee)=>{"use strict";var O5=Zu(),D7e=M0(),M7=Ua(),F7e=Dl(),I7e=E0(),Aee=k$(),P7e=R$(),{float32:O7e,fract32:T7}=m5(),N7e=A7(),Tee=Xv(),B7e=wee(),q7e=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,z7e=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,U7e=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,G7e=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,H7e=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,V7e=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;Mee.exports=Kn;function Kn(e,r){if(!(this instanceof Kn))return new Kn(e,r);if(typeof e=="function"?(r||(r={}),r.regl=e):r=e,r.length&&(r.positions=r),e=r.regl,!e.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=e._gl,this.regl=e,this.passes=[],this.shaders=Kn.shaders.has(e)?Kn.shaders.get(e):Kn.shaders.set(e,Kn.createShaders(e)).get(e),this.update(r)}Kn.dashMult=2;Kn.maxPatternLength=256;Kn.precisionThreshold=3e6;Kn.maxPoints=1e4;Kn.maxLines=2048;Kn.shaders=new N7e;Kn.createShaders=function(e){let r=e.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),t={primitive:"triangle strip",instances:e.prop("count"),count:4,offset:0,uniforms:{miterMode:(i,s)=>s.join==="round"?2:1,miterLimit:e.prop("miterLimit"),scale:e.prop("scale"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),thickness:e.prop("thickness"),dashTexture:e.prop("dashTexture"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),dashLength:e.prop("dashLength"),viewport:(i,s)=>[s.viewport.x,s.viewport.y,i.viewportWidth,i.viewportHeight],depth:e.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:(i,s)=>!s.overlay},stencil:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport")},n=e(M7({vert:q7e,frag:z7e,attributes:{lineEnd:{buffer:r,divisor:0,stride:8,offset:0},lineTop:{buffer:r,divisor:0,stride:8,offset:4},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},t)),a;try{a=e(M7({cull:{enable:!0,face:"back"},vert:H7e,frag:V7e,attributes:{lineEnd:{buffer:r,divisor:0,stride:8,offset:0},lineTop:{buffer:r,divisor:0,stride:8,offset:4},aColor:{buffer:e.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:e.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:e.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},t))}catch(i){a=n}return{fill:e({primitive:"triangle",elements:(i,s)=>s.triangles,offset:0,vert:U7e,frag:G7e,uniforms:{scale:e.prop("scale"),color:e.prop("fill"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),translate:e.prop("translate"),opacity:e.prop("opacity"),pixelRatio:e.context("pixelRatio"),id:e.prop("id"),viewport:(i,s)=>[s.viewport.x,s.viewport.y,i.viewportWidth,i.viewportHeight]},attributes:{position:{buffer:e.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:e.prop("positionFractBuffer"),stride:8,offset:8}},blend:t.blend,depth:{enable:!1},scissor:t.scissor,stencil:t.stencil,viewport:t.viewport}),rect:n,miter:a}};Kn.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null};Kn.prototype.render=function(...e){e.length&&this.update(...e),this.draw()};Kn.prototype.draw=function(...e){return(e.length?e:this.passes).forEach((r,t)=>{if(r&&Array.isArray(r))return this.draw(...r);typeof r=="number"&&(r=this.passes[r]),r&&r.count>1&&r.opacity&&(this.regl._refresh(),r.fill&&r.triangles&&r.triangles.length>2&&this.shaders.fill(r),r.thickness&&(r.scale[0]*r.viewport.width>Kn.precisionThreshold||r.scale[1]*r.viewport.height>Kn.precisionThreshold?this.shaders.rect(r):r.join==="rect"||!r.join&&(r.thickness<=2||r.count>=Kn.maxPoints)?this.shaders.rect(r):this.shaders.miter(r)))}),this};Kn.prototype.update=function(e){if(!e)return;e.length!=null?typeof e[0]=="number"&&(e=[{positions:e}]):Array.isArray(e)||(e=[e]);let{regl:r,gl:t}=this;if(e.forEach((a,o)=>{let i=this.passes[o];if(a!==void 0){if(a===null){this.passes[o]=null;return}if(typeof a[0]=="number"&&(a={positions:a}),a=F7e(a,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(this.passes[o]=i={id:o,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:r.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:r.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:r.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},a=M7({},Kn.defaults,a)),a.thickness!=null&&(i.thickness=parseFloat(a.thickness)),a.opacity!=null&&(i.opacity=parseFloat(a.opacity)),a.miterLimit!=null&&(i.miterLimit=parseFloat(a.miterLimit)),a.overlay!=null&&(i.overlay=!!a.overlay,o<Kn.maxLines&&(i.depth=2*(Kn.maxLines-1-o%Kn.maxLines)/Kn.maxLines-1)),a.join!=null&&(i.join=a.join),a.hole!=null&&(i.hole=a.hole),a.fill!=null&&(i.fill=a.fill?O5(a.fill,"uint8"):null),a.viewport!=null&&(i.viewport=Tee(a.viewport)),i.viewport||(i.viewport=Tee([t.drawingBufferWidth,t.drawingBufferHeight])),a.close!=null&&(i.close=a.close),a.positions===null&&(a.positions=[]),a.positions){let l,u;if(a.positions.x&&a.positions.y){let x=a.positions.x,A=a.positions.y;u=i.count=Math.max(x.length,A.length),l=new Float64Array(u*2);for(let w=0;w<u;w++)l[w*2]=x[w],l[w*2+1]=A[w]}else l=I7e(a.positions,"float64"),u=i.count=Math.floor(l.length/2);let c=i.bounds=D7e(l,2);if(i.fill){let x=[],A={},w=0;for(let y=0,_=0,M=i.count;y<M;y++){let b=l[y*2],E=l[y*2+1];isNaN(b)||isNaN(E)||b==null||E==null?(b=l[w*2],E=l[w*2+1],A[y]=w):w=y,x[_++]=b,x[_++]=E}if(a.splitNull){i.count-1 in A||(A[i.count]=i.count-1);let y=Object.keys(A).map(Number).sort((E,d)=>E-d),_=[],M=0,b=i.hole!=null?i.hole[0]:null;if(b!=null){let E=B7e(y,d=>d>=b);y=y.slice(0,E),y.push(b)}for(let E=0;E<y.length;E++){let d=x.slice(M*2,y[E]*2).concat(b?x.slice(b*2):[]),T=(i.hole||[]).map(h=>h-b+(y[E]-M)),g=Aee(d,T);g=g.map(h=>h+M+(h+M<y[E]?0:b-y[E])),_.push(...g),M=y[E]+1}for(let E=0,d=_.length;E<d;E++)A[_[E]]!=null&&(_[E]=A[_[E]]);i.triangles=_}else{let y=Aee(x,i.hole||[]);for(let _=0,M=y.length;_<M;_++)A[y[_]]!=null&&(y[_]=A[y[_]]);i.triangles=y}}let v=new Float64Array(l);P7e(v,2,c);let m=new Float64Array(u*2+6);i.close?l[0]===l[u*2-2]&&l[1]===l[u*2-1]?(m[0]=v[u*2-4],m[1]=v[u*2-3]):(m[0]=v[u*2-2],m[1]=v[u*2-1]):(m[0]=v[0],m[1]=v[1]),m.set(v,2),i.close?l[0]===l[u*2-2]&&l[1]===l[u*2-1]?(m[u*2+2]=v[2],m[u*2+3]=v[3],i.count-=1):(m[u*2+2]=v[0],m[u*2+3]=v[1],m[u*2+4]=v[2],m[u*2+5]=v[3]):(m[u*2+2]=v[u*2-2],m[u*2+3]=v[u*2-1],m[u*2+4]=v[u*2-2],m[u*2+5]=v[u*2-1]);var s=O7e(m);i.positionBuffer(s);var f=T7(m,s);i.positionFractBuffer(f)}if(a.range?i.range=a.range:i.range||(i.range=i.bounds),(a.range||a.positions)&&i.count){let l=i.bounds,u=l[2]-l[0],c=l[3]-l[1],v=i.range[2]-i.range[0],m=i.range[3]-i.range[1];i.scale=[u/v,c/m],i.translate=[-i.range[0]/v+l[0]/v||0,-i.range[1]/m+l[1]/m||0],i.scaleFract=T7(i.scale),i.translateFract=T7(i.translate)}if(a.dashes){let l=0,u;if(!a.dashes||a.dashes.length<2)l=1,u=new Uint8Array([255,255,255,255,255,255,255,255]);else{l=0;for(let m=0;m<a.dashes.length;++m)l+=a.dashes[m];u=new Uint8Array(l*Kn.dashMult);let c=0,v=255;for(let m=0;m<2;m++)for(let x=0;x<a.dashes.length;++x){for(let A=0,w=a.dashes[x]*Kn.dashMult*.5;A<w;++A)u[c++]=v;v^=255}}i.dashLength=l,i.dashTexture({channels:1,data:u,width:u.length,height:1,mag:"linear",min:"linear"},0,0)}if(a.color){let l=i.count,u=a.color;u||(u="transparent");let c=new Uint8Array(l*4+4);if(!Array.isArray(u)||typeof u[0]=="number"){let v=O5(u,"uint8");for(let m=0;m<l+1;m++)c.set(v,m*4)}else{for(let v=0;v<l;v++){let m=O5(u[v],"uint8");c.set(m,v*4)}c.set(O5(u[0],"uint8"),l*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:c})}}}),e.length<this.passes.length){for(let a=e.length;a<this.passes.length;a++){let o=this.passes[a];o&&(o.colorBuffer.destroy(),o.positionBuffer.destroy(),o.dashTexture.destroy())}this.passes.length=e.length}let n=[];for(let a=0;a<this.passes.length;a++)this.passes[a]!==null&&n.push(this.passes[a]);return this.passes=n,this};Kn.prototype.destroy=function(){return this.passes.forEach(e=>{e.colorBuffer.destroy(),e.positionBuffer.destroy(),e.dashTexture.destroy()}),this.passes.length=0,this}});var Lee=ie((eUe,kee)=>{"use strict";var Y7e=M0(),W7e=Zu(),X7e=XM(),Z7e=Dl(),Eee=Ua(),See=E0(),{float32:j7e,fract32:S7}=m5();kee.exports=J7e;var Cee=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function J7e(e,r){if(typeof e=="function"?(r||(r={}),r.regl=e):r=e,r.length&&(r.positions=r),e=r.regl,!e.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");let t=e._gl,n,a,o,i,s,f,l={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},u=[];return i=e.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),a=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),s=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),f=e.buffer({usage:"static",type:"float",data:Cee}),x(r),n=e({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:e.prop("range"),lineWidth:e.prop("lineWidth"),capSize:e.prop("capSize"),opacity:e.prop("opacity"),scale:e.prop("scale"),translate:e.prop("translate"),scaleFract:e.prop("scaleFract"),translateFract:e.prop("translateFract"),viewport:(w,y)=>[y.viewport.x,y.viewport.y,w.viewportWidth,w.viewportHeight]},attributes:{color:{buffer:i,offset:(w,y)=>y.offset*4,divisor:1},position:{buffer:a,offset:(w,y)=>y.offset*8,divisor:1},positionFract:{buffer:o,offset:(w,y)=>y.offset*8,divisor:1},error:{buffer:s,offset:(w,y)=>y.offset*16,divisor:1},direction:{buffer:f,stride:24,offset:0},lineOffset:{buffer:f,stride:24,offset:8},capOffset:{buffer:f,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:e.prop("viewport")},viewport:e.prop("viewport"),stencil:!1,instances:e.prop("count"),count:Cee.length}),Eee(c,{update:x,draw:v,destroy:A,regl:e,gl:t,canvas:t.canvas,groups:u}),c;function c(w){w?x(w):w===null&&A(),v()}function v(w){if(typeof w=="number")return m(w);w&&!Array.isArray(w)&&(w=[w]),e._refresh(),u.forEach((y,_)=>{if(y){if(w&&(w[_]?y.draw=!0:y.draw=!1),!y.draw){y.draw=!0;return}m(_)}})}function m(w){typeof w=="number"&&(w=u[w]),w!=null&&w&&w.count&&w.color&&w.opacity&&w.positions&&w.positions.length>1&&(w.scaleRatio=[w.scale[0]*w.viewport.width,w.scale[1]*w.viewport.height],n(w),w.after&&w.after(w))}function x(w){if(!w)return;w.length!=null?typeof w[0]=="number"&&(w=[{positions:w}]):Array.isArray(w)||(w=[w]);let y=0,_=0;if(c.groups=u=w.map((E,d)=>{let T=u[d];if(E)typeof E=="function"?E={after:E}:typeof E[0]=="number"&&(E={positions:E});else return T;return E=Z7e(E,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),T||(u[d]=T={id:d,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},E=Eee({},l,E)),X7e(T,E,[{lineWidth:g=>+g*.5,capSize:g=>+g*.5,opacity:parseFloat,errors:g=>(g=See(g),_+=g.length,g),positions:(g,h)=>(g=See(g,"float64"),h.count=Math.floor(g.length/2),h.bounds=Y7e(g,2),h.offset=y,y+=h.count,g)},{color:(g,h)=>{let S=h.count;if(g||(g="transparent"),!Array.isArray(g)||typeof g[0]=="number"){let C=g;g=Array(S);for(let k=0;k<S;k++)g[k]=C}if(g.length<S)throw Error("Not enough colors");let p=new Uint8Array(S*4);for(let C=0;C<S;C++){let k=W7e(g[C],"uint8");p.set(k,C*4)}return p},range:(g,h,S)=>{let p=h.bounds;return g||(g=p),h.scale=[1/(g[2]-g[0]),1/(g[3]-g[1])],h.translate=[-g[0],-g[1]],h.scaleFract=S7(h.scale),h.translateFract=S7(h.translate),g},viewport:g=>{let h;return Array.isArray(g)?h={x:g[0],y:g[1],width:g[2]-g[0],height:g[3]-g[1]}:g?(h={x:g.x||g.left||0,y:g.y||g.top||0},g.right?h.width=g.right-h.x:h.width=g.w||g.width||0,g.bottom?h.height=g.bottom-h.y:h.height=g.h||g.height||0):h={x:0,y:0,width:t.drawingBufferWidth,height:t.drawingBufferHeight},h}}]),T}),y||_){let E=u.reduce((h,S,p)=>h+(S?S.count:0),0),d=new Float64Array(E*2),T=new Uint8Array(E*4),g=new Float32Array(E*4);u.forEach((h,S)=>{if(!h)return;let{positions:p,count:C,offset:k,color:D,errors:P}=h;C&&(T.set(D,k*4),g.set(P,k*4),d.set(p,k*2))});var M=j7e(d);a(M);var b=S7(d,M);o(b),i(T),s(g)}}function A(){a.destroy(),o.destroy(),i.destroy(),s.destroy(),f.destroy()}}});var Fee=ie((rUe,Dee)=>{var Ree=/[\'\"]/;Dee.exports=function(r){return r?(Ree.test(r.charAt(0))&&(r=r.substr(1)),Ree.test(r.charAt(r.length-1))&&(r=r.substr(0,r.length-1)),r):""}});var C7=ie(()=>{});var k7=ie(()=>{});var L7=ie(()=>{});var R7=ie(()=>{});var D7=ie(()=>{});var Nee=ie((hUe,Oee)=>{"use strict";function Iee(e,r){if(typeof e!="string")return[e];var t=[e];typeof r=="string"||Array.isArray(r)?r={brackets:r}:r||(r={});var n=r.brackets?Array.isArray(r.brackets)?r.brackets:[r.brackets]:["{}","[]","()"],a=r.escape||"___",o=!!r.flat;n.forEach(function(f){var l=new RegExp(["\\",f[0],"[^\\",f[0],"\\",f[1],"]*\\",f[1]].join("")),u=[];function c(v,m,x){var A=t.push(v.slice(f[0].length,-f[1].length))-1;return u.push(A),a+A+a}t.forEach(function(v,m){for(var x,A=0;v!=x;)if(x=v,v=v.replace(l,c),A++>1e4)throw Error("References have circular dependency. Please, check them.");t[m]=v}),u=u.reverse(),t=t.map(function(v){return u.forEach(function(m){v=v.replace(new RegExp("(\\"+a+m+"\\"+a+")","g"),f[0]+"$1"+f[1])}),v})});var i=new RegExp("\\"+a+"([0-9]+)\\"+a);function s(f,l,u){for(var c=[],v,m=0;v=i.exec(f);){if(m++>1e4)throw Error("Circular references in parenthesis");c.push(f.slice(0,v.index)),c.push(s(l[v[1]],l)),f=f.slice(v.index+v[0].length)}return c.push(f),c}return o?t:s(t[0],t)}function Pee(e,r){if(r&&r.flat){var t=r&&r.escape||"___",n=e[0],a;if(!n)return"";for(var o=new RegExp("\\"+t+"([0-9]+)\\"+t),i=0;n!=a;){if(i++>1e4)throw Error("Circular references in "+e);a=n,n=n.replace(o,s)}return n}return e.reduce(function f(l,u){return Array.isArray(u)&&(u=u.reduce(f,"")),l+u},"");function s(f,l){if(e[l]==null)throw Error("Reference "+l+"is undefined");return e[l]}}function F7(e,r){return Array.isArray(e)?Pee(e,r):Iee(e,r)}F7.parse=Iee;F7.stringify=Pee;Oee.exports=F7});var zee=ie((vUe,qee)=>{"use strict";var Bee=Nee();qee.exports=function(r,t,n){if(r==null)throw Error("First argument should be a string");if(t==null)throw Error("Separator should be a string or a RegExp");n?(typeof n=="string"||Array.isArray(n))&&(n={ignore:n}):n={},n.escape==null&&(n.escape=!0),n.ignore==null?n.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof n.ignore=="string"&&(n.ignore=[n.ignore]),n.ignore=n.ignore.map(function(c){return c.length===1&&(c=c+c),c}));var a=Bee.parse(r,{flat:!0,brackets:n.ignore}),o=a[0],i=o.split(t);if(n.escape){for(var s=[],f=0;f<i.length;f++){var l=i[f],u=i[f+1];l[l.length-1]==="\\"&&l[l.length-2]!=="\\"?(s.push(l+t+u),f++):s.push(l)}i=s}for(var f=0;f<i.length;f++)a[0]=i[f],i[f]=Bee.stringify(a,{flat:!0});return i}});var Uee=ie(()=>{});var I7=ie((gUe,Gee)=>{"use strict";var $7e=Uee();Gee.exports={isSize:function(r){return/^[\d\.]/.test(r)||r.indexOf("/")!==-1||$7e.indexOf(r)!==-1}}});var Wee=ie((yUe,Yee)=>{"use strict";var K7e=Fee(),Q7e=C7(),eEe=k7(),rEe=L7(),tEe=R7(),nEe=D7(),P7=zee(),aEe=I7().isSize;Yee.exports=Vee;var Qg=Vee.cache={};function Vee(e){if(typeof e!="string")throw new Error("Font argument must be a string.");if(Qg[e])return Qg[e];if(e==="")throw new Error("Cannot parse an empty string.");if(eEe.indexOf(e)!==-1)return Qg[e]={system:e};for(var r={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},t=P7(e,/\s+/),n;n=t.shift();){if(Q7e.indexOf(n)!==-1)return["style","variant","weight","stretch"].forEach(function(o){r[o]=n}),Qg[e]=r;if(tEe.indexOf(n)!==-1){r.style=n;continue}if(n==="normal"||n==="small-caps"){r.variant=n;continue}if(nEe.indexOf(n)!==-1){r.stretch=n;continue}if(rEe.indexOf(n)!==-1){r.weight=n;continue}if(aEe(n)){var a=P7(n,"/");if(r.size=a[0],a[1]!=null?r.lineHeight=Hee(a[1]):t[0]==="/"&&(t.shift(),r.lineHeight=Hee(t.shift())),!t.length)throw new Error("Missing required font-family.");return r.family=P7(t.join(" "),/\s*,\s*/).map(K7e),Qg[e]=r}throw new Error("Unknown or unsupported font token: "+n)}throw new Error("Missing required font-size.")}function Hee(e){var r=parseFloat(e);return r.toString()===e?r:e}});var N7=ie((mUe,Xee)=>{"use strict";var iEe=Dl(),oEe=I7().isSize,sEe=ry(C7()),lEe=ry(k7()),fEe=ry(L7()),uEe=ry(R7()),cEe=ry(D7()),hEe={normal:1,"small-caps":1},vEe={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},O7={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};Xee.exports=function(r){if(r=iEe(r,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),r.system)return r.system&&ey(r.system,lEe),r.system;if(ey(r.style,uEe),ey(r.variant,hEe),ey(r.weight,fEe),ey(r.stretch,cEe),r.size==null&&(r.size=O7.size),typeof r.size=="number"&&(r.size+="px"),!oEe)throw Error("Bad size value `"+r.size+"`");r.family||(r.family=O7.family),Array.isArray(r.family)&&(r.family.length||(r.family=[O7.family]),r.family=r.family.map(function(n){return vEe[n]?n:'"'+n+'"'}).join(", "));var t=[];return t.push(r.style),r.variant!==r.style&&t.push(r.variant),r.weight!==r.variant&&r.weight!==r.style&&t.push(r.weight),r.stretch!==r.weight&&r.stretch!==r.variant&&r.stretch!==r.style&&t.push(r.stretch),t.push(r.size+(r.lineHeight==null||r.lineHeight==="normal"||r.lineHeight+""=="1"?"":"/"+r.lineHeight)),t.push(r.family),t.filter(Boolean).join(" ")};function ey(e,r){if(e&&!r[e]&&!sEe[e])throw Error("Unknown keyword `"+e+"`");return e}function ry(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=1;return r}});var jee=ie((xUe,Zee)=>{"use strict";Zee.exports={parse:Wee(),stringify:N7()}});var z7=ie((B7,q7)=>{(function(e,r){typeof B7=="object"&&typeof q7!="undefined"?q7.exports=r():typeof define=="function"&&define.amd?define(r):e.createREGL=r()})(B7,function(){"use strict";var e=function(he,Oe){for(var Ue=Object.keys(Oe),dr=0;dr<Ue.length;++dr)he[Ue[dr]]=Oe[Ue[dr]];return he},r=0,t=0,n=5,a=6;function o(he,Oe){this.id=r++,this.type=he,this.data=Oe}function i(he){return he.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function s(he){if(he.length===0)return[];var Oe=he.charAt(0),Ue=he.charAt(he.length-1);if(he.length>1&&Oe===Ue&&(Oe==='"'||Oe==="'"))return['"'+i(he.substr(1,he.length-2))+'"'];var dr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(he);if(dr)return s(he.substr(0,dr.index)).concat(s(dr[1])).concat(s(he.substr(dr.index+dr[0].length)));var br=he.split(".");if(br.length===1)return['"'+i(he)+'"'];for(var Sr=[],xr=0;xr<br.length;++xr)Sr=Sr.concat(s(br[xr]));return Sr}function f(he){return"["+s(he).join("][")+"]"}function l(he,Oe){return new o(he,f(Oe+""))}function u(he){return typeof he=="function"&&!he._reglType||he instanceof o}function c(he,Oe){if(typeof he=="function")return new o(t,he);if(typeof he=="number"||typeof he=="boolean")return new o(n,he);if(Array.isArray(he))return new o(a,he.map(function(Ue,dr){return c(Ue,Oe+"["+dr+"]")}));if(he instanceof o)return he}var v={DynamicVariable:o,define:l,isDynamic:u,unbox:c,accessor:f},m={next:typeof requestAnimationFrame=="function"?function(he){return requestAnimationFrame(he)}:function(he){return setTimeout(he,16)},cancel:typeof cancelAnimationFrame=="function"?function(he){return cancelAnimationFrame(he)}:clearTimeout},x=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function A(){var he={"":0},Oe=[""];return{id:function(Ue){var dr=he[Ue];return dr||(dr=he[Ue]=Oe.length,Oe.push(Ue),dr)},str:function(Ue){return Oe[Ue]}}}function w(he,Oe,Ue){var dr=document.createElement("canvas");e(dr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),he.appendChild(dr),he===document.body&&(dr.style.position="absolute",e(he.style,{margin:0,padding:0}));function br(){var Pr=window.innerWidth,Hr=window.innerHeight;if(he!==document.body){var Vr=dr.getBoundingClientRect();Pr=Vr.right-Vr.left,Hr=Vr.bottom-Vr.top}dr.width=Ue*Pr,dr.height=Ue*Hr}var Sr;he!==document.body&&typeof ResizeObserver=="function"?(Sr=new ResizeObserver(function(){setTimeout(br)}),Sr.observe(he)):window.addEventListener("resize",br,!1);function xr(){Sr?Sr.disconnect():window.removeEventListener("resize",br),he.removeChild(dr)}return br(),{canvas:dr,onDestroy:xr}}function y(he,Oe){function Ue(dr){try{return he.getContext(dr,Oe)}catch(br){return null}}return Ue("webgl")||Ue("experimental-webgl")||Ue("webgl-experimental")}function _(he){return typeof he.nodeName=="string"&&typeof he.appendChild=="function"&&typeof he.getBoundingClientRect=="function"}function M(he){return typeof he.drawArrays=="function"||typeof he.drawElements=="function"}function b(he){return typeof he=="string"?he.split():he}function E(he){return typeof he=="string"?document.querySelector(he):he}function d(he){var Oe=he||{},Ue,dr,br,Sr,xr={},Pr=[],Hr=[],Vr=typeof window=="undefined"?1:window.devicePixelRatio,Yr=!1,Rt={},yt=function(cr){},at=function(){};if(typeof Oe=="string"?Ue=document.querySelector(Oe):typeof Oe=="object"&&(_(Oe)?Ue=Oe:M(Oe)?(Sr=Oe,br=Sr.canvas):("gl"in Oe?Sr=Oe.gl:"canvas"in Oe?br=E(Oe.canvas):"container"in Oe&&(dr=E(Oe.container)),"attributes"in Oe&&(xr=Oe.attributes),"extensions"in Oe&&(Pr=b(Oe.extensions)),"optionalExtensions"in Oe&&(Hr=b(Oe.optionalExtensions)),"onDone"in Oe&&(yt=Oe.onDone),"profile"in Oe&&(Yr=!!Oe.profile),"pixelRatio"in Oe&&(Vr=+Oe.pixelRatio),"cachedCode"in Oe&&(Rt=Oe.cachedCode))),Ue&&(Ue.nodeName.toLowerCase()==="canvas"?br=Ue:dr=Ue),!Sr){if(!br){var Dr=w(dr||document.body,yt,Vr);if(!Dr)return null;br=Dr.canvas,at=Dr.onDestroy}xr.premultipliedAlpha===void 0&&(xr.premultipliedAlpha=!0),Sr=y(br,xr)}return Sr?{gl:Sr,canvas:br,container:dr,extensions:Pr,optionalExtensions:Hr,pixelRatio:Vr,profile:Yr,cachedCode:Rt,onDone:yt,onDestroy:at}:(at(),yt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function T(he,Oe){var Ue={};function dr(xr){var Pr=xr.toLowerCase(),Hr;try{Hr=Ue[Pr]=he.getExtension(Pr)}catch(Vr){}return!!Hr}for(var br=0;br<Oe.extensions.length;++br){var Sr=Oe.extensions[br];if(!dr(Sr))return Oe.onDestroy(),Oe.onDone('"'+Sr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Oe.optionalExtensions.forEach(dr),{extensions:Ue,restore:function(){Object.keys(Ue).forEach(function(xr){if(Ue[xr]&&!dr(xr))throw new Error("(regl): error restoring extension "+xr)})}}}function g(he,Oe){for(var Ue=Array(he),dr=0;dr<he;++dr)Ue[dr]=Oe(dr);return Ue}var h=5120,S=5121,p=5122,C=5123,k=5124,D=5125,P=5126;function O(he){for(var Oe=16;Oe<=1<<28;Oe*=16)if(he<=Oe)return Oe;return 0}function F(he){var Oe,Ue;return Oe=(he>65535)<<4,he>>>=Oe,Ue=(he>255)<<3,he>>>=Ue,Oe|=Ue,Ue=(he>15)<<2,he>>>=Ue,Oe|=Ue,Ue=(he>3)<<1,he>>>=Ue,Oe|=Ue,Oe|he>>1}function L(){var he=g(8,function(){return[]});function Oe(Sr){var xr=O(Sr),Pr=he[F(xr)>>2];return Pr.length>0?Pr.pop():new ArrayBuffer(xr)}function Ue(Sr){he[F(Sr.byteLength)>>2].push(Sr)}function dr(Sr,xr){var Pr=null;switch(Sr){case h:Pr=new Int8Array(Oe(xr),0,xr);break;case S:Pr=new Uint8Array(Oe(xr),0,xr);break;case p:Pr=new Int16Array(Oe(2*xr),0,xr);break;case C:Pr=new Uint16Array(Oe(2*xr),0,xr);break;case k:Pr=new Int32Array(Oe(4*xr),0,xr);break;case D:Pr=new Uint32Array(Oe(4*xr),0,xr);break;case P:Pr=new Float32Array(Oe(4*xr),0,xr);break;default:return null}return Pr.length!==xr?Pr.subarray(0,xr):Pr}function br(Sr){Ue(Sr.buffer)}return{alloc:Oe,free:Ue,allocType:dr,freeType:br}}var I=L();I.zero=L();var q=3408,z=3410,W=3411,$=3412,j=3413,G=3414,B=3415,X=33901,te=33902,J=3379,ae=3386,ee=34921,H=36347,re=36348,V=35661,ne=35660,le=34930,de=36349,_e=34076,me=34024,ve=7936,be=7937,we=7938,Se=35724,Ae=34047,Ie=36063,Ve=34852,pe=3553,xe=34067,Te=34069,qe=33984,er=6408,ze=5126,Ce=5121,Le=36160,Ne=36053,tr=36064,ir=16384,mr=function(he,Oe){var Ue=1;Oe.ext_texture_filter_anisotropic&&(Ue=he.getParameter(Ae));var dr=1,br=1;Oe.webgl_draw_buffers&&(dr=he.getParameter(Ve),br=he.getParameter(Ie));var Sr=!!Oe.oes_texture_float;if(Sr){var xr=he.createTexture();he.bindTexture(pe,xr),he.texImage2D(pe,0,er,1,1,0,er,ze,null);var Pr=he.createFramebuffer();if(he.bindFramebuffer(Le,Pr),he.framebufferTexture2D(Le,tr,pe,xr,0),he.bindTexture(pe,null),he.checkFramebufferStatus(Le)!==Ne)Sr=!1;else{he.viewport(0,0,1,1),he.clearColor(1,0,0,1),he.clear(ir);var Hr=I.allocType(ze,4);he.readPixels(0,0,1,1,er,ze,Hr),he.getError()?Sr=!1:(he.deleteFramebuffer(Pr),he.deleteTexture(xr),Sr=Hr[0]===1),I.freeType(Hr)}}var Vr=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Yr=!0;if(!Vr){var Rt=he.createTexture(),yt=I.allocType(Ce,36);he.activeTexture(qe),he.bindTexture(xe,Rt),he.texImage2D(Te,0,er,3,3,0,er,Ce,yt),I.freeType(yt),he.bindTexture(xe,null),he.deleteTexture(Rt),Yr=!he.getError()}return{colorBits:[he.getParameter(z),he.getParameter(W),he.getParameter($),he.getParameter(j)],depthBits:he.getParameter(G),stencilBits:he.getParameter(B),subpixelBits:he.getParameter(q),extensions:Object.keys(Oe).filter(function(at){return!!Oe[at]}),maxAnisotropic:Ue,maxDrawbuffers:dr,maxColorAttachments:br,pointSizeDims:he.getParameter(X),lineWidthDims:he.getParameter(te),maxViewportDims:he.getParameter(ae),maxCombinedTextureUnits:he.getParameter(V),maxCubeMapSize:he.getParameter(_e),maxRenderbufferSize:he.getParameter(me),maxTextureUnits:he.getParameter(le),maxTextureSize:he.getParameter(J),maxAttributes:he.getParameter(ee),maxVertexUniforms:he.getParameter(H),maxVertexTextureUnits:he.getParameter(ne),maxVaryingVectors:he.getParameter(re),maxFragmentUniforms:he.getParameter(de),glsl:he.getParameter(Se),renderer:he.getParameter(be),vendor:he.getParameter(ve),version:he.getParameter(we),readFloat:Sr,npotTextureCube:Yr}},Tr=function(he){return he instanceof Uint8Array||he instanceof Uint16Array||he instanceof Uint32Array||he instanceof Int8Array||he instanceof Int16Array||he instanceof Int32Array||he instanceof Float32Array||he instanceof Float64Array||he instanceof Uint8ClampedArray};function pr(he){return!!he&&typeof he=="object"&&Array.isArray(he.shape)&&Array.isArray(he.stride)&&typeof he.offset=="number"&&he.shape.length===he.stride.length&&(Array.isArray(he.data)||Tr(he.data))}var nr=function(he){return Object.keys(he).map(function(Oe){return he[Oe]})},Me={shape:Q,flatten:ue};function Fe(he,Oe,Ue){for(var dr=0;dr<Oe;++dr)Ue[dr]=he[dr]}function ur(he,Oe,Ue,dr){for(var br=0,Sr=0;Sr<Oe;++Sr)for(var xr=he[Sr],Pr=0;Pr<Ue;++Pr)dr[br++]=xr[Pr]}function je(he,Oe,Ue,dr,br,Sr){for(var xr=Sr,Pr=0;Pr<Oe;++Pr)for(var Hr=he[Pr],Vr=0;Vr<Ue;++Vr)for(var Yr=Hr[Vr],Rt=0;Rt<dr;++Rt)br[xr++]=Yr[Rt]}function Er(he,Oe,Ue,dr,br){for(var Sr=1,xr=Ue+1;xr<Oe.length;++xr)Sr*=Oe[xr];var Pr=Oe[Ue];if(Oe.length-Ue===4){var Hr=Oe[Ue+1],Vr=Oe[Ue+2],Yr=Oe[Ue+3];for(xr=0;xr<Pr;++xr)je(he[xr],Hr,Vr,Yr,dr,br),br+=Sr}else for(xr=0;xr<Pr;++xr)Er(he[xr],Oe,Ue+1,dr,br),br+=Sr}function ue(he,Oe,Ue,dr){var br=1;if(Oe.length)for(var Sr=0;Sr<Oe.length;++Sr)br*=Oe[Sr];else br=0;var xr=dr||I.allocType(Ue,br);switch(Oe.length){case 0:break;case 1:Fe(he,Oe[0],xr);break;case 2:ur(he,Oe[0],Oe[1],xr);break;case 3:je(he,Oe[0],Oe[1],Oe[2],xr,0);break;default:Er(he,Oe,0,xr,0)}return xr}function Q(he){for(var Oe=[],Ue=he;Ue.length;Ue=Ue[0])Oe.push(Ue.length);return Oe}var oe={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ee=5120,Xe=5122,ar=5124,yr=5121,Kr=5123,mt=5125,Ft=5126,wt=5126,bt={int8:Ee,int16:Xe,int32:ar,uint8:yr,uint16:Kr,uint32:mt,float:Ft,float32:wt},Ln=35048,tn=35040,it={dynamic:Ln,stream:tn,static:35044},Mn=Me.flatten,Lt=Me.shape,$t=35044,Un=35040,Gt=5121,Yt=5126,Gn=[];Gn[5120]=1,Gn[5122]=2,Gn[5124]=4,Gn[5121]=1,Gn[5123]=2,Gn[5125]=4,Gn[5126]=4;function Vn(he){return oe[Object.prototype.toString.call(he)]|0}function Va(he,Oe){for(var Ue=0;Ue<Oe.length;++Ue)he[Ue]=Oe[Ue]}function va(he,Oe,Ue,dr,br,Sr,xr){for(var Pr=0,Hr=0;Hr<Ue;++Hr)for(var Vr=0;Vr<dr;++Vr)he[Pr++]=Oe[br*Hr+Sr*Vr+xr]}function Qn(he,Oe,Ue,dr){var br=0,Sr={};function xr(cr){this.id=br++,this.buffer=he.createBuffer(),this.type=cr,this.usage=$t,this.byteLength=0,this.dimension=1,this.dtype=Gt,this.persistentData=null,Ue.profile&&(this.stats={size:0})}xr.prototype.bind=function(){he.bindBuffer(this.type,this.buffer)},xr.prototype.destroy=function(){yt(this)};var Pr=[];function Hr(cr,kr){var zr=Pr.pop();return zr||(zr=new xr(cr)),zr.bind(),Rt(zr,kr,Un,0,1,!1),zr}function Vr(cr){Pr.push(cr)}function Yr(cr,kr,zr){cr.byteLength=kr.byteLength,he.bufferData(cr.type,kr,zr)}function Rt(cr,kr,zr,jr,Br,ft){var ot;if(cr.usage=zr,Array.isArray(kr)){if(cr.dtype=jr||Yt,kr.length>0){var It;if(Array.isArray(kr[0])){ot=Lt(kr);for(var Or=1,Fr=1;Fr<ot.length;++Fr)Or*=ot[Fr];cr.dimension=Or,It=Mn(kr,ot,cr.dtype),Yr(cr,It,zr),ft?cr.persistentData=It:I.freeType(It)}else if(typeof kr[0]=="number"){cr.dimension=Br;var dt=I.allocType(cr.dtype,kr.length);Va(dt,kr),Yr(cr,dt,zr),ft?cr.persistentData=dt:I.freeType(dt)}else Tr(kr[0])&&(cr.dimension=kr[0].length,cr.dtype=jr||Vn(kr[0])||Yt,It=Mn(kr,[kr.length,kr[0].length],cr.dtype),Yr(cr,It,zr),ft?cr.persistentData=It:I.freeType(It))}}else if(Tr(kr))cr.dtype=jr||Vn(kr),cr.dimension=Br,Yr(cr,kr,zr),ft&&(cr.persistentData=new Uint8Array(new Uint8Array(kr.buffer)));else if(pr(kr)){ot=kr.shape;var nt=kr.stride,Qr=kr.offset,et=0,pt=0,Pt=0,Kt=0;ot.length===1?(et=ot[0],pt=1,Pt=nt[0],Kt=0):ot.length===2&&(et=ot[0],pt=ot[1],Pt=nt[0],Kt=nt[1]),cr.dtype=jr||Vn(kr.data)||Yt,cr.dimension=pt;var lt=I.allocType(cr.dtype,et*pt);va(lt,kr.data,et,pt,Pt,Kt,Qr),Yr(cr,lt,zr),ft?cr.persistentData=lt:I.freeType(lt)}else kr instanceof ArrayBuffer&&(cr.dtype=Gt,cr.dimension=Br,Yr(cr,kr,zr),ft&&(cr.persistentData=new Uint8Array(new Uint8Array(kr))))}function yt(cr){Oe.bufferCount--,dr(cr);var kr=cr.buffer;he.deleteBuffer(kr),cr.buffer=null,delete Sr[cr.id]}function at(cr,kr,zr,jr){Oe.bufferCount++;var Br=new xr(kr);Sr[Br.id]=Br;function ft(Or){var Fr=$t,dt=null,nt=0,Qr=0,et=1;return Array.isArray(Or)||Tr(Or)||pr(Or)||Or instanceof ArrayBuffer?dt=Or:typeof Or=="number"?nt=Or|0:Or&&("data"in Or&&(dt=Or.data),"usage"in Or&&(Fr=it[Or.usage]),"type"in Or&&(Qr=bt[Or.type]),"dimension"in Or&&(et=Or.dimension|0),"length"in Or&&(nt=Or.length|0)),Br.bind(),dt?Rt(Br,dt,Fr,Qr,et,jr):(nt&&he.bufferData(Br.type,nt,Fr),Br.dtype=Qr||Gt,Br.usage=Fr,Br.dimension=et,Br.byteLength=nt),Ue.profile&&(Br.stats.size=Br.byteLength*Gn[Br.dtype]),ft}function ot(Or,Fr){he.bufferSubData(Br.type,Fr,Or)}function It(Or,Fr){var dt=(Fr||0)|0,nt;if(Br.bind(),Tr(Or)||Or instanceof ArrayBuffer)ot(Or,dt);else if(Array.isArray(Or)){if(Or.length>0){if(typeof Or[0]=="number"){var Qr=I.allocType(Br.dtype,Or.length);Va(Qr,Or),ot(Qr,dt),I.freeType(Qr)}else if(Array.isArray(Or[0])||Tr(Or[0])){nt=Lt(Or);var et=Mn(Or,nt,Br.dtype);ot(et,dt),I.freeType(et)}}}else if(pr(Or)){nt=Or.shape;var pt=Or.stride,Pt=0,Kt=0,lt=0,_t=0;nt.length===1?(Pt=nt[0],Kt=1,lt=pt[0],_t=0):nt.length===2&&(Pt=nt[0],Kt=nt[1],lt=pt[0],_t=pt[1]);var Wt=Array.isArray(Or.data)?Br.dtype:Vn(Or.data),Xt=I.allocType(Wt,Pt*Kt);va(Xt,Or.data,Pt,Kt,lt,_t,Or.offset),ot(Xt,dt),I.freeType(Xt)}return ft}return zr||ft(cr),ft._reglType="buffer",ft._buffer=Br,ft.subdata=It,Ue.profile&&(ft.stats=Br.stats),ft.destroy=function(){yt(Br)},ft}function Dr(){nr(Sr).forEach(function(cr){cr.buffer=he.createBuffer(),he.bindBuffer(cr.type,cr.buffer),he.bufferData(cr.type,cr.persistentData||cr.byteLength,cr.usage)})}return Ue.profile&&(Oe.getTotalBufferSize=function(){var cr=0;return Object.keys(Sr).forEach(function(kr){cr+=Sr[kr].stats.size}),cr}),{create:at,createStream:Hr,destroyStream:Vr,clear:function(){nr(Sr).forEach(yt),Pr.forEach(yt)},getBuffer:function(cr){return cr&&cr._buffer instanceof xr?cr._buffer:null},restore:Dr,_initBuffer:Rt}}var xn=0,la=0,Yi=1,Fi=1,gi=4,lo=4,Wi={points:xn,point:la,lines:Yi,line:Fi,triangles:gi,triangle:lo,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Cs=0,ks=1,Xi=4,Fa=5120,Zi=5121,Io=5122,Ti=5123,St=5124,un=5125,En=34963,tt=35040,Ka=35044;function Hn(he,Oe,Ue,dr){var br={},Sr=0,xr={uint8:Zi,uint16:Ti};Oe.oes_element_index_uint&&(xr.uint32=un);function Pr(Dr){this.id=Sr++,br[this.id]=this,this.buffer=Dr,this.primType=Xi,this.vertCount=0,this.type=0}Pr.prototype.bind=function(){this.buffer.bind()};var Hr=[];function Vr(Dr){var cr=Hr.pop();return cr||(cr=new Pr(Ue.create(null,En,!0,!1)._buffer)),Rt(cr,Dr,tt,-1,-1,0,0),cr}function Yr(Dr){Hr.push(Dr)}function Rt(Dr,cr,kr,zr,jr,Br,ft){Dr.buffer.bind();var ot;if(cr){var It=ft;!ft&&(!Tr(cr)||pr(cr)&&!Tr(cr.data))&&(It=Oe.oes_element_index_uint?un:Ti),Ue._initBuffer(Dr.buffer,cr,kr,It,3)}else he.bufferData(En,Br,kr),Dr.buffer.dtype=ot||Zi,Dr.buffer.usage=kr,Dr.buffer.dimension=3,Dr.buffer.byteLength=Br;if(ot=ft,!ft){switch(Dr.buffer.dtype){case Zi:case Fa:ot=Zi;break;case Ti:case Io:ot=Ti;break;case un:case St:ot=un;break;default:}Dr.buffer.dtype=ot}Dr.type=ot;var Or=jr;Or<0&&(Or=Dr.buffer.byteLength,ot===Ti?Or>>=1:ot===un&&(Or>>=2)),Dr.vertCount=Or;var Fr=zr;if(zr<0){Fr=Xi;var dt=Dr.buffer.dimension;dt===1&&(Fr=Cs),dt===2&&(Fr=ks),dt===3&&(Fr=Xi)}Dr.primType=Fr}function yt(Dr){dr.elementsCount--,delete br[Dr.id],Dr.buffer.destroy(),Dr.buffer=null}function at(Dr,cr){var kr=Ue.create(null,En,!0),zr=new Pr(kr._buffer);dr.elementsCount++;function jr(Br){if(!Br)kr(),zr.primType=Xi,zr.vertCount=0,zr.type=Zi;else if(typeof Br=="number")kr(Br),zr.primType=Xi,zr.vertCount=Br|0,zr.type=Zi;else{var ft=null,ot=Ka,It=-1,Or=-1,Fr=0,dt=0;Array.isArray(Br)||Tr(Br)||pr(Br)?ft=Br:("data"in Br&&(ft=Br.data),"usage"in Br&&(ot=it[Br.usage]),"primitive"in Br&&(It=Wi[Br.primitive]),"count"in Br&&(Or=Br.count|0),"type"in Br&&(dt=xr[Br.type]),"length"in Br?Fr=Br.length|0:(Fr=Or,dt===Ti||dt===Io?Fr*=2:(dt===un||dt===St)&&(Fr*=4))),Rt(zr,ft,ot,It,Or,Fr,dt)}return jr}return jr(Dr),jr._reglType="elements",jr._elements=zr,jr.subdata=function(Br,ft){return kr.subdata(Br,ft),jr},jr.destroy=function(){yt(zr)},jr}return{create:at,createStream:Vr,destroyStream:Yr,getElements:function(Dr){return typeof Dr=="function"&&Dr._elements instanceof Pr?Dr._elements:null},clear:function(){nr(br).forEach(yt)}}}var Ya=new Float32Array(1),on=new Uint32Array(Ya.buffer),Po=5123;function al(he){for(var Oe=I.allocType(Po,he.length),Ue=0;Ue<he.length;++Ue)if(isNaN(he[Ue]))Oe[Ue]=65535;else if(he[Ue]===1/0)Oe[Ue]=31744;else if(he[Ue]===-1/0)Oe[Ue]=64512;else{Ya[0]=he[Ue];var dr=on[0],br=dr>>>31<<15,Sr=(dr<<1>>>24)-127,xr=dr>>13&1023;if(Sr<-24)Oe[Ue]=br;else if(Sr<-14){var Pr=-14-Sr;Oe[Ue]=br+(xr+1024>>Pr)}else Sr>15?Oe[Ue]=br+31744:Oe[Ue]=br+(Sr+15<<10)+xr}return Oe}function il(he){return Array.isArray(he)||Tr(he)}var L_=34467,ji=3553,Of=34067,Ul=34069,jo=6408,Q0=6406,Gl=6407,Hl=6409,hc=6410,Bd=32854,ol=32855,Nf=36194,xy=32819,R_=32820,eh=33635,qd=34042,vc=6402,dc=34041,sl=35904,Ls=35906,Oo=36193,rh=33776,pc=33777,Vl=33778,th=33779,by=35986,zd=35987,nh=34798,_y=35840,wy=35841,Ud=35842,Ay=35843,Gd=36196,Bf=5121,ah=5123,Hd=5125,Jo=5126,qf=10242,D_=10243,F_=10497,Vd=33071,Ty=33648,gc=10240,I_=10241,zf=9728,ih=9729,yc=9984,mc=9985,Uf=9986,Yl=9987,My=33170,Gf=4352,P_=4353,oh=4354,O_=34046,N_=3317,B_=37440,Ey=37441,xc=37443,Sy=37444,Wl=33984,Cy=[yc,Uf,mc,Yl],fo=[0,Hl,hc,Gl,jo],uo={};uo[Hl]=uo[Q0]=uo[vc]=1,uo[dc]=uo[hc]=2,uo[Gl]=uo[sl]=3,uo[jo]=uo[Ls]=4;function ll(he){return"[object "+he+"]"}var sh=ll("HTMLCanvasElement"),fl=ll("OffscreenCanvas"),bc=ll("CanvasRenderingContext2D"),Yd=ll("ImageBitmap"),ky=ll("HTMLImageElement"),Ly=ll("HTMLVideoElement"),q_=Object.keys(oe).concat([sh,fl,bc,Yd,ky,Ly]),Xl=[];Xl[Bf]=1,Xl[Jo]=4,Xl[Oo]=2,Xl[ah]=2,Xl[Hd]=4;var Wa=[];Wa[Bd]=2,Wa[ol]=2,Wa[Nf]=2,Wa[dc]=4,Wa[rh]=.5,Wa[pc]=.5,Wa[Vl]=1,Wa[th]=1,Wa[by]=.5,Wa[zd]=1,Wa[nh]=1,Wa[_y]=.5,Wa[wy]=.25,Wa[Ud]=.5,Wa[Ay]=.25,Wa[Gd]=.5;function Ry(he){return Array.isArray(he)&&(he.length===0||typeof he[0]=="number")}function Dy(he){if(!Array.isArray(he))return!1;var Oe=he.length;return!(Oe===0||!il(he[0]))}function Zl(he){return Object.prototype.toString.call(he)}function Fy(he){return Zl(he)===sh}function Iy(he){return Zl(he)===fl}function z_(he){return Zl(he)===bc}function U_(he){return Zl(he)===Yd}function G_(he){return Zl(he)===ky}function H_(he){return Zl(he)===Ly}function Wd(he){if(!he)return!1;var Oe=Zl(he);return q_.indexOf(Oe)>=0?!0:Ry(he)||Dy(he)||pr(he)}function Py(he){return oe[Object.prototype.toString.call(he)]|0}function V_(he,Oe){var Ue=Oe.length;switch(he.type){case Bf:case ah:case Hd:case Jo:var dr=I.allocType(he.type,Ue);dr.set(Oe),he.data=dr;break;case Oo:he.data=al(Oe);break;default:}}function Oy(he,Oe){return I.allocType(he.type===Oo?Jo:he.type,Oe)}function Xd(he,Oe){he.type===Oo?(he.data=al(Oe),I.freeType(Oe)):he.data=Oe}function Ny(he,Oe,Ue,dr,br,Sr){for(var xr=he.width,Pr=he.height,Hr=he.channels,Vr=xr*Pr*Hr,Yr=Oy(he,Vr),Rt=0,yt=0;yt<Pr;++yt)for(var at=0;at<xr;++at)for(var Dr=0;Dr<Hr;++Dr)Yr[Rt++]=Oe[Ue*at+dr*yt+br*Dr+Sr];Xd(he,Yr)}function _c(he,Oe,Ue,dr,br,Sr){var xr;if(typeof Wa[he]!="undefined"?xr=Wa[he]:xr=uo[he]*Xl[Oe],Sr&&(xr*=6),br){for(var Pr=0,Hr=Ue;Hr>=1;)Pr+=xr*Hr*Hr,Hr/=2;return Pr}else return xr*Ue*dr}function By(he,Oe,Ue,dr,br,Sr,xr){var Pr={"don't care":Gf,"dont care":Gf,nice:oh,fast:P_},Hr={repeat:F_,clamp:Vd,mirror:Ty},Vr={nearest:zf,linear:ih},Yr=e({mipmap:Yl,"nearest mipmap nearest":yc,"linear mipmap nearest":mc,"nearest mipmap linear":Uf,"linear mipmap linear":Yl},Vr),Rt={none:0,browser:Sy},yt={uint8:Bf,rgba4:xy,rgb565:eh,"rgb5 a1":R_},at={alpha:Q0,luminance:Hl,"luminance alpha":hc,rgb:Gl,rgba:jo,rgba4:Bd,"rgb5 a1":ol,rgb565:Nf},Dr={};Oe.ext_srgb&&(at.srgb=sl,at.srgba=Ls),Oe.oes_texture_float&&(yt.float32=yt.float=Jo),Oe.oes_texture_half_float&&(yt.float16=yt["half float"]=Oo),Oe.webgl_depth_texture&&(e(at,{depth:vc,"depth stencil":dc}),e(yt,{uint16:ah,uint32:Hd,"depth stencil":qd})),Oe.webgl_compressed_texture_s3tc&&e(Dr,{"rgb s3tc dxt1":rh,"rgba s3tc dxt1":pc,"rgba s3tc dxt3":Vl,"rgba s3tc dxt5":th}),Oe.webgl_compressed_texture_atc&&e(Dr,{"rgb atc":by,"rgba atc explicit alpha":zd,"rgba atc interpolated alpha":nh}),Oe.webgl_compressed_texture_pvrtc&&e(Dr,{"rgb pvrtc 4bppv1":_y,"rgb pvrtc 2bppv1":wy,"rgba pvrtc 4bppv1":Ud,"rgba pvrtc 2bppv1":Ay}),Oe.webgl_compressed_texture_etc1&&(Dr["rgb etc1"]=Gd);var cr=Array.prototype.slice.call(he.getParameter(L_));Object.keys(Dr).forEach(function(Be){var Ar=Dr[Be];cr.indexOf(Ar)>=0&&(at[Be]=Ar)});var kr=Object.keys(at);Ue.textureFormats=kr;var zr=[];Object.keys(at).forEach(function(Be){var Ar=at[Be];zr[Ar]=Be});var jr=[];Object.keys(yt).forEach(function(Be){var Ar=yt[Be];jr[Ar]=Be});var Br=[];Object.keys(Vr).forEach(function(Be){var Ar=Vr[Be];Br[Ar]=Be});var ft=[];Object.keys(Yr).forEach(function(Be){var Ar=Yr[Be];ft[Ar]=Be});var ot=[];Object.keys(Hr).forEach(function(Be){var Ar=Hr[Be];ot[Ar]=Be});var It=kr.reduce(function(Be,Ar){var Mr=at[Ar];return Mr===Hl||Mr===Q0||Mr===Hl||Mr===hc||Mr===vc||Mr===dc||Oe.ext_srgb&&(Mr===sl||Mr===Ls)?Be[Mr]=Mr:Mr===ol||Ar.indexOf("rgba")>=0?Be[Mr]=jo:Be[Mr]=Gl,Be},{});function Or(){this.internalformat=jo,this.format=jo,this.type=Bf,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Sy,this.width=0,this.height=0,this.channels=0}function Fr(Be,Ar){Be.internalformat=Ar.internalformat,Be.format=Ar.format,Be.type=Ar.type,Be.compressed=Ar.compressed,Be.premultiplyAlpha=Ar.premultiplyAlpha,Be.flipY=Ar.flipY,Be.unpackAlignment=Ar.unpackAlignment,Be.colorSpace=Ar.colorSpace,Be.width=Ar.width,Be.height=Ar.height,Be.channels=Ar.channels}function dt(Be,Ar){if(!(typeof Ar!="object"||!Ar)){if("premultiplyAlpha"in Ar&&(Be.premultiplyAlpha=Ar.premultiplyAlpha),"flipY"in Ar&&(Be.flipY=Ar.flipY),"alignment"in Ar&&(Be.unpackAlignment=Ar.alignment),"colorSpace"in Ar&&(Be.colorSpace=Rt[Ar.colorSpace]),"type"in Ar){var Mr=Ar.type;Be.type=yt[Mr]}var Mt=Be.width,An=Be.height,$n=Be.channels,At=!1;"shape"in Ar?(Mt=Ar.shape[0],An=Ar.shape[1],Ar.shape.length===3&&($n=Ar.shape[2],At=!0)):("radius"in Ar&&(Mt=An=Ar.radius),"width"in Ar&&(Mt=Ar.width),"height"in Ar&&(An=Ar.height),"channels"in Ar&&($n=Ar.channels,At=!0)),Be.width=Mt|0,Be.height=An|0,Be.channels=$n|0;var De=!1;if("format"in Ar){var Ge=Ar.format,Je=Be.internalformat=at[Ge];Be.format=It[Je],Ge in yt&&("type"in Ar||(Be.type=yt[Ge])),Ge in Dr&&(Be.compressed=!0),De=!0}!At&&De?Be.channels=uo[Be.format]:At&&!De&&Be.channels!==fo[Be.format]&&(Be.format=Be.internalformat=fo[Be.channels])}}function nt(Be){he.pixelStorei(B_,Be.flipY),he.pixelStorei(Ey,Be.premultiplyAlpha),he.pixelStorei(xc,Be.colorSpace),he.pixelStorei(N_,Be.unpackAlignment)}function Qr(){Or.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function et(Be,Ar){var Mr=null;if(Wd(Ar)?Mr=Ar:Ar&&(dt(Be,Ar),"x"in Ar&&(Be.xOffset=Ar.x|0),"y"in Ar&&(Be.yOffset=Ar.y|0),Wd(Ar.data)&&(Mr=Ar.data)),Ar.copy){var Mt=br.viewportWidth,An=br.viewportHeight;Be.width=Be.width||Mt-Be.xOffset,Be.height=Be.height||An-Be.yOffset,Be.needsCopy=!0}else if(!Mr)Be.width=Be.width||1,Be.height=Be.height||1,Be.channels=Be.channels||4;else if(Tr(Mr))Be.channels=Be.channels||4,Be.data=Mr,!("type"in Ar)&&Be.type===Bf&&(Be.type=Py(Mr));else if(Ry(Mr))Be.channels=Be.channels||4,V_(Be,Mr),Be.alignment=1,Be.needsFree=!0;else if(pr(Mr)){var $n=Mr.data;!Array.isArray($n)&&Be.type===Bf&&(Be.type=Py($n));var At=Mr.shape,De=Mr.stride,Ge,Je,_r,Cr,vr,hr;At.length===3?(_r=At[2],hr=De[2]):(_r=1,hr=1),Ge=At[0],Je=At[1],Cr=De[0],vr=De[1],Be.alignment=1,Be.width=Ge,Be.height=Je,Be.channels=_r,Be.format=Be.internalformat=fo[_r],Be.needsFree=!0,Ny(Be,$n,Cr,vr,hr,Mr.offset)}else if(Fy(Mr)||Iy(Mr)||z_(Mr))Fy(Mr)||Iy(Mr)?Be.element=Mr:Be.element=Mr.canvas,Be.width=Be.element.width,Be.height=Be.element.height,Be.channels=4;else if(U_(Mr))Be.element=Mr,Be.width=Mr.width,Be.height=Mr.height,Be.channels=4;else if(G_(Mr))Be.element=Mr,Be.width=Mr.naturalWidth,Be.height=Mr.naturalHeight,Be.channels=4;else if(H_(Mr))Be.element=Mr,Be.width=Mr.videoWidth,Be.height=Mr.videoHeight,Be.channels=4;else if(Dy(Mr)){var or=Be.width||Mr[0].length,We=Be.height||Mr.length,rr=Be.channels;il(Mr[0][0])?rr=rr||Mr[0][0].length:rr=rr||1;for(var He=Me.shape(Mr),gr=1,Lr=0;Lr<He.length;++Lr)gr*=He[Lr];var Gr=Oy(Be,gr);Me.flatten(Mr,He,"",Gr),Xd(Be,Gr),Be.alignment=1,Be.width=or,Be.height=We,Be.channels=rr,Be.format=Be.internalformat=fo[rr],Be.needsFree=!0}Be.type===Jo||Be.type}function pt(Be,Ar,Mr){var Mt=Be.element,An=Be.data,$n=Be.internalformat,At=Be.format,De=Be.type,Ge=Be.width,Je=Be.height;nt(Be),Mt?he.texImage2D(Ar,Mr,At,At,De,Mt):Be.compressed?he.compressedTexImage2D(Ar,Mr,$n,Ge,Je,0,An):Be.needsCopy?(dr(),he.copyTexImage2D(Ar,Mr,At,Be.xOffset,Be.yOffset,Ge,Je,0)):he.texImage2D(Ar,Mr,At,Ge,Je,0,At,De,An||null)}function Pt(Be,Ar,Mr,Mt,An){var $n=Be.element,At=Be.data,De=Be.internalformat,Ge=Be.format,Je=Be.type,_r=Be.width,Cr=Be.height;nt(Be),$n?he.texSubImage2D(Ar,An,Mr,Mt,Ge,Je,$n):Be.compressed?he.compressedTexSubImage2D(Ar,An,Mr,Mt,De,_r,Cr,At):Be.needsCopy?(dr(),he.copyTexSubImage2D(Ar,An,Mr,Mt,Be.xOffset,Be.yOffset,_r,Cr)):he.texSubImage2D(Ar,An,Mr,Mt,_r,Cr,Ge,Je,At)}var Kt=[];function lt(){return Kt.pop()||new Qr}function _t(Be){Be.needsFree&&I.freeType(Be.data),Qr.call(Be),Kt.push(Be)}function Wt(){Or.call(this),this.genMipmaps=!1,this.mipmapHint=Gf,this.mipmask=0,this.images=Array(16)}function Xt(Be,Ar,Mr){var Mt=Be.images[0]=lt();Be.mipmask=1,Mt.width=Be.width=Ar,Mt.height=Be.height=Mr,Mt.channels=Be.channels=4}function vn(Be,Ar){var Mr=null;if(Wd(Ar))Mr=Be.images[0]=lt(),Fr(Mr,Be),et(Mr,Ar),Be.mipmask=1;else if(dt(Be,Ar),Array.isArray(Ar.mipmap))for(var Mt=Ar.mipmap,An=0;An<Mt.length;++An)Mr=Be.images[An]=lt(),Fr(Mr,Be),Mr.width>>=An,Mr.height>>=An,et(Mr,Mt[An]),Be.mipmask|=1<<An;else Mr=Be.images[0]=lt(),Fr(Mr,Be),et(Mr,Ar),Be.mipmask=1;Fr(Be,Be.images[0]),Be.compressed&&(Be.internalformat===rh||Be.internalformat===pc||Be.internalformat===Vl||Be.internalformat)}function Ma(Be,Ar){for(var Mr=Be.images,Mt=0;Mt<Mr.length;++Mt){if(!Mr[Mt])return;pt(Mr[Mt],Ar,Mt)}}var li=[];function bn(){var Be=li.pop()||new Wt;Or.call(Be),Be.mipmask=0;for(var Ar=0;Ar<16;++Ar)Be.images[Ar]=null;return Be}function ho(Be){for(var Ar=Be.images,Mr=0;Mr<Ar.length;++Mr)Ar[Mr]&&_t(Ar[Mr]),Ar[Mr]=null;li.push(Be)}function Jn(){this.minFilter=zf,this.magFilter=zf,this.wrapS=Vd,this.wrapT=Vd,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Gf}function Pi(Be,Ar){if("min"in Ar){var Mr=Ar.min;Be.minFilter=Yr[Mr],Cy.indexOf(Be.minFilter)>=0&&!("faces"in Ar)&&(Be.genMipmaps=!0)}if("mag"in Ar){var Mt=Ar.mag;Be.magFilter=Vr[Mt]}var An=Be.wrapS,$n=Be.wrapT;if("wrap"in Ar){var At=Ar.wrap;typeof At=="string"?An=$n=Hr[At]:Array.isArray(At)&&(An=Hr[At[0]],$n=Hr[At[1]])}else{if("wrapS"in Ar){var De=Ar.wrapS;An=Hr[De]}if("wrapT"in Ar){var Ge=Ar.wrapT;$n=Hr[Ge]}}if(Be.wrapS=An,Be.wrapT=$n,"anisotropic"in Ar){var Je=Ar.anisotropic;Be.anisotropic=Ar.anisotropic}if("mipmap"in Ar){var _r=!1;switch(typeof Ar.mipmap){case"string":Be.mipmapHint=Pr[Ar.mipmap],Be.genMipmaps=!0,_r=!0;break;case"boolean":_r=Be.genMipmaps=Ar.mipmap;break;case"object":Be.genMipmaps=!1,_r=!0;break;default:}_r&&!("min"in Ar)&&(Be.minFilter=yc)}}function $i(Be,Ar){he.texParameteri(Ar,I_,Be.minFilter),he.texParameteri(Ar,gc,Be.magFilter),he.texParameteri(Ar,qf,Be.wrapS),he.texParameteri(Ar,D_,Be.wrapT),Oe.ext_texture_filter_anisotropic&&he.texParameteri(Ar,O_,Be.anisotropic),Be.genMipmaps&&(he.hint(My,Be.mipmapHint),he.generateMipmap(Ar))}var vo=0,ei={},ri=Ue.maxTextureUnits,fi=Array(ri).map(function(){return null});function sn(Be){Or.call(this),this.mipmask=0,this.internalformat=jo,this.id=vo++,this.refCount=1,this.target=Be,this.texture=he.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Jn,xr.profile&&(this.stats={size:0})}function yi(Be){he.activeTexture(Wl),he.bindTexture(Be.target,Be.texture)}function ra(){var Be=fi[0];Be?he.bindTexture(Be.target,Be.texture):he.bindTexture(ji,null)}function Ki(Be){var Ar=Be.texture,Mr=Be.unit,Mt=Be.target;Mr>=0&&(he.activeTexture(Wl+Mr),he.bindTexture(Mt,null),fi[Mr]=null),he.deleteTexture(Ar),Be.texture=null,Be.params=null,Be.pixels=null,Be.refCount=0,delete ei[Be.id],Sr.textureCount--}e(sn.prototype,{bind:function(){var Be=this;Be.bindCount+=1;var Ar=Be.unit;if(Ar<0){for(var Mr=0;Mr<ri;++Mr){var Mt=fi[Mr];if(Mt){if(Mt.bindCount>0)continue;Mt.unit=-1}fi[Mr]=Be,Ar=Mr;break}Ar>=ri,xr.profile&&Sr.maxTextureUnits<Ar+1&&(Sr.maxTextureUnits=Ar+1),Be.unit=Ar,he.activeTexture(Wl+Ar),he.bindTexture(Be.target,Be.texture)}return Ar},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Ki(this)}});function po(Be,Ar){var Mr=new sn(ji);ei[Mr.id]=Mr,Sr.textureCount++;function Mt(At,De){var Ge=Mr.texInfo;Jn.call(Ge);var Je=bn();return typeof At=="number"?typeof De=="number"?Xt(Je,At|0,De|0):Xt(Je,At|0,At|0):At?(Pi(Ge,At),vn(Je,At)):Xt(Je,1,1),Ge.genMipmaps&&(Je.mipmask=(Je.width<<1)-1),Mr.mipmask=Je.mipmask,Fr(Mr,Je),Mr.internalformat=Je.internalformat,Mt.width=Je.width,Mt.height=Je.height,yi(Mr),Ma(Je,ji),$i(Ge,ji),ra(),ho(Je),xr.profile&&(Mr.stats.size=_c(Mr.internalformat,Mr.type,Je.width,Je.height,Ge.genMipmaps,!1)),Mt.format=zr[Mr.internalformat],Mt.type=jr[Mr.type],Mt.mag=Br[Ge.magFilter],Mt.min=ft[Ge.minFilter],Mt.wrapS=ot[Ge.wrapS],Mt.wrapT=ot[Ge.wrapT],Mt}function An(At,De,Ge,Je){var _r=De|0,Cr=Ge|0,vr=Je|0,hr=lt();return Fr(hr,Mr),hr.width=0,hr.height=0,et(hr,At),hr.width=hr.width||(Mr.width>>vr)-_r,hr.height=hr.height||(Mr.height>>vr)-Cr,yi(Mr),Pt(hr,ji,_r,Cr,vr),ra(),_t(hr),Mt}function $n(At,De){var Ge=At|0,Je=De|0||Ge;if(Ge===Mr.width&&Je===Mr.height)return Mt;Mt.width=Mr.width=Ge,Mt.height=Mr.height=Je,yi(Mr);for(var _r=0;Mr.mipmask>>_r;++_r){var Cr=Ge>>_r,vr=Je>>_r;if(!Cr||!vr)break;he.texImage2D(ji,_r,Mr.format,Cr,vr,0,Mr.format,Mr.type,null)}return ra(),xr.profile&&(Mr.stats.size=_c(Mr.internalformat,Mr.type,Ge,Je,!1,!1)),Mt}return Mt(Be,Ar),Mt.subimage=An,Mt.resize=$n,Mt._reglType="texture2d",Mt._texture=Mr,xr.profile&&(Mt.stats=Mr.stats),Mt.destroy=function(){Mr.decRef()},Mt}function go(Be,Ar,Mr,Mt,An,$n){var At=new sn(Of);ei[At.id]=At,Sr.cubeCount++;var De=new Array(6);function Ge(Cr,vr,hr,or,We,rr){var He,gr=At.texInfo;for(Jn.call(gr),He=0;He<6;++He)De[He]=bn();if(typeof Cr=="number"||!Cr){var Lr=Cr|0||1;for(He=0;He<6;++He)Xt(De[He],Lr,Lr)}else if(typeof Cr=="object")if(vr)vn(De[0],Cr),vn(De[1],vr),vn(De[2],hr),vn(De[3],or),vn(De[4],We),vn(De[5],rr);else if(Pi(gr,Cr),dt(At,Cr),"faces"in Cr){var Gr=Cr.faces;for(He=0;He<6;++He)Fr(De[He],At),vn(De[He],Gr[He])}else for(He=0;He<6;++He)vn(De[He],Cr);for(Fr(At,De[0]),gr.genMipmaps?At.mipmask=(De[0].width<<1)-1:At.mipmask=De[0].mipmask,At.internalformat=De[0].internalformat,Ge.width=De[0].width,Ge.height=De[0].height,yi(At),He=0;He<6;++He)Ma(De[He],Ul+He);for($i(gr,Of),ra(),xr.profile&&(At.stats.size=_c(At.internalformat,At.type,Ge.width,Ge.height,gr.genMipmaps,!0)),Ge.format=zr[At.internalformat],Ge.type=jr[At.type],Ge.mag=Br[gr.magFilter],Ge.min=ft[gr.minFilter],Ge.wrapS=ot[gr.wrapS],Ge.wrapT=ot[gr.wrapT],He=0;He<6;++He)ho(De[He]);return Ge}function Je(Cr,vr,hr,or,We){var rr=hr|0,He=or|0,gr=We|0,Lr=lt();return Fr(Lr,At),Lr.width=0,Lr.height=0,et(Lr,vr),Lr.width=Lr.width||(At.width>>gr)-rr,Lr.height=Lr.height||(At.height>>gr)-He,yi(At),Pt(Lr,Ul+Cr,rr,He,gr),ra(),_t(Lr),Ge}function _r(Cr){var vr=Cr|0;if(vr!==At.width){Ge.width=At.width=vr,Ge.height=At.height=vr,yi(At);for(var hr=0;hr<6;++hr)for(var or=0;At.mipmask>>or;++or)he.texImage2D(Ul+hr,or,At.format,vr>>or,vr>>or,0,At.format,At.type,null);return ra(),xr.profile&&(At.stats.size=_c(At.internalformat,At.type,Ge.width,Ge.height,!1,!0)),Ge}}return Ge(Be,Ar,Mr,Mt,An,$n),Ge.subimage=Je,Ge.resize=_r,Ge._reglType="textureCube",Ge._texture=At,xr.profile&&(Ge.stats=At.stats),Ge.destroy=function(){At.decRef()},Ge}function nn(){for(var Be=0;Be<ri;++Be)he.activeTexture(Wl+Be),he.bindTexture(ji,null),fi[Be]=null;nr(ei).forEach(Ki),Sr.cubeCount=0,Sr.textureCount=0}xr.profile&&(Sr.getTotalTextureSize=function(){var Be=0;return Object.keys(ei).forEach(function(Ar){Be+=ei[Ar].stats.size}),Be});function Cn(){for(var Be=0;Be<ri;++Be){var Ar=fi[Be];Ar&&(Ar.bindCount=0,Ar.unit=-1,fi[Be]=null)}nr(ei).forEach(function(Mr){Mr.texture=he.createTexture(),he.bindTexture(Mr.target,Mr.texture);for(var Mt=0;Mt<32;++Mt)if(Mr.mipmask&1<<Mt)if(Mr.target===ji)he.texImage2D(ji,Mt,Mr.internalformat,Mr.width>>Mt,Mr.height>>Mt,0,Mr.internalformat,Mr.type,null);else for(var An=0;An<6;++An)he.texImage2D(Ul+An,Mt,Mr.internalformat,Mr.width>>Mt,Mr.height>>Mt,0,Mr.internalformat,Mr.type,null);$i(Mr.texInfo,Mr.target)})}function fa(){for(var Be=0;Be<ri;++Be){var Ar=fi[Be];Ar&&(Ar.bindCount=0,Ar.unit=-1,fi[Be]=null),he.activeTexture(Wl+Be),he.bindTexture(ji,null),he.bindTexture(Of,null)}}return{create2D:po,createCube:go,clear:nn,getTexture:function(Be){return null},restore:Cn,refresh:fa}}var ul=36161,lh=32854,jl=32855,qy=36194,zy=33189,Uy=36168,Gy=34041,Zd=35907,Hy=34836,Vy=34842,Yy=34843,co=[];co[lh]=2,co[jl]=2,co[qy]=2,co[zy]=2,co[Uy]=1,co[Gy]=4,co[Zd]=4,co[Hy]=16,co[Vy]=8,co[Yy]=6;function Wy(he,Oe,Ue){return co[he]*Oe*Ue}var Y_=function(he,Oe,Ue,dr,br){var Sr={rgba4:lh,rgb565:qy,"rgb5 a1":jl,depth:zy,stencil:Uy,"depth stencil":Gy};Oe.ext_srgb&&(Sr.srgba=Zd),Oe.ext_color_buffer_half_float&&(Sr.rgba16f=Vy,Sr.rgb16f=Yy),Oe.webgl_color_buffer_float&&(Sr.rgba32f=Hy);var xr=[];Object.keys(Sr).forEach(function(at){var Dr=Sr[at];xr[Dr]=at});var Pr=0,Hr={};function Vr(at){this.id=Pr++,this.refCount=1,this.renderbuffer=at,this.format=lh,this.width=0,this.height=0,br.profile&&(this.stats={size:0})}Vr.prototype.decRef=function(){--this.refCount<=0&&Yr(this)};function Yr(at){var Dr=at.renderbuffer;he.bindRenderbuffer(ul,null),he.deleteRenderbuffer(Dr),at.renderbuffer=null,at.refCount=0,delete Hr[at.id],dr.renderbufferCount--}function Rt(at,Dr){var cr=new Vr(he.createRenderbuffer());Hr[cr.id]=cr,dr.renderbufferCount++;function kr(jr,Br){var ft=0,ot=0,It=lh;if(typeof jr=="object"&&jr){var Or=jr;if("shape"in Or){var Fr=Or.shape;ft=Fr[0]|0,ot=Fr[1]|0}else"radius"in Or&&(ft=ot=Or.radius|0),"width"in Or&&(ft=Or.width|0),"height"in Or&&(ot=Or.height|0);"format"in Or&&(It=Sr[Or.format])}else typeof jr=="number"?(ft=jr|0,typeof Br=="number"?ot=Br|0:ot=ft):jr||(ft=ot=1);if(!(ft===cr.width&&ot===cr.height&&It===cr.format))return kr.width=cr.width=ft,kr.height=cr.height=ot,cr.format=It,he.bindRenderbuffer(ul,cr.renderbuffer),he.renderbufferStorage(ul,It,ft,ot),br.profile&&(cr.stats.size=Wy(cr.format,cr.width,cr.height)),kr.format=xr[cr.format],kr}function zr(jr,Br){var ft=jr|0,ot=Br|0||ft;return ft===cr.width&&ot===cr.height||(kr.width=cr.width=ft,kr.height=cr.height=ot,he.bindRenderbuffer(ul,cr.renderbuffer),he.renderbufferStorage(ul,cr.format,ft,ot),br.profile&&(cr.stats.size=Wy(cr.format,cr.width,cr.height))),kr}return kr(at,Dr),kr.resize=zr,kr._reglType="renderbuffer",kr._renderbuffer=cr,br.profile&&(kr.stats=cr.stats),kr.destroy=function(){cr.decRef()},kr}br.profile&&(dr.getTotalRenderbufferSize=function(){var at=0;return Object.keys(Hr).forEach(function(Dr){at+=Hr[Dr].stats.size}),at});function yt(){nr(Hr).forEach(function(at){at.renderbuffer=he.createRenderbuffer(),he.bindRenderbuffer(ul,at.renderbuffer),he.renderbufferStorage(ul,at.format,at.width,at.height)}),he.bindRenderbuffer(ul,null)}return{create:Rt,clear:function(){nr(Hr).forEach(Yr)},restore:yt}},Rs=36160,jd=36161,Hf=3553,Jd=34069,Xy=36064,Zy=36096,jy=36128,Vf=33306,wc=36053,$o=36193,W_=5121,X_=5126,Z_=6407,j_=6408,fh=[];fh[j_]=4,fh[Z_]=3;var uh=[];uh[W_]=1,uh[X_]=4,uh[$o]=2;function J_(he,Oe,Ue,dr,br,Sr){var xr={cur:null,next:null,dirty:!1,setFBO:null},Pr=["rgba"],Hr=["rgba4","rgb565","rgb5 a1"];Oe.ext_srgb&&Hr.push("srgba"),Oe.ext_color_buffer_half_float&&Hr.push("rgba16f","rgb16f"),Oe.webgl_color_buffer_float&&Hr.push("rgba32f");var Vr=["uint8"];Oe.oes_texture_half_float&&Vr.push("half float","float16"),Oe.oes_texture_float&&Vr.push("float","float32");function Yr(Qr,et,pt){this.target=Qr,this.texture=et,this.renderbuffer=pt;var Pt=0,Kt=0;et?(Pt=et.width,Kt=et.height):pt&&(Pt=pt.width,Kt=pt.height),this.width=Pt,this.height=Kt}function Rt(Qr){Qr&&(Qr.texture&&Qr.texture._texture.decRef(),Qr.renderbuffer&&Qr.renderbuffer._renderbuffer.decRef())}function yt(Qr,et,pt){if(Qr)if(Qr.texture){var Pt=Qr.texture._texture,Kt=Math.max(1,Pt.width),lt=Math.max(1,Pt.height);Pt.refCount+=1}else{var _t=Qr.renderbuffer._renderbuffer;_t.refCount+=1}}function at(Qr,et){et&&(et.texture?he.framebufferTexture2D(Rs,Qr,et.target,et.texture._texture.texture,0):he.framebufferRenderbuffer(Rs,Qr,jd,et.renderbuffer._renderbuffer.renderbuffer))}function Dr(Qr){var et=Hf,pt=null,Pt=null,Kt=Qr;typeof Qr=="object"&&(Kt=Qr.data,"target"in Qr&&(et=Qr.target|0));var lt=Kt._reglType;return lt==="texture2d"||lt==="textureCube"?pt=Kt:lt==="renderbuffer"&&(Pt=Kt,et=jd),new Yr(et,pt,Pt)}function cr(Qr,et,pt,Pt,Kt){if(pt){var lt=dr.create2D({width:Qr,height:et,format:Pt,type:Kt});return lt._texture.refCount=0,new Yr(Hf,lt,null)}else{var _t=br.create({width:Qr,height:et,format:Pt});return _t._renderbuffer.refCount=0,new Yr(jd,null,_t)}}function kr(Qr){return Qr&&(Qr.texture||Qr.renderbuffer)}function zr(Qr,et,pt){Qr&&(Qr.texture?Qr.texture.resize(et,pt):Qr.renderbuffer&&Qr.renderbuffer.resize(et,pt),Qr.width=et,Qr.height=pt)}var jr=0,Br={};function ft(){this.id=jr++,Br[this.id]=this,this.framebuffer=he.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function ot(Qr){Qr.colorAttachments.forEach(Rt),Rt(Qr.depthAttachment),Rt(Qr.stencilAttachment),Rt(Qr.depthStencilAttachment)}function It(Qr){var et=Qr.framebuffer;he.deleteFramebuffer(et),Qr.framebuffer=null,Sr.framebufferCount--,delete Br[Qr.id]}function Or(Qr){var et;he.bindFramebuffer(Rs,Qr.framebuffer);var pt=Qr.colorAttachments;for(et=0;et<pt.length;++et)at(Xy+et,pt[et]);for(et=pt.length;et<Ue.maxColorAttachments;++et)he.framebufferTexture2D(Rs,Xy+et,Hf,null,0);he.framebufferTexture2D(Rs,Vf,Hf,null,0),he.framebufferTexture2D(Rs,Zy,Hf,null,0),he.framebufferTexture2D(Rs,jy,Hf,null,0),at(Zy,Qr.depthAttachment),at(jy,Qr.stencilAttachment),at(Vf,Qr.depthStencilAttachment);var Pt=he.checkFramebufferStatus(Rs);he.isContextLost(),he.bindFramebuffer(Rs,xr.next?xr.next.framebuffer:null),xr.cur=xr.next,he.getError()}function Fr(Qr,et){var pt=new ft;Sr.framebufferCount++;function Pt(lt,_t){var Wt,Xt=0,vn=0,Ma=!0,li=!0,bn=null,ho=!0,Jn="rgba",Pi="uint8",$i=1,vo=null,ei=null,ri=null,fi=!1;if(typeof lt=="number")Xt=lt|0,vn=_t|0||Xt;else if(!lt)Xt=vn=1;else{var sn=lt;if("shape"in sn){var yi=sn.shape;Xt=yi[0],vn=yi[1]}else"radius"in sn&&(Xt=vn=sn.radius),"width"in sn&&(Xt=sn.width),"height"in sn&&(vn=sn.height);("color"in sn||"colors"in sn)&&(bn=sn.color||sn.colors,Array.isArray(bn)),bn||("colorCount"in sn&&($i=sn.colorCount|0),"colorTexture"in sn&&(ho=!!sn.colorTexture,Jn="rgba4"),"colorType"in sn&&(Pi=sn.colorType,ho||(Pi==="half float"||Pi==="float16"?Jn="rgba16f":(Pi==="float"||Pi==="float32")&&(Jn="rgba32f"))),"colorFormat"in sn&&(Jn=sn.colorFormat,Pr.indexOf(Jn)>=0?ho=!0:Hr.indexOf(Jn)>=0&&(ho=!1))),("depthTexture"in sn||"depthStencilTexture"in sn)&&(fi=!!(sn.depthTexture||sn.depthStencilTexture)),"depth"in sn&&(typeof sn.depth=="boolean"?Ma=sn.depth:(vo=sn.depth,li=!1)),"stencil"in sn&&(typeof sn.stencil=="boolean"?li=sn.stencil:(ei=sn.stencil,Ma=!1)),"depthStencil"in sn&&(typeof sn.depthStencil=="boolean"?Ma=li=sn.depthStencil:(ri=sn.depthStencil,Ma=!1,li=!1))}var ra=null,Ki=null,po=null,go=null;if(Array.isArray(bn))ra=bn.map(Dr);else if(bn)ra=[Dr(bn)];else for(ra=new Array($i),Wt=0;Wt<$i;++Wt)ra[Wt]=cr(Xt,vn,ho,Jn,Pi);Xt=Xt||ra[0].width,vn=vn||ra[0].height,vo?Ki=Dr(vo):Ma&&!li&&(Ki=cr(Xt,vn,fi,"depth","uint32")),ei?po=Dr(ei):li&&!Ma&&(po=cr(Xt,vn,!1,"stencil","uint8")),ri?go=Dr(ri):!vo&&!ei&&li&&Ma&&(go=cr(Xt,vn,fi,"depth stencil","depth stencil"));var nn=null;for(Wt=0;Wt<ra.length;++Wt)if(yt(ra[Wt],Xt,vn),ra[Wt]&&ra[Wt].texture){var Cn=fh[ra[Wt].texture._texture.format]*uh[ra[Wt].texture._texture.type];nn===null&&(nn=Cn)}return yt(Ki,Xt,vn),yt(po,Xt,vn),yt(go,Xt,vn),ot(pt),pt.width=Xt,pt.height=vn,pt.colorAttachments=ra,pt.depthAttachment=Ki,pt.stencilAttachment=po,pt.depthStencilAttachment=go,Pt.color=ra.map(kr),Pt.depth=kr(Ki),Pt.stencil=kr(po),Pt.depthStencil=kr(go),Pt.width=pt.width,Pt.height=pt.height,Or(pt),Pt}function Kt(lt,_t){var Wt=Math.max(lt|0,1),Xt=Math.max(_t|0||Wt,1);if(Wt===pt.width&&Xt===pt.height)return Pt;for(var vn=pt.colorAttachments,Ma=0;Ma<vn.length;++Ma)zr(vn[Ma],Wt,Xt);return zr(pt.depthAttachment,Wt,Xt),zr(pt.stencilAttachment,Wt,Xt),zr(pt.depthStencilAttachment,Wt,Xt),pt.width=Pt.width=Wt,pt.height=Pt.height=Xt,Or(pt),Pt}return Pt(Qr,et),e(Pt,{resize:Kt,_reglType:"framebuffer",_framebuffer:pt,destroy:function(){It(pt),ot(pt)},use:function(lt){xr.setFBO({framebuffer:Pt},lt)}})}function dt(Qr){var et=Array(6);function pt(Kt){var lt,_t={color:null},Wt=0,Xt=null,vn="rgba",Ma="uint8",li=1;if(typeof Kt=="number")Wt=Kt|0;else if(!Kt)Wt=1;else{var bn=Kt;if("shape"in bn){var ho=bn.shape;Wt=ho[0]}else"radius"in bn&&(Wt=bn.radius|0),"width"in bn?(Wt=bn.width|0,"height"in bn):"height"in bn&&(Wt=bn.height|0);("color"in bn||"colors"in bn)&&(Xt=bn.color||bn.colors,Array.isArray(Xt)),Xt||("colorCount"in bn&&(li=bn.colorCount|0),"colorType"in bn&&(Ma=bn.colorType),"colorFormat"in bn&&(vn=bn.colorFormat)),"depth"in bn&&(_t.depth=bn.depth),"stencil"in bn&&(_t.stencil=bn.stencil),"depthStencil"in bn&&(_t.depthStencil=bn.depthStencil)}var Jn;if(Xt)if(Array.isArray(Xt))for(Jn=[],lt=0;lt<Xt.length;++lt)Jn[lt]=Xt[lt];else Jn=[Xt];else{Jn=Array(li);var Pi={radius:Wt,format:vn,type:Ma};for(lt=0;lt<li;++lt)Jn[lt]=dr.createCube(Pi)}for(_t.color=Array(Jn.length),lt=0;lt<Jn.length;++lt){var $i=Jn[lt];Wt=Wt||$i.width,_t.color[lt]={target:Jd,data:Jn[lt]}}for(lt=0;lt<6;++lt){for(var vo=0;vo<Jn.length;++vo)_t.color[vo].target=Jd+lt;lt>0&&(_t.depth=et[0].depth,_t.stencil=et[0].stencil,_t.depthStencil=et[0].depthStencil),et[lt]?et[lt](_t):et[lt]=Fr(_t)}return e(pt,{width:Wt,height:Wt,color:Jn})}function Pt(Kt){var lt,_t=Kt|0;if(_t===pt.width)return pt;var Wt=pt.color;for(lt=0;lt<Wt.length;++lt)Wt[lt].resize(_t);for(lt=0;lt<6;++lt)et[lt].resize(_t);return pt.width=pt.height=_t,pt}return pt(Qr),e(pt,{faces:et,resize:Pt,_reglType:"framebufferCube",destroy:function(){et.forEach(function(Kt){Kt.destroy()})}})}function nt(){xr.cur=null,xr.next=null,xr.dirty=!0,nr(Br).forEach(function(Qr){Qr.framebuffer=he.createFramebuffer(),Or(Qr)})}return e(xr,{getFramebuffer:function(Qr){if(typeof Qr=="function"&&Qr._reglType==="framebuffer"){var et=Qr._framebuffer;if(et instanceof ft)return et}return null},create:Fr,createCube:dt,clear:function(){nr(Br).forEach(It)},restore:nt})}var $_=5126,Jy=34962,ch=34963;function Ac(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=$_,this.offset=0,this.stride=0,this.divisor=0}function $d(he,Oe,Ue,dr,br,Sr,xr){for(var Pr=Ue.maxAttributes,Hr=new Array(Pr),Vr=0;Vr<Pr;++Vr)Hr[Vr]=new Ac;var Yr=0,Rt={},yt={Record:Ac,scope:{},state:Hr,currentVAO:null,targetVAO:null,restore:Dr()?ot:function(){},createVAO:It,getVAO:kr,destroyBuffer:at,setVAO:Dr()?zr:jr,clear:Dr()?Br:function(){}};function at(Or){for(var Fr=0;Fr<Hr.length;++Fr){var dt=Hr[Fr];dt.buffer===Or&&(he.disableVertexAttribArray(Fr),dt.buffer=null)}}function Dr(){return Oe.oes_vertex_array_object}function cr(){return Oe.angle_instanced_arrays}function kr(Or){return typeof Or=="function"&&Or._vao?Or._vao:null}function zr(Or){if(Or!==yt.currentVAO){var Fr=Dr();Or?Fr.bindVertexArrayOES(Or.vao):Fr.bindVertexArrayOES(null),yt.currentVAO=Or}}function jr(Or){if(Or!==yt.currentVAO){if(Or)Or.bindAttrs();else{for(var Fr=cr(),dt=0;dt<Hr.length;++dt){var nt=Hr[dt];nt.buffer?(he.enableVertexAttribArray(dt),nt.buffer.bind(),he.vertexAttribPointer(dt,nt.size,nt.type,nt.normalized,nt.stride,nt.offfset),Fr&&nt.divisor&&Fr.vertexAttribDivisorANGLE(dt,nt.divisor)):(he.disableVertexAttribArray(dt),he.vertexAttrib4f(dt,nt.x,nt.y,nt.z,nt.w))}xr.elements?he.bindBuffer(ch,xr.elements.buffer.buffer):he.bindBuffer(ch,null)}yt.currentVAO=Or}}function Br(){nr(Rt).forEach(function(Or){Or.destroy()})}function ft(){this.id=++Yr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var Or=Dr();Or?this.vao=Or.createVertexArrayOES():this.vao=null,Rt[this.id]=this,this.buffers=[]}ft.prototype.bindAttrs=function(){for(var Or=cr(),Fr=this.attributes,dt=0;dt<Fr.length;++dt){var nt=Fr[dt];nt.buffer?(he.enableVertexAttribArray(dt),he.bindBuffer(Jy,nt.buffer.buffer),he.vertexAttribPointer(dt,nt.size,nt.type,nt.normalized,nt.stride,nt.offset),Or&&nt.divisor&&Or.vertexAttribDivisorANGLE(dt,nt.divisor)):(he.disableVertexAttribArray(dt),he.vertexAttrib4f(dt,nt.x,nt.y,nt.z,nt.w))}for(var Qr=Fr.length;Qr<Pr;++Qr)he.disableVertexAttribArray(Qr);var et=Sr.getElements(this.elements);et?he.bindBuffer(ch,et.buffer.buffer):he.bindBuffer(ch,null)},ft.prototype.refresh=function(){var Or=Dr();Or&&(Or.bindVertexArrayOES(this.vao),this.bindAttrs(),yt.currentVAO=null,Or.bindVertexArrayOES(null))},ft.prototype.destroy=function(){if(this.vao){var Or=Dr();this===yt.currentVAO&&(yt.currentVAO=null,Or.bindVertexArrayOES(null)),Or.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Rt[this.id]&&(delete Rt[this.id],dr.vaoCount-=1)};function ot(){var Or=Dr();Or&&nr(Rt).forEach(function(Fr){Fr.refresh()})}function It(Or){var Fr=new ft;dr.vaoCount+=1;function dt(nt){var Qr;if(Array.isArray(nt))Qr=nt,Fr.elements&&Fr.ownsElements&&Fr.elements.destroy(),Fr.elements=null,Fr.ownsElements=!1,Fr.offset=0,Fr.count=0,Fr.instances=-1,Fr.primitive=4;else{if(nt.elements){var et=nt.elements;Fr.ownsElements?typeof et=="function"&&et._reglType==="elements"?(Fr.elements.destroy(),Fr.ownsElements=!1):(Fr.elements(et),Fr.ownsElements=!1):Sr.getElements(nt.elements)?(Fr.elements=nt.elements,Fr.ownsElements=!1):(Fr.elements=Sr.create(nt.elements),Fr.ownsElements=!0)}else Fr.elements=null,Fr.ownsElements=!1;Qr=nt.attributes,Fr.offset=0,Fr.count=-1,Fr.instances=-1,Fr.primitive=4,Fr.elements&&(Fr.count=Fr.elements._elements.vertCount,Fr.primitive=Fr.elements._elements.primType),"offset"in nt&&(Fr.offset=nt.offset|0),"count"in nt&&(Fr.count=nt.count|0),"instances"in nt&&(Fr.instances=nt.instances|0),"primitive"in nt&&(Fr.primitive=Wi[nt.primitive])}var pt={},Pt=Fr.attributes;Pt.length=Qr.length;for(var Kt=0;Kt<Qr.length;++Kt){var lt=Qr[Kt],_t=Pt[Kt]=new Ac,Wt=lt.data||lt;if(Array.isArray(Wt)||Tr(Wt)||pr(Wt)){var Xt;Fr.buffers[Kt]&&(Xt=Fr.buffers[Kt],Tr(Wt)&&Xt._buffer.byteLength>=Wt.byteLength?Xt.subdata(Wt):(Xt.destroy(),Fr.buffers[Kt]=null)),Fr.buffers[Kt]||(Xt=Fr.buffers[Kt]=br.create(lt,Jy,!1,!0)),_t.buffer=br.getBuffer(Xt),_t.size=_t.buffer.dimension|0,_t.normalized=!1,_t.type=_t.buffer.dtype,_t.offset=0,_t.stride=0,_t.divisor=0,_t.state=1,pt[Kt]=1}else br.getBuffer(lt)?(_t.buffer=br.getBuffer(lt),_t.size=_t.buffer.dimension|0,_t.normalized=!1,_t.type=_t.buffer.dtype,_t.offset=0,_t.stride=0,_t.divisor=0,_t.state=1):br.getBuffer(lt.buffer)?(_t.buffer=br.getBuffer(lt.buffer),_t.size=(+lt.size||_t.buffer.dimension)|0,_t.normalized=!!lt.normalized||!1,"type"in lt?_t.type=bt[lt.type]:_t.type=_t.buffer.dtype,_t.offset=(lt.offset||0)|0,_t.stride=(lt.stride||0)|0,_t.divisor=(lt.divisor||0)|0,_t.state=1):"x"in lt&&(_t.x=+lt.x||0,_t.y=+lt.y||0,_t.z=+lt.z||0,_t.w=+lt.w||0,_t.state=2)}for(var vn=0;vn<Fr.buffers.length;++vn)!pt[vn]&&Fr.buffers[vn]&&(Fr.buffers[vn].destroy(),Fr.buffers[vn]=null);return Fr.refresh(),dt}return dt.destroy=function(){for(var nt=0;nt<Fr.buffers.length;++nt)Fr.buffers[nt]&&Fr.buffers[nt].destroy();Fr.buffers.length=0,Fr.ownsElements&&(Fr.elements.destroy(),Fr.elements=null,Fr.ownsElements=!1),Fr.destroy()},dt._vao=Fr,dt._reglType="vao",dt(Or)}return yt}var $y=35632,K_=35633,Q_=35718,ew=35721;function Ky(he,Oe,Ue,dr){var br={},Sr={};function xr(cr,kr,zr,jr){this.name=cr,this.id=kr,this.location=zr,this.info=jr}function Pr(cr,kr){for(var zr=0;zr<cr.length;++zr)if(cr[zr].id===kr.id){cr[zr].location=kr.location;return}cr.push(kr)}function Hr(cr,kr,zr){var jr=cr===$y?br:Sr,Br=jr[kr];if(!Br){var ft=Oe.str(kr);Br=he.createShader(cr),he.shaderSource(Br,ft),he.compileShader(Br),jr[kr]=Br}return Br}var Vr={},Yr=[],Rt=0;function yt(cr,kr){this.id=Rt++,this.fragId=cr,this.vertId=kr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,dr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function at(cr,kr,zr){var jr,Br,ft=Hr($y,cr.fragId),ot=Hr(K_,cr.vertId),It=cr.program=he.createProgram();if(he.attachShader(It,ft),he.attachShader(It,ot),zr)for(jr=0;jr<zr.length;++jr){var Or=zr[jr];he.bindAttribLocation(It,Or[0],Or[1])}he.linkProgram(It);var Fr=he.getProgramParameter(It,Q_);dr.profile&&(cr.stats.uniformsCount=Fr);var dt=cr.uniforms;for(jr=0;jr<Fr;++jr)if(Br=he.getActiveUniform(It,jr),Br)if(Br.size>1)for(var nt=0;nt<Br.size;++nt){var Qr=Br.name.replace("[0]","["+nt+"]");Pr(dt,new xr(Qr,Oe.id(Qr),he.getUniformLocation(It,Qr),Br))}else Pr(dt,new xr(Br.name,Oe.id(Br.name),he.getUniformLocation(It,Br.name),Br));var et=he.getProgramParameter(It,ew);dr.profile&&(cr.stats.attributesCount=et);var pt=cr.attributes;for(jr=0;jr<et;++jr)Br=he.getActiveAttrib(It,jr),Br&&Pr(pt,new xr(Br.name,Oe.id(Br.name),he.getAttribLocation(It,Br.name),Br))}dr.profile&&(Ue.getMaxUniformsCount=function(){var cr=0;return Yr.forEach(function(kr){kr.stats.uniformsCount>cr&&(cr=kr.stats.uniformsCount)}),cr},Ue.getMaxAttributesCount=function(){var cr=0;return Yr.forEach(function(kr){kr.stats.attributesCount>cr&&(cr=kr.stats.attributesCount)}),cr});function Dr(){br={},Sr={};for(var cr=0;cr<Yr.length;++cr)at(Yr[cr],null,Yr[cr].attributes.map(function(kr){return[kr.location,kr.name]}))}return{clear:function(){var cr=he.deleteShader.bind(he);nr(br).forEach(cr),br={},nr(Sr).forEach(cr),Sr={},Yr.forEach(function(kr){he.deleteProgram(kr.program)}),Yr.length=0,Vr={},Ue.shaderCount=0},program:function(cr,kr,zr,jr){var Br=Vr[kr];Br||(Br=Vr[kr]={});var ft=Br[cr];if(ft&&(ft.refCount++,!jr))return ft;var ot=new yt(kr,cr);return Ue.shaderCount++,at(ot,zr,jr),ft||(Br[cr]=ot),Yr.push(ot),e(ot,{destroy:function(){if(ot.refCount--,ot.refCount<=0){he.deleteProgram(ot.program);var It=Yr.indexOf(ot);Yr.splice(It,1),Ue.shaderCount--}Br[ot.vertId].refCount<=0&&(he.deleteShader(Sr[ot.vertId]),delete Sr[ot.vertId],delete Vr[ot.fragId][ot.vertId]),Object.keys(Vr[ot.fragId]).length||(he.deleteShader(br[ot.fragId]),delete br[ot.fragId],delete Vr[ot.fragId])}})},restore:Dr,shader:Hr,frag:-1,vert:-1}}var rw=6408,Kd=5121,Qd=3333,e1=5126;function Qy(he,Oe,Ue,dr,br,Sr,xr){function Pr(Yr){var Rt;Oe.next===null?Rt=Kd:Rt=Oe.next.colorAttachments[0].texture._texture.type;var yt=0,at=0,Dr=dr.framebufferWidth,cr=dr.framebufferHeight,kr=null;Tr(Yr)?kr=Yr:Yr&&(yt=Yr.x|0,at=Yr.y|0,Dr=(Yr.width||dr.framebufferWidth-yt)|0,cr=(Yr.height||dr.framebufferHeight-at)|0,kr=Yr.data||null),Ue();var zr=Dr*cr*4;return kr||(Rt===Kd?kr=new Uint8Array(zr):Rt===e1&&(kr=kr||new Float32Array(zr))),he.pixelStorei(Qd,4),he.readPixels(yt,at,Dr,cr,rw,Rt,kr),kr}function Hr(Yr){var Rt;return Oe.setFBO({framebuffer:Yr.framebuffer},function(){Rt=Pr(Yr)}),Rt}function Vr(Yr){return!Yr||!("framebuffer"in Yr)?Pr(Yr):Hr(Yr)}return Vr}var e2=0,tw="";function nw(he){return t2(r2(iw(he)))}function r2(he){return i2(Yf(r1(he),he.length*8))}function aw(he,Oe){var Ue=r1(he);Ue.length>16&&(Ue=Yf(Ue,he.length*8));for(var dr=Array(16),br=Array(16),Sr=0;Sr<16;Sr++)dr[Sr]=Ue[Sr]^909522486,br[Sr]=Ue[Sr]^1549556828;var xr=Yf(dr.concat(r1(Oe)),512+Oe.length*8);return i2(Yf(br.concat(xr),768))}function t2(he){for(var Oe=e2?"0123456789ABCDEF":"0123456789abcdef",Ue="",dr,br=0;br<he.length;br++)dr=he.charCodeAt(br),Ue+=Oe.charAt(dr>>>4&15)+Oe.charAt(dr&15);return Ue}function n2(he){for(var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ue="",dr=he.length,br=0;br<dr;br+=3)for(var Sr=he.charCodeAt(br)<<16|(br+1<dr?he.charCodeAt(br+1)<<8:0)|(br+2<dr?he.charCodeAt(br+2):0),xr=0;xr<4;xr++)br*8+xr*6>he.length*8?Ue+=tw:Ue+=Oe.charAt(Sr>>>6*(3-xr)&63);return Ue}function a2(he,Oe){var Ue=Oe.length,dr=Array(),br,Sr,xr,Pr,Hr=Array(Math.ceil(he.length/2));for(br=0;br<Hr.length;br++)Hr[br]=he.charCodeAt(br*2)<<8|he.charCodeAt(br*2+1);for(;Hr.length>0;){for(Pr=Array(),xr=0,br=0;br<Hr.length;br++)xr=(xr<<16)+Hr[br],Sr=Math.floor(xr/Ue),xr-=Sr*Ue,(Pr.length>0||Sr>0)&&(Pr[Pr.length]=Sr);dr[dr.length]=xr,Hr=Pr}var Vr="";for(br=dr.length-1;br>=0;br--)Vr+=Oe.charAt(dr[br]);var Yr=Math.ceil(he.length*8/(Math.log(Oe.length)/Math.log(2)));for(br=Vr.length;br<Yr;br++)Vr=Oe[0]+Vr;return Vr}function iw(he){for(var Oe="",Ue=-1,dr,br;++Ue<he.length;)dr=he.charCodeAt(Ue),br=Ue+1<he.length?he.charCodeAt(Ue+1):0,55296<=dr&&dr<=56319&&56320<=br&&br<=57343&&(dr=65536+((dr&1023)<<10)+(br&1023),Ue++),dr<=127?Oe+=String.fromCharCode(dr):dr<=2047?Oe+=String.fromCharCode(192|dr>>>6&31,128|dr&63):dr<=65535?Oe+=String.fromCharCode(224|dr>>>12&15,128|dr>>>6&63,128|dr&63):dr<=2097151&&(Oe+=String.fromCharCode(240|dr>>>18&7,128|dr>>>12&63,128|dr>>>6&63,128|dr&63));return Oe}function r1(he){for(var Oe=Array(he.length>>2),Ue=0;Ue<Oe.length;Ue++)Oe[Ue]=0;for(var Ue=0;Ue<he.length*8;Ue+=8)Oe[Ue>>5]|=(he.charCodeAt(Ue/8)&255)<<24-Ue%32;return Oe}function i2(he){for(var Oe="",Ue=0;Ue<he.length*32;Ue+=8)Oe+=String.fromCharCode(he[Ue>>5]>>>24-Ue%32&255);return Oe}function Ko(he,Oe){return he>>>Oe|he<<32-Oe}function o2(he,Oe){return he>>>Oe}function s2(he,Oe,Ue){return he&Oe^~he&Ue}function l2(he,Oe,Ue){return he&Oe^he&Ue^Oe&Ue}function t1(he){return Ko(he,2)^Ko(he,13)^Ko(he,22)}function f2(he){return Ko(he,6)^Ko(he,11)^Ko(he,25)}function hh(he){return Ko(he,7)^Ko(he,18)^o2(he,3)}function vh(he){return Ko(he,17)^Ko(he,19)^o2(he,10)}var ow=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);function Yf(he,Oe){var Ue=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),dr=new Array(64),br,Sr,xr,Pr,Hr,Vr,Yr,Rt,yt,at,Dr,cr;for(he[Oe>>5]|=128<<24-Oe%32,he[(Oe+64>>9<<4)+15]=Oe,yt=0;yt<he.length;yt+=16){for(br=Ue[0],Sr=Ue[1],xr=Ue[2],Pr=Ue[3],Hr=Ue[4],Vr=Ue[5],Yr=Ue[6],Rt=Ue[7],at=0;at<64;at++)at<16?dr[at]=he[at+yt]:dr[at]=Xa(Xa(Xa(vh(dr[at-2]),dr[at-7]),hh(dr[at-15])),dr[at-16]),Dr=Xa(Xa(Xa(Xa(Rt,f2(Hr)),s2(Hr,Vr,Yr)),ow[at]),dr[at]),cr=Xa(t1(br),l2(br,Sr,xr)),Rt=Yr,Yr=Vr,Vr=Hr,Hr=Xa(Pr,Dr),Pr=xr,xr=Sr,Sr=br,br=Xa(Dr,cr);Ue[0]=Xa(br,Ue[0]),Ue[1]=Xa(Sr,Ue[1]),Ue[2]=Xa(xr,Ue[2]),Ue[3]=Xa(Pr,Ue[3]),Ue[4]=Xa(Hr,Ue[4]),Ue[5]=Xa(Vr,Ue[5]),Ue[6]=Xa(Yr,Ue[6]),Ue[7]=Xa(Rt,Ue[7])}return Ue}function Xa(he,Oe){var Ue=(he&65535)+(Oe&65535),dr=(he>>16)+(Oe>>16)+(Ue>>16);return dr<<16|Ue&65535}function Wf(he){return Array.prototype.slice.call(he)}function Xf(he){return Wf(he).join("")}function u2(he){var Oe=he&&he.cache,Ue=0,dr=[],br=[],Sr=[];function xr(Dr,cr){var kr=cr&&cr.stable;if(!kr){for(var zr=0;zr<br.length;++zr)if(br[zr]===Dr&&!Sr[zr])return dr[zr]}var jr="g"+Ue++;return dr.push(jr),br.push(Dr),Sr.push(kr),jr}function Pr(){var Dr=[];function cr(){Dr.push.apply(Dr,Wf(arguments))}var kr=[];function zr(){var jr="v"+Ue++;return kr.push(jr),arguments.length>0&&(Dr.push(jr,"="),Dr.push.apply(Dr,Wf(arguments)),Dr.push(";")),jr}return e(cr,{def:zr,toString:function(){return Xf([kr.length>0?"var "+kr.join(",")+";":"",Xf(Dr)])}})}function Hr(){var Dr=Pr(),cr=Pr(),kr=Dr.toString,zr=cr.toString;function jr(Br,ft){cr(Br,ft,"=",Dr.def(Br,ft),";")}return e(function(){Dr.apply(Dr,Wf(arguments))},{def:Dr.def,entry:Dr,exit:cr,save:jr,set:function(Br,ft,ot){jr(Br,ft),Dr(Br,ft,"=",ot,";")},toString:function(){return kr()+zr()}})}function Vr(){var Dr=Xf(arguments),cr=Hr(),kr=Hr(),zr=cr.toString,jr=kr.toString;return e(cr,{then:function(){return cr.apply(cr,Wf(arguments)),this},else:function(){return kr.apply(kr,Wf(arguments)),this},toString:function(){var Br=jr();return Br&&(Br="else{"+Br+"}"),Xf(["if(",Dr,"){",zr(),"}",Br])}})}var Yr=Pr(),Rt={};function yt(Dr,cr){var kr=[];function zr(){var It="a"+kr.length;return kr.push(It),It}cr=cr||0;for(var jr=0;jr<cr;++jr)zr();var Br=Hr(),ft=Br.toString,ot=Rt[Dr]=e(Br,{arg:zr,toString:function(){return Xf(["function(",kr.join(),"){",ft(),"}"])}});return ot}function at(){var Dr=['"use strict";',Yr,"return {"];Object.keys(Rt).forEach(function(jr){Dr.push('"',jr,'":',Rt[jr].toString(),",")}),Dr.push("}");var cr=Xf(Dr).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),kr;if(Oe&&(kr=nw(cr),Oe[kr]))return Oe[kr].apply(null,br);var zr=Function.apply(null,dr.concat(cr));return Oe&&(Oe[kr]=zr),zr.apply(null,br)}return{global:Yr,link:xr,block:Pr,proc:yt,scope:Hr,cond:Vr,compile:at}}var Jl="xyzw".split(""),n1=5121,cl=1,Tc=2,a1=0,dh=1,c2=2,ph=3,gh=4,i1=5,Mc=6,o1="dither",h2="blend.enable",v2="blend.color",s1="blend.equation",l1="blend.func",f1="depth.enable",u1="depth.func",c1="depth.range",h1="depth.mask",v1="colorMask",Ec="cull.enable",d2="cull.face",d1="frontFace",yh="lineWidth",p1="polygonOffset.enable",g1="polygonOffset.offset",Sc="sample.alpha",Cc="sample.enable",mh="sample.coverage",y1="stencil.enable",xh="stencil.mask",Ji="stencil.func",bh="stencil.opFront",kc="stencil.opBack",_h="scissor.enable",Zf="scissor.box",Ds="viewport",wh="profile",jf="framebuffer",$l="vert",Jf="frag",Kl="elements",$f="primitive",Kf="count",m1="offset",Ii="instances",Lc="vao",Ah="Width",Qo="Height",hl=jf+Ah,vl=jf+Qo,sw=Ds+Ah,lw=Ds+Qo,p2="drawingBuffer",x1=p2+Ah,b1=p2+Qo,g2=[l1,s1,Ji,bh,kc,mh,Ds,Zf,g1],Ql=34962,_1=34963,y2=2884,fw=3042,uw=3024,cw=2960,m2=2929,x2=3089,Th=32823,b2=32926,Mh=32928,w1=5126,ef=35664,da=35665,Eh=35666,dl=5124,Qf=35667,Rc=35668,A1=35669,Sh=35670,eu=35671,Ch=35672,T1=35673,M1=35674,E1=35675,S1=35676,Dc=35678,C1=35680,k1=4,R=1028,N=1029,U=2304,Y=2305,Z=32775,K=32776,fe=519,se=7680,ce=0,ge=1,ye=32774,ke=513,Re=36160,Qe=36064,sr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Pe={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ye={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},$e={cw:U,ccw:Y};function lr(he){return Array.isArray(he)||Tr(he)||pr(he)}function fr(he){return he.sort(function(Oe,Ue){return Oe===Ds?-1:Ue===Ds?1:Oe<Ue?-1:1})}function Ze(he,Oe,Ue,dr){this.thisDep=he,this.contextDep=Oe,this.propDep=Ue,this.append=dr}function Rr(he){return he&&!(he.thisDep||he.contextDep||he.propDep)}function qr(he){return new Ze(!1,!1,!1,he)}function Zr(he,Oe){var Ue=he.type;if(Ue===a1){var dr=he.data.length;return new Ze(!0,dr>=1,dr>=2,Oe)}else if(Ue===gh){var br=he.data;return new Ze(br.thisDep,br.contextDep,br.propDep,Oe)}else{if(Ue===i1)return new Ze(!1,!1,!1,Oe);if(Ue===Mc){for(var Sr=!1,xr=!1,Pr=!1,Hr=0;Hr<he.data.length;++Hr){var Vr=he.data[Hr];if(Vr.type===dh)Pr=!0;else if(Vr.type===c2)xr=!0;else if(Vr.type===ph)Sr=!0;else if(Vr.type===a1){Sr=!0;var Yr=Vr.data;Yr>=1&&(xr=!0),Yr>=2&&(Pr=!0)}else Vr.type===gh&&(Sr=Sr||Vr.data.thisDep,xr=xr||Vr.data.contextDep,Pr=Pr||Vr.data.propDep)}return new Ze(Sr,xr,Pr,Oe)}else return new Ze(Ue===ph,Ue===c2,Ue===dh,Oe)}}var rt=new Ze(!1,!1,!1,function(){});function ht(he,Oe,Ue,dr,br,Sr,xr,Pr,Hr,Vr,Yr,Rt,yt,at,Dr,cr){var kr=Vr.Record,zr={add:32774,subtract:32778,"reverse subtract":32779};Ue.ext_blend_minmax&&(zr.min=Z,zr.max=K);var jr=Ue.angle_instanced_arrays,Br=Ue.webgl_draw_buffers,ft=Ue.oes_vertex_array_object,ot={dirty:!0,profile:cr.profile},It={},Or=[],Fr={},dt={};function nt(De){return De.replace(".","_")}function Qr(De,Ge,Je){var _r=nt(De);Or.push(De),It[_r]=ot[_r]=!!Je,Fr[_r]=Ge}function et(De,Ge,Je){var _r=nt(De);Or.push(De),Array.isArray(Je)?(ot[_r]=Je.slice(),It[_r]=Je.slice()):ot[_r]=It[_r]=Je,dt[_r]=Ge}function pt(De){return!!isNaN(De)}Qr(o1,uw),Qr(h2,fw),et(v2,"blendColor",[0,0,0,0]),et(s1,"blendEquationSeparate",[ye,ye]),et(l1,"blendFuncSeparate",[ge,ce,ge,ce]),Qr(f1,m2,!0),et(u1,"depthFunc",ke),et(c1,"depthRange",[0,1]),et(h1,"depthMask",!0),et(v1,v1,[!0,!0,!0,!0]),Qr(Ec,y2),et(d2,"cullFace",N),et(d1,d1,Y),et(yh,yh,1),Qr(p1,Th),et(g1,"polygonOffset",[0,0]),Qr(Sc,b2),Qr(Cc,Mh),et(mh,"sampleCoverage",[1,!1]),Qr(y1,cw),et(xh,"stencilMask",-1),et(Ji,"stencilFunc",[fe,0,-1]),et(bh,"stencilOpSeparate",[R,se,se,se]),et(kc,"stencilOpSeparate",[N,se,se,se]),Qr(_h,x2),et(Zf,"scissor",[0,0,he.drawingBufferWidth,he.drawingBufferHeight]),et(Ds,Ds,[0,0,he.drawingBufferWidth,he.drawingBufferHeight]);var Pt={gl:he,context:yt,strings:Oe,next:It,current:ot,draw:Rt,elements:Sr,buffer:br,shader:Yr,attributes:Vr.state,vao:Vr,uniforms:Hr,framebuffer:Pr,extensions:Ue,timer:at,isBufferArgs:lr},Kt={primTypes:Wi,compareFuncs:Pe,blendFuncs:sr,blendEquations:zr,stencilOps:Ye,glTypes:bt,orientationType:$e};Br&&(Kt.backBuffer=[N],Kt.drawBuffer=g(dr.maxDrawbuffers,function(De){return De===0?[0]:g(De,function(Ge){return Qe+Ge})}));var lt=0;function _t(){var De=u2({cache:Dr}),Ge=De.link,Je=De.global;De.id=lt++,De.batchId="0";var _r=Ge(Pt),Cr=De.shared={props:"a0"};Object.keys(Pt).forEach(function(rr){Cr[rr]=Je.def(_r,".",rr)});var vr=De.next={},hr=De.current={};Object.keys(dt).forEach(function(rr){Array.isArray(ot[rr])&&(vr[rr]=Je.def(Cr.next,".",rr),hr[rr]=Je.def(Cr.current,".",rr))});var or=De.constants={};Object.keys(Kt).forEach(function(rr){or[rr]=Je.def(JSON.stringify(Kt[rr]))}),De.invoke=function(rr,He){switch(He.type){case a1:var gr=["this",Cr.context,Cr.props,De.batchId];return rr.def(Ge(He.data),".call(",gr.slice(0,Math.max(He.data.length+1,4)),")");case dh:return rr.def(Cr.props,He.data);case c2:return rr.def(Cr.context,He.data);case ph:return rr.def("this",He.data);case gh:return He.data.append(De,rr),He.data.ref;case i1:return He.data.toString();case Mc:return He.data.map(function(Lr){return De.invoke(rr,Lr)})}},De.attribCache={};var We={};return De.scopeAttrib=function(rr){var He=Oe.id(rr);if(He in We)return We[He];var gr=Vr.scope[He];gr||(gr=Vr.scope[He]=new kr);var Lr=We[He]=Ge(gr);return Lr},De}function Wt(De){var Ge=De.static,Je=De.dynamic,_r;if(wh in Ge){var Cr=!!Ge[wh];_r=qr(function(hr,or){return Cr}),_r.enable=Cr}else if(wh in Je){var vr=Je[wh];_r=Zr(vr,function(hr,or){return hr.invoke(or,vr)})}return _r}function Xt(De,Ge){var Je=De.static,_r=De.dynamic;if(jf in Je){var Cr=Je[jf];return Cr?(Cr=Pr.getFramebuffer(Cr),qr(function(hr,or){var We=hr.link(Cr),rr=hr.shared;or.set(rr.framebuffer,".next",We);var He=rr.context;return or.set(He,"."+hl,We+".width"),or.set(He,"."+vl,We+".height"),We})):qr(function(hr,or){var We=hr.shared;or.set(We.framebuffer,".next","null");var rr=We.context;return or.set(rr,"."+hl,rr+"."+x1),or.set(rr,"."+vl,rr+"."+b1),"null"})}else if(jf in _r){var vr=_r[jf];return Zr(vr,function(hr,or){var We=hr.invoke(or,vr),rr=hr.shared,He=rr.framebuffer,gr=or.def(He,".getFramebuffer(",We,")");or.set(He,".next",gr);var Lr=rr.context;return or.set(Lr,"."+hl,gr+"?"+gr+".width:"+Lr+"."+x1),or.set(Lr,"."+vl,gr+"?"+gr+".height:"+Lr+"."+b1),gr})}else return null}function vn(De,Ge,Je){var _r=De.static,Cr=De.dynamic;function vr(We){if(We in _r){var rr=_r[We],He=!0,gr=rr.x|0,Lr=rr.y|0,Gr,Nt;return"width"in rr?Gr=rr.width|0:He=!1,"height"in rr?Nt=rr.height|0:He=!1,new Ze(!He&&Ge&&Ge.thisDep,!He&&Ge&&Ge.contextDep,!He&&Ge&&Ge.propDep,function(Ot,kt){var Ct=Ot.shared.context,ct=Gr;"width"in rr||(ct=kt.def(Ct,".",hl,"-",gr));var Tt=Nt;return"height"in rr||(Tt=kt.def(Ct,".",vl,"-",Lr)),[gr,Lr,ct,Tt]})}else if(We in Cr){var gt=Cr[We],ut=Zr(gt,function(Ot,kt){var Ct=Ot.invoke(kt,gt),ct=Ot.shared.context,Tt=kt.def(Ct,".x|0"),Et=kt.def(Ct,".y|0"),Qt=kt.def('"width" in ',Ct,"?",Ct,".width|0:","(",ct,".",hl,"-",Tt,")"),ua=kt.def('"height" in ',Ct,"?",Ct,".height|0:","(",ct,".",vl,"-",Et,")");return[Tt,Et,Qt,ua]});return Ge&&(ut.thisDep=ut.thisDep||Ge.thisDep,ut.contextDep=ut.contextDep||Ge.contextDep,ut.propDep=ut.propDep||Ge.propDep),ut}else return Ge?new Ze(Ge.thisDep,Ge.contextDep,Ge.propDep,function(Ot,kt){var Ct=Ot.shared.context;return[0,0,kt.def(Ct,".",hl),kt.def(Ct,".",vl)]}):null}var hr=vr(Ds);if(hr){var or=hr;hr=new Ze(hr.thisDep,hr.contextDep,hr.propDep,function(We,rr){var He=or.append(We,rr),gr=We.shared.context;return rr.set(gr,"."+sw,He[2]),rr.set(gr,"."+lw,He[3]),He})}return{viewport:hr,scissor_box:vr(Zf)}}function Ma(De,Ge){var Je=De.static,_r=typeof Je[Jf]=="string"&&typeof Je[$l]=="string";if(_r){if(Object.keys(Ge.dynamic).length>0)return null;var Cr=Ge.static,vr=Object.keys(Cr);if(vr.length>0&&typeof Cr[vr[0]]=="number"){for(var hr=[],or=0;or<vr.length;++or)hr.push([Cr[vr[or]]|0,vr[or]]);return hr}}return null}function li(De,Ge,Je){var _r=De.static,Cr=De.dynamic;function vr(He){if(He in _r){var gr=Oe.id(_r[He]),Lr=qr(function(){return gr});return Lr.id=gr,Lr}else if(He in Cr){var Gr=Cr[He];return Zr(Gr,function(Nt,gt){var ut=Nt.invoke(gt,Gr),Ot=gt.def(Nt.shared.strings,".id(",ut,")");return Ot})}return null}var hr=vr(Jf),or=vr($l),We=null,rr;return Rr(hr)&&Rr(or)?(We=Yr.program(or.id,hr.id,null,Je),rr=qr(function(He,gr){return He.link(We)})):rr=new Ze(hr&&hr.thisDep||or&&or.thisDep,hr&&hr.contextDep||or&&or.contextDep,hr&&hr.propDep||or&&or.propDep,function(He,gr){var Lr=He.shared.shader,Gr;hr?Gr=hr.append(He,gr):Gr=gr.def(Lr,".",Jf);var Nt;or?Nt=or.append(He,gr):Nt=gr.def(Lr,".",$l);var gt=Lr+".program("+Nt+","+Gr;return gr.def(gt+")")}),{frag:hr,vert:or,progVar:rr,program:We}}function bn(De,Ge){var Je=De.static,_r=De.dynamic,Cr={},vr=!1;function hr(){if(Lc in Je){var kt=Je[Lc];return kt!==null&&Vr.getVAO(kt)===null&&(kt=Vr.createVAO(kt)),vr=!0,Cr.vao=kt,qr(function(ct){var Tt=Vr.getVAO(kt);return Tt?ct.link(Tt):"null"})}else if(Lc in _r){vr=!0;var Ct=_r[Lc];return Zr(Ct,function(ct,Tt){var Et=ct.invoke(Tt,Ct);return Tt.def(ct.shared.vao+".getVAO("+Et+")")})}return null}var or=hr(),We=!1;function rr(){if(Kl in Je){var kt=Je[Kl];if(Cr.elements=kt,lr(kt)){var Ct=Cr.elements=Sr.create(kt,!0);kt=Sr.getElements(Ct),We=!0}else kt&&(kt=Sr.getElements(kt),We=!0);var ct=qr(function(Et,Qt){if(kt){var ua=Et.link(kt);return Et.ELEMENTS=ua,ua}return Et.ELEMENTS=null,null});return ct.value=kt,ct}else if(Kl in _r){We=!0;var Tt=_r[Kl];return Zr(Tt,function(Et,Qt){var ua=Et.shared,yo=ua.isBufferArgs,rf=ua.elements,ru=Et.invoke(Qt,Tt),tu=Qt.def("null"),es=Qt.def(yo,"(",ru,")"),L1=Et.cond(es).then(tu,"=",rf,".createStream(",ru,");").else(tu,"=",rf,".getElements(",ru,");");return Qt.entry(L1),Qt.exit(Et.cond(es).then(rf,".destroyStream(",tu,");")),Et.ELEMENTS=tu,tu})}else if(vr)return new Ze(or.thisDep,or.contextDep,or.propDep,function(Et,Qt){return Qt.def(Et.shared.vao+".currentVAO?"+Et.shared.elements+".getElements("+Et.shared.vao+".currentVAO.elements):null")});return null}var He=rr();function gr(){if($f in Je){var kt=Je[$f];return Cr.primitive=kt,qr(function(ct,Tt){return Wi[kt]})}else if($f in _r){var Ct=_r[$f];return Zr(Ct,function(ct,Tt){var Et=ct.constants.primTypes,Qt=ct.invoke(Tt,Ct);return Tt.def(Et,"[",Qt,"]")})}else{if(We)return Rr(He)?He.value?qr(function(ct,Tt){return Tt.def(ct.ELEMENTS,".primType")}):qr(function(){return k1}):new Ze(He.thisDep,He.contextDep,He.propDep,function(ct,Tt){var Et=ct.ELEMENTS;return Tt.def(Et,"?",Et,".primType:",k1)});if(vr)return new Ze(or.thisDep,or.contextDep,or.propDep,function(ct,Tt){return Tt.def(ct.shared.vao+".currentVAO?"+ct.shared.vao+".currentVAO.primitive:"+k1)})}return null}function Lr(kt,Ct){if(kt in Je){var ct=Je[kt]|0;return Ct?Cr.offset=ct:Cr.instances=ct,qr(function(Et,Qt){return Ct&&(Et.OFFSET=ct),ct})}else if(kt in _r){var Tt=_r[kt];return Zr(Tt,function(Et,Qt){var ua=Et.invoke(Qt,Tt);return Ct&&(Et.OFFSET=ua),ua})}else if(Ct){if(We)return qr(function(Et,Qt){return Et.OFFSET=0,0});if(vr)return new Ze(or.thisDep,or.contextDep,or.propDep,function(Et,Qt){return Qt.def(Et.shared.vao+".currentVAO?"+Et.shared.vao+".currentVAO.offset:0")})}else if(vr)return new Ze(or.thisDep,or.contextDep,or.propDep,function(Et,Qt){return Qt.def(Et.shared.vao+".currentVAO?"+Et.shared.vao+".currentVAO.instances:-1")});return null}var Gr=Lr(m1,!0);function Nt(){if(Kf in Je){var kt=Je[Kf]|0;return Cr.count=kt,qr(function(){return kt})}else if(Kf in _r){var Ct=_r[Kf];return Zr(Ct,function(Qt,ua){var yo=Qt.invoke(ua,Ct);return yo})}else if(We)if(Rr(He)){if(He)return Gr?new Ze(Gr.thisDep,Gr.contextDep,Gr.propDep,function(Qt,ua){var yo=ua.def(Qt.ELEMENTS,".vertCount-",Qt.OFFSET);return yo}):qr(function(Qt,ua){return ua.def(Qt.ELEMENTS,".vertCount")});var ct=qr(function(){return-1});return ct}else{var Tt=new Ze(He.thisDep||Gr.thisDep,He.contextDep||Gr.contextDep,He.propDep||Gr.propDep,function(Qt,ua){var yo=Qt.ELEMENTS;return Qt.OFFSET?ua.def(yo,"?",yo,".vertCount-",Qt.OFFSET,":-1"):ua.def(yo,"?",yo,".vertCount:-1")});return Tt}else if(vr){var Et=new Ze(or.thisDep,or.contextDep,or.propDep,function(Qt,ua){return ua.def(Qt.shared.vao,".currentVAO?",Qt.shared.vao,".currentVAO.count:-1")});return Et}return null}var gt=gr(),ut=Nt(),Ot=Lr(Ii,!1);return{elements:He,primitive:gt,count:ut,instances:Ot,offset:Gr,vao:or,vaoActive:vr,elementsActive:We,static:Cr}}function ho(De,Ge){var Je=De.static,_r=De.dynamic,Cr={};return Or.forEach(function(vr){var hr=nt(vr);function or(We,rr){if(vr in Je){var He=We(Je[vr]);Cr[hr]=qr(function(){return He})}else if(vr in _r){var gr=_r[vr];Cr[hr]=Zr(gr,function(Lr,Gr){return rr(Lr,Gr,Lr.invoke(Gr,gr))})}}switch(vr){case Ec:case h2:case o1:case y1:case f1:case _h:case p1:case Sc:case Cc:case h1:return or(function(We){return We},function(We,rr,He){return He});case u1:return or(function(We){return Pe[We]},function(We,rr,He){var gr=We.constants.compareFuncs;return rr.def(gr,"[",He,"]")});case c1:return or(function(We){return We},function(We,rr,He){var gr=rr.def("+",He,"[0]"),Lr=rr.def("+",He,"[1]");return[gr,Lr]});case l1:return or(function(We){var rr="srcRGB"in We?We.srcRGB:We.src,He="srcAlpha"in We?We.srcAlpha:We.src,gr="dstRGB"in We?We.dstRGB:We.dst,Lr="dstAlpha"in We?We.dstAlpha:We.dst;return[sr[rr],sr[gr],sr[He],sr[Lr]]},function(We,rr,He){var gr=We.constants.blendFuncs;function Lr(Ct,ct){var Tt=rr.def('"',Ct,ct,'" in ',He,"?",He,".",Ct,ct,":",He,".",Ct);return Tt}var Gr=Lr("src","RGB"),Nt=Lr("dst","RGB"),gt=rr.def(gr,"[",Gr,"]"),ut=rr.def(gr,"[",Lr("src","Alpha"),"]"),Ot=rr.def(gr,"[",Nt,"]"),kt=rr.def(gr,"[",Lr("dst","Alpha"),"]");return[gt,Ot,ut,kt]});case s1:return or(function(We){if(typeof We=="string")return[zr[We],zr[We]];if(typeof We=="object")return[zr[We.rgb],zr[We.alpha]]},function(We,rr,He){var gr=We.constants.blendEquations,Lr=rr.def(),Gr=rr.def(),Nt=We.cond("typeof ",He,'==="string"');return Nt.then(Lr,"=",Gr,"=",gr,"[",He,"];"),Nt.else(Lr,"=",gr,"[",He,".rgb];",Gr,"=",gr,"[",He,".alpha];"),rr(Nt),[Lr,Gr]});case v2:return or(function(We){return g(4,function(rr){return+We[rr]})},function(We,rr,He){return g(4,function(gr){return rr.def("+",He,"[",gr,"]")})});case xh:return or(function(We){return We|0},function(We,rr,He){return rr.def(He,"|0")});case Ji:return or(function(We){var rr=We.cmp||"keep",He=We.ref||0,gr="mask"in We?We.mask:-1;return[Pe[rr],He,gr]},function(We,rr,He){var gr=We.constants.compareFuncs,Lr=rr.def('"cmp" in ',He,"?",gr,"[",He,".cmp]",":",se),Gr=rr.def(He,".ref|0"),Nt=rr.def('"mask" in ',He,"?",He,".mask|0:-1");return[Lr,Gr,Nt]});case bh:case kc:return or(function(We){var rr=We.fail||"keep",He=We.zfail||"keep",gr=We.zpass||"keep";return[vr===kc?N:R,Ye[rr],Ye[He],Ye[gr]]},function(We,rr,He){var gr=We.constants.stencilOps;function Lr(Gr){return rr.def('"',Gr,'" in ',He,"?",gr,"[",He,".",Gr,"]:",se)}return[vr===kc?N:R,Lr("fail"),Lr("zfail"),Lr("zpass")]});case g1:return or(function(We){var rr=We.factor|0,He=We.units|0;return[rr,He]},function(We,rr,He){var gr=rr.def(He,".factor|0"),Lr=rr.def(He,".units|0");return[gr,Lr]});case d2:return or(function(We){var rr=0;return We==="front"?rr=R:We==="back"&&(rr=N),rr},function(We,rr,He){return rr.def(He,'==="front"?',R,":",N)});case yh:return or(function(We){return We},function(We,rr,He){return He});case d1:return or(function(We){return $e[We]},function(We,rr,He){return rr.def(He+'==="cw"?'+U+":"+Y)});case v1:return or(function(We){return We.map(function(rr){return!!rr})},function(We,rr,He){return g(4,function(gr){return"!!"+He+"["+gr+"]"})});case mh:return or(function(We){var rr="value"in We?We.value:1,He=!!We.invert;return[rr,He]},function(We,rr,He){var gr=rr.def('"value" in ',He,"?+",He,".value:1"),Lr=rr.def("!!",He,".invert");return[gr,Lr]})}}),Cr}function Jn(De,Ge){var Je=De.static,_r=De.dynamic,Cr={};return Object.keys(Je).forEach(function(vr){var hr=Je[vr],or;if(typeof hr=="number"||typeof hr=="boolean")or=qr(function(){return hr});else if(typeof hr=="function"){var We=hr._reglType;We==="texture2d"||We==="textureCube"?or=qr(function(rr){return rr.link(hr)}):(We==="framebuffer"||We==="framebufferCube")&&(or=qr(function(rr){return rr.link(hr.color[0])}))}else il(hr)&&(or=qr(function(rr){var He=rr.global.def("[",g(hr.length,function(gr){return hr[gr]}),"]");return He}));or.value=hr,Cr[vr]=or}),Object.keys(_r).forEach(function(vr){var hr=_r[vr];Cr[vr]=Zr(hr,function(or,We){return or.invoke(We,hr)})}),Cr}function Pi(De,Ge){var Je=De.static,_r=De.dynamic,Cr={};return Object.keys(Je).forEach(function(vr){var hr=Je[vr],or=Oe.id(vr),We=new kr;if(lr(hr))We.state=cl,We.buffer=br.getBuffer(br.create(hr,Ql,!1,!0)),We.type=0;else{var rr=br.getBuffer(hr);if(rr)We.state=cl,We.buffer=rr,We.type=0;else if("constant"in hr){var He=hr.constant;We.buffer="null",We.state=Tc,typeof He=="number"?We.x=He:Jl.forEach(function(Ot,kt){kt<He.length&&(We[Ot]=He[kt])})}else{lr(hr.buffer)?rr=br.getBuffer(br.create(hr.buffer,Ql,!1,!0)):rr=br.getBuffer(hr.buffer);var gr=hr.offset|0,Lr=hr.stride|0,Gr=hr.size|0,Nt=!!hr.normalized,gt=0;"type"in hr&&(gt=bt[hr.type]);var ut=hr.divisor|0;We.buffer=rr,We.state=cl,We.size=Gr,We.normalized=Nt,We.type=gt||rr.dtype,We.offset=gr,We.stride=Lr,We.divisor=ut}}Cr[vr]=qr(function(Ot,kt){var Ct=Ot.attribCache;if(or in Ct)return Ct[or];var ct={isStream:!1};return Object.keys(We).forEach(function(Tt){ct[Tt]=We[Tt]}),We.buffer&&(ct.buffer=Ot.link(We.buffer),ct.type=ct.type||ct.buffer+".dtype"),Ct[or]=ct,ct})}),Object.keys(_r).forEach(function(vr){var hr=_r[vr];function or(We,rr){var He=We.invoke(rr,hr),gr=We.shared,Lr=We.constants,Gr=gr.isBufferArgs,Nt=gr.buffer,gt={isStream:rr.def(!1)},ut=new kr;ut.state=cl,Object.keys(ut).forEach(function(ct){gt[ct]=rr.def(""+ut[ct])});var Ot=gt.buffer,kt=gt.type;rr("if(",Gr,"(",He,")){",gt.isStream,"=true;",Ot,"=",Nt,".createStream(",Ql,",",He,");",kt,"=",Ot,".dtype;","}else{",Ot,"=",Nt,".getBuffer(",He,");","if(",Ot,"){",kt,"=",Ot,".dtype;",'}else if("constant" in ',He,"){",gt.state,"=",Tc,";","if(typeof "+He+'.constant === "number"){',gt[Jl[0]],"=",He,".constant;",Jl.slice(1).map(function(ct){return gt[ct]}).join("="),"=0;","}else{",Jl.map(function(ct,Tt){return gt[ct]+"="+He+".constant.length>"+Tt+"?"+He+".constant["+Tt+"]:0;"}).join(""),"}}else{","if(",Gr,"(",He,".buffer)){",Ot,"=",Nt,".createStream(",Ql,",",He,".buffer);","}else{",Ot,"=",Nt,".getBuffer(",He,".buffer);","}",kt,'="type" in ',He,"?",Lr.glTypes,"[",He,".type]:",Ot,".dtype;",gt.normalized,"=!!",He,".normalized;");function Ct(ct){rr(gt[ct],"=",He,".",ct,"|0;")}return Ct("size"),Ct("offset"),Ct("stride"),Ct("divisor"),rr("}}"),rr.exit("if(",gt.isStream,"){",Nt,".destroyStream(",Ot,");","}"),gt}Cr[vr]=Zr(hr,or)}),Cr}function $i(De){var Ge=De.static,Je=De.dynamic,_r={};return Object.keys(Ge).forEach(function(Cr){var vr=Ge[Cr];_r[Cr]=qr(function(hr,or){return typeof vr=="number"||typeof vr=="boolean"?""+vr:hr.link(vr)})}),Object.keys(Je).forEach(function(Cr){var vr=Je[Cr];_r[Cr]=Zr(vr,function(hr,or){return hr.invoke(or,vr)})}),_r}function vo(De,Ge,Je,_r,Cr){var vr=De.static,hr=De.dynamic,or=Ma(De,Ge),We=Xt(De,Cr),rr=vn(De,We,Cr),He=bn(De,Cr),gr=ho(De,Cr),Lr=li(De,Cr,or);function Gr(Ct){var ct=rr[Ct];ct&&(gr[Ct]=ct)}Gr(Ds),Gr(nt(Zf));var Nt=Object.keys(gr).length>0,gt={framebuffer:We,draw:He,shader:Lr,state:gr,dirty:Nt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(gt.profile=Wt(De,Cr),gt.uniforms=Jn(Je,Cr),gt.drawVAO=gt.scopeVAO=He.vao,!gt.drawVAO&&Lr.program&&!or&&Ue.angle_instanced_arrays&&He.static.elements){var ut=!0,Ot=Lr.program.attributes.map(function(Ct){var ct=Ge.static[Ct];return ut=ut&&!!ct,ct});if(ut&&Ot.length>0){var kt=Vr.getVAO(Vr.createVAO({attributes:Ot,elements:He.static.elements}));gt.drawVAO=new Ze(null,null,null,function(Ct,ct){return Ct.link(kt)}),gt.useVAO=!0}}return or?gt.useVAO=!0:gt.attributes=Pi(Ge,Cr),gt.context=$i(_r,Cr),gt}function ei(De,Ge,Je){var _r=De.shared,Cr=_r.context,vr=De.scope();Object.keys(Je).forEach(function(hr){Ge.save(Cr,"."+hr);var or=Je[hr],We=or.append(De,Ge);Array.isArray(We)?vr(Cr,".",hr,"=[",We.join(),"];"):vr(Cr,".",hr,"=",We,";")}),Ge(vr)}function ri(De,Ge,Je,_r){var Cr=De.shared,vr=Cr.gl,hr=Cr.framebuffer,or;Br&&(or=Ge.def(Cr.extensions,".webgl_draw_buffers"));var We=De.constants,rr=We.drawBuffer,He=We.backBuffer,gr;Je?gr=Je.append(De,Ge):gr=Ge.def(hr,".next"),_r||Ge("if(",gr,"!==",hr,".cur){"),Ge("if(",gr,"){",vr,".bindFramebuffer(",Re,",",gr,".framebuffer);"),Br&&Ge(or,".drawBuffersWEBGL(",rr,"[",gr,".colorAttachments.length]);"),Ge("}else{",vr,".bindFramebuffer(",Re,",null);"),Br&&Ge(or,".drawBuffersWEBGL(",He,");"),Ge("}",hr,".cur=",gr,";"),_r||Ge("}")}function fi(De,Ge,Je){var _r=De.shared,Cr=_r.gl,vr=De.current,hr=De.next,or=_r.current,We=_r.next,rr=De.cond(or,".dirty");Or.forEach(function(He){var gr=nt(He);if(!(gr in Je.state)){var Lr,Gr;if(gr in hr){Lr=hr[gr],Gr=vr[gr];var Nt=g(ot[gr].length,function(ut){return rr.def(Lr,"[",ut,"]")});rr(De.cond(Nt.map(function(ut,Ot){return ut+"!=="+Gr+"["+Ot+"]"}).join("||")).then(Cr,".",dt[gr],"(",Nt,");",Nt.map(function(ut,Ot){return Gr+"["+Ot+"]="+ut}).join(";"),";"))}else{Lr=rr.def(We,".",gr);var gt=De.cond(Lr,"!==",or,".",gr);rr(gt),gr in Fr?gt(De.cond(Lr).then(Cr,".enable(",Fr[gr],");").else(Cr,".disable(",Fr[gr],");"),or,".",gr,"=",Lr,";"):gt(Cr,".",dt[gr],"(",Lr,");",or,".",gr,"=",Lr,";")}}}),Object.keys(Je.state).length===0&&rr(or,".dirty=false;"),Ge(rr)}function sn(De,Ge,Je,_r){var Cr=De.shared,vr=De.current,hr=Cr.current,or=Cr.gl,We;fr(Object.keys(Je)).forEach(function(rr){var He=Je[rr];if(!(_r&&!_r(He))){var gr=He.append(De,Ge);if(Fr[rr]){var Lr=Fr[rr];Rr(He)?(We=De.link(gr,{stable:!0}),Ge(De.cond(We).then(or,".enable(",Lr,");").else(or,".disable(",Lr,");")),Ge(hr,".",rr,"=",We,";")):(Ge(De.cond(gr).then(or,".enable(",Lr,");").else(or,".disable(",Lr,");")),Ge(hr,".",rr,"=",gr,";"))}else if(il(gr)){var Gr=vr[rr];Ge(or,".",dt[rr],"(",gr,");",gr.map(function(Nt,gt){return Gr+"["+gt+"]="+Nt}).join(";"),";")}else Rr(He)?(We=De.link(gr,{stable:!0}),Ge(or,".",dt[rr],"(",We,");",hr,".",rr,"=",We,";")):Ge(or,".",dt[rr],"(",gr,");",hr,".",rr,"=",gr,";")}})}function yi(De,Ge){jr&&(De.instancing=Ge.def(De.shared.extensions,".angle_instanced_arrays"))}function ra(De,Ge,Je,_r,Cr){var vr=De.shared,hr=De.stats,or=vr.current,We=vr.timer,rr=Je.profile;function He(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var gr,Lr;function Gr(Ct){gr=Ge.def(),Ct(gr,"=",He(),";"),typeof Cr=="string"?Ct(hr,".count+=",Cr,";"):Ct(hr,".count++;"),at&&(_r?(Lr=Ge.def(),Ct(Lr,"=",We,".getNumPendingQueries();")):Ct(We,".beginQuery(",hr,");"))}function Nt(Ct){Ct(hr,".cpuTime+=",He(),"-",gr,";"),at&&(_r?Ct(We,".pushScopeStats(",Lr,",",We,".getNumPendingQueries(),",hr,");"):Ct(We,".endQuery();"))}function gt(Ct){var ct=Ge.def(or,".profile");Ge(or,".profile=",Ct,";"),Ge.exit(or,".profile=",ct,";")}var ut;if(rr){if(Rr(rr)){rr.enable?(Gr(Ge),Nt(Ge.exit),gt("true")):gt("false");return}ut=rr.append(De,Ge),gt(ut)}else ut=Ge.def(or,".profile");var Ot=De.block();Gr(Ot),Ge("if(",ut,"){",Ot,"}");var kt=De.block();Nt(kt),Ge.exit("if(",ut,"){",kt,"}")}function Ki(De,Ge,Je,_r,Cr){var vr=De.shared;function hr(We){switch(We){case ef:case Qf:case eu:return 2;case da:case Rc:case Ch:return 3;case Eh:case A1:case T1:return 4;default:return 1}}function or(We,rr,He){var gr=vr.gl,Lr=Ge.def(We,".location"),Gr=Ge.def(vr.attributes,"[",Lr,"]"),Nt=He.state,gt=He.buffer,ut=[He.x,He.y,He.z,He.w],Ot=["buffer","normalized","offset","stride"];function kt(){Ge("if(!",Gr,".buffer){",gr,".enableVertexAttribArray(",Lr,");}");var ct=He.type,Tt;if(He.size?Tt=Ge.def(He.size,"||",rr):Tt=rr,Ge("if(",Gr,".type!==",ct,"||",Gr,".size!==",Tt,"||",Ot.map(function(Qt){return Gr+"."+Qt+"!=="+He[Qt]}).join("||"),"){",gr,".bindBuffer(",Ql,",",gt,".buffer);",gr,".vertexAttribPointer(",[Lr,Tt,ct,He.normalized,He.stride,He.offset],");",Gr,".type=",ct,";",Gr,".size=",Tt,";",Ot.map(function(Qt){return Gr+"."+Qt+"="+He[Qt]+";"}).join(""),"}"),jr){var Et=He.divisor;Ge("if(",Gr,".divisor!==",Et,"){",De.instancing,".vertexAttribDivisorANGLE(",[Lr,Et],");",Gr,".divisor=",Et,";}")}}function Ct(){Ge("if(",Gr,".buffer){",gr,".disableVertexAttribArray(",Lr,");",Gr,".buffer=null;","}if(",Jl.map(function(ct,Tt){return Gr+"."+ct+"!=="+ut[Tt]}).join("||"),"){",gr,".vertexAttrib4f(",Lr,",",ut,");",Jl.map(function(ct,Tt){return Gr+"."+ct+"="+ut[Tt]+";"}).join(""),"}")}Nt===cl?kt():Nt===Tc?Ct():(Ge("if(",Nt,"===",cl,"){"),kt(),Ge("}else{"),Ct(),Ge("}"))}_r.forEach(function(We){var rr=We.name,He=Je.attributes[rr],gr;if(He){if(!Cr(He))return;gr=He.append(De,Ge)}else{if(!Cr(rt))return;var Lr=De.scopeAttrib(rr);gr={},Object.keys(new kr).forEach(function(Gr){gr[Gr]=Ge.def(Lr,".",Gr)})}or(De.link(We),hr(We.info.type),gr)})}function po(De,Ge,Je,_r,Cr,vr){for(var hr=De.shared,or=hr.gl,We,rr=0;rr<_r.length;++rr){var He=_r[rr],gr=He.name,Lr=He.info.type,Gr=Je.uniforms[gr],Nt=De.link(He),gt=Nt+".location",ut;if(Gr){if(!Cr(Gr))continue;if(Rr(Gr)){var Ot=Gr.value;if(Lr===Dc||Lr===C1){var kt=De.link(Ot._texture||Ot.color[0]._texture);Ge(or,".uniform1i(",gt,",",kt+".bind());"),Ge.exit(kt,".unbind();")}else if(Lr===M1||Lr===E1||Lr===S1){var Ct=De.global.def("new Float32Array(["+Array.prototype.slice.call(Ot)+"])"),ct=2;Lr===E1?ct=3:Lr===S1&&(ct=4),Ge(or,".uniformMatrix",ct,"fv(",gt,",false,",Ct,");")}else{switch(Lr){case w1:We="1f";break;case ef:We="2f";break;case da:We="3f";break;case Eh:We="4f";break;case Sh:We="1i";break;case dl:We="1i";break;case eu:We="2i";break;case Qf:We="2i";break;case Ch:We="3i";break;case Rc:We="3i";break;case T1:We="4i";break;case A1:We="4i";break}Ge(or,".uniform",We,"(",gt,",",il(Ot)?Array.prototype.slice.call(Ot):Ot,");")}continue}else ut=Gr.append(De,Ge)}else{if(!Cr(rt))continue;ut=Ge.def(hr.uniforms,"[",Oe.id(gr),"]")}Lr===Dc?Ge("if(",ut,"&&",ut,'._reglType==="framebuffer"){',ut,"=",ut,".color[0];","}"):Lr===C1&&Ge("if(",ut,"&&",ut,'._reglType==="framebufferCube"){',ut,"=",ut,".color[0];","}");var Tt=1;switch(Lr){case Dc:case C1:var Et=Ge.def(ut,"._texture");Ge(or,".uniform1i(",gt,",",Et,".bind());"),Ge.exit(Et,".unbind();");continue;case dl:case Sh:We="1i";break;case Qf:case eu:We="2i",Tt=2;break;case Rc:case Ch:We="3i",Tt=3;break;case A1:case T1:We="4i",Tt=4;break;case w1:We="1f";break;case ef:We="2f",Tt=2;break;case da:We="3f",Tt=3;break;case Eh:We="4f",Tt=4;break;case M1:We="Matrix2fv";break;case E1:We="Matrix3fv";break;case S1:We="Matrix4fv";break}if(We.charAt(0)==="M"){Ge(or,".uniform",We,"(",gt,",");var Qt=Math.pow(Lr-M1+2,2),ua=De.global.def("new Float32Array(",Qt,")");Array.isArray(ut)?Ge("false,(",g(Qt,function(es){return ua+"["+es+"]="+ut[es]}),",",ua,")"):Ge("false,(Array.isArray(",ut,")||",ut," instanceof Float32Array)?",ut,":(",g(Qt,function(es){return ua+"["+es+"]="+ut+"["+es+"]"}),",",ua,")"),Ge(");")}else if(Tt>1){for(var yo=[],rf=[],ru=0;ru<Tt;++ru)Array.isArray(ut)?rf.push(ut[ru]):rf.push(Ge.def(ut+"["+ru+"]")),vr&&yo.push(Ge.def());vr&&Ge("if(!",De.batchId,"||",yo.map(function(es,L1){return es+"!=="+rf[L1]}).join("||"),"){",yo.map(function(es,L1){return es+"="+rf[L1]+";"}).join("")),Ge(or,".uniform",We,"(",gt,",",rf.join(","),");"),vr&&Ge("}")}else{if(vr){var tu=Ge.def();Ge("if(!",De.batchId,"||",tu,"!==",ut,"){",tu,"=",ut,";")}Ge(or,".uniform",We,"(",gt,",",ut,");"),vr&&Ge("}")}}}function go(De,Ge,Je,_r){var Cr=De.shared,vr=Cr.gl,hr=Cr.draw,or=_r.draw;function We(){var Tt=or.elements,Et,Qt=Ge;return Tt?((Tt.contextDep&&_r.contextDynamic||Tt.propDep)&&(Qt=Je),Et=Tt.append(De,Qt),or.elementsActive&&Qt("if("+Et+")"+vr+".bindBuffer("+_1+","+Et+".buffer.buffer);")):(Et=Qt.def(),Qt(Et,"=",hr,".",Kl,";","if(",Et,"){",vr,".bindBuffer(",_1,",",Et,".buffer.buffer);}","else if(",Cr.vao,".currentVAO){",Et,"=",De.shared.elements+".getElements("+Cr.vao,".currentVAO.elements);",ft?"":"if("+Et+")"+vr+".bindBuffer("+_1+","+Et+".buffer.buffer);","}")),Et}function rr(){var Tt=or.count,Et,Qt=Ge;return Tt?((Tt.contextDep&&_r.contextDynamic||Tt.propDep)&&(Qt=Je),Et=Tt.append(De,Qt)):Et=Qt.def(hr,".",Kf),Et}var He=We();function gr(Tt){var Et=or[Tt];return Et?Et.contextDep&&_r.contextDynamic||Et.propDep?Et.append(De,Je):Et.append(De,Ge):Ge.def(hr,".",Tt)}var Lr=gr($f),Gr=gr(m1),Nt=rr();if(typeof Nt=="number"){if(Nt===0)return}else Je("if(",Nt,"){"),Je.exit("}");var gt,ut;jr&&(gt=gr(Ii),ut=De.instancing);var Ot=He+".type",kt=or.elements&&Rr(or.elements)&&!or.vaoActive;function Ct(){function Tt(){Je(ut,".drawElementsInstancedANGLE(",[Lr,Nt,Ot,Gr+"<<(("+Ot+"-"+n1+")>>1)",gt],");")}function Et(){Je(ut,".drawArraysInstancedANGLE(",[Lr,Gr,Nt,gt],");")}He&&He!=="null"?kt?Tt():(Je("if(",He,"){"),Tt(),Je("}else{"),Et(),Je("}")):Et()}function ct(){function Tt(){Je(vr+".drawElements("+[Lr,Nt,Ot,Gr+"<<(("+Ot+"-"+n1+")>>1)"]+");")}function Et(){Je(vr+".drawArrays("+[Lr,Gr,Nt]+");")}He&&He!=="null"?kt?Tt():(Je("if(",He,"){"),Tt(),Je("}else{"),Et(),Je("}")):Et()}jr&&(typeof gt!="number"||gt>=0)?typeof gt=="string"?(Je("if(",gt,">0){"),Ct(),Je("}else if(",gt,"<0){"),ct(),Je("}")):Ct():ct()}function nn(De,Ge,Je,_r,Cr){var vr=_t(),hr=vr.proc("body",Cr);return jr&&(vr.instancing=hr.def(vr.shared.extensions,".angle_instanced_arrays")),De(vr,hr,Je,_r),vr.compile().body}function Cn(De,Ge,Je,_r){yi(De,Ge),Je.useVAO?Je.drawVAO?Ge(De.shared.vao,".setVAO(",Je.drawVAO.append(De,Ge),");"):Ge(De.shared.vao,".setVAO(",De.shared.vao,".targetVAO);"):(Ge(De.shared.vao,".setVAO(null);"),Ki(De,Ge,Je,_r.attributes,function(){return!0})),po(De,Ge,Je,_r.uniforms,function(){return!0},!1),go(De,Ge,Ge,Je)}function fa(De,Ge){var Je=De.proc("draw",1);yi(De,Je),ei(De,Je,Ge.context),ri(De,Je,Ge.framebuffer),fi(De,Je,Ge),sn(De,Je,Ge.state),ra(De,Je,Ge,!1,!0);var _r=Ge.shader.progVar.append(De,Je);if(Je(De.shared.gl,".useProgram(",_r,".program);"),Ge.shader.program)Cn(De,Je,Ge,Ge.shader.program);else{Je(De.shared.vao,".setVAO(null);");var Cr=De.global.def("{}"),vr=Je.def(_r,".id"),hr=Je.def(Cr,"[",vr,"]");Je(De.cond(hr).then(hr,".call(this,a0);").else(hr,"=",Cr,"[",vr,"]=",De.link(function(or){return nn(Cn,De,Ge,or,1)}),"(",_r,");",hr,".call(this,a0);"))}Object.keys(Ge.state).length>0&&Je(De.shared.current,".dirty=true;"),De.shared.vao&&Je(De.shared.vao,".setVAO(null);")}function Be(De,Ge,Je,_r){De.batchId="a1",yi(De,Ge);function Cr(){return!0}Ki(De,Ge,Je,_r.attributes,Cr),po(De,Ge,Je,_r.uniforms,Cr,!1),go(De,Ge,Ge,Je)}function Ar(De,Ge,Je,_r){yi(De,Ge);var Cr=Je.contextDep,vr=Ge.def(),hr="a0",or="a1",We=Ge.def();De.shared.props=We,De.batchId=vr;var rr=De.scope(),He=De.scope();Ge(rr.entry,"for(",vr,"=0;",vr,"<",or,";++",vr,"){",We,"=",hr,"[",vr,"];",He,"}",rr.exit);function gr(Ot){return Ot.contextDep&&Cr||Ot.propDep}function Lr(Ot){return!gr(Ot)}if(Je.needsContext&&ei(De,He,Je.context),Je.needsFramebuffer&&ri(De,He,Je.framebuffer),sn(De,He,Je.state,gr),Je.profile&&gr(Je.profile)&&ra(De,He,Je,!1,!0),_r)Je.useVAO?Je.drawVAO?gr(Je.drawVAO)?He(De.shared.vao,".setVAO(",Je.drawVAO.append(De,He),");"):rr(De.shared.vao,".setVAO(",Je.drawVAO.append(De,rr),");"):rr(De.shared.vao,".setVAO(",De.shared.vao,".targetVAO);"):(rr(De.shared.vao,".setVAO(null);"),Ki(De,rr,Je,_r.attributes,Lr),Ki(De,He,Je,_r.attributes,gr)),po(De,rr,Je,_r.uniforms,Lr,!1),po(De,He,Je,_r.uniforms,gr,!0),go(De,rr,He,Je);else{var Gr=De.global.def("{}"),Nt=Je.shader.progVar.append(De,He),gt=He.def(Nt,".id"),ut=He.def(Gr,"[",gt,"]");He(De.shared.gl,".useProgram(",Nt,".program);","if(!",ut,"){",ut,"=",Gr,"[",gt,"]=",De.link(function(Ot){return nn(Be,De,Je,Ot,2)}),"(",Nt,");}",ut,".call(this,a0[",vr,"],",vr,");")}}function Mr(De,Ge){var Je=De.proc("batch",2);De.batchId="0",yi(De,Je);var _r=!1,Cr=!0;Object.keys(Ge.context).forEach(function(Gr){_r=_r||Ge.context[Gr].propDep}),_r||(ei(De,Je,Ge.context),Cr=!1);var vr=Ge.framebuffer,hr=!1;vr?(vr.propDep?_r=hr=!0:vr.contextDep&&_r&&(hr=!0),hr||ri(De,Je,vr)):ri(De,Je,null),Ge.state.viewport&&Ge.state.viewport.propDep&&(_r=!0);function or(Gr){return Gr.contextDep&&_r||Gr.propDep}fi(De,Je,Ge),sn(De,Je,Ge.state,function(Gr){return!or(Gr)}),(!Ge.profile||!or(Ge.profile))&&ra(De,Je,Ge,!1,"a1"),Ge.contextDep=_r,Ge.needsContext=Cr,Ge.needsFramebuffer=hr;var We=Ge.shader.progVar;if(We.contextDep&&_r||We.propDep)Ar(De,Je,Ge,null);else{var rr=We.append(De,Je);if(Je(De.shared.gl,".useProgram(",rr,".program);"),Ge.shader.program)Ar(De,Je,Ge,Ge.shader.program);else{Je(De.shared.vao,".setVAO(null);");var He=De.global.def("{}"),gr=Je.def(rr,".id"),Lr=Je.def(He,"[",gr,"]");Je(De.cond(Lr).then(Lr,".call(this,a0,a1);").else(Lr,"=",He,"[",gr,"]=",De.link(function(Gr){return nn(Ar,De,Ge,Gr,2)}),"(",rr,");",Lr,".call(this,a0,a1);"))}}Object.keys(Ge.state).length>0&&Je(De.shared.current,".dirty=true;"),De.shared.vao&&Je(De.shared.vao,".setVAO(null);")}function Mt(De,Ge){var Je=De.proc("scope",3);De.batchId="a2";var _r=De.shared,Cr=_r.current;if(ei(De,Je,Ge.context),Ge.framebuffer&&Ge.framebuffer.append(De,Je),fr(Object.keys(Ge.state)).forEach(function(or){var We=Ge.state[or],rr=We.append(De,Je);il(rr)?rr.forEach(function(He,gr){pt(He)?Je.set(De.next[or],"["+gr+"]",He):Je.set(De.next[or],"["+gr+"]",De.link(He,{stable:!0}))}):Rr(We)?Je.set(_r.next,"."+or,De.link(rr,{stable:!0})):Je.set(_r.next,"."+or,rr)}),ra(De,Je,Ge,!0,!0),[Kl,m1,Kf,Ii,$f].forEach(function(or){var We=Ge.draw[or];if(We){var rr=We.append(De,Je);pt(rr)?Je.set(_r.draw,"."+or,rr):Je.set(_r.draw,"."+or,De.link(rr),{stable:!0})}}),Object.keys(Ge.uniforms).forEach(function(or){var We=Ge.uniforms[or].append(De,Je);Array.isArray(We)&&(We="["+We.map(function(rr){return pt(rr)?rr:De.link(rr,{stable:!0})})+"]"),Je.set(_r.uniforms,"["+De.link(Oe.id(or),{stable:!0})+"]",We)}),Object.keys(Ge.attributes).forEach(function(or){var We=Ge.attributes[or].append(De,Je),rr=De.scopeAttrib(or);Object.keys(new kr).forEach(function(He){Je.set(rr,"."+He,We[He])})}),Ge.scopeVAO){var vr=Ge.scopeVAO.append(De,Je);pt(vr)?Je.set(_r.vao,".targetVAO",vr):Je.set(_r.vao,".targetVAO",De.link(vr,{stable:!0}))}function hr(or){var We=Ge.shader[or];if(We){var rr=We.append(De,Je);pt(rr)?Je.set(_r.shader,"."+or,rr):Je.set(_r.shader,"."+or,De.link(rr,{stable:!0}))}}hr($l),hr(Jf),Object.keys(Ge.state).length>0&&(Je(Cr,".dirty=true;"),Je.exit(Cr,".dirty=true;")),Je("a1(",De.shared.context,",a0,",De.batchId,");")}function An(De){if(!(typeof De!="object"||il(De))){for(var Ge=Object.keys(De),Je=0;Je<Ge.length;++Je)if(v.isDynamic(De[Ge[Je]]))return!0;return!1}}function $n(De,Ge,Je){var _r=Ge.static[Je];if(!_r||!An(_r))return;var Cr=De.global,vr=Object.keys(_r),hr=!1,or=!1,We=!1,rr=De.global.def("{}");vr.forEach(function(gr){var Lr=_r[gr];if(v.isDynamic(Lr)){typeof Lr=="function"&&(Lr=_r[gr]=v.unbox(Lr));var Gr=Zr(Lr,null);hr=hr||Gr.thisDep,We=We||Gr.propDep,or=or||Gr.contextDep}else{switch(Cr(rr,".",gr,"="),typeof Lr){case"number":Cr(Lr);break;case"string":Cr('"',Lr,'"');break;case"object":Array.isArray(Lr)&&Cr("[",Lr.join(),"]");break;default:Cr(De.link(Lr));break}Cr(";")}});function He(gr,Lr){vr.forEach(function(Gr){var Nt=_r[Gr];if(v.isDynamic(Nt)){var gt=gr.invoke(Lr,Nt);Lr(rr,".",Gr,"=",gt,";")}})}Ge.dynamic[Je]=new v.DynamicVariable(gh,{thisDep:hr,contextDep:or,propDep:We,ref:rr,append:He}),delete Ge.static[Je]}function At(De,Ge,Je,_r,Cr){var vr=_t();vr.stats=vr.link(Cr),Object.keys(Ge.static).forEach(function(or){$n(vr,Ge,or)}),g2.forEach(function(or){$n(vr,De,or)});var hr=vo(De,Ge,Je,_r,vr);return hr.shader.program&&(hr.shader.program.attributes.sort(function(or,We){return or.name<We.name?-1:1}),hr.shader.program.uniforms.sort(function(or,We){return or.name<We.name?-1:1})),fa(vr,hr),Mt(vr,hr),Mr(vr,hr),e(vr.compile(),{destroy:function(){hr.shader.program.destroy()}})}return{next:It,current:ot,procs:function(){var De=_t(),Ge=De.proc("poll"),Je=De.proc("refresh"),_r=De.block();Ge(_r),Je(_r);var Cr=De.shared,vr=Cr.gl,hr=Cr.next,or=Cr.current;_r(or,".dirty=false;"),ri(De,Ge),ri(De,Je,null,!0);var We;jr&&(We=De.link(jr)),Ue.oes_vertex_array_object&&Je(De.link(Ue.oes_vertex_array_object),".bindVertexArrayOES(null);");var rr=Je.def(Cr.attributes),He=Je.def(0),gr=De.cond(He,".buffer");gr.then(vr,".enableVertexAttribArray(i);",vr,".bindBuffer(",Ql,",",He,".buffer.buffer);",vr,".vertexAttribPointer(i,",He,".size,",He,".type,",He,".normalized,",He,".stride,",He,".offset);").else(vr,".disableVertexAttribArray(i);",vr,".vertexAttrib4f(i,",He,".x,",He,".y,",He,".z,",He,".w);",He,".buffer=null;");var Lr=De.link(dr.maxAttributes,{stable:!0});return Je("for(var i=0;i<",Lr,";++i){",He,"=",rr,"[i];",gr,"}"),jr&&Je("for(var i=0;i<",Lr,";++i){",We,".vertexAttribDivisorANGLE(i,",rr,"[i].divisor);","}"),Je(De.shared.vao,".currentVAO=null;",De.shared.vao,".setVAO(",De.shared.vao,".targetVAO);"),Object.keys(Fr).forEach(function(Gr){var Nt=Fr[Gr],gt=_r.def(hr,".",Gr),ut=De.block();ut("if(",gt,"){",vr,".enable(",Nt,")}else{",vr,".disable(",Nt,")}",or,".",Gr,"=",gt,";"),Je(ut),Ge("if(",gt,"!==",or,".",Gr,"){",ut,"}")}),Object.keys(dt).forEach(function(Gr){var Nt=dt[Gr],gt=ot[Gr],ut,Ot,kt=De.block();if(kt(vr,".",Nt,"("),il(gt)){var Ct=gt.length;ut=De.global.def(hr,".",Gr),Ot=De.global.def(or,".",Gr),kt(g(Ct,function(ct){return ut+"["+ct+"]"}),");",g(Ct,function(ct){return Ot+"["+ct+"]="+ut+"["+ct+"];"}).join("")),Ge("if(",g(Ct,function(ct){return ut+"["+ct+"]!=="+Ot+"["+ct+"]"}).join("||"),"){",kt,"}")}else ut=_r.def(hr,".",Gr),Ot=_r.def(or,".",Gr),kt(ut,");",or,".",Gr,"=",ut,";"),Ge("if(",ut,"!==",Ot,"){",kt,"}");Je(kt)}),De.compile()}(),compile:At}}function vt(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Ht=34918,xt=34919,qt=35007,Sn=function(he,Oe){if(!Oe.ext_disjoint_timer_query)return null;var Ue=[];function dr(){return Ue.pop()||Oe.ext_disjoint_timer_query.createQueryEXT()}function br(zr){Ue.push(zr)}var Sr=[];function xr(zr){var jr=dr();Oe.ext_disjoint_timer_query.beginQueryEXT(qt,jr),Sr.push(jr),at(Sr.length-1,Sr.length,zr)}function Pr(){Oe.ext_disjoint_timer_query.endQueryEXT(qt)}function Hr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Vr=[];function Yr(){return Vr.pop()||new Hr}function Rt(zr){Vr.push(zr)}var yt=[];function at(zr,jr,Br){var ft=Yr();ft.startQueryIndex=zr,ft.endQueryIndex=jr,ft.sum=0,ft.stats=Br,yt.push(ft)}var Dr=[],cr=[];function kr(){var zr,jr,Br=Sr.length;if(Br!==0){cr.length=Math.max(cr.length,Br+1),Dr.length=Math.max(Dr.length,Br+1),Dr[0]=0,cr[0]=0;var ft=0;for(zr=0,jr=0;jr<Sr.length;++jr){var ot=Sr[jr];Oe.ext_disjoint_timer_query.getQueryObjectEXT(ot,xt)?(ft+=Oe.ext_disjoint_timer_query.getQueryObjectEXT(ot,Ht),br(ot)):Sr[zr++]=ot,Dr[jr+1]=ft,cr[jr+1]=zr}for(Sr.length=zr,zr=0,jr=0;jr<yt.length;++jr){var It=yt[jr],Or=It.startQueryIndex,Fr=It.endQueryIndex;It.sum+=Dr[Fr]-Dr[Or];var dt=cr[Or],nt=cr[Fr];nt===dt?(It.stats.gpuTime+=It.sum/1e6,Rt(It)):(It.startQueryIndex=dt,It.endQueryIndex=nt,yt[zr++]=It)}yt.length=zr}}return{beginQuery:xr,endQuery:Pr,pushScopeStats:at,update:kr,getNumPendingQueries:function(){return Sr.length},clear:function(){Ue.push.apply(Ue,Sr);for(var zr=0;zr<Ue.length;zr++)Oe.ext_disjoint_timer_query.deleteQueryEXT(Ue[zr]);Sr.length=0,Ue.length=0},restore:function(){Sr.length=0,Ue.length=0}}},pa=16384,Pn=256,$r=1024,Vt=34962,en="webglcontextlost",wn="webglcontextrestored",ea=1,Ta=2,Qa=3;function si(he,Oe){for(var Ue=0;Ue<he.length;++Ue)if(he[Ue]===Oe)return Ue;return-1}function Mi(he){var Oe=d(he);if(!Oe)return null;var Ue=Oe.gl,dr=Ue.getContextAttributes(),br=Ue.isContextLost(),Sr=T(Ue,Oe);if(!Sr)return null;var xr=A(),Pr=vt(),Hr=Oe.cachedCode||{},Vr=Sr.extensions,Yr=Sn(Ue,Vr),Rt=x(),yt=Ue.drawingBufferWidth,at=Ue.drawingBufferHeight,Dr={tick:0,time:0,viewportWidth:yt,viewportHeight:at,framebufferWidth:yt,framebufferHeight:at,drawingBufferWidth:yt,drawingBufferHeight:at,pixelRatio:Oe.pixelRatio},cr={},kr={elements:null,primitive:4,count:-1,offset:0,instances:-1},zr=mr(Ue,Vr),jr=Qn(Ue,Pr,Oe,ot),Br=Hn(Ue,Vr,jr,Pr),ft=$d(Ue,Vr,zr,Pr,jr,Br,kr);function ot(nn){return ft.destroyBuffer(nn)}var It=Ky(Ue,xr,Pr,Oe),Or=By(Ue,Vr,zr,function(){nt.procs.poll()},Dr,Pr,Oe),Fr=Y_(Ue,Vr,zr,Pr,Oe),dt=J_(Ue,Vr,zr,Or,Fr,Pr),nt=ht(Ue,xr,Vr,zr,jr,Br,Or,dt,cr,ft,It,kr,Dr,Yr,Hr,Oe),Qr=Qy(Ue,dt,nt.procs.poll,Dr,dr,Vr,zr),et=nt.next,pt=Ue.canvas,Pt=[],Kt=[],lt=[],_t=[Oe.onDestroy],Wt=null;function Xt(){if(Pt.length===0){Yr&&Yr.update(),Wt=null;return}Wt=m.next(Xt),fi();for(var nn=Pt.length-1;nn>=0;--nn){var Cn=Pt[nn];Cn&&Cn(Dr,null,0)}Ue.flush(),Yr&&Yr.update()}function vn(){!Wt&&Pt.length>0&&(Wt=m.next(Xt))}function Ma(){Wt&&(m.cancel(Xt),Wt=null)}function li(nn){nn.preventDefault(),br=!0,Ma(),Kt.forEach(function(Cn){Cn()})}function bn(nn){Ue.getError(),br=!1,Sr.restore(),It.restore(),jr.restore(),Or.restore(),Fr.restore(),dt.restore(),ft.restore(),Yr&&Yr.restore(),nt.procs.refresh(),vn(),lt.forEach(function(Cn){Cn()})}pt&&(pt.addEventListener(en,li,!1),pt.addEventListener(wn,bn,!1));function ho(){Pt.length=0,Ma(),pt&&(pt.removeEventListener(en,li),pt.removeEventListener(wn,bn)),It.clear(),dt.clear(),Fr.clear(),ft.clear(),Or.clear(),Br.clear(),jr.clear(),Yr&&Yr.clear(),_t.forEach(function(nn){nn()})}function Jn(nn){function Cn(vr){var hr=e({},vr);delete hr.uniforms,delete hr.attributes,delete hr.context,delete hr.vao,"stencil"in hr&&hr.stencil.op&&(hr.stencil.opBack=hr.stencil.opFront=hr.stencil.op,delete hr.stencil.op);function or(We){if(We in hr){var rr=hr[We];delete hr[We],Object.keys(rr).forEach(function(He){hr[We+"."+He]=rr[He]})}}return or("blend"),or("depth"),or("cull"),or("stencil"),or("polygonOffset"),or("scissor"),or("sample"),"vao"in vr&&(hr.vao=vr.vao),hr}function fa(vr,hr){var or={},We={};return Object.keys(vr).forEach(function(rr){var He=vr[rr];if(v.isDynamic(He)){We[rr]=v.unbox(He,rr);return}else if(hr&&Array.isArray(He)){for(var gr=0;gr<He.length;++gr)if(v.isDynamic(He[gr])){We[rr]=v.unbox(He,rr);return}}or[rr]=He}),{dynamic:We,static:or}}var Be=fa(nn.context||{},!0),Ar=fa(nn.uniforms||{},!0),Mr=fa(nn.attributes||{},!1),Mt=fa(Cn(nn),!1),An={gpuTime:0,cpuTime:0,count:0},$n=nt.compile(Mt,Mr,Ar,Be,An),At=$n.draw,De=$n.batch,Ge=$n.scope,Je=[];function _r(vr){for(;Je.length<vr;)Je.push(null);return Je}function Cr(vr,hr){var or;if(typeof vr=="function")return Ge.call(this,null,vr,0);if(typeof hr=="function")if(typeof vr=="number")for(or=0;or<vr;++or)Ge.call(this,null,hr,or);else if(Array.isArray(vr))for(or=0;or<vr.length;++or)Ge.call(this,vr[or],hr,or);else return Ge.call(this,vr,hr,0);else if(typeof vr=="number"){if(vr>0)return De.call(this,_r(vr|0),vr|0)}else if(Array.isArray(vr)){if(vr.length)return De.call(this,vr,vr.length)}else return At.call(this,vr)}return e(Cr,{stats:An,destroy:function(){$n.destroy()}})}var Pi=dt.setFBO=Jn({framebuffer:v.define.call(null,ea,"framebuffer")});function $i(nn,Cn){var fa=0;nt.procs.poll();var Be=Cn.color;Be&&(Ue.clearColor(+Be[0]||0,+Be[1]||0,+Be[2]||0,+Be[3]||0),fa|=pa),"depth"in Cn&&(Ue.clearDepth(+Cn.depth),fa|=Pn),"stencil"in Cn&&(Ue.clearStencil(Cn.stencil|0),fa|=$r),Ue.clear(fa)}function vo(nn){if("framebuffer"in nn)if(nn.framebuffer&&nn.framebuffer_reglType==="framebufferCube")for(var Cn=0;Cn<6;++Cn)Pi(e({framebuffer:nn.framebuffer.faces[Cn]},nn),$i);else Pi(nn,$i);else $i(null,nn)}function ei(nn){Pt.push(nn);function Cn(){var fa=si(Pt,nn);function Be(){var Ar=si(Pt,Be);Pt[Ar]=Pt[Pt.length-1],Pt.length-=1,Pt.length<=0&&Ma()}Pt[fa]=Be}return vn(),{cancel:Cn}}function ri(){var nn=et.viewport,Cn=et.scissor_box;nn[0]=nn[1]=Cn[0]=Cn[1]=0,Dr.viewportWidth=Dr.framebufferWidth=Dr.drawingBufferWidth=nn[2]=Cn[2]=Ue.drawingBufferWidth,Dr.viewportHeight=Dr.framebufferHeight=Dr.drawingBufferHeight=nn[3]=Cn[3]=Ue.drawingBufferHeight}function fi(){Dr.tick+=1,Dr.time=yi(),ri(),nt.procs.poll()}function sn(){Or.refresh(),ri(),nt.procs.refresh(),Yr&&Yr.update()}function yi(){return(x()-Rt)/1e3}sn();function ra(nn,Cn){var fa;switch(nn){case"frame":return ei(Cn);case"lost":fa=Kt;break;case"restore":fa=lt;break;case"destroy":fa=_t;break;default:}return fa.push(Cn),{cancel:function(){for(var Be=0;Be<fa.length;++Be)if(fa[Be]===Cn){fa[Be]=fa[fa.length-1],fa.pop();return}}}}function Ki(){return Hr}function po(nn){Object.entries(nn).forEach(function(Cn){Hr[Cn[0]]=Cn[1]})}var go=e(Jn,{clear:vo,prop:v.define.bind(null,ea),context:v.define.bind(null,Ta),this:v.define.bind(null,Qa),draw:Jn({}),buffer:function(nn){return jr.create(nn,Vt,!1,!1)},elements:function(nn){return Br.create(nn,!1)},texture:Or.create2D,cube:Or.createCube,renderbuffer:Fr.create,framebuffer:dt.create,framebufferCube:dt.createCube,vao:ft.createVAO,attributes:dr,frame:ei,on:ra,limits:zr,hasExtension:function(nn){return zr.extensions.indexOf(nn.toLowerCase())>=0},read:Qr,destroy:ho,_gl:Ue,_refresh:sn,poll:function(){fi(),Yr&&Yr.update()},now:yi,stats:Pr,getCachedCode:Ki,preloadCachedCode:po});return Oe.onDone(null,go),go}return Mi})});var ere=ie((bUe,Qee)=>{"use strict";var dEe=Dl();Qee.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},$ee(r)?r={container:r}:pEe(r)?r={container:r}:gEe(r)?r={gl:r}:r=dEe(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=window.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}$ee(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=Kee(),r.container.appendChild(r.canvas),Jee(r))}else if(!r.canvas)if(typeof document!="undefined")r.container=document.body||document.documentElement,r.canvas=Kee(),r.container.appendChild(r.canvas),Jee(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(n){try{r.gl=r.canvas.getContext(n,r.attrs)}catch(a){}return r.gl}),r.gl};function Jee(e){if(e.container)if(e.container==document.body)document.body.style.width||(e.canvas.width=e.width||e.pixelRatio*window.innerWidth),document.body.style.height||(e.canvas.height=e.height||e.pixelRatio*window.innerHeight);else{var r=e.container.getBoundingClientRect();e.canvas.width=e.width||r.right-r.left,e.canvas.height=e.height||r.bottom-r.top}}function $ee(e){return typeof e.getContext=="function"&&"width"in e&&"height"in e}function pEe(e){return typeof e.nodeName=="string"&&typeof e.appendChild=="function"&&typeof e.getBoundingClientRect=="function"}function gEe(e){return typeof e.drawArrays=="function"||typeof e.drawElements=="function"}function Kee(){var e=document.createElement("canvas");return e.style.position="absolute",e.style.top=0,e.style.left=0,e}});var tre=ie((_Ue,rre)=>{"use strict";var yEe=N7(),mEe=[32,126];rre.exports=xEe;function xEe(e){e=e||{};var r=e.shape?e.shape:e.canvas?[e.canvas.width,e.canvas.height]:[512,512],t=e.canvas||document.createElement("canvas"),n=e.font,a=typeof e.step=="number"?[e.step,e.step]:e.step||[32,32],o=e.chars||mEe;if(n&&typeof n!="string"&&(n=yEe(n)),!Array.isArray(o))o=String(o).split("");else if(o.length===2&&typeof o[0]=="number"&&typeof o[1]=="number"){for(var i=[],s=o[0],f=0;s<=o[1];s++)i[f++]=String.fromCharCode(s);o=i}r=r.slice(),t.width=r[0],t.height=r[1];var l=t.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,t.width,t.height),l.font=n,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";for(var u=a[0]/2,c=a[1]/2,s=0;s<o.length;s++)l.fillText(o[s],u,c),(u+=a[0])>r[0]-a[0]/2&&(u=a[0]/2,c+=a[1]);return t}});var G7=ie(Ha=>{"use strict";"use restrict";var U7=32;Ha.INT_BITS=U7;Ha.INT_MAX=2147483647;Ha.INT_MIN=-1<<U7-1;Ha.sign=function(e){return(e>0)-(e<0)};Ha.abs=function(e){var r=e>>U7-1;return(e^r)-r};Ha.min=function(e,r){return r^(e^r)&-(e<r)};Ha.max=function(e,r){return e^(e^r)&-(e<r)};Ha.isPow2=function(e){return!(e&e-1)&&!!e};Ha.log2=function(e){var r,t;return r=(e>65535)<<4,e>>>=r,t=(e>255)<<3,e>>>=t,r|=t,t=(e>15)<<2,e>>>=t,r|=t,t=(e>3)<<1,e>>>=t,r|=t,r|e>>1};Ha.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0};Ha.popCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function nre(e){var r=32;return e&=-e,e&&r--,e&65535&&(r-=16),e&16711935&&(r-=8),e&252645135&&(r-=4),e&858993459&&(r-=2),e&1431655765&&(r-=1),r}Ha.countTrailingZeros=nre;Ha.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1};Ha.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)};Ha.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var ty=new Array(256);(function(e){for(var r=0;r<256;++r){var t=r,n=r,a=7;for(t>>>=1;t;t>>>=1)n<<=1,n|=t&1,--a;e[r]=n<<a&255}})(ty);Ha.reverse=function(e){return ty[e&255]<<24|ty[e>>>8&255]<<16|ty[e>>>16&255]<<8|ty[e>>>24&255]};Ha.interleave2=function(e,r){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r&=65535,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e|r<<1};Ha.deinterleave2=function(e,r){return e=e>>>r&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16};Ha.interleave3=function(e,r,t){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,r&=1023,r=(r|r<<16)&4278190335,r=(r|r<<8)&251719695,r=(r|r<<4)&3272356035,r=(r|r<<2)&1227133513,e|=r<<1,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|t<<2};Ha.deinterleave3=function(e,r){return e=e>>>r&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22};Ha.nextCombination=function(e){var r=e|e-1;return r+1|(~r&-~r)-1>>>nre(e)+1}});var ore=ie((AUe,ire)=>{"use strict";function are(e,r,t){var n=e[t]|0;if(n<=0)return[];var a=new Array(n),o;if(t===e.length-1)for(o=0;o<n;++o)a[o]=r;else for(o=0;o<n;++o)a[o]=are(e,r,t+1);return a}function bEe(e,r){var t,n;for(t=new Array(e),n=0;n<e;++n)t[n]=r;return t}function _Ee(e,r){switch(typeof r=="undefined"&&(r=0),typeof e){case"number":if(e>0)return bEe(e|0,r);break;case"object":if(typeof e.length=="number")return are(e,r,0);break}return[]}ire.exports=_Ee});var fre=ie(N5=>{"use strict";N5.byteLength=AEe;N5.toByteArray=MEe;N5.fromByteArray=CEe;var Il=[],Ts=[],wEe=typeof Uint8Array!="undefined"?Uint8Array:Array,H7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(B0=0,sre=H7.length;B0<sre;++B0)Il[B0]=H7[B0],Ts[H7.charCodeAt(B0)]=B0;var B0,sre;Ts[45]=62;Ts[95]=63;function lre(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=r);var n=t===r?0:4-t%4;return[t,n]}function AEe(e){var r=lre(e),t=r[0],n=r[1];return(t+n)*3/4-n}function TEe(e,r,t){return(r+t)*3/4-t}function MEe(e){var r,t=lre(e),n=t[0],a=t[1],o=new wEe(TEe(e,n,a)),i=0,s=a>0?n-4:n,f;for(f=0;f<s;f+=4)r=Ts[e.charCodeAt(f)]<<18|Ts[e.charCodeAt(f+1)]<<12|Ts[e.charCodeAt(f+2)]<<6|Ts[e.charCodeAt(f+3)],o[i++]=r>>16&255,o[i++]=r>>8&255,o[i++]=r&255;return a===2&&(r=Ts[e.charCodeAt(f)]<<2|Ts[e.charCodeAt(f+1)]>>4,o[i++]=r&255),a===1&&(r=Ts[e.charCodeAt(f)]<<10|Ts[e.charCodeAt(f+1)]<<4|Ts[e.charCodeAt(f+2)]>>2,o[i++]=r>>8&255,o[i++]=r&255),o}function EEe(e){return Il[e>>18&63]+Il[e>>12&63]+Il[e>>6&63]+Il[e&63]}function SEe(e,r,t){for(var n,a=[],o=r;o<t;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),a.push(EEe(n));return a.join("")}function CEe(e){for(var r,t=e.length,n=t%3,a=[],o=16383,i=0,s=t-n;i<s;i+=o)a.push(SEe(e,i,i+o>s?s:i+o));return n===1?(r=e[t-1],a.push(Il[r>>2]+Il[r<<4&63]+"==")):n===2&&(r=(e[t-2]<<8)+e[t-1],a.push(Il[r>>10]+Il[r>>4&63]+Il[r<<2&63]+"=")),a.join("")}});var ure=ie(V7=>{V7.read=function(e,r,t,n,a){var o,i,s=a*8-n-1,f=(1<<s)-1,l=f>>1,u=-7,c=t?a-1:0,v=t?-1:1,m=e[r+c];for(c+=v,o=m&(1<<-u)-1,m>>=-u,u+=s;u>0;o=o*256+e[r+c],c+=v,u-=8);for(i=o&(1<<-u)-1,o>>=-u,u+=n;u>0;i=i*256+e[r+c],c+=v,u-=8);if(o===0)o=1-l;else{if(o===f)return i?NaN:(m?-1:1)*(1/0);i=i+Math.pow(2,n),o=o-l}return(m?-1:1)*i*Math.pow(2,o-n)};V7.write=function(e,r,t,n,a,o){var i,s,f,l=o*8-a-1,u=(1<<l)-1,c=u>>1,v=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,x=n?1:-1,A=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,i=u):(i=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-i))<1&&(i--,f*=2),i+c>=1?r+=v/f:r+=v*Math.pow(2,1-c),r*f>=2&&(i++,f/=2),i+c>=u?(s=0,i=u):i+c>=1?(s=(r*f-1)*Math.pow(2,a),i=i+c):(s=r*Math.pow(2,c-1)*Math.pow(2,a),i=0));a>=8;e[t+m]=s&255,m+=x,s/=256,a-=8);for(i=i<<a|s,l+=a;l>0;e[t+m]=i&255,m+=x,i/=256,l-=8);e[t+m-x]|=A*128}});var Sre=ie(_d=>{"use strict";var Y7=fre(),xd=ure(),cre=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;_d.Buffer=Nr;_d.SlowBuffer=IEe;_d.INSPECT_MAX_BYTES=50;var B5=2147483647;_d.kMaxLength=B5;Nr.TYPED_ARRAY_SUPPORT=kEe();!Nr.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function kEe(){try{let e=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(e,r),e.foo()===42}catch(e){return!1}}Object.defineProperty(Nr.prototype,"parent",{enumerable:!0,get:function(){if(Nr.isBuffer(this))return this.buffer}});Object.defineProperty(Nr.prototype,"offset",{enumerable:!0,get:function(){if(Nr.isBuffer(this))return this.byteOffset}});function Lf(e){if(e>B5)throw new RangeError('The value "'+e+'" is invalid for option "size"');let r=new Uint8Array(e);return Object.setPrototypeOf(r,Nr.prototype),r}function Nr(e,r,t){if(typeof e=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return j7(e)}return pre(e,r,t)}Nr.poolSize=8192;function pre(e,r,t){if(typeof e=="string")return REe(e,r);if(ArrayBuffer.isView(e))return DEe(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Pl(e,ArrayBuffer)||e&&Pl(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Pl(e,SharedArrayBuffer)||e&&Pl(e.buffer,SharedArrayBuffer)))return X7(e,r,t);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return Nr.from(n,r,t);let a=FEe(e);if(a)return a;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return Nr.from(e[Symbol.toPrimitive]("string"),r,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}Nr.from=function(e,r,t){return pre(e,r,t)};Object.setPrototypeOf(Nr.prototype,Uint8Array.prototype);Object.setPrototypeOf(Nr,Uint8Array);function gre(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function LEe(e,r,t){return gre(e),e<=0?Lf(e):r!==void 0?typeof t=="string"?Lf(e).fill(r,t):Lf(e).fill(r):Lf(e)}Nr.alloc=function(e,r,t){return LEe(e,r,t)};function j7(e){return gre(e),Lf(e<0?0:J7(e)|0)}Nr.allocUnsafe=function(e){return j7(e)};Nr.allocUnsafeSlow=function(e){return j7(e)};function REe(e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!Nr.isEncoding(r))throw new TypeError("Unknown encoding: "+r);let t=yre(e,r)|0,n=Lf(t),a=n.write(e,r);return a!==t&&(n=n.slice(0,a)),n}function W7(e){let r=e.length<0?0:J7(e.length)|0,t=Lf(r);for(let n=0;n<r;n+=1)t[n]=e[n]&255;return t}function DEe(e){if(Pl(e,Uint8Array)){let r=new Uint8Array(e);return X7(r.buffer,r.byteOffset,r.byteLength)}return W7(e)}function X7(e,r,t){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return r===void 0&&t===void 0?n=new Uint8Array(e):t===void 0?n=new Uint8Array(e,r):n=new Uint8Array(e,r,t),Object.setPrototypeOf(n,Nr.prototype),n}function FEe(e){if(Nr.isBuffer(e)){let r=J7(e.length)|0,t=Lf(r);return t.length===0||e.copy(t,0,0,r),t}if(e.length!==void 0)return typeof e.length!="number"||K7(e.length)?Lf(0):W7(e);if(e.type==="Buffer"&&Array.isArray(e.data))return W7(e.data)}function J7(e){if(e>=B5)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+B5.toString(16)+" bytes");return e|0}function IEe(e){return+e!=e&&(e=0),Nr.alloc(+e)}Nr.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==Nr.prototype};Nr.compare=function(r,t){if(Pl(r,Uint8Array)&&(r=Nr.from(r,r.offset,r.byteLength)),Pl(t,Uint8Array)&&(t=Nr.from(t,t.offset,t.byteLength)),!Nr.isBuffer(r)||!Nr.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;let n=r.length,a=t.length;for(let o=0,i=Math.min(n,a);o<i;++o)if(r[o]!==t[o]){n=r[o],a=t[o];break}return n<a?-1:a<n?1:0};Nr.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Nr.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return Nr.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<r.length;++n)t+=r[n].length;let a=Nr.allocUnsafe(t),o=0;for(n=0;n<r.length;++n){let i=r[n];if(Pl(i,Uint8Array))o+i.length>a.length?(Nr.isBuffer(i)||(i=Nr.from(i)),i.copy(a,o)):Uint8Array.prototype.set.call(a,i,o);else if(Nr.isBuffer(i))i.copy(a,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=i.length}return a};function yre(e,r){if(Nr.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Pl(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let t=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let a=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Z7(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Ere(e).length;default:if(a)return n?-1:Z7(e).length;r=(""+r).toLowerCase(),a=!0}}Nr.byteLength=yre;function PEe(e,r,t){let n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return YEe(this,r,t);case"utf8":case"utf-8":return xre(this,r,t);case"ascii":return HEe(this,r,t);case"latin1":case"binary":return VEe(this,r,t);case"base64":return UEe(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return WEe(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}Nr.prototype._isBuffer=!0;function q0(e,r,t){let n=e[r];e[r]=e[t],e[t]=n}Nr.prototype.swap16=function(){let r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<r;t+=2)q0(this,t,t+1);return this};Nr.prototype.swap32=function(){let r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<r;t+=4)q0(this,t,t+3),q0(this,t+1,t+2);return this};Nr.prototype.swap64=function(){let r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<r;t+=8)q0(this,t,t+7),q0(this,t+1,t+6),q0(this,t+2,t+5),q0(this,t+3,t+4);return this};Nr.prototype.toString=function(){let r=this.length;return r===0?"":arguments.length===0?xre(this,0,r):PEe.apply(this,arguments)};Nr.prototype.toLocaleString=Nr.prototype.toString;Nr.prototype.equals=function(r){if(!Nr.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:Nr.compare(this,r)===0};Nr.prototype.inspect=function(){let r="",t=_d.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"};cre&&(Nr.prototype[cre]=Nr.prototype.inspect);Nr.prototype.compare=function(r,t,n,a,o){if(Pl(r,Uint8Array)&&(r=Nr.from(r,r.offset,r.byteLength)),!Nr.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),n===void 0&&(n=r?r.length:0),a===void 0&&(a=0),o===void 0&&(o=this.length),t<0||n>r.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,o>>>=0,this===r)return 0;let i=o-a,s=n-t,f=Math.min(i,s),l=this.slice(a,o),u=r.slice(t,n);for(let c=0;c<f;++c)if(l[c]!==u[c]){i=l[c],s=u[c];break}return i<s?-1:s<i?1:0};function mre(e,r,t,n,a){if(e.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,K7(t)&&(t=a?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(a)return-1;t=e.length-1}else if(t<0)if(a)t=0;else return-1;if(typeof r=="string"&&(r=Nr.from(r,n)),Nr.isBuffer(r))return r.length===0?-1:hre(e,r,t,n,a);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):hre(e,[r],t,n,a);throw new TypeError("val must be string, number or Buffer")}function hre(e,r,t,n,a){let o=1,i=e.length,s=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||r.length<2)return-1;o=2,i/=2,s/=2,t/=2}function f(u,c){return o===1?u[c]:u.readUInt16BE(c*o)}let l;if(a){let u=-1;for(l=t;l<i;l++)if(f(e,l)===f(r,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===s)return u*o}else u!==-1&&(l-=l-u),u=-1}else for(t+s>i&&(t=i-s),l=t;l>=0;l--){let u=!0;for(let c=0;c<s;c++)if(f(e,l+c)!==f(r,c)){u=!1;break}if(u)return l}return-1}Nr.prototype.includes=function(r,t,n){return this.indexOf(r,t,n)!==-1};Nr.prototype.indexOf=function(r,t,n){return mre(this,r,t,n,!0)};Nr.prototype.lastIndexOf=function(r,t,n){return mre(this,r,t,n,!1)};function OEe(e,r,t,n){t=Number(t)||0;let a=e.length-t;n?(n=Number(n),n>a&&(n=a)):n=a;let o=r.length;n>o/2&&(n=o/2);let i;for(i=0;i<n;++i){let s=parseInt(r.substr(i*2,2),16);if(K7(s))return i;e[t+i]=s}return i}function NEe(e,r,t,n){return q5(Z7(r,e.length-t),e,t,n)}function BEe(e,r,t,n){return q5(JEe(r),e,t,n)}function qEe(e,r,t,n){return q5(Ere(r),e,t,n)}function zEe(e,r,t,n){return q5($Ee(r,e.length-t),e,t,n)}Nr.prototype.write=function(r,t,n,a){if(t===void 0)a="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")a=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,a===void 0&&(a="utf8")):(a=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((n===void 0||n>o)&&(n=o),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let i=!1;for(;;)switch(a){case"hex":return OEe(this,r,t,n);case"utf8":case"utf-8":return NEe(this,r,t,n);case"ascii":case"latin1":case"binary":return BEe(this,r,t,n);case"base64":return qEe(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zEe(this,r,t,n);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}};Nr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function UEe(e,r,t){return r===0&&t===e.length?Y7.fromByteArray(e):Y7.fromByteArray(e.slice(r,t))}function xre(e,r,t){t=Math.min(e.length,t);let n=[],a=r;for(;a<t;){let o=e[a],i=null,s=o>239?4:o>223?3:o>191?2:1;if(a+s<=t){let f,l,u,c;switch(s){case 1:o<128&&(i=o);break;case 2:f=e[a+1],(f&192)===128&&(c=(o&31)<<6|f&63,c>127&&(i=c));break;case 3:f=e[a+1],l=e[a+2],(f&192)===128&&(l&192)===128&&(c=(o&15)<<12|(f&63)<<6|l&63,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:f=e[a+1],l=e[a+2],u=e[a+3],(f&192)===128&&(l&192)===128&&(u&192)===128&&(c=(o&15)<<18|(f&63)<<12|(l&63)<<6|u&63,c>65535&&c<1114112&&(i=c))}}i===null?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),a+=s}return GEe(n)}var vre=4096;function GEe(e){let r=e.length;if(r<=vre)return String.fromCharCode.apply(String,e);let t="",n=0;for(;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=vre));return t}function HEe(e,r,t){let n="";t=Math.min(e.length,t);for(let a=r;a<t;++a)n+=String.fromCharCode(e[a]&127);return n}function VEe(e,r,t){let n="";t=Math.min(e.length,t);for(let a=r;a<t;++a)n+=String.fromCharCode(e[a]);return n}function YEe(e,r,t){let n=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>n)&&(t=n);let a="";for(let o=r;o<t;++o)a+=KEe[e[o]];return a}function WEe(e,r,t){let n=e.slice(r,t),a="";for(let o=0;o<n.length-1;o+=2)a+=String.fromCharCode(n[o]+n[o+1]*256);return a}Nr.prototype.slice=function(r,t){let n=this.length;r=~~r,t=t===void 0?n:~~t,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<r&&(t=r);let a=this.subarray(r,t);return Object.setPrototypeOf(a,Nr.prototype),a};function wi(e,r,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}Nr.prototype.readUintLE=Nr.prototype.readUIntLE=function(r,t,n){r=r>>>0,t=t>>>0,n||wi(r,t,this.length);let a=this[r],o=1,i=0;for(;++i<t&&(o*=256);)a+=this[r+i]*o;return a};Nr.prototype.readUintBE=Nr.prototype.readUIntBE=function(r,t,n){r=r>>>0,t=t>>>0,n||wi(r,t,this.length);let a=this[r+--t],o=1;for(;t>0&&(o*=256);)a+=this[r+--t]*o;return a};Nr.prototype.readUint8=Nr.prototype.readUInt8=function(r,t){return r=r>>>0,t||wi(r,1,this.length),this[r]};Nr.prototype.readUint16LE=Nr.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||wi(r,2,this.length),this[r]|this[r+1]<<8};Nr.prototype.readUint16BE=Nr.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||wi(r,2,this.length),this[r]<<8|this[r+1]};Nr.prototype.readUint32LE=Nr.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||wi(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};Nr.prototype.readUint32BE=Nr.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||wi(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};Nr.prototype.readBigUInt64LE=Ku(function(r){r=r>>>0,bd(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&ny(r,this.length-8);let a=t+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,o=this[++r]+this[++r]*2**8+this[++r]*2**16+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))});Nr.prototype.readBigUInt64BE=Ku(function(r){r=r>>>0,bd(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&ny(r,this.length-8);let a=t*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],o=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+n;return(BigInt(a)<<BigInt(32))+BigInt(o)});Nr.prototype.readIntLE=function(r,t,n){r=r>>>0,t=t>>>0,n||wi(r,t,this.length);let a=this[r],o=1,i=0;for(;++i<t&&(o*=256);)a+=this[r+i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a};Nr.prototype.readIntBE=function(r,t,n){r=r>>>0,t=t>>>0,n||wi(r,t,this.length);let a=t,o=1,i=this[r+--a];for(;a>0&&(o*=256);)i+=this[r+--a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};Nr.prototype.readInt8=function(r,t){return r=r>>>0,t||wi(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};Nr.prototype.readInt16LE=function(r,t){r=r>>>0,t||wi(r,2,this.length);let n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n};Nr.prototype.readInt16BE=function(r,t){r=r>>>0,t||wi(r,2,this.length);let n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n};Nr.prototype.readInt32LE=function(r,t){return r=r>>>0,t||wi(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};Nr.prototype.readInt32BE=function(r,t){return r=r>>>0,t||wi(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};Nr.prototype.readBigInt64LE=Ku(function(r){r=r>>>0,bd(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&ny(r,this.length-8);let a=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)});Nr.prototype.readBigInt64BE=Ku(function(r){r=r>>>0,bd(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&ny(r,this.length-8);let a=(t<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(a)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+n)});Nr.prototype.readFloatLE=function(r,t){return r=r>>>0,t||wi(r,4,this.length),xd.read(this,r,!0,23,4)};Nr.prototype.readFloatBE=function(r,t){return r=r>>>0,t||wi(r,4,this.length),xd.read(this,r,!1,23,4)};Nr.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||wi(r,8,this.length),xd.read(this,r,!0,52,8)};Nr.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||wi(r,8,this.length),xd.read(this,r,!1,52,8)};function Ro(e,r,t,n,a,o){if(!Nr.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<o)throw new RangeError('"value" argument is out of bounds');if(t+n>e.length)throw new RangeError("Index out of range")}Nr.prototype.writeUintLE=Nr.prototype.writeUIntLE=function(r,t,n,a){if(r=+r,t=t>>>0,n=n>>>0,!a){let s=Math.pow(2,8*n)-1;Ro(this,r,t,n,s,0)}let o=1,i=0;for(this[t]=r&255;++i<n&&(o*=256);)this[t+i]=r/o&255;return t+n};Nr.prototype.writeUintBE=Nr.prototype.writeUIntBE=function(r,t,n,a){if(r=+r,t=t>>>0,n=n>>>0,!a){let s=Math.pow(2,8*n)-1;Ro(this,r,t,n,s,0)}let o=n-1,i=1;for(this[t+o]=r&255;--o>=0&&(i*=256);)this[t+o]=r/i&255;return t+n};Nr.prototype.writeUint8=Nr.prototype.writeUInt8=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,1,255,0),this[t]=r&255,t+1};Nr.prototype.writeUint16LE=Nr.prototype.writeUInt16LE=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2};Nr.prototype.writeUint16BE=Nr.prototype.writeUInt16BE=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2};Nr.prototype.writeUint32LE=Nr.prototype.writeUInt32LE=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4};Nr.prototype.writeUint32BE=Nr.prototype.writeUInt32BE=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function bre(e,r,t,n,a){Mre(r,n,a,e,t,7);let o=Number(r&BigInt(4294967295));e[t++]=o,o=o>>8,e[t++]=o,o=o>>8,e[t++]=o,o=o>>8,e[t++]=o;let i=Number(r>>BigInt(32)&BigInt(4294967295));return e[t++]=i,i=i>>8,e[t++]=i,i=i>>8,e[t++]=i,i=i>>8,e[t++]=i,t}function _re(e,r,t,n,a){Mre(r,n,a,e,t,7);let o=Number(r&BigInt(4294967295));e[t+7]=o,o=o>>8,e[t+6]=o,o=o>>8,e[t+5]=o,o=o>>8,e[t+4]=o;let i=Number(r>>BigInt(32)&BigInt(4294967295));return e[t+3]=i,i=i>>8,e[t+2]=i,i=i>>8,e[t+1]=i,i=i>>8,e[t]=i,t+8}Nr.prototype.writeBigUInt64LE=Ku(function(r,t=0){return bre(this,r,t,BigInt(0),BigInt("0xffffffffffffffff"))});Nr.prototype.writeBigUInt64BE=Ku(function(r,t=0){return _re(this,r,t,BigInt(0),BigInt("0xffffffffffffffff"))});Nr.prototype.writeIntLE=function(r,t,n,a){if(r=+r,t=t>>>0,!a){let f=Math.pow(2,8*n-1);Ro(this,r,t,n,f-1,-f)}let o=0,i=1,s=0;for(this[t]=r&255;++o<n&&(i*=256);)r<0&&s===0&&this[t+o-1]!==0&&(s=1),this[t+o]=(r/i>>0)-s&255;return t+n};Nr.prototype.writeIntBE=function(r,t,n,a){if(r=+r,t=t>>>0,!a){let f=Math.pow(2,8*n-1);Ro(this,r,t,n,f-1,-f)}let o=n-1,i=1,s=0;for(this[t+o]=r&255;--o>=0&&(i*=256);)r<0&&s===0&&this[t+o+1]!==0&&(s=1),this[t+o]=(r/i>>0)-s&255;return t+n};Nr.prototype.writeInt8=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1};Nr.prototype.writeInt16LE=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2};Nr.prototype.writeInt16BE=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2};Nr.prototype.writeInt32LE=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4};Nr.prototype.writeInt32BE=function(r,t,n){return r=+r,t=t>>>0,n||Ro(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};Nr.prototype.writeBigInt64LE=Ku(function(r,t=0){return bre(this,r,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Nr.prototype.writeBigInt64BE=Ku(function(r,t=0){return _re(this,r,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function wre(e,r,t,n,a,o){if(t+n>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Are(e,r,t,n,a){return r=+r,t=t>>>0,a||wre(e,r,t,4,34028234663852886e22,-34028234663852886e22),xd.write(e,r,t,n,23,4),t+4}Nr.prototype.writeFloatLE=function(r,t,n){return Are(this,r,t,!0,n)};Nr.prototype.writeFloatBE=function(r,t,n){return Are(this,r,t,!1,n)};function Tre(e,r,t,n,a){return r=+r,t=t>>>0,a||wre(e,r,t,8,17976931348623157e292,-17976931348623157e292),xd.write(e,r,t,n,52,8),t+8}Nr.prototype.writeDoubleLE=function(r,t,n){return Tre(this,r,t,!0,n)};Nr.prototype.writeDoubleBE=function(r,t,n){return Tre(this,r,t,!1,n)};Nr.prototype.copy=function(r,t,n,a){if(!Nr.isBuffer(r))throw new TypeError("argument should be a Buffer");if(n||(n=0),!a&&a!==0&&(a=this.length),t>=r.length&&(t=r.length),t||(t=0),a>0&&a<n&&(a=n),a===n||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),r.length-t<a-n&&(a=r.length-t+n);let o=a-n;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(r,this.subarray(n,a),t),o};Nr.prototype.fill=function(r,t,n,a){if(typeof r=="string"){if(typeof t=="string"?(a=t,t=0,n=this.length):typeof n=="string"&&(a=n,n=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!Nr.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(r.length===1){let i=r.charCodeAt(0);(a==="utf8"&&i<128||a==="latin1")&&(r=i)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);let o;if(typeof r=="number")for(o=t;o<n;++o)this[o]=r;else{let i=Nr.isBuffer(r)?r:Nr.from(r,a),s=i.length;if(s===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};var md={};function $7(e,r,t){md[e]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}$7("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);$7("ERR_INVALID_ARG_TYPE",function(e,r){return`The "${e}" argument must be of type number. Received type ${typeof r}`},TypeError);$7("ERR_OUT_OF_RANGE",function(e,r,t){let n=`The value of "${e}" is out of range.`,a=t;return Number.isInteger(t)&&Math.abs(t)>2**32?a=dre(String(t)):typeof t=="bigint"&&(a=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(a=dre(a)),a+="n"),n+=` It must be ${r}. Received ${a}`,n},RangeError);function dre(e){let r="",t=e.length,n=e[0]==="-"?1:0;for(;t>=n+4;t-=3)r=`_${e.slice(t-3,t)}${r}`;return`${e.slice(0,t)}${r}`}function XEe(e,r,t){bd(r,"offset"),(e[r]===void 0||e[r+t]===void 0)&&ny(r,e.length-(t+1))}function Mre(e,r,t,n,a,o){if(e>t||e<r){let i=typeof r=="bigint"?"n":"",s;throw o>3?r===0||r===BigInt(0)?s=`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:s=`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:s=`>= ${r}${i} and <= ${t}${i}`,new md.ERR_OUT_OF_RANGE("value",s,e)}XEe(n,a,o)}function bd(e,r){if(typeof e!="number")throw new md.ERR_INVALID_ARG_TYPE(r,"number",e)}function ny(e,r,t){throw Math.floor(e)!==e?(bd(e,t),new md.ERR_OUT_OF_RANGE(t||"offset","an integer",e)):r<0?new md.ERR_BUFFER_OUT_OF_BOUNDS:new md.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${r}`,e)}var ZEe=/[^+/0-9A-Za-z-_]/g;function jEe(e){if(e=e.split("=")[0],e=e.trim().replace(ZEe,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Z7(e,r){r=r||1/0;let t,n=e.length,a=null,o=[];for(let i=0;i<n;++i){if(t=e.charCodeAt(i),t>55295&&t<57344){if(!a){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}else if(i+1===n){(r-=3)>-1&&o.push(239,191,189);continue}a=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),a=t;continue}t=(a-55296<<10|t-56320)+65536}else a&&(r-=3)>-1&&o.push(239,191,189);if(a=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function JEe(e){let r=[];for(let t=0;t<e.length;++t)r.push(e.charCodeAt(t)&255);return r}function $Ee(e,r){let t,n,a,o=[];for(let i=0;i<e.length&&!((r-=2)<0);++i)t=e.charCodeAt(i),n=t>>8,a=t%256,o.push(a),o.push(n);return o}function Ere(e){return Y7.toByteArray(jEe(e))}function q5(e,r,t,n){let a;for(a=0;a<n&&!(a+t>=r.length||a>=e.length);++a)r[a+t]=e[a];return a}function Pl(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function K7(e){return e!==e}var KEe=function(){let e="0123456789abcdef",r=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let a=0;a<16;++a)r[n+a]=e[t]+e[a]}return r}();function Ku(e){return typeof BigInt=="undefined"?QEe:e}function QEe(){throw new Error("BigInt not supported")}});var Gre=ie(Nn=>{"use strict";var Qu=G7(),Ri=ore(),Cre=Sre().Buffer;window.__TYPEDARRAY_POOL||(window.__TYPEDARRAY_POOL={UINT8:Ri([32,0]),UINT16:Ri([32,0]),UINT32:Ri([32,0]),BIGUINT64:Ri([32,0]),INT8:Ri([32,0]),INT16:Ri([32,0]),INT32:Ri([32,0]),BIGINT64:Ri([32,0]),FLOAT:Ri([32,0]),DOUBLE:Ri([32,0]),DATA:Ri([32,0]),UINT8C:Ri([32,0]),BUFFER:Ri([32,0])});var eSe=typeof Uint8ClampedArray!="undefined",rSe=typeof BigUint64Array!="undefined",tSe=typeof BigInt64Array!="undefined",$a=window.__TYPEDARRAY_POOL;$a.UINT8C||($a.UINT8C=Ri([32,0]));$a.BIGUINT64||($a.BIGUINT64=Ri([32,0]));$a.BIGINT64||($a.BIGINT64=Ri([32,0]));$a.BUFFER||($a.BUFFER=Ri([32,0]));var z5=$a.DATA,U5=$a.BUFFER;Nn.free=function(r){if(Cre.isBuffer(r))U5[Qu.log2(r.length)].push(r);else{if(Object.prototype.toString.call(r)!=="[object ArrayBuffer]"&&(r=r.buffer),!r)return;var t=r.length||r.byteLength,n=Qu.log2(t)|0;z5[n].push(r)}};function kre(e){if(e){var r=e.length||e.byteLength,t=Qu.log2(r);z5[t].push(e)}}function nSe(e){kre(e.buffer)}Nn.freeUint8=Nn.freeUint16=Nn.freeUint32=Nn.freeBigUint64=Nn.freeInt8=Nn.freeInt16=Nn.freeInt32=Nn.freeBigInt64=Nn.freeFloat32=Nn.freeFloat=Nn.freeFloat64=Nn.freeDouble=Nn.freeUint8Clamped=Nn.freeDataView=nSe;Nn.freeArrayBuffer=kre;Nn.freeBuffer=function(r){U5[Qu.log2(r.length)].push(r)};Nn.malloc=function(r,t){if(t===void 0||t==="arraybuffer")return Do(r);switch(t){case"uint8":return Q7(r);case"uint16":return Lre(r);case"uint32":return Rre(r);case"int8":return Dre(r);case"int16":return Fre(r);case"int32":return Ire(r);case"float":case"float32":return Pre(r);case"double":case"float64":return Ore(r);case"uint8_clamped":return Nre(r);case"bigint64":return qre(r);case"biguint64":return Bre(r);case"buffer":return Ure(r);case"data":case"dataview":return zre(r);default:return null}return null};function Do(r){var r=Qu.nextPow2(r),t=Qu.log2(r),n=z5[t];return n.length>0?n.pop():new ArrayBuffer(r)}Nn.mallocArrayBuffer=Do;function Q7(e){return new Uint8Array(Do(e),0,e)}Nn.mallocUint8=Q7;function Lre(e){return new Uint16Array(Do(2*e),0,e)}Nn.mallocUint16=Lre;function Rre(e){return new Uint32Array(Do(4*e),0,e)}Nn.mallocUint32=Rre;function Dre(e){return new Int8Array(Do(e),0,e)}Nn.mallocInt8=Dre;function Fre(e){return new Int16Array(Do(2*e),0,e)}Nn.mallocInt16=Fre;function Ire(e){return new Int32Array(Do(4*e),0,e)}Nn.mallocInt32=Ire;function Pre(e){return new Float32Array(Do(4*e),0,e)}Nn.mallocFloat32=Nn.mallocFloat=Pre;function Ore(e){return new Float64Array(Do(8*e),0,e)}Nn.mallocFloat64=Nn.mallocDouble=Ore;function Nre(e){return eSe?new Uint8ClampedArray(Do(e),0,e):Q7(e)}Nn.mallocUint8Clamped=Nre;function Bre(e){return rSe?new BigUint64Array(Do(8*e),0,e):null}Nn.mallocBigUint64=Bre;function qre(e){return tSe?new BigInt64Array(Do(8*e),0,e):null}Nn.mallocBigInt64=qre;function zre(e){return new DataView(Do(e),0,e)}Nn.mallocDataView=zre;function Ure(e){e=Qu.nextPow2(e);var r=Qu.log2(e),t=U5[r];return t.length>0?t.pop():new Cre(e)}Nn.mallocBuffer=Ure;Nn.clearCache=function(){for(var r=0;r<32;++r)$a.UINT8[r].length=0,$a.UINT16[r].length=0,$a.UINT32[r].length=0,$a.INT8[r].length=0,$a.INT16[r].length=0,$a.INT32[r].length=0,$a.FLOAT[r].length=0,$a.DOUBLE[r].length=0,$a.BIGUINT64[r].length=0,$a.BIGINT64[r].length=0,$a.UINT8C[r].length=0,z5[r].length=0,U5[r].length=0}});var Vre=ie((kUe,Hre)=>{"use strict";var aSe=Object.prototype.toString;Hre.exports=function(e){var r;return aSe.call(e)==="[object Object]"&&(r=Object.getPrototypeOf(e),r===null||r===Object.getPrototypeOf({}))}});var eE=ie((LUe,Yre)=>{Yre.exports=function(r,t){t||(t=[0,""]),r=String(r);var n=parseFloat(r,10);return t[0]=n,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}});var tE=ie((RUe,Xre)=>{"use strict";var iSe=eE();Xre.exports=Wre;var ay=96;function rE(e,r){var t=iSe(getComputedStyle(e).getPropertyValue(r));return t[0]*Wre(t[1],e)}function oSe(e,r){var t=document.createElement("div");t.style["font-size"]="128"+e,r.appendChild(t);var n=rE(t,"font-size")/128;return r.removeChild(t),n}function Wre(e,r){switch(r=r||document.body,e=(e||"px").trim().toLowerCase(),(r===window||r===document)&&(r=document.body),e){case"%":return r.clientHeight/100;case"ch":case"ex":return oSe(e,r);case"em":return rE(r,"font-size");case"rem":return rE(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return ay;case"cm":return ay/2.54;case"mm":return ay/25.4;case"pt":return ay/72;case"pc":return ay/6}return 1}});var Jre=ie((DUe,jre)=>{"use strict";jre.exports=V5;var sSe=V5.canvas=document.createElement("canvas"),G5=sSe.getContext("2d"),Zre=H5([32,126]);V5.createPairs=H5;V5.ascii=Zre;function V5(e,r){Array.isArray(e)&&(e=e.join(", "));var t={},n,a=16,o=.05;r&&(r.length===2&&typeof r[0]=="number"?n=H5(r):Array.isArray(r)?n=r:(r.o?n=H5(r.o):r.pairs&&(n=r.pairs),r.fontSize&&(a=r.fontSize),r.threshold!=null&&(o=r.threshold))),n||(n=Zre),G5.font=a+"px "+e;for(var i=0;i<n.length;i++){var s=n[i],f=G5.measureText(s[0]).width+G5.measureText(s[1]).width,l=G5.measureText(s).width;if(Math.abs(f-l)>a*o){var u=(l-f)/a;t[s]=u*1e3}}return t}function H5(e){for(var r=[],t=e[0];t<=e[1];t++)for(var n=String.fromCharCode(t),a=e[0];a<e[1];a++){var o=String.fromCharCode(a),i=n+o;r.push(i)}return r}});var ete=ie((FUe,Qre)=>{"use strict";Qre.exports=ec;ec.canvas=document.createElement("canvas");ec.cache={};function ec(i,r){r||(r={}),(typeof i=="string"||Array.isArray(i))&&(r.family=i);var t=Array.isArray(r.family)?r.family.join(", "):r.family;if(!t)throw Error("`family` must be defined");var n=r.size||r.fontSize||r.em||48,a=r.weight||r.fontWeight||"",o=r.style||r.fontStyle||"",i=[o,a,n].join(" ")+"px "+t,s=r.origin||"top";if(ec.cache[t]&&n<=ec.cache[t].em)return $re(ec.cache[t],s);var f=r.canvas||ec.canvas,l=f.getContext("2d"),u={upper:r.upper!==void 0?r.upper:"H",lower:r.lower!==void 0?r.lower:"x",descent:r.descent!==void 0?r.descent:"p",ascent:r.ascent!==void 0?r.ascent:"h",tittle:r.tittle!==void 0?r.tittle:"i",overshoot:r.overshoot!==void 0?r.overshoot:"O"},c=Math.ceil(n*1.5);f.height=c,f.width=c*.5,l.font=i;var v="H",m={top:0};l.clearRect(0,0,c,c),l.textBaseline="top",l.fillStyle="black",l.fillText(v,0,0);var x=Ol(l.getImageData(0,0,c,c));l.clearRect(0,0,c,c),l.textBaseline="bottom",l.fillText(v,0,c);var A=Ol(l.getImageData(0,0,c,c));m.lineHeight=m.bottom=c-A+x,l.clearRect(0,0,c,c),l.textBaseline="alphabetic",l.fillText(v,0,c);var w=Ol(l.getImageData(0,0,c,c)),y=c-w-1+x;m.baseline=m.alphabetic=y,l.clearRect(0,0,c,c),l.textBaseline="middle",l.fillText(v,0,c*.5);var _=Ol(l.getImageData(0,0,c,c));m.median=m.middle=c-_-1+x-c*.5,l.clearRect(0,0,c,c),l.textBaseline="hanging",l.fillText(v,0,c*.5);var M=Ol(l.getImageData(0,0,c,c));m.hanging=c-M-1+x-c*.5,l.clearRect(0,0,c,c),l.textBaseline="ideographic",l.fillText(v,0,c);var b=Ol(l.getImageData(0,0,c,c));if(m.ideographic=c-b-1+x,u.upper&&(l.clearRect(0,0,c,c),l.textBaseline="top",l.fillText(u.upper,0,0),m.upper=Ol(l.getImageData(0,0,c,c)),m.capHeight=m.baseline-m.upper),u.lower&&(l.clearRect(0,0,c,c),l.textBaseline="top",l.fillText(u.lower,0,0),m.lower=Ol(l.getImageData(0,0,c,c)),m.xHeight=m.baseline-m.lower),u.tittle&&(l.clearRect(0,0,c,c),l.textBaseline="top",l.fillText(u.tittle,0,0),m.tittle=Ol(l.getImageData(0,0,c,c))),u.ascent&&(l.clearRect(0,0,c,c),l.textBaseline="top",l.fillText(u.ascent,0,0),m.ascent=Ol(l.getImageData(0,0,c,c))),u.descent&&(l.clearRect(0,0,c,c),l.textBaseline="top",l.fillText(u.descent,0,0),m.descent=Kre(l.getImageData(0,0,c,c))),u.overshoot){l.clearRect(0,0,c,c),l.textBaseline="top",l.fillText(u.overshoot,0,0);var E=Kre(l.getImageData(0,0,c,c));m.overshoot=E-y}for(var d in m)m[d]/=n;return m.em=n,ec.cache[t]=m,$re(m,s)}function $re(e,r){var t={};typeof r=="string"&&(r=e[r]);for(var n in e)n!=="em"&&(t[n]=e[n]-r);return t}function Ol(e){for(var r=e.height,t=e.data,n=3;n<t.length;n+=4)if(t[n]!==0)return Math.floor((n-3)*.25/r)}function Kre(e){for(var r=e.height,t=e.data,n=t.length-1;n>0;n-=4)if(t[n]!==0)return Math.floor((n-3)*.25/r)}});var ate=ie((IUe,nte)=>{"use strict";var wd=jee(),lSe=Dl(),fSe=z7(),uSe=ere(),cSe=A7(),nE=Zu(),hSe=tre(),rc=Gre(),vSe=Xv(),dSe=Vre(),pSe=eE(),gSe=tE(),ySe=Jre(),mSe=Ua(),xSe=ete(),bSe=E0(),_Se=G7(),rte=_Se.nextPow2,tte=new cSe,W5=!1;document.body&&(Y5=document.body.appendChild(document.createElement("div")),Y5.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(Y5).fontStretch&&(W5=!0),document.body.removeChild(Y5));var Y5,Zn=function(r){wSe(r)?(r={regl:r},this.gl=r.regl._gl):this.gl=uSe(r),this.shader=tte.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=r.regl||fSe({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),tte.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(dSe(r)?r:{})};Zn.prototype.createShader=function(){var r=this.regl,t=r({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:r.prop("count"),offset:r.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:r.this("sizeBuffer")},width:{offset:0,stride:8,buffer:r.this("sizeBuffer")},char:r.this("charBuffer"),position:r.this("position")},uniforms:{atlasSize:function(a,o){return[o.atlas.width,o.atlas.height]},atlasDim:function(a,o){return[o.atlas.cols,o.atlas.rows]},atlas:function(a,o){return o.atlas.texture},charStep:function(a,o){return o.atlas.step},em:function(a,o){return o.atlas.em},color:r.prop("color"),opacity:r.prop("opacity"),viewport:r.this("viewportArray"),scale:r.this("scale"),align:r.prop("align"),baseline:r.prop("baseline"),translate:r.this("translate"),positionOffset:r.prop("positionOffset")},primitive:"points",viewport:r.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),n={};return{regl:r,draw:t,atlas:n}};Zn.prototype.update=function(r){var t=this;if(typeof r=="string")r={text:r};else if(!r)return;r=lSe(r,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),r.opacity!=null&&(Array.isArray(r.opacity)?this.opacity=r.opacity.map(function(j){return parseFloat(j)}):this.opacity=parseFloat(r.opacity)),r.viewport!=null&&(this.viewport=vSe(r.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),r.kerning!=null&&(this.kerning=r.kerning),r.offset!=null&&(typeof r.offset=="number"&&(r.offset=[r.offset,0]),this.positionOffset=bSe(r.offset)),r.direction&&(this.direction=r.direction),r.range&&(this.range=r.range,this.scale=[1/(r.range[2]-r.range[0]),1/(r.range[3]-r.range[1])],this.translate=[-r.range[0],-r.range[1]]),r.scale&&(this.scale=r.scale),r.translate&&(this.translate=r.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!r.font&&(r.font=Zn.baseFontSize+"px sans-serif");var n=!1,a=!1;if(r.font&&(Array.isArray(r.font)?r.font:[r.font]).forEach(function(j,G){if(typeof j=="string")try{j=wd.parse(j)}catch(ne){j=wd.parse(Zn.baseFontSize+"px "+j)}else{var B=j.style,X=j.weight,te=j.stretch,J=j.variant;j=wd.parse(wd.stringify(j)),B&&(j.style=B),X&&(j.weight=X),te&&(j.stretch=te),J&&(j.variant=J)}var ae=wd.stringify({size:Zn.baseFontSize,family:j.family,stretch:W5?j.stretch:void 0,variant:j.variant,weight:j.weight,style:j.style}),ee=pSe(j.size),H=Math.round(ee[0]*gSe(ee[1]));if(H!==t.fontSize[G]&&(a=!0,t.fontSize[G]=H),(!t.font[G]||ae!=t.font[G].baseString)&&(n=!0,t.font[G]=Zn.fonts[ae],!t.font[G])){var re=j.family.join(", "),V=[j.style];j.style!=j.variant&&V.push(j.variant),j.variant!=j.weight&&V.push(j.weight),W5&&j.weight!=j.stretch&&V.push(j.stretch),t.font[G]={baseString:ae,family:re,weight:j.weight,stretch:j.stretch,style:j.style,variant:j.variant,width:{},kerning:{},metrics:xSe(re,{origin:"top",fontSize:Zn.baseFontSize,fontStyle:V.join(" ")})},Zn.fonts[ae]=t.font[G]}}),(n||a)&&this.font.forEach(function(j,G){var B=wd.stringify({size:t.fontSize[G],family:j.family,stretch:W5?j.stretch:void 0,variant:j.variant,weight:j.weight,style:j.style});if(t.fontAtlas[G]=t.shader.atlas[B],!t.fontAtlas[G]){var X=j.metrics;t.shader.atlas[B]=t.fontAtlas[G]={fontString:B,step:Math.ceil(t.fontSize[G]*X.bottom*.5)*2,em:t.fontSize[G],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:t.regl.texture()}}r.text==null&&(r.text=t.text)}),typeof r.text=="string"&&r.position&&r.position.length>2){for(var o=Array(r.position.length*.5),i=0;i<o.length;i++)o[i]=r.text;r.text=o}var s;if(r.text!=null||n){if(this.textOffsets=[0],Array.isArray(r.text)){this.count=r.text[0].length,this.counts=[this.count];for(var f=1;f<r.text.length;f++)this.textOffsets[f]=this.textOffsets[f-1]+r.text[f-1].length,this.count+=r.text[f].length,this.counts.push(r.text[f].length);this.text=r.text.join("")}else this.text=r.text,this.count=this.text.length,this.counts=[this.count];s=[],this.font.forEach(function(j,G){Zn.atlasContext.font=j.baseString;for(var B=t.fontAtlas[G],X=0;X<t.text.length;X++){var te=t.text.charAt(X);if(B.ids[te]==null&&(B.ids[te]=B.chars.length,B.chars.push(te),s.push(te)),j.width[te]==null&&(j.width[te]=Zn.atlasContext.measureText(te).width/Zn.baseFontSize,t.kerning)){var J=[];for(var ae in j.width)J.push(ae+te,te+ae);mSe(j.kerning,ySe(j.family,{pairs:J}))}}})}if(r.position)if(r.position.length>2){for(var l=!r.position[0].length,u=rc.mallocFloat(this.count*2),c=0,v=0;c<this.counts.length;c++){var m=this.counts[c];if(l)for(var x=0;x<m;x++)u[v++]=r.position[c*2],u[v++]=r.position[c*2+1];else for(var A=0;A<m;A++)u[v++]=r.position[c][0],u[v++]=r.position[c][1]}this.position.call?this.position({type:"float",data:u}):this.position=this.regl.buffer({type:"float",data:u}),rc.freeFloat(u)}else this.position.destroy&&this.position.destroy(),this.position={constant:r.position};if(r.text||n){var w=rc.mallocUint8(this.count),y=rc.mallocFloat(this.count*2);this.textWidth=[];for(var _=0,M=0;_<this.counts.length;_++){for(var b=this.counts[_],E=this.font[_]||this.font[0],d=this.fontAtlas[_]||this.fontAtlas[0],T=0;T<b;T++){var g=this.text.charAt(M),h=this.text.charAt(M-1);if(w[M]=d.ids[g],y[M*2]=E.width[g],T){var S=y[M*2-2],p=y[M*2],C=y[M*2-1],k=C+S*.5+p*.5;if(this.kerning){var D=E.kerning[h+g];D&&(k+=D*.001)}y[M*2+1]=k}else y[M*2+1]=y[M*2]*.5;M++}this.textWidth.push(y.length?y[M*2-2]*.5+y[M*2-1]:0)}r.align||(r.align=this.align),this.charBuffer({data:w,type:"uint8",usage:"stream"}),this.sizeBuffer({data:y,type:"float",usage:"stream"}),rc.freeUint8(w),rc.freeFloat(y),s.length&&this.font.forEach(function(j,G){var B=t.fontAtlas[G],X=B.step,te=Math.floor(Zn.maxAtlasSize/X),J=Math.min(te,B.chars.length),ae=Math.ceil(B.chars.length/J),ee=rte(J*X),H=rte(ae*X);B.width=ee,B.height=H,B.rows=ae,B.cols=J,B.em&&B.texture({data:hSe({canvas:Zn.atlasCanvas,font:B.fontString,chars:B.chars,shape:[ee,H],step:[X,X]})})})}if(r.align&&(this.align=r.align,this.alignOffset=this.textWidth.map(function(j,G){var B=Array.isArray(t.align)?t.align.length>1?t.align[G]:t.align[0]:t.align;if(typeof B=="number")return B;switch(B){case"right":case"end":return-j;case"center":case"centre":case"middle":return-j*.5}return 0})),this.baseline==null&&r.baseline==null&&(r.baseline=0),r.baseline!=null&&(this.baseline=r.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(j,G){var B=(t.font[G]||t.font[0]).metrics,X=0;return X+=B.bottom*.5,typeof j=="number"?X+=j-B.baseline:X+=-B[j],X*=-1,X})),r.color!=null)if(r.color||(r.color="transparent"),typeof r.color=="string"||!isNaN(r.color))this.color=nE(r.color,"uint8");else{var P;if(typeof r.color[0]=="number"&&r.color.length>this.counts.length){var O=r.color.length;P=rc.mallocUint8(O);for(var F=(r.color.subarray||r.color.slice).bind(r.color),L=0;L<O;L+=4)P.set(nE(F(L,L+4),"uint8"),L)}else{var I=r.color.length;P=rc.mallocUint8(I*4);for(var q=0;q<I;q++)P.set(nE(r.color[q]||0,"uint8"),q*4)}this.color=P}if(r.position||r.text||r.color||r.baseline||r.align||r.font||r.offset||r.opacity){var z=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(z){var W=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(W);for(var $=0;$<this.batch.length;$++)this.batch[$]={count:this.counts.length>1?this.counts[$]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[$]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray($*4,$*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[$]:this.opacity,baseline:this.baselineOffset[$]!=null?this.baselineOffset[$]:this.baselineOffset[0],align:this.align?this.alignOffset[$]!=null?this.alignOffset[$]:this.alignOffset[0]:0,atlas:this.fontAtlas[$]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray($*2,$*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}};Zn.prototype.destroy=function(){};Zn.prototype.kerning=!0;Zn.prototype.position={constant:new Float32Array(2)};Zn.prototype.translate=null;Zn.prototype.scale=null;Zn.prototype.font=null;Zn.prototype.text="";Zn.prototype.positionOffset=[0,0];Zn.prototype.opacity=1;Zn.prototype.color=new Uint8Array([0,0,0,255]);Zn.prototype.alignOffset=[0,0];Zn.maxAtlasSize=1024;Zn.atlasCanvas=document.createElement("canvas");Zn.atlasContext=Zn.atlasCanvas.getContext("2d",{alpha:!1});Zn.baseFontSize=64;Zn.fonts={};function wSe(e){return typeof e=="function"&&e._gl&&e.prop&&e.texture&&e.buffer}nte.exports=Zn});var aE=ie((PUe,ote)=>{"use strict";var ite=pn(),ASe=function(){};ote.exports=function(r){for(var t in r)typeof r[t]=="function"&&(r[t]=ASe);r.destroy=function(){r.container.parentNode.removeChild(r.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=ite.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=ite.lightLine,n.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",n.appendChild(a),r.container.appendChild(n),r.container.style.background="#FFFFFF",r.container.onclick=function(){window.open("https://get.webgl.org")},!1}});var X5=ie((OUe,ste)=>{"use strict";var TSe=aE(),MSe=z7();ste.exports=function(r,t,n){var a=r._fullLayout,o=!0;return a._glcanvas.each(function(i){if(i.regl){i.regl.preloadCachedCode(n);return}if(!(i.pick&&!a._has("parcoords"))){try{i.regl=MSe({canvas:this,attributes:{antialias:!i.pick,preserveDrawingBuffer:!0},pixelRatio:r._context.plotGlPixelRatio||window.devicePixelRatio,extensions:t||[],cachedCode:n||{}})}catch(s){o=!1}i.regl||(o=!1),o&&this.addEventListener("webglcontextlost",function(s){r&&r.emit&&r.emit("plotly_webglcontextlost",{event:s,layer:i.key})},!1)}}),o||TSe({container:a._glcontainer.node()}),o}});var vte=ie((oE,hte)=>{"use strict";var lte=jM(),fte=E7(),ESe=Lee(),ute=ate(),iE=wr(),SSe=yf().selectMode,CSe=X5(),kSe=hi(),LSe=MT(),RSe=WM().styleTextSelection,cte={};function DSe(e,r,t,n){var a=e._size,o=e.width*n,i=e.height*n,s=a.l*n,f=a.b*n,l=a.r*n,u=a.t*n,c=a.w*n,v=a.h*n;return[s+r.domain[0]*c,f+t.domain[0]*v,o-l-(1-r.domain[1])*c,i-u-(1-t.domain[1])*v]}var oE=hte.exports=function(r,t,n){if(n.length){var a=r._fullLayout,o=t._scene,i=t.xaxis,s=t.yaxis,f,l;if(o){var u=CSe(r,["ANGLE_instanced_arrays","OES_element_index_uint"],cte);if(!u){o.init();return}var c=o.count,v=a._glcanvas.data()[0].regl;if(LSe(r,t,n),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&v.clear({}),o.error2d===!0&&(o.error2d=ESe(v)),o.line2d===!0&&(o.line2d=fte(v)),o.scatter2d===!0&&(o.scatter2d=lte(v)),o.fill2d===!0&&(o.fill2d=fte(v)),o.glText===!0)for(o.glText=new Array(c),f=0;f<c;f++)o.glText[f]=new ute(v);if(o.glText){if(c>o.glText.length){var m=c-o.glText.length;for(f=0;f<m;f++)o.glText.push(new ute(v))}else if(c<o.glText.length){var x=o.glText.length-c,A=o.glText.splice(c,x);A.forEach(function(I){I.destroy()})}for(f=0;f<c;f++)o.glText[f].update(o.textOptions[f])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(I){if(I&&I.positions){for(var q=I.positions,z=0;z<q.length&&(isNaN(q[z])||isNaN(q[z+1]));)z+=2;for(var W=q.length-2;W>z&&(isNaN(q[W])||isNaN(q[W+1]));)W-=2;I.positions=q.slice(z,W+2)}return I}),o.line2d.update(o.lineOptions)),o.error2d){var w=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(w)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=iE.repeat(null,c),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(I,q){var z=n[q];if(!(!I||!z||!z[0]||!z[0].trace)){var W=z[0],$=W.trace,j=W.t,G=o.lineOptions[q],B,X,te=[];$._ownfill&&te.push(q),$._nexttrace&&te.push(q+1),te.length&&(o.fillOrder[q]=te);var J=[],ae=G&&G.positions||j.positions,ee,H;if($.fill==="tozeroy"){for(ee=0;ee<ae.length&&isNaN(ae[ee+1]);)ee+=2;for(H=ae.length-2;H>ee&&isNaN(ae[H+1]);)H-=2;ae[ee+1]!==0&&(J=[ae[ee],0]),J=J.concat(ae.slice(ee,H+2)),ae[H+1]!==0&&(J=J.concat([ae[H],0]))}else if($.fill==="tozerox"){for(ee=0;ee<ae.length&&isNaN(ae[ee]);)ee+=2;for(H=ae.length-2;H>ee&&isNaN(ae[H]);)H-=2;ae[ee]!==0&&(J=[0,ae[ee+1]]),J=J.concat(ae.slice(ee,H+2)),ae[H]!==0&&(J=J.concat([0,ae[H+1]]))}else if($.fill==="toself"||$.fill==="tonext"){for(J=[],B=0,I.splitNull=!0,X=0;X<ae.length;X+=2)(isNaN(ae[X])||isNaN(ae[X+1]))&&(J=J.concat(ae.slice(B,X)),J.push(ae[B],ae[B+1]),J.push(null,null),B=X+2);J=J.concat(ae.slice(B)),B&&J.push(ae[B],ae[B+1])}else{var re=$._nexttrace;if(re){var V=o.lineOptions[q+1];if(V){var ne=V.positions;if($.fill==="tonexty"){for(J=ae.slice(),q=Math.floor(ne.length/2);q--;){var le=ne[q*2],de=ne[q*2+1];isNaN(le)||isNaN(de)||J.push(le,de)}I.fill=re.fillcolor}}}}if($._prevtrace&&$._prevtrace.fill==="tonext"){var _e=o.lineOptions[q-1].positions,me=J.length/2;B=me;var ve=[B];for(X=0;X<_e.length;X+=2)(isNaN(_e[X])||isNaN(_e[X+1]))&&(ve.push(X/2+me+1),B=X+2);J=J.concat(_e),I.hole=ve}return I.fillmode=$.fill,I.opacity=$.opacity,I.positions=J,I}}),o.fill2d.update(o.fillOptions))}var y=a.dragmode,_=SSe(y),M=a.clickmode.indexOf("select")>-1;for(f=0;f<c;f++){var b=n[f][0],E=b.trace,d=b.t,T=d.index,g=E._length,h=d.x,S=d.y;if(E.selectedpoints||_||M){if(_||(_=!0),E.selectedpoints){var p=o.selectBatch[T]=iE.selIndices2selPoints(E),C={};for(l=0;l<p.length;l++)C[p[l]]=1;var k=[];for(l=0;l<g;l++)C[l]||k.push(l);o.unselectBatch[T]=k}var D=d.xpx=new Array(g),P=d.ypx=new Array(g);for(l=0;l<g;l++)D[l]=i.c2p(h[l]),P[l]=s.c2p(S[l])}else d.xpx=d.ypx=null}if(_){if(o.select2d||(o.select2d=lte(a._glcanvas.data()[1].regl)),o.scatter2d){var O=new Array(c);for(f=0;f<c;f++)O[f]=o.selectBatch[f].length||o.unselectBatch[f].length?o.markerUnselectedOptions[f]:{};o.scatter2d.update(O)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&n.forEach(function(I){var q=((I||[])[0]||{}).trace||{};kSe.hasText(q)&&RSe(I)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var F={viewport:DSe(a,i,s,r._context.plotGlPixelRatio),range:[(i._rl||i.range)[0],(s._rl||s.range)[0],(i._rl||i.range)[1],(s._rl||s.range)[1]]},L=iE.repeat(F,o.count);o.fill2d&&o.fill2d.update(L),o.line2d&&o.line2d.update(L),o.error2d&&o.error2d.update(L.concat(L)),o.scatter2d&&o.scatter2d.update(L),o.select2d&&o.select2d.update(L),o.glText&&o.glText.forEach(function(I){I.update(F)})}}};oE.reglPrecompiled=cte});var gte=ie((NUe,pte)=>{"use strict";var dte=c$();dte.plot=vte();pte.exports=dte});var mte=ie((BUe,yte)=>{"use strict";yte.exports=gte()});var sE=ie((qUe,wte)=>{"use strict";var FSe=kl(),_te=cf(),xte=Zh().axisHoverFormat,ISe=su().hovertemplateAttrs,iy=fb(),PSe=Pa().idRegex,OSe=Yn().templatedArray,Ad=ga().extendFlat,Rf=FSe.marker,NSe=Rf.line,BSe=Ad(_te("marker.line",{editTypeOverride:"calc"}),{width:Ad({},NSe.width,{editType:"calc"}),editType:"calc"}),Z5=Ad(_te("marker"),{symbol:Rf.symbol,angle:Rf.angle,size:Ad({},Rf.size,{editType:"markerSize"}),sizeref:Rf.sizeref,sizemin:Rf.sizemin,sizemode:Rf.sizemode,opacity:Rf.opacity,colorbar:Rf.colorbar,line:BSe,editType:"calc"});Z5.color.editType=Z5.cmin.editType=Z5.cmax.editType="style";function bte(e){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:PSe[e],editType:"plot"}}}wte.exports={dimensions:OSe("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:Ad({},iy.text,{}),hovertext:Ad({},iy.hovertext,{}),hovertemplate:ISe(),xhoverformat:xte("x"),yhoverformat:xte("y"),marker:Z5,xaxes:bte("x"),yaxes:bte("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:iy.selected.marker,editType:"calc"},unselected:{marker:iy.unselected.marker,editType:"calc"},opacity:iy.opacity}});var lE=ie((zUe,Ate)=>{"use strict";Ate.exports=function(e,r,t,n){n||(n=1/0);var a,o;for(a=0;a<r.length;a++)o=r[a],o.visible&&(n=Math.min(n,o[t].length));for(n===1/0&&(n=0),e._length=n,a=0;a<r.length;a++)o=r[a],o.visible&&(o._length=n);return n}});var Ete=ie((UUe,Mte)=>{"use strict";var fE=wr(),qSe=qo(),Tte=sE(),zSe=hi(),USe=mx(),GSe=lE(),HSe=ub().isOpenSymbol;Mte.exports=function(r,t,n,a){function o(m,x){return fE.coerce(r,t,Tte,m,x)}var i=qSe(r,t,{name:"dimensions",handleItemDefaults:VSe}),s=o("diagonal.visible"),f=o("showupperhalf"),l=o("showlowerhalf"),u=GSe(t,i,"values");if(!u||!s&&!f&&!l){t.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),USe(r,t,n,a,o,{noAngleRef:!0,noStandOff:!0});var c=HSe(t.marker.symbol),v=zSe.isBubble(t);o("marker.line.width",c||v?1:0),YSe(r,t,a,o),fE.coerceSelectionMarkerOpacity(t,o)};function VSe(e,r){function t(a,o){return fE.coerce(e,r,Tte.dimensions,a,o)}t("label");var n=t("values");n&&n.length?t("visible"):r.visible=!1,t("axis.type"),t("axis.matches")}function YSe(e,r,t,n){var a=r.dimensions,o=a.length,i=r.showupperhalf,s=r.showlowerhalf,f=r.diagonal.visible,l,u,c=new Array(o),v=new Array(o);for(l=0;l<o;l++){var m=l?l+1:"";c[l]="x"+m,v[l]="y"+m}var x=n("xaxes",c),A=n("yaxes",v),w=r._diag=new Array(o);r._xaxes={},r._yaxes={};var y=[],_=[];function M(C,k,D,P){if(C){var O=C.charAt(0),F=t._splomAxes[O];if(r["_"+O+"axes"][C]=1,P.push(C),!(C in F)){var L=F[C]={};D&&(L.label=D.label||"",D.visible&&D.axis&&(D.axis.type&&(L.type=D.axis.type),D.axis.matches&&(L.matches=k)))}}}var b=!f&&!s,E=!f&&!i;for(r._axesDim={},l=0;l<o;l++){var d=a[l],T=l===0,g=l===o-1,h=T&&b||g&&E?void 0:x[l],S=T&&E||g&&b?void 0:A[l];M(h,S,d,y),M(S,h,d,_),w[l]=[h,S],r._axesDim[h]=l,r._axesDim[S]=l}for(l=0;l<y.length;l++)for(u=0;u<_.length;u++){var p=y[l]+_[u];(l>u&&i||l<u&&s||l===u&&(f||!s||!i))&&(t._splomSubplots[p]=1)}(!s||!f&&i&&s)&&(t._splomGridDflt.xside="bottom",t._splomGridDflt.yside="left")}});var kte=ie((GUe,Cte)=>{"use strict";var Ste=wr();Cte.exports=function(r,t){var n=r._fullLayout,a=t.uid,o=n._splomScenes;o||(o=n._splomScenes={});var i={dirty:!0,selectBatch:[],unselectBatch:[]},s={matrix:!1,selectBatch:[],unselectBatch:[]},f=o[t.uid];return f||(f=o[a]=Ste.extendFlat({},i,s),f.draw=function(){f.matrix&&f.matrix.draw&&(f.selectBatch.length||f.unselectBatch.length?f.matrix.draw(f.unselectBatch,f.selectBatch):f.matrix.draw()),f.dirty=!1},f.destroy=function(){f.matrix&&f.matrix.destroy&&f.matrix.destroy(),f.matrixOptions=null,f.selectBatch=null,f.unselectBatch=null,f=null}),f.dirty||Ste.extendFlat(f,i),f}});var Dte=ie((HUe,Rte)=>{"use strict";var uE=wr(),j5=ya(),WSe=Mv().calcMarkerSize,XSe=Mv().calcAxisExpansion,ZSe=Tv(),Lte=Gg().markerSelection,jSe=Gg().markerStyle,JSe=kte(),$Se=ta().BADNUM,KSe=Vv().TOO_MANY_POINTS;Rte.exports=function(r,t){var n=t.dimensions,a=t._length,o={},i=o.cdata=[],s=o.data=[],f=t._visibleDims=[],l,u,c,v,m;function x(M,b){for(var E=M.makeCalcdata({v:b.values,vcalendar:t.calendar},"v"),d=0;d<E.length;d++)E[d]=E[d]===$Se?NaN:E[d];i.push(E),s.push(M.type==="log"?uE.simpleMap(E,M.c2l):E)}for(l=0;l<n.length;l++)if(c=n[l],c.visible){if(v=j5.getFromId(r,t._diag[l][0]),m=j5.getFromId(r,t._diag[l][1]),v&&m&&v.type!==m.type){uE.log("Skipping splom dimension "+l+" with conflicting axis types");continue}v?(x(v,c),m&&m.type==="category"&&(m._categories=v._categories.slice())):x(m,c),f.push(l)}ZSe(r,t),uE.extendFlat(o,jSe(r,t));var A=i.length,w=A*a>KSe,y;for(w?y=o.sizeAvg||Math.max(o.size,3):y=WSe(t,a),u=0;u<f.length;u++)l=f[u],c=n[l],v=j5.getFromId(r,t._diag[l][0])||{},m=j5.getFromId(r,t._diag[l][1])||{},XSe(r,t,v,m,i[u],i[u],y);var _=JSe(r,t);return _.matrix||(_.matrix=!0),_.matrixOptions=o,_.selectedOptions=Lte(r,t,t.selected),_.unselectedOptions=Lte(r,t,t.unselected),[{x:!1,y:!1,t:{},trace:t}]}});var Ite=ie((Fte,oy)=>{(function(){var e,r,t,n,a,o;typeof performance!="undefined"&&performance!==null&&performance.now?oy.exports=function(){return performance.now()}:typeof process!="undefined"&&process!==null&&process.hrtime?(oy.exports=function(){return(e()-a)/1e6},r=process.hrtime,e=function(){var i;return i=r(),i[0]*1e9+i[1]},n=e(),o=process.uptime()*1e9,a=n-o):Date.now?(oy.exports=function(){return Date.now()-t},t=Date.now()):(oy.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(Fte)});var Ote=ie((VUe,K5)=>{var QSe=Ite(),Df=window,J5=["moz","webkit"],Md="AnimationFrame",Ed=Df["request"+Md],sy=Df["cancel"+Md]||Df["cancelRequest"+Md];for(Td=0;!Ed&&Td<J5.length;Td++)Ed=Df[J5[Td]+"Request"+Md],sy=Df[J5[Td]+"Cancel"+Md]||Df[J5[Td]+"CancelRequest"+Md];var Td;(!Ed||!sy)&&($5=0,cE=0,tc=[],Pte=1e3/60,Ed=function(e){if(tc.length===0){var r=QSe(),t=Math.max(0,Pte-(r-$5));$5=t+r,setTimeout(function(){var n=tc.slice(0);tc.length=0;for(var a=0;a<n.length;a++)if(!n[a].cancelled)try{n[a].callback($5)}catch(o){setTimeout(function(){throw o},0)}},Math.round(t))}return tc.push({handle:++cE,callback:e,cancelled:!1}),cE},sy=function(e){for(var r=0;r<tc.length;r++)tc[r].handle===e&&(tc[r].cancelled=!0)});var $5,cE,tc,Pte;K5.exports=function(e){return Ed.call(Df,e)};K5.exports.cancel=function(){sy.apply(Df,arguments)};K5.exports.polyfill=function(e){e||(e=Df),e.requestAnimationFrame=Ed,e.cancelAnimationFrame=sy}});var Bte=ie((YUe,Nte)=>{Nte.exports=function(r,t){var n=typeof r=="number",a=typeof t=="number";n&&!a?(t=r,r=0):!n&&!a&&(r=0,t=0),r=r|0,t=t|0;var o=t-r;if(o<0)throw new Error("array length must be positive");for(var i=new Array(o),s=0,f=r;s<o;s++,f++)i[s]=f;return i}});var Gte=ie((WUe,Ute)=>{"use strict";var e9e=jM(),r9e=Dl(),t9e=M0(),qte=Ote(),n9e=Bte(),hE=Xv(),a9e=E0();Ute.exports=nc;function nc(e,r){if(!(this instanceof nc))return new nc(e,r);this.traces=[],this.passes={},this.regl=e,this.scatter=e9e(e),this.canvas=this.scatter.canvas}nc.prototype.render=function(...e){return e.length&&this.update(...e),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=qte(()=>{this.draw(),this.dirty=!0,this.planned=null})):(this.draw(),this.dirty=!0,qte(()=>{this.dirty=!1})),this)};nc.prototype.update=function(...e){if(!e.length)return;for(let n=0;n<e.length;n++)this.updateItem(n,e[n]);this.traces=this.traces.filter(Boolean);let r=[],t=0;for(let n=0;n<this.traces.length;n++){let a=this.traces[n],o=this.traces[n].passes;for(let i=0;i<o.length;i++)r.push(this.passes[o[i]]);a.passOffset=t,t+=a.passes.length}return this.scatter.update(...r),this};nc.prototype.updateItem=function(e,r){let{regl:t}=this;if(r===null)return this.traces[e]=null,this;if(!r)return this;let n=r9e(r,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),a=this.traces[e]||(this.traces[e]={id:e,buffer:t.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:hE([t._gl.drawingBufferWidth,t._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(n.color!=null&&(a.color=n.color),n.size!=null&&(a.size=n.size),n.marker!=null&&(a.marker=n.marker),n.borderColor!=null&&(a.borderColor=n.borderColor),n.borderSize!=null&&(a.borderSize=n.borderSize),n.opacity!=null&&(a.opacity=n.opacity),n.viewport&&(a.viewport=hE(n.viewport)),n.diagonal!=null&&(a.diagonal=n.diagonal),n.upper!=null&&(a.upper=n.upper),n.lower!=null&&(a.lower=n.lower),n.data){a.buffer(a9e(n.data)),a.columns=n.data.length,a.count=n.data[0].length,a.bounds=[];for(let A=0;A<a.columns;A++)a.bounds[A]=t9e(n.data[A],1)}let o;n.range&&(a.range=n.range,o=a.range&&typeof a.range[0]!="number"),n.domain&&(a.domain=n.domain);let i=!1;n.padding!=null&&(Array.isArray(n.padding)&&n.padding.length===a.columns&&typeof n.padding[n.padding.length-1]=="number"?(a.padding=n.padding.map(zte),i=!0):a.padding=zte(n.padding));let s=a.columns,f=a.count,l=a.viewport.width,u=a.viewport.height,c=a.viewport.x,v=a.viewport.y,m=l/s,x=u/s;a.passes=[];for(let A=0;A<s;A++)for(let w=0;w<s;w++){if(!a.diagonal&&w===A||!a.upper&&A>w||!a.lower&&A<w)continue;let y=i9e(a.id,A,w),_=this.passes[y]||(this.passes[y]={});if(n.data&&(n.transpose?_.positions={x:{buffer:a.buffer,offset:w,count:f,stride:s},y:{buffer:a.buffer,offset:A,count:f,stride:s}}:_.positions={x:{buffer:a.buffer,offset:w*f,count:f},y:{buffer:a.buffer,offset:A*f,count:f}},_.bounds=Q5(a.bounds,A,w)),n.domain||n.viewport||n.data){let M=i?Q5(a.padding,A,w):a.padding;if(a.domain){let[b,E,d,T]=Q5(a.domain,A,w);_.viewport=[c+b*l+M[0],v+E*u+M[1],c+d*l-M[2],v+T*u-M[3]]}else _.viewport=[c+w*m+m*M[0],v+A*x+x*M[1],c+(w+1)*m-m*M[2],v+(A+1)*x-x*M[3]]}n.color&&(_.color=a.color),n.size&&(_.size=a.size),n.marker&&(_.marker=a.marker),n.borderSize&&(_.borderSize=a.borderSize),n.borderColor&&(_.borderColor=a.borderColor),n.opacity&&(_.opacity=a.opacity),n.range&&(_.range=o?Q5(a.range,A,w):a.range||_.bounds),a.passes.push(y)}return this};nc.prototype.draw=function(...e){if(!e.length)this.scatter.draw();else{let r=[];for(let t=0;t<e.length;t++)if(typeof e[t]=="number"){let{passes:n,passOffset:a}=this.traces[e[t]];r.push(...n9e(a,a+n.length))}else if(e[t].length){let n=e[t],{passes:a,passOffset:o}=this.traces[t];a=a.map((i,s)=>{r[o+s]=n})}this.scatter.draw(...r)}return this};nc.prototype.destroy=function(){return this.traces.forEach(e=>{e.buffer&&e.buffer.destroy&&e.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function i9e(e,r,t){let n=e.id!=null?e.id:e,a=r,o=t;return n<<16|(a&255)<<8|o&255}function Q5(e,r,t){let n,a,o,i,s,f,l,u,c=e[r],v=e[t];return c.length>2?(n=c[0],o=c[2],a=c[1],i=c[3]):c.length?(n=a=c[0],o=i=c[1]):(n=c.x,a=c.y,o=c.x+c.width,i=c.y+c.height),v.length>2?(s=v[0],l=v[2],f=v[1],u=v[3]):v.length?(s=f=v[0],l=u=v[1]):(s=v.x,f=v.y,l=v.x+v.width,u=v.y+v.height),[s,a,l,i]}function zte(e){if(typeof e=="number")return[e,e,e,e];if(e.length===2)return[e[0],e[1],e[0],e[1]];{let r=hE(e);return[r.x,r.y,r.x+r.width,r.y+r.height]}}});var Vte=ie((XUe,Hte)=>{"use strict";var o9e=Gte(),vE=wr(),e_=ya(),s9e=yf().selectMode;Hte.exports=function(r,t,n){if(n.length)for(var a=0;a<n.length;a++)l9e(r,n[a][0])};function l9e(e,r){var t=e._fullLayout,n=t._size,a=r.trace,o=r.t,i=t._splomScenes[a.uid],s=i.matrixOptions,f=s.cdata,l=t._glcanvas.data()[0].regl,u=t.dragmode,c,v,m,x,A;if(f.length!==0){s.lower=a.showupperhalf,s.upper=a.showlowerhalf,s.diagonal=a.diagonal.visible;var w=a._visibleDims,y=f.length,_=i.viewOpts={};for(_.ranges=new Array(y),_.domains=new Array(y),A=0;A<w.length;A++){m=w[A];var M=_.ranges[A]=new Array(4),b=_.domains[A]=new Array(4);c=e_.getFromId(e,a._diag[m][0]),c&&(M[0]=c._rl[0],M[2]=c._rl[1],b[0]=c.domain[0],b[2]=c.domain[1]),v=e_.getFromId(e,a._diag[m][1]),v&&(M[1]=v._rl[0],M[3]=v._rl[1],b[1]=v.domain[0],b[3]=v.domain[1])}var E=e._context.plotGlPixelRatio,d=n.l*E,T=n.b*E,g=n.w*E,h=n.h*E;_.viewport=[d,T,g+d,h+T],i.matrix===!0&&(i.matrix=o9e(l));var S=t.clickmode.indexOf("select")>-1,p=s9e(u)||!!a.selectedpoints||S,C=!0;if(p){var k=a._length;if(a.selectedpoints){i.selectBatch=a.selectedpoints;var D=a.selectedpoints,P={};for(m=0;m<D.length;m++)P[D[m]]=!0;var O=[];for(m=0;m<k;m++)P[m]||O.push(m);i.unselectBatch=O}var F=o.xpx=new Array(y),L=o.ypx=new Array(y);for(A=0;A<w.length;A++){if(m=w[A],c=e_.getFromId(e,a._diag[m][0]),c)for(F[A]=new Array(k),x=0;x<k;x++)F[A][x]=c.c2p(f[A][x]);if(v=e_.getFromId(e,a._diag[m][1]),v)for(L[A]=new Array(k),x=0;x<k;x++)L[A][x]=v.c2p(f[A][x])}if(i.selectBatch.length||i.unselectBatch.length){var I=vE.extendFlat({},s,i.unselectedOptions,_),q=vE.extendFlat({},s,i.selectedOptions,_);i.matrix.update(I,q),C=!1}}else o.xpx=o.ypx=null;if(C){var z=vE.extendFlat({},s,_);i.matrix.update(z,null)}}}});var dE=ie(Yte=>{"use strict";Yte.getDimIndex=function(r,t){for(var n=t._id,a=n.charAt(0),o={x:0,y:1}[a],i=r._visibleDims,s=0;s<i.length;s++){var f=i[s];if(r._diag[f][o]===n)return s}return!1}});var Jte=ie((jUe,jte)=>{"use strict";var Wte=dE(),f9e=F8().calcHover,Xte=Rn().getFromId,u9e=ga().extendFlat;function c9e(e,r,t,n,a){a||(a={});var o=(n||"").charAt(0)==="x",i=(n||"").charAt(0)==="y",s=Zte(e,r,t);if((o||i)&&a.hoversubplots==="axis"&&s[0])for(var f=(o?e.xa:e.ya)._subplotsWith,l=a.gd,u=u9e({},e),c=0;c<f.length;c++){var v=f[c];if(v!==e.xa._id+e.ya._id){i?u.xa=Xte(l,v,"x"):u.ya=Xte(l,v,"y");var m=o||i,x=Zte(u,r,t,m);s=s.concat(x)}}return s}function Zte(e,r,t,n){var a=e.cd,o=a[0].trace,i=e.scene,s=i.matrixOptions.cdata,f=e.xa,l=e.ya,u=f.c2p(r),c=l.c2p(t),v=e.distance,m=Wte.getDimIndex(o,f),x=Wte.getDimIndex(o,l);if(m===!1||x===!1)return[e];for(var A=s[m],w=s[x],y,_,M=v,b=0;b<A.length;b++)if(!(n&&b!==e.index)){var E=A[b],d=w[b],T=f.c2p(E)-u,g=l.c2p(d)-c,h=Math.sqrt(T*T+g*g);(n||h<M)&&(M=_=h,y=b)}return e.index=y,e.distance=M,e.dxy=_,y===void 0?[e]:[f9e(e,A,w,o)]}jte.exports={hoverPoints:c9e}});var tne=ie((JUe,rne)=>{"use strict";var ene=wr(),$te=ene.pushUnique,Kte=hi(),Qte=dE();rne.exports=function(r,t){var n=r.cd,a=n[0].trace,o=n[0].t,i=r.scene,s=i.matrixOptions.cdata,f=r.xaxis,l=r.yaxis,u=[];if(!i)return u;var c=!Kte.hasMarkers(a)&&!Kte.hasText(a);if(a.visible!==!0||c)return u;var v=Qte.getDimIndex(a,f),m=Qte.getDimIndex(a,l);if(v===!1||m===!1)return u;var x=o.xpx[v],A=o.ypx[m],w=s[v],y=s[m],_=(r.scene.selectBatch||[]).slice(),M=[];if(t!==!1&&!t.degenerate)for(var b=0;b<w.length;b++)t.contains([x[b],A[b]],null,b,r)?(u.push({pointNumber:b,x:w[b],y:y[b]}),$te(_,b)):_.indexOf(b)!==-1?$te(_,b):M.push(b);var E=i.matrixOptions;return!_.length&&!M.length?i.matrix.update(E,null):!i.selectBatch.length&&!i.unselectBatch.length&&i.matrix.update(i.unselectedOptions,ene.extendFlat({},E,i.selectedOptions,i.viewOpts)),i.selectBatch=_,i.unselectBatch=M,u}});var ine=ie(($Ue,ane)=>{"use strict";var nne=wr(),h9e=Tv(),v9e=Gg().markerStyle;ane.exports=function(r,t){var n=t.trace,a=r._fullLayout._splomScenes[n.uid];if(a){h9e(r,n),nne.extendFlat(a.matrixOptions,v9e(r,n));var o=nne.extendFlat({},a.matrixOptions,a.viewOpts);a.matrix.update(o,null)}}});var sne=ie((KUe,one)=>{"use strict";var d9e=Dt(),p9e=b8();one.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:sE(),supplyDefaults:Ete(),colorbar:Ex(),calc:Dte(),plot:Vte(),hoverPoints:Jte().hoverPoints,selectPoints:tne(),editStyle:ine(),meta:{}};d9e.register(p9e)});var vne=ie((QUe,hne)=>{"use strict";var g9e=E7(),y9e=Dt(),m9e=X5(),x9e=Wh().getModuleCalcData,ac=Dv(),lne=ya().getFromId,fne=Rn().shouldShowZeroLine,une="splom",cne={};function b9e(e){var r=e._fullLayout,t=y9e.getModule(une),n=x9e(e.calcdata,t)[0],a=m9e(e,["ANGLE_instanced_arrays","OES_element_index_uint"],cne);a&&(r._hasOnlyLargeSploms&&pE(e),t.plot(e,{},n))}function _9e(e){var r=e.calcdata,t=e._fullLayout;t._hasOnlyLargeSploms&&pE(e);for(var n=0;n<r.length;n++){var a=r[n][0],o=a.trace,i=t._splomScenes[o.uid];o.type==="splom"&&i&&i.matrix&&w9e(e,o,i)}}function w9e(e,r,t){for(var n=t.matrixOptions.data.length,a=r._visibleDims,o=t.viewOpts.ranges=new Array(n),i=0;i<a.length;i++){var s=a[i],f=o[i]=new Array(4),l=lne(e,r._diag[s][0]);l&&(f[0]=l.r2l(l.range[0]),f[2]=l.r2l(l.range[1]));var u=lne(e,r._diag[s][1]);u&&(f[1]=u.r2l(u.range[0]),f[3]=u.r2l(u.range[1]))}t.selectBatch.length||t.unselectBatch.length?t.matrix.update({ranges:o},{ranges:o}):t.matrix.update({ranges:o})}function pE(e){var r=e._fullLayout,t=r._glcanvas.data()[0].regl,n=r._splomGrid;n||(n=r._splomGrid=g9e(t)),n.update(A9e(e))}function A9e(e){var r=e._context.plotGlPixelRatio,t=e._fullLayout,n=t._size,a=[0,0,t.width*r,t.height*r],o={},i;function s(d,T,g,h,S,p){g*=r,h*=r,S*=r,p*=r;var C=T[d+"color"],k=T[d+"width"],D=String(C+k);D in o?o[D].data.push(NaN,NaN,g,h,S,p):o[D]={data:[g,h,S,p],join:"rect",thickness:k*r,color:C,viewport:a,range:a,overlay:!1}}for(i in t._splomSubplots){var f=t._plots[i],l=f.xaxis,u=f.yaxis,c=l._gridVals,v=u._gridVals,m=l._offset,x=l._length,A=u._length,w=n.b+u.domain[0]*n.h,y=-u._m,_=-y*u.r2l(u.range[0],u.calendar),M,b;if(l.showgrid)for(i=0;i<c.length;i++)M=m+l.l2p(c[i].x),s("grid",l,M,w,M,w+A);if(u.showgrid)for(i=0;i<v.length;i++)b=w+_+y*v[i].x,s("grid",u,m,b,m+x,b);fne(e,l,u)&&(M=m+l.l2p(0),s("zeroline",l,M,w,M,w+A)),fne(e,u,l)&&(b=w+_+0,s("zeroline",u,m,b,m+x,b))}var E=[];for(i in o)E.push(o[i]);return E}function T9e(e,r,t,n){var a={},o;if(n._splomScenes){for(o=0;o<e.length;o++){var i=e[o];i.type==="splom"&&(a[i.uid]=1)}for(o=0;o<t.length;o++){var s=t[o];if(!a[s.uid]){var f=n._splomScenes[s.uid];f&&f.destroy&&f.destroy(),n._splomScenes[s.uid]=null,delete n._splomScenes[s.uid]}}}Object.keys(n._splomScenes||{}).length===0&&delete n._splomScenes,n._splomGrid&&!r._hasOnlyLargeSploms&&n._hasOnlyLargeSploms&&(n._splomGrid.destroy(),n._splomGrid=null,delete n._splomGrid),ac.clean(e,r,t,n)}hne.exports={name:une,attr:ac.attr,attrRegex:ac.attrRegex,layoutAttributes:ac.layoutAttributes,supplyLayoutDefaults:ac.supplyLayoutDefaults,drawFramework:ac.drawFramework,plot:b9e,drag:_9e,updateGrid:pE,clean:T9e,updateFx:ac.updateFx,toSVG:ac.toSVG,reglPrecompiled:cne}});var gne=ie((eGe,pne)=>{"use strict";var dne=sne();dne.basePlotModule=vne(),pne.exports=dne});var mne=ie((rGe,yne)=>{"use strict";yne.exports=gne()});var yE=ie((tGe,xne)=>{"use strict";var gE=kl();xne.exports={x:gE.x,y:gE.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:gE.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}});var _ne=ie((nGe,bne)=>{"use strict";var M9e=wr(),E9e=yE();bne.exports=function(r,t,n){function a(o,i){return M9e.coerce(r,t,E9e,o,i)}a("x"),a("y"),a("xbounds"),a("ybounds"),r.xy&&r.xy instanceof Float32Array&&(t.xy=r.xy),r.indices&&r.indices instanceof Int32Array&&(t.indices=r.indices),a("text"),a("marker.color",n),a("marker.opacity"),a("marker.blend"),a("marker.sizemin"),a("marker.sizemax"),a("marker.border.color",n),a("marker.border.arearatio"),t._length=null}});var Ane=ie((aGe,wne)=>{"use strict";var S9e=_x(),C9e=Tv();wne.exports=function(r,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return S9e(n,t),C9e(r,t),n}});var Sd=ie((iGe,Tne)=>{"use strict";(function(){var e={1964:function(a,o,i){a.exports={alpha_shape:i(3502),convex_hull:i(7352),delaunay_triangulate:i(7642),gl_cone3d:i(6405),gl_error3d:i(9165),gl_heatmap2d:i(2510),gl_line3d:i(5714),gl_mesh3d:i(7201),gl_plot2d:i(1850),gl_plot3d:i(4100),gl_pointcloud2d:i(4696),gl_scatter3d:i(8418),gl_select_box:i(3161),gl_spikes2d:i(4098),gl_streamtube3d:i(7815),gl_surface3d:i(9499),ndarray:i(9618),ndarray_linear_interpolate:i(4317)}},4793:function(a,o,i){"use strict";var s;function f(ue,Q){if(!(ue instanceof Q))throw new TypeError("Cannot call a class as a function")}function l(ue,Q){for(var oe=0;oe<Q.length;oe++){var Ee=Q[oe];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ue,c(Ee.key),Ee)}}function u(ue,Q,oe){return Q&&l(ue.prototype,Q),oe&&l(ue,oe),Object.defineProperty(ue,"prototype",{writable:!1}),ue}function c(ue){var Q=v(ue,"string");return b(Q)=="symbol"?Q:Q+""}function v(ue,Q){if(b(ue)!="object"||!ue)return ue;var oe=ue[Symbol.toPrimitive];if(oe!==void 0){var Ee=oe.call(ue,Q||"default");if(b(Ee)!="object")return Ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(ue)}function m(ue,Q,oe){return Q=y(Q),x(ue,w()?Reflect.construct(Q,oe||[],y(ue).constructor):Q.apply(ue,oe))}function x(ue,Q){if(Q&&(b(Q)=="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(ue)}function A(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function w(){try{var ue=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Q){}return(w=function(){return!!ue})()}function y(ue){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},y(ue)}function _(ue,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(Q&&Q.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),Q&&M(ue,Q)}function M(ue,Q){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,Ee){return oe.__proto__=Ee,oe},M(ue,Q)}function b(ue){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},b(ue)}var E=i(7507),d=i(3778),T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.hp=p,s=W,o.IS=50;var g=2147483647;s=g,p.TYPED_ARRAY_SUPPORT=h(),!p.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var ue=new Uint8Array(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,Uint8Array.prototype),Object.setPrototypeOf(ue,Q),ue.foo()===42}catch(oe){return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function S(ue){if(ue>g)throw new RangeError('The value "'+ue+'" is invalid for option "size"');var Q=new Uint8Array(ue);return Object.setPrototypeOf(Q,p.prototype),Q}function p(ue,Q,oe){if(typeof ue=="number"){if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(ue)}return C(ue,Q,oe)}p.poolSize=8192;function C(ue,Q,oe){if(typeof ue=="string")return O(ue,Q);if(ArrayBuffer.isView(ue))return L(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(ue));if(Me(ue,ArrayBuffer)||ue&&Me(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Me(ue,SharedArrayBuffer)||ue&&Me(ue.buffer,SharedArrayBuffer)))return I(ue,Q,oe);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=ue.valueOf&&ue.valueOf();if(Ee!=null&&Ee!==ue)return p.from(Ee,Q,oe);var Xe=q(ue);if(Xe)return Xe;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return p.from(ue[Symbol.toPrimitive]("string"),Q,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(ue))}p.from=function(ue,Q,oe){return C(ue,Q,oe)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function k(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function D(ue,Q,oe){return k(ue),ue<=0?S(ue):Q!==void 0?typeof oe=="string"?S(ue).fill(Q,oe):S(ue).fill(Q):S(ue)}p.alloc=function(ue,Q,oe){return D(ue,Q,oe)};function P(ue){return k(ue),S(ue<0?0:z(ue)|0)}p.allocUnsafe=function(ue){return P(ue)},p.allocUnsafeSlow=function(ue){return P(ue)};function O(ue,Q){if((typeof Q!="string"||Q==="")&&(Q="utf8"),!p.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);var oe=$(ue,Q)|0,Ee=S(oe),Xe=Ee.write(ue,Q);return Xe!==oe&&(Ee=Ee.slice(0,Xe)),Ee}function F(ue){for(var Q=ue.length<0?0:z(ue.length)|0,oe=S(Q),Ee=0;Ee<Q;Ee+=1)oe[Ee]=ue[Ee]&255;return oe}function L(ue){if(Me(ue,Uint8Array)){var Q=new Uint8Array(ue);return I(Q.buffer,Q.byteOffset,Q.byteLength)}return F(ue)}function I(ue,Q,oe){if(Q<0||ue.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<Q+(oe||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Q===void 0&&oe===void 0?Ee=new Uint8Array(ue):oe===void 0?Ee=new Uint8Array(ue,Q):Ee=new Uint8Array(ue,Q,oe),Object.setPrototypeOf(Ee,p.prototype),Ee}function q(ue){if(p.isBuffer(ue)){var Q=z(ue.length)|0,oe=S(Q);return oe.length===0||ue.copy(oe,0,0,Q),oe}if(ue.length!==void 0)return typeof ue.length!="number"||Fe(ue.length)?S(0):F(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return F(ue.data)}function z(ue){if(ue>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return ue|0}function W(ue){return+ue!=ue&&(ue=0),p.alloc(+ue)}p.isBuffer=function(Q){return Q!=null&&Q._isBuffer===!0&&Q!==p.prototype},p.compare=function(Q,oe){if(Me(Q,Uint8Array)&&(Q=p.from(Q,Q.offset,Q.byteLength)),Me(oe,Uint8Array)&&(oe=p.from(oe,oe.offset,oe.byteLength)),!p.isBuffer(Q)||!p.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===oe)return 0;for(var Ee=Q.length,Xe=oe.length,ar=0,yr=Math.min(Ee,Xe);ar<yr;++ar)if(Q[ar]!==oe[ar]){Ee=Q[ar],Xe=oe[ar];break}return Ee<Xe?-1:Xe<Ee?1:0},p.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(Q,oe){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return p.alloc(0);var Ee;if(oe===void 0)for(oe=0,Ee=0;Ee<Q.length;++Ee)oe+=Q[Ee].length;var Xe=p.allocUnsafe(oe),ar=0;for(Ee=0;Ee<Q.length;++Ee){var yr=Q[Ee];if(Me(yr,Uint8Array))ar+yr.length>Xe.length?(p.isBuffer(yr)||(yr=p.from(yr)),yr.copy(Xe,ar)):Uint8Array.prototype.set.call(Xe,yr,ar);else if(p.isBuffer(yr))yr.copy(Xe,ar);else throw new TypeError('"list" argument must be an Array of Buffers');ar+=yr.length}return Xe};function $(ue,Q){if(p.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||Me(ue,ArrayBuffer))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(ue));var oe=ue.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&oe===0)return 0;for(var Xe=!1;;)switch(Q){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return ir(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe*2;case"hex":return oe>>>1;case"base64":return pr(ue).length;default:if(Xe)return Ee?-1:ir(ue).length;Q=(""+Q).toLowerCase(),Xe=!0}}p.byteLength=$;function j(ue,Q,oe){var Ee=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((oe===void 0||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0,Q>>>=0,oe<=Q))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return me(this,Q,oe);case"utf8":case"utf-8":return V(this,Q,oe);case"ascii":return de(this,Q,oe);case"latin1":case"binary":return _e(this,Q,oe);case"base64":return re(this,Q,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,Q,oe);default:if(Ee)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),Ee=!0}}p.prototype._isBuffer=!0;function G(ue,Q,oe){var Ee=ue[Q];ue[Q]=ue[oe],ue[oe]=Ee}p.prototype.swap16=function(){var Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<Q;oe+=2)G(this,oe,oe+1);return this},p.prototype.swap32=function(){var Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<Q;oe+=4)G(this,oe,oe+3),G(this,oe+1,oe+2);return this},p.prototype.swap64=function(){var Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<Q;oe+=8)G(this,oe,oe+7),G(this,oe+1,oe+6),G(this,oe+2,oe+5),G(this,oe+3,oe+4);return this},p.prototype.toString=function(){var Q=this.length;return Q===0?"":arguments.length===0?V(this,0,Q):j.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(Q){if(!p.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:p.compare(this,Q)===0},p.prototype.inspect=function(){var Q="",oe=o.IS;return Q=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(Q+=" ... "),"<Buffer "+Q+">"},T&&(p.prototype[T]=p.prototype.inspect),p.prototype.compare=function(Q,oe,Ee,Xe,ar){if(Me(Q,Uint8Array)&&(Q=p.from(Q,Q.offset,Q.byteLength)),!p.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(Q));if(oe===void 0&&(oe=0),Ee===void 0&&(Ee=Q?Q.length:0),Xe===void 0&&(Xe=0),ar===void 0&&(ar=this.length),oe<0||Ee>Q.length||Xe<0||ar>this.length)throw new RangeError("out of range index");if(Xe>=ar&&oe>=Ee)return 0;if(Xe>=ar)return-1;if(oe>=Ee)return 1;if(oe>>>=0,Ee>>>=0,Xe>>>=0,ar>>>=0,this===Q)return 0;for(var yr=ar-Xe,Kr=Ee-oe,mt=Math.min(yr,Kr),Ft=this.slice(Xe,ar),wt=Q.slice(oe,Ee),bt=0;bt<mt;++bt)if(Ft[bt]!==wt[bt]){yr=Ft[bt],Kr=wt[bt];break}return yr<Kr?-1:Kr<yr?1:0};function B(ue,Q,oe,Ee,Xe){if(ue.length===0)return-1;if(typeof oe=="string"?(Ee=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),oe=+oe,Fe(oe)&&(oe=Xe?0:ue.length-1),oe<0&&(oe=ue.length+oe),oe>=ue.length){if(Xe)return-1;oe=ue.length-1}else if(oe<0)if(Xe)oe=0;else return-1;if(typeof Q=="string"&&(Q=p.from(Q,Ee)),p.isBuffer(Q))return Q.length===0?-1:X(ue,Q,oe,Ee,Xe);if(typeof Q=="number")return Q=Q&255,typeof Uint8Array.prototype.indexOf=="function"?Xe?Uint8Array.prototype.indexOf.call(ue,Q,oe):Uint8Array.prototype.lastIndexOf.call(ue,Q,oe):X(ue,[Q],oe,Ee,Xe);throw new TypeError("val must be string, number or Buffer")}function X(ue,Q,oe,Ee,Xe){var ar=1,yr=ue.length,Kr=Q.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(ue.length<2||Q.length<2)return-1;ar=2,yr/=2,Kr/=2,oe/=2}function mt(tn,it){return ar===1?tn[it]:tn.readUInt16BE(it*ar)}var Ft;if(Xe){var wt=-1;for(Ft=oe;Ft<yr;Ft++)if(mt(ue,Ft)===mt(Q,wt===-1?0:Ft-wt)){if(wt===-1&&(wt=Ft),Ft-wt+1===Kr)return wt*ar}else wt!==-1&&(Ft-=Ft-wt),wt=-1}else for(oe+Kr>yr&&(oe=yr-Kr),Ft=oe;Ft>=0;Ft--){for(var bt=!0,Ln=0;Ln<Kr;Ln++)if(mt(ue,Ft+Ln)!==mt(Q,Ln)){bt=!1;break}if(bt)return Ft}return-1}p.prototype.includes=function(Q,oe,Ee){return this.indexOf(Q,oe,Ee)!==-1},p.prototype.indexOf=function(Q,oe,Ee){return B(this,Q,oe,Ee,!0)},p.prototype.lastIndexOf=function(Q,oe,Ee){return B(this,Q,oe,Ee,!1)};function te(ue,Q,oe,Ee){oe=Number(oe)||0;var Xe=ue.length-oe;Ee?(Ee=Number(Ee),Ee>Xe&&(Ee=Xe)):Ee=Xe;var ar=Q.length;Ee>ar/2&&(Ee=ar/2);var yr;for(yr=0;yr<Ee;++yr){var Kr=parseInt(Q.substr(yr*2,2),16);if(Fe(Kr))return yr;ue[oe+yr]=Kr}return yr}function J(ue,Q,oe,Ee){return nr(ir(Q,ue.length-oe),ue,oe,Ee)}function ae(ue,Q,oe,Ee){return nr(mr(Q),ue,oe,Ee)}function ee(ue,Q,oe,Ee){return nr(pr(Q),ue,oe,Ee)}function H(ue,Q,oe,Ee){return nr(Tr(Q,ue.length-oe),ue,oe,Ee)}p.prototype.write=function(Q,oe,Ee,Xe){if(oe===void 0)Xe="utf8",Ee=this.length,oe=0;else if(Ee===void 0&&typeof oe=="string")Xe=oe,Ee=this.length,oe=0;else if(isFinite(oe))oe=oe>>>0,isFinite(Ee)?(Ee=Ee>>>0,Xe===void 0&&(Xe="utf8")):(Xe=Ee,Ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ar=this.length-oe;if((Ee===void 0||Ee>ar)&&(Ee=ar),Q.length>0&&(Ee<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xe||(Xe="utf8");for(var yr=!1;;)switch(Xe){case"hex":return te(this,Q,oe,Ee);case"utf8":case"utf-8":return J(this,Q,oe,Ee);case"ascii":case"latin1":case"binary":return ae(this,Q,oe,Ee);case"base64":return ee(this,Q,oe,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,Q,oe,Ee);default:if(yr)throw new TypeError("Unknown encoding: "+Xe);Xe=(""+Xe).toLowerCase(),yr=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(ue,Q,oe){return Q===0&&oe===ue.length?E.fromByteArray(ue):E.fromByteArray(ue.slice(Q,oe))}function V(ue,Q,oe){oe=Math.min(ue.length,oe);for(var Ee=[],Xe=Q;Xe<oe;){var ar=ue[Xe],yr=null,Kr=ar>239?4:ar>223?3:ar>191?2:1;if(Xe+Kr<=oe){var mt=void 0,Ft=void 0,wt=void 0,bt=void 0;switch(Kr){case 1:ar<128&&(yr=ar);break;case 2:mt=ue[Xe+1],(mt&192)===128&&(bt=(ar&31)<<6|mt&63,bt>127&&(yr=bt));break;case 3:mt=ue[Xe+1],Ft=ue[Xe+2],(mt&192)===128&&(Ft&192)===128&&(bt=(ar&15)<<12|(mt&63)<<6|Ft&63,bt>2047&&(bt<55296||bt>57343)&&(yr=bt));break;case 4:mt=ue[Xe+1],Ft=ue[Xe+2],wt=ue[Xe+3],(mt&192)===128&&(Ft&192)===128&&(wt&192)===128&&(bt=(ar&15)<<18|(mt&63)<<12|(Ft&63)<<6|wt&63,bt>65535&&bt<1114112&&(yr=bt))}}yr===null?(yr=65533,Kr=1):yr>65535&&(yr-=65536,Ee.push(yr>>>10&1023|55296),yr=56320|yr&1023),Ee.push(yr),Xe+=Kr}return le(Ee)}var ne=4096;function le(ue){var Q=ue.length;if(Q<=ne)return String.fromCharCode.apply(String,ue);for(var oe="",Ee=0;Ee<Q;)oe+=String.fromCharCode.apply(String,ue.slice(Ee,Ee+=ne));return oe}function de(ue,Q,oe){var Ee="";oe=Math.min(ue.length,oe);for(var Xe=Q;Xe<oe;++Xe)Ee+=String.fromCharCode(ue[Xe]&127);return Ee}function _e(ue,Q,oe){var Ee="";oe=Math.min(ue.length,oe);for(var Xe=Q;Xe<oe;++Xe)Ee+=String.fromCharCode(ue[Xe]);return Ee}function me(ue,Q,oe){var Ee=ue.length;(!Q||Q<0)&&(Q=0),(!oe||oe<0||oe>Ee)&&(oe=Ee);for(var Xe="",ar=Q;ar<oe;++ar)Xe+=ur[ue[ar]];return Xe}function ve(ue,Q,oe){for(var Ee=ue.slice(Q,oe),Xe="",ar=0;ar<Ee.length-1;ar+=2)Xe+=String.fromCharCode(Ee[ar]+Ee[ar+1]*256);return Xe}p.prototype.slice=function(Q,oe){var Ee=this.length;Q=~~Q,oe=oe===void 0?Ee:~~oe,Q<0?(Q+=Ee,Q<0&&(Q=0)):Q>Ee&&(Q=Ee),oe<0?(oe+=Ee,oe<0&&(oe=0)):oe>Ee&&(oe=Ee),oe<Q&&(oe=Q);var Xe=this.subarray(Q,oe);return Object.setPrototypeOf(Xe,p.prototype),Xe};function be(ue,Q,oe){if(ue%1!==0||ue<0)throw new RangeError("offset is not uint");if(ue+Q>oe)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(Q,oe,Ee){Q=Q>>>0,oe=oe>>>0,Ee||be(Q,oe,this.length);for(var Xe=this[Q],ar=1,yr=0;++yr<oe&&(ar*=256);)Xe+=this[Q+yr]*ar;return Xe},p.prototype.readUintBE=p.prototype.readUIntBE=function(Q,oe,Ee){Q=Q>>>0,oe=oe>>>0,Ee||be(Q,oe,this.length);for(var Xe=this[Q+--oe],ar=1;oe>0&&(ar*=256);)Xe+=this[Q+--oe]*ar;return Xe},p.prototype.readUint8=p.prototype.readUInt8=function(Q,oe){return Q=Q>>>0,oe||be(Q,1,this.length),this[Q]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(Q,oe){return Q=Q>>>0,oe||be(Q,2,this.length),this[Q]|this[Q+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(Q,oe){return Q=Q>>>0,oe||be(Q,2,this.length),this[Q]<<8|this[Q+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(Q,oe){return Q=Q>>>0,oe||be(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(Q,oe){return Q=Q>>>0,oe||be(Q,4,this.length),this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},p.prototype.readBigUInt64LE=je(function(Q){Q=Q>>>0,Ce(Q,"offset");var oe=this[Q],Ee=this[Q+7];(oe===void 0||Ee===void 0)&&Le(Q,this.length-8);var Xe=oe+this[++Q]*Math.pow(2,8)+this[++Q]*Math.pow(2,16)+this[++Q]*Math.pow(2,24),ar=this[++Q]+this[++Q]*Math.pow(2,8)+this[++Q]*Math.pow(2,16)+Ee*Math.pow(2,24);return BigInt(Xe)+(BigInt(ar)<<BigInt(32))}),p.prototype.readBigUInt64BE=je(function(Q){Q=Q>>>0,Ce(Q,"offset");var oe=this[Q],Ee=this[Q+7];(oe===void 0||Ee===void 0)&&Le(Q,this.length-8);var Xe=oe*Math.pow(2,24)+this[++Q]*Math.pow(2,16)+this[++Q]*Math.pow(2,8)+this[++Q],ar=this[++Q]*Math.pow(2,24)+this[++Q]*Math.pow(2,16)+this[++Q]*Math.pow(2,8)+Ee;return(BigInt(Xe)<<BigInt(32))+BigInt(ar)}),p.prototype.readIntLE=function(Q,oe,Ee){Q=Q>>>0,oe=oe>>>0,Ee||be(Q,oe,this.length);for(var Xe=this[Q],ar=1,yr=0;++yr<oe&&(ar*=256);)Xe+=this[Q+yr]*ar;return ar*=128,Xe>=ar&&(Xe-=Math.pow(2,8*oe)),Xe},p.prototype.readIntBE=function(Q,oe,Ee){Q=Q>>>0,oe=oe>>>0,Ee||be(Q,oe,this.length);for(var Xe=oe,ar=1,yr=this[Q+--Xe];Xe>0&&(ar*=256);)yr+=this[Q+--Xe]*ar;return ar*=128,yr>=ar&&(yr-=Math.pow(2,8*oe)),yr},p.prototype.readInt8=function(Q,oe){return Q=Q>>>0,oe||be(Q,1,this.length),this[Q]&128?(255-this[Q]+1)*-1:this[Q]},p.prototype.readInt16LE=function(Q,oe){Q=Q>>>0,oe||be(Q,2,this.length);var Ee=this[Q]|this[Q+1]<<8;return Ee&32768?Ee|4294901760:Ee},p.prototype.readInt16BE=function(Q,oe){Q=Q>>>0,oe||be(Q,2,this.length);var Ee=this[Q+1]|this[Q]<<8;return Ee&32768?Ee|4294901760:Ee},p.prototype.readInt32LE=function(Q,oe){return Q=Q>>>0,oe||be(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},p.prototype.readInt32BE=function(Q,oe){return Q=Q>>>0,oe||be(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},p.prototype.readBigInt64LE=je(function(Q){Q=Q>>>0,Ce(Q,"offset");var oe=this[Q],Ee=this[Q+7];(oe===void 0||Ee===void 0)&&Le(Q,this.length-8);var Xe=this[Q+4]+this[Q+5]*Math.pow(2,8)+this[Q+6]*Math.pow(2,16)+(Ee<<24);return(BigInt(Xe)<<BigInt(32))+BigInt(oe+this[++Q]*Math.pow(2,8)+this[++Q]*Math.pow(2,16)+this[++Q]*Math.pow(2,24))}),p.prototype.readBigInt64BE=je(function(Q){Q=Q>>>0,Ce(Q,"offset");var oe=this[Q],Ee=this[Q+7];(oe===void 0||Ee===void 0)&&Le(Q,this.length-8);var Xe=(oe<<24)+this[++Q]*Math.pow(2,16)+this[++Q]*Math.pow(2,8)+this[++Q];return(BigInt(Xe)<<BigInt(32))+BigInt(this[++Q]*Math.pow(2,24)+this[++Q]*Math.pow(2,16)+this[++Q]*Math.pow(2,8)+Ee)}),p.prototype.readFloatLE=function(Q,oe){return Q=Q>>>0,oe||be(Q,4,this.length),d.read(this,Q,!0,23,4)},p.prototype.readFloatBE=function(Q,oe){return Q=Q>>>0,oe||be(Q,4,this.length),d.read(this,Q,!1,23,4)},p.prototype.readDoubleLE=function(Q,oe){return Q=Q>>>0,oe||be(Q,8,this.length),d.read(this,Q,!0,52,8)},p.prototype.readDoubleBE=function(Q,oe){return Q=Q>>>0,oe||be(Q,8,this.length),d.read(this,Q,!1,52,8)};function we(ue,Q,oe,Ee,Xe,ar){if(!p.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>Xe||Q<ar)throw new RangeError('"value" argument is out of bounds');if(oe+Ee>ue.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(Q,oe,Ee,Xe){if(Q=+Q,oe=oe>>>0,Ee=Ee>>>0,!Xe){var ar=Math.pow(2,8*Ee)-1;we(this,Q,oe,Ee,ar,0)}var yr=1,Kr=0;for(this[oe]=Q&255;++Kr<Ee&&(yr*=256);)this[oe+Kr]=Q/yr&255;return oe+Ee},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(Q,oe,Ee,Xe){if(Q=+Q,oe=oe>>>0,Ee=Ee>>>0,!Xe){var ar=Math.pow(2,8*Ee)-1;we(this,Q,oe,Ee,ar,0)}var yr=Ee-1,Kr=1;for(this[oe+yr]=Q&255;--yr>=0&&(Kr*=256);)this[oe+yr]=Q/Kr&255;return oe+Ee},p.prototype.writeUint8=p.prototype.writeUInt8=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,1,255,0),this[oe]=Q&255,oe+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,2,65535,0),this[oe]=Q&255,this[oe+1]=Q>>>8,oe+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,2,65535,0),this[oe]=Q>>>8,this[oe+1]=Q&255,oe+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,4,4294967295,0),this[oe+3]=Q>>>24,this[oe+2]=Q>>>16,this[oe+1]=Q>>>8,this[oe]=Q&255,oe+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,4,4294967295,0),this[oe]=Q>>>24,this[oe+1]=Q>>>16,this[oe+2]=Q>>>8,this[oe+3]=Q&255,oe+4};function Se(ue,Q,oe,Ee,Xe){ze(Q,Ee,Xe,ue,oe,7);var ar=Number(Q&BigInt(4294967295));ue[oe++]=ar,ar=ar>>8,ue[oe++]=ar,ar=ar>>8,ue[oe++]=ar,ar=ar>>8,ue[oe++]=ar;var yr=Number(Q>>BigInt(32)&BigInt(4294967295));return ue[oe++]=yr,yr=yr>>8,ue[oe++]=yr,yr=yr>>8,ue[oe++]=yr,yr=yr>>8,ue[oe++]=yr,oe}function Ae(ue,Q,oe,Ee,Xe){ze(Q,Ee,Xe,ue,oe,7);var ar=Number(Q&BigInt(4294967295));ue[oe+7]=ar,ar=ar>>8,ue[oe+6]=ar,ar=ar>>8,ue[oe+5]=ar,ar=ar>>8,ue[oe+4]=ar;var yr=Number(Q>>BigInt(32)&BigInt(4294967295));return ue[oe+3]=yr,yr=yr>>8,ue[oe+2]=yr,yr=yr>>8,ue[oe+1]=yr,yr=yr>>8,ue[oe]=yr,oe+8}p.prototype.writeBigUInt64LE=je(function(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Se(this,Q,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=je(function(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ae(this,Q,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(Q,oe,Ee,Xe){if(Q=+Q,oe=oe>>>0,!Xe){var ar=Math.pow(2,8*Ee-1);we(this,Q,oe,Ee,ar-1,-ar)}var yr=0,Kr=1,mt=0;for(this[oe]=Q&255;++yr<Ee&&(Kr*=256);)Q<0&&mt===0&&this[oe+yr-1]!==0&&(mt=1),this[oe+yr]=(Q/Kr>>0)-mt&255;return oe+Ee},p.prototype.writeIntBE=function(Q,oe,Ee,Xe){if(Q=+Q,oe=oe>>>0,!Xe){var ar=Math.pow(2,8*Ee-1);we(this,Q,oe,Ee,ar-1,-ar)}var yr=Ee-1,Kr=1,mt=0;for(this[oe+yr]=Q&255;--yr>=0&&(Kr*=256);)Q<0&&mt===0&&this[oe+yr+1]!==0&&(mt=1),this[oe+yr]=(Q/Kr>>0)-mt&255;return oe+Ee},p.prototype.writeInt8=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,1,127,-128),Q<0&&(Q=255+Q+1),this[oe]=Q&255,oe+1},p.prototype.writeInt16LE=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,2,32767,-32768),this[oe]=Q&255,this[oe+1]=Q>>>8,oe+2},p.prototype.writeInt16BE=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,2,32767,-32768),this[oe]=Q>>>8,this[oe+1]=Q&255,oe+2},p.prototype.writeInt32LE=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,4,2147483647,-2147483648),this[oe]=Q&255,this[oe+1]=Q>>>8,this[oe+2]=Q>>>16,this[oe+3]=Q>>>24,oe+4},p.prototype.writeInt32BE=function(Q,oe,Ee){return Q=+Q,oe=oe>>>0,Ee||we(this,Q,oe,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[oe]=Q>>>24,this[oe+1]=Q>>>16,this[oe+2]=Q>>>8,this[oe+3]=Q&255,oe+4},p.prototype.writeBigInt64LE=je(function(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Se(this,Q,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=je(function(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ae(this,Q,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ie(ue,Q,oe,Ee,Xe,ar){if(oe+Ee>ue.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function Ve(ue,Q,oe,Ee,Xe){return Q=+Q,oe=oe>>>0,Xe||Ie(ue,Q,oe,4,34028234663852886e22,-34028234663852886e22),d.write(ue,Q,oe,Ee,23,4),oe+4}p.prototype.writeFloatLE=function(Q,oe,Ee){return Ve(this,Q,oe,!0,Ee)},p.prototype.writeFloatBE=function(Q,oe,Ee){return Ve(this,Q,oe,!1,Ee)};function pe(ue,Q,oe,Ee,Xe){return Q=+Q,oe=oe>>>0,Xe||Ie(ue,Q,oe,8,17976931348623157e292,-17976931348623157e292),d.write(ue,Q,oe,Ee,52,8),oe+8}p.prototype.writeDoubleLE=function(Q,oe,Ee){return pe(this,Q,oe,!0,Ee)},p.prototype.writeDoubleBE=function(Q,oe,Ee){return pe(this,Q,oe,!1,Ee)},p.prototype.copy=function(Q,oe,Ee,Xe){if(!p.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),!Xe&&Xe!==0&&(Xe=this.length),oe>=Q.length&&(oe=Q.length),oe||(oe=0),Xe>0&&Xe<Ee&&(Xe=Ee),Xe===Ee||Q.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Xe<0)throw new RangeError("sourceEnd out of bounds");Xe>this.length&&(Xe=this.length),Q.length-oe<Xe-Ee&&(Xe=Q.length-oe+Ee);var ar=Xe-Ee;return this===Q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,Ee,Xe):Uint8Array.prototype.set.call(Q,this.subarray(Ee,Xe),oe),ar},p.prototype.fill=function(Q,oe,Ee,Xe){if(typeof Q=="string"){if(typeof oe=="string"?(Xe=oe,oe=0,Ee=this.length):typeof Ee=="string"&&(Xe=Ee,Ee=this.length),Xe!==void 0&&typeof Xe!="string")throw new TypeError("encoding must be a string");if(typeof Xe=="string"&&!p.isEncoding(Xe))throw new TypeError("Unknown encoding: "+Xe);if(Q.length===1){var ar=Q.charCodeAt(0);(Xe==="utf8"&&ar<128||Xe==="latin1")&&(Q=ar)}}else typeof Q=="number"?Q=Q&255:typeof Q=="boolean"&&(Q=Number(Q));if(oe<0||this.length<oe||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=oe)return this;oe=oe>>>0,Ee=Ee===void 0?this.length:Ee>>>0,Q||(Q=0);var yr;if(typeof Q=="number")for(yr=oe;yr<Ee;++yr)this[yr]=Q;else{var Kr=p.isBuffer(Q)?Q:p.from(Q,Xe),mt=Kr.length;if(mt===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(yr=0;yr<Ee-oe;++yr)this[yr+oe]=Kr[yr%mt]}return this};var xe={};function Te(ue,Q,oe){xe[ue]=function(Ee){function Xe(){var ar;return f(this,Xe),ar=m(this,Xe),Object.defineProperty(ar,"message",{value:Q.apply(ar,arguments),writable:!0,configurable:!0}),ar.name="".concat(ar.name," [").concat(ue,"]"),ar.stack,delete ar.name,ar}return _(Xe,Ee),u(Xe,[{key:"code",get:function(){return ue},set:function(yr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:yr,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ue,"]: ").concat(this.message)}}])}(oe)}Te("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?"".concat(ue," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Te("ERR_INVALID_ARG_TYPE",function(ue,Q){return'The "'.concat(ue,'" argument must be of type number. Received type ').concat(b(Q))},TypeError),Te("ERR_OUT_OF_RANGE",function(ue,Q,oe){var Ee='The value of "'.concat(ue,'" is out of range.'),Xe=oe;return Number.isInteger(oe)&&Math.abs(oe)>Math.pow(2,32)?Xe=qe(String(oe)):typeof oe=="bigint"&&(Xe=String(oe),(oe>Math.pow(BigInt(2),BigInt(32))||oe<-Math.pow(BigInt(2),BigInt(32)))&&(Xe=qe(Xe)),Xe+="n"),Ee+=" It must be ".concat(Q,". Received ").concat(Xe),Ee},RangeError);function qe(ue){for(var Q="",oe=ue.length,Ee=ue[0]==="-"?1:0;oe>=Ee+4;oe-=3)Q="_".concat(ue.slice(oe-3,oe)).concat(Q);return"".concat(ue.slice(0,oe)).concat(Q)}function er(ue,Q,oe){Ce(Q,"offset"),(ue[Q]===void 0||ue[Q+oe]===void 0)&&Le(Q,ue.length-(oe+1))}function ze(ue,Q,oe,Ee,Xe,ar){if(ue>oe||ue<Q){var yr=typeof Q=="bigint"?"n":"",Kr;throw ar>3?Q===0||Q===BigInt(0)?Kr=">= 0".concat(yr," and < 2").concat(yr," ** ").concat((ar+1)*8).concat(yr):Kr=">= -(2".concat(yr," ** ").concat((ar+1)*8-1).concat(yr,") and < 2 ** ")+"".concat((ar+1)*8-1).concat(yr):Kr=">= ".concat(Q).concat(yr," and <= ").concat(oe).concat(yr),new xe.ERR_OUT_OF_RANGE("value",Kr,ue)}er(Ee,Xe,ar)}function Ce(ue,Q){if(typeof ue!="number")throw new xe.ERR_INVALID_ARG_TYPE(Q,"number",ue)}function Le(ue,Q,oe){throw Math.floor(ue)!==ue?(Ce(ue,oe),new xe.ERR_OUT_OF_RANGE(oe||"offset","an integer",ue)):Q<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE(oe||"offset",">= ".concat(oe?1:0," and <= ").concat(Q),ue)}var Ne=/[^+/0-9A-Za-z-_]/g;function tr(ue){if(ue=ue.split("=")[0],ue=ue.trim().replace(Ne,""),ue.length<2)return"";for(;ue.length%4!==0;)ue=ue+"=";return ue}function ir(ue,Q){Q=Q||1/0;for(var oe,Ee=ue.length,Xe=null,ar=[],yr=0;yr<Ee;++yr){if(oe=ue.charCodeAt(yr),oe>55295&&oe<57344){if(!Xe){if(oe>56319){(Q-=3)>-1&&ar.push(239,191,189);continue}else if(yr+1===Ee){(Q-=3)>-1&&ar.push(239,191,189);continue}Xe=oe;continue}if(oe<56320){(Q-=3)>-1&&ar.push(239,191,189),Xe=oe;continue}oe=(Xe-55296<<10|oe-56320)+65536}else Xe&&(Q-=3)>-1&&ar.push(239,191,189);if(Xe=null,oe<128){if((Q-=1)<0)break;ar.push(oe)}else if(oe<2048){if((Q-=2)<0)break;ar.push(oe>>6|192,oe&63|128)}else if(oe<65536){if((Q-=3)<0)break;ar.push(oe>>12|224,oe>>6&63|128,oe&63|128)}else if(oe<1114112){if((Q-=4)<0)break;ar.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,oe&63|128)}else throw new Error("Invalid code point")}return ar}function mr(ue){for(var Q=[],oe=0;oe<ue.length;++oe)Q.push(ue.charCodeAt(oe)&255);return Q}function Tr(ue,Q){for(var oe,Ee,Xe,ar=[],yr=0;yr<ue.length&&!((Q-=2)<0);++yr)oe=ue.charCodeAt(yr),Ee=oe>>8,Xe=oe%256,ar.push(Xe),ar.push(Ee);return ar}function pr(ue){return E.toByteArray(tr(ue))}function nr(ue,Q,oe,Ee){var Xe;for(Xe=0;Xe<Ee&&!(Xe+oe>=Q.length||Xe>=ue.length);++Xe)Q[Xe+oe]=ue[Xe];return Xe}function Me(ue,Q){return ue instanceof Q||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===Q.name}function Fe(ue){return ue!==ue}var ur=function(){for(var ue="0123456789abcdef",Q=new Array(256),oe=0;oe<16;++oe)for(var Ee=oe*16,Xe=0;Xe<16;++Xe)Q[Ee+Xe]=ue[oe]+ue[Xe];return Q}();function je(ue){return typeof BigInt=="undefined"?Er:ue}function Er(){throw new Error("BigInt not supported")}},9216:function(a){"use strict";a.exports=f,a.exports.isMobile=f,a.exports.default=f;var o=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,s=/android|ipad|playbook|silk/i;function f(l){l||(l={});var u=l.ua;if(!u&&typeof navigator!="undefined"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var c=o.test(u)&&!i.test(u)||!!l.tablet&&s.test(u);return!c&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(c=!0),c}},6296:function(a,o,i){"use strict";a.exports=v;var s=i(7261),f=i(9977),l=i(4192);function u(m,x){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(A){return m[A]}),this._mode=x,this._active=m[x],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=u.prototype;c.flush=function(m){for(var x=this._controllerList,A=0;A<x.length;++A)x[A].flush(m)},c.idle=function(m){for(var x=this._controllerList,A=0;A<x.length;++A)x[A].idle(m)},c.lookAt=function(m,x,A,w){for(var y=this._controllerList,_=0;_<y.length;++_)y[_].lookAt(m,x,A,w)},c.rotate=function(m,x,A,w){for(var y=this._controllerList,_=0;_<y.length;++_)y[_].rotate(m,x,A,w)},c.pan=function(m,x,A,w){for(var y=this._controllerList,_=0;_<y.length;++_)y[_].pan(m,x,A,w)},c.translate=function(m,x,A,w){for(var y=this._controllerList,_=0;_<y.length;++_)y[_].translate(m,x,A,w)},c.setMatrix=function(m,x){for(var A=this._controllerList,w=0;w<A.length;++w)A[w].setMatrix(m,x)},c.setDistanceLimits=function(m,x){for(var A=this._controllerList,w=0;w<A.length;++w)A[w].setDistanceLimits(m,x)},c.setDistance=function(m,x){for(var A=this._controllerList,w=0;w<A.length;++w)A[w].setDistance(m,x)},c.recalcMatrix=function(m){this._active.recalcMatrix(m)},c.getDistance=function(m){return this._active.getDistance(m)},c.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},c.lastT=function(){return this._active.lastT()},c.setMode=function(m){if(m!==this._mode){var x=this._controllerNames.indexOf(m);if(!(x<0)){var A=this._active,w=this._controllerList[x],y=Math.max(A.lastT(),w.lastT());A.recalcMatrix(y),w.setMatrix(y,A.computedMatrix),this._active=w,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode};function v(m){m=m||{};var x=m.eye||[0,0,1],A=m.center||[0,0,0],w=m.up||[0,1,0],y=m.distanceLimits||[0,1/0],_=m.mode||"turntable",M=s(),b=f(),E=l();return M.setDistanceLimits(y[0],y[1]),M.lookAt(0,x,A,w),b.setDistanceLimits(y[0],y[1]),b.lookAt(0,x,A,w),E.setDistanceLimits(y[0],y[1]),E.lookAt(0,x,A,w),new u({turntable:M,orbit:b,matrix:E},_)}},7169:function(a,o,i){"use strict";var s=typeof WeakMap=="undefined"?i(1538):WeakMap,f=i(2762),l=i(8116),u=new s;function c(v){var m=u.get(v),x=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!x||!v.isBuffer(x)){var A=f(v,new Float32Array([-1,-1,-1,4,4,-1]));m=l(v,[{buffer:A,type:v.FLOAT,size:2}]),m._triangleBuffer=A,u.set(v,m)}m.bind(),v.drawArrays(v.TRIANGLES,0,3),m.unbind()}a.exports=c},1085:function(a,o,i){var s=i(1371);a.exports=f;function f(l,u,c){u=typeof u=="number"?u:1,c=c||": ";var v=l.split(/\r?\n/),m=String(v.length+u-1).length;return v.map(function(x,A){var w=A+u,y=String(w).length,_=s(w,m-y);return _+c+x}).join(`
`)}},3952:function(a,o,i){"use strict";a.exports=l;var s=i(3250);function f(u,c){for(var v=new Array(c+1),m=0;m<u.length;++m)v[m]=u[m];for(var m=0;m<=u.length;++m){for(var x=u.length;x<=c;++x){for(var A=new Array(c),w=0;w<c;++w)A[w]=Math.pow(x+1-m,w);v[x]=A}var y=s.apply(void 0,v);if(y)return!0}return!1}function l(u){var c=u.length;if(c===0)return[];if(c===1)return[0];for(var v=u[0].length,m=[u[0]],x=[0],A=1;A<c;++A){if(m.push(u[A]),!f(m,v)){m.pop();continue}if(x.push(A),x.length===v+1)return x}return x}},5995:function(a,o,i){"use strict";a.exports=l;var s=i(7642),f=i(6037);function l(u,c){return s(c).filter(function(v){for(var m=new Array(v.length),x=0;x<v.length;++x)m[x]=c[v[x]];return f(m)*u<1})}},3502:function(a,o,i){a.exports=l;var s=i(5995),f=i(9127);function l(u,c){return f(s(u,c))}},6468:function(a){a.exports=function(i){return atob(i)}},2642:function(a,o,i){"use strict";a.exports=l;var s=i(727);function f(u){for(var c=0,v=0;v<u.length;++v)c+=u[v];return c}function l(u,c){for(var v=c.length,m=new Array(v+1),x=0;x<v;++x){for(var A=new Array(v+1),w=0;w<=v;++w)A[w]=u[w][x];m[x]=A}m[v]=new Array(v+1);for(var x=0;x<=v;++x)m[v][x]=1;for(var y=new Array(v+1),x=0;x<v;++x)y[x]=c[x];y[v]=1;var _=s(m,y),M=f(_[v+1]);M===0&&(M=1);for(var b=new Array(v+1),x=0;x<=v;++x)b[x]=f(_[x])/M;return b}},7507:function(a,o){"use strict";o.byteLength=m,o.toByteArray=A,o.fromByteArray=_;for(var i=[],s=[],f=typeof Uint8Array!="undefined"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)i[u]=l[u],s[l.charCodeAt(u)]=u;s[45]=62,s[95]=63;function v(M){var b=M.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=M.indexOf("=");E===-1&&(E=b);var d=E===b?0:4-E%4;return[E,d]}function m(M){var b=v(M),E=b[0],d=b[1];return(E+d)*3/4-d}function x(M,b,E){return(b+E)*3/4-E}function A(M){var b,E=v(M),d=E[0],T=E[1],g=new f(x(M,d,T)),h=0,S=T>0?d-4:d,p;for(p=0;p<S;p+=4)b=s[M.charCodeAt(p)]<<18|s[M.charCodeAt(p+1)]<<12|s[M.charCodeAt(p+2)]<<6|s[M.charCodeAt(p+3)],g[h++]=b>>16&255,g[h++]=b>>8&255,g[h++]=b&255;return T===2&&(b=s[M.charCodeAt(p)]<<2|s[M.charCodeAt(p+1)]>>4,g[h++]=b&255),T===1&&(b=s[M.charCodeAt(p)]<<10|s[M.charCodeAt(p+1)]<<4|s[M.charCodeAt(p+2)]>>2,g[h++]=b>>8&255,g[h++]=b&255),g}function w(M){return i[M>>18&63]+i[M>>12&63]+i[M>>6&63]+i[M&63]}function y(M,b,E){for(var d,T=[],g=b;g<E;g+=3)d=(M[g]<<16&16711680)+(M[g+1]<<8&65280)+(M[g+2]&255),T.push(w(d));return T.join("")}function _(M){for(var b,E=M.length,d=E%3,T=[],g=16383,h=0,S=E-d;h<S;h+=g)T.push(y(M,h,h+g>S?S:h+g));return d===1?(b=M[E-1],T.push(i[b>>2]+i[b<<4&63]+"==")):d===2&&(b=(M[E-2]<<8)+M[E-1],T.push(i[b>>10]+i[b>>4&63]+i[b<<2&63]+"=")),T.join("")}},3865:function(a,o,i){"use strict";var s=i(869);a.exports=f;function f(l,u){return s(l[0].mul(u[1]).add(u[0].mul(l[1])),l[1].mul(u[1]))}},1318:function(a){"use strict";a.exports=o;function o(i,s){return i[0].mul(s[1]).cmp(s[0].mul(i[1]))}},8697:function(a,o,i){"use strict";var s=i(869);a.exports=f;function f(l,u){return s(l[0].mul(u[1]),l[1].mul(u[0]))}},7842:function(a,o,i){"use strict";var s=i(6330),f=i(1533),l=i(2651),u=i(4387),c=i(869),v=i(8697);a.exports=m;function m(x,A){if(s(x))return A?v(x,m(A)):[x[0].clone(),x[1].clone()];var w=0,y,_;if(f(x))y=x.clone();else if(typeof x=="string")y=u(x);else{if(x===0)return[l(0),l(1)];if(x===Math.floor(x))y=l(x);else{for(;x!==Math.floor(x);)x=x*Math.pow(2,256),w-=256;y=l(x)}}if(s(A))y.mul(A[1]),_=A[0].clone();else if(f(A))_=A.clone();else if(typeof A=="string")_=u(A);else if(!A)_=l(1);else if(A===Math.floor(A))_=l(A);else{for(;A!==Math.floor(A);)A=A*Math.pow(2,256),w+=256;_=l(A)}return w>0?y=y.ushln(w):w<0&&(_=_.ushln(-w)),c(y,_)}},6330:function(a,o,i){"use strict";var s=i(1533);a.exports=f;function f(l){return Array.isArray(l)&&l.length===2&&s(l[0])&&s(l[1])}},5716:function(a,o,i){"use strict";var s=i(6859);a.exports=f;function f(l){return l.cmp(new s(0))}},1369:function(a,o,i){"use strict";var s=i(5716);a.exports=f;function f(l){var u=l.length,c=l.words,v=0;if(u===1)v=c[0];else if(u===2)v=c[0]+c[1]*67108864;else for(var m=0;m<u;m++){var x=c[m];v+=x*Math.pow(67108864,m)}return s(l)*v}},4025:function(a,o,i){"use strict";var s=i(2361),f=i(8828).countTrailingZeros;a.exports=l;function l(u){var c=f(s.lo(u));if(c<32)return c;var v=f(s.hi(u));return v>20?52:v+32}},1533:function(a,o,i){"use strict";var s=i(6859);a.exports=f;function f(l){return l&&typeof l=="object"&&!!l.words}},2651:function(a,o,i){"use strict";var s=i(6859),f=i(2361);a.exports=l;function l(u){var c=f.exponent(u);return c<52?new s(u):new s(u*Math.pow(2,52-c)).ushln(c-52)}},869:function(a,o,i){"use strict";var s=i(2651),f=i(5716);a.exports=l;function l(u,c){var v=f(u),m=f(c);if(v===0)return[s(0),s(1)];if(m===0)return[s(0),s(0)];m<0&&(u=u.neg(),c=c.neg());var x=u.gcd(c);return x.cmpn(1)?[u.div(x),c.div(x)]:[u,c]}},4387:function(a,o,i){"use strict";var s=i(6859);a.exports=f;function f(l){return new s(l)}},6504:function(a,o,i){"use strict";var s=i(869);a.exports=f;function f(l,u){return s(l[0].mul(u[0]),l[1].mul(u[1]))}},7721:function(a,o,i){"use strict";var s=i(5716);a.exports=f;function f(l){return s(l[0])*s(l[1])}},5572:function(a,o,i){"use strict";var s=i(869);a.exports=f;function f(l,u){return s(l[0].mul(u[1]).sub(l[1].mul(u[0])),l[1].mul(u[1]))}},946:function(a,o,i){"use strict";var s=i(1369),f=i(4025);a.exports=l;function l(u){var c=u[0],v=u[1];if(c.cmpn(0)===0)return 0;var m=c.abs().divmod(v.abs()),x=m.div,A=s(x),w=m.mod,y=c.negative!==v.negative?-1:1;if(w.cmpn(0)===0)return y*A;if(A){var _=f(A)+4,M=s(w.ushln(_).divRound(v));return y*(A+M*Math.pow(2,-_))}else{var b=v.bitLength()-w.bitLength()+53,M=s(w.ushln(b).divRound(v));return b<1023?y*M*Math.pow(2,-b):(M*=Math.pow(2,-1023),y*M*Math.pow(2,1023-b))}}},2478:function(a){"use strict";function o(c,v,m,x,A){for(var w=A+1;x<=A;){var y=x+A>>>1,_=c[y],M=m!==void 0?m(_,v):_-v;M>=0?(w=y,A=y-1):x=y+1}return w}function i(c,v,m,x,A){for(var w=A+1;x<=A;){var y=x+A>>>1,_=c[y],M=m!==void 0?m(_,v):_-v;M>0?(w=y,A=y-1):x=y+1}return w}function s(c,v,m,x,A){for(var w=x-1;x<=A;){var y=x+A>>>1,_=c[y],M=m!==void 0?m(_,v):_-v;M<0?(w=y,x=y+1):A=y-1}return w}function f(c,v,m,x,A){for(var w=x-1;x<=A;){var y=x+A>>>1,_=c[y],M=m!==void 0?m(_,v):_-v;M<=0?(w=y,x=y+1):A=y-1}return w}function l(c,v,m,x,A){for(;x<=A;){var w=x+A>>>1,y=c[w],_=m!==void 0?m(y,v):y-v;if(_===0)return w;_<=0?x=w+1:A=w-1}return-1}function u(c,v,m,x,A,w){return typeof m=="function"?w(c,v,m,x===void 0?0:x|0,A===void 0?c.length-1:A|0):w(c,v,void 0,m===void 0?0:m|0,x===void 0?c.length-1:x|0)}a.exports={ge:function(c,v,m,x,A){return u(c,v,m,x,A,o)},gt:function(c,v,m,x,A){return u(c,v,m,x,A,i)},lt:function(c,v,m,x,A){return u(c,v,m,x,A,s)},le:function(c,v,m,x,A){return u(c,v,m,x,A,f)},eq:function(c,v,m,x,A){return u(c,v,m,x,A,l)}}},8828:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(l){return(l>0)-(l<0)},o.abs=function(l){var u=l>>i-1;return(l^u)-u},o.min=function(l,u){return u^(l^u)&-(l<u)},o.max=function(l,u){return l^(l^u)&-(l<u)},o.isPow2=function(l){return!(l&l-1)&&!!l},o.log2=function(l){var u,c;return u=(l>65535)<<4,l>>>=u,c=(l>255)<<3,l>>>=c,u|=c,c=(l>15)<<2,l>>>=c,u|=c,c=(l>3)<<1,l>>>=c,u|=c,u|l>>1},o.log10=function(l){return l>=1e9?9:l>=1e8?8:l>=1e7?7:l>=1e6?6:l>=1e5?5:l>=1e4?4:l>=1e3?3:l>=100?2:l>=10?1:0},o.popCount=function(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),(l+(l>>>4)&252645135)*16843009>>>24};function s(l){var u=32;return l&=-l,l&&u--,l&65535&&(u-=16),l&16711935&&(u-=8),l&252645135&&(u-=4),l&858993459&&(u-=2),l&1431655765&&(u-=1),u}o.countTrailingZeros=s,o.nextPow2=function(l){return l+=l===0,--l,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l+1},o.prevPow2=function(l){return l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l-(l>>>1)},o.parity=function(l){return l^=l>>>16,l^=l>>>8,l^=l>>>4,l&=15,27030>>>l&1};var f=new Array(256);(function(l){for(var u=0;u<256;++u){var c=u,v=u,m=7;for(c>>>=1;c;c>>>=1)v<<=1,v|=c&1,--m;l[u]=v<<m&255}})(f),o.reverse=function(l){return f[l&255]<<24|f[l>>>8&255]<<16|f[l>>>16&255]<<8|f[l>>>24&255]},o.interleave2=function(l,u){return l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,l|u<<1},o.deinterleave2=function(l,u){return l=l>>>u&1431655765,l=(l|l>>>1)&858993459,l=(l|l>>>2)&252645135,l=(l|l>>>4)&16711935,l=(l|l>>>16)&65535,l<<16>>16},o.interleave3=function(l,u,c){return l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,l|=u<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,l|c<<2},o.deinterleave3=function(l,u){return l=l>>>u&1227133513,l=(l|l>>>2)&3272356035,l=(l|l>>>4)&251719695,l=(l|l>>>8)&4278190335,l=(l|l>>>16)&1023,l<<22>>22},o.nextCombination=function(l){var u=l|l-1;return u+1|(~u&-~u)-1>>>s(l)+1}},6859:function(a,o,i){a=i.nmd(a),function(s,f){"use strict";function l(F,L){if(!F)throw new Error(L||"Assertion failed")}function u(F,L){F.super_=L;var I=function(){};I.prototype=L.prototype,F.prototype=new I,F.prototype.constructor=F}function c(F,L,I){if(c.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((L==="le"||L==="be")&&(I=L,L=10),this._init(F||0,L||10,I||"be"))}typeof s=="object"?s.exports=c:f.BN=c,c.BN=c,c.wordSize=26;var v;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?v=window.Buffer:v=i(7790).Buffer}catch(F){}c.isBN=function(L){return L instanceof c?!0:L!==null&&typeof L=="object"&&L.constructor.wordSize===c.wordSize&&Array.isArray(L.words)},c.max=function(L,I){return L.cmp(I)>0?L:I},c.min=function(L,I){return L.cmp(I)<0?L:I},c.prototype._init=function(L,I,q){if(typeof L=="number")return this._initNumber(L,I,q);if(typeof L=="object")return this._initArray(L,I,q);I==="hex"&&(I=16),l(I===(I|0)&&I>=2&&I<=36),L=L.toString().replace(/\s+/g,"");var z=0;L[0]==="-"&&(z++,this.negative=1),z<L.length&&(I===16?this._parseHex(L,z,q):(this._parseBase(L,I,z),q==="le"&&this._initArray(this.toArray(),I,q)))},c.prototype._initNumber=function(L,I,q){L<0&&(this.negative=1,L=-L),L<67108864?(this.words=[L&67108863],this.length=1):L<4503599627370496?(this.words=[L&67108863,L/67108864&67108863],this.length=2):(l(L<9007199254740992),this.words=[L&67108863,L/67108864&67108863,1],this.length=3),q==="le"&&this._initArray(this.toArray(),I,q)},c.prototype._initArray=function(L,I,q){if(l(typeof L.length=="number"),L.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(L.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var W,$,j=0;if(q==="be")for(z=L.length-1,W=0;z>=0;z-=3)$=L[z]|L[z-1]<<8|L[z-2]<<16,this.words[W]|=$<<j&67108863,this.words[W+1]=$>>>26-j&67108863,j+=24,j>=26&&(j-=26,W++);else if(q==="le")for(z=0,W=0;z<L.length;z+=3)$=L[z]|L[z+1]<<8|L[z+2]<<16,this.words[W]|=$<<j&67108863,this.words[W+1]=$>>>26-j&67108863,j+=24,j>=26&&(j-=26,W++);return this.strip()};function m(F,L){var I=F.charCodeAt(L);return I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:I-48&15}function x(F,L,I){var q=m(F,I);return I-1>=L&&(q|=m(F,I-1)<<4),q}c.prototype._parseHex=function(L,I,q){this.length=Math.ceil((L.length-I)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var W=0,$=0,j;if(q==="be")for(z=L.length-1;z>=I;z-=2)j=x(L,I,z)<<W,this.words[$]|=j&67108863,W>=18?(W-=18,$+=1,this.words[$]|=j>>>26):W+=8;else{var G=L.length-I;for(z=G%2===0?I+1:I;z<L.length;z+=2)j=x(L,I,z)<<W,this.words[$]|=j&67108863,W>=18?(W-=18,$+=1,this.words[$]|=j>>>26):W+=8}this.strip()};function A(F,L,I,q){for(var z=0,W=Math.min(F.length,I),$=L;$<W;$++){var j=F.charCodeAt($)-48;z*=q,j>=49?z+=j-49+10:j>=17?z+=j-17+10:z+=j}return z}c.prototype._parseBase=function(L,I,q){this.words=[0],this.length=1;for(var z=0,W=1;W<=67108863;W*=I)z++;z--,W=W/I|0;for(var $=L.length-q,j=$%z,G=Math.min($,$-j)+q,B=0,X=q;X<G;X+=z)B=A(L,X,X+z,I),this.imuln(W),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(j!==0){var te=1;for(B=A(L,X,L.length,I),X=0;X<j;X++)te*=I;this.imuln(te),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this.strip()},c.prototype.copy=function(L){L.words=new Array(this.length);for(var I=0;I<this.length;I++)L.words[I]=this.words[I];L.length=this.length,L.negative=this.negative,L.red=this.red},c.prototype.clone=function(){var L=new c(null);return this.copy(L),L},c.prototype._expand=function(L){for(;this.length<L;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(L,I){L=L||10,I=I|0||1;var q;if(L===16||L==="hex"){q="";for(var z=0,W=0,$=0;$<this.length;$++){var j=this.words[$],G=((j<<z|W)&16777215).toString(16);W=j>>>24-z&16777215,W!==0||$!==this.length-1?q=w[6-G.length]+G+q:q=G+q,z+=2,z>=26&&(z-=26,$--)}for(W!==0&&(q=W.toString(16)+q);q.length%I!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}if(L===(L|0)&&L>=2&&L<=36){var B=y[L],X=_[L];q="";var te=this.clone();for(te.negative=0;!te.isZero();){var J=te.modn(X).toString(L);te=te.idivn(X),te.isZero()?q=J+q:q=w[B-J.length]+J+q}for(this.isZero()&&(q="0"+q);q.length%I!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}l(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var L=this.words[0];return this.length===2?L+=this.words[1]*67108864:this.length===3&&this.words[2]===1?L+=4503599627370496+this.words[1]*67108864:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-L:L},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(L,I){return l(typeof v!="undefined"),this.toArrayLike(v,L,I)},c.prototype.toArray=function(L,I){return this.toArrayLike(Array,L,I)},c.prototype.toArrayLike=function(L,I,q){var z=this.byteLength(),W=q||Math.max(1,z);l(z<=W,"byte array longer than desired length"),l(W>0,"Requested array length <= 0"),this.strip();var $=I==="le",j=new L(W),G,B,X=this.clone();if($){for(B=0;!X.isZero();B++)G=X.andln(255),X.iushrn(8),j[B]=G;for(;B<W;B++)j[B]=0}else{for(B=0;B<W-z;B++)j[B]=0;for(B=0;!X.isZero();B++)G=X.andln(255),X.iushrn(8),j[W-B-1]=G}return j},Math.clz32?c.prototype._countBits=function(L){return 32-Math.clz32(L)}:c.prototype._countBits=function(L){var I=L,q=0;return I>=4096&&(q+=13,I>>>=13),I>=64&&(q+=7,I>>>=7),I>=8&&(q+=4,I>>>=4),I>=2&&(q+=2,I>>>=2),q+I},c.prototype._zeroBits=function(L){if(L===0)return 26;var I=L,q=0;return I&8191||(q+=13,I>>>=13),I&127||(q+=7,I>>>=7),I&15||(q+=4,I>>>=4),I&3||(q+=2,I>>>=2),I&1||q++,q},c.prototype.bitLength=function(){var L=this.words[this.length-1],I=this._countBits(L);return(this.length-1)*26+I};function M(F){for(var L=new Array(F.bitLength()),I=0;I<L.length;I++){var q=I/26|0,z=I%26;L[I]=(F.words[q]&1<<z)>>>z}return L}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var L=0,I=0;I<this.length;I++){var q=this._zeroBits(this.words[I]);if(L+=q,q!==26)break}return L},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(L){return this.negative!==0?this.abs().inotn(L).iaddn(1):this.clone()},c.prototype.fromTwos=function(L){return this.testn(L-1)?this.notn(L).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(L){for(;this.length<L.length;)this.words[this.length++]=0;for(var I=0;I<L.length;I++)this.words[I]=this.words[I]|L.words[I];return this.strip()},c.prototype.ior=function(L){return l((this.negative|L.negative)===0),this.iuor(L)},c.prototype.or=function(L){return this.length>L.length?this.clone().ior(L):L.clone().ior(this)},c.prototype.uor=function(L){return this.length>L.length?this.clone().iuor(L):L.clone().iuor(this)},c.prototype.iuand=function(L){var I;this.length>L.length?I=L:I=this;for(var q=0;q<I.length;q++)this.words[q]=this.words[q]&L.words[q];return this.length=I.length,this.strip()},c.prototype.iand=function(L){return l((this.negative|L.negative)===0),this.iuand(L)},c.prototype.and=function(L){return this.length>L.length?this.clone().iand(L):L.clone().iand(this)},c.prototype.uand=function(L){return this.length>L.length?this.clone().iuand(L):L.clone().iuand(this)},c.prototype.iuxor=function(L){var I,q;this.length>L.length?(I=this,q=L):(I=L,q=this);for(var z=0;z<q.length;z++)this.words[z]=I.words[z]^q.words[z];if(this!==I)for(;z<I.length;z++)this.words[z]=I.words[z];return this.length=I.length,this.strip()},c.prototype.ixor=function(L){return l((this.negative|L.negative)===0),this.iuxor(L)},c.prototype.xor=function(L){return this.length>L.length?this.clone().ixor(L):L.clone().ixor(this)},c.prototype.uxor=function(L){return this.length>L.length?this.clone().iuxor(L):L.clone().iuxor(this)},c.prototype.inotn=function(L){l(typeof L=="number"&&L>=0);var I=Math.ceil(L/26)|0,q=L%26;this._expand(I),q>0&&I--;for(var z=0;z<I;z++)this.words[z]=~this.words[z]&67108863;return q>0&&(this.words[z]=~this.words[z]&67108863>>26-q),this.strip()},c.prototype.notn=function(L){return this.clone().inotn(L)},c.prototype.setn=function(L,I){l(typeof L=="number"&&L>=0);var q=L/26|0,z=L%26;return this._expand(q+1),I?this.words[q]=this.words[q]|1<<z:this.words[q]=this.words[q]&~(1<<z),this.strip()},c.prototype.iadd=function(L){var I;if(this.negative!==0&&L.negative===0)return this.negative=0,I=this.isub(L),this.negative^=1,this._normSign();if(this.negative===0&&L.negative!==0)return L.negative=0,I=this.isub(L),L.negative=1,I._normSign();var q,z;this.length>L.length?(q=this,z=L):(q=L,z=this);for(var W=0,$=0;$<z.length;$++)I=(q.words[$]|0)+(z.words[$]|0)+W,this.words[$]=I&67108863,W=I>>>26;for(;W!==0&&$<q.length;$++)I=(q.words[$]|0)+W,this.words[$]=I&67108863,W=I>>>26;if(this.length=q.length,W!==0)this.words[this.length]=W,this.length++;else if(q!==this)for(;$<q.length;$++)this.words[$]=q.words[$];return this},c.prototype.add=function(L){var I;return L.negative!==0&&this.negative===0?(L.negative=0,I=this.sub(L),L.negative^=1,I):L.negative===0&&this.negative!==0?(this.negative=0,I=L.sub(this),this.negative=1,I):this.length>L.length?this.clone().iadd(L):L.clone().iadd(this)},c.prototype.isub=function(L){if(L.negative!==0){L.negative=0;var I=this.iadd(L);return L.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(L),this.negative=1,this._normSign();var q=this.cmp(L);if(q===0)return this.negative=0,this.length=1,this.words[0]=0,this;var z,W;q>0?(z=this,W=L):(z=L,W=this);for(var $=0,j=0;j<W.length;j++)I=(z.words[j]|0)-(W.words[j]|0)+$,$=I>>26,this.words[j]=I&67108863;for(;$!==0&&j<z.length;j++)I=(z.words[j]|0)+$,$=I>>26,this.words[j]=I&67108863;if($===0&&j<z.length&&z!==this)for(;j<z.length;j++)this.words[j]=z.words[j];return this.length=Math.max(this.length,j),z!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(L){return this.clone().isub(L)};function b(F,L,I){I.negative=L.negative^F.negative;var q=F.length+L.length|0;I.length=q,q=q-1|0;var z=F.words[0]|0,W=L.words[0]|0,$=z*W,j=$&67108863,G=$/67108864|0;I.words[0]=j;for(var B=1;B<q;B++){for(var X=G>>>26,te=G&67108863,J=Math.min(B,L.length-1),ae=Math.max(0,B-F.length+1);ae<=J;ae++){var ee=B-ae|0;z=F.words[ee]|0,W=L.words[ae]|0,$=z*W+te,X+=$/67108864|0,te=$&67108863}I.words[B]=te|0,G=X|0}return G!==0?I.words[B]=G|0:I.length--,I.strip()}var E=function(L,I,q){var z=L.words,W=I.words,$=q.words,j=0,G,B,X,te=z[0]|0,J=te&8191,ae=te>>>13,ee=z[1]|0,H=ee&8191,re=ee>>>13,V=z[2]|0,ne=V&8191,le=V>>>13,de=z[3]|0,_e=de&8191,me=de>>>13,ve=z[4]|0,be=ve&8191,we=ve>>>13,Se=z[5]|0,Ae=Se&8191,Ie=Se>>>13,Ve=z[6]|0,pe=Ve&8191,xe=Ve>>>13,Te=z[7]|0,qe=Te&8191,er=Te>>>13,ze=z[8]|0,Ce=ze&8191,Le=ze>>>13,Ne=z[9]|0,tr=Ne&8191,ir=Ne>>>13,mr=W[0]|0,Tr=mr&8191,pr=mr>>>13,nr=W[1]|0,Me=nr&8191,Fe=nr>>>13,ur=W[2]|0,je=ur&8191,Er=ur>>>13,ue=W[3]|0,Q=ue&8191,oe=ue>>>13,Ee=W[4]|0,Xe=Ee&8191,ar=Ee>>>13,yr=W[5]|0,Kr=yr&8191,mt=yr>>>13,Ft=W[6]|0,wt=Ft&8191,bt=Ft>>>13,Ln=W[7]|0,tn=Ln&8191,it=Ln>>>13,Mn=W[8]|0,Lt=Mn&8191,$t=Mn>>>13,Un=W[9]|0,Gt=Un&8191,Yt=Un>>>13;q.negative=L.negative^I.negative,q.length=19,G=Math.imul(J,Tr),B=Math.imul(J,pr),B=B+Math.imul(ae,Tr)|0,X=Math.imul(ae,pr);var Gn=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,G=Math.imul(H,Tr),B=Math.imul(H,pr),B=B+Math.imul(re,Tr)|0,X=Math.imul(re,pr),G=G+Math.imul(J,Me)|0,B=B+Math.imul(J,Fe)|0,B=B+Math.imul(ae,Me)|0,X=X+Math.imul(ae,Fe)|0;var Vn=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,G=Math.imul(ne,Tr),B=Math.imul(ne,pr),B=B+Math.imul(le,Tr)|0,X=Math.imul(le,pr),G=G+Math.imul(H,Me)|0,B=B+Math.imul(H,Fe)|0,B=B+Math.imul(re,Me)|0,X=X+Math.imul(re,Fe)|0,G=G+Math.imul(J,je)|0,B=B+Math.imul(J,Er)|0,B=B+Math.imul(ae,je)|0,X=X+Math.imul(ae,Er)|0;var Va=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Va>>>26)|0,Va&=67108863,G=Math.imul(_e,Tr),B=Math.imul(_e,pr),B=B+Math.imul(me,Tr)|0,X=Math.imul(me,pr),G=G+Math.imul(ne,Me)|0,B=B+Math.imul(ne,Fe)|0,B=B+Math.imul(le,Me)|0,X=X+Math.imul(le,Fe)|0,G=G+Math.imul(H,je)|0,B=B+Math.imul(H,Er)|0,B=B+Math.imul(re,je)|0,X=X+Math.imul(re,Er)|0,G=G+Math.imul(J,Q)|0,B=B+Math.imul(J,oe)|0,B=B+Math.imul(ae,Q)|0,X=X+Math.imul(ae,oe)|0;var va=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(va>>>26)|0,va&=67108863,G=Math.imul(be,Tr),B=Math.imul(be,pr),B=B+Math.imul(we,Tr)|0,X=Math.imul(we,pr),G=G+Math.imul(_e,Me)|0,B=B+Math.imul(_e,Fe)|0,B=B+Math.imul(me,Me)|0,X=X+Math.imul(me,Fe)|0,G=G+Math.imul(ne,je)|0,B=B+Math.imul(ne,Er)|0,B=B+Math.imul(le,je)|0,X=X+Math.imul(le,Er)|0,G=G+Math.imul(H,Q)|0,B=B+Math.imul(H,oe)|0,B=B+Math.imul(re,Q)|0,X=X+Math.imul(re,oe)|0,G=G+Math.imul(J,Xe)|0,B=B+Math.imul(J,ar)|0,B=B+Math.imul(ae,Xe)|0,X=X+Math.imul(ae,ar)|0;var Qn=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,G=Math.imul(Ae,Tr),B=Math.imul(Ae,pr),B=B+Math.imul(Ie,Tr)|0,X=Math.imul(Ie,pr),G=G+Math.imul(be,Me)|0,B=B+Math.imul(be,Fe)|0,B=B+Math.imul(we,Me)|0,X=X+Math.imul(we,Fe)|0,G=G+Math.imul(_e,je)|0,B=B+Math.imul(_e,Er)|0,B=B+Math.imul(me,je)|0,X=X+Math.imul(me,Er)|0,G=G+Math.imul(ne,Q)|0,B=B+Math.imul(ne,oe)|0,B=B+Math.imul(le,Q)|0,X=X+Math.imul(le,oe)|0,G=G+Math.imul(H,Xe)|0,B=B+Math.imul(H,ar)|0,B=B+Math.imul(re,Xe)|0,X=X+Math.imul(re,ar)|0,G=G+Math.imul(J,Kr)|0,B=B+Math.imul(J,mt)|0,B=B+Math.imul(ae,Kr)|0,X=X+Math.imul(ae,mt)|0;var xn=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(xn>>>26)|0,xn&=67108863,G=Math.imul(pe,Tr),B=Math.imul(pe,pr),B=B+Math.imul(xe,Tr)|0,X=Math.imul(xe,pr),G=G+Math.imul(Ae,Me)|0,B=B+Math.imul(Ae,Fe)|0,B=B+Math.imul(Ie,Me)|0,X=X+Math.imul(Ie,Fe)|0,G=G+Math.imul(be,je)|0,B=B+Math.imul(be,Er)|0,B=B+Math.imul(we,je)|0,X=X+Math.imul(we,Er)|0,G=G+Math.imul(_e,Q)|0,B=B+Math.imul(_e,oe)|0,B=B+Math.imul(me,Q)|0,X=X+Math.imul(me,oe)|0,G=G+Math.imul(ne,Xe)|0,B=B+Math.imul(ne,ar)|0,B=B+Math.imul(le,Xe)|0,X=X+Math.imul(le,ar)|0,G=G+Math.imul(H,Kr)|0,B=B+Math.imul(H,mt)|0,B=B+Math.imul(re,Kr)|0,X=X+Math.imul(re,mt)|0,G=G+Math.imul(J,wt)|0,B=B+Math.imul(J,bt)|0,B=B+Math.imul(ae,wt)|0,X=X+Math.imul(ae,bt)|0;var la=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(la>>>26)|0,la&=67108863,G=Math.imul(qe,Tr),B=Math.imul(qe,pr),B=B+Math.imul(er,Tr)|0,X=Math.imul(er,pr),G=G+Math.imul(pe,Me)|0,B=B+Math.imul(pe,Fe)|0,B=B+Math.imul(xe,Me)|0,X=X+Math.imul(xe,Fe)|0,G=G+Math.imul(Ae,je)|0,B=B+Math.imul(Ae,Er)|0,B=B+Math.imul(Ie,je)|0,X=X+Math.imul(Ie,Er)|0,G=G+Math.imul(be,Q)|0,B=B+Math.imul(be,oe)|0,B=B+Math.imul(we,Q)|0,X=X+Math.imul(we,oe)|0,G=G+Math.imul(_e,Xe)|0,B=B+Math.imul(_e,ar)|0,B=B+Math.imul(me,Xe)|0,X=X+Math.imul(me,ar)|0,G=G+Math.imul(ne,Kr)|0,B=B+Math.imul(ne,mt)|0,B=B+Math.imul(le,Kr)|0,X=X+Math.imul(le,mt)|0,G=G+Math.imul(H,wt)|0,B=B+Math.imul(H,bt)|0,B=B+Math.imul(re,wt)|0,X=X+Math.imul(re,bt)|0,G=G+Math.imul(J,tn)|0,B=B+Math.imul(J,it)|0,B=B+Math.imul(ae,tn)|0,X=X+Math.imul(ae,it)|0;var Yi=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,G=Math.imul(Ce,Tr),B=Math.imul(Ce,pr),B=B+Math.imul(Le,Tr)|0,X=Math.imul(Le,pr),G=G+Math.imul(qe,Me)|0,B=B+Math.imul(qe,Fe)|0,B=B+Math.imul(er,Me)|0,X=X+Math.imul(er,Fe)|0,G=G+Math.imul(pe,je)|0,B=B+Math.imul(pe,Er)|0,B=B+Math.imul(xe,je)|0,X=X+Math.imul(xe,Er)|0,G=G+Math.imul(Ae,Q)|0,B=B+Math.imul(Ae,oe)|0,B=B+Math.imul(Ie,Q)|0,X=X+Math.imul(Ie,oe)|0,G=G+Math.imul(be,Xe)|0,B=B+Math.imul(be,ar)|0,B=B+Math.imul(we,Xe)|0,X=X+Math.imul(we,ar)|0,G=G+Math.imul(_e,Kr)|0,B=B+Math.imul(_e,mt)|0,B=B+Math.imul(me,Kr)|0,X=X+Math.imul(me,mt)|0,G=G+Math.imul(ne,wt)|0,B=B+Math.imul(ne,bt)|0,B=B+Math.imul(le,wt)|0,X=X+Math.imul(le,bt)|0,G=G+Math.imul(H,tn)|0,B=B+Math.imul(H,it)|0,B=B+Math.imul(re,tn)|0,X=X+Math.imul(re,it)|0,G=G+Math.imul(J,Lt)|0,B=B+Math.imul(J,$t)|0,B=B+Math.imul(ae,Lt)|0,X=X+Math.imul(ae,$t)|0;var Fi=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,G=Math.imul(tr,Tr),B=Math.imul(tr,pr),B=B+Math.imul(ir,Tr)|0,X=Math.imul(ir,pr),G=G+Math.imul(Ce,Me)|0,B=B+Math.imul(Ce,Fe)|0,B=B+Math.imul(Le,Me)|0,X=X+Math.imul(Le,Fe)|0,G=G+Math.imul(qe,je)|0,B=B+Math.imul(qe,Er)|0,B=B+Math.imul(er,je)|0,X=X+Math.imul(er,Er)|0,G=G+Math.imul(pe,Q)|0,B=B+Math.imul(pe,oe)|0,B=B+Math.imul(xe,Q)|0,X=X+Math.imul(xe,oe)|0,G=G+Math.imul(Ae,Xe)|0,B=B+Math.imul(Ae,ar)|0,B=B+Math.imul(Ie,Xe)|0,X=X+Math.imul(Ie,ar)|0,G=G+Math.imul(be,Kr)|0,B=B+Math.imul(be,mt)|0,B=B+Math.imul(we,Kr)|0,X=X+Math.imul(we,mt)|0,G=G+Math.imul(_e,wt)|0,B=B+Math.imul(_e,bt)|0,B=B+Math.imul(me,wt)|0,X=X+Math.imul(me,bt)|0,G=G+Math.imul(ne,tn)|0,B=B+Math.imul(ne,it)|0,B=B+Math.imul(le,tn)|0,X=X+Math.imul(le,it)|0,G=G+Math.imul(H,Lt)|0,B=B+Math.imul(H,$t)|0,B=B+Math.imul(re,Lt)|0,X=X+Math.imul(re,$t)|0,G=G+Math.imul(J,Gt)|0,B=B+Math.imul(J,Yt)|0,B=B+Math.imul(ae,Gt)|0,X=X+Math.imul(ae,Yt)|0;var gi=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(gi>>>26)|0,gi&=67108863,G=Math.imul(tr,Me),B=Math.imul(tr,Fe),B=B+Math.imul(ir,Me)|0,X=Math.imul(ir,Fe),G=G+Math.imul(Ce,je)|0,B=B+Math.imul(Ce,Er)|0,B=B+Math.imul(Le,je)|0,X=X+Math.imul(Le,Er)|0,G=G+Math.imul(qe,Q)|0,B=B+Math.imul(qe,oe)|0,B=B+Math.imul(er,Q)|0,X=X+Math.imul(er,oe)|0,G=G+Math.imul(pe,Xe)|0,B=B+Math.imul(pe,ar)|0,B=B+Math.imul(xe,Xe)|0,X=X+Math.imul(xe,ar)|0,G=G+Math.imul(Ae,Kr)|0,B=B+Math.imul(Ae,mt)|0,B=B+Math.imul(Ie,Kr)|0,X=X+Math.imul(Ie,mt)|0,G=G+Math.imul(be,wt)|0,B=B+Math.imul(be,bt)|0,B=B+Math.imul(we,wt)|0,X=X+Math.imul(we,bt)|0,G=G+Math.imul(_e,tn)|0,B=B+Math.imul(_e,it)|0,B=B+Math.imul(me,tn)|0,X=X+Math.imul(me,it)|0,G=G+Math.imul(ne,Lt)|0,B=B+Math.imul(ne,$t)|0,B=B+Math.imul(le,Lt)|0,X=X+Math.imul(le,$t)|0,G=G+Math.imul(H,Gt)|0,B=B+Math.imul(H,Yt)|0,B=B+Math.imul(re,Gt)|0,X=X+Math.imul(re,Yt)|0;var lo=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(lo>>>26)|0,lo&=67108863,G=Math.imul(tr,je),B=Math.imul(tr,Er),B=B+Math.imul(ir,je)|0,X=Math.imul(ir,Er),G=G+Math.imul(Ce,Q)|0,B=B+Math.imul(Ce,oe)|0,B=B+Math.imul(Le,Q)|0,X=X+Math.imul(Le,oe)|0,G=G+Math.imul(qe,Xe)|0,B=B+Math.imul(qe,ar)|0,B=B+Math.imul(er,Xe)|0,X=X+Math.imul(er,ar)|0,G=G+Math.imul(pe,Kr)|0,B=B+Math.imul(pe,mt)|0,B=B+Math.imul(xe,Kr)|0,X=X+Math.imul(xe,mt)|0,G=G+Math.imul(Ae,wt)|0,B=B+Math.imul(Ae,bt)|0,B=B+Math.imul(Ie,wt)|0,X=X+Math.imul(Ie,bt)|0,G=G+Math.imul(be,tn)|0,B=B+Math.imul(be,it)|0,B=B+Math.imul(we,tn)|0,X=X+Math.imul(we,it)|0,G=G+Math.imul(_e,Lt)|0,B=B+Math.imul(_e,$t)|0,B=B+Math.imul(me,Lt)|0,X=X+Math.imul(me,$t)|0,G=G+Math.imul(ne,Gt)|0,B=B+Math.imul(ne,Yt)|0,B=B+Math.imul(le,Gt)|0,X=X+Math.imul(le,Yt)|0;var Wi=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,G=Math.imul(tr,Q),B=Math.imul(tr,oe),B=B+Math.imul(ir,Q)|0,X=Math.imul(ir,oe),G=G+Math.imul(Ce,Xe)|0,B=B+Math.imul(Ce,ar)|0,B=B+Math.imul(Le,Xe)|0,X=X+Math.imul(Le,ar)|0,G=G+Math.imul(qe,Kr)|0,B=B+Math.imul(qe,mt)|0,B=B+Math.imul(er,Kr)|0,X=X+Math.imul(er,mt)|0,G=G+Math.imul(pe,wt)|0,B=B+Math.imul(pe,bt)|0,B=B+Math.imul(xe,wt)|0,X=X+Math.imul(xe,bt)|0,G=G+Math.imul(Ae,tn)|0,B=B+Math.imul(Ae,it)|0,B=B+Math.imul(Ie,tn)|0,X=X+Math.imul(Ie,it)|0,G=G+Math.imul(be,Lt)|0,B=B+Math.imul(be,$t)|0,B=B+Math.imul(we,Lt)|0,X=X+Math.imul(we,$t)|0,G=G+Math.imul(_e,Gt)|0,B=B+Math.imul(_e,Yt)|0,B=B+Math.imul(me,Gt)|0,X=X+Math.imul(me,Yt)|0;var Cs=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Cs>>>26)|0,Cs&=67108863,G=Math.imul(tr,Xe),B=Math.imul(tr,ar),B=B+Math.imul(ir,Xe)|0,X=Math.imul(ir,ar),G=G+Math.imul(Ce,Kr)|0,B=B+Math.imul(Ce,mt)|0,B=B+Math.imul(Le,Kr)|0,X=X+Math.imul(Le,mt)|0,G=G+Math.imul(qe,wt)|0,B=B+Math.imul(qe,bt)|0,B=B+Math.imul(er,wt)|0,X=X+Math.imul(er,bt)|0,G=G+Math.imul(pe,tn)|0,B=B+Math.imul(pe,it)|0,B=B+Math.imul(xe,tn)|0,X=X+Math.imul(xe,it)|0,G=G+Math.imul(Ae,Lt)|0,B=B+Math.imul(Ae,$t)|0,B=B+Math.imul(Ie,Lt)|0,X=X+Math.imul(Ie,$t)|0,G=G+Math.imul(be,Gt)|0,B=B+Math.imul(be,Yt)|0,B=B+Math.imul(we,Gt)|0,X=X+Math.imul(we,Yt)|0;var ks=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(ks>>>26)|0,ks&=67108863,G=Math.imul(tr,Kr),B=Math.imul(tr,mt),B=B+Math.imul(ir,Kr)|0,X=Math.imul(ir,mt),G=G+Math.imul(Ce,wt)|0,B=B+Math.imul(Ce,bt)|0,B=B+Math.imul(Le,wt)|0,X=X+Math.imul(Le,bt)|0,G=G+Math.imul(qe,tn)|0,B=B+Math.imul(qe,it)|0,B=B+Math.imul(er,tn)|0,X=X+Math.imul(er,it)|0,G=G+Math.imul(pe,Lt)|0,B=B+Math.imul(pe,$t)|0,B=B+Math.imul(xe,Lt)|0,X=X+Math.imul(xe,$t)|0,G=G+Math.imul(Ae,Gt)|0,B=B+Math.imul(Ae,Yt)|0,B=B+Math.imul(Ie,Gt)|0,X=X+Math.imul(Ie,Yt)|0;var Xi=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,G=Math.imul(tr,wt),B=Math.imul(tr,bt),B=B+Math.imul(ir,wt)|0,X=Math.imul(ir,bt),G=G+Math.imul(Ce,tn)|0,B=B+Math.imul(Ce,it)|0,B=B+Math.imul(Le,tn)|0,X=X+Math.imul(Le,it)|0,G=G+Math.imul(qe,Lt)|0,B=B+Math.imul(qe,$t)|0,B=B+Math.imul(er,Lt)|0,X=X+Math.imul(er,$t)|0,G=G+Math.imul(pe,Gt)|0,B=B+Math.imul(pe,Yt)|0,B=B+Math.imul(xe,Gt)|0,X=X+Math.imul(xe,Yt)|0;var Fa=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Fa>>>26)|0,Fa&=67108863,G=Math.imul(tr,tn),B=Math.imul(tr,it),B=B+Math.imul(ir,tn)|0,X=Math.imul(ir,it),G=G+Math.imul(Ce,Lt)|0,B=B+Math.imul(Ce,$t)|0,B=B+Math.imul(Le,Lt)|0,X=X+Math.imul(Le,$t)|0,G=G+Math.imul(qe,Gt)|0,B=B+Math.imul(qe,Yt)|0,B=B+Math.imul(er,Gt)|0,X=X+Math.imul(er,Yt)|0;var Zi=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,G=Math.imul(tr,Lt),B=Math.imul(tr,$t),B=B+Math.imul(ir,Lt)|0,X=Math.imul(ir,$t),G=G+Math.imul(Ce,Gt)|0,B=B+Math.imul(Ce,Yt)|0,B=B+Math.imul(Le,Gt)|0,X=X+Math.imul(Le,Yt)|0;var Io=(j+G|0)+((B&8191)<<13)|0;j=(X+(B>>>13)|0)+(Io>>>26)|0,Io&=67108863,G=Math.imul(tr,Gt),B=Math.imul(tr,Yt),B=B+Math.imul(ir,Gt)|0,X=Math.imul(ir,Yt);var Ti=(j+G|0)+((B&8191)<<13)|0;return j=(X+(B>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,$[0]=Gn,$[1]=Vn,$[2]=Va,$[3]=va,$[4]=Qn,$[5]=xn,$[6]=la,$[7]=Yi,$[8]=Fi,$[9]=gi,$[10]=lo,$[11]=Wi,$[12]=Cs,$[13]=ks,$[14]=Xi,$[15]=Fa,$[16]=Zi,$[17]=Io,$[18]=Ti,j!==0&&($[19]=j,q.length++),q};Math.imul||(E=b);function d(F,L,I){I.negative=L.negative^F.negative,I.length=F.length+L.length;for(var q=0,z=0,W=0;W<I.length-1;W++){var $=z;z=0;for(var j=q&67108863,G=Math.min(W,L.length-1),B=Math.max(0,W-F.length+1);B<=G;B++){var X=W-B,te=F.words[X]|0,J=L.words[B]|0,ae=te*J,ee=ae&67108863;$=$+(ae/67108864|0)|0,ee=ee+j|0,j=ee&67108863,$=$+(ee>>>26)|0,z+=$>>>26,$&=67108863}I.words[W]=j,q=$,$=z}return q!==0?I.words[W]=q:I.length--,I.strip()}function T(F,L,I){var q=new g;return q.mulp(F,L,I)}c.prototype.mulTo=function(L,I){var q,z=this.length+L.length;return this.length===10&&L.length===10?q=E(this,L,I):z<63?q=b(this,L,I):z<1024?q=d(this,L,I):q=T(this,L,I),q};function g(F,L){this.x=F,this.y=L}g.prototype.makeRBT=function(L){for(var I=new Array(L),q=c.prototype._countBits(L)-1,z=0;z<L;z++)I[z]=this.revBin(z,q,L);return I},g.prototype.revBin=function(L,I,q){if(L===0||L===q-1)return L;for(var z=0,W=0;W<I;W++)z|=(L&1)<<I-W-1,L>>=1;return z},g.prototype.permute=function(L,I,q,z,W,$){for(var j=0;j<$;j++)z[j]=I[L[j]],W[j]=q[L[j]]},g.prototype.transform=function(L,I,q,z,W,$){this.permute($,L,I,q,z,W);for(var j=1;j<W;j<<=1)for(var G=j<<1,B=Math.cos(2*Math.PI/G),X=Math.sin(2*Math.PI/G),te=0;te<W;te+=G)for(var J=B,ae=X,ee=0;ee<j;ee++){var H=q[te+ee],re=z[te+ee],V=q[te+ee+j],ne=z[te+ee+j],le=J*V-ae*ne;ne=J*ne+ae*V,V=le,q[te+ee]=H+V,z[te+ee]=re+ne,q[te+ee+j]=H-V,z[te+ee+j]=re-ne,ee!==G&&(le=B*J-X*ae,ae=B*ae+X*J,J=le)}},g.prototype.guessLen13b=function(L,I){var q=Math.max(I,L)|1,z=q&1,W=0;for(q=q/2|0;q;q=q>>>1)W++;return 1<<W+1+z},g.prototype.conjugate=function(L,I,q){if(!(q<=1))for(var z=0;z<q/2;z++){var W=L[z];L[z]=L[q-z-1],L[q-z-1]=W,W=I[z],I[z]=-I[q-z-1],I[q-z-1]=-W}},g.prototype.normalize13b=function(L,I){for(var q=0,z=0;z<I/2;z++){var W=Math.round(L[2*z+1]/I)*8192+Math.round(L[2*z]/I)+q;L[z]=W&67108863,W<67108864?q=0:q=W/67108864|0}return L},g.prototype.convert13b=function(L,I,q,z){for(var W=0,$=0;$<I;$++)W=W+(L[$]|0),q[2*$]=W&8191,W=W>>>13,q[2*$+1]=W&8191,W=W>>>13;for($=2*I;$<z;++$)q[$]=0;l(W===0),l((W&-8192)===0)},g.prototype.stub=function(L){for(var I=new Array(L),q=0;q<L;q++)I[q]=0;return I},g.prototype.mulp=function(L,I,q){var z=2*this.guessLen13b(L.length,I.length),W=this.makeRBT(z),$=this.stub(z),j=new Array(z),G=new Array(z),B=new Array(z),X=new Array(z),te=new Array(z),J=new Array(z),ae=q.words;ae.length=z,this.convert13b(L.words,L.length,j,z),this.convert13b(I.words,I.length,X,z),this.transform(j,$,G,B,z,W),this.transform(X,$,te,J,z,W);for(var ee=0;ee<z;ee++){var H=G[ee]*te[ee]-B[ee]*J[ee];B[ee]=G[ee]*J[ee]+B[ee]*te[ee],G[ee]=H}return this.conjugate(G,B,z),this.transform(G,B,ae,$,z,W),this.conjugate(ae,$,z),this.normalize13b(ae,z),q.negative=L.negative^I.negative,q.length=L.length+I.length,q.strip()},c.prototype.mul=function(L){var I=new c(null);return I.words=new Array(this.length+L.length),this.mulTo(L,I)},c.prototype.mulf=function(L){var I=new c(null);return I.words=new Array(this.length+L.length),T(this,L,I)},c.prototype.imul=function(L){return this.clone().mulTo(L,this)},c.prototype.imuln=function(L){l(typeof L=="number"),l(L<67108864);for(var I=0,q=0;q<this.length;q++){var z=(this.words[q]|0)*L,W=(z&67108863)+(I&67108863);I>>=26,I+=z/67108864|0,I+=W>>>26,this.words[q]=W&67108863}return I!==0&&(this.words[q]=I,this.length++),this},c.prototype.muln=function(L){return this.clone().imuln(L)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(L){var I=M(L);if(I.length===0)return new c(1);for(var q=this,z=0;z<I.length&&I[z]===0;z++,q=q.sqr());if(++z<I.length)for(var W=q.sqr();z<I.length;z++,W=W.sqr())I[z]!==0&&(q=q.mul(W));return q},c.prototype.iushln=function(L){l(typeof L=="number"&&L>=0);var I=L%26,q=(L-I)/26,z=67108863>>>26-I<<26-I,W;if(I!==0){var $=0;for(W=0;W<this.length;W++){var j=this.words[W]&z,G=(this.words[W]|0)-j<<I;this.words[W]=G|$,$=j>>>26-I}$&&(this.words[W]=$,this.length++)}if(q!==0){for(W=this.length-1;W>=0;W--)this.words[W+q]=this.words[W];for(W=0;W<q;W++)this.words[W]=0;this.length+=q}return this.strip()},c.prototype.ishln=function(L){return l(this.negative===0),this.iushln(L)},c.prototype.iushrn=function(L,I,q){l(typeof L=="number"&&L>=0);var z;I?z=(I-I%26)/26:z=0;var W=L%26,$=Math.min((L-W)/26,this.length),j=67108863^67108863>>>W<<W,G=q;if(z-=$,z=Math.max(0,z),G){for(var B=0;B<$;B++)G.words[B]=this.words[B];G.length=$}if($!==0)if(this.length>$)for(this.length-=$,B=0;B<this.length;B++)this.words[B]=this.words[B+$];else this.words[0]=0,this.length=1;var X=0;for(B=this.length-1;B>=0&&(X!==0||B>=z);B--){var te=this.words[B]|0;this.words[B]=X<<26-W|te>>>W,X=te&j}return G&&X!==0&&(G.words[G.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(L,I,q){return l(this.negative===0),this.iushrn(L,I,q)},c.prototype.shln=function(L){return this.clone().ishln(L)},c.prototype.ushln=function(L){return this.clone().iushln(L)},c.prototype.shrn=function(L){return this.clone().ishrn(L)},c.prototype.ushrn=function(L){return this.clone().iushrn(L)},c.prototype.testn=function(L){l(typeof L=="number"&&L>=0);var I=L%26,q=(L-I)/26,z=1<<I;if(this.length<=q)return!1;var W=this.words[q];return!!(W&z)},c.prototype.imaskn=function(L){l(typeof L=="number"&&L>=0);var I=L%26,q=(L-I)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=q)return this;if(I!==0&&q++,this.length=Math.min(q,this.length),I!==0){var z=67108863^67108863>>>I<<I;this.words[this.length-1]&=z}return this.strip()},c.prototype.maskn=function(L){return this.clone().imaskn(L)},c.prototype.iaddn=function(L){return l(typeof L=="number"),l(L<67108864),L<0?this.isubn(-L):this.negative!==0?this.length===1&&(this.words[0]|0)<L?(this.words[0]=L-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(L),this.negative=1,this):this._iaddn(L)},c.prototype._iaddn=function(L){this.words[0]+=L;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},c.prototype.isubn=function(L){if(l(typeof L=="number"),l(L<67108864),L<0)return this.iaddn(-L);if(this.negative!==0)return this.negative=0,this.iaddn(L),this.negative=1,this;if(this.words[0]-=L,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},c.prototype.addn=function(L){return this.clone().iaddn(L)},c.prototype.subn=function(L){return this.clone().isubn(L)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(L,I,q){var z=L.length+q,W;this._expand(z);var $,j=0;for(W=0;W<L.length;W++){$=(this.words[W+q]|0)+j;var G=(L.words[W]|0)*I;$-=G&67108863,j=($>>26)-(G/67108864|0),this.words[W+q]=$&67108863}for(;W<this.length-q;W++)$=(this.words[W+q]|0)+j,j=$>>26,this.words[W+q]=$&67108863;if(j===0)return this.strip();for(l(j===-1),j=0,W=0;W<this.length;W++)$=-(this.words[W]|0)+j,j=$>>26,this.words[W]=$&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(L,I){var q=this.length-L.length,z=this.clone(),W=L,$=W.words[W.length-1]|0,j=this._countBits($);q=26-j,q!==0&&(W=W.ushln(q),z.iushln(q),$=W.words[W.length-1]|0);var G=z.length-W.length,B;if(I!=="mod"){B=new c(null),B.length=G+1,B.words=new Array(B.length);for(var X=0;X<B.length;X++)B.words[X]=0}var te=z.clone()._ishlnsubmul(W,1,G);te.negative===0&&(z=te,B&&(B.words[G]=1));for(var J=G-1;J>=0;J--){var ae=(z.words[W.length+J]|0)*67108864+(z.words[W.length+J-1]|0);for(ae=Math.min(ae/$|0,67108863),z._ishlnsubmul(W,ae,J);z.negative!==0;)ae--,z.negative=0,z._ishlnsubmul(W,1,J),z.isZero()||(z.negative^=1);B&&(B.words[J]=ae)}return B&&B.strip(),z.strip(),I!=="div"&&q!==0&&z.iushrn(q),{div:B||null,mod:z}},c.prototype.divmod=function(L,I,q){if(l(!L.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var z,W,$;return this.negative!==0&&L.negative===0?($=this.neg().divmod(L,I),I!=="mod"&&(z=$.div.neg()),I!=="div"&&(W=$.mod.neg(),q&&W.negative!==0&&W.iadd(L)),{div:z,mod:W}):this.negative===0&&L.negative!==0?($=this.divmod(L.neg(),I),I!=="mod"&&(z=$.div.neg()),{div:z,mod:$.mod}):this.negative&L.negative?($=this.neg().divmod(L.neg(),I),I!=="div"&&(W=$.mod.neg(),q&&W.negative!==0&&W.isub(L)),{div:$.div,mod:W}):L.length>this.length||this.cmp(L)<0?{div:new c(0),mod:this}:L.length===1?I==="div"?{div:this.divn(L.words[0]),mod:null}:I==="mod"?{div:null,mod:new c(this.modn(L.words[0]))}:{div:this.divn(L.words[0]),mod:new c(this.modn(L.words[0]))}:this._wordDiv(L,I)},c.prototype.div=function(L){return this.divmod(L,"div",!1).div},c.prototype.mod=function(L){return this.divmod(L,"mod",!1).mod},c.prototype.umod=function(L){return this.divmod(L,"mod",!0).mod},c.prototype.divRound=function(L){var I=this.divmod(L);if(I.mod.isZero())return I.div;var q=I.div.negative!==0?I.mod.isub(L):I.mod,z=L.ushrn(1),W=L.andln(1),$=q.cmp(z);return $<0||W===1&&$===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},c.prototype.modn=function(L){l(L<=67108863);for(var I=(1<<26)%L,q=0,z=this.length-1;z>=0;z--)q=(I*q+(this.words[z]|0))%L;return q},c.prototype.idivn=function(L){l(L<=67108863);for(var I=0,q=this.length-1;q>=0;q--){var z=(this.words[q]|0)+I*67108864;this.words[q]=z/L|0,I=z%L}return this.strip()},c.prototype.divn=function(L){return this.clone().idivn(L)},c.prototype.egcd=function(L){l(L.negative===0),l(!L.isZero());var I=this,q=L.clone();I.negative!==0?I=I.umod(L):I=I.clone();for(var z=new c(1),W=new c(0),$=new c(0),j=new c(1),G=0;I.isEven()&&q.isEven();)I.iushrn(1),q.iushrn(1),++G;for(var B=q.clone(),X=I.clone();!I.isZero();){for(var te=0,J=1;!(I.words[0]&J)&&te<26;++te,J<<=1);if(te>0)for(I.iushrn(te);te-- >0;)(z.isOdd()||W.isOdd())&&(z.iadd(B),W.isub(X)),z.iushrn(1),W.iushrn(1);for(var ae=0,ee=1;!(q.words[0]&ee)&&ae<26;++ae,ee<<=1);if(ae>0)for(q.iushrn(ae);ae-- >0;)($.isOdd()||j.isOdd())&&($.iadd(B),j.isub(X)),$.iushrn(1),j.iushrn(1);I.cmp(q)>=0?(I.isub(q),z.isub($),W.isub(j)):(q.isub(I),$.isub(z),j.isub(W))}return{a:$,b:j,gcd:q.iushln(G)}},c.prototype._invmp=function(L){l(L.negative===0),l(!L.isZero());var I=this,q=L.clone();I.negative!==0?I=I.umod(L):I=I.clone();for(var z=new c(1),W=new c(0),$=q.clone();I.cmpn(1)>0&&q.cmpn(1)>0;){for(var j=0,G=1;!(I.words[0]&G)&&j<26;++j,G<<=1);if(j>0)for(I.iushrn(j);j-- >0;)z.isOdd()&&z.iadd($),z.iushrn(1);for(var B=0,X=1;!(q.words[0]&X)&&B<26;++B,X<<=1);if(B>0)for(q.iushrn(B);B-- >0;)W.isOdd()&&W.iadd($),W.iushrn(1);I.cmp(q)>=0?(I.isub(q),z.isub(W)):(q.isub(I),W.isub(z))}var te;return I.cmpn(1)===0?te=z:te=W,te.cmpn(0)<0&&te.iadd(L),te},c.prototype.gcd=function(L){if(this.isZero())return L.abs();if(L.isZero())return this.abs();var I=this.clone(),q=L.clone();I.negative=0,q.negative=0;for(var z=0;I.isEven()&&q.isEven();z++)I.iushrn(1),q.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;q.isEven();)q.iushrn(1);var W=I.cmp(q);if(W<0){var $=I;I=q,q=$}else if(W===0||q.cmpn(1)===0)break;I.isub(q)}while(!0);return q.iushln(z)},c.prototype.invm=function(L){return this.egcd(L).a.umod(L)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(L){return this.words[0]&L},c.prototype.bincn=function(L){l(typeof L=="number");var I=L%26,q=(L-I)/26,z=1<<I;if(this.length<=q)return this._expand(q+1),this.words[q]|=z,this;for(var W=z,$=q;W!==0&&$<this.length;$++){var j=this.words[$]|0;j+=W,W=j>>>26,j&=67108863,this.words[$]=j}return W!==0&&(this.words[$]=W,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(L){var I=L<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this.strip();var q;if(this.length>1)q=1;else{I&&(L=-L),l(L<=67108863,"Number is too big");var z=this.words[0]|0;q=z===L?0:z<L?-1:1}return this.negative!==0?-q|0:q},c.prototype.cmp=function(L){if(this.negative!==0&&L.negative===0)return-1;if(this.negative===0&&L.negative!==0)return 1;var I=this.ucmp(L);return this.negative!==0?-I|0:I},c.prototype.ucmp=function(L){if(this.length>L.length)return 1;if(this.length<L.length)return-1;for(var I=0,q=this.length-1;q>=0;q--){var z=this.words[q]|0,W=L.words[q]|0;if(z!==W){z<W?I=-1:z>W&&(I=1);break}}return I},c.prototype.gtn=function(L){return this.cmpn(L)===1},c.prototype.gt=function(L){return this.cmp(L)===1},c.prototype.gten=function(L){return this.cmpn(L)>=0},c.prototype.gte=function(L){return this.cmp(L)>=0},c.prototype.ltn=function(L){return this.cmpn(L)===-1},c.prototype.lt=function(L){return this.cmp(L)===-1},c.prototype.lten=function(L){return this.cmpn(L)<=0},c.prototype.lte=function(L){return this.cmp(L)<=0},c.prototype.eqn=function(L){return this.cmpn(L)===0},c.prototype.eq=function(L){return this.cmp(L)===0},c.red=function(L){return new P(L)},c.prototype.toRed=function(L){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),L.convertTo(this)._forceRed(L)},c.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(L){return this.red=L,this},c.prototype.forceRed=function(L){return l(!this.red,"Already a number in reduction context"),this._forceRed(L)},c.prototype.redAdd=function(L){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,L)},c.prototype.redIAdd=function(L){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,L)},c.prototype.redSub=function(L){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,L)},c.prototype.redISub=function(L){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,L)},c.prototype.redShl=function(L){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,L)},c.prototype.redMul=function(L){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.mul(this,L)},c.prototype.redIMul=function(L){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.imul(this,L)},c.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(L){return l(this.red&&!L.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,L)};var h={k256:null,p224:null,p192:null,p25519:null};function S(F,L){this.name=F,this.p=new c(L,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}S.prototype._tmp=function(){var L=new c(null);return L.words=new Array(Math.ceil(this.n/13)),L},S.prototype.ireduce=function(L){var I=L,q;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),q=I.bitLength();while(q>this.n);var z=q<this.n?-1:I.ucmp(this.p);return z===0?(I.words[0]=0,I.length=1):z>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},S.prototype.split=function(L,I){L.iushrn(this.n,0,I)},S.prototype.imulK=function(L){return L.imul(this.k)};function p(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(p,S),p.prototype.split=function(L,I){for(var q=4194303,z=Math.min(L.length,9),W=0;W<z;W++)I.words[W]=L.words[W];if(I.length=z,L.length<=9){L.words[0]=0,L.length=1;return}var $=L.words[9];for(I.words[I.length++]=$&q,W=10;W<L.length;W++){var j=L.words[W]|0;L.words[W-10]=(j&q)<<4|$>>>22,$=j}$>>>=22,L.words[W-10]=$,$===0&&L.length>10?L.length-=10:L.length-=9},p.prototype.imulK=function(L){L.words[L.length]=0,L.words[L.length+1]=0,L.length+=2;for(var I=0,q=0;q<L.length;q++){var z=L.words[q]|0;I+=z*977,L.words[q]=I&67108863,I=z*64+(I/67108864|0)}return L.words[L.length-1]===0&&(L.length--,L.words[L.length-1]===0&&L.length--),L};function C(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(C,S);function k(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(k,S);function D(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(D,S),D.prototype.imulK=function(L){for(var I=0,q=0;q<L.length;q++){var z=(L.words[q]|0)*19+I,W=z&67108863;z>>>=26,L.words[q]=W,I=z}return I!==0&&(L.words[L.length++]=I),L},c._prime=function(L){if(h[L])return h[L];var I;if(L==="k256")I=new p;else if(L==="p224")I=new C;else if(L==="p192")I=new k;else if(L==="p25519")I=new D;else throw new Error("Unknown prime "+L);return h[L]=I,I};function P(F){if(typeof F=="string"){var L=c._prime(F);this.m=L.p,this.prime=L}else l(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}P.prototype._verify1=function(L){l(L.negative===0,"red works only with positives"),l(L.red,"red works only with red numbers")},P.prototype._verify2=function(L,I){l((L.negative|I.negative)===0,"red works only with positives"),l(L.red&&L.red===I.red,"red works only with red numbers")},P.prototype.imod=function(L){return this.prime?this.prime.ireduce(L)._forceRed(this):L.umod(this.m)._forceRed(this)},P.prototype.neg=function(L){return L.isZero()?L.clone():this.m.sub(L)._forceRed(this)},P.prototype.add=function(L,I){this._verify2(L,I);var q=L.add(I);return q.cmp(this.m)>=0&&q.isub(this.m),q._forceRed(this)},P.prototype.iadd=function(L,I){this._verify2(L,I);var q=L.iadd(I);return q.cmp(this.m)>=0&&q.isub(this.m),q},P.prototype.sub=function(L,I){this._verify2(L,I);var q=L.sub(I);return q.cmpn(0)<0&&q.iadd(this.m),q._forceRed(this)},P.prototype.isub=function(L,I){this._verify2(L,I);var q=L.isub(I);return q.cmpn(0)<0&&q.iadd(this.m),q},P.prototype.shl=function(L,I){return this._verify1(L),this.imod(L.ushln(I))},P.prototype.imul=function(L,I){return this._verify2(L,I),this.imod(L.imul(I))},P.prototype.mul=function(L,I){return this._verify2(L,I),this.imod(L.mul(I))},P.prototype.isqr=function(L){return this.imul(L,L.clone())},P.prototype.sqr=function(L){return this.mul(L,L)},P.prototype.sqrt=function(L){if(L.isZero())return L.clone();var I=this.m.andln(3);if(l(I%2===1),I===3){var q=this.m.add(new c(1)).iushrn(2);return this.pow(L,q)}for(var z=this.m.subn(1),W=0;!z.isZero()&&z.andln(1)===0;)W++,z.iushrn(1);l(!z.isZero());var $=new c(1).toRed(this),j=$.redNeg(),G=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new c(2*B*B).toRed(this);this.pow(B,G).cmp(j)!==0;)B.redIAdd(j);for(var X=this.pow(B,z),te=this.pow(L,z.addn(1).iushrn(1)),J=this.pow(L,z),ae=W;J.cmp($)!==0;){for(var ee=J,H=0;ee.cmp($)!==0;H++)ee=ee.redSqr();l(H<ae);var re=this.pow(X,new c(1).iushln(ae-H-1));te=te.redMul(re),X=re.redSqr(),J=J.redMul(X),ae=H}return te},P.prototype.invm=function(L){var I=L._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},P.prototype.pow=function(L,I){if(I.isZero())return new c(1).toRed(this);if(I.cmpn(1)===0)return L.clone();var q=4,z=new Array(1<<q);z[0]=new c(1).toRed(this),z[1]=L;for(var W=2;W<z.length;W++)z[W]=this.mul(z[W-1],L);var $=z[0],j=0,G=0,B=I.bitLength()%26;for(B===0&&(B=26),W=I.length-1;W>=0;W--){for(var X=I.words[W],te=B-1;te>=0;te--){var J=X>>te&1;if($!==z[0]&&($=this.sqr($)),J===0&&j===0){G=0;continue}j<<=1,j|=J,G++,!(G!==q&&(W!==0||te!==0))&&($=this.mul($,z[j]),G=0,j=0)}B=26}return $},P.prototype.convertTo=function(L){var I=L.umod(this.m);return I===L?I.clone():I},P.prototype.convertFrom=function(L){var I=L.clone();return I.red=null,I},c.mont=function(L){return new O(L)};function O(F){P.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(O,P),O.prototype.convertTo=function(L){return this.imod(L.ushln(this.shift))},O.prototype.convertFrom=function(L){var I=this.imod(L.mul(this.rinv));return I.red=null,I},O.prototype.imul=function(L,I){if(L.isZero()||I.isZero())return L.words[0]=0,L.length=1,L;var q=L.imul(I),z=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),W=q.isub(z).iushrn(this.shift),$=W;return W.cmp(this.m)>=0?$=W.isub(this.m):W.cmpn(0)<0&&($=W.iadd(this.m)),$._forceRed(this)},O.prototype.mul=function(L,I){if(L.isZero()||I.isZero())return new c(0)._forceRed(this);var q=L.mul(I),z=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),W=q.isub(z).iushrn(this.shift),$=W;return W.cmp(this.m)>=0?$=W.isub(this.m):W.cmpn(0)<0&&($=W.iadd(this.m)),$._forceRed(this)},O.prototype.invm=function(L){var I=this.imod(L._invmp(this.m).mul(this.r2));return I._forceRed(this)}}(a,this)},6204:function(a){"use strict";a.exports=o;function o(i){var s,f,l,u=i.length,c=0;for(s=0;s<u;++s)c+=i[s].length;var v=new Array(c),m=0;for(s=0;s<u;++s){var x=i[s],A=x.length;for(f=0;f<A;++f){var w=v[m++]=new Array(A-1),y=0;for(l=0;l<A;++l)l!==f&&(w[y++]=x[l]);if(f&1){var _=w[1];w[1]=w[0],w[0]=_}}}return v}},6867:function(a,o,i){"use strict";a.exports=y;var s=i(1888),f=i(855),l=i(7150);function u(_,M){for(var b=0;b<_;++b)if(!(M[b]<=M[b+_]))return!0;return!1}function c(_,M,b,E){for(var d=0,T=0,g=0,h=_.length;g<h;++g){var S=_[g];if(!u(M,S)){for(var p=0;p<2*M;++p)b[d++]=S[p];E[T++]=g}}return T}function v(_,M,b,E){var d=_.length,T=M.length;if(!(d<=0||T<=0)){var g=_[0].length>>>1;if(!(g<=0)){var h,S=s.mallocDouble(2*g*d),p=s.mallocInt32(d);if(d=c(_,g,S,p),d>0){if(g===1&&E)f.init(d),h=f.sweepComplete(g,b,0,d,S,p,0,d,S,p);else{var C=s.mallocDouble(2*g*T),k=s.mallocInt32(T);T=c(M,g,C,k),T>0&&(f.init(d+T),g===1?h=f.sweepBipartite(g,b,0,d,S,p,0,T,C,k):h=l(g,b,E,d,S,p,T,C,k),s.free(C),s.free(k))}s.free(S),s.free(p)}return h}}}var m;function x(_,M){m.push([_,M])}function A(_){return m=[],v(_,_,x,!0),m}function w(_,M){return m=[],v(_,M,x,!1),m}function y(_,M,b){switch(arguments.length){case 1:return A(_);case 2:return typeof M=="function"?v(_,_,M,!0):w(_,M);case 3:return v(_,M,b,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(a,o){"use strict";function i(){function l(v,m,x,A,w,y,_,M,b,E,d){for(var T=2*v,g=A,h=T*A;g<w;++g,h+=T){var S=y[m+h],p=y[m+h+v],C=_[g];e:for(var k=M,D=T*M;k<b;++k,D+=T){var P=E[m+D],O=E[m+D+v],F=d[k];if(!(O<S||p<P)){for(var L=m+1;L<v;++L){var I=y[L+h],q=y[L+v+h],z=E[L+D],W=E[L+v+D];if(q<z||W<I)continue e}var $=x(C,F);if($!==void 0)return $}}}}function u(v,m,x,A,w,y,_,M,b,E,d){for(var T=2*v,g=M,h=T*M;g<b;++g,h+=T){var S=E[m+h],p=E[m+h+v],C=d[g];e:for(var k=A,D=T*A;k<w;++k,D+=T){var P=y[m+D],O=y[m+D+v],F=_[k];if(!(p<P||O<S)){for(var L=m+1;L<v;++L){var I=y[L+D],q=y[L+v+D],z=E[L+h],W=E[L+v+h];if(q<z||W<I)continue e}var $=x(F,C);if($!==void 0)return $}}}}function c(v,m,x,A,w,y,_,M,b,E,d){return w-A>b-M?l(v,m,x,A,w,y,_,M,b,E,d):u(v,m,x,A,w,y,_,M,b,E,d)}return c}function s(){function l(x,A,w,y,_,M,b,E,d,T,g){for(var h=2*x,S=y,p=h*y;S<_;++S,p+=h){var C=M[A+p],k=M[A+p+x],D=b[S];e:for(var P=E,O=h*E;P<d;++P,O+=h){var F=T[A+O],L=g[P];if(!(F<=C||k<F)){for(var I=A+1;I<x;++I){var q=M[I+p],z=M[I+x+p],W=T[I+O],$=T[I+x+O];if(z<W||$<q)continue e}var j=w(L,D);if(j!==void 0)return j}}}}function u(x,A,w,y,_,M,b,E,d,T,g){for(var h=2*x,S=y,p=h*y;S<_;++S,p+=h){var C=M[A+p],k=M[A+p+x],D=b[S];e:for(var P=E,O=h*E;P<d;++P,O+=h){var F=T[A+O],L=g[P];if(!(F<C||k<F)){for(var I=A+1;I<x;++I){var q=M[I+p],z=M[I+x+p],W=T[I+O],$=T[I+x+O];if(z<W||$<q)continue e}var j=w(D,L);if(j!==void 0)return j}}}}function c(x,A,w,y,_,M,b,E,d,T,g){for(var h=2*x,S=E,p=h*E;S<d;++S,p+=h){var C=T[A+p],k=g[S];e:for(var D=y,P=h*y;D<_;++D,P+=h){var O=M[A+P],F=M[A+P+x],L=b[D];if(!(C<=O||F<C)){for(var I=A+1;I<x;++I){var q=M[I+P],z=M[I+x+P],W=T[I+p],$=T[I+x+p];if(z<W||$<q)continue e}var j=w(k,L);if(j!==void 0)return j}}}}function v(x,A,w,y,_,M,b,E,d,T,g){for(var h=2*x,S=E,p=h*E;S<d;++S,p+=h){var C=T[A+p],k=g[S];e:for(var D=y,P=h*y;D<_;++D,P+=h){var O=M[A+P],F=M[A+P+x],L=b[D];if(!(C<O||F<C)){for(var I=A+1;I<x;++I){var q=M[I+P],z=M[I+x+P],W=T[I+p],$=T[I+x+p];if(z<W||$<q)continue e}var j=w(L,k);if(j!==void 0)return j}}}}function m(x,A,w,y,_,M,b,E,d,T,g,h){return M-_>T-d?y?l(x,A,w,_,M,b,E,d,T,g,h):u(x,A,w,_,M,b,E,d,T,g,h):y?c(x,A,w,_,M,b,E,d,T,g,h):v(x,A,w,_,M,b,E,d,T,g,h)}return m}function f(l){return l?i():s()}o.partial=f(!1),o.full=f(!0)},7150:function(a,o,i){"use strict";a.exports=F;var s=i(1888),f=i(8828),l=i(2455),u=l.partial,c=l.full,v=i(855),m=i(3545),x=i(8105),A=128,w=1<<22,y=1<<22,_=x("!(lo>=p0)&&!(p1>=hi)"),M=x("lo===p0"),b=x("lo<p0"),E=x("hi<=p0"),d=x("lo<=p0&&p0<=hi"),T=x("lo<p0&&p0<=hi"),g=6,h=2,S=1024,p=s.mallocInt32(S),C=s.mallocDouble(S);function k(L,I){var q=8*f.log2(I+1)*(L+1)|0,z=f.nextPow2(g*q);p.length<z&&(s.free(p),p=s.mallocInt32(z));var W=f.nextPow2(h*q);C.length<W&&(s.free(C),C=s.mallocDouble(W))}function D(L,I,q,z,W,$,j,G,B){var X=g*L;p[X]=I,p[X+1]=q,p[X+2]=z,p[X+3]=W,p[X+4]=$,p[X+5]=j;var te=h*L;C[te]=G,C[te+1]=B}function P(L,I,q,z,W,$,j,G,B,X,te){var J=2*L,ae=B*J,ee=X[ae+I];e:for(var H=W,re=W*J;H<$;++H,re+=J){var V=j[re+I],ne=j[re+I+L];if(!(ee<V||ne<ee)&&!(z&&ee===V)){for(var le=G[H],de=I+1;de<L;++de){var V=j[re+de],ne=j[re+de+L],_e=X[ae+de],me=X[ae+de+L];if(ne<_e||me<V)continue e}var ve;if(z?ve=q(te,le):ve=q(le,te),ve!==void 0)return ve}}}function O(L,I,q,z,W,$,j,G,B,X){var te=2*L,J=G*te,ae=B[J+I];e:for(var ee=z,H=z*te;ee<W;++ee,H+=te){var re=j[ee];if(re!==X){var V=$[H+I],ne=$[H+I+L];if(!(ae<V||ne<ae)){for(var le=I+1;le<L;++le){var V=$[H+le],ne=$[H+le+L],de=B[J+le],_e=B[J+le+L];if(ne<de||_e<V)continue e}var me=q(re,X);if(me!==void 0)return me}}}}function F(L,I,q,z,W,$,j,G,B){k(L,z+j);var X=0,te=2*L,J;for(D(X++,0,0,z,0,j,q?16:0,-1/0,1/0),q||D(X++,0,0,j,0,z,1,-1/0,1/0);X>0;){X-=1;var ae=X*g,ee=p[ae],H=p[ae+1],re=p[ae+2],V=p[ae+3],ne=p[ae+4],le=p[ae+5],de=X*h,_e=C[de],me=C[de+1],ve=le&1,be=!!(le&16),we=W,Se=$,Ae=G,Ie=B;if(ve&&(we=G,Se=B,Ae=W,Ie=$),!(le&2&&(re=b(L,ee,H,re,we,Se,me),H>=re))&&!(le&4&&(H=E(L,ee,H,re,we,Se,_e),H>=re))){var Ve=re-H,pe=ne-V;if(be){if(L*Ve*(Ve+pe)<y){if(J=v.scanComplete(L,ee,I,H,re,we,Se,V,ne,Ae,Ie),J!==void 0)return J;continue}}else if(L*Math.min(Ve,pe)<A){if(J=u(L,ee,I,ve,H,re,we,Se,V,ne,Ae,Ie),J!==void 0)return J;continue}else if(L*Ve*pe<w){if(J=v.scanBipartite(L,ee,I,ve,H,re,we,Se,V,ne,Ae,Ie),J!==void 0)return J;continue}var xe=_(L,ee,H,re,we,Se,_e,me);if(H<xe)if(L*(xe-H)<A){if(J=c(L,ee+1,I,H,xe,we,Se,V,ne,Ae,Ie),J!==void 0)return J}else if(ee===L-2){if(ve?J=v.sweepBipartite(L,I,V,ne,Ae,Ie,H,xe,we,Se):J=v.sweepBipartite(L,I,H,xe,we,Se,V,ne,Ae,Ie),J!==void 0)return J}else D(X++,ee+1,H,xe,V,ne,ve,-1/0,1/0),D(X++,ee+1,V,ne,H,xe,ve^1,-1/0,1/0);if(xe<re){var Te=m(L,ee,V,ne,Ae,Ie),qe=Ae[te*Te+ee],er=M(L,ee,Te,ne,Ae,Ie,qe);if(er<ne&&D(X++,ee,xe,re,er,ne,(ve|4)+(be?16:0),qe,me),V<Te&&D(X++,ee,xe,re,V,Te,(ve|2)+(be?16:0),_e,qe),Te+1===er){if(be?J=O(L,ee,I,xe,re,we,Se,Te,Ae,Ie[Te]):J=P(L,ee,I,ve,xe,re,we,Se,Te,Ae,Ie[Te]),J!==void 0)return J}else if(Te<er){var ze;if(be){if(ze=d(L,ee,xe,re,we,Se,qe),xe<ze){var Ce=M(L,ee,xe,ze,we,Se,qe);if(ee===L-2){if(xe<Ce&&(J=v.sweepComplete(L,I,xe,Ce,we,Se,Te,er,Ae,Ie),J!==void 0)||Ce<ze&&(J=v.sweepBipartite(L,I,Ce,ze,we,Se,Te,er,Ae,Ie),J!==void 0))return J}else xe<Ce&&D(X++,ee+1,xe,Ce,Te,er,16,-1/0,1/0),Ce<ze&&(D(X++,ee+1,Ce,ze,Te,er,0,-1/0,1/0),D(X++,ee+1,Te,er,Ce,ze,1,-1/0,1/0))}}else ve?ze=T(L,ee,xe,re,we,Se,qe):ze=d(L,ee,xe,re,we,Se,qe),xe<ze&&(ee===L-2?ve?J=v.sweepBipartite(L,I,Te,er,Ae,Ie,xe,ze,we,Se):J=v.sweepBipartite(L,I,xe,ze,we,Se,Te,er,Ae,Ie):(D(X++,ee+1,xe,ze,Te,er,ve,-1/0,1/0),D(X++,ee+1,Te,er,xe,ze,ve^1,-1/0,1/0)))}}}}}},3545:function(a,o,i){"use strict";a.exports=c;var s=i(8105),f=s("lo<p0"),l=8;function u(v,m,x,A,w,y){for(var _=2*v,M=_*(x+1)+m,b=x+1;b<A;++b,M+=_)for(var E=w[M],d=b,T=_*(b-1);d>x&&w[T+m]>E;--d,T-=_){for(var g=T,h=T+_,S=0;S<_;++S,++g,++h){var p=w[g];w[g]=w[h],w[h]=p}var C=y[d];y[d]=y[d-1],y[d-1]=C}}function c(v,m,x,A,w,y){if(A<=x+1)return x;for(var _=x,M=A,b=A+x>>>1,E=2*v,d=b,T=w[E*b+m];_<M;){if(M-_<l){u(v,m,_,M,w,y),T=w[E*b+m];break}var g=M-_,h=Math.random()*g+_|0,S=w[E*h+m],p=Math.random()*g+_|0,C=w[E*p+m],k=Math.random()*g+_|0,D=w[E*k+m];S<=C?D>=C?(d=p,T=C):S>=D?(d=h,T=S):(d=k,T=D):C>=D?(d=p,T=C):D>=S?(d=h,T=S):(d=k,T=D);for(var F=E*(M-1),L=E*d,P=0;P<E;++P,++F,++L){var O=w[F];w[F]=w[L],w[L]=O}var I=y[M-1];y[M-1]=y[d],y[d]=I,d=f(v,m,_,M-1,w,y,T);for(var F=E*(M-1),L=E*d,P=0;P<E;++P,++F,++L){var O=w[F];w[F]=w[L],w[L]=O}var I=y[M-1];if(y[M-1]=y[d],y[d]=I,b<d){for(M=d-1;_<M&&w[E*(M-1)+m]===T;)M-=1;M+=1}else if(d<b)for(_=d+1;_<M&&w[E*_+m]===T;)_+=1;else break}return f(v,m,x,b,w,y,w[E*b+m])}},8105:function(a){"use strict";a.exports=i;var o={"lo===p0":s,"lo<p0":f,"lo<=p0":l,"hi<=p0":u,"lo<p0&&p0<=hi":v,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":m};function i(x){return o[x]}function s(x,A,w,y,_,M,b){for(var E=2*x,d=E*w,T=d,g=w,h=A,S=x+A,p=w;y>p;++p,d+=E){var C=_[d+h];if(C===b)if(g===p)g+=1,T+=E;else{for(var k=0;E>k;++k){var D=_[d+k];_[d+k]=_[T],_[T++]=D}var P=M[p];M[p]=M[g],M[g++]=P}}return g}function f(x,A,w,y,_,M,b){for(var E=2*x,d=E*w,T=d,g=w,h=A,S=x+A,p=w;y>p;++p,d+=E){var C=_[d+h];if(C<b)if(g===p)g+=1,T+=E;else{for(var k=0;E>k;++k){var D=_[d+k];_[d+k]=_[T],_[T++]=D}var P=M[p];M[p]=M[g],M[g++]=P}}return g}function l(x,A,w,y,_,M,b){for(var E=2*x,d=E*w,T=d,g=w,h=A,S=x+A,p=w;y>p;++p,d+=E){var C=_[d+S];if(C<=b)if(g===p)g+=1,T+=E;else{for(var k=0;E>k;++k){var D=_[d+k];_[d+k]=_[T],_[T++]=D}var P=M[p];M[p]=M[g],M[g++]=P}}return g}function u(x,A,w,y,_,M,b){for(var E=2*x,d=E*w,T=d,g=w,h=A,S=x+A,p=w;y>p;++p,d+=E){var C=_[d+S];if(C<=b)if(g===p)g+=1,T+=E;else{for(var k=0;E>k;++k){var D=_[d+k];_[d+k]=_[T],_[T++]=D}var P=M[p];M[p]=M[g],M[g++]=P}}return g}function c(x,A,w,y,_,M,b){for(var E=2*x,d=E*w,T=d,g=w,h=A,S=x+A,p=w;y>p;++p,d+=E){var C=_[d+h],k=_[d+S];if(C<=b&&b<=k)if(g===p)g+=1,T+=E;else{for(var D=0;E>D;++D){var P=_[d+D];_[d+D]=_[T],_[T++]=P}var O=M[p];M[p]=M[g],M[g++]=O}}return g}function v(x,A,w,y,_,M,b){for(var E=2*x,d=E*w,T=d,g=w,h=A,S=x+A,p=w;y>p;++p,d+=E){var C=_[d+h],k=_[d+S];if(C<b&&b<=k)if(g===p)g+=1,T+=E;else{for(var D=0;E>D;++D){var P=_[d+D];_[d+D]=_[T],_[T++]=P}var O=M[p];M[p]=M[g],M[g++]=O}}return g}function m(x,A,w,y,_,M,b,E){for(var d=2*x,T=d*w,g=T,h=w,S=A,p=x+A,C=w;y>C;++C,T+=d){var k=_[T+S],D=_[T+p];if(!(k>=b)&&!(E>=D))if(h===C)h+=1,g+=d;else{for(var P=0;d>P;++P){var O=_[T+P];_[T+P]=_[g],_[g++]=O}var F=M[C];M[C]=M[h],M[h++]=F}}return h}},1811:function(a){"use strict";a.exports=i;var o=32;function i(A,w){w<=4*o?s(0,w-1,A):x(0,w-1,A)}function s(A,w,y){for(var _=2*(A+1),M=A+1;M<=w;++M){for(var b=y[_++],E=y[_++],d=M,T=_-2;d-- >A;){var g=y[T-2],h=y[T-1];if(g<b)break;if(g===b&&h<E)break;y[T]=g,y[T+1]=h,T-=2}y[T]=b,y[T+1]=E}}function f(A,w,y){A*=2,w*=2;var _=y[A],M=y[A+1];y[A]=y[w],y[A+1]=y[w+1],y[w]=_,y[w+1]=M}function l(A,w,y){A*=2,w*=2,y[A]=y[w],y[A+1]=y[w+1]}function u(A,w,y,_){A*=2,w*=2,y*=2;var M=_[A],b=_[A+1];_[A]=_[w],_[A+1]=_[w+1],_[w]=_[y],_[w+1]=_[y+1],_[y]=M,_[y+1]=b}function c(A,w,y,_,M){A*=2,w*=2,M[A]=M[w],M[w]=y,M[A+1]=M[w+1],M[w+1]=_}function v(A,w,y){A*=2,w*=2;var _=y[A],M=y[w];return _<M?!1:_===M?y[A+1]>y[w+1]:!0}function m(A,w,y,_){A*=2;var M=_[A];return M<w?!0:M===w?_[A+1]<y:!1}function x(A,w,y){var _=(w-A+1)/6|0,M=A+_,b=w-_,E=A+w>>1,d=E-_,T=E+_,g=M,h=d,S=E,p=T,C=b,k=A+1,D=w-1,P=0;v(g,h,y)&&(P=g,g=h,h=P),v(p,C,y)&&(P=p,p=C,C=P),v(g,S,y)&&(P=g,g=S,S=P),v(h,S,y)&&(P=h,h=S,S=P),v(g,p,y)&&(P=g,g=p,p=P),v(S,p,y)&&(P=S,S=p,p=P),v(h,C,y)&&(P=h,h=C,C=P),v(h,S,y)&&(P=h,h=S,S=P),v(p,C,y)&&(P=p,p=C,C=P);for(var O=y[2*h],F=y[2*h+1],L=y[2*p],I=y[2*p+1],q=2*g,z=2*S,W=2*C,$=2*M,j=2*E,G=2*b,B=0;B<2;++B){var X=y[q+B],te=y[z+B],J=y[W+B];y[$+B]=X,y[j+B]=te,y[G+B]=J}l(d,A,y),l(T,w,y);for(var ae=k;ae<=D;++ae)if(m(ae,O,F,y))ae!==k&&f(ae,k,y),++k;else if(!m(ae,L,I,y))for(;;)if(m(D,L,I,y)){m(D,O,F,y)?(u(ae,k,D,y),++k,--D):(f(ae,D,y),--D);break}else{if(--D<ae)break;continue}c(A,k-1,O,F,y),c(w,D+1,L,I,y),k-2-A<=o?s(A,k-2,y):x(A,k-2,y),w-(D+2)<=o?s(D+2,w,y):x(D+2,w,y),D-k<=o?s(k,D,y):x(k,D,y)}},855:function(a,o,i){"use strict";a.exports={init:M,sweepBipartite:d,sweepComplete:T,scanBipartite:g,scanComplete:h};var s=i(1888),f=i(8828),l=i(1811),u=1<<28,c=1024,v=s.mallocInt32(c),m=s.mallocInt32(c),x=s.mallocInt32(c),A=s.mallocInt32(c),w=s.mallocInt32(c),y=s.mallocInt32(c),_=s.mallocDouble(c*8);function M(S){var p=f.nextPow2(S);v.length<p&&(s.free(v),v=s.mallocInt32(p)),m.length<p&&(s.free(m),m=s.mallocInt32(p)),x.length<p&&(s.free(x),x=s.mallocInt32(p)),A.length<p&&(s.free(A),A=s.mallocInt32(p)),w.length<p&&(s.free(w),w=s.mallocInt32(p)),y.length<p&&(s.free(y),y=s.mallocInt32(p));var C=8*p;_.length<C&&(s.free(_),_=s.mallocDouble(C))}function b(S,p,C,k){var D=p[k],P=S[C-1];S[D]=P,p[P]=D}function E(S,p,C,k){S[C]=k,p[k]=C}function d(S,p,C,k,D,P,O,F,L,I){for(var q=0,z=2*S,W=S-1,$=z-1,j=C;j<k;++j){var G=P[j],B=z*j;_[q++]=D[B+W],_[q++]=-(G+1),_[q++]=D[B+$],_[q++]=G}for(var j=O;j<F;++j){var G=I[j]+u,X=z*j;_[q++]=L[X+W],_[q++]=-G,_[q++]=L[X+$],_[q++]=G}var te=q>>>1;l(_,te);for(var J=0,ae=0,j=0;j<te;++j){var ee=_[2*j+1]|0;if(ee>=u)ee=ee-u|0,b(x,A,ae--,ee);else if(ee>=0)b(v,m,J--,ee);else if(ee<=-u){ee=-ee-u|0;for(var H=0;H<J;++H){var re=p(v[H],ee);if(re!==void 0)return re}E(x,A,ae++,ee)}else{ee=-ee-1|0;for(var H=0;H<ae;++H){var re=p(ee,x[H]);if(re!==void 0)return re}E(v,m,J++,ee)}}}function T(S,p,C,k,D,P,O,F,L,I){for(var q=0,z=2*S,W=S-1,$=z-1,j=C;j<k;++j){var G=P[j]+1<<1,B=z*j;_[q++]=D[B+W],_[q++]=-G,_[q++]=D[B+$],_[q++]=G}for(var j=O;j<F;++j){var G=I[j]+1<<1,X=z*j;_[q++]=L[X+W],_[q++]=-G|1,_[q++]=L[X+$],_[q++]=G|1}var te=q>>>1;l(_,te);for(var J=0,ae=0,ee=0,j=0;j<te;++j){var H=_[2*j+1]|0,re=H&1;if(j<te-1&&H>>1===_[2*j+3]>>1&&(re=2,j+=1),H<0){for(var V=-(H>>1)-1,ne=0;ne<ee;++ne){var le=p(w[ne],V);if(le!==void 0)return le}if(re!==0)for(var ne=0;ne<J;++ne){var le=p(v[ne],V);if(le!==void 0)return le}if(re!==1)for(var ne=0;ne<ae;++ne){var le=p(x[ne],V);if(le!==void 0)return le}re===0?E(v,m,J++,V):re===1?E(x,A,ae++,V):re===2&&E(w,y,ee++,V)}else{var V=(H>>1)-1;re===0?b(v,m,J--,V):re===1?b(x,A,ae--,V):re===2&&b(w,y,ee--,V)}}}function g(S,p,C,k,D,P,O,F,L,I,q,z){var W=0,$=2*S,j=p,G=p+S,B=1,X=1;k?X=u:B=u;for(var te=D;te<P;++te){var J=te+B,ae=$*te;_[W++]=O[ae+j],_[W++]=-J,_[W++]=O[ae+G],_[W++]=J}for(var te=L;te<I;++te){var J=te+X,ee=$*te;_[W++]=q[ee+j],_[W++]=-J}var H=W>>>1;l(_,H);for(var re=0,te=0;te<H;++te){var V=_[2*te+1]|0;if(V<0){var J=-V,ne=!1;if(J>=u?(ne=!k,J-=u):(ne=!!k,J-=1),ne)E(v,m,re++,J);else{var le=z[J],de=$*J,_e=q[de+p+1],me=q[de+p+1+S];e:for(var ve=0;ve<re;++ve){var be=v[ve],we=$*be;if(!(me<O[we+p+1]||O[we+p+1+S]<_e)){for(var Se=p+2;Se<S;++Se)if(q[de+Se+S]<O[we+Se]||O[we+Se+S]<q[de+Se])continue e;var Ae=F[be],Ie;if(k?Ie=C(le,Ae):Ie=C(Ae,le),Ie!==void 0)return Ie}}}}else b(v,m,re--,V-B)}}function h(S,p,C,k,D,P,O,F,L,I,q){for(var z=0,W=2*S,$=p,j=p+S,G=k;G<D;++G){var B=G+u,X=W*G;_[z++]=P[X+$],_[z++]=-B,_[z++]=P[X+j],_[z++]=B}for(var G=F;G<L;++G){var B=G+1,te=W*G;_[z++]=I[te+$],_[z++]=-B}var J=z>>>1;l(_,J);for(var ae=0,G=0;G<J;++G){var ee=_[2*G+1]|0;if(ee<0){var B=-ee;if(B>=u)v[ae++]=B-u;else{B-=1;var H=q[B],re=W*B,V=I[re+p+1],ne=I[re+p+1+S];e:for(var le=0;le<ae;++le){var de=v[le],_e=O[de];if(_e===H)break;var me=W*de;if(!(ne<P[me+p+1]||P[me+p+1+S]<V)){for(var ve=p+2;ve<S;++ve)if(I[re+ve+S]<P[me+ve]||P[me+ve+S]<I[re+ve])continue e;var be=C(_e,H);if(be!==void 0)return be}}}}else{for(var B=ee-u,le=ae-1;le>=0;--le)if(v[le]===B){for(var ve=le+1;ve<ae;++ve)v[ve-1]=v[ve];break}--ae}}}},2538:function(a,o,i){"use strict";var s=i(8902),f=i(5542),l=i(2272),u=i(5023);a.exports=A;function c(w){return[Math.min(w[0],w[1]),Math.max(w[0],w[1])]}function v(w,y){return w[0]-y[0]||w[1]-y[1]}function m(w){return w.map(c).sort(v)}function x(w,y,_){return y in w?w[y]:_}function A(w,y,_){Array.isArray(y)?(_=_||{},y=y||[]):(_=y||{},y=[]);var M=!!x(_,"delaunay",!0),b=!!x(_,"interior",!0),E=!!x(_,"exterior",!0),d=!!x(_,"infinity",!1);if(!b&&!E||w.length===0)return[];var T=s(w,y);if(M||b!==E||d){for(var g=f(w.length,m(y)),h=0;h<T.length;++h){var S=T[h];g.addTriangle(S[0],S[1],S[2])}return M&&l(w,g),E?b?d?u(g,0,d):g.cells():u(g,1,d):u(g,-1)}else return T}},2272:function(a,o,i){"use strict";var s=i(2646)[4],f=i(2478);a.exports=u;function l(c,v,m,x,A,w){var y=v.opposite(x,A);if(!(y<0)){if(A<x){var _=x;x=A,A=_,_=w,w=y,y=_}v.isConstraint(x,A)||s(c[x],c[A],c[w],c[y])<0&&m.push(x,A)}}function u(c,v){for(var m=[],x=c.length,A=v.stars,w=0;w<x;++w)for(var y=A[w],_=1;_<y.length;_+=2){var M=y[_];if(!(M<w)&&!v.isConstraint(w,M)){for(var b=y[_-1],E=-1,d=1;d<y.length;d+=2)if(y[d-1]===M){E=y[d];break}E<0||s(c[w],c[M],c[b],c[E])<0&&m.push(w,M)}}for(;m.length>0;){for(var M=m.pop(),w=m.pop(),b=-1,E=-1,y=A[w],T=1;T<y.length;T+=2){var g=y[T-1],h=y[T];g===M?E=h:h===M&&(b=g)}b<0||E<0||s(c[w],c[M],c[b],c[E])>=0||(v.flip(w,M),l(c,v,m,b,w,E),l(c,v,m,w,E,b),l(c,v,m,E,M,b),l(c,v,m,M,b,E))}}},5023:function(a,o,i){"use strict";var s=i(2478);a.exports=m;function f(x,A,w,y,_,M,b){this.cells=x,this.neighbor=A,this.flags=y,this.constraint=w,this.active=_,this.next=M,this.boundary=b}var l=f.prototype;function u(x,A){return x[0]-A[0]||x[1]-A[1]||x[2]-A[2]}l.locate=function(){var x=[0,0,0];return function(A,w,y){var _=A,M=w,b=y;return w<y?w<A&&(_=w,M=y,b=A):y<A&&(_=y,M=A,b=w),_<0?-1:(x[0]=_,x[1]=M,x[2]=b,s.eq(this.cells,x,u))}}();function c(x,A){for(var w=x.cells(),y=w.length,_=0;_<y;++_){var M=w[_],b=M[0],E=M[1],d=M[2];E<d?E<b&&(M[0]=E,M[1]=d,M[2]=b):d<b&&(M[0]=d,M[1]=b,M[2]=E)}w.sort(u);for(var T=new Array(y),_=0;_<T.length;++_)T[_]=0;var g=[],h=[],S=new Array(3*y),p=new Array(3*y),C=null;A&&(C=[]);for(var k=new f(w,S,p,T,g,h,C),_=0;_<y;++_)for(var M=w[_],D=0;D<3;++D){var b=M[D],E=M[(D+1)%3],P=S[3*_+D]=k.locate(E,b,x.opposite(E,b)),O=p[3*_+D]=x.isConstraint(b,E);P<0&&(O?h.push(_):(g.push(_),T[_]=1),A&&C.push([E,b,-1]))}return k}function v(x,A,w){for(var y=0,_=0;_<x.length;++_)A[_]===w&&(x[y++]=x[_]);return x.length=y,x}function m(x,A,w){var y=c(x,w);if(A===0)return w?y.cells.concat(y.boundary):y.cells;for(var _=1,M=y.active,b=y.next,E=y.flags,d=y.cells,T=y.constraint,g=y.neighbor;M.length>0||b.length>0;){for(;M.length>0;){var h=M.pop();if(E[h]!==-_){E[h]=_;for(var S=d[h],p=0;p<3;++p){var C=g[3*h+p];C>=0&&E[C]===0&&(T[3*h+p]?b.push(C):(M.push(C),E[C]=_))}}}var k=b;b=M,M=k,b.length=0,_=-_}var D=v(d,E,A);return w?D.concat(y.boundary):D}},8902:function(a,o,i){"use strict";var s=i(2478),f=i(3250)[3],l=0,u=1,c=2;a.exports=b;function v(E,d,T,g,h){this.a=E,this.b=d,this.idx=T,this.lowerIds=g,this.upperIds=h}function m(E,d,T,g){this.a=E,this.b=d,this.type=T,this.idx=g}function x(E,d){var T=E.a[0]-d.a[0]||E.a[1]-d.a[1]||E.type-d.type;return T||E.type!==l&&(T=f(E.a,E.b,d.b),T)?T:E.idx-d.idx}function A(E,d){return f(E.a,E.b,d)}function w(E,d,T,g,h){for(var S=s.lt(d,g,A),p=s.gt(d,g,A),C=S;C<p;++C){for(var k=d[C],D=k.lowerIds,O=D.length;O>1&&f(T[D[O-2]],T[D[O-1]],g)>0;)E.push([D[O-1],D[O-2],h]),O-=1;D.length=O,D.push(h);for(var P=k.upperIds,O=P.length;O>1&&f(T[P[O-2]],T[P[O-1]],g)<0;)E.push([P[O-2],P[O-1],h]),O-=1;P.length=O,P.push(h)}}function y(E,d){var T;return E.a[0]<d.a[0]?T=f(E.a,E.b,d.a):T=f(d.b,d.a,E.a),T||(d.b[0]<E.b[0]?T=f(E.a,E.b,d.b):T=f(d.b,d.a,E.b),T||E.idx-d.idx)}function _(E,d,T){var g=s.le(E,T,y),h=E[g],S=h.upperIds,p=S[S.length-1];h.upperIds=[p],E.splice(g+1,0,new v(T.a,T.b,T.idx,[p],S))}function M(E,d,T){var g=T.a;T.a=T.b,T.b=g;var h=s.eq(E,T,y),S=E[h],p=E[h-1];p.upperIds=S.upperIds,E.splice(h,1)}function b(E,d){for(var T=E.length,g=d.length,h=[],S=0;S<T;++S)h.push(new m(E[S],null,l,S));for(var S=0;S<g;++S){var p=d[S],C=E[p[0]],k=E[p[1]];C[0]<k[0]?h.push(new m(C,k,c,S),new m(k,C,u,S)):C[0]>k[0]&&h.push(new m(k,C,c,S),new m(C,k,u,S))}h.sort(x);for(var D=h[0].a[0]-(1+Math.abs(h[0].a[0]))*Math.pow(2,-52),P=[new v([D,1],[D,0],-1,[],[],[],[])],O=[],S=0,F=h.length;S<F;++S){var L=h[S],I=L.type;I===l?w(O,P,E,L.a,L.idx):I===c?_(P,E,L):M(P,E,L)}return O}},5542:function(a,o,i){"use strict";var s=i(2478);a.exports=c;function f(v,m){this.stars=v,this.edges=m}var l=f.prototype;function u(v,m,x){for(var A=1,w=v.length;A<w;A+=2)if(v[A-1]===m&&v[A]===x){v[A-1]=v[w-2],v[A]=v[w-1],v.length=w-2;return}}l.isConstraint=function(){var v=[0,0];function m(x,A){return x[0]-A[0]||x[1]-A[1]}return function(x,A){return v[0]=Math.min(x,A),v[1]=Math.max(x,A),s.eq(this.edges,v,m)>=0}}(),l.removeTriangle=function(v,m,x){var A=this.stars;u(A[v],m,x),u(A[m],x,v),u(A[x],v,m)},l.addTriangle=function(v,m,x){var A=this.stars;A[v].push(m,x),A[m].push(x,v),A[x].push(v,m)},l.opposite=function(v,m){for(var x=this.stars[m],A=1,w=x.length;A<w;A+=2)if(x[A]===v)return x[A-1];return-1},l.flip=function(v,m){var x=this.opposite(v,m),A=this.opposite(m,v);this.removeTriangle(v,m,x),this.removeTriangle(m,v,A),this.addTriangle(v,A,x),this.addTriangle(m,x,A)},l.edges=function(){for(var v=this.stars,m=[],x=0,A=v.length;x<A;++x)for(var w=v[x],y=0,_=w.length;y<_;y+=2)m.push([w[y],w[y+1]]);return m},l.cells=function(){for(var v=this.stars,m=[],x=0,A=v.length;x<A;++x)for(var w=v[x],y=0,_=w.length;y<_;y+=2){var M=w[y],b=w[y+1];x<Math.min(M,b)&&m.push([x,M,b])}return m};function c(v,m){for(var x=new Array(v),A=0;A<v;++A)x[A]=[];return new f(x,m)}},2419:function(a){"use strict";a.exports=o;function o(i){for(var s=1,f=1;f<i.length;++f)for(var l=0;l<f;++l)if(i[f]<i[l])s=-s;else if(i[l]===i[f])return 0;return s}},3628:function(a,o,i){"use strict";var s=i(1338),f=i(727);function l(v,m){for(var x=0,A=v.length,w=0;w<A;++w)x+=v[w]*m[w];return x}function u(v){var m=v.length;if(m===0)return[];var x=v[0].length,A=s([v.length+1,v.length+1],1),w=s([v.length+1],1);A[m][m]=0;for(var y=0;y<m;++y){for(var _=0;_<=y;++_)A[_][y]=A[y][_]=2*l(v[y],v[_]);w[y]=l(v[y],v[y])}for(var M=f(A,w),b=0,E=M[m+1],y=0;y<E.length;++y)b+=E[y];for(var d=new Array(m),y=0;y<m;++y){for(var E=M[y],T=0,_=0;_<E.length;++_)T+=E[_];d[y]=T/b}return d}function c(v){if(v.length===0)return[];for(var m=v[0].length,x=s([m]),A=u(v),w=0;w<v.length;++w)for(var y=0;y<m;++y)x[y]+=v[w][y]*A[w];return x}c.barycenetric=u,a.exports=c},6037:function(a,o,i){a.exports=f;var s=i(3628);function f(l){for(var u=s(l),c=0,v=0;v<l.length;++v)for(var m=l[v],x=0;x<u.length;++x)c+=Math.pow(m[x]-u[x],2);return Math.sqrt(c/l.length)}},332:function(a,o,i){"use strict";a.exports=C;var s=i(1755),f=i(6867),l=i(1125),u=i(7842),c=i(1318),v=i(946),m=i(5838),x=i(1278),A=i(3637);function w(k){var D=v(k);return[x(D,-1/0),x(D,1/0)]}function y(k,D){for(var P=new Array(D.length),O=0;O<D.length;++O){var F=D[O],L=k[F[0]],I=k[F[1]];P[O]=[x(Math.min(L[0],I[0]),-1/0),x(Math.min(L[1],I[1]),-1/0),x(Math.max(L[0],I[0]),1/0),x(Math.max(L[1],I[1]),1/0)]}return P}function _(k){for(var D=new Array(k.length),P=0;P<k.length;++P){var O=k[P];D[P]=[x(O[0],-1/0),x(O[1],-1/0),x(O[0],1/0),x(O[1],1/0)]}return D}function M(k,D,P){var O=[];return f(P,function(F,L){var I=D[F],q=D[L];if(!(I[0]===q[0]||I[0]===q[1]||I[1]===q[0]||I[1]===q[1])){var z=k[I[0]],W=k[I[1]],$=k[q[0]],j=k[q[1]];l(z,W,$,j)&&O.push([F,L])}}),O}function b(k,D,P,O){var F=[];return f(P,O,function(L,I){var q=D[L];if(!(q[0]===I||q[1]===I)){var z=k[I],W=k[q[0]],$=k[q[1]];l(W,$,z,z)&&F.push([L,I])}}),F}function E(k,D,P,O,F){var L,I,q=k.map(function(de){return[u(de[0]),u(de[1])]});for(L=0;L<P.length;++L){var z=P[L];I=z[0];var W=z[1],$=D[I],j=D[W],G=A(m(k[$[0]]),m(k[$[1]]),m(k[j[0]]),m(k[j[1]]));if(G){var B=k.length;k.push([v(G[0]),v(G[1])]),q.push(G),O.push([I,B],[W,B])}}for(O.sort(function(de,_e){if(de[0]!==_e[0])return de[0]-_e[0];var me=q[de[1]],ve=q[_e[1]];return c(me[0],ve[0])||c(me[1],ve[1])}),L=O.length-1;L>=0;--L){var X=O[L];I=X[0];var te=D[I],J=te[0],ae=te[1],ee=k[J],H=k[ae];if((ee[0]-H[0]||ee[1]-H[1])<0){var re=J;J=ae,ae=re}te[0]=J;var V=te[1]=X[1],ne;for(F&&(ne=te[2]);L>0&&O[L-1][0]===I;){var X=O[--L],le=X[1];F?D.push([V,le,ne]):D.push([V,le]),V=le}F?D.push([V,ae,ne]):D.push([V,ae])}return q}function d(k,D,P){for(var O=D.length,F=new s(O),L=[],I=0;I<D.length;++I){var q=D[I],z=w(q[0]),W=w(q[1]);L.push([x(z[0],-1/0),x(W[0],-1/0),x(z[1],1/0),x(W[1],1/0)])}f(L,function(X,te){F.link(X,te)});for(var $=!0,j=new Array(O),I=0;I<O;++I){var G=F.find(I);G!==I&&($=!1,k[G]=[Math.min(k[I][0],k[G][0]),Math.min(k[I][1],k[G][1])])}if($)return null;for(var B=0,I=0;I<O;++I){var G=F.find(I);G===I?(j[I]=B,k[B++]=k[I]):j[I]=-1}k.length=B;for(var I=0;I<O;++I)j[I]<0&&(j[I]=j[F.find(I)]);return j}function T(k,D){return k[0]-D[0]||k[1]-D[1]}function g(k,D){var P=k[0]-D[0]||k[1]-D[1];return P||(k[2]<D[2]?-1:k[2]>D[2]?1:0)}function h(k,D,P){if(k.length!==0){if(D)for(var O=0;O<k.length;++O){var F=k[O],L=D[F[0]],I=D[F[1]];F[0]=Math.min(L,I),F[1]=Math.max(L,I)}else for(var O=0;O<k.length;++O){var F=k[O],L=F[0],I=F[1];F[0]=Math.min(L,I),F[1]=Math.max(L,I)}P?k.sort(g):k.sort(T);for(var q=1,O=1;O<k.length;++O){var z=k[O-1],W=k[O];W[0]===z[0]&&W[1]===z[1]&&(!P||W[2]===z[2])||(k[q++]=W)}k.length=q}}function S(k,D,P){var O=d(k,[],_(k));return h(D,O,P),!!O}function p(k,D,P){var O=y(k,D),F=M(k,D,O),L=_(k),I=b(k,D,O,L),q=E(k,D,F,I,P),z=d(k,q,L);return h(D,z,P),z?!0:F.length>0||I.length>0}function C(k,D,P){var O;if(P){O=D;for(var F=new Array(D.length),L=0;L<D.length;++L){var I=D[L];F[L]=[I[0],I[1],P[L]]}D=F}for(var q=S(k,D,!!P);p(k,D,!!P);)q=!0;if(P&&q){O.length=0,P.length=0;for(var L=0;L<D.length;++L){var I=D[L];O.push([I[0],I[1]]),P.push(I[2])}}return q}},3637:function(a,o,i){"use strict";a.exports=A;var s=i(6504),f=i(8697),l=i(5572),u=i(7721),c=i(544),v=i(2653),m=i(8987);function x(w,y){return l(s(w[0],y[1]),s(w[1],y[0]))}function A(w,y,_,M){var b=c(y,w),E=c(M,_),d=x(b,E);if(u(d)===0)return null;var T=c(w,_),g=x(E,T),h=f(g,d),S=m(b,h),p=v(w,S);return p}},3642:function(a){a.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(a,o,i){"use strict";var s=i(3642),f=i(395);a.exports=l;function l(m){var x,A,w,y,_,M,b,E,h,d,T;if(m||(m={}),E=(m.nshades||72)-1,b=m.format||"hex",M=m.colormap,M||(M="jet"),typeof M=="string"){if(M=M.toLowerCase(),!s[M])throw Error(M+" not a supported colorscale");_=s[M]}else if(Array.isArray(M))_=M.slice();else throw Error("unsupported colormap option",M);if(_.length>E+1)throw new Error(M+" map requires nshades to be at least size "+_.length);Array.isArray(m.alpha)?m.alpha.length!==2?d=[1,1]:d=m.alpha.slice():typeof m.alpha=="number"?d=[m.alpha,m.alpha]:d=[1,1],x=_.map(function(C){return Math.round(C.index*E)}),d[0]=Math.min(Math.max(d[0],0),1),d[1]=Math.min(Math.max(d[1],0),1);var g=_.map(function(C,k){var D=_[k].index,P=_[k].rgb.slice();return P.length===4&&P[3]>=0&&P[3]<=1||(P[3]=d[0]+(d[1]-d[0])*D),P}),h=[];for(T=0;T<x.length-1;++T){y=x[T+1]-x[T],A=g[T],w=g[T+1];for(var S=0;S<y;S++){var p=S/y;h.push([Math.round(f(A[0],w[0],p)),Math.round(f(A[1],w[1],p)),Math.round(f(A[2],w[2],p)),f(A[3],w[3],p)])}}return h.push(_[_.length-1].rgb.concat(d[1])),b==="hex"?h=h.map(c):b==="rgbaString"?h=h.map(v):b==="float"&&(h=h.map(u)),h}function u(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function c(m){for(var x,A="#",w=0;w<3;++w)x=m[w],x=x.toString(16),A+=("00"+x).substr(x.length);return A}function v(m){return"rgba("+m.join(",")+")"}},3140:function(a,o,i){"use strict";a.exports=m;var s=i(3250),f=i(8572),l=i(9362),u=i(5382),c=i(8210);function v(x,A,w){var y=l(x[0],-A[0]),_=l(x[1],-A[1]),M=l(w[0],-A[0]),b=l(w[1],-A[1]),E=c(u(y,M),u(_,b));return E[E.length-1]>=0}function m(x,A,w,y){var _=s(A,w,y);if(_===0){var M=f(s(x,A,w)),b=f(s(x,A,y));if(M===b){if(M===0){var E=v(x,A,w),d=v(x,A,y);return E===d?0:E?1:-1}return 0}else{if(b===0)return M>0||v(x,A,y)?-1:1;if(M===0)return b>0||v(x,A,w)?1:-1}return f(b-M)}var T=s(x,A,w);if(T>0)return _>0&&s(x,A,y)>0?1:-1;if(T<0)return _>0||s(x,A,y)>0?1:-1;var g=s(x,A,y);return g>0||v(x,A,w)?1:-1}},8572:function(a){"use strict";a.exports=function(i){return i<0?-1:i>0?1:0}},8507:function(a){a.exports=s;var o=Math.min;function i(f,l){return f-l}function s(f,l){var u=f.length,c=f.length-l.length;if(c)return c;switch(u){case 0:return 0;case 1:return f[0]-l[0];case 2:return f[0]+f[1]-l[0]-l[1]||o(f[0],f[1])-o(l[0],l[1]);case 3:var v=f[0]+f[1],m=l[0]+l[1];if(c=v+f[2]-(m+l[2]),c)return c;var x=o(f[0],f[1]),A=o(l[0],l[1]);return o(x,f[2])-o(A,l[2])||o(x+f[2],v)-o(A+l[2],m);case 4:var w=f[0],y=f[1],_=f[2],M=f[3],b=l[0],E=l[1],d=l[2],T=l[3];return w+y+_+M-(b+E+d+T)||o(w,y,_,M)-o(b,E,d,T,b)||o(w+y,w+_,w+M,y+_,y+M,_+M)-o(b+E,b+d,b+T,E+d,E+T,d+T)||o(w+y+_,w+y+M,w+_+M,y+_+M)-o(b+E+d,b+E+T,b+d+T,E+d+T);default:for(var g=f.slice().sort(i),h=l.slice().sort(i),S=0;S<u;++S)if(c=g[S]-h[S],c)return c;return 0}}},3788:function(a,o,i){"use strict";var s=i(8507),f=i(2419);a.exports=l;function l(u,c){return s(u,c)||f(u)-f(c)}},7352:function(a,o,i){"use strict";var s=i(5721),f=i(4750),l=i(2690);a.exports=u;function u(c){var v=c.length;if(v===0)return[];if(v===1)return[[0]];var m=c[0].length;return m===0?[]:m===1?s(c):m===2?f(c):l(c,m)}},5721:function(a){"use strict";a.exports=o;function o(i){for(var s=0,f=0,l=1;l<i.length;++l)i[l][0]<i[s][0]&&(s=l),i[l][0]>i[f][0]&&(f=l);return s<f?[[s],[f]]:s>f?[[f],[s]]:[[s]]}},4750:function(a,o,i){"use strict";a.exports=f;var s=i(3090);function f(l){var u=s(l),c=u.length;if(c<=2)return[];for(var v=new Array(c),m=u[c-1],x=0;x<c;++x){var A=u[x];v[x]=[m,A],m=A}return v}},2690:function(a,o,i){"use strict";a.exports=c;var s=i(8954),f=i(3952);function l(v,m){for(var x=v.length,A=new Array(x),w=0;w<m.length;++w)A[w]=v[m[w]];for(var y=m.length,w=0;w<x;++w)m.indexOf(w)<0&&(A[y++]=v[w]);return A}function u(v,m){for(var x=v.length,A=m.length,w=0;w<x;++w)for(var y=v[w],_=0;_<y.length;++_){var M=y[_];if(M<A)y[_]=m[M];else{M=M-A;for(var b=0;b<A;++b)M>=m[b]&&(M+=1);y[_]=M}}return v}function c(v,m){try{return s(v,!0)}catch(y){var x=f(v);if(x.length<=m)return[];var A=l(v,x),w=s(A,!0);return u(w,x)}}},4769:function(a){"use strict";function o(s,f,l,u,c,v){var m=6*c*c-6*c,x=3*c*c-4*c+1,A=-6*c*c+6*c,w=3*c*c-2*c;if(s.length){v||(v=new Array(s.length));for(var y=s.length-1;y>=0;--y)v[y]=m*s[y]+x*f[y]+A*l[y]+w*u[y];return v}return m*s+x*f+A*l[y]+w*u}function i(s,f,l,u,c,v){var m=c-1,x=c*c,A=m*m,w=(1+2*c)*A,y=c*A,_=x*(3-2*c),M=x*m;if(s.length){v||(v=new Array(s.length));for(var b=s.length-1;b>=0;--b)v[b]=w*s[b]+y*f[b]+_*l[b]+M*u[b];return v}return w*s+y*f+_*l+M*u}a.exports=i,a.exports.derivative=o},7642:function(a,o,i){"use strict";var s=i(8954),f=i(1682);a.exports=v;function l(m,x){this.point=m,this.index=x}function u(m,x){for(var A=m.point,w=x.point,y=A.length,_=0;_<y;++_){var M=w[_]-A[_];if(M)return M}return 0}function c(m,x,A){if(m===1)return A?[[-1,0]]:[];var w=x.map(function(E,d){return[E[0],d]});w.sort(function(E,d){return E[0]-d[0]});for(var y=new Array(m-1),_=1;_<m;++_){var M=w[_-1],b=w[_];y[_-1]=[M[1],b[1]]}return A&&y.push([-1,y[0][1]],[y[m-1][1],-1]),y}function v(m,x){var A=m.length;if(A===0)return[];var w=m[0].length;if(w<1)return[];if(w===1)return c(A,m,x);for(var y=new Array(A),_=1,M=0;M<A;++M){for(var b=m[M],E=new Array(w+1),d=0,T=0;T<w;++T){var g=b[T];E[T]=g,d+=g*g}E[w]=d,y[M]=new l(E,M),_=Math.max(d,_)}f(y,u),A=y.length;for(var h=new Array(A+w+1),S=new Array(A+w+1),p=(w+1)*(w+1)*_,C=new Array(w+1),M=0;M<=w;++M)C[M]=0;C[w]=p,h[0]=C.slice(),S[0]=-1;for(var M=0;M<=w;++M){var E=C.slice();E[M]=1,h[M+1]=E,S[M+1]=-1}for(var M=0;M<A;++M){var k=y[M];h[M+w+1]=k.point,S[M+w+1]=k.index}var D=s(h,!1);if(x?D=D.filter(function(P){for(var O=0,F=0;F<=w;++F){var L=S[P[F]];if(L<0&&++O>=2)return!1;P[F]=L}return!0}):D=D.filter(function(P){for(var O=0;O<=w;++O){var F=S[P[O]];if(F<0)return!1;P[O]=F}return!0}),w&1)for(var M=0;M<D.length;++M){var k=D[M],E=k[0];k[0]=k[1],k[1]=E}return D}},2361:function(a){var o=!1;if(typeof Float64Array!="undefined"){var i=new Float64Array(1),s=new Uint32Array(i.buffer);if(i[0]=1,o=!0,s[1]===1072693248){let _=function(E,d){return s[0]=E,s[1]=d,i[0]},M=function(E){return i[0]=E,s[0]},b=function(E){return i[0]=E,s[1]};var l=_,u=M,c=b;a.exports=function(d){return i[0]=d,[s[0],s[1]]},a.exports.pack=_,a.exports.lo=M,a.exports.hi=b}else if(s[0]===1072693248){let _=function(E,d){return s[1]=E,s[0]=d,i[0]},M=function(E){return i[0]=E,s[1]},b=function(E){return i[0]=E,s[0]};var v=_,m=M,x=b;a.exports=function(d){return i[0]=d,[s[1],s[0]]},a.exports.pack=_,a.exports.lo=M,a.exports.hi=b}else o=!1}if(!o){let _=function(E,d){return f.writeUInt32LE(E,0,!0),f.writeUInt32LE(d,4,!0),f.readDoubleLE(0,!0)},M=function(E){return f.writeDoubleLE(E,0,!0),f.readUInt32LE(0,!0)},b=function(E){return f.writeDoubleLE(E,0,!0),f.readUInt32LE(4,!0)};var A=_,w=M,y=b,f=new Buffer(8);a.exports=function(d){return f.writeDoubleLE(d,0,!0),[f.readUInt32LE(0,!0),f.readUInt32LE(4,!0)]},a.exports.pack=_,a.exports.lo=M,a.exports.hi=b}a.exports.sign=function(_){return a.exports.hi(_)>>>31},a.exports.exponent=function(_){var M=a.exports.hi(_);return(M<<1>>>21)-1023},a.exports.fraction=function(_){var M=a.exports.lo(_),b=a.exports.hi(_),E=b&(1<<20)-1;return b&2146435072&&(E+=1048576),[M,E]},a.exports.denormalized=function(_){var M=a.exports.hi(_);return!(M&2146435072)}},1338:function(a){"use strict";function o(f,l,u){var c=f[u]|0;if(c<=0)return[];var v=new Array(c),m;if(u===f.length-1)for(m=0;m<c;++m)v[m]=l;else for(m=0;m<c;++m)v[m]=o(f,l,u+1);return v}function i(f,l){var u,c;for(u=new Array(f),c=0;c<f;++c)u[c]=l;return u}function s(f,l){switch(typeof l=="undefined"&&(l=0),typeof f){case"number":if(f>0)return i(f|0,l);break;case"object":if(typeof f.length=="number")return o(f,l,0);break}return[]}a.exports=s},3134:function(a,o,i){"use strict";a.exports=f;var s=i(1682);function f(l,u){var c=l.length;if(typeof u!="number"){u=0;for(var v=0;v<c;++v){var m=l[v];u=Math.max(u,m[0],m[1])}u=(u|0)+1}u=u|0;for(var x=new Array(u),v=0;v<u;++v)x[v]=[];for(var v=0;v<c;++v){var m=l[v];x[m[0]].push(m[1]),x[m[1]].push(m[0])}for(var A=0;A<u;++A)s(x[A],function(w,y){return w-y});return x}},5033:function(a){"use strict";a.exports=o;function o(i,s,f){var l=s||0,u=f||1;return[[i[12]+i[0],i[13]+i[1],i[14]+i[2],i[15]+i[3]],[i[12]-i[0],i[13]-i[1],i[14]-i[2],i[15]-i[3]],[i[12]+i[4],i[13]+i[5],i[14]+i[6],i[15]+i[7]],[i[12]-i[4],i[13]-i[5],i[14]-i[6],i[15]-i[7]],[l*i[12]+i[8],l*i[13]+i[9],l*i[14]+i[10],l*i[15]+i[11]],[u*i[12]-i[8],u*i[13]-i[9],u*i[14]-i[10],u*i[15]-i[11]]]}},9215:function(a,o,i){"use strict";a.exports=m;var s=i(4769),f=i(2478);function l(x,A,w){return Math.min(A,Math.max(x,w))}function u(x,A,w){this.dimension=x.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var y=0;y<this.dimension;++y)this.bounds[0][y]=-1/0,this.bounds[1][y]=1/0;this._state=x.slice().reverse(),this._velocity=A.slice().reverse(),this._time=[w],this._scratch=[x.slice(),x.slice(),x.slice(),x.slice(),x.slice()]}var c=u.prototype;c.flush=function(x){var A=f.gt(this._time,x)-1;A<=0||(this._time.splice(0,A),this._state.splice(0,A*this.dimension),this._velocity.splice(0,A*this.dimension))},c.curve=function(x){var A=this._time,w=A.length,y=f.le(A,x),_=this._scratch[0],M=this._state,b=this._velocity,E=this.dimension,d=this.bounds;if(y<0)for(var T=E-1,g=0;g<E;++g,--T)_[g]=M[T];else if(y>=w-1)for(var T=M.length-1,h=x-A[w-1],g=0;g<E;++g,--T)_[g]=M[T]+h*b[T];else{for(var T=E*(y+1)-1,S=A[y],p=A[y+1],C=p-S||1,k=this._scratch[1],D=this._scratch[2],P=this._scratch[3],O=this._scratch[4],F=!0,g=0;g<E;++g,--T)k[g]=M[T],P[g]=b[T]*C,D[g]=M[T+E],O[g]=b[T+E]*C,F=F&&k[g]===D[g]&&P[g]===O[g]&&P[g]===0;if(F)for(var g=0;g<E;++g)_[g]=k[g];else s(k,P,D,O,(x-S)/C,_)}for(var L=d[0],I=d[1],g=0;g<E;++g)_[g]=l(L[g],I[g],_[g]);return _},c.dcurve=function(x){var A=this._time,w=A.length,y=f.le(A,x),_=this._scratch[0],M=this._state,b=this._velocity,E=this.dimension;if(y>=w-1)for(var d=M.length-1,T=x-A[w-1],g=0;g<E;++g,--d)_[g]=b[d];else{for(var d=E*(y+1)-1,h=A[y],S=A[y+1],p=S-h||1,C=this._scratch[1],k=this._scratch[2],D=this._scratch[3],P=this._scratch[4],O=!0,g=0;g<E;++g,--d)C[g]=M[d],D[g]=b[d]*p,k[g]=M[d+E],P[g]=b[d+E]*p,O=O&&C[g]===k[g]&&D[g]===P[g]&&D[g]===0;if(O)for(var g=0;g<E;++g)_[g]=0;else{s.derivative(C,D,k,P,(x-h)/p,_);for(var g=0;g<E;++g)_[g]/=p}}return _},c.lastT=function(){var x=this._time;return x[x.length-1]},c.stable=function(){for(var x=this._velocity,A=x.length,w=this.dimension-1;w>=0;--w)if(x[--A])return!1;return!0},c.jump=function(x){var A=this.lastT(),w=this.dimension;if(!(x<A||arguments.length!==w+1)){var y=this._state,_=this._velocity,M=y.length-this.dimension,b=this.bounds,E=b[0],d=b[1];this._time.push(A,x);for(var T=0;T<2;++T)for(var g=0;g<w;++g)y.push(y[M++]),_.push(0);this._time.push(x);for(var g=w;g>0;--g)y.push(l(E[g-1],d[g-1],arguments[g])),_.push(0)}},c.push=function(x){var A=this.lastT(),w=this.dimension;if(!(x<A||arguments.length!==w+1)){var y=this._state,_=this._velocity,M=y.length-this.dimension,b=x-A,E=this.bounds,d=E[0],T=E[1],g=b>1e-6?1/b:0;this._time.push(x);for(var h=w;h>0;--h){var S=l(d[h-1],T[h-1],arguments[h]);y.push(S),_.push((S-y[M++])*g)}}},c.set=function(x){var A=this.dimension;if(!(x<this.lastT()||arguments.length!==A+1)){var w=this._state,y=this._velocity,_=this.bounds,M=_[0],b=_[1];this._time.push(x);for(var E=A;E>0;--E)w.push(l(M[E-1],b[E-1],arguments[E])),y.push(0)}},c.move=function(x){var A=this.lastT(),w=this.dimension;if(!(x<=A||arguments.length!==w+1)){var y=this._state,_=this._velocity,M=y.length-this.dimension,b=this.bounds,E=b[0],d=b[1],T=x-A,g=T>1e-6?1/T:0;this._time.push(x);for(var h=w;h>0;--h){var S=arguments[h];y.push(l(E[h-1],d[h-1],y[M++]+S)),_.push(S*g)}}},c.idle=function(x){var A=this.lastT();if(!(x<A)){var w=this.dimension,y=this._state,_=this._velocity,M=y.length-w,b=this.bounds,E=b[0],d=b[1],T=x-A;this._time.push(x);for(var g=w-1;g>=0;--g)y.push(l(E[g],d[g],y[M]+T*_[M])),_.push(0),M+=1}};function v(x){for(var A=new Array(x),w=0;w<x;++w)A[w]=0;return A}function m(x,A,w){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof x=="number"){var y=v(x);return new u(y,y,0)}else return new u(x,v(x.length),0);case 2:if(typeof A=="number"){var y=v(x.length);return new u(x,y,+A)}else w=0;case 3:if(x.length!==A.length)throw new Error("state and velocity lengths must match");return new u(x,A,w)}}},3840:function(a){"use strict";a.exports=E;var o=0,i=1;function s(d,T,g,h,S,p){this._color=d,this.key=T,this.value=g,this.left=h,this.right=S,this._count=p}function f(d){return new s(d._color,d.key,d.value,d.left,d.right,d._count)}function l(d,T){return new s(d,T.key,T.value,T.left,T.right,T._count)}function u(d){d._count=1+(d.left?d.left._count:0)+(d.right?d.right._count:0)}function c(d,T){this._compare=d,this.root=T}var v=c.prototype;Object.defineProperty(v,"keys",{get:function(){var d=[];return this.forEach(function(T,g){d.push(T)}),d}}),Object.defineProperty(v,"values",{get:function(){var d=[];return this.forEach(function(T,g){d.push(g)}),d}}),Object.defineProperty(v,"length",{get:function(){return this.root?this.root._count:0}}),v.insert=function(d,T){for(var g=this._compare,h=this.root,S=[],p=[];h;){var C=g(d,h.key);S.push(h),p.push(C),C<=0?h=h.left:h=h.right}S.push(new s(o,d,T,null,null,1));for(var k=S.length-2;k>=0;--k){var h=S[k];p[k]<=0?S[k]=new s(h._color,h.key,h.value,S[k+1],h.right,h._count+1):S[k]=new s(h._color,h.key,h.value,h.left,S[k+1],h._count+1)}for(var k=S.length-1;k>1;--k){var D=S[k-1],h=S[k];if(D._color===i||h._color===i)break;var P=S[k-2];if(P.left===D)if(D.left===h){var O=P.right;if(O&&O._color===o)D._color=i,P.right=l(i,O),P._color=o,k-=1;else{if(P._color=o,P.left=D.right,D._color=i,D.right=P,S[k-2]=D,S[k-1]=h,u(P),u(D),k>=3){var F=S[k-3];F.left===P?F.left=D:F.right=D}break}}else{var O=P.right;if(O&&O._color===o)D._color=i,P.right=l(i,O),P._color=o,k-=1;else{if(D.right=h.left,P._color=o,P.left=h.right,h._color=i,h.left=D,h.right=P,S[k-2]=h,S[k-1]=D,u(P),u(D),u(h),k>=3){var F=S[k-3];F.left===P?F.left=h:F.right=h}break}}else if(D.right===h){var O=P.left;if(O&&O._color===o)D._color=i,P.left=l(i,O),P._color=o,k-=1;else{if(P._color=o,P.right=D.left,D._color=i,D.left=P,S[k-2]=D,S[k-1]=h,u(P),u(D),k>=3){var F=S[k-3];F.right===P?F.right=D:F.left=D}break}}else{var O=P.left;if(O&&O._color===o)D._color=i,P.left=l(i,O),P._color=o,k-=1;else{if(D.left=h.right,P._color=o,P.right=h.left,h._color=i,h.right=D,h.left=P,S[k-2]=h,S[k-1]=D,u(P),u(D),u(h),k>=3){var F=S[k-3];F.right===P?F.right=h:F.left=h}break}}}return S[0]._color=i,new c(g,S[0])};function m(d,T){if(T.left){var g=m(d,T.left);if(g)return g}var g=d(T.key,T.value);if(g)return g;if(T.right)return m(d,T.right)}function x(d,T,g,h){var S=T(d,h.key);if(S<=0){if(h.left){var p=x(d,T,g,h.left);if(p)return p}var p=g(h.key,h.value);if(p)return p}if(h.right)return x(d,T,g,h.right)}function A(d,T,g,h,S){var p=g(d,S.key),C=g(T,S.key),k;if(p<=0&&(S.left&&(k=A(d,T,g,h,S.left),k)||C>0&&(k=h(S.key,S.value),k)))return k;if(C>0&&S.right)return A(d,T,g,h,S.right)}v.forEach=function(T,g,h){if(this.root)switch(arguments.length){case 1:return m(T,this.root);case 2:return x(g,this._compare,T,this.root);case 3:return this._compare(g,h)>=0?void 0:A(g,h,this._compare,T,this.root)}},Object.defineProperty(v,"begin",{get:function(){for(var d=[],T=this.root;T;)d.push(T),T=T.left;return new w(this,d)}}),Object.defineProperty(v,"end",{get:function(){for(var d=[],T=this.root;T;)d.push(T),T=T.right;return new w(this,d)}}),v.at=function(d){if(d<0)return new w(this,[]);for(var T=this.root,g=[];;){if(g.push(T),T.left){if(d<T.left._count){T=T.left;continue}d-=T.left._count}if(!d)return new w(this,g);if(d-=1,T.right){if(d>=T.right._count)break;T=T.right}else break}return new w(this,[])},v.ge=function(d){for(var T=this._compare,g=this.root,h=[],S=0;g;){var p=T(d,g.key);h.push(g),p<=0&&(S=h.length),p<=0?g=g.left:g=g.right}return h.length=S,new w(this,h)},v.gt=function(d){for(var T=this._compare,g=this.root,h=[],S=0;g;){var p=T(d,g.key);h.push(g),p<0&&(S=h.length),p<0?g=g.left:g=g.right}return h.length=S,new w(this,h)},v.lt=function(d){for(var T=this._compare,g=this.root,h=[],S=0;g;){var p=T(d,g.key);h.push(g),p>0&&(S=h.length),p<=0?g=g.left:g=g.right}return h.length=S,new w(this,h)},v.le=function(d){for(var T=this._compare,g=this.root,h=[],S=0;g;){var p=T(d,g.key);h.push(g),p>=0&&(S=h.length),p<0?g=g.left:g=g.right}return h.length=S,new w(this,h)},v.find=function(d){for(var T=this._compare,g=this.root,h=[];g;){var S=T(d,g.key);if(h.push(g),S===0)return new w(this,h);S<=0?g=g.left:g=g.right}return new w(this,[])},v.remove=function(d){var T=this.find(d);return T?T.remove():this},v.get=function(d){for(var T=this._compare,g=this.root;g;){var h=T(d,g.key);if(h===0)return g.value;h<=0?g=g.left:g=g.right}};function w(d,T){this.tree=d,this._stack=T}var y=w.prototype;Object.defineProperty(y,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(y,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),y.clone=function(){return new w(this.tree,this._stack.slice())};function _(d,T){d.key=T.key,d.value=T.value,d.left=T.left,d.right=T.right,d._color=T._color,d._count=T._count}function M(d){for(var T,g,h,S,p=d.length-1;p>=0;--p){if(T=d[p],p===0){T._color=i;return}if(g=d[p-1],g.left===T){if(h=g.right,h.right&&h.right._color===o){if(h=g.right=f(h),S=h.right=f(h.right),g.right=h.left,h.left=g,h.right=S,h._color=g._color,T._color=i,g._color=i,S._color=i,u(g),u(h),p>1){var C=d[p-2];C.left===g?C.left=h:C.right=h}d[p-1]=h;return}else if(h.left&&h.left._color===o){if(h=g.right=f(h),S=h.left=f(h.left),g.right=S.left,h.left=S.right,S.left=g,S.right=h,S._color=g._color,g._color=i,h._color=i,T._color=i,u(g),u(h),u(S),p>1){var C=d[p-2];C.left===g?C.left=S:C.right=S}d[p-1]=S;return}if(h._color===i)if(g._color===o){g._color=i,g.right=l(o,h);return}else{g.right=l(o,h);continue}else{if(h=f(h),g.right=h.left,h.left=g,h._color=g._color,g._color=o,u(g),u(h),p>1){var C=d[p-2];C.left===g?C.left=h:C.right=h}d[p-1]=h,d[p]=g,p+1<d.length?d[p+1]=T:d.push(T),p=p+2}}else{if(h=g.left,h.left&&h.left._color===o){if(h=g.left=f(h),S=h.left=f(h.left),g.left=h.right,h.right=g,h.left=S,h._color=g._color,T._color=i,g._color=i,S._color=i,u(g),u(h),p>1){var C=d[p-2];C.right===g?C.right=h:C.left=h}d[p-1]=h;return}else if(h.right&&h.right._color===o){if(h=g.left=f(h),S=h.right=f(h.right),g.left=S.right,h.right=S.left,S.right=g,S.left=h,S._color=g._color,g._color=i,h._color=i,T._color=i,u(g),u(h),u(S),p>1){var C=d[p-2];C.right===g?C.right=S:C.left=S}d[p-1]=S;return}if(h._color===i)if(g._color===o){g._color=i,g.left=l(o,h);return}else{g.left=l(o,h);continue}else{if(h=f(h),g.left=h.right,h.right=g,h._color=g._color,g._color=o,u(g),u(h),p>1){var C=d[p-2];C.right===g?C.right=h:C.left=h}d[p-1]=h,d[p]=g,p+1<d.length?d[p+1]=T:d.push(T),p=p+2}}}}y.remove=function(){var d=this._stack;if(d.length===0)return this.tree;var T=new Array(d.length),g=d[d.length-1];T[T.length-1]=new s(g._color,g.key,g.value,g.left,g.right,g._count);for(var h=d.length-2;h>=0;--h){var g=d[h];g.left===d[h+1]?T[h]=new s(g._color,g.key,g.value,T[h+1],g.right,g._count):T[h]=new s(g._color,g.key,g.value,g.left,T[h+1],g._count)}if(g=T[T.length-1],g.left&&g.right){var S=T.length;for(g=g.left;g.right;)T.push(g),g=g.right;var p=T[S-1];T.push(new s(g._color,p.key,p.value,g.left,g.right,g._count)),T[S-1].key=g.key,T[S-1].value=g.value;for(var h=T.length-2;h>=S;--h)g=T[h],T[h]=new s(g._color,g.key,g.value,g.left,T[h+1],g._count);T[S-1].left=T[S]}if(g=T[T.length-1],g._color===o){var C=T[T.length-2];C.left===g?C.left=null:C.right===g&&(C.right=null),T.pop();for(var h=0;h<T.length;++h)T[h]._count--;return new c(this.tree._compare,T[0])}else if(g.left||g.right){g.left?_(g,g.left):g.right&&_(g,g.right),g._color=i;for(var h=0;h<T.length-1;++h)T[h]._count--;return new c(this.tree._compare,T[0])}else{if(T.length===1)return new c(this.tree._compare,null);for(var h=0;h<T.length;++h)T[h]._count--;var k=T[T.length-2];M(T),k.left===g?k.left=null:k.right=null}return new c(this.tree._compare,T[0])},Object.defineProperty(y,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(y,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(y,"index",{get:function(){var d=0,T=this._stack;if(T.length===0){var g=this.tree.root;return g?g._count:0}else T[T.length-1].left&&(d=T[T.length-1].left._count);for(var h=T.length-2;h>=0;--h)T[h+1]===T[h].right&&(++d,T[h].left&&(d+=T[h].left._count));return d},enumerable:!0}),y.next=function(){var d=this._stack;if(d.length!==0){var T=d[d.length-1];if(T.right)for(T=T.right;T;)d.push(T),T=T.left;else for(d.pop();d.length>0&&d[d.length-1].right===T;)T=d[d.length-1],d.pop()}},Object.defineProperty(y,"hasNext",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].right)return!0;for(var T=d.length-1;T>0;--T)if(d[T-1].left===d[T])return!0;return!1}}),y.update=function(d){var T=this._stack;if(T.length===0)throw new Error("Can't update empty node!");var g=new Array(T.length),h=T[T.length-1];g[g.length-1]=new s(h._color,h.key,d,h.left,h.right,h._count);for(var S=T.length-2;S>=0;--S)h=T[S],h.left===T[S+1]?g[S]=new s(h._color,h.key,h.value,g[S+1],h.right,h._count):g[S]=new s(h._color,h.key,h.value,h.left,g[S+1],h._count);return new c(this.tree._compare,g[0])},y.prev=function(){var d=this._stack;if(d.length!==0){var T=d[d.length-1];if(T.left)for(T=T.left;T;)d.push(T),T=T.right;else for(d.pop();d.length>0&&d[d.length-1].left===T;)T=d[d.length-1],d.pop()}},Object.defineProperty(y,"hasPrev",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].left)return!0;for(var T=d.length-1;T>0;--T)if(d[T-1].right===d[T])return!0;return!1}});function b(d,T){return d<T?-1:d>T?1:0}function E(d){return new c(d||b,null)}},3837:function(a,o,i){"use strict";a.exports=k;var s=i(4935),f=i(501),l=i(5304),u=i(6429),c=i(6444),v=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),m=ArrayBuffer,x=DataView;function A(D){return m.isView(D)&&!(D instanceof x)}function w(D){return Array.isArray(D)||A(D)}function y(D,P){return D[0]=P[0],D[1]=P[1],D[2]=P[2],D}function _(D){this.gl=D,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=l(D)}var M=_.prototype;M.update=function(D){D=D||{};function P(J,ae,ee){if(ee in D){var H=D[ee],re=this[ee],V;(J?w(H)&&w(H[0]):w(H))?this[ee]=V=[ae(H[0]),ae(H[1]),ae(H[2])]:this[ee]=V=[ae(H),ae(H),ae(H)];for(var ne=0;ne<3;++ne)if(V[ne]!==re[ne])return!0}return!1}var O=P.bind(this,!1,Number),F=P.bind(this,!1,Boolean),L=P.bind(this,!1,String),I=P.bind(this,!0,function(J){if(w(J)){if(J.length===3)return[+J[0],+J[1],+J[2],1];if(J.length===4)return[+J[0],+J[1],+J[2],+J[3]]}return[0,0,0,1]}),q,z=!1,W=!1;if("bounds"in D)for(var $=D.bounds,j=0;j<2;++j)for(var G=0;G<3;++G)$[j][G]!==this.bounds[j][G]&&(W=!0),this.bounds[j][G]=$[j][G];if("ticks"in D){q=D.ticks,z=!0,this.autoTicks=!1;for(var j=0;j<3;++j)this.tickSpacing[j]=0}else O("tickSpacing")&&(this.autoTicks=!0,W=!0);if(this._firstInit&&("ticks"in D||"tickSpacing"in D||(this.autoTicks=!0),W=!0,z=!0,this._firstInit=!1),W&&this.autoTicks&&(q=c.create(this.bounds,this.tickSpacing),z=!0),z){for(var j=0;j<3;++j)q[j].sort(function(ae,ee){return ae.x-ee.x});c.equal(q,this.ticks)?z=!1:this.ticks=q}F("tickEnable"),L("tickFont")&&(z=!0),L("tickFontStyle")&&(z=!0),L("tickFontWeight")&&(z=!0),L("tickFontVariant")&&(z=!0),O("tickSize"),O("tickAngle"),O("tickPad"),I("tickColor");var B=L("labels");L("labelFont")&&(B=!0),L("labelFontStyle")&&(B=!0),L("labelFontWeight")&&(B=!0),L("labelFontVariant")&&(B=!0),F("labelEnable"),O("labelSize"),O("labelPad"),I("labelColor"),F("lineEnable"),F("lineMirror"),O("lineWidth"),I("lineColor"),F("lineTickEnable"),F("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),I("lineTickColor"),F("gridEnable"),O("gridWidth"),I("gridColor"),F("zeroEnable"),I("zeroLineColor"),O("zeroLineWidth"),F("backgroundEnable"),I("backgroundColor");var X=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],te=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(B||z)&&this._text.update(this.bounds,this.labels,X,this.ticks,te):this._text=s(this.gl,this.bounds,this.labels,X,this.ticks,te),this._lines&&z&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=f(this.gl,this.bounds,this.ticks))};function b(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var E=[new b,new b,new b];function d(D,P,O,F,L){for(var I=D.primalOffset,q=D.primalMinor,z=D.mirrorOffset,W=D.mirrorMinor,$=F[P],j=0;j<3;++j)if(P!==j){var G=I,B=z,X=q,te=W;$&1<<j&&(G=z,B=I,X=W,te=q),G[j]=O[0][j],B[j]=O[1][j],L[j]>0?(X[j]=-1,te[j]=0):(X[j]=0,te[j]=1)}}var T=[0,0,0],g={model:v,view:v,projection:v,_ortho:!1};M.isOpaque=function(){return!0},M.isTransparent=function(){return!1},M.drawTransparent=function(D){};var h=0,S=[0,0,0],p=[0,0,0],C=[0,0,0];M.draw=function(D){D=D||g;for(var ee=this.gl,P=D.model||v,O=D.view||v,F=D.projection||v,L=this.bounds,I=D._ortho||!1,q=u(P,O,F,L,I),z=q.cubeEdges,W=q.axis,$=O[12],j=O[13],G=O[14],B=O[15],X=I?2:1,te=X*this.pixelRatio*(F[3]*$+F[7]*j+F[11]*G+F[15]*B)/ee.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=z[J],this.lastCubeProps.axis[J]=W[J];for(var ae=E,J=0;J<3;++J)d(E[J],J,this.bounds,z,W);for(var ee=this.gl,H=T,J=0;J<3;++J)this.backgroundEnable[J]?H[J]=W[J]:H[J]=0;this._background.draw(P,O,F,L,H,this.backgroundColor),this._lines.bind(P,O,F,this);for(var J=0;J<3;++J){var re=[0,0,0];W[J]>0?re[J]=L[1][J]:re[J]=L[0][J];for(var V=0;V<2;++V){var ne=(J+1+V)%3,le=(J+1+(V^1))%3;this.gridEnable[ne]&&this._lines.drawGrid(ne,le,this.bounds,re,this.gridColor[ne],this.gridWidth[ne]*this.pixelRatio)}for(var V=0;V<2;++V){var ne=(J+1+V)%3,le=(J+1+(V^1))%3;this.zeroEnable[le]&&Math.min(L[0][le],L[1][le])<=0&&Math.max(L[0][le],L[1][le])>=0&&this._lines.drawZero(ne,le,this.bounds,re,this.zeroLineColor[le],this.zeroLineWidth[le]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,ae[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,ae[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var de=y(S,ae[J].primalMinor),_e=y(p,ae[J].mirrorMinor),me=this.lineTickLength,V=0;V<3;++V){var ve=te/P[5*V];de[V]*=me[V]*ve,_e[V]*=me[V]*ve}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,ae[J].primalOffset,de,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,ae[J].mirrorOffset,_e,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(P,O,F,this.pixelRatio);var be,we=.5,Se,Ae;function Ie(er){Ae=[0,0,0],Ae[er]=1}function Ve(er,ze,Ce){var Le=(er+1)%3,Ne=(er+2)%3,tr=ze[Le],ir=ze[Ne],mr=Ce[Le],Tr=Ce[Ne];if(tr>0&&Tr>0){Ie(Le);return}else if(tr>0&&Tr<0){Ie(Le);return}else if(tr<0&&Tr>0){Ie(Le);return}else if(tr<0&&Tr<0){Ie(Le);return}else if(ir>0&&mr>0){Ie(Ne);return}else if(ir>0&&mr<0){Ie(Ne);return}else if(ir<0&&mr>0){Ie(Ne);return}else if(ir<0&&mr<0){Ie(Ne);return}}for(var J=0;J<3;++J){for(var pe=ae[J].primalMinor,xe=ae[J].mirrorMinor,Te=y(C,ae[J].primalOffset),V=0;V<3;++V)this.lineTickEnable[J]&&(Te[V]+=te*pe[V]*Math.max(this.lineTickLength[V],0)/P[5*V]);var qe=[0,0,0];if(qe[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,Se=1,be=[this.tickAlign[J],we,Se],be[0]==="auto"?be[0]=h:be[0]=parseInt(""+be[0]),Ae=[0,0,0],Ve(J,pe,xe);for(var V=0;V<3;++V)Te[V]+=te*pe[V]*this.tickPad[V]/P[5*V];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Te,this.tickColor[J],qe,Ae,be)}if(this.labelEnable[J]){Se=0,Ae=[0,0,0],this.labels[J].length>4&&(Ie(J),Se=1),be=[this.labelAlign[J],we,Se],be[0]==="auto"?be[0]=h:be[0]=parseInt(""+be[0]);for(var V=0;V<3;++V)Te[V]+=te*pe[V]*this.labelPad[V]/P[5*V];Te[J]+=.5*(L[0][J]+L[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Te,this.labelColor[J],[0,0,0],Ae,be)}}this._text.unbind()},M.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function k(D,P){var O=new _(D);return O.update(P),O}},5304:function(a,o,i){"use strict";a.exports=v;var s=i(2762),f=i(8116),l=i(1879).bg;function u(m,x,A,w){this.gl=m,this.buffer=x,this.vao=A,this.shader=w}var c=u.prototype;c.draw=function(m,x,A,w,y,_){for(var M=!1,b=0;b<3;++b)M=M||y[b];if(M){var E=this.gl;E.enable(E.POLYGON_OFFSET_FILL),E.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:x,projection:A,bounds:w,enable:y,colors:_},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),E.disable(E.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function v(m){for(var x=[],A=[],w=0,y=0;y<3;++y)for(var _=(y+1)%3,M=(y+2)%3,b=[0,0,0],E=[0,0,0],d=-1;d<=1;d+=2){A.push(w,w+2,w+1,w+1,w+2,w+3),b[y]=d,E[y]=d;for(var T=-1;T<=1;T+=2){b[_]=T;for(var g=-1;g<=1;g+=2)b[M]=g,x.push(b[0],b[1],b[2],E[0],E[1],E[2]),w+=1}var h=_;_=M,M=h}var S=s(m,new Float32Array(x)),p=s(m,new Uint16Array(A),m.ELEMENT_ARRAY_BUFFER),C=f(m,[{buffer:S,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:S,type:m.FLOAT,size:3,offset:12,stride:24}],p),k=l(m);return k.attributes.position.location=0,k.attributes.normal.location=1,new u(m,S,C,k)}},6429:function(a,o,i){"use strict";a.exports=d;var s=i(8828),f=i(6760),l=i(5202),u=i(3250),c=new Array(16),v=new Array(8),m=new Array(8),x=new Array(3),A=[0,0,0];(function(){for(var T=0;T<8;++T)v[T]=[1,1,1,1],m[T]=[1,1,1]})();function w(T,g,h){for(var S=0;S<4;++S){T[S]=h[12+S];for(var p=0;p<3;++p)T[S]+=g[p]*h[4*p+S]}}var y=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function _(T){for(var g=0;g<y.length;++g)if(T=l.positive(T,y[g]),T.length<3)return 0;for(var h=T[0],S=h[0]/h[3],p=h[1]/h[3],C=0,g=1;g+1<T.length;++g){var k=T[g],D=T[g+1],P=k[0]/k[3],O=k[1]/k[3],F=D[0]/D[3],L=D[1]/D[3],I=P-S,q=O-p,z=F-S,W=L-p;C+=Math.abs(I*W-q*z)}return C}var M=[1,1,1],b=[0,0,0],E={cubeEdges:M,axis:b};function d(T,g,h,S,p){f(c,g,T),f(c,h,c);for(var C=0,k=0;k<2;++k){x[2]=S[k][2];for(var D=0;D<2;++D){x[1]=S[D][1];for(var P=0;P<2;++P)x[0]=S[P][0],w(v[C],x,c),C+=1}}for(var O=-1,k=0;k<8;++k){for(var F=v[k][3],L=0;L<3;++L)m[k][L]=v[k][L]/F;p&&(m[k][2]*=-1),F<0&&(O<0||m[k][2]<m[O][2])&&(O=k)}if(O<0){O=0;for(var I=0;I<3;++I){for(var q=(I+2)%3,z=(I+1)%3,W=-1,$=-1,j=0;j<2;++j){var G=j<<I,B=G+(j<<q)+(1-j<<z),X=G+(1-j<<q)+(j<<z);u(m[G],m[B],m[X],A)<0||(j?W=1:$=1)}if(W<0||$<0){$>W&&(O|=1<<I);continue}for(var j=0;j<2;++j){var G=j<<I,B=G+(j<<q)+(1-j<<z),X=G+(1-j<<q)+(j<<z),te=_([v[G],v[B],v[X],v[G+(1<<q)+(1<<z)]]);j?W=te:$=te}if($>W){O|=1<<I;continue}}}for(var J=7^O,ae=-1,k=0;k<8;++k)k===O||k===J||(ae<0||m[ae][1]>m[k][1])&&(ae=k);for(var ee=-1,k=0;k<3;++k){var H=ae^1<<k;if(!(H===O||H===J)){ee<0&&(ee=H);var z=m[H];z[0]<m[ee][0]&&(ee=H)}}for(var re=-1,k=0;k<3;++k){var H=ae^1<<k;if(!(H===O||H===J||H===ee)){re<0&&(re=H);var z=m[H];z[0]>m[re][0]&&(re=H)}}var V=M;V[0]=V[1]=V[2]=0,V[s.log2(ee^ae)]=ae&ee,V[s.log2(ae^re)]=ae&re;var ne=re^7;ne===O||ne===J?(ne=ee^7,V[s.log2(re^ne)]=ne&re):V[s.log2(ee^ne)]=ne&ee;for(var le=b,de=O,I=0;I<3;++I)de&1<<I?le[I]=-1:le[I]=1;return E}},501:function(a,o,i){"use strict";a.exports=M;var s=i(2762),f=i(8116),l=i(1879).n,u=[0,0,0],c=[0,0,0],v=[0,0,0],m=[0,0,0],x=[1,1];function A(b){return b[0]=b[1]=b[2]=0,b}function w(b,E){return b[0]=E[0],b[1]=E[1],b[2]=E[2],b}function y(b,E,d,T,g,h,S,p){this.gl=b,this.vertBuffer=E,this.vao=d,this.shader=T,this.tickCount=g,this.tickOffset=h,this.gridCount=S,this.gridOffset=p}var _=y.prototype;_.bind=function(b,E,d){this.shader.bind(),this.shader.uniforms.model=b,this.shader.uniforms.view=E,this.shader.uniforms.projection=d,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=x,this.vao.bind()},_.unbind=function(){this.vao.unbind()},_.drawAxisLine=function(b,E,d,T,g){var h=A(c);this.shader.uniforms.majorAxis=c,h[b]=E[1][b]-E[0][b],this.shader.uniforms.minorAxis=h;var S=w(m,d);S[b]+=E[0][b],this.shader.uniforms.offset=S,this.shader.uniforms.lineWidth=g,this.shader.uniforms.color=T;var p=A(v);p[(b+2)%3]=1,this.shader.uniforms.screenAxis=p,this.vao.draw(this.gl.TRIANGLES,6);var p=A(v);p[(b+1)%3]=1,this.shader.uniforms.screenAxis=p,this.vao.draw(this.gl.TRIANGLES,6)},_.drawAxisTicks=function(b,E,d,T,g){if(this.tickCount[b]){var h=A(u);h[b]=1,this.shader.uniforms.majorAxis=h,this.shader.uniforms.offset=E,this.shader.uniforms.minorAxis=d,this.shader.uniforms.color=T,this.shader.uniforms.lineWidth=g;var S=A(v);S[b]=1,this.shader.uniforms.screenAxis=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b])}},_.drawGrid=function(b,E,d,T,g,h){if(this.gridCount[b]){var S=A(c);S[E]=d[1][E]-d[0][E],this.shader.uniforms.minorAxis=S;var p=w(m,T);p[E]+=d[0][E],this.shader.uniforms.offset=p;var C=A(u);C[b]=1,this.shader.uniforms.majorAxis=C;var k=A(v);k[b]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=h,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,this.gridCount[b],this.gridOffset[b])}},_.drawZero=function(b,E,d,T,g,h){var S=A(c);this.shader.uniforms.majorAxis=S,S[b]=d[1][b]-d[0][b],this.shader.uniforms.minorAxis=S;var p=w(m,T);p[b]+=d[0][b],this.shader.uniforms.offset=p;var C=A(v);C[E]=1,this.shader.uniforms.screenAxis=C,this.shader.uniforms.lineWidth=h,this.shader.uniforms.color=g,this.vao.draw(this.gl.TRIANGLES,6)},_.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function M(b,E,d){var T=[],g=[0,0,0],h=[0,0,0],S=[0,0,0],p=[0,0,0];T.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var C=0;C<3;++C){for(var P=T.length/3|0,k=0;k<d[C].length;++k){var D=+d[C][k].x;T.push(D,0,1,D,1,1,D,0,-1,D,0,-1,D,1,1,D,1,-1)}var F=T.length/3|0;g[C]=P,h[C]=F-P;for(var P=T.length/3|0,O=0;O<d[C].length;++O){var D=+d[C][O].x;T.push(D,0,1,D,1,1,D,0,-1,D,0,-1,D,1,1,D,1,-1)}var F=T.length/3|0;S[C]=P,p[C]=F-P}var L=s(b,new Float32Array(T)),I=f(b,[{buffer:L,type:b.FLOAT,size:3,stride:0,offset:0}]),q=l(b);return q.attributes.position.location=0,new y(b,L,I,q,h,g,p,S)}},1879:function(a,o,i){"use strict";var s=i(3236),f=i(9405),l=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.n=function(A){return f(A,l,u,null,[{name:"position",type:"vec3"}])};var c=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),v=s([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.Q=function(A){return f(A,c,v,null,[{name:"position",type:"vec3"}])};var m=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),x=s([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);o.bg=function(A){return f(A,m,x,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(a,o,i){"use strict";a.exports=_;var s=i(2762),f=i(8116),l=i(4359),u=i(1879).Q,c=window||process.global||{},v=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var m=3;function x(M,b,E,d){this.gl=M,this.shader=b,this.buffer=E,this.vao=d,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var A=x.prototype,w=[0,0];A.bind=function(M,b,E,d){this.vao.bind(),this.shader.bind();var T=this.shader.uniforms;T.model=M,T.view=b,T.projection=E,T.pixelScale=d,w[0]=this.gl.drawingBufferWidth,w[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=w},A.unbind=function(){this.vao.unbind()},A.update=function(M,b,E,d,T){var g=[];function h(I,q,z,W,$,j){var G=[z.style,z.weight,z.variant,z.family].join("_"),B=v[G];B||(B=v[G]={});var X=B[q];X||(X=B[q]=y(q,{triangles:!0,font:z.family,fontStyle:z.style,fontWeight:z.weight,fontVariant:z.variant,textAlign:"center",textBaseline:"middle",lineSpacing:$,styletags:j}));for(var te=(W||12)/12,J=X.positions,ae=X.cells,ee=0,H=ae.length;ee<H;++ee)for(var re=ae[ee],V=2;V>=0;--V){var ne=J[re[V]];g.push(te*ne[0],-te*ne[1],I)}}for(var S=[0,0,0],p=[0,0,0],C=[0,0,0],k=[0,0,0],D=1.25,P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){C[O]=g.length/m|0,h(.5*(M[0][O]+M[1][O]),b[O],E[O],12,D,P),k[O]=(g.length/m|0)-C[O],S[O]=g.length/m|0;for(var F=0;F<d[O].length;++F)if(d[O][F].text){var L={family:d[O][F].font||T[O].family,style:T[O].fontStyle||T[O].style,weight:T[O].fontWeight||T[O].weight,variant:T[O].fontVariant||T[O].variant};h(d[O][F].x,d[O][F].text,L,d[O][F].fontSize||12,D,P)}p[O]=(g.length/m|0)-S[O]}this.buffer.update(g),this.tickOffset=S,this.tickCount=p,this.labelOffset=C,this.labelCount=k},A.drawTicks=function(M,b,E,d,T,g,h,S){this.tickCount[M]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=T,this.shader.uniforms.angle=E,this.shader.uniforms.scale=b,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=h,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M]))},A.drawLabel=function(M,b,E,d,T,g,h,S){this.labelCount[M]&&(this.shader.uniforms.axis=g,this.shader.uniforms.color=T,this.shader.uniforms.angle=E,this.shader.uniforms.scale=b,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=h,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[M],this.labelOffset[M]))},A.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function y(M,b){try{return l(M,b)}catch(E){return console.warn('error vectorizing text:"'+M+'" error:',E),{cells:[],positions:[]}}}function _(M,b,E,d,T,g){var h=s(M),S=f(M,[{buffer:h,size:3}]),p=u(M);p.attributes.position.location=0;var C=new x(M,p,h,S);return C.update(b,E,d,T,g),C}},6444:function(a,o){"use strict";o.create=s,o.equal=f;function i(l,u){var c=l+"",v=c.indexOf("."),m=0;v>=0&&(m=c.length-v-1);var x=Math.pow(10,m),A=Math.round(l*u*x),w=A+"";if(w.indexOf("e")>=0)return w;var y=A/x,_=A%x;A<0?(y=-Math.ceil(y)|0,_=-_|0):(y=Math.floor(y)|0,_=_|0);var M=""+y;if(A<0&&(M="-"+M),m){for(var b=""+_;b.length<m;)b="0"+b;return M+"."+b}else return M}function s(l,u){for(var c=[],v=0;v<3;++v){for(var m=[],x=.5*(l[0][v]+l[1][v]),A=0;A*u[v]<=l[1][v];++A)m.push({x:A*u[v],text:i(u[v],A)});for(var A=-1;A*u[v]>=l[0][v];--A)m.push({x:A*u[v],text:i(u[v],A)});c.push(m)}return c}function f(l,u){for(var c=0;c<3;++c){if(l[c].length!==u[c].length)return!1;for(var v=0;v<l[c].length;++v){var m=l[c][v],x=u[c][v];if(m.x!==x.x||m.text!==x.text||m.font!==x.font||m.fontColor!==x.fontColor||m.fontSize!==x.fontSize||m.dx!==x.dx||m.dy!==x.dy)return!1}}return!0}},5445:function(a,o,i){"use strict";a.exports=E;var s=i(5033),f=i(5202),l=i(6429),u=i(6760),c=i(5665),v=i(5352),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),x=new Float32Array(16);function A(d,T,g){this.lo=d,this.hi=T,this.pixelsPerDataUnit=g}var w=[0,0,0,1],y=[0,0,0,1];function _(d,T,g,h,S){for(var p=0;p<3;++p){for(var C=w,k=y,D=0;D<3;++D)k[D]=C[D]=g[D];k[3]=C[3]=1,k[p]+=1,v(k,k,T),k[3]<0&&(d[p]=1/0),C[p]-=1,v(C,C,T),C[3]<0&&(d[p]=1/0);var P=(C[0]/C[3]-k[0]/k[3])*h,O=(C[1]/C[3]-k[1]/k[3])*S;d[p]=.25*Math.sqrt(P*P+O*O)}return d}var M=[new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0)],b=[0,0,0];function E(d,T,g,h,O){var p=T.model||m,C=T.view||m,k=T.projection||m,D=T._ortho||!1,P=d.bounds,O=O||l(p,C,k,P,D),F=O.axis;u(x,C,p),u(x,k,x);for(var L=M,I=0;I<3;++I)L[I].lo=1/0,L[I].hi=-1/0,L[I].pixelsPerDataUnit=1/0;var q=s(c(x,x));c(x,x);for(var z=0;z<3;++z){var W=(z+1)%3,$=(z+2)%3,j=b;e:for(var I=0;I<2;++I){var G=[];if(F[z]<0!=!!I){j[z]=P[I][z];for(var B=0;B<2;++B){j[W]=P[B^I][W];for(var X=0;X<2;++X)j[$]=P[X^B^I][$],G.push(j.slice())}for(var te=D?5:4,B=te;B===te;++B){if(G.length===0)continue e;G=f.positive(G,q[B])}for(var B=0;B<G.length;++B)for(var $=G[B],J=_(b,x,$,g,h),X=0;X<3;++X)L[X].lo=Math.min(L[X].lo,$[X]),L[X].hi=Math.max(L[X].hi,$[X]),X!==z&&(L[X].pixelsPerDataUnit=Math.min(L[X].pixelsPerDataUnit,Math.abs(J[X])))}}}return L}},2762:function(a,o,i){"use strict";var s=i(1888),f=i(5298),l=i(9618),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(y,_,M,b,E){this.gl=y,this.type=_,this.handle=M,this.length=b,this.usage=E}var v=c.prototype;v.bind=function(){this.gl.bindBuffer(this.type,this.handle)},v.unbind=function(){this.gl.bindBuffer(this.type,null)},v.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(y,_,M,b,E,d){var T=E.length*E.BYTES_PER_ELEMENT;if(d<0)return y.bufferData(_,E,b),T;if(T+d>M)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return y.bufferSubData(_,d,E),M}function x(y,_){for(var M=s.malloc(y.length,_),b=y.length,E=0;E<b;++E)M[E]=y[E];return M}function A(y,_){for(var M=1,b=_.length-1;b>=0;--b){if(_[b]!==M)return!1;M*=y[b]}return!0}v.update=function(y,_){if(typeof _!="number"&&(_=-1),this.bind(),typeof y=="object"&&typeof y.shape!="undefined"){var M=y.dtype;if(u.indexOf(M)<0&&(M="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var b=gl.getExtension("OES_element_index_uint");b&&M!=="uint16"?M="uint32":M="uint16"}if(M===y.dtype&&A(y.shape,y.stride))y.offset===0&&y.data.length===y.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,y.data,_):this.length=m(this.gl,this.type,this.length,this.usage,y.data.subarray(y.offset,y.shape[0]),_);else{var E=s.malloc(y.size,M),d=l(E,y.shape);f.assign(d,y),_<0?this.length=m(this.gl,this.type,this.length,this.usage,E,_):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,y.size),_),s.free(E)}}else if(Array.isArray(y)){var T;this.type===this.gl.ELEMENT_ARRAY_BUFFER?T=x(y,"uint16"):T=x(y,"float32"),_<0?this.length=m(this.gl,this.type,this.length,this.usage,T,_):this.length=m(this.gl,this.type,this.length,this.usage,T.subarray(0,y.length),_),s.free(T)}else if(typeof y=="object"&&typeof y.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,y,_);else if(typeof y=="number"||y===void 0){if(_>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");y=y|0,y<=0&&(y=1),this.gl.bufferData(this.type,y|0,this.usage),this.length=y}else throw new Error("gl-buffer: Invalid data type")};function w(y,_,M,b){if(M=M||y.ARRAY_BUFFER,b=b||y.DYNAMIC_DRAW,M!==y.ARRAY_BUFFER&&M!==y.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(b!==y.DYNAMIC_DRAW&&b!==y.STATIC_DRAW&&b!==y.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var E=y.createBuffer(),d=new c(y,M,E,0,b);return d.update(_),d}a.exports=w},6405:function(a,o,i){"use strict";var s=i(2931);a.exports=function(l,u){var c=l.positions,v=l.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:l.vertexIntensityBounds,vectors:[],cells:[],coneOffset:l.coneOffset,colormap:l.colormap};if(l.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),m;for(var x=0,A=1/0,w=-1/0,y=1/0,_=-1/0,M=1/0,b=-1/0,E=null,d=null,T=[],g=1/0,h=!1,S=l.coneSizemode==="raw",p=0;p<c.length;p++){var C=c[p];A=Math.min(C[0],A),w=Math.max(C[0],w),y=Math.min(C[1],y),_=Math.max(C[1],_),M=Math.min(C[2],M),b=Math.max(C[2],b);var k=v[p];if(s.length(k)>x&&(x=s.length(k)),p&&!S){var D=2*s.distance(E,C)/(s.length(d)+s.length(k));D?(g=Math.min(g,D),h=!1):h=!0}h||(E=C,d=k),T.push(k)}var P=[A,y,M],O=[w,_,b];u&&(u[0]=P,u[1]=O),x===0&&(x=1);var F=1/x;isFinite(g)||(g=1),m.vectorScale=g;var L=l.coneSize||(S?1:.5);l.absoluteConeSize&&(L=l.absoluteConeSize*F),m.coneScale=L;for(var p=0,I=0;p<c.length;p++)for(var C=c[p],q=C[0],z=C[1],W=C[2],$=T[p],j=s.length($)*F,G=0,B=8;G<B;G++){m.positions.push([q,z,W,I++]),m.positions.push([q,z,W,I++]),m.positions.push([q,z,W,I++]),m.positions.push([q,z,W,I++]),m.positions.push([q,z,W,I++]),m.positions.push([q,z,W,I++]),m.vectors.push($),m.vectors.push($),m.vectors.push($),m.vectors.push($),m.vectors.push($),m.vectors.push($),m.vertexIntensity.push(j,j,j),m.vertexIntensity.push(j,j,j);var X=m.positions.length;m.cells.push([X-6,X-5,X-4],[X-3,X-2,X-1])}return m};var f=i(614);a.exports.createMesh=i(9060),a.exports.createConeMesh=function(l,u){return a.exports.createMesh(l,u,{shaders:f,traceType:"cone"})}},9060:function(a,o,i){"use strict";var s=i(9405),f=i(2762),l=i(8116),u=i(7766),c=i(6760),v=i(7608),m=i(9618),x=i(6729),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(T,g,h,S,p,C,k,D,P,O,F){this.gl=T,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=g,this.dirty=!0,this.triShader=h,this.pickShader=S,this.trianglePositions=p,this.triangleVectors=C,this.triangleColors=D,this.triangleUVs=P,this.triangleIds=k,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=F,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=A,this._view=A,this._projection=A,this._resolution=[1,1]}var y=w.prototype;y.isOpaque=function(){return this.opacity>=1},y.isTransparent=function(){return this.opacity<1},y.pickSlots=1,y.setPickBase=function(T){this.pickId=T};function _(T){for(var g=x({colormap:T,nshades:256,format:"rgba"}),h=new Uint8Array(256*4),S=0;S<256;++S){for(var p=g[S],C=0;C<3;++C)h[4*S+C]=p[C];h[4*S+3]=p[3]*255}return m(h,[256,256,4],[4,0,1])}function M(T){for(var g=T.length,h=new Array(g),S=0;S<g;++S)h[S]=T[S][2];return h}y.update=function(T){T=T||{};var g=this.gl;this.dirty=!0,"lightPosition"in T&&(this.lightPosition=T.lightPosition),"opacity"in T&&(this.opacity=T.opacity),"ambient"in T&&(this.ambientLight=T.ambient),"diffuse"in T&&(this.diffuseLight=T.diffuse),"specular"in T&&(this.specularLight=T.specular),"roughness"in T&&(this.roughness=T.roughness),"fresnel"in T&&(this.fresnel=T.fresnel),T.tubeScale!==void 0&&(this.tubeScale=T.tubeScale),T.vectorScale!==void 0&&(this.vectorScale=T.vectorScale),T.coneScale!==void 0&&(this.coneScale=T.coneScale),T.coneOffset!==void 0&&(this.coneOffset=T.coneOffset),T.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=g.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=g.LINEAR,this.texture.setPixels(_(T.colormap)),this.texture.generateMipmap());var h=T.cells,S=T.positions,p=T.vectors;if(!(!S||!h||!p)){var C=[],k=[],D=[],P=[],O=[];this.cells=h,this.positions=S,this.vectors=p;var F=T.meshColor||[1,1,1,1],L=T.vertexIntensity,I=1/0,q=-1/0;if(L)if(T.vertexIntensityBounds)I=+T.vertexIntensityBounds[0],q=+T.vertexIntensityBounds[1];else for(var z=0;z<L.length;++z){var W=L[z];I=Math.min(I,W),q=Math.max(q,W)}else for(var z=0;z<S.length;++z){var W=S[z][2];I=Math.min(I,W),q=Math.max(q,W)}L?this.intensity=L:this.intensity=M(S),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var z=0;z<S.length;++z)for(var $=S[z],j=0;j<3;++j)isNaN($[j])||!isFinite($[j])||(this.bounds[0][j]=Math.min(this.bounds[0][j],$[j]),this.bounds[1][j]=Math.max(this.bounds[1][j],$[j]));var G=0;e:for(var z=0;z<h.length;++z){var B=h[z];switch(B.length){case 3:for(var j=0;j<3;++j)for(var X=B[j],$=S[X],te=0;te<3;++te)if(isNaN($[te])||!isFinite($[te]))continue e;for(var j=0;j<3;++j){var X=B[2-j],$=S[X];C.push($[0],$[1],$[2],$[3]);var J=p[X];k.push(J[0],J[1],J[2],J[3]||0);var ae=F;ae.length===3?D.push(ae[0],ae[1],ae[2],1):D.push(ae[0],ae[1],ae[2],ae[3]);var ee;L?ee=[(L[X]-I)/(q-I),0]:ee=[($[2]-I)/(q-I),0],P.push(ee[0],ee[1]),O.push(z)}G+=1;break;default:break}}this.triangleCount=G,this.trianglePositions.update(C),this.triangleVectors.update(k),this.triangleColors.update(D),this.triangleUVs.update(P),this.triangleIds.update(new Uint32Array(O))}},y.drawTransparent=y.draw=function(T){T=T||{};for(var g=this.gl,h=T.model||A,S=T.view||A,p=T.projection||A,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)C[0][k]=Math.max(C[0][k],this.clipBounds[0][k]),C[1][k]=Math.min(C[1][k],this.clipBounds[1][k]);var D={model:h,view:S,projection:p,inverseModel:A.slice(),clipBounds:C,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};D.inverseModel=v(D.inverseModel,D.model),g.disable(g.CULL_FACE),this.texture.bind(0);var P=new Array(16);c(P,D.view,D.model),c(P,D.projection,P),v(P,P);for(var k=0;k<3;++k)D.eyePosition[k]=P[12+k]/P[15];for(var O=P[15],k=0;k<3;++k)O+=this.lightPosition[k]*P[4*k+3];for(var k=0;k<3;++k){for(var F=P[12+k],L=0;L<3;++L)F+=P[4*L+k]*this.lightPosition[L];D.lightPosition[k]=F/O}if(this.triangleCount>0){var I=this.triShader;I.bind(),I.uniforms=D,this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},y.drawPick=function(T){T=T||{};for(var g=this.gl,h=T.model||A,S=T.view||A,p=T.projection||A,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)C[0][k]=Math.max(C[0][k],this.clipBounds[0][k]),C[1][k]=Math.min(C[1][k],this.clipBounds[1][k]);this._model=[].slice.call(h),this._view=[].slice.call(S),this._projection=[].slice.call(p),this._resolution=[g.drawingBufferWidth,g.drawingBufferHeight];var D={model:h,view:S,projection:p,clipBounds:C,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},P=this.pickShader;P.bind(),P.uniforms=D,this.triangleCount>0&&(this.triangleVAO.bind(),g.drawArrays(g.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},y.pick=function(T){if(!T||T.id!==this.pickId)return null;var g=T.value[0]+256*T.value[1]+65536*T.value[2],h=this.cells[g],S=this.positions[h[1]].slice(0,3),p={position:S,dataCoordinate:S,index:Math.floor(h[1]/48)};return this.traceType==="cone"?p.index=Math.floor(h[1]/48):this.traceType==="streamtube"&&(p.intensity=this.intensity[h[1]],p.velocity=this.vectors[h[1]].slice(0,3),p.divergence=this.vectors[h[1]][3],p.index=g),p},y.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function b(T,g){var h=s(T,g.meshShader.vertex,g.meshShader.fragment,null,g.meshShader.attributes);return h.attributes.position.location=0,h.attributes.color.location=2,h.attributes.uv.location=3,h.attributes.vector.location=4,h}function E(T,g){var h=s(T,g.pickShader.vertex,g.pickShader.fragment,null,g.pickShader.attributes);return h.attributes.position.location=0,h.attributes.id.location=1,h.attributes.vector.location=4,h}function d(T,g,h){var S=h.shaders;arguments.length===1&&(g=T,T=g.gl);var p=b(T,S),C=E(T,S),k=u(T,m(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=T.LINEAR_MIPMAP_LINEAR,k.magFilter=T.LINEAR;var D=f(T),P=f(T),O=f(T),F=f(T),L=f(T),I=l(T,[{buffer:D,type:T.FLOAT,size:4},{buffer:L,type:T.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:T.FLOAT,size:4},{buffer:F,type:T.FLOAT,size:2},{buffer:P,type:T.FLOAT,size:4}]),q=new w(T,k,p,C,D,P,L,O,F,I,h.traceType||"cone");return q.update(g),q}a.exports=d},614:function(a,o,i){var s=i(3236),f=s([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),l=s([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=s([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:f,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},o.pickShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(a){a.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(a,o,i){var s=i(737);a.exports=function(l){return s[l]}},9165:function(a,o,i){"use strict";a.exports=w;var s=i(2762),f=i(8116),l=i(3436),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(y,_,M,b){this.gl=y,this.shader=b,this.buffer=_,this.vao=M,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var v=c.prototype;v.isOpaque=function(){return!this.hasAlpha},v.isTransparent=function(){return this.hasAlpha},v.drawTransparent=v.draw=function(y){var _=this.gl,M=this.shader.uniforms;this.shader.bind();var b=M.view=y.view||u,E=M.projection=y.projection||u;M.model=y.model||u,M.clipBounds=this.clipBounds,M.opacity=this.opacity;var d=b[12],T=b[13],g=b[14],h=b[15],S=y._ortho||!1,p=S?2:1,C=p*this.pixelRatio*(E[3]*d+E[7]*T+E[11]*g+E[15]*h)/_.drawingBufferHeight;this.vao.bind();for(var k=0;k<3;++k)_.lineWidth(this.lineWidth[k]*this.pixelRatio),M.capSize=this.capSize[k]*C,this.lineCount[k]&&_.drawArrays(_.LINES,this.lineOffset[k],this.lineCount[k]);this.vao.unbind()};function m(y,_){for(var M=0;M<3;++M)y[0][M]=Math.min(y[0][M],_[M]),y[1][M]=Math.max(y[1][M],_[M])}var x=function(){for(var y=new Array(3),_=0;_<3;++_){for(var M=[],b=1;b<=2;++b)for(var E=-1;E<=1;E+=2){var d=(b+_)%3,T=[0,0,0];T[d]=E,M.push(T)}y[_]=M}return y}();function A(y,_,M,b){for(var E=x[b],d=0;d<E.length;++d){var T=E[d];y.push(_[0],_[1],_[2],M[0],M[1],M[2],M[3],T[0],T[1],T[2])}return E.length}v.update=function(y){y=y||{},"lineWidth"in y&&(this.lineWidth=y.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in y&&(this.capSize=y.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in y&&(this.opacity=+y.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=y.color||[[0,0,0],[0,0,0],[0,0,0]],M=y.position,b=y.error;if(Array.isArray(_[0])||(_=[_,_,_]),M&&b){var E=[],d=M.length,T=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var g=0;g<3;++g){this.lineOffset[g]=T;e:for(var h=0;h<d;++h){for(var S=M[h],p=0;p<3;++p)if(isNaN(S[p])||!isFinite(S[p]))continue e;var C=b[h],k=_[g];if(Array.isArray(k[0])&&(k=_[h]),k.length===3?k=[k[0],k[1],k[2],1]:k.length===4&&(k=[k[0],k[1],k[2],k[3]],!this.hasAlpha&&k[3]<1&&(this.hasAlpha=!0)),!(isNaN(C[0][g])||isNaN(C[1][g]))){if(C[0][g]<0){var D=S.slice();D[g]+=C[0][g],E.push(S[0],S[1],S[2],k[0],k[1],k[2],k[3],0,0,0,D[0],D[1],D[2],k[0],k[1],k[2],k[3],0,0,0),m(this.bounds,D),T+=2+A(E,D,k,g)}if(C[1][g]>0){var D=S.slice();D[g]+=C[1][g],E.push(S[0],S[1],S[2],k[0],k[1],k[2],k[3],0,0,0,D[0],D[1],D[2],k[0],k[1],k[2],k[3],0,0,0),m(this.bounds,D),T+=2+A(E,D,k,g)}}}this.lineCount[g]=T-this.lineOffset[g]}this.buffer.update(E)}},v.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function w(y){var _=y.gl,M=s(_),b=f(_,[{buffer:M,type:_.FLOAT,size:3,offset:0,stride:40},{buffer:M,type:_.FLOAT,size:4,offset:12,stride:40},{buffer:M,type:_.FLOAT,size:3,offset:28,stride:40}]),E=l(_);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.offset.location=2;var d=new c(_,M,b,E);return d.update(y),d}},3436:function(a,o,i){"use strict";var s=i(3236),f=i(9405),l=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);a.exports=function(c){return f(c,l,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(a,o,i){"use strict";var s=i(7766);a.exports=T;var f=null,l,u,c,v;function m(g){var h=g.getParameter(g.FRAMEBUFFER_BINDING),S=g.getParameter(g.RENDERBUFFER_BINDING),p=g.getParameter(g.TEXTURE_BINDING_2D);return[h,S,p]}function x(g,h){g.bindFramebuffer(g.FRAMEBUFFER,h[0]),g.bindRenderbuffer(g.RENDERBUFFER,h[1]),g.bindTexture(g.TEXTURE_2D,h[2])}function A(g,h){var S=g.getParameter(h.MAX_COLOR_ATTACHMENTS_WEBGL);f=new Array(S+1);for(var p=0;p<=S;++p){for(var C=new Array(S),k=0;k<p;++k)C[k]=g.COLOR_ATTACHMENT0+k;for(var k=p;k<S;++k)C[k]=g.NONE;f[p]=C}}function w(g){switch(g){case l:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case v:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function y(g,h,S,p,C,k){if(!p)return null;var D=s(g,h,S,C,p);return D.magFilter=g.NEAREST,D.minFilter=g.NEAREST,D.mipSamples=1,D.bind(),g.framebufferTexture2D(g.FRAMEBUFFER,k,g.TEXTURE_2D,D.handle,0),D}function _(g,h,S,p,C){var k=g.createRenderbuffer();return g.bindRenderbuffer(g.RENDERBUFFER,k),g.renderbufferStorage(g.RENDERBUFFER,p,h,S),g.framebufferRenderbuffer(g.FRAMEBUFFER,C,g.RENDERBUFFER,k),k}function M(g){var h=m(g.gl),S=g.gl,p=g.handle=S.createFramebuffer(),C=g._shape[0],k=g._shape[1],D=g.color.length,P=g._ext,O=g._useStencil,F=g._useDepth,L=g._colorType;S.bindFramebuffer(S.FRAMEBUFFER,p);for(var I=0;I<D;++I)g.color[I]=y(S,C,k,L,S.RGBA,S.COLOR_ATTACHMENT0+I);D===0?(g._color_rb=_(S,C,k,S.RGBA4,S.COLOR_ATTACHMENT0),P&&P.drawBuffersWEBGL(f[0])):D>1&&P.drawBuffersWEBGL(f[D]);var q=S.getExtension("WEBGL_depth_texture");q?O?g.depth=y(S,C,k,q.UNSIGNED_INT_24_8_WEBGL,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):F&&(g.depth=y(S,C,k,S.UNSIGNED_SHORT,S.DEPTH_COMPONENT,S.DEPTH_ATTACHMENT)):F&&O?g._depth_rb=_(S,C,k,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):F?g._depth_rb=_(S,C,k,S.DEPTH_COMPONENT16,S.DEPTH_ATTACHMENT):O&&(g._depth_rb=_(S,C,k,S.STENCIL_INDEX,S.STENCIL_ATTACHMENT));var z=S.checkFramebufferStatus(S.FRAMEBUFFER);if(z!==S.FRAMEBUFFER_COMPLETE){g._destroyed=!0,S.bindFramebuffer(S.FRAMEBUFFER,null),S.deleteFramebuffer(g.handle),g.handle=null,g.depth&&(g.depth.dispose(),g.depth=null),g._depth_rb&&(S.deleteRenderbuffer(g._depth_rb),g._depth_rb=null);for(var I=0;I<g.color.length;++I)g.color[I].dispose(),g.color[I]=null;g._color_rb&&(S.deleteRenderbuffer(g._color_rb),g._color_rb=null),x(S,h),w(z)}x(S,h)}function b(g,h,S,p,C,k,D,P){this.gl=g,this._shape=[h|0,S|0],this._destroyed=!1,this._ext=P,this.color=new Array(C);for(var O=0;O<C;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=p,this._useDepth=k,this._useStencil=D;var F=this,L=[h|0,S|0];Object.defineProperties(L,{0:{get:function(){return F._shape[0]},set:function(I){return F.width=I}},1:{get:function(){return F._shape[1]},set:function(I){return F.height=I}}}),this._shapeVector=L,M(this)}var E=b.prototype;function d(g,h,S){if(g._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(g._shape[0]===h&&g._shape[1]===S)){var p=g.gl,C=p.getParameter(p.MAX_RENDERBUFFER_SIZE);if(h<0||h>C||S<0||S>C)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");g._shape[0]=h,g._shape[1]=S;for(var k=m(p),D=0;D<g.color.length;++D)g.color[D].shape=g._shape;g._color_rb&&(p.bindRenderbuffer(p.RENDERBUFFER,g._color_rb),p.renderbufferStorage(p.RENDERBUFFER,p.RGBA4,g._shape[0],g._shape[1])),g.depth&&(g.depth.shape=g._shape),g._depth_rb&&(p.bindRenderbuffer(p.RENDERBUFFER,g._depth_rb),g._useDepth&&g._useStencil?p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_STENCIL,g._shape[0],g._shape[1]):g._useDepth?p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_COMPONENT16,g._shape[0],g._shape[1]):g._useStencil&&p.renderbufferStorage(p.RENDERBUFFER,p.STENCIL_INDEX,g._shape[0],g._shape[1])),p.bindFramebuffer(p.FRAMEBUFFER,g.handle);var P=p.checkFramebufferStatus(p.FRAMEBUFFER);P!==p.FRAMEBUFFER_COMPLETE&&(g.dispose(),x(p,k),w(P)),x(p,k)}}Object.defineProperties(E,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(g){if(Array.isArray(g)||(g=[g|0,g|0]),g.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var h=g[0]|0,S=g[1]|0;return d(this,h,S),[h,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(g){return g=g|0,d(this,g,this._shape[1]),g},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(g){return g=g|0,d(this,this._shape[0],g),g},enumerable:!1}}),E.bind=function(){if(!this._destroyed){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,this.handle),g.viewport(0,0,this._shape[0],this._shape[1])}},E.dispose=function(){if(!this._destroyed){this._destroyed=!0;var g=this.gl;g.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(g.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var h=0;h<this.color.length;++h)this.color[h].dispose(),this.color[h]=null;this._color_rb&&(g.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function T(g,h,S,p){l||(l=g.FRAMEBUFFER_UNSUPPORTED,u=g.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=g.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,v=g.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var C=g.getExtension("WEBGL_draw_buffers");if(!f&&C&&A(g,C),Array.isArray(h)&&(p=S,S=h[1]|0,h=h[0]|0),typeof h!="number")throw new Error("gl-fbo: Missing shape parameter");var k=g.getParameter(g.MAX_RENDERBUFFER_SIZE);if(h<0||h>k||S<0||S>k)throw new Error("gl-fbo: Parameters are too large for FBO");p=p||{};var D=1;if("color"in p){if(D=Math.max(p.color|0,0),D<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(D>1)if(C){if(D>g.getParameter(C.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+D+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var P=g.UNSIGNED_BYTE,O=g.getExtension("OES_texture_float");if(p.float&&D>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");P=g.FLOAT}else p.preferFloat&&D>0&&O&&(P=g.FLOAT);var F=!0;"depth"in p&&(F=!!p.depth);var L=!1;return"stencil"in p&&(L=!!p.stencil),new b(g,h,S,P,D,F,L,C)}},2992:function(a,o,i){var s=i(3387).sprintf,f=i(5171),l=i(1848),u=i(1085);a.exports=c;function c(v,m,x){"use strict";var A=l(m)||"of unknown name (see npm glsl-shader-name)",w="unknown type";x!==void 0&&(w=x===f.FRAGMENT_SHADER?"fragment":"vertex");for(var y=s(`Error compiling %s shader %s:
`,w,A),_=s("%s%s",y,v),M=v.split(`
`),b={},E=0;E<M.length;E++){var d=M[E];if(!(d===""||d==="\0")){var T=parseInt(d.split(":")[2]);if(isNaN(T))throw new Error(s("Could not parse error: %s",d));b[T]=d}}for(var g=u(m).split(`
`),E=0;E<g.length;E++)if(!(!b[E+3]&&!b[E+2]&&!b[E+1])){var h=g[E];if(y+=h+`
`,b[E+1]){var S=b[E+1];S=S.substr(S.split(":",3).join(":").length+1).trim(),y+=s(`^^^ %s

`,S)}}return{long:y.trim(),short:_.trim()}}},2510:function(a,o,i){"use strict";a.exports=w;var s=i(2478),f=i(7762),l=i(1888),u=i(9405),c=i(2762),v=i(6768);function m(y,_,M,b,E,d,T){this.plot=y,this.shader=_,this.pickShader=M,this.positionBuffer=b,this.weightBuffer=E,this.colorBuffer=d,this.idBuffer=T,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var x=m.prototype,A=[0,0,1,0,0,1,1,0,1,1,0,1];x.draw=function(){var y=[1,0,0,0,1,0,0,0,1];return function(){var _=this.plot,M=this.shader,b=this.bounds,E=this.numVertices;if(!(E<=0)){var d=_.gl,T=_.dataBox,g=b[2]-b[0],h=b[3]-b[1],S=T[2]-T[0],p=T[3]-T[1];y[0]=2*g/S,y[4]=2*h/p,y[6]=2*(b[0]-T[0])/S-1,y[7]=2*(b[1]-T[1])/p-1,M.bind();var C=M.uniforms;C.viewTransform=y,C.shape=this.shape;var k=M.attributes;this.positionBuffer.bind(),k.position.pointer(),this.weightBuffer.bind(),k.weight.pointer(d.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),k.color.pointer(d.UNSIGNED_BYTE,!0),d.drawArrays(d.TRIANGLES,0,E)}}}(),x.drawPick=function(){var y=[1,0,0,0,1,0,0,0,1],_=[0,0,0,0];return function(M){var b=this.plot,E=this.pickShader,d=this.bounds,T=this.numVertices;if(!(T<=0)){var g=b.gl,h=b.dataBox,S=d[2]-d[0],p=d[3]-d[1],C=h[2]-h[0],k=h[3]-h[1];y[0]=2*S/C,y[4]=2*p/k,y[6]=2*(d[0]-h[0])/C-1,y[7]=2*(d[1]-h[1])/k-1;for(var D=0;D<4;++D)_[D]=M>>D*8&255;this.pickOffset=M,E.bind();var P=E.uniforms;P.viewTransform=y,P.pickOffset=_,P.shape=this.shape;var O=E.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(g.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(g.UNSIGNED_BYTE,!1),g.drawArrays(g.TRIANGLES,0,T),M+this.shape[0]*this.shape[1]}}}(),x.pick=function(y,_,M){var b=this.pickOffset,E=this.shape[0]*this.shape[1];if(M<b||M>=b+E)return null;var d=M-b,T=this.xData,g=this.yData;return{object:this,pointId:d,dataCoord:[T[d%this.shape[0]],g[d/this.shape[0]|0]]}},x.update=function(y){y=y||{};var _=y.shape||[0,0],M=y.x||f(_[0]),b=y.y||f(_[1]),E=y.z||new Float32Array(_[0]*_[1]),d=y.zsmooth!==!1;this.xData=M,this.yData=b;var T=y.colorLevels||[0],g=y.colorValues||[0,0,0,1],h=T.length,S=this.bounds,p,C,k,D;d?(p=S[0]=M[0],C=S[1]=b[0],k=S[2]=M[M.length-1],D=S[3]=b[b.length-1]):(p=S[0]=M[0]+(M[1]-M[0])/2,C=S[1]=b[0]+(b[1]-b[0])/2,k=S[2]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2,D=S[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var P=1/(k-p),O=1/(D-C),F=_[0],L=_[1];this.shape=[F,L];var I=(d?(F-1)*(L-1):F*L)*(A.length>>>1);this.numVertices=I;for(var q=l.mallocUint8(I*4),z=l.mallocFloat32(I*2),W=l.mallocUint8(I*2),$=l.mallocUint32(I),j=0,G=d?F-1:F,B=d?L-1:L,X=0;X<B;++X){var te,J;d?(te=O*(b[X]-C),J=O*(b[X+1]-C)):(te=X<L-1?O*(b[X]-(b[X+1]-b[X])/2-C):O*(b[X]-(b[X]-b[X-1])/2-C),J=X<L-1?O*(b[X]+(b[X+1]-b[X])/2-C):O*(b[X]+(b[X]-b[X-1])/2-C));for(var ae=0;ae<G;++ae){var ee,H;d?(ee=P*(M[ae]-p),H=P*(M[ae+1]-p)):(ee=ae<F-1?P*(M[ae]-(M[ae+1]-M[ae])/2-p):P*(M[ae]-(M[ae]-M[ae-1])/2-p),H=ae<F-1?P*(M[ae]+(M[ae+1]-M[ae])/2-p):P*(M[ae]+(M[ae]-M[ae-1])/2-p));for(var re=0;re<A.length;re+=2){var V=A[re],ne=A[re+1],le=d?(X+ne)*F+(ae+V):X*F+ae,de=E[le],_e=s.le(T,de),me,ve,be,we;if(_e<0)me=g[0],ve=g[1],be=g[2],we=g[3];else if(_e===h-1)me=g[4*h-4],ve=g[4*h-3],be=g[4*h-2],we=g[4*h-1];else{var Se=(de-T[_e])/(T[_e+1]-T[_e]),Ae=1-Se,Ie=4*_e,Ve=4*(_e+1);me=Ae*g[Ie]+Se*g[Ve],ve=Ae*g[Ie+1]+Se*g[Ve+1],be=Ae*g[Ie+2]+Se*g[Ve+2],we=Ae*g[Ie+3]+Se*g[Ve+3]}q[4*j]=255*me,q[4*j+1]=255*ve,q[4*j+2]=255*be,q[4*j+3]=255*we,z[2*j]=ee*.5+H*.5,z[2*j+1]=te*.5+J*.5,W[2*j]=V,W[2*j+1]=ne,$[j]=X*F+ae,j+=1}}}this.positionBuffer.update(z),this.weightBuffer.update(W),this.colorBuffer.update(q),this.idBuffer.update($),l.free(z),l.free(q),l.free(W),l.free($)},x.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function w(y,_){var M=y.gl,b=u(M,v.vertex,v.fragment),E=u(M,v.pickVertex,v.pickFragment),d=c(M),T=c(M),g=c(M),h=c(M),S=new m(y,b,E,d,T,g,h);return S.update(_),y.addObject(S),S}},6768:function(a,o,i){"use strict";var s=i(3236);a.exports={fragment:s([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:s([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(a,o,i){var s=i(3236),f=i(9405),l=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),c=s([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),v=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];o.createShader=function(m){return f(m,l,u,null,v)},o.createPickShader=function(m){return f(m,l,c,null,v)}},5714:function(a,o,i){"use strict";a.exports=g;var s=i(2762),f=i(8116),l=i(7766),u=new Uint8Array(4),c=new Float32Array(u.buffer);function v(h,S,p,C){return u[0]=C,u[1]=p,u[2]=S,u[3]=h,c[0]}var m=i(2478),x=i(9618),A=i(7319),w=A.createShader,y=A.createPickShader,_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(h,S){for(var p=0,C=0;C<3;++C){var k=h[C]-S[C];p+=k*k}return Math.sqrt(p)}function b(h){for(var S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],p=0;p<3;++p)S[0][p]=Math.max(h[0][p],S[0][p]),S[1][p]=Math.min(h[1][p],S[1][p]);return S}function E(h,S,p,C){this.arcLength=h,this.position=S,this.index=p,this.dataCoordinate=C}function d(h,S,p,C,k,D){this.gl=h,this.shader=S,this.pickShader=p,this.buffer=C,this.vao=k,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=D,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var T=d.prototype;T.isTransparent=function(){return this.hasAlpha},T.isOpaque=function(){return!this.hasAlpha},T.pickSlots=1,T.setPickBase=function(h){this.pickId=h},T.drawTransparent=T.draw=function(h){if(this.vertexCount){var S=this.gl,p=this.shader,C=this.vao;p.bind(),p.uniforms={model:h.model||_,view:h.view||_,projection:h.projection||_,clipBounds:b(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},C.bind(),C.draw(S.TRIANGLE_STRIP,this.vertexCount),C.unbind()}},T.drawPick=function(h){if(this.vertexCount){var S=this.gl,p=this.pickShader,C=this.vao;p.bind(),p.uniforms={model:h.model||_,view:h.view||_,projection:h.projection||_,pickId:this.pickId,clipBounds:b(this.clipBounds),screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},C.bind(),C.draw(S.TRIANGLE_STRIP,this.vertexCount),C.unbind()}},T.update=function(h){var S,p;this.dirty=!0;var C=!!h.connectGaps;"dashScale"in h&&(this.dashScale=h.dashScale),this.hasAlpha=!1,"opacity"in h&&(this.opacity=+h.opacity,this.opacity<1&&(this.hasAlpha=!0));var k=[],D=[],P=[],O=0,F=0,L=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],I=h.position||h.positions;if(I){var q=h.color||h.colors||[0,0,0,1],z=h.lineWidth||1,W=!1;e:for(S=1;S<I.length;++S){var $=I[S-1],j=I[S];for(D.push(O),P.push($.slice()),p=0;p<3;++p){if(isNaN($[p])||isNaN(j[p])||!isFinite($[p])||!isFinite(j[p])){if(!C&&k.length>0){for(var G=0;G<24;++G)k.push(k[k.length-12]);F+=2,W=!0}continue e}L[0][p]=Math.min(L[0][p],$[p],j[p]),L[1][p]=Math.max(L[1][p],$[p],j[p])}var B,X;Array.isArray(q[0])?(B=q.length>S-1?q[S-1]:q.length>0?q[q.length-1]:[0,0,0,1],X=q.length>S?q[S]:q.length>0?q[q.length-1]:[0,0,0,1]):B=X=q,B.length===3&&(B=[B[0],B[1],B[2],1]),X.length===3&&(X=[X[0],X[1],X[2],1]),!this.hasAlpha&&B[3]<1&&(this.hasAlpha=!0);var te;Array.isArray(z)?te=z.length>S-1?z[S-1]:z.length>0?z[z.length-1]:[0,0,0,1]:te=z;var J=O;if(O+=M($,j),W){for(p=0;p<2;++p)k.push($[0],$[1],$[2],j[0],j[1],j[2],J,te,B[0],B[1],B[2],B[3]);F+=2,W=!1}k.push($[0],$[1],$[2],j[0],j[1],j[2],J,te,B[0],B[1],B[2],B[3],$[0],$[1],$[2],j[0],j[1],j[2],J,-te,B[0],B[1],B[2],B[3],j[0],j[1],j[2],$[0],$[1],$[2],O,-te,X[0],X[1],X[2],X[3],j[0],j[1],j[2],$[0],$[1],$[2],O,te,X[0],X[1],X[2],X[3]),F+=4}}if(this.buffer.update(k),D.push(O),P.push(I[I.length-1].slice()),this.bounds=L,this.vertexCount=F,this.points=P,this.arcLength=D,"dashes"in h){var ae=h.dashes,ee=ae.slice();for(ee.unshift(0),S=1;S<ee.length;++S)ee[S]=ee[S-1]+ee[S];var H=x(new Array(256*4),[256,1,4]);for(S=0;S<256;++S){for(p=0;p<4;++p)H.set(S,0,p,0);m.le(ee,ee[ee.length-1]*S/255)&1?H.set(S,0,0,0):H.set(S,0,0,255)}this.texture.setPixels(H)}},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},T.pick=function(h){if(!h||h.id!==this.pickId)return null;var S=v(h.value[0],h.value[1],h.value[2],0),p=m.le(this.arcLength,S);if(p<0)return null;if(p===this.arcLength.length-1)return new E(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),p);for(var C=this.points[p],k=this.points[Math.min(p+1,this.points.length-1)],D=(S-this.arcLength[p])/(this.arcLength[p+1]-this.arcLength[p]),P=1-D,O=[0,0,0],F=0;F<3;++F)O[F]=P*C[F]+D*k[F];var L=Math.min(D<.5?p:p+1,this.points.length-1);return new E(S,O,L,this.points[L])};function g(h){var S=h.gl||h.scene&&h.scene.gl,p=w(S);p.attributes.position.location=0,p.attributes.nextPosition.location=1,p.attributes.arcLength.location=2,p.attributes.lineWidth.location=3,p.attributes.color.location=4;var C=y(S);C.attributes.position.location=0,C.attributes.nextPosition.location=1,C.attributes.arcLength.location=2,C.attributes.lineWidth.location=3,C.attributes.color.location=4;for(var k=s(S),D=f(S,[{buffer:k,size:3,offset:0,stride:48},{buffer:k,size:3,offset:12,stride:48},{buffer:k,size:1,offset:24,stride:48},{buffer:k,size:1,offset:28,stride:48},{buffer:k,size:4,offset:32,stride:48}]),P=x(new Array(256*4),[256,1,4]),O=0;O<1024;++O)P.data[O]=255;var F=l(S,P);F.wrap=S.REPEAT;var L=new d(S,p,C,k,D,F);return L.update(h),L}},1903:function(a){a.exports=o;function o(i){var s=new Float32Array(16);return s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s[4]=i[4],s[5]=i[5],s[6]=i[6],s[7]=i[7],s[8]=i[8],s[9]=i[9],s[10]=i[10],s[11]=i[11],s[12]=i[12],s[13]=i[13],s[14]=i[14],s[15]=i[15],s}},6864:function(a){a.exports=o;function o(){var i=new Float32Array(16);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},9921:function(a){a.exports=o;function o(i){var s=i[0],f=i[1],l=i[2],u=i[3],c=i[4],v=i[5],m=i[6],x=i[7],A=i[8],w=i[9],y=i[10],_=i[11],M=i[12],b=i[13],E=i[14],d=i[15],T=s*v-f*c,g=s*m-l*c,h=s*x-u*c,S=f*m-l*v,p=f*x-u*v,C=l*x-u*m,k=A*b-w*M,D=A*E-y*M,P=A*d-_*M,O=w*E-y*b,F=w*d-_*b,L=y*d-_*E;return T*L-g*F+h*O+S*P-p*D+C*k}},7399:function(a){a.exports=o;function o(i,s){var f=s[0],l=s[1],u=s[2],c=s[3],v=f+f,m=l+l,x=u+u,A=f*v,w=l*v,y=l*m,_=u*v,M=u*m,b=u*x,E=c*v,d=c*m,T=c*x;return i[0]=1-y-b,i[1]=w+T,i[2]=_-d,i[3]=0,i[4]=w-T,i[5]=1-A-b,i[6]=M+E,i[7]=0,i[8]=_+d,i[9]=M-E,i[10]=1-A-y,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},6743:function(a){a.exports=o;function o(i,s,f){var l=s[0],u=s[1],c=s[2],v=s[3],m=l+l,x=u+u,A=c+c,w=l*m,y=l*x,_=l*A,M=u*x,b=u*A,E=c*A,d=v*m,T=v*x,g=v*A;return i[0]=1-(M+E),i[1]=y+g,i[2]=_-T,i[3]=0,i[4]=y-g,i[5]=1-(w+E),i[6]=b+d,i[7]=0,i[8]=_+T,i[9]=b-d,i[10]=1-(w+M),i[11]=0,i[12]=f[0],i[13]=f[1],i[14]=f[2],i[15]=1,i}},7894:function(a){a.exports=o;function o(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},7608:function(a){a.exports=o;function o(i,s){var f=s[0],l=s[1],u=s[2],c=s[3],v=s[4],m=s[5],x=s[6],A=s[7],w=s[8],y=s[9],_=s[10],M=s[11],b=s[12],E=s[13],d=s[14],T=s[15],g=f*m-l*v,h=f*x-u*v,S=f*A-c*v,p=l*x-u*m,C=l*A-c*m,k=u*A-c*x,D=w*E-y*b,P=w*d-_*b,O=w*T-M*b,F=y*d-_*E,L=y*T-M*E,I=_*T-M*d,q=g*I-h*L+S*F+p*O-C*P+k*D;return q?(q=1/q,i[0]=(m*I-x*L+A*F)*q,i[1]=(u*L-l*I-c*F)*q,i[2]=(E*k-d*C+T*p)*q,i[3]=(_*C-y*k-M*p)*q,i[4]=(x*O-v*I-A*P)*q,i[5]=(f*I-u*O+c*P)*q,i[6]=(d*S-b*k-T*h)*q,i[7]=(w*k-_*S+M*h)*q,i[8]=(v*L-m*O+A*D)*q,i[9]=(l*O-f*L-c*D)*q,i[10]=(b*C-E*S+T*g)*q,i[11]=(y*S-w*C-M*g)*q,i[12]=(m*P-v*F-x*D)*q,i[13]=(f*F-l*P+u*D)*q,i[14]=(E*h-b*p-d*g)*q,i[15]=(w*p-y*h+_*g)*q,i):null}},6582:function(a,o,i){var s=i(7894);a.exports=f;function f(l,u,c,v){var m,x,A,w,y,_,M,b,E,d,T=u[0],g=u[1],h=u[2],S=v[0],p=v[1],C=v[2],k=c[0],D=c[1],P=c[2];return Math.abs(T-k)<1e-6&&Math.abs(g-D)<1e-6&&Math.abs(h-P)<1e-6?s(l):(M=T-k,b=g-D,E=h-P,d=1/Math.sqrt(M*M+b*b+E*E),M*=d,b*=d,E*=d,m=p*E-C*b,x=C*M-S*E,A=S*b-p*M,d=Math.sqrt(m*m+x*x+A*A),d?(d=1/d,m*=d,x*=d,A*=d):(m=0,x=0,A=0),w=b*A-E*x,y=E*m-M*A,_=M*x-b*m,d=Math.sqrt(w*w+y*y+_*_),d?(d=1/d,w*=d,y*=d,_*=d):(w=0,y=0,_=0),l[0]=m,l[1]=w,l[2]=M,l[3]=0,l[4]=x,l[5]=y,l[6]=b,l[7]=0,l[8]=A,l[9]=_,l[10]=E,l[11]=0,l[12]=-(m*T+x*g+A*h),l[13]=-(w*T+y*g+_*h),l[14]=-(M*T+b*g+E*h),l[15]=1,l)}},6760:function(a){a.exports=o;function o(i,s,f){var l=s[0],u=s[1],c=s[2],v=s[3],m=s[4],x=s[5],A=s[6],w=s[7],y=s[8],_=s[9],M=s[10],b=s[11],E=s[12],d=s[13],T=s[14],g=s[15],h=f[0],S=f[1],p=f[2],C=f[3];return i[0]=h*l+S*m+p*y+C*E,i[1]=h*u+S*x+p*_+C*d,i[2]=h*c+S*A+p*M+C*T,i[3]=h*v+S*w+p*b+C*g,h=f[4],S=f[5],p=f[6],C=f[7],i[4]=h*l+S*m+p*y+C*E,i[5]=h*u+S*x+p*_+C*d,i[6]=h*c+S*A+p*M+C*T,i[7]=h*v+S*w+p*b+C*g,h=f[8],S=f[9],p=f[10],C=f[11],i[8]=h*l+S*m+p*y+C*E,i[9]=h*u+S*x+p*_+C*d,i[10]=h*c+S*A+p*M+C*T,i[11]=h*v+S*w+p*b+C*g,h=f[12],S=f[13],p=f[14],C=f[15],i[12]=h*l+S*m+p*y+C*E,i[13]=h*u+S*x+p*_+C*d,i[14]=h*c+S*A+p*M+C*T,i[15]=h*v+S*w+p*b+C*g,i}},4040:function(a){a.exports=o;function o(i,s,f,l,u,c,v){var m=1/(s-f),x=1/(l-u),A=1/(c-v);return i[0]=-2*m,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*x,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*A,i[11]=0,i[12]=(s+f)*m,i[13]=(u+l)*x,i[14]=(v+c)*A,i[15]=1,i}},4772:function(a){a.exports=o;function o(i,s,f,l,u){var c=1/Math.tan(s/2),v=1/(l-u);return i[0]=c/f,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(u+l)*v,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*u*l*v,i[15]=0,i}},6079:function(a){a.exports=o;function o(i,s,f,l){var u=l[0],c=l[1],v=l[2],m=Math.sqrt(u*u+c*c+v*v),x,A,w,y,_,M,b,E,d,T,g,h,S,p,C,k,D,P,O,F,L,I,q,z;return Math.abs(m)<1e-6?null:(m=1/m,u*=m,c*=m,v*=m,x=Math.sin(f),A=Math.cos(f),w=1-A,y=s[0],_=s[1],M=s[2],b=s[3],E=s[4],d=s[5],T=s[6],g=s[7],h=s[8],S=s[9],p=s[10],C=s[11],k=u*u*w+A,D=c*u*w+v*x,P=v*u*w-c*x,O=u*c*w-v*x,F=c*c*w+A,L=v*c*w+u*x,I=u*v*w+c*x,q=c*v*w-u*x,z=v*v*w+A,i[0]=y*k+E*D+h*P,i[1]=_*k+d*D+S*P,i[2]=M*k+T*D+p*P,i[3]=b*k+g*D+C*P,i[4]=y*O+E*F+h*L,i[5]=_*O+d*F+S*L,i[6]=M*O+T*F+p*L,i[7]=b*O+g*F+C*L,i[8]=y*I+E*q+h*z,i[9]=_*I+d*q+S*z,i[10]=M*I+T*q+p*z,i[11]=b*I+g*q+C*z,s!==i&&(i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15]),i)}},5567:function(a){a.exports=o;function o(i,s,f){var l=Math.sin(f),u=Math.cos(f),c=s[4],v=s[5],m=s[6],x=s[7],A=s[8],w=s[9],y=s[10],_=s[11];return s!==i&&(i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15]),i[4]=c*u+A*l,i[5]=v*u+w*l,i[6]=m*u+y*l,i[7]=x*u+_*l,i[8]=A*u-c*l,i[9]=w*u-v*l,i[10]=y*u-m*l,i[11]=_*u-x*l,i}},2408:function(a){a.exports=o;function o(i,s,f){var l=Math.sin(f),u=Math.cos(f),c=s[0],v=s[1],m=s[2],x=s[3],A=s[8],w=s[9],y=s[10],_=s[11];return s!==i&&(i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15]),i[0]=c*u-A*l,i[1]=v*u-w*l,i[2]=m*u-y*l,i[3]=x*u-_*l,i[8]=c*l+A*u,i[9]=v*l+w*u,i[10]=m*l+y*u,i[11]=x*l+_*u,i}},7089:function(a){a.exports=o;function o(i,s,f){var l=Math.sin(f),u=Math.cos(f),c=s[0],v=s[1],m=s[2],x=s[3],A=s[4],w=s[5],y=s[6],_=s[7];return s!==i&&(i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15]),i[0]=c*u+A*l,i[1]=v*u+w*l,i[2]=m*u+y*l,i[3]=x*u+_*l,i[4]=A*u-c*l,i[5]=w*u-v*l,i[6]=y*u-m*l,i[7]=_*u-x*l,i}},2504:function(a){a.exports=o;function o(i,s,f){var l=f[0],u=f[1],c=f[2];return i[0]=s[0]*l,i[1]=s[1]*l,i[2]=s[2]*l,i[3]=s[3]*l,i[4]=s[4]*u,i[5]=s[5]*u,i[6]=s[6]*u,i[7]=s[7]*u,i[8]=s[8]*c,i[9]=s[9]*c,i[10]=s[10]*c,i[11]=s[11]*c,i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],i}},7656:function(a){a.exports=o;function o(i,s,f){var l=f[0],u=f[1],c=f[2],v,m,x,A,w,y,_,M,b,E,d,T;return s===i?(i[12]=s[0]*l+s[4]*u+s[8]*c+s[12],i[13]=s[1]*l+s[5]*u+s[9]*c+s[13],i[14]=s[2]*l+s[6]*u+s[10]*c+s[14],i[15]=s[3]*l+s[7]*u+s[11]*c+s[15]):(v=s[0],m=s[1],x=s[2],A=s[3],w=s[4],y=s[5],_=s[6],M=s[7],b=s[8],E=s[9],d=s[10],T=s[11],i[0]=v,i[1]=m,i[2]=x,i[3]=A,i[4]=w,i[5]=y,i[6]=_,i[7]=M,i[8]=b,i[9]=E,i[10]=d,i[11]=T,i[12]=v*l+w*u+b*c+s[12],i[13]=m*l+y*u+E*c+s[13],i[14]=x*l+_*u+d*c+s[14],i[15]=A*l+M*u+T*c+s[15]),i}},5665:function(a){a.exports=o;function o(i,s){if(i===s){var f=s[1],l=s[2],u=s[3],c=s[6],v=s[7],m=s[11];i[1]=s[4],i[2]=s[8],i[3]=s[12],i[4]=f,i[6]=s[9],i[7]=s[13],i[8]=l,i[9]=c,i[11]=s[14],i[12]=u,i[13]=v,i[14]=m}else i[0]=s[0],i[1]=s[4],i[2]=s[8],i[3]=s[12],i[4]=s[1],i[5]=s[5],i[6]=s[9],i[7]=s[13],i[8]=s[2],i[9]=s[6],i[10]=s[10],i[11]=s[14],i[12]=s[3],i[13]=s[7],i[14]=s[11],i[15]=s[15];return i}},7626:function(a,o,i){"use strict";var s=i(2642),f=i(9346);a.exports=m;function l(x,A){for(var w=[0,0,0,0],y=0;y<4;++y)for(var _=0;_<4;++_)w[_]+=x[4*y+_]*A[y];return w}function u(x,A,w,y,_){for(var M=l(y,l(w,l(A,[x[0],x[1],x[2],1]))),b=0;b<3;++b)M[b]/=M[3];return[.5*_[0]*(1+M[0]),.5*_[1]*(1-M[1])]}function c(x,A){if(x.length===2){for(var w=0,y=0,_=0;_<2;++_)w+=Math.pow(A[_]-x[0][_],2),y+=Math.pow(A[_]-x[1][_],2);return w=Math.sqrt(w),y=Math.sqrt(y),w+y<1e-6?[1,0]:[y/(w+y),w/(y+w)]}else if(x.length===3){var M=[0,0];return f(x[0],x[1],x[2],A,M),s(x,M)}return[]}function v(x,A){for(var w=[0,0,0],y=0;y<x.length;++y)for(var _=x[y],M=A[y],b=0;b<3;++b)w[b]+=M*_[b];return w}function m(x,A,w,y,_,M){if(x.length===1)return[0,x[0].slice()];for(var b=new Array(x.length),E=0;E<x.length;++E)b[E]=u(x[E],w,y,_,M);for(var d=0,T=1/0,E=0;E<b.length;++E){for(var g=0,h=0;h<2;++h)g+=Math.pow(b[E][h]-A[h],2);g<T&&(T=g,d=E)}for(var S=c(b,A),p=0,E=0;E<3;++E){if(S[E]<-.001||S[E]>1.0001)return null;p+=S[E]}return Math.abs(p-1)>.001?null:[d,v(x,S),S]}},840:function(a,o,i){var s=i(3236),f=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),l=s([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),c=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),v=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=s([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),x=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),A=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),w=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),y=s([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),_=s([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);o.meshShader={vertex:f,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.wireShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.pointShader={vertex:v,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},o.pickShader={vertex:x,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},o.pointPickShader={vertex:w,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},o.contourShader={vertex:y,fragment:_,attributes:[{name:"position",type:"vec3"}]}},7201:function(a,o,i){"use strict";var s=1e-6,f=1e-6,l=i(9405),u=i(2762),c=i(8116),v=i(7766),m=i(8406),x=i(6760),A=i(7608),w=i(9618),y=i(6729),_=i(7765),M=i(1888),b=i(840),E=i(7626),d=b.meshShader,T=b.wireShader,g=b.pointShader,h=b.pickShader,S=b.pointPickShader,p=b.contourShader,C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function k(G,B,X,te,J,ae,ee,H,re,V,ne,le,de,_e,me,ve,be,we,Se,Ae,Ie,Ve,pe,xe,Te,qe,er){this.gl=G,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=B,this.dirty=!0,this.triShader=X,this.lineShader=te,this.pointShader=J,this.pickShader=ae,this.pointPickShader=ee,this.contourShader=H,this.trianglePositions=re,this.triangleColors=ne,this.triangleNormals=de,this.triangleUVs=le,this.triangleIds=V,this.triangleVAO=_e,this.triangleCount=0,this.lineWidth=1,this.edgePositions=me,this.edgeColors=be,this.edgeUVs=we,this.edgeIds=ve,this.edgeVAO=Se,this.edgeCount=0,this.pointPositions=Ae,this.pointColors=Ve,this.pointUVs=pe,this.pointSizes=xe,this.pointIds=Ie,this.pointVAO=Te,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=qe,this.contourVAO=er,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=C,this._view=C,this._projection=C,this._resolution=[1,1]}var D=k.prototype;D.isOpaque=function(){return!this.hasAlpha},D.isTransparent=function(){return this.hasAlpha},D.pickSlots=1,D.setPickBase=function(G){this.pickId=G};function P(G,B){if(!B||!B.length)return 1;for(var X=0;X<B.length;++X){if(B.length<2)return 1;if(B[X][0]===G)return B[X][1];if(B[X][0]>G&&X>0){var te=(B[X][0]-G)/(B[X][0]-B[X-1][0]);return B[X][1]*(1-te)+te*B[X-1][1]}}return 1}function O(G,B){for(var X=y({colormap:G,nshades:256,format:"rgba"}),te=new Uint8Array(256*4),J=0;J<256;++J){for(var ae=X[J],ee=0;ee<3;++ee)te[4*J+ee]=ae[ee];B?te[4*J+3]=255*P(J/255,B):te[4*J+3]=255*ae[3]}return w(te,[256,256,4],[4,0,1])}function F(G){for(var B=G.length,X=new Array(B),te=0;te<B;++te)X[te]=G[te][2];return X}D.highlight=function(G){if(!G||!this.contourEnable){this.contourCount=0;return}for(var B=_(this.cells,this.intensity,G.intensity),X=B.cells,te=B.vertexIds,J=B.vertexWeights,ae=X.length,ee=M.mallocFloat32(2*3*ae),H=0,re=0;re<ae;++re)for(var V=X[re],ne=0;ne<2;++ne){var le=V[0];V.length===2&&(le=V[ne]);for(var de=te[le][0],_e=te[le][1],me=J[le],ve=1-me,be=this.positions[de],we=this.positions[_e],Se=0;Se<3;++Se)ee[H++]=me*be[Se]+ve*we[Se]}this.contourCount=H/3|0,this.contourPositions.update(ee.subarray(0,H)),M.free(ee)},D.update=function(G){G=G||{};var B=this.gl;this.dirty=!0,"contourEnable"in G&&(this.contourEnable=G.contourEnable),"contourColor"in G&&(this.contourColor=G.contourColor),"lineWidth"in G&&(this.lineWidth=G.lineWidth),"lightPosition"in G&&(this.lightPosition=G.lightPosition),this.hasAlpha=!1,"opacity"in G&&(this.opacity=G.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in G&&(this.opacityscale=G.opacityscale,this.hasAlpha=!0),"ambient"in G&&(this.ambientLight=G.ambient),"diffuse"in G&&(this.diffuseLight=G.diffuse),"specular"in G&&(this.specularLight=G.specular),"roughness"in G&&(this.roughness=G.roughness),"fresnel"in G&&(this.fresnel=G.fresnel),G.texture?(this.texture.dispose(),this.texture=v(B,G.texture)):G.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=B.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=B.LINEAR,this.texture.setPixels(O(G.colormap,this.opacityscale)),this.texture.generateMipmap());var X=G.cells,te=G.positions;if(!(!te||!X)){var J=[],ae=[],ee=[],H=[],re=[],V=[],ne=[],le=[],de=[],_e=[],me=[],ve=[],be=[],we=[];this.cells=X,this.positions=te;var Se=G.vertexNormals,Ae=G.cellNormals,Ie=G.vertexNormalsEpsilon===void 0?s:G.vertexNormalsEpsilon,Ve=G.faceNormalsEpsilon===void 0?f:G.faceNormalsEpsilon;G.useFacetNormals&&!Ae&&(Ae=m.faceNormals(X,te,Ve)),!Ae&&!Se&&(Se=m.vertexNormals(X,te,Ie));var pe=G.vertexColors,xe=G.cellColors,Te=G.meshColor||[1,1,1,1],qe=G.vertexUVs,er=G.vertexIntensity,ze=G.cellUVs,Ce=G.cellIntensity,Le=1/0,Ne=-1/0;if(!qe&&!ze)if(er)if(G.vertexIntensityBounds)Le=+G.vertexIntensityBounds[0],Ne=+G.vertexIntensityBounds[1];else for(var tr=0;tr<er.length;++tr){var ir=er[tr];Le=Math.min(Le,ir),Ne=Math.max(Ne,ir)}else if(Ce)if(G.cellIntensityBounds)Le=+G.cellIntensityBounds[0],Ne=+G.cellIntensityBounds[1];else for(var tr=0;tr<Ce.length;++tr){var ir=Ce[tr];Le=Math.min(Le,ir),Ne=Math.max(Ne,ir)}else for(var tr=0;tr<te.length;++tr){var ir=te[tr][2];Le=Math.min(Le,ir),Ne=Math.max(Ne,ir)}er?this.intensity=er:Ce?this.intensity=Ce:this.intensity=F(te),this.pickVertex=!(Ce||xe);var mr=G.pointSizes,Tr=G.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var tr=0;tr<te.length;++tr)for(var pr=te[tr],nr=0;nr<3;++nr)isNaN(pr[nr])||!isFinite(pr[nr])||(this.bounds[0][nr]=Math.min(this.bounds[0][nr],pr[nr]),this.bounds[1][nr]=Math.max(this.bounds[1][nr],pr[nr]));var Me=0,Fe=0,ur=0;e:for(var tr=0;tr<X.length;++tr){var je=X[tr];switch(je.length){case 1:for(var Er=je[0],pr=te[Er],nr=0;nr<3;++nr)if(isNaN(pr[nr])||!isFinite(pr[nr]))continue e;_e.push(pr[0],pr[1],pr[2]);var ue;pe?ue=pe[Er]:xe?ue=xe[tr]:ue=Te,this.opacityscale&&er?ae.push(ue[0],ue[1],ue[2],this.opacity*P((er[Er]-Le)/(Ne-Le),this.opacityscale)):ue.length===3?me.push(ue[0],ue[1],ue[2],this.opacity):(me.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0));var Q;qe?Q=qe[Er]:er?Q=[(er[Er]-Le)/(Ne-Le),0]:ze?Q=ze[tr]:Ce?Q=[(Ce[tr]-Le)/(Ne-Le),0]:Q=[(pr[2]-Le)/(Ne-Le),0],ve.push(Q[0],Q[1]),mr?be.push(mr[Er]):be.push(Tr),we.push(tr),ur+=1;break;case 2:for(var nr=0;nr<2;++nr)for(var Er=je[nr],pr=te[Er],oe=0;oe<3;++oe)if(isNaN(pr[oe])||!isFinite(pr[oe]))continue e;for(var nr=0;nr<2;++nr){var Er=je[nr],pr=te[Er];V.push(pr[0],pr[1],pr[2]);var ue;pe?ue=pe[Er]:xe?ue=xe[tr]:ue=Te,this.opacityscale&&er?ae.push(ue[0],ue[1],ue[2],this.opacity*P((er[Er]-Le)/(Ne-Le),this.opacityscale)):ue.length===3?ne.push(ue[0],ue[1],ue[2],this.opacity):(ne.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0));var Q;qe?Q=qe[Er]:er?Q=[(er[Er]-Le)/(Ne-Le),0]:ze?Q=ze[tr]:Ce?Q=[(Ce[tr]-Le)/(Ne-Le),0]:Q=[(pr[2]-Le)/(Ne-Le),0],le.push(Q[0],Q[1]),de.push(tr)}Fe+=1;break;case 3:for(var nr=0;nr<3;++nr)for(var Er=je[nr],pr=te[Er],oe=0;oe<3;++oe)if(isNaN(pr[oe])||!isFinite(pr[oe]))continue e;for(var nr=0;nr<3;++nr){var Er=je[2-nr],pr=te[Er];J.push(pr[0],pr[1],pr[2]);var ue;pe?ue=pe[Er]:xe?ue=xe[tr]:ue=Te,ue?this.opacityscale&&er?ae.push(ue[0],ue[1],ue[2],this.opacity*P((er[Er]-Le)/(Ne-Le),this.opacityscale)):ue.length===3?ae.push(ue[0],ue[1],ue[2],this.opacity):(ae.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0)):ae.push(.5,.5,.5,1);var Q;qe?Q=qe[Er]:er?Q=[(er[Er]-Le)/(Ne-Le),0]:ze?Q=ze[tr]:Ce?Q=[(Ce[tr]-Le)/(Ne-Le),0]:Q=[(pr[2]-Le)/(Ne-Le),0],H.push(Q[0],Q[1]);var Ee;Se?Ee=Se[Er]:Ee=Ae[tr],ee.push(Ee[0],Ee[1],Ee[2]),re.push(tr)}Me+=1;break;default:break}}this.pointCount=ur,this.edgeCount=Fe,this.triangleCount=Me,this.pointPositions.update(_e),this.pointColors.update(me),this.pointUVs.update(ve),this.pointSizes.update(be),this.pointIds.update(new Uint32Array(we)),this.edgePositions.update(V),this.edgeColors.update(ne),this.edgeUVs.update(le),this.edgeIds.update(new Uint32Array(de)),this.trianglePositions.update(J),this.triangleColors.update(ae),this.triangleUVs.update(H),this.triangleNormals.update(ee),this.triangleIds.update(new Uint32Array(re))}},D.drawTransparent=D.draw=function(G){G=G||{};for(var B=this.gl,X=G.model||C,te=G.view||C,J=G.projection||C,ae=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)ae[0][ee]=Math.max(ae[0][ee],this.clipBounds[0][ee]),ae[1][ee]=Math.min(ae[1][ee],this.clipBounds[1][ee]);var H={model:X,view:te,projection:J,inverseModel:C.slice(),clipBounds:ae,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};H.inverseModel=A(H.inverseModel,H.model),B.disable(B.CULL_FACE),this.texture.bind(0);var re=new Array(16);x(re,H.view,H.model),x(re,H.projection,re),A(re,re);for(var ee=0;ee<3;++ee)H.eyePosition[ee]=re[12+ee]/re[15];for(var V=re[15],ee=0;ee<3;++ee)V+=this.lightPosition[ee]*re[4*ee+3];for(var ee=0;ee<3;++ee){for(var ne=re[12+ee],le=0;le<3;++le)ne+=re[4*le+ee]*this.lightPosition[le];H.lightPosition[ee]=ne/V}if(this.triangleCount>0){var de=this.triShader;de.bind(),de.uniforms=H,this.triangleVAO.bind(),B.drawArrays(B.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var de=this.lineShader;de.bind(),de.uniforms=H,this.edgeVAO.bind(),B.lineWidth(this.lineWidth*this.pixelRatio),B.drawArrays(B.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var de=this.pointShader;de.bind(),de.uniforms=H,this.pointVAO.bind(),B.drawArrays(B.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var de=this.contourShader;de.bind(),de.uniforms=H,this.contourVAO.bind(),B.drawArrays(B.LINES,0,this.contourCount),this.contourVAO.unbind()}},D.drawPick=function(G){G=G||{};for(var B=this.gl,X=G.model||C,te=G.view||C,J=G.projection||C,ae=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)ae[0][ee]=Math.max(ae[0][ee],this.clipBounds[0][ee]),ae[1][ee]=Math.min(ae[1][ee],this.clipBounds[1][ee]);this._model=[].slice.call(X),this._view=[].slice.call(te),this._projection=[].slice.call(J),this._resolution=[B.drawingBufferWidth,B.drawingBufferHeight];var H={model:X,view:te,projection:J,clipBounds:ae,pickId:this.pickId/255},re=this.pickShader;if(re.bind(),re.uniforms=H,this.triangleCount>0&&(this.triangleVAO.bind(),B.drawArrays(B.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),B.lineWidth(this.lineWidth*this.pixelRatio),B.drawArrays(B.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var re=this.pointPickShader;re.bind(),re.uniforms=H,this.pointVAO.bind(),B.drawArrays(B.POINTS,0,this.pointCount),this.pointVAO.unbind()}},D.pick=function(G){if(!G||G.id!==this.pickId)return null;for(var B=G.value[0]+256*G.value[1]+65536*G.value[2],X=this.cells[B],te=this.positions,J=new Array(X.length),ae=0;ae<X.length;++ae)J[ae]=te[X[ae]];var ee=G.coord[0],H=G.coord[1];if(!this.pickVertex){var re=this.positions[X[0]],V=this.positions[X[1]],ne=this.positions[X[2]],le=[(re[0]+V[0]+ne[0])/3,(re[1]+V[1]+ne[1])/3,(re[2]+V[2]+ne[2])/3];return{_cellCenter:!0,position:[ee,H],index:B,cell:X,cellId:B,intensity:this.intensity[B],dataCoordinate:le}}var de=E(J,[ee*this.pixelRatio,this._resolution[1]-H*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!de)return null;for(var _e=de[2],me=0,ae=0;ae<X.length;++ae)me+=_e[ae]*this.intensity[X[ae]];return{position:de[1],index:X[de[0]],cell:X,cellId:B,intensity:me,dataCoordinate:this.positions[X[de[0]]]}},D.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function L(G){var B=l(G,d.vertex,d.fragment);return B.attributes.position.location=0,B.attributes.color.location=2,B.attributes.uv.location=3,B.attributes.normal.location=4,B}function I(G){var B=l(G,T.vertex,T.fragment);return B.attributes.position.location=0,B.attributes.color.location=2,B.attributes.uv.location=3,B}function q(G){var B=l(G,g.vertex,g.fragment);return B.attributes.position.location=0,B.attributes.color.location=2,B.attributes.uv.location=3,B.attributes.pointSize.location=4,B}function z(G){var B=l(G,h.vertex,h.fragment);return B.attributes.position.location=0,B.attributes.id.location=1,B}function W(G){var B=l(G,S.vertex,S.fragment);return B.attributes.position.location=0,B.attributes.id.location=1,B.attributes.pointSize.location=4,B}function $(G){var B=l(G,p.vertex,p.fragment);return B.attributes.position.location=0,B}function j(G,B){arguments.length===1&&(B=G,G=B.gl);var X=G.getExtension("OES_standard_derivatives")||G.getExtension("MOZ_OES_standard_derivatives")||G.getExtension("WEBKIT_OES_standard_derivatives");if(!X)throw new Error("derivatives not supported");var te=L(G),J=I(G),ae=q(G),ee=z(G),H=W(G),re=$(G),V=v(G,w(new Uint8Array([255,255,255,255]),[1,1,4]));V.generateMipmap(),V.minFilter=G.LINEAR_MIPMAP_LINEAR,V.magFilter=G.LINEAR;var ne=u(G),le=u(G),de=u(G),_e=u(G),me=u(G),ve=c(G,[{buffer:ne,type:G.FLOAT,size:3},{buffer:me,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:le,type:G.FLOAT,size:4},{buffer:de,type:G.FLOAT,size:2},{buffer:_e,type:G.FLOAT,size:3}]),be=u(G),we=u(G),Se=u(G),Ae=u(G),Ie=c(G,[{buffer:be,type:G.FLOAT,size:3},{buffer:Ae,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:we,type:G.FLOAT,size:4},{buffer:Se,type:G.FLOAT,size:2}]),Ve=u(G),pe=u(G),xe=u(G),Te=u(G),qe=u(G),er=c(G,[{buffer:Ve,type:G.FLOAT,size:3},{buffer:qe,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:pe,type:G.FLOAT,size:4},{buffer:xe,type:G.FLOAT,size:2},{buffer:Te,type:G.FLOAT,size:1}]),ze=u(G),Ce=c(G,[{buffer:ze,type:G.FLOAT,size:3}]),Le=new k(G,V,te,J,ae,ee,H,re,ne,me,le,de,_e,ve,be,Ae,we,Se,Ie,Ve,qe,pe,xe,Te,er,ze,Ce);return Le.update(B),Le}a.exports=j},8120:function(a,o,i){"use strict";a.exports=v;var s=i(2762),f=i(9405),l=i(3603);function u(m,x,A){this.plot=m,this.vbo=x,this.shader=A}var c=u.prototype;c.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},c.drawBox=function(){var m=[0,0],x=[0,0];return function(A,w,y,_,M){var b=this.plot,E=this.shader,d=b.gl;m[0]=A,m[1]=w,x[0]=y,x[1]=_,E.uniforms.lo=m,E.uniforms.hi=x,E.uniforms.color=M,d.drawArrays(d.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function v(m){var x=m.gl,A=s(x,[0,0,0,1,1,0,1,1]),w=f(x,l.boxVert,l.lineFrag);return new u(m,A,w)}},1913:function(a,o,i){"use strict";a.exports=x;var s=i(2762),f=i(9405),l=i(2478),u=i(3603);function c(A,w,y,_){this.plot=A,this.vbo=w,this.shader=y,this.tickShader=_,this.ticks=[[],[]]}function v(A,w){return A-w}var m=c.prototype;m.draw=function(){var A=[0,0],w=[0,0],y=[0,0];return function(){for(var _=this.plot,M=this.vbo,b=this.shader,E=this.ticks,d=_.gl,T=_._tickBounds,g=_.dataBox,h=_.viewBox,S=_.gridLineWidth,p=_.gridLineColor,C=_.gridLineEnable,k=_.pixelRatio,D=0;D<2;++D){var P=T[D],O=T[D+2],F=O-P,L=.5*(g[D+2]+g[D]),I=g[D+2]-g[D];w[D]=2*F/I,A[D]=2*(P-L)/I}b.bind(),M.bind(),b.attributes.dataCoord.pointer(),b.uniforms.dataShift=A,b.uniforms.dataScale=w;for(var q=0,D=0;D<2;++D){y[0]=y[1]=0,y[D]=1,b.uniforms.dataAxis=y,b.uniforms.lineWidth=S[D]/(h[D+2]-h[D])*k,b.uniforms.color=p[D];var z=E[D].length*6;C[D]&&z&&d.drawArrays(d.TRIANGLES,q,z),q+=z}}}(),m.drawTickMarks=function(){var A=[0,0],w=[0,0],y=[1,0],_=[0,1],M=[0,0],b=[0,0];return function(){for(var E=this.plot,d=this.vbo,T=this.tickShader,g=this.ticks,h=E.gl,S=E._tickBounds,p=E.dataBox,C=E.viewBox,k=E.pixelRatio,D=E.screenBox,P=D[2]-D[0],O=D[3]-D[1],F=C[2]-C[0],L=C[3]-C[1],I=0;I<2;++I){var q=S[I],z=S[I+2],W=z-q,$=.5*(p[I+2]+p[I]),j=p[I+2]-p[I];w[I]=2*W/j,A[I]=2*(q-$)/j}w[0]*=F/P,A[0]*=F/P,w[1]*=L/O,A[1]*=L/O,T.bind(),d.bind(),T.attributes.dataCoord.pointer();var G=T.uniforms;G.dataShift=A,G.dataScale=w;var B=E.tickMarkLength,X=E.tickMarkWidth,te=E.tickMarkColor,J=0,ae=g[0].length*6,ee=Math.min(l.ge(g[0],(p[0]-S[0])/(S[2]-S[0]),v),g[0].length),H=Math.min(l.gt(g[0],(p[2]-S[0])/(S[2]-S[0]),v),g[0].length),re=J+6*ee,V=6*Math.max(0,H-ee),ne=Math.min(l.ge(g[1],(p[1]-S[1])/(S[3]-S[1]),v),g[1].length),le=Math.min(l.gt(g[1],(p[3]-S[1])/(S[3]-S[1]),v),g[1].length),de=ae+6*ne,_e=6*Math.max(0,le-ne);M[0]=2*(C[0]-B[1])/P-1,M[1]=(C[3]+C[1])/O-1,b[0]=B[1]*k/P,b[1]=X[1]*k/O,_e&&(G.color=te[1],G.tickScale=b,G.dataAxis=_,G.screenOffset=M,h.drawArrays(h.TRIANGLES,de,_e)),M[0]=(C[2]+C[0])/P-1,M[1]=2*(C[1]-B[0])/O-1,b[0]=X[0]*k/P,b[1]=B[0]*k/O,V&&(G.color=te[0],G.tickScale=b,G.dataAxis=y,G.screenOffset=M,h.drawArrays(h.TRIANGLES,re,V)),M[0]=2*(C[2]+B[3])/P-1,M[1]=(C[3]+C[1])/O-1,b[0]=B[3]*k/P,b[1]=X[3]*k/O,_e&&(G.color=te[3],G.tickScale=b,G.dataAxis=_,G.screenOffset=M,h.drawArrays(h.TRIANGLES,de,_e)),M[0]=(C[2]+C[0])/P-1,M[1]=2*(C[3]+B[2])/O-1,b[0]=X[2]*k/P,b[1]=B[2]*k/O,V&&(G.color=te[2],G.tickScale=b,G.dataAxis=y,G.screenOffset=M,h.drawArrays(h.TRIANGLES,re,V))}}(),m.update=function(){var A=[1,1,-1,-1,1,-1],w=[1,-1,1,1,-1,-1];return function(y){for(var _=y.ticks,M=y.bounds,b=new Float32Array(6*3*(_[0].length+_[1].length)),E=this.plot.zeroLineEnable,d=0,T=[[],[]],g=0;g<2;++g)for(var h=T[g],S=_[g],p=M[g],C=M[g+2],k=0;k<S.length;++k){var D=(S[k].x-p)/(C-p);h.push(D);for(var P=0;P<6;++P)b[d++]=D,b[d++]=A[P],b[d++]=w[P]}this.ticks=T,this.vbo.update(b)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function x(A){var w=A.gl,y=s(w),_=f(w,u.gridVert,u.gridFrag),M=f(w,u.tickVert,u.gridFrag),b=new c(A,y,_,M);return b}},4747:function(a,o,i){"use strict";a.exports=v;var s=i(2762),f=i(9405),l=i(3603);function u(m,x,A){this.plot=m,this.vbo=x,this.shader=A}var c=u.prototype;c.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},c.drawLine=function(){var m=[0,0],x=[0,0];return function(A,w,y,_,M,b){var E=this.plot,d=this.shader,T=E.gl;m[0]=A,m[1]=w,x[0]=y,x[1]=_,d.uniforms.start=m,d.uniforms.end=x,d.uniforms.width=M*E.pixelRatio,d.uniforms.color=b,T.drawArrays(T.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function v(m){var x=m.gl,A=s(x,[-1,-1,-1,1,1,-1,1,1]),w=f(x,l.lineVert,l.lineFrag),y=new u(m,A,w);return y}},3603:function(a,o,i){"use strict";var s=i(3236),f=s([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);a.exports={lineVert:s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:f,textVert:s([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:f,gridVert:s([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:f,boxVert:s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:s([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(a,o,i){"use strict";a.exports=x;var s=i(2762),f=i(9405),l=i(529),u=i(2478),c=i(3603);function v(A,w,y){this.plot=A,this.vbo=w,this.shader=y,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=v.prototype;m.drawTicks=function(){var A=[0,0],w=[0,0],y=[0,0];return function(_){var M=this.plot,b=this.shader,E=this.tickX[_],d=this.tickOffset[_],T=M.gl,g=M.viewBox,h=M.dataBox,S=M.screenBox,p=M.pixelRatio,C=M.tickEnable,k=M.tickPad,D=M.tickColor,P=M.tickAngle,O=M.labelEnable,F=M.labelPad,L=M.labelColor,I=M.labelAngle,q=this.labelOffset[_],z=this.labelCount[_],W=u.lt(E,h[_]),$=u.le(E,h[_+2]);A[0]=A[1]=0,A[_]=1,w[_]=(g[2+_]+g[_])/(S[2+_]-S[_])-1;var j=2/S[2+(_^1)]-S[_^1];w[_^1]=j*g[_^1]-1,C[_]&&(w[_^1]-=j*p*k[_],W<$&&d[$]>d[W]&&(b.uniforms.dataAxis=A,b.uniforms.screenOffset=w,b.uniforms.color=D[_],b.uniforms.angle=P[_],T.drawArrays(T.TRIANGLES,d[W],d[$]-d[W]))),O[_]&&z&&(w[_^1]-=j*p*F[_],b.uniforms.dataAxis=y,b.uniforms.screenOffset=w,b.uniforms.color=L[_],b.uniforms.angle=I[_],T.drawArrays(T.TRIANGLES,q,z)),w[_^1]=j*g[2+(_^1)]-1,C[_+2]&&(w[_^1]+=j*p*k[_+2],W<$&&d[$]>d[W]&&(b.uniforms.dataAxis=A,b.uniforms.screenOffset=w,b.uniforms.color=D[_+2],b.uniforms.angle=P[_+2],T.drawArrays(T.TRIANGLES,d[W],d[$]-d[W]))),O[_+2]&&z&&(w[_^1]+=j*p*F[_+2],b.uniforms.dataAxis=y,b.uniforms.screenOffset=w,b.uniforms.color=L[_+2],b.uniforms.angle=I[_+2],T.drawArrays(T.TRIANGLES,q,z))}}(),m.drawTitle=function(){var A=[0,0],w=[0,0];return function(){var y=this.plot,_=this.shader,M=y.gl,b=y.screenBox,E=y.titleCenter,d=y.titleAngle,T=y.titleColor,g=y.pixelRatio;if(this.titleCount){for(var h=0;h<2;++h)w[h]=2*(E[h]*g-b[h])/(b[2+h]-b[h])-1;_.bind(),_.uniforms.dataAxis=A,_.uniforms.screenOffset=w,_.uniforms.angle=d,_.uniforms.color=T,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var A=[0,0],w=[0,0],y=[0,0];return function(){var _=this.plot,M=this.shader,b=_._tickBounds,E=_.dataBox,d=_.screenBox,T=_.viewBox;M.bind();for(var g=0;g<2;++g){var h=b[g],S=b[g+2],p=S-h,C=.5*(E[g+2]+E[g]),k=E[g+2]-E[g],D=T[g],P=T[g+2],O=P-D,F=d[g],L=d[g+2],I=L-F;w[g]=2*p/k*O/I,A[g]=2*(h-C)/k*O/I}y[1]=2*_.pixelRatio/(d[3]-d[1]),y[0]=y[1]*(d[3]-d[1])/(d[2]-d[0]),M.uniforms.dataScale=w,M.uniforms.dataShift=A,M.uniforms.textScale=y,this.vbo.bind(),M.attributes.textCoordinate.pointer()}}(),m.update=function(A){var w=[],y=A.ticks,_=A.bounds,M,b,E,d,T,g;for(g=0;g<2;++g){var h=[Math.floor(w.length/3)],S=[-1/0],p=y[g];for(M=0;M<p.length;++M){var C=p[M],k=C.x,D=C.text,P=C.font||"sans-serif",O=C.fontStyle||"normal",F=C.fontWeight||"normal",L=C.fontVariant||"normal";T=C.fontSize||12;for(var I=1/(_[g+2]-_[g]),q=_[g],z=D.split(`
`),W=0;W<z.length;W++)for(d=l(P,z[W],{fontStyle:O,fontWeight:F,fontVariant:L}).data,b=0;b<d.length;b+=2)w.push(d[b]*T,-d[b+1]*T-W*T*1.2,(k-q)*I);h.push(Math.floor(w.length/3)),S.push(k)}this.tickOffset[g]=h,this.tickX[g]=S}for(g=0;g<2;++g){for(this.labelOffset[g]=Math.floor(w.length/3),d=l(A.labelFont[g],A.labels[g],{fontStyle:A.labelFontStyle[g],fontWeight:A.labelFontWeight[g],fontVariant:A.labelFontVariant[g],textAlign:"center"}).data,T=A.labelSize[g],M=0;M<d.length;M+=2)w.push(d[M]*T,-d[M+1]*T,0);this.labelCount[g]=Math.floor(w.length/3)-this.labelOffset[g]}for(this.titleOffset=Math.floor(w.length/3),d=l(A.titleFont,A.title,{fontStyle:A.titleFontStyle,fontWeight:A.titleFontWeight,fontVariant:A.titleFontVariant}).data,T=A.titleSize,M=0;M<d.length;M+=2)w.push(d[M]*T,-d[M+1]*T,0);this.titleCount=Math.floor(w.length/3)-this.titleOffset,this.vbo.update(w)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function x(A){var w=A.gl,y=s(w),_=f(w,c.textVert,c.textFrag),M=new v(A,y,_);return M}},1850:function(a,o,i){"use strict";a.exports=y;var s=i(3589),f=i(1913),l=i(2142),u=i(4747),c=i(8120);function v(_,M){this.gl=_,this.pickBuffer=M,this.screenBox=[0,0,_.drawingBufferWidth,_.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=v.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536};function x(_,M,b){var E=.5*(b+1);return Math.floor((1-E)*_+E*M)|0}m.draw=function(){var _=[0,0,0,0];return function(){var M=this.gl,b=this.screenBox,E=this.viewBox,d=this.dataBox,T=this.pixelRatio,g=this.grid,h=this.line,S=this.text,p=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,M.bindFramebuffer(M.FRAMEBUFFER,null),M.enable(M.SCISSOR_TEST),M.disable(M.DEPTH_TEST),M.depthFunc(M.LESS),M.depthMask(!1),M.enable(M.BLEND),M.blendEquation(M.FUNC_ADD,M.FUNC_ADD),M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA),this.borderColor){M.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]);var C=this.borderColor;M.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT)}M.scissor(E[0],E[1],E[2]-E[0],E[3]-E[1]),M.viewport(E[0],E[1],E[2]-E[0],E[3]-E[1]);var k=this.backgroundColor;M.clearColor(k[0]*k[3],k[1]*k[3],k[2]*k[3],k[3]),M.clear(M.COLOR_BUFFER_BIT),g.draw();var D=this.zeroLineEnable,P=this.zeroLineColor,O=this.zeroLineWidth;if(D[0]||D[1]){h.bind();for(var F=0;F<2;++F)if(!(!D[F]||!(d[F]<=0&&d[F+2]>=0))){var L=b[F]-d[F]*(b[F+2]-b[F])/(d[F+2]-d[F]);F===0?h.drawLine(L,b[1],L,b[3],O[F],P[F]):h.drawLine(b[0],L,b[2],L,O[F],P[F])}}for(var F=0;F<p.length;++F)p[F].draw();M.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]),M.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.grid.drawTickMarks(),h.bind();var I=this.borderLineEnable,q=this.borderLineWidth,z=this.borderLineColor;I[1]&&h.drawLine(E[0],E[1]-.5*q[1]*T,E[0],E[3]+.5*q[3]*T,q[1],z[1]),I[0]&&h.drawLine(E[0]-.5*q[0]*T,E[1],E[2]+.5*q[2]*T,E[1],q[0],z[0]),I[3]&&h.drawLine(E[2],E[1]-.5*q[1]*T,E[2],E[3]+.5*q[3]*T,q[3],z[3]),I[2]&&h.drawLine(E[0]-.5*q[0]*T,E[3],E[2]+.5*q[2]*T,E[3],q[2],z[2]),S.bind();for(var F=0;F<2;++F)S.drawTicks(F);this.titleEnable&&S.drawTitle();for(var W=this.overlays,F=0;F<W.length;++F)W[F].draw();M.disable(M.SCISSOR_TEST),M.disable(M.BLEND),M.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var _=this.pickBuffer,M=this.gl;this._pickTimeout=null,_.begin();for(var b=1,E=this.objects,d=0;d<E.length;++d)b=E[d].drawPick(b);_.end()}}}(),m.pick=function(){return function(_,M){if(!this.static){var b=this.pixelRatio,E=this.pickPixelRatio,d=this.viewBox,T=Math.round((_-d[0]/b)*E)|0,g=Math.round((M-d[1]/b)*E)|0,h=this.pickBuffer.query(T,g,this.pickRadius);if(!h)return null;for(var S=h.id+(h.value[0]<<8)+(h.value[1]<<16)+(h.value[2]<<24),p=this.objects,C=0;C<p.length;++C){var k=p[C].pick(T,g,S);if(k)return k}return null}}}();function A(_){for(var M=_.slice(),b=0;b<M.length;++b)M[b]=M[b].slice();return M}function w(_,M){return _.x-M.x}m.setScreenBox=function(_){var M=this.screenBox,b=this.pixelRatio;M[0]=Math.round(_[0]*b)|0,M[1]=Math.round(_[1]*b)|0,M[2]=Math.round(_[2]*b)|0,M[3]=Math.round(_[3]*b)|0,this.setDirty()},m.setDataBox=function(_){var M=this.dataBox,b=M[0]!==_[0]||M[1]!==_[1]||M[2]!==_[2]||M[3]!==_[3];b&&(M[0]=_[0],M[1]=_[1],M[2]=_[2],M[3]=_[3],this.setDirty())},m.setViewBox=function(_){var M=this.pixelRatio,b=this.viewBox;b[0]=Math.round(_[0]*M)|0,b[1]=Math.round(_[1]*M)|0,b[2]=Math.round(_[2]*M)|0,b[3]=Math.round(_[3]*M)|0;var E=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((_[2]-_[0])*E)|0,Math.round((_[3]-_[1])*E)|0],this.setDirty()},m.update=function(_){_=_||{};var M=this.gl;this.pixelRatio=_.pixelRatio||1;var b=this.pixelRatio;this.pickPixelRatio=Math.max(b,1),this.setScreenBox(_.screenBox||[0,0,M.drawingBufferWidth/b,M.drawingBufferHeight/b]);var E=this.screenBox;this.setViewBox(_.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/b,.125*(this.screenBox[3]-this.screenBox[1])/b,.875*(this.screenBox[2]-this.screenBox[0])/b,.875*(this.screenBox[3]-this.screenBox[1])/b]);var d=this.viewBox,T=(d[2]-d[0])/(d[3]-d[1]);this.setDataBox(_.dataBox||[-10,-10/T,10,10/T]),this.borderColor=_.borderColor!==!1?(_.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(_.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(_.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(_.gridLineWidth||[1,1]).slice(),this.gridLineColor=A(_.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(_.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(_.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=A(_.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(_.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(_.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=A(_.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(_.titleCenter||[.5*(d[0]+d[2])/b,(d[3]+120)/b]).slice(),this.titleEnable=!("titleEnable"in _)||!!_.titleEnable,this.titleAngle=_.titleAngle||0,this.titleColor=(_.titleColor||[0,0,0,1]).slice(),this.labelPad=(_.labelPad||[15,15,15,15]).slice(),this.labelAngle=(_.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(_.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=A(_.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(_.tickPad||[15,15,15,15]).slice(),this.tickAngle=(_.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(_.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=A(_.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(_.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(_.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=A(_.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var g=_.ticks||[[],[]],h=this._tickBounds;h[0]=h[1]=1/0,h[2]=h[3]=-1/0;for(var S=0;S<2;++S){var p=g[S].slice(0);p.length!==0&&(p.sort(w),h[S]=Math.min(h[S],p[0].x),h[S+2]=Math.max(h[S+2],p[p.length-1].x))}this.grid.update({bounds:h,ticks:g}),this.text.update({bounds:h,ticks:g,labels:_.labels||["x","y"],labelSize:_.labelSize||[12,12],labelFont:_.labelFont||["sans-serif","sans-serif"],labelFontStyle:_.labelFontStyle||["normal","normal"],labelFontWeight:_.labelFontWeight||["normal","normal"],labelFontVariant:_.labelFontVariant||["normal","normal"],title:_.title||"",titleSize:_.titleSize||18,titleFont:_.titleFont||"sans-serif",titleFontStyle:_.titleFontStyle||"normal",titleFontWeight:_.titleFontWeight||"normal",titleFontVariant:_.titleFontVariant||"normal"}),this.static=!!_.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var _=this.objects.length-1;_>=0;--_)this.objects[_].dispose();this.objects.length=0;for(var _=this.overlays.length-1;_>=0;--_)this.overlays[_].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(_){this.objects.indexOf(_)<0&&(this.objects.push(_),this.setDirty())},m.removeObject=function(_){for(var M=this.objects,b=0;b<M.length;++b)if(M[b]===_){M.splice(b,1),this.setDirty();break}},m.addOverlay=function(_){this.overlays.indexOf(_)<0&&(this.overlays.push(_),this.setOverlayDirty())},m.removeOverlay=function(_){for(var M=this.overlays,b=0;b<M.length;++b)if(M[b]===_){M.splice(b,1),this.setOverlayDirty();break}};function y(_){var M=_.gl,b=s(M,[M.drawingBufferWidth,M.drawingBufferHeight]),E=new v(M,b);return E.grid=f(E),E.text=l(E),E.line=u(E),E.box=c(E),E.update(_),E}},4437:function(a,o,i){"use strict";a.exports=m;var s=i(3025),f=i(6296),l=i(351),u=i(8512),c=i(24),v=i(7520);function m(x,A){x=x||document.body,A=A||{};var w=[.01,1/0];"distanceLimits"in A&&(w[0]=A.distanceLimits[0],w[1]=A.distanceLimits[1]),"zoomMin"in A&&(w[0]=A.zoomMin),"zoomMax"in A&&(w[1]=A.zoomMax);var y=f({center:A.center||[0,0,0],up:A.up||[0,1,0],eye:A.eye||[0,0,10],mode:A.mode||"orbit",distanceLimits:w}),_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,b=x.clientWidth,E=x.clientHeight,d={keyBindingMode:"rotate",enableWheel:!0,view:y,element:x,delay:A.delay||16,rotateSpeed:A.rotateSpeed||1,zoomSpeed:A.zoomSpeed||1,translateSpeed:A.translateSpeed||1,flipX:!!A.flipX,flipY:!!A.flipY,modes:y.modes,_ortho:A._ortho||A.projection&&A.projection.type==="orthographic"||!1,tick:function(){var T=s(),g=this.delay,h=T-2*g;y.idle(T-g),y.recalcMatrix(h),y.flush(T-(100+g*2));for(var S=!0,p=y.computedMatrix,C=0;C<16;++C)S=S&&_[C]===p[C],_[C]=p[C];var k=x.clientWidth===b&&x.clientHeight===E;return b=x.clientWidth,E=x.clientHeight,S?!k:(M=Math.exp(y.computedRadius[0]),!0)},lookAt:function(T,g,h){y.lookAt(y.lastT(),T,g,h)},rotate:function(T,g,h){y.rotate(y.lastT(),T,g,h)},pan:function(T,g,h){y.pan(y.lastT(),T,g,h)},translate:function(T,g,h){y.translate(y.lastT(),T,g,h)}};return Object.defineProperties(d,{matrix:{get:function(){return y.computedMatrix},set:function(T){return y.setMatrix(y.lastT(),T),y.computedMatrix},enumerable:!0},mode:{get:function(){return y.getMode()},set:function(T){var g=y.computedUp.slice(),h=y.computedEye.slice(),S=y.computedCenter.slice();if(y.setMode(T),T==="turntable"){var p=s();y._active.lookAt(p,h,S,g),y._active.lookAt(p+500,h,S,[0,0,1]),y._active.flush(p)}return y.getMode()},enumerable:!0},center:{get:function(){return y.computedCenter},set:function(T){return y.lookAt(y.lastT(),null,T),y.computedCenter},enumerable:!0},eye:{get:function(){return y.computedEye},set:function(T){return y.lookAt(y.lastT(),T),y.computedEye},enumerable:!0},up:{get:function(){return y.computedUp},set:function(T){return y.lookAt(y.lastT(),null,null,T),y.computedUp},enumerable:!0},distance:{get:function(){return M},set:function(T){return y.setDistance(y.lastT(),T),T},enumerable:!0},distanceLimits:{get:function(){return y.getDistanceLimits(w)},set:function(T){return y.setDistanceLimits(T),T},enumerable:!0}}),x.addEventListener("contextmenu",function(T){return T.preventDefault(),!1}),d._lastX=-1,d._lastY=-1,d._lastMods={shift:!1,control:!1,alt:!1,meta:!1},d.enableMouseListeners=function(){d.mouseListener=l(x,T),x.addEventListener("touchstart",function(g){var h=c(g.changedTouches[0],x);T(0,h[0],h[1],d._lastMods),T(1,h[0],h[1],d._lastMods)},v?{passive:!0}:!1),x.addEventListener("touchmove",function(g){var h=c(g.changedTouches[0],x);T(1,h[0],h[1],d._lastMods),g.preventDefault()},v?{passive:!1}:!1),x.addEventListener("touchend",function(g){T(0,d._lastX,d._lastY,d._lastMods)},v?{passive:!0}:!1);function T(g,h,S,p){var C=d.keyBindingMode;if(C!==!1){var k=C==="rotate",D=C==="pan",P=C==="zoom",O=!!p.control,F=!!p.alt,L=!!p.shift,I=!!(g&1),q=!!(g&2),z=!!(g&4),W=1/x.clientHeight,$=W*(h-d._lastX),j=W*(S-d._lastY),G=d.flipX?1:-1,B=d.flipY?1:-1,X=Math.PI*d.rotateSpeed,te=s();if(d._lastX!==-1&&d._lastY!==-1&&((k&&I&&!O&&!F&&!L||I&&!O&&!F&&L)&&y.rotate(te,G*X*$,-B*X*j,0),(D&&I&&!O&&!F&&!L||q||I&&O&&!F&&!L)&&y.pan(te,-d.translateSpeed*$*M,d.translateSpeed*j*M,0),P&&I&&!O&&!F&&!L||z||I&&!O&&F&&!L)){var J=-d.zoomSpeed*j/window.innerHeight*(te-y.lastT())*100;y.pan(te,0,0,M*(Math.exp(J)-1))}return d._lastX=h,d._lastY=S,d._lastMods=p,!0}}d.wheelListener=u(x,function(g,h){if(d.keyBindingMode!==!1&&d.enableWheel){var S=d.flipX?1:-1,p=d.flipY?1:-1,C=s();if(Math.abs(g)>Math.abs(h))y.rotate(C,0,0,-g*S*Math.PI*d.rotateSpeed/window.innerWidth);else if(!d._ortho){var k=-d.zoomSpeed*p*h/window.innerHeight*(C-y.lastT())/20;y.pan(C,0,0,M*(Math.exp(k)-1))}}},!0)},d.enableMouseListeners(),d}},799:function(a,o,i){var s=i(3236),f=i(9405),l=s([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=s([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);a.exports=function(c){return f(c,l,u,null,[{name:"position",type:"vec2"}])}},4100:function(a,o,i){"use strict";var s=i(4437),f=i(3837),l=i(5445),u=i(4449),c=i(3589),v=i(2260),m=i(7169),x=i(351),A=i(4772),w=i(4040),y=i(799),_=i(9216)({tablet:!0,featureDetect:!0});a.exports={createScene:T,createCamera:s};function M(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(h,S){var p=null;try{p=h.getContext("webgl",S),p||(p=h.getContext("experimental-webgl",S))}catch(C){return null}return p}function E(h){var S=Math.round(Math.log(Math.abs(h))/Math.log(10));if(S<0){var p=Math.round(Math.pow(10,-S));return Math.ceil(h*p)/p}else if(S>0){var p=Math.round(Math.pow(10,S));return Math.ceil(h/p)*p}return Math.ceil(h)}function d(h){return typeof h=="boolean"?h:!0}function T(h){h=h||{},h.camera=h.camera||{};var S=h.canvas;if(!S)if(S=document.createElement("canvas"),h.container){var p=h.container;p.appendChild(S)}else document.body.appendChild(S);var C=h.gl;if(C||(h.glOptions&&(_=!!h.glOptions.preserveDrawingBuffer),C=b(S,h.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:_})),!C)throw new Error("webgl not supported");var k=h.bounds||[[-10,-10,-10],[10,10,10]],D=new M,P=v(C,C.drawingBufferWidth,C.drawingBufferHeight,{preferFloat:!_}),O=y(C),F=h.cameraObject&&h.cameraObject._ortho===!0||h.camera.projection&&h.camera.projection.type==="orthographic"||!1,L={eye:h.camera.eye||[2,0,0],center:h.camera.center||[0,0,0],up:h.camera.up||[0,1,0],zoomMin:h.camera.zoomMax||.1,zoomMax:h.camera.zoomMin||100,mode:h.camera.mode||"turntable",_ortho:F},I=h.axes||{},q=f(C,I);q.enable=!I.disable;var z=h.spikes||{},W=u(C,z),$=[],j=[],G=[],B=[],X=!0,ee=!0,te=new Array(16),J=new Array(16),ae={view:null,projection:te,model:J,_ortho:!1},ee=!0,H=[C.drawingBufferWidth,C.drawingBufferHeight],re=h.cameraObject||s(S,L),V={gl:C,contextLost:!1,pixelRatio:h.pixelRatio||1,canvas:S,selection:D,camera:re,axes:q,axesPixels:null,spikes:W,bounds:k,objects:$,shape:H,aspect:h.aspectRatio||[1,1,1],pickRadius:h.pickRadius||10,zNear:h.zNear||.01,zFar:h.zFar||1e3,fovy:h.fovy||Math.PI/4,clearColor:h.clearColor||[0,0,0,0],autoResize:d(h.autoResize),autoBounds:d(h.autoBounds),autoScale:!!h.autoScale,autoCenter:d(h.autoCenter),clipToBounds:d(h.clipToBounds),snapToData:!!h.snapToData,onselect:h.onselect||null,onrender:h.onrender||null,onclick:h.onclick||null,cameraParams:ae,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ae){this.aspect[0]=Ae.x,this.aspect[1]=Ae.y,this.aspect[2]=Ae.z,ee=!0},setBounds:function(Ae,Ie){this.bounds[0][Ae]=Ie.min,this.bounds[1][Ae]=Ie.max},setClearColor:function(Ae){this.clearColor=Ae},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ne=[C.drawingBufferWidth/V.pixelRatio|0,C.drawingBufferHeight/V.pixelRatio|0];function le(){if(!V._stopped&&V.autoResize){var Ae=S.parentNode,Ie=1,Ve=1;Ae&&Ae!==document.body?(Ie=Ae.clientWidth,Ve=Ae.clientHeight):(Ie=window.innerWidth,Ve=window.innerHeight);var pe=Math.ceil(Ie*V.pixelRatio)|0,xe=Math.ceil(Ve*V.pixelRatio)|0;if(pe!==S.width||xe!==S.height){S.width=pe,S.height=xe;var Te=S.style;Te.position=Te.position||"absolute",Te.left="0px",Te.top="0px",Te.width=Ie+"px",Te.height=Ve+"px",X=!0}}}V.autoResize&&le(),window.addEventListener("resize",le);function de(){for(var Ae=$.length,Ie=B.length,Ve=0;Ve<Ie;++Ve)G[Ve]=0;e:for(var Ve=0;Ve<Ae;++Ve){var pe=$[Ve],xe=pe.pickSlots;if(!xe){j[Ve]=-1;continue}for(var Te=0;Te<Ie;++Te)if(G[Te]+xe<255){j[Ve]=Te,pe.setPickBase(G[Te]+1),G[Te]+=xe;continue e}var qe=c(C,H);j[Ve]=Ie,B.push(qe),G.push(xe),pe.setPickBase(1),Ie+=1}for(;Ie>0&&G[Ie-1]===0;)G.pop(),B.pop().dispose()}V.update=function(Ae){V._stopped||(Ae=Ae||{},X=!0,ee=!0)},V.add=function(Ae){V._stopped||(Ae.axes=q,$.push(Ae),j.push(-1),X=!0,ee=!0,de())},V.remove=function(Ae){if(!V._stopped){var Ie=$.indexOf(Ae);Ie<0||($.splice(Ie,1),j.pop(),X=!0,ee=!0,de())}},V.dispose=function(){if(!V._stopped&&(V._stopped=!0,window.removeEventListener("resize",le),S.removeEventListener("webglcontextlost",_e),V.mouseListener.enabled=!1,!V.contextLost)){q.dispose(),W.dispose();for(var Ae=0;Ae<$.length;++Ae)$[Ae].dispose();P.dispose();for(var Ae=0;Ae<B.length;++Ae)B[Ae].dispose();O.dispose(),C=null,q=null,W=null,$=[]}},V._mouseRotating=!1,V._prevButtons=0,V.enableMouseListeners=function(){V.mouseListener=x(S,function(Ae,Ie,Ve){if(!V._stopped){var pe=B.length,xe=$.length,Te=D.object;D.distance=1/0,D.mouse[0]=Ie,D.mouse[1]=Ve,D.object=null,D.screen=null,D.dataCoordinate=D.dataPosition=null;var qe=!1;if(Ae&&V._prevButtons)V._mouseRotating=!0;else{V._mouseRotating&&(ee=!0),V._mouseRotating=!1;for(var er=0;er<pe;++er){var ze=B[er].query(Ie,ne[1]-Ve-1,V.pickRadius);if(ze){if(ze.distance>D.distance)continue;for(var Ce=0;Ce<xe;++Ce){var Le=$[Ce];if(j[Ce]===er){var Ne=Le.pick(ze);Ne&&(D.buttons=Ae,D.screen=ze.coord,D.distance=ze.distance,D.object=Le,D.index=Ne.distance,D.dataPosition=Ne.position,D.dataCoordinate=Ne.dataCoordinate,D.data=Ne,qe=!0)}}}}}Te&&Te!==D.object&&(Te.highlight&&Te.highlight(null),X=!0),D.object&&(D.object.highlight&&D.object.highlight(D.data),X=!0),qe=qe||D.object!==Te,qe&&V.onselect&&V.onselect(D),Ae&1&&!(V._prevButtons&1)&&V.onclick&&V.onclick(D),V._prevButtons=Ae}})};function _e(){if(V.contextLost)return!0;C.isContextLost()&&(V.contextLost=!0,V.mouseListener.enabled=!1,V.selection.object=null,V.oncontextloss&&V.oncontextloss())}S.addEventListener("webglcontextlost",_e);function me(){if(!_e()){C.colorMask(!0,!0,!0,!0),C.depthMask(!0),C.disable(C.BLEND),C.enable(C.DEPTH_TEST),C.depthFunc(C.LEQUAL);for(var Ae=$.length,Ie=B.length,Ve=0;Ve<Ie;++Ve){var pe=B[Ve];pe.shape=ne,pe.begin();for(var xe=0;xe<Ae;++xe)if(j[xe]===Ve){var Te=$[xe];Te.drawPick&&(Te.pixelRatio=1,Te.drawPick(ae))}pe.end()}}}var ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],be=[ve[0].slice(),ve[1].slice()];function we(){if(!_e()){le();var Ae=V.camera.tick();ae.view=V.camera.matrix,X=X||Ae,ee=ee||Ae,q.pixelRatio=V.pixelRatio,W.pixelRatio=V.pixelRatio;var Ie=$.length,Ve=ve[0],pe=ve[1];Ve[0]=Ve[1]=Ve[2]=1/0,pe[0]=pe[1]=pe[2]=-1/0;for(var xe=0;xe<Ie;++xe){var Te=$[xe];Te.pixelRatio=V.pixelRatio,Te.axes=V.axes,X=X||!!Te.dirty,ee=ee||!!Te.dirty;var qe=Te.bounds;if(qe)for(var er=qe[0],ze=qe[1],Ce=0;Ce<3;++Ce)Ve[Ce]=Math.min(Ve[Ce],er[Ce]),pe[Ce]=Math.max(pe[Ce],ze[Ce])}var Le=V.bounds;if(V.autoBounds)for(var Ce=0;Ce<3;++Ce){if(pe[Ce]<Ve[Ce])Ve[Ce]=-1,pe[Ce]=1;else{Ve[Ce]===pe[Ce]&&(Ve[Ce]-=1,pe[Ce]+=1);var Ne=.05*(pe[Ce]-Ve[Ce]);Ve[Ce]=Ve[Ce]-Ne,pe[Ce]=pe[Ce]+Ne}Le[0][Ce]=Ve[Ce],Le[1][Ce]=pe[Ce]}for(var tr=!1,Ce=0;Ce<3;++Ce)tr=tr||be[0][Ce]!==Le[0][Ce]||be[1][Ce]!==Le[1][Ce],be[0][Ce]=Le[0][Ce],be[1][Ce]=Le[1][Ce];if(ee=ee||tr,X=X||tr,!!X){if(tr){for(var ir=[0,0,0],xe=0;xe<3;++xe)ir[xe]=E((Le[1][xe]-Le[0][xe])/10);q.autoTicks?q.update({bounds:Le,tickSpacing:ir}):q.update({bounds:Le})}var mr=C.drawingBufferWidth,Tr=C.drawingBufferHeight;H[0]=mr,H[1]=Tr,ne[0]=Math.max(mr/V.pixelRatio,1)|0,ne[1]=Math.max(Tr/V.pixelRatio,1)|0,g(V,F);for(var xe=0;xe<Ie;++xe){var Te=$[xe];Te.axesBounds=Le,V.clipToBounds&&(Te.clipBounds=Le)}D.object&&(V.snapToData?W.position=D.dataCoordinate:W.position=D.dataPosition,W.bounds=Le),ee&&(ee=!1,me()),V.axesPixels=l(V.axes,ae,mr,Tr),V.onrender&&V.onrender(),C.bindFramebuffer(C.FRAMEBUFFER,null),C.viewport(0,0,mr,Tr),V.clearRGBA(),C.depthMask(!0),C.colorMask(!0,!0,!0,!0),C.enable(C.DEPTH_TEST),C.depthFunc(C.LEQUAL),C.disable(C.BLEND),C.disable(C.CULL_FACE);var pr=!1;q.enable&&(pr=pr||q.isTransparent(),q.draw(ae)),W.axes=q,D.object&&W.draw(ae),C.disable(C.CULL_FACE);for(var xe=0;xe<Ie;++xe){var Te=$[xe];Te.axes=q,Te.pixelRatio=V.pixelRatio,Te.isOpaque&&Te.isOpaque()&&Te.draw(ae),Te.isTransparent&&Te.isTransparent()&&(pr=!0)}if(pr){P.shape=H,P.bind(),C.clear(C.DEPTH_BUFFER_BIT),C.colorMask(!1,!1,!1,!1),C.depthMask(!0),C.depthFunc(C.LESS),q.enable&&q.isTransparent()&&q.drawTransparent(ae);for(var xe=0;xe<Ie;++xe){var Te=$[xe];Te.isOpaque&&Te.isOpaque()&&Te.draw(ae)}C.enable(C.BLEND),C.blendEquation(C.FUNC_ADD),C.blendFunc(C.ONE,C.ONE_MINUS_SRC_ALPHA),C.colorMask(!0,!0,!0,!0),C.depthMask(!1),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT),q.isTransparent()&&q.drawTransparent(ae);for(var xe=0;xe<Ie;++xe){var Te=$[xe];Te.isTransparent&&Te.isTransparent()&&Te.drawTransparent(ae)}C.bindFramebuffer(C.FRAMEBUFFER,null),C.blendFunc(C.ONE,C.ONE_MINUS_SRC_ALPHA),C.disable(C.DEPTH_TEST),O.bind(),P.color[0].bind(0),O.uniforms.accumBuffer=0,m(C),C.disable(C.BLEND)}X=!1;for(var xe=0;xe<Ie;++xe)$[xe].dirty=!1}}}function Se(){V._stopped||V.contextLost||(we(),requestAnimationFrame(Se))}return V.enableMouseListeners(),Se(),V.redraw=function(){V._stopped||(X=!0,we())},V}function g(h,S){var p=h.bounds,C=h.cameraParams,k=C.projection,D=C.model,P=h.gl.drawingBufferWidth,O=h.gl.drawingBufferHeight,F=h.zNear,L=h.zFar,I=h.fovy,q=P/O;S?(w(k,-q,q,-1,1,F,L),C._ortho=!0):(A(k,I,q,F,L),C._ortho=!1);for(var z=0;z<16;++z)D[z]=0;D[15]=1;for(var W=0,z=0;z<3;++z)W=Math.max(W,p[1][z]-p[0][z]);for(var z=0;z<3;++z)h.autoScale?D[5*z]=h.aspect[z]/(p[1][z]-p[0][z]):D[5*z]=1/W,h.autoCenter&&(D[12+z]=-D[5*z]*.5*(p[0][z]+p[1][z]))}},6640:function(a,o,i){var s=i(3236);o.pointVertex=s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),o.pointFragment=s([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),o.pickVertex=s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),o.pickFragment=s([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(a,o,i){"use strict";var s=i(9405),f=i(2762),l=i(1888),u=i(6640);a.exports=x;function c(A,w,y,_,M){this.plot=A,this.offsetBuffer=w,this.pickBuffer=y,this.shader=_,this.pickShader=M,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var v=c.prototype;v.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},v.update=function(A){var w;A=A||{};function y(g,h){return g in A?A[g]:h}this.sizeMin=y("sizeMin",.5),this.sizeMax=y("sizeMax",20),this.color=y("color",[1,0,0,1]).slice(),this.areaRatio=y("areaRatio",1),this.borderColor=y("borderColor",[0,0,0,1]).slice(),this.blend=y("blend",!1);var _=A.positions.length>>>1,M=A.positions instanceof Float32Array,b=A.idToIndex instanceof Int32Array&&A.idToIndex.length>=_,E=A.positions,d=M?E:l.mallocFloat32(E.length),T=b?A.idToIndex:l.mallocInt32(_);if(M||d.set(E),!b)for(d.set(E),w=0;w<_;w++)T[w]=w;this.points=E,this.offsetBuffer.update(d),this.pickBuffer.update(T),M||l.free(d),b||l.free(T),this.pointCount=_,this.pickOffset=0};function m(A,w){var y=0,_=A.length>>>1,M;for(M=0;M<_;M++){var b=A[M*2],E=A[M*2+1];b>=w[0]&&b<=w[2]&&E>=w[1]&&E<=w[3]&&y++}return y}v.unifiedDraw=function(){var A=[1,0,0,0,1,0,0,0,1],w=[0,0,0,0];return function(y){var _=y!==void 0,M=_?this.pickShader:this.shader,b=this.plot.gl,E=this.plot.dataBox;if(this.pointCount===0)return y;var d=E[2]-E[0],T=E[3]-E[1],g=m(this.points,E),h=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(g,.33333)));A[0]=2/d,A[4]=2/T,A[6]=-2*E[0]/d-1,A[7]=-2*E[1]/T-1,this.offsetBuffer.bind(),M.bind(),M.attributes.position.pointer(),M.uniforms.matrix=A,M.uniforms.color=this.color,M.uniforms.borderColor=this.borderColor,M.uniforms.pointCloud=h<5,M.uniforms.pointSize=h,M.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),_&&(w[0]=y&255,w[1]=y>>8&255,w[2]=y>>16&255,w[3]=y>>24&255,this.pickBuffer.bind(),M.attributes.pickId.pointer(b.UNSIGNED_BYTE),M.uniforms.pickOffset=w,this.pickOffset=y);var S=b.getParameter(b.BLEND),p=b.getParameter(b.DITHER);return S&&!this.blend&&b.disable(b.BLEND),p&&b.disable(b.DITHER),b.drawArrays(b.POINTS,0,this.pointCount),S&&!this.blend&&b.enable(b.BLEND),p&&b.enable(b.DITHER),y+this.pointCount}}(),v.draw=v.unifiedDraw,v.drawPick=v.unifiedDraw,v.pick=function(A,w,y){var _=this.pickOffset,M=this.pointCount;if(y<_||y>=_+M)return null;var b=y-_,E=this.points;return{object:this,pointId:b,dataCoord:[E[2*b],E[2*b+1]]}};function x(A,w){var y=A.gl,_=f(y),M=f(y),b=s(y,u.pointVertex,u.pointFragment),E=s(y,u.pickVertex,u.pickFragment),d=new c(A,_,M,b,E);return d.update(w),A.addObject(d),d}},783:function(a){a.exports=o;function o(i,s,f,l){var u=s[0],c=s[1],v=s[2],m=s[3],x=f[0],A=f[1],w=f[2],y=f[3],_,M,b,E,d;return M=u*x+c*A+v*w+m*y,M<0&&(M=-M,x=-x,A=-A,w=-w,y=-y),1-M>1e-6?(_=Math.acos(M),b=Math.sin(_),E=Math.sin((1-l)*_)/b,d=Math.sin(l*_)/b):(E=1-l,d=l),i[0]=E*u+d*x,i[1]=E*c+d*A,i[2]=E*v+d*w,i[3]=E*m+d*y,i}},5964:function(a){"use strict";a.exports=function(o){return!o&&o!==0?"":o.toString()}},9366:function(a,o,i){"use strict";var s=i(4359);a.exports=l;var f={};function l(u,c,v){var m=[c.style,c.weight,c.variant,c.family].join("_"),x=f[m];if(x||(x=f[m]={}),u in x)return x[u];var A={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c.family,fontStyle:c.style,fontWeight:c.weight,fontVariant:c.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};A.triangles=!0;var w=s(u,A);A.triangles=!1;var y=s(u,A),_,M;if(v&&v!==1){for(_=0;_<w.positions.length;++_)for(M=0;M<w.positions[_].length;++M)w.positions[_][M]/=v;for(_=0;_<y.positions.length;++_)for(M=0;M<y.positions[_].length;++M)y.positions[_][M]/=v}var b=[[1/0,1/0],[-1/0,-1/0]],E=y.positions.length;for(_=0;_<E;++_){var d=y.positions[_];for(M=0;M<2;++M)b[0][M]=Math.min(b[0][M],d[M]),b[1][M]=Math.max(b[1][M],d[M])}return x[u]=[w,y,b]}},1283:function(a,o,i){var s=i(9405),f=i(3236),l=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),v=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),x=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],A={vertex:l,fragment:v,attributes:x},w={vertex:u,fragment:v,attributes:x},y={vertex:c,fragment:v,attributes:x},_={vertex:l,fragment:m,attributes:x},M={vertex:u,fragment:m,attributes:x},b={vertex:c,fragment:m,attributes:x};function E(d,T){var g=s(d,T),h=g.attributes;return h.position.location=0,h.color.location=1,h.glyph.location=2,h.id.location=3,g}o.createPerspective=function(d){return E(d,A)},o.createOrtho=function(d){return E(d,w)},o.createProject=function(d){return E(d,y)},o.createPickPerspective=function(d){return E(d,_)},o.createPickOrtho=function(d){return E(d,M)},o.createPickProject=function(d){return E(d,b)}},8418:function(a,o,i){"use strict";var s=i(5219),f=i(2762),l=i(8116),u=i(1888),c=i(6760),v=i(1283),m=i(9366),x=i(5964),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],w=ArrayBuffer,y=DataView;function _(J){return w.isView(J)&&!(J instanceof y)}function M(J){return Array.isArray(J)||_(J)}a.exports=te;function b(J,ae){var ee=J[0],H=J[1],re=J[2],V=J[3];return J[0]=ae[0]*ee+ae[4]*H+ae[8]*re+ae[12]*V,J[1]=ae[1]*ee+ae[5]*H+ae[9]*re+ae[13]*V,J[2]=ae[2]*ee+ae[6]*H+ae[10]*re+ae[14]*V,J[3]=ae[3]*ee+ae[7]*H+ae[11]*re+ae[15]*V,J}function E(J,ae,ee,H){return b(H,H,ee),b(H,H,ae),b(H,H,J)}function d(J,ae){this.index=J,this.dataCoordinate=this.position=ae}function T(J){return J===!0||J>1?1:J}function g(J,ae,ee,H,re,V,ne,le,de,_e,me,ve){this.gl=J,this.pixelRatio=1,this.shader=ae,this.orthoShader=ee,this.projectShader=H,this.pointBuffer=re,this.colorBuffer=V,this.glyphBuffer=ne,this.idBuffer=le,this.vao=de,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=_e,this.pickOrthoShader=me,this.pickProjectShader=ve,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var h=g.prototype;h.pickSlots=1,h.setPickBase=function(J){this.pickId=J},h.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},h.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var S=[0,0],p=[0,0,0],C=[0,0,0],k=[0,0,0,1],D=[0,0,0,1],P=A.slice(),O=[0,0,0],F=[[0,0,0],[0,0,0]];function L(J){return J[0]=J[1]=J[2]=0,J}function I(J,ae){return J[0]=ae[0],J[1]=ae[1],J[2]=ae[2],J[3]=1,J}function q(J,ae,ee,H){return J[0]=ae[0],J[1]=ae[1],J[2]=ae[2],J[ee]=H,J}function z(J){for(var ae=F,ee=0;ee<2;++ee)for(var H=0;H<3;++H)ae[ee][H]=Math.max(Math.min(J[ee][H],1e8),-1e8);return ae}function W(J,ae,ee,H){var re=ae.axesProject,V=ae.gl,ne=J.uniforms,le=ee.model||A,de=ee.view||A,_e=ee.projection||A,me=ae.axesBounds,ve=z(ae.clipBounds),be;ae.axes&&ae.axes.lastCubeProps?be=ae.axes.lastCubeProps.axis:be=[1,1,1],S[0]=2/V.drawingBufferWidth,S[1]=2/V.drawingBufferHeight,J.bind(),ne.view=de,ne.projection=_e,ne.screenSize=S,ne.highlightId=ae.highlightId,ne.highlightScale=ae.highlightScale,ne.clipBounds=ve,ne.pickGroup=ae.pickId/255,ne.pixelRatio=H;for(var we=0;we<3;++we)if(re[we]){ne.scale=ae.projectScale[we],ne.opacity=ae.projectOpacity[we];for(var Se=P,Ae=0;Ae<16;++Ae)Se[Ae]=0;for(var Ae=0;Ae<4;++Ae)Se[5*Ae]=1;Se[5*we]=0,be[we]<0?Se[12+we]=me[0][we]:Se[12+we]=me[1][we],c(Se,le,Se),ne.model=Se;var Ie=(we+1)%3,Ve=(we+2)%3,pe=L(p),xe=L(C);pe[Ie]=1,xe[Ve]=1;var Te=E(_e,de,le,I(k,pe)),qe=E(_e,de,le,I(D,xe));if(Math.abs(Te[1])>Math.abs(qe[1])){var er=Te;Te=qe,qe=er,er=pe,pe=xe,xe=er;var ze=Ie;Ie=Ve,Ve=ze}Te[0]<0&&(pe[Ie]=-1),qe[1]>0&&(xe[Ve]=-1);for(var Ce=0,Le=0,Ae=0;Ae<4;++Ae)Ce+=Math.pow(le[4*Ie+Ae],2),Le+=Math.pow(le[4*Ve+Ae],2);pe[Ie]/=Math.sqrt(Ce),xe[Ve]/=Math.sqrt(Le),ne.axes[0]=pe,ne.axes[1]=xe,ne.fragClipBounds[0]=q(O,ve[0],we,-1e8),ne.fragClipBounds[1]=q(O,ve[1],we,1e8),ae.vao.bind(),ae.vao.draw(V.TRIANGLES,ae.vertexCount),ae.lineWidth>0&&(V.lineWidth(ae.lineWidth*H),ae.vao.draw(V.LINES,ae.lineVertexCount,ae.vertexCount)),ae.vao.unbind()}}var $=[-1e8,-1e8,-1e8],j=[1e8,1e8,1e8],G=[$,j];function B(J,ae,ee,H,re,V,ne){var le=ee.gl;if((V===ee.projectHasAlpha||ne)&&W(ae,ee,H,re),V===ee.hasAlpha||ne){J.bind();var de=J.uniforms;de.model=H.model||A,de.view=H.view||A,de.projection=H.projection||A,S[0]=2/le.drawingBufferWidth,S[1]=2/le.drawingBufferHeight,de.screenSize=S,de.highlightId=ee.highlightId,de.highlightScale=ee.highlightScale,de.fragClipBounds=G,de.clipBounds=ee.axes.bounds,de.opacity=ee.opacity,de.pickGroup=ee.pickId/255,de.pixelRatio=re,ee.vao.bind(),ee.vao.draw(le.TRIANGLES,ee.vertexCount),ee.lineWidth>0&&(le.lineWidth(ee.lineWidth*re),ee.vao.draw(le.LINES,ee.lineVertexCount,ee.vertexCount)),ee.vao.unbind()}}h.draw=function(J){var ae=this.useOrtho?this.orthoShader:this.shader;B(ae,this.projectShader,this,J,this.pixelRatio,!1,!1)},h.drawTransparent=function(J){var ae=this.useOrtho?this.orthoShader:this.shader;B(ae,this.projectShader,this,J,this.pixelRatio,!0,!1)},h.drawPick=function(J){var ae=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;B(ae,this.pickProjectShader,this,J,1,!0,!0)},h.pick=function(J){if(!J||J.id!==this.pickId)return null;var ae=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(ae>=this.pointCount||ae<0)return null;var ee=this.points[ae],H=this._selectResult;H.index=ae;for(var re=0;re<3;++re)H.position[re]=H.dataCoordinate[re]=ee[re];return H},h.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var ae=J.index,ee=ae&255,H=ae>>8&255,re=ae>>16&255;this.highlightId=[ee/255,H/255,re/255,0]}};function X(J,ae,ee,H){var re;M(J)?ae<J.length?re=J[ae]:re=void 0:re=J,re=x(re);var V=!0;s(re)&&(re="\u25BC",V=!1),ee||(ee={});var ne=ee.family;M(ne)&&(ne=ne[ae]),ne||(ne="normal");var le=ee.weight;M(le)&&(le=le[ae]),le||(le="normal");var de=ee.style;M(de)&&(de=de[ae]),de||(de="normal");var _e=ee.variant;M(_e)&&(_e=_e[ae]),_e||(_e="normal");var me=m(re,{family:ne,weight:le,style:de,variant:_e},H),me=m(re,ee,H);return{mesh:me[0],lines:me[1],bounds:me[2],visible:V}}h.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(M(J.project))this.axesProject=J.project;else{var ae=!!J.project;this.axesProject=[ae,ae,ae]}if("projectScale"in J)if(M(J.projectScale))this.projectScale=J.projectScale.slice();else{var ee=+J.projectScale;this.projectScale=[ee,ee,ee]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(M(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var ee=+J.projectOpacity;this.projectOpacity=[ee,ee,ee]}for(var H=0;H<3;++H)this.projectOpacity[H]=T(this.projectOpacity[H]),this.projectOpacity[H]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=T(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var re=J.position,V={family:J.font||"normal",style:J.fontStyle||"normal",weight:J.fontWeight||"normal",variant:J.fontVariant||"normal"},ne=J.alignment||[0,0],le,de;if(ne.length===2)le=ne[0],de=ne[1];else{le=[],de=[];for(var H=0;H<ne.length;++H)le[H]=ne[H][0],de[H]=ne[H][1]}var _e=[1/0,1/0,1/0],me=[-1/0,-1/0,-1/0],ve=J.glyph,be=J.color,we=J.size,Se=J.angle,Ae=J.lineColor,Ie=-1,Ve=0,pe=0,xe=0;if(re.length){xe=re.length;e:for(var H=0;H<xe;++H){for(var Te=re[H],qe=0;qe<3;++qe)if(isNaN(Te[qe])||!isFinite(Te[qe]))continue e;var er=X(ve,H,V,this.pixelRatio),ze=er.mesh,Ce=er.lines,Le=er.bounds;Ve+=ze.cells.length*3,pe+=Ce.edges.length*2}}var Ne=Ve+pe,tr=u.mallocFloat(3*Ne),ir=u.mallocFloat(4*Ne),mr=u.mallocFloat(2*Ne),Tr=u.mallocUint32(Ne);if(Ne>0){var pr=0,nr=Ve,Me=[0,0,0,1],Fe=[0,0,0,1],ur=M(be)&&M(be[0]),je=M(Ae)&&M(Ae[0]);e:for(var H=0;H<xe;++H){Ie+=1;for(var Te=re[H],qe=0;qe<3;++qe){if(isNaN(Te[qe])||!isFinite(Te[qe]))continue e;me[qe]=Math.max(me[qe],Te[qe]),_e[qe]=Math.min(_e[qe],Te[qe])}var er=X(ve,H,V,this.pixelRatio),ze=er.mesh,Ce=er.lines,Le=er.bounds,Er=er.visible;if(!Er)Me=[1,1,1,0];else if(M(be)){var ue;if(ur?H<be.length?ue=be[H]:ue=[0,0,0,0]:ue=be,ue.length===3){for(var qe=0;qe<3;++qe)Me[qe]=ue[qe];Me[3]=1}else if(ue.length===4){for(var qe=0;qe<4;++qe)Me[qe]=ue[qe];!this.hasAlpha&&ue[3]<1&&(this.hasAlpha=!0)}}else Me[0]=Me[1]=Me[2]=0,Me[3]=1;if(!Er)Fe=[1,1,1,0];else if(M(Ae)){var ue;if(je?H<Ae.length?ue=Ae[H]:ue=[0,0,0,0]:ue=Ae,ue.length===3){for(var qe=0;qe<3;++qe)Fe[qe]=ue[qe];Fe[qe]=1}else if(ue.length===4){for(var qe=0;qe<4;++qe)Fe[qe]=ue[qe];!this.hasAlpha&&ue[3]<1&&(this.hasAlpha=!0)}}else Fe[0]=Fe[1]=Fe[2]=0,Fe[3]=1;var Q=.5;Er?M(we)?H<we.length?Q=+we[H]:Q=12:we?Q=+we:this.useOrtho&&(Q=12):Q=0;var oe=0;M(Se)?H<Se.length?oe=+Se[H]:oe=0:Se&&(oe=+Se);for(var Ee=Math.cos(oe),Xe=Math.sin(oe),Te=re[H],qe=0;qe<3;++qe)me[qe]=Math.max(me[qe],Te[qe]),_e[qe]=Math.min(_e[qe],Te[qe]);var ar=le,yr=de,ar=0;M(le)?H<le.length?ar=le[H]:ar=0:le&&(ar=le);var yr=0;M(de)?H<de.length?yr=de[H]:yr=0:de&&(yr=de),ar*=ar>0?1-Le[0][0]:ar<0?1+Le[1][0]:1,yr*=yr>0?1-Le[0][1]:yr<0?1+Le[1][1]:1;for(var Kr=[ar,yr],Ln=ze.cells||[],tn=ze.positions||[],qe=0;qe<Ln.length;++qe)for(var mt=Ln[qe],Ft=0;Ft<3;++Ft){for(var wt=0;wt<3;++wt)tr[3*pr+wt]=Te[wt];for(var wt=0;wt<4;++wt)ir[4*pr+wt]=Me[wt];Tr[pr]=Ie;var bt=tn[mt[Ft]];mr[2*pr]=Q*(Ee*bt[0]-Xe*bt[1]+Kr[0]),mr[2*pr+1]=Q*(Xe*bt[0]+Ee*bt[1]+Kr[1]),pr+=1}for(var Ln=Ce.edges,tn=Ce.positions,qe=0;qe<Ln.length;++qe)for(var mt=Ln[qe],Ft=0;Ft<2;++Ft){for(var wt=0;wt<3;++wt)tr[3*nr+wt]=Te[wt];for(var wt=0;wt<4;++wt)ir[4*nr+wt]=Fe[wt];Tr[nr]=Ie;var bt=tn[mt[Ft]];mr[2*nr]=Q*(Ee*bt[0]-Xe*bt[1]+Kr[0]),mr[2*nr+1]=Q*(Xe*bt[0]+Ee*bt[1]+Kr[1]),nr+=1}}}this.bounds=[_e,me],this.points=re,this.pointCount=re.length,this.vertexCount=Ve,this.lineVertexCount=pe,this.pointBuffer.update(tr),this.colorBuffer.update(ir),this.glyphBuffer.update(mr),this.idBuffer.update(Tr),u.free(tr),u.free(ir),u.free(mr),u.free(Tr)},h.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function te(J){var ae=J.gl,ee=v.createPerspective(ae),H=v.createOrtho(ae),re=v.createProject(ae),V=v.createPickPerspective(ae),ne=v.createPickOrtho(ae),le=v.createPickProject(ae),de=f(ae),_e=f(ae),me=f(ae),ve=f(ae),be=l(ae,[{buffer:de,size:3,type:ae.FLOAT},{buffer:_e,size:4,type:ae.FLOAT},{buffer:me,size:2,type:ae.FLOAT},{buffer:ve,size:4,type:ae.UNSIGNED_BYTE,normalized:!0}]),we=new g(ae,ee,H,re,de,_e,me,ve,be,V,ne,le);return we.update(J),we}},4298:function(a,o,i){"use strict";var s=i(3236);o.boxVertex=s([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),o.boxFragment=s([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(a,o,i){"use strict";var s=i(9405),f=i(2762),l=i(4298);a.exports=v;function u(m,x,A){this.plot=m,this.boxBuffer=x,this.boxShader=A,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var c=u.prototype;c.draw=function(){if(this.enabled){var m=this.plot,x=this.selectBox,A=this.borderWidth,w=this.innerFill,y=this.innerColor,_=this.outerFill,M=this.outerColor,b=this.borderColor,E=m.box,d=m.screenBox,T=m.dataBox,g=m.viewBox,h=m.pixelRatio,S=(x[0]-T[0])*(g[2]-g[0])/(T[2]-T[0])+g[0],p=(x[1]-T[1])*(g[3]-g[1])/(T[3]-T[1])+g[1],C=(x[2]-T[0])*(g[2]-g[0])/(T[2]-T[0])+g[0],k=(x[3]-T[1])*(g[3]-g[1])/(T[3]-T[1])+g[1];if(S=Math.max(S,g[0]),p=Math.max(p,g[1]),C=Math.min(C,g[2]),k=Math.min(k,g[3]),!(C<S||k<p)){E.bind();var D=d[2]-d[0],P=d[3]-d[1];if(this.outerFill&&(E.drawBox(0,0,D,p,M),E.drawBox(0,p,S,k,M),E.drawBox(0,k,D,P,M),E.drawBox(C,p,D,k,M)),this.innerFill&&E.drawBox(S,p,C,k,y),A>0){var O=A*h;E.drawBox(S-O,p-O,C+O,p+O,b),E.drawBox(S-O,k-O,C+O,k+O,b),E.drawBox(S-O,p-O,S+O,k+O,b),E.drawBox(C-O,p-O,C+O,k+O,b)}}}},c.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function v(m,x){var A=m.gl,w=f(A,[0,0,0,1,1,0,1,1]),y=s(A,l.boxVertex,l.boxFragment),_=new u(m,w,y);return _.update(x),m.addOverlay(_),_}},3589:function(a,o,i){"use strict";a.exports=A;var s=i(2260),f=i(1888),l=i(9618),u=i(8828).nextPow2,c=function(w,y,_){for(var M=1e8,b=-1,E=-1,d=w.shape[0],T=w.shape[1],g=0;g<d;g++)for(var h=0;h<T;h++){var S=w.get(g,h,0),p=w.get(g,h,1),C=w.get(g,h,2),k=w.get(g,h,3);if(S<255||p<255||C<255||k<255){var D=y-g,P=_-h,O=D*D+P*P;O<M&&(M=O,b=g,E=h)}}return[b,E,M]};function v(w,y,_,M,b){this.coord=[w,y],this.id=_,this.value=M,this.distance=b}function m(w,y,_){this.gl=w,this.fbo=y,this.buffer=_,this._readTimeout=null;var M=this;this._readCallback=function(){M.gl&&(y.bind(),w.readPixels(0,0,y.shape[0],y.shape[1],w.RGBA,w.UNSIGNED_BYTE,M.buffer),M._readTimeout=null)}}var x=m.prototype;Object.defineProperty(x,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(w){if(this.gl){this.fbo.shape=w;var y=this.fbo.shape[0],_=this.fbo.shape[1];if(_*y*4>this.buffer.length){f.free(this.buffer);for(var M=this.buffer=f.mallocUint8(u(_*y*4)),b=0;b<_*y*4;++b)M[b]=255}return w}}}),x.begin=function(){var w=this.gl,y=this.shape;w&&(this.fbo.bind(),w.clearColor(1,1,1,1),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT))},x.end=function(){var w=this.gl;w&&(w.bindFramebuffer(w.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},x.query=function(w,y,_){if(!this.gl)return null;var M=this.fbo.shape.slice();w=w|0,y=y|0,typeof _!="number"&&(_=1);var b=Math.min(Math.max(w-_,0),M[0])|0,E=Math.min(Math.max(w+_,0),M[0])|0,d=Math.min(Math.max(y-_,0),M[1])|0,T=Math.min(Math.max(y+_,0),M[1])|0;if(E<=b||T<=d)return null;var g=[E-b,T-d],h=l(this.buffer,[g[0],g[1],4],[4,M[0]*4,1],4*(b+M[0]*d)),S=c(h.hi(g[0],g[1],1),_,_),p=S[0],C=S[1];if(p<0||Math.pow(this.radius,2)<S[2])return null;var k=h.get(p,C,0),D=h.get(p,C,1),P=h.get(p,C,2),O=h.get(p,C,3);return new v(p+b|0,C+d|0,k,[D,P,O],Math.sqrt(S[2]))},x.dispose=function(){this.gl&&(this.fbo.dispose(),f.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function A(w,y){var _=y[0],M=y[1],b={},E=s(w,_,M,b),d=f.mallocUint8(_*M*4);return new m(w,E,d)}},9405:function(a,o,i){"use strict";var s=i(3327),f=i(8731),l=i(216),u=i(5091),c=i(2145),v=i(8866);function m(y){this.gl=y,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var x=m.prototype;x.bind=function(){this.program||this._relink();var y,_=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),M=this.gl.lastAttribCount;if(_>M)for(y=M;y<_;y++)this.gl.enableVertexAttribArray(y);else if(M>_)for(y=_;y<M;y++)this.gl.disableVertexAttribArray(y);this.gl.lastAttribCount=_,this.gl.useProgram(this.program)},x.dispose=function(){for(var y=this.gl.lastAttribCount,_=0;_<y;_++)this.gl.disableVertexAttribArray(_);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function A(y,_){return y.name<_.name?-1:1}x.update=function(y,_,M,b){if(!_||arguments.length===1){var E=y;y=E.vertex,_=E.fragment,M=E.uniforms,b=E.attributes}var d=this,T=d.gl,g=d._vref;d._vref=u.shader(T,T.VERTEX_SHADER,y),g&&g.dispose(),d.vertShader=d._vref.shader;var h=this._fref;if(d._fref=u.shader(T,T.FRAGMENT_SHADER,_),h&&h.dispose(),d.fragShader=d._fref.shader,!M||!b){var S=T.createProgram();if(T.attachShader(S,d.fragShader),T.attachShader(S,d.vertShader),T.linkProgram(S),!T.getProgramParameter(S,T.LINK_STATUS)){var p=T.getProgramInfoLog(S);throw new v(p,"Error linking program:"+p)}M=M||c.uniforms(T,S),b=b||c.attributes(T,S),T.deleteProgram(S)}b=b.slice(),b.sort(A);var C=[],k=[],D=[],P;for(P=0;P<b.length;++P){var O=b[P];if(O.type.indexOf("mat")>=0){for(var F=O.type.charAt(O.type.length-1)|0,L=new Array(F),I=0;I<F;++I)L[I]=D.length,k.push(O.name+"["+I+"]"),typeof O.location=="number"?D.push(O.location+I):Array.isArray(O.location)&&O.location.length===F&&typeof O.location[I]=="number"?D.push(O.location[I]|0):D.push(-1);C.push({name:O.name,type:O.type,locations:L})}else C.push({name:O.name,type:O.type,locations:[D.length]}),k.push(O.name),typeof O.location=="number"?D.push(O.location|0):D.push(-1)}var q=0;for(P=0;P<D.length;++P)if(D[P]<0){for(;D.indexOf(q)>=0;)q+=1;D[P]=q}var z=new Array(M.length);function W(){d.program=u.program(T,d._vref,d._fref,k,D);for(var $=0;$<M.length;++$)z[$]=T.getUniformLocation(d.program,M[$].name)}W(),d._relink=W,d.types={uniforms:l(M),attributes:l(b)},d.attributes=f(T,d,C,D),Object.defineProperty(d,"uniforms",s(T,d,M,z))};function w(y,_,M,b,E){var d=new m(y);return d.update(_,M,b,E),d}a.exports=w},8866:function(a){function o(i,s,f){this.shortMessage=s||"",this.longMessage=f||"",this.rawError=i||"",this.message="gl-shader: "+(s||i||"")+(f?`
`+f:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,a.exports=o},8731:function(a,o,i){"use strict";a.exports=m;var s=i(8866);function f(x,A,w,y,_,M){this._gl=x,this._wrapper=A,this._index=w,this._locations=y,this._dimension=_,this._constFunc=M}var l=f.prototype;l.pointer=function(A,w,y,_){var M=this,b=M._gl,E=M._locations[M._index];b.vertexAttribPointer(E,M._dimension,A||b.FLOAT,!!w,y||0,_||0),b.enableVertexAttribArray(E)},l.set=function(x,A,w,y){return this._constFunc(this._locations[this._index],x,A,w,y)},Object.defineProperty(l,"location",{get:function(){return this._locations[this._index]},set:function(x){return x!==this._locations[this._index]&&(this._locations[this._index]=x|0,this._wrapper.program=null),x|0}});var u=[function(x,A,w){return w.length===void 0?x.vertexAttrib1f(A,w):x.vertexAttrib1fv(A,w)},function(x,A,w,y){return w.length===void 0?x.vertexAttrib2f(A,w,y):x.vertexAttrib2fv(A,w)},function(x,A,w,y,_){return w.length===void 0?x.vertexAttrib3f(A,w,y,_):x.vertexAttrib3fv(A,w)},function(x,A,w,y,_,M){return w.length===void 0?x.vertexAttrib4f(A,w,y,_,M):x.vertexAttrib4fv(A,w)}];function c(x,A,w,y,_,M,b){var E=u[_],d=new f(x,A,w,y,_,E);Object.defineProperty(M,b,{set:function(T){return x.disableVertexAttribArray(y[w]),E(x,y[w],T),T},get:function(){return d},enumerable:!0})}function v(x,A,w,y,_,M,b){for(var E=new Array(_),d=new Array(_),T=0;T<_;++T)c(x,A,w[T],y,_,E,T),d[T]=E[T];Object.defineProperty(E,"location",{set:function(S){if(Array.isArray(S))for(var p=0;p<_;++p)d[p].location=S[p];else for(var p=0;p<_;++p)d[p].location=S+p;return S},get:function(){for(var S=new Array(_),p=0;p<_;++p)S[p]=y[w[p]];return S},enumerable:!0}),E.pointer=function(S,p,C,k){S=S||x.FLOAT,p=!!p,C=C||_*_,k=k||0;for(var D=0;D<_;++D){var P=y[w[D]];x.vertexAttribPointer(P,_,S,p,C,k+D*_),x.enableVertexAttribArray(P)}};var g=new Array(_),h=x["vertexAttrib"+_+"fv"];Object.defineProperty(M,b,{set:function(S){for(var p=0;p<_;++p){var C=y[w[p]];if(x.disableVertexAttribArray(C),Array.isArray(S[0]))h.call(x,C,S[p]);else{for(var k=0;k<_;++k)g[k]=S[_*p+k];h.call(x,C,g)}}return S},get:function(){return E},enumerable:!0})}function m(x,A,w,y){for(var _={},M=0,b=w.length;M<b;++M){var E=w[M],d=E.name,T=E.type,g=E.locations;switch(T){case"bool":case"int":case"float":c(x,A,g[0],y,1,_,d);break;default:if(T.indexOf("vec")>=0){var h=T.charCodeAt(T.length-1)-48;if(h<2||h>4)throw new s("","Invalid data type for attribute "+d+": "+T);c(x,A,g[0],y,h,_,d)}else if(T.indexOf("mat")>=0){var h=T.charCodeAt(T.length-1)-48;if(h<2||h>4)throw new s("","Invalid data type for attribute "+d+": "+T);v(x,A,g,y,h,_,d)}else throw new s("","Unknown data type for attribute "+d+": "+T);break}}return _}},3327:function(a,o,i){"use strict";var s=i(216),f=i(8866);a.exports=c;function l(v){return function(){return v}}function u(v,m){for(var x=new Array(v),A=0;A<v;++A)x[A]=m;return x}function c(v,m,x,A){function w(T){return function(g,h,S){return g.getUniform(h.program,S[T])}}function y(T){return function(h){for(var S=_("",T),p=0;p<S.length;++p){var C=S[p],k=C[0],D=C[1];if(A[D]){var P=h;if(typeof k=="string"&&(k.indexOf(".")===0||k.indexOf("[")===0)){var O=k;if(k.indexOf(".")===0&&(O=k.slice(1)),O.indexOf("]")===O.length-1){var F=O.indexOf("["),L=O.slice(0,F),I=O.slice(F+1,O.length-1);P=L?h[L][I]:h[I]}else P=h[O]}var q=x[D].type,z;switch(q){case"bool":case"int":case"sampler2D":case"samplerCube":v.uniform1i(A[D],P);break;case"float":v.uniform1f(A[D],P);break;default:var W=q.indexOf("vec");if(0<=W&&W<=1&&q.length===4+W){if(z=q.charCodeAt(q.length-1)-48,z<2||z>4)throw new f("","Invalid data type");switch(q.charAt(0)){case"b":case"i":v["uniform"+z+"iv"](A[D],P);break;case"v":v["uniform"+z+"fv"](A[D],P);break;default:throw new f("","Unrecognized data type for vector "+name+": "+q)}}else if(q.indexOf("mat")===0&&q.length===4){if(z=q.charCodeAt(q.length-1)-48,z<2||z>4)throw new f("","Invalid uniform dimension type for matrix "+name+": "+q);v["uniformMatrix"+z+"fv"](A[D],!1,P);break}else throw new f("","Unknown uniform data type for "+name+": "+q)}}}}}function _(T,g){if(typeof g!="object")return[[T,g]];var h=[];for(var S in g){var p=g[S],C=T;parseInt(S)+""===S?C+="["+S+"]":C+="."+S,typeof p=="object"?h.push.apply(h,_(C,p)):h.push([C,p])}return h}function M(T){switch(T){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var g=T.indexOf("vec");if(0<=g&&g<=1&&T.length===4+g){var h=T.charCodeAt(T.length-1)-48;if(h<2||h>4)throw new f("","Invalid data type");return T.charAt(0)==="b"?u(h,!1):u(h,0)}else if(T.indexOf("mat")===0&&T.length===4){var h=T.charCodeAt(T.length-1)-48;if(h<2||h>4)throw new f("","Invalid uniform dimension type for matrix "+name+": "+T);return u(h*h,0)}else throw new f("","Unknown uniform data type for "+name+": "+T)}}function b(T,g,h){if(typeof h=="object"){var S=E(h);Object.defineProperty(T,g,{get:l(S),set:y(h),enumerable:!0,configurable:!1})}else A[h]?Object.defineProperty(T,g,{get:w(h),set:y(h),enumerable:!0,configurable:!1}):T[g]=M(x[h].type)}function E(T){var g;if(Array.isArray(T)){g=new Array(T.length);for(var h=0;h<T.length;++h)b(g,h,T[h])}else{g={};for(var S in T)b(g,S,T[S])}return g}var d=s(x,!0);return{get:l(E(d)),set:y(d),enumerable:!0,configurable:!0}}},216:function(a){"use strict";a.exports=o;function o(i,s){for(var f={},l=0;l<i.length;++l)for(var u=i[l].name,c=u.split("."),v=f,m=0;m<c.length;++m){var x=c[m].split("[");if(x.length>1){x[0]in v||(v[x[0]]=[]),v=v[x[0]];for(var A=1;A<x.length;++A){var w=parseInt(x[A]);A<x.length-1||m<c.length-1?(w in v||(A<x.length-1?v[w]=[]:v[w]={}),v=v[w]):s?v[w]=l:v[w]=i[l].type}}else m<c.length-1?(x[0]in v||(v[x[0]]={}),v=v[x[0]]):s?v[x[0]]=l:v[x[0]]=i[l].type}return f}},2145:function(a,o){"use strict";o.uniforms=l,o.attributes=u;var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null;function f(c,v){if(!s){var m=Object.keys(i);s={};for(var x=0;x<m.length;++x){var A=m[x];s[c[A]]=i[A]}}return s[v]}function l(c,v){for(var m=c.getProgramParameter(v,c.ACTIVE_UNIFORMS),x=[],A=0;A<m;++A){var w=c.getActiveUniform(v,A);if(w){var y=f(c,w.type);if(w.size>1)for(var _=0;_<w.size;++_)x.push({name:w.name.replace("[0]","["+_+"]"),type:y});else x.push({name:w.name,type:y})}}return x}function u(c,v){for(var m=c.getProgramParameter(v,c.ACTIVE_ATTRIBUTES),x=[],A=0;A<m;++A){var w=c.getActiveAttrib(v,A);w&&x.push({name:w.name,type:f(c,w.type)})}return x}},5091:function(a,o,i){"use strict";o.shader=_,o.program=M;var s=i(8866),f=i(2992),l=typeof WeakMap=="undefined"?i(606):WeakMap,u=new l,c=0;function v(b,E,d,T,g,h,S){this.id=b,this.src=E,this.type=d,this.shader=T,this.count=h,this.programs=[],this.cache=S}v.prototype.dispose=function(){if(--this.count===0){for(var b=this.cache,E=b.gl,d=this.programs,T=0,g=d.length;T<g;++T){var h=b.programs[d[T]];h&&(delete b.programs[T],E.deleteProgram(h))}E.deleteShader(this.shader),delete b.shaders[this.type===E.FRAGMENT_SHADER|0][this.src]}};function m(b){this.gl=b,this.shaders=[{},{}],this.programs={}}var x=m.prototype;function A(b,E,d){var T=b.createShader(E);if(b.shaderSource(T,d),b.compileShader(T),!b.getShaderParameter(T,b.COMPILE_STATUS)){var g=b.getShaderInfoLog(T);try{var h=f(g,d,E)}catch(S){throw console.warn("Failed to format compiler error: "+S),new s(g,`Error compiling shader:
`+g)}throw new s(g,h.short,h.long)}return T}x.getShaderReference=function(b,E){var d=this.gl,T=this.shaders[b===d.FRAGMENT_SHADER|0],g=T[E];if(!g||!d.isShader(g.shader)){var h=A(d,b,E);g=T[E]=new v(c++,E,b,h,[],1,this)}else g.count+=1;return g};function w(b,E,d,T,g){var h=b.createProgram();b.attachShader(h,E),b.attachShader(h,d);for(var S=0;S<T.length;++S)b.bindAttribLocation(h,g[S],T[S]);if(b.linkProgram(h),!b.getProgramParameter(h,b.LINK_STATUS)){var p=b.getProgramInfoLog(h);throw new s(p,"Error linking program: "+p)}return h}x.getProgram=function(b,E,d,T){var g=[b.id,E.id,d.join(":"),T.join(":")].join("@"),h=this.programs[g];return(!h||!this.gl.isProgram(h))&&(this.programs[g]=h=w(this.gl,b.shader,E.shader,d,T),b.programs.push(g),E.programs.push(g)),h};function y(b){var E=u.get(b);return E||(E=new m(b),u.set(b,E)),E}function _(b,E,d){return y(b).getShaderReference(E,d)}function M(b,E,d,T,g){return y(b).getProgram(E,d,T,g)}},4098:function(a){"use strict";a.exports=s;function o(f){this.plot=f,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var i=o.prototype;i.update=function(f){f=f||{},this.enable=(f.enable||[!0,!0,!1,!1]).slice(),this.width=(f.width||[1,1,1,1]).slice(),this.color=(f.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(l){return l.slice()}),this.center=(f.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var f=this.enable,l=this.width,u=this.color,c=this.center,v=this.plot,m=v.line,x=v.dataBox,A=v.viewBox;if(m.bind(),x[0]<=c[0]&&c[0]<=x[2]&&x[1]<=c[1]&&c[1]<=x[3]){var w=A[0]+(c[0]-x[0])/(x[2]-x[0])*(A[2]-A[0]),y=A[1]+(c[1]-x[1])/(x[3]-x[1])*(A[3]-A[1]);f[0]&&m.drawLine(w,y,A[0],y,l[0],u[0]),f[1]&&m.drawLine(w,y,w,A[1],l[1],u[1]),f[2]&&m.drawLine(w,y,A[2],y,l[2],u[2]),f[3]&&m.drawLine(w,y,w,A[3],l[3],u[3])}},i.dispose=function(){this.plot.removeOverlay(this)};function s(f,l){var u=new o(f);return u.update(l),f.addOverlay(u),u}},1493:function(a,o,i){"use strict";var s=i(3236),f=i(9405),l=s([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=s([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);a.exports=function(c){return f(c,l,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(a,o,i){"use strict";var s=i(2762),f=i(8116),l=i(1493);a.exports=w;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(y,_,M,b){this.gl=y,this.buffer=_,this.vao=M,this.shader=b,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var v=c.prototype,m=[0,0,0],x=[0,0,0],A=[0,0];v.isTransparent=function(){return!1},v.drawTransparent=function(y){},v.draw=function(y){var _=this.gl,M=this.vao,b=this.shader;M.bind(),b.bind();var E=y.model||u,d=y.view||u,T=y.projection||u,g;this.axes&&(g=this.axes.lastCubeProps.axis);for(var h=m,S=x,p=0;p<3;++p)g&&g[p]<0?(h[p]=this.bounds[0][p],S[p]=this.bounds[1][p]):(h[p]=this.bounds[1][p],S[p]=this.bounds[0][p]);A[0]=_.drawingBufferWidth,A[1]=_.drawingBufferHeight,b.uniforms.model=E,b.uniforms.view=d,b.uniforms.projection=T,b.uniforms.coordinates=[this.position,h,S],b.uniforms.colors=this.colors,b.uniforms.screenShape=A;for(var p=0;p<3;++p)b.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(M.draw(_.TRIANGLES,6,6*p),this.drawSides[p]&&M.draw(_.TRIANGLES,12,18+12*p));M.unbind()},v.update=function(y){y&&("bounds"in y&&(this.bounds=y.bounds),"position"in y&&(this.position=y.position),"lineWidth"in y&&(this.lineWidth=y.lineWidth),"colors"in y&&(this.colors=y.colors),"enabled"in y&&(this.enabled=y.enabled),"drawSides"in y&&(this.drawSides=y.drawSides))},v.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function w(y,_){var M=[];function b(h,S,p,C,k,D){var P=[h,S,p,0,0,0,1];P[C+3]=1,P[C]=k,M.push.apply(M,P),P[6]=-1,M.push.apply(M,P),P[C]=D,M.push.apply(M,P),M.push.apply(M,P),P[6]=1,M.push.apply(M,P),P[C]=k,M.push.apply(M,P)}b(0,0,0,0,0,1),b(0,0,0,1,0,1),b(0,0,0,2,0,1),b(1,0,0,1,-1,1),b(1,0,0,2,-1,1),b(0,1,0,0,-1,1),b(0,1,0,2,-1,1),b(0,0,1,0,-1,1),b(0,0,1,1,-1,1);var E=s(y,M),d=f(y,[{type:y.FLOAT,buffer:E,size:3,offset:0,stride:28},{type:y.FLOAT,buffer:E,size:3,offset:12,stride:28},{type:y.FLOAT,buffer:E,size:1,offset:24,stride:28}]),T=l(y);T.attributes.position.location=0,T.attributes.color.location=1,T.attributes.weight.location=2;var g=new c(y,E,d,T);return g.update(_),g}},6740:function(a,o,i){var s=i(3236),f=s([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),l=s([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=s([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:f,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},o.pickShader={vertex:u,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(a,o,i){"use strict";var s=i(2931),f=i(9970),l=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(b,E,d,T){for(var g=b.points,h=b.velocities,S=b.divergences,p=[],C=[],k=[],D=[],P=[],O=[],F=0,L=0,I=f.create(),q=f.create(),z=8,W=0;W<g.length;W++){var $=g[W],j=h[W],G=S[W];E===0&&(G=d*.05),L=s.length(j)/T,I=f.create(),s.copy(I,j),I[3]=G;for(var B=0;B<z;B++)P[B]=[$[0],$[1],$[2],B];if(D.length>0)for(var B=0;B<z;B++){var X=(B+1)%z;p.push(D[B],P[B],P[X],P[X],D[X],D[B]),k.push(q,I,I,I,q,q),O.push(F,L,L,L,F,F);var te=p.length;C.push([te-6,te-5,te-4],[te-3,te-2,te-1])}var J=D;D=P,P=J;var ae=q;q=I,I=ae;var ee=F;F=L,L=ee}return{positions:p,cells:C,vectors:k,vertexIntensity:O}},c=function(b,E,d,T){for(var g=0,h=0;h<b.length;h++)for(var S=b[h].velocities,p=0;p<S.length;p++)g=Math.max(g,s.length(S[p]));for(var C=b.map(function(W){return u(W,d,T,g)}),k=[],D=[],P=[],O=[],h=0;h<C.length;h++){var F=C[h],L=k.length;k=k.concat(F.positions),P=P.concat(F.vectors),O=O.concat(F.vertexIntensity);for(var p=0;p<F.cells.length;p++){var I=F.cells[p],q=[];D.push(q);for(var z=0;z<I.length;z++)q.push(I[z]+L)}}return{positions:k,cells:D,vectors:P,vertexIntensity:O,colormap:E}},v=function(b,E){var d=b.length,T;for(T=0;T<d;T++){var g=b[T];if(g===E)return T;if(g>E)return T-1}return T},m=function(b,E,d){return b<E?E:b>d?d:b},x=function(b,E,d){var T=E.vectors,g=E.meshgrid,h=b[0],S=b[1],p=b[2],C=g[0].length,k=g[1].length,D=g[2].length,P=v(g[0],h),O=v(g[1],S),F=v(g[2],p),L=P+1,I=O+1,q=F+1;if(P=m(P,0,C-1),L=m(L,0,C-1),O=m(O,0,k-1),I=m(I,0,k-1),F=m(F,0,D-1),q=m(q,0,D-1),P<0||O<0||F<0||L>C-1||I>k-1||q>D-1)return s.create();var z=g[0][P],W=g[0][L],$=g[1][O],j=g[1][I],G=g[2][F],B=g[2][q],X=(h-z)/(W-z),te=(S-$)/(j-$),J=(p-G)/(B-G);isFinite(X)||(X=.5),isFinite(te)||(te=.5),isFinite(J)||(J=.5);var ae,ee,H,re,V,ne;switch(d.reversedX&&(P=C-1-P,L=C-1-L),d.reversedY&&(O=k-1-O,I=k-1-I),d.reversedZ&&(F=D-1-F,q=D-1-q),d.filled){case 5:V=F,ne=q,H=O*D,re=I*D,ae=P*D*k,ee=L*D*k;break;case 4:V=F,ne=q,ae=P*D,ee=L*D,H=O*D*C,re=I*D*C;break;case 3:H=O,re=I,V=F*k,ne=q*k,ae=P*k*D,ee=L*k*D;break;case 2:H=O,re=I,ae=P*k,ee=L*k,V=F*k*C,ne=q*k*C;break;case 1:ae=P,ee=L,V=F*C,ne=q*C,H=O*C*D,re=I*C*D;break;default:ae=P,ee=L,H=O*C,re=I*C,V=F*C*k,ne=q*C*k;break}var le=T[ae+H+V],de=T[ae+H+ne],_e=T[ae+re+V],me=T[ae+re+ne],ve=T[ee+H+V],be=T[ee+H+ne],we=T[ee+re+V],Se=T[ee+re+ne],Ae=s.create(),Ie=s.create(),Ve=s.create(),pe=s.create();s.lerp(Ae,le,ve,X),s.lerp(Ie,de,be,X),s.lerp(Ve,_e,we,X),s.lerp(pe,me,Se,X);var xe=s.create(),Te=s.create();s.lerp(xe,Ae,Ve,te),s.lerp(Te,Ie,pe,te);var qe=s.create();return s.lerp(qe,xe,Te,J),qe},A=function(b,E){var d=E[0],T=E[1],g=E[2];return b[0]=d<0?-d:d,b[1]=T<0?-T:T,b[2]=g<0?-g:g,b},w=function(b){var E=1/0;b.sort(function(h,S){return h-S});for(var d=b.length,T=1;T<d;T++){var g=Math.abs(b[T]-b[T-1]);g<E&&(E=g)}return E},y=function(b){for(var E=[],d=[],T=[],g={},h={},S={},p=b.length,C=0;C<p;C++){var k=b[C],D=k[0],P=k[1],O=k[2];g[D]||(E.push(D),g[D]=!0),h[P]||(d.push(P),h[P]=!0),S[O]||(T.push(O),S[O]=!0)}var F=w(E),L=w(d),I=w(T),q=Math.min(F,L,I);return isFinite(q)?q:1};a.exports=function(b,E){var d=b.startingPositions,T=b.maxLength||1e3,g=b.tubeSize||1,h=b.absoluteTubeSize,S=b.gridFill||"+x+y+z",p={};S.indexOf("-x")!==-1&&(p.reversedX=!0),S.indexOf("-y")!==-1&&(p.reversedY=!0),S.indexOf("-z")!==-1&&(p.reversedZ=!0),p.filled=l.indexOf(S.replace(/-/g,"").replace(/\+/g,""));var C=b.getVelocity||function(be){return x(be,b,p)},k=b.getDivergence||function(be,we){var Se=s.create(),Ae=1e-4;s.add(Se,be,[Ae,0,0]);var Ie=C(Se);s.subtract(Ie,Ie,we),s.scale(Ie,Ie,1/Ae),s.add(Se,be,[0,Ae,0]);var Ve=C(Se);s.subtract(Ve,Ve,we),s.scale(Ve,Ve,1/Ae),s.add(Se,be,[0,0,Ae]);var pe=C(Se);return s.subtract(pe,pe,we),s.scale(pe,pe,1/Ae),s.add(Se,Ie,Ve),s.add(Se,Se,pe),Se},D=[],P=E[0][0],O=E[0][1],F=E[0][2],L=E[1][0],I=E[1][1],q=E[1][2],z=function(be){var we=be[0],Se=be[1],Ae=be[2];return!(we<P||we>L||Se<O||Se>I||Ae<F||Ae>q)},W=s.distance(E[0],E[1]),$=10*W/T,j=$*$,G=1,B=0,X=d.length;X>1&&(G=y(d));for(var te=0;te<X;te++){var J=s.create();s.copy(J,d[te]);var ae=[J],ee=[],H=C(J),re=J;ee.push(H);var V=[],ne=k(J,H),le=s.length(ne);isFinite(le)&&le>B&&(B=le),V.push(le),D.push({points:ae,velocities:ee,divergences:V});for(var de=0;de<T*100&&ae.length<T&&z(J);){de++;var _e=s.clone(H),me=s.squaredLength(_e);if(me===0)break;if(me>j&&s.scale(_e,_e,$/Math.sqrt(me)),s.add(_e,_e,J),H=C(_e),s.squaredDistance(re,_e)-j>-1e-4*j){ae.push(_e),re=_e,ee.push(H);var ne=k(_e,H),le=s.length(ne);isFinite(le)&&le>B&&(B=le),V.push(le)}J=_e}}var ve=c(D,b.colormap,B,G);return h?ve.tubeScale=h:(B===0&&(B=1),ve.tubeScale=g*.5*G/B),ve};var _=i(6740),M=i(6405).createMesh;a.exports.createTubeMesh=function(b,E){return M(b,E,{shaders:_,traceType:"streamtube"})}},990:function(a,o,i){var s=i(9405),f=i(3236),l=f([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=f([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),c=f([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),v=f([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);o.createShader=function(m){var x=s(m,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return x.attributes.uv.location=0,x.attributes.f.location=1,x.attributes.normal.location=2,x},o.createPickShader=function(m){var x=s(m,l,v,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return x.attributes.uv.location=0,x.attributes.f.location=1,x.attributes.normal.location=2,x},o.createContourShader=function(m){var x=s(m,c,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return x.attributes.uv.location=0,x.attributes.f.location=1,x},o.createPickContourShader=function(m){var x=s(m,c,v,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return x.attributes.uv.location=0,x.attributes.f.location=1,x}},9499:function(a,o,i){"use strict";a.exports=ae;var s=i(8828),f=i(2762),l=i(8116),u=i(7766),c=i(1888),v=i(6729),m=i(5298),x=i(9994),A=i(9618),w=i(3711),y=i(6760),_=i(7608),M=i(2478),b=i(6199),E=i(990),d=E.createShader,T=E.createContourShader,g=E.createPickShader,h=E.createPickContourShader,S=4*10,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],C=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],k=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var ee=0;ee<3;++ee){var H=k[ee],re=(ee+1)%3,V=(ee+2)%3;H[re+0]=1,H[V+3]=1,H[ee+6]=1}})();function D(ee,H,re,V,ne){this.position=ee,this.index=H,this.uv=re,this.level=V,this.dataCoordinate=ne}var P=256;function O(ee,H,re,V,ne,le,de,_e,me,ve,be,we,Se,Ae,Ie){this.gl=ee,this.shape=H,this.bounds=re,this.objectOffset=Ie,this.intensityBounds=[],this._shader=V,this._pickShader=ne,this._coordinateBuffer=le,this._vao=de,this._colorMap=_e,this._contourShader=me,this._contourPickShader=ve,this._contourBuffer=be,this._contourVAO=we,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new D([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Se,this._dynamicVAO=Ae,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[A(c.mallocFloat(1024),[0,0]),A(c.mallocFloat(1024),[0,0]),A(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var F=O.prototype;F.genColormap=function(ee,H){var re=!1,V=x([v({colormap:ee,nshades:P,format:"rgba"}).map(function(ne,le){var de=H?L(le/255,H):ne[3];return de<1&&(re=!0),[ne[0],ne[1],ne[2],255*de]})]);return m.divseq(V,255),this.hasAlphaScale=re,V},F.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},F.isOpaque=function(){return!this.isTransparent()},F.pickSlots=1,F.setPickBase=function(ee){this.pickId=ee};function L(ee,H){if(!H||!H.length)return 1;for(var re=0;re<H.length;++re){if(H.length<2)return 1;if(H[re][0]===ee)return H[re][1];if(H[re][0]>ee&&re>0){var V=(H[re][0]-ee)/(H[re][0]-H[re-1][0]);return H[re][1]*(1-V)+V*H[re-1][1]}}return 1}var I=[0,0,0],q={showSurface:!1,showContour:!1,projections:[p.slice(),p.slice(),p.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function z(ee,H){var re,V,ne,le=H.axes&&H.axes.lastCubeProps.axis||I,de=H.showSurface,_e=H.showContour;for(re=0;re<3;++re)for(de=de||H.surfaceProject[re],V=0;V<3;++V)_e=_e||H.contourProject[re][V];for(re=0;re<3;++re){var me=q.projections[re];for(V=0;V<16;++V)me[V]=0;for(V=0;V<4;++V)me[5*V]=1;me[5*re]=0,me[12+re]=H.axesBounds[+(le[re]>0)][re],y(me,ee.model,me);var ve=q.clipBounds[re];for(ne=0;ne<2;++ne)for(V=0;V<3;++V)ve[ne][V]=ee.clipBounds[ne][V];ve[0][re]=-1e8,ve[1][re]=1e8}return q.showSurface=de,q.showContour=_e,q}var W={model:p,view:p,projection:p,inverseModel:p.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},$=p.slice(),j=[1,0,0,0,1,0,0,0,1];function G(ee,H){ee=ee||{};var re=this.gl;re.disable(re.CULL_FACE),this._colorMap.bind(0);var V=W;V.model=ee.model||p,V.view=ee.view||p,V.projection=ee.projection||p,V.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],V.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],V.objectOffset=this.objectOffset,V.contourColor=this.contourColor[0],V.inverseModel=_(V.inverseModel,V.model);for(var ne=0;ne<2;++ne)for(var le=V.clipBounds[ne],de=0;de<3;++de)le[de]=Math.min(Math.max(this.clipBounds[ne][de],-1e8),1e8);V.kambient=this.ambientLight,V.kdiffuse=this.diffuseLight,V.kspecular=this.specularLight,V.roughness=this.roughness,V.fresnel=this.fresnel,V.opacity=this.opacity,V.height=0,V.permutation=j,V.vertexColor=this.vertexColor;var _e=$;for(y(_e,V.view,V.model),y(_e,V.projection,_e),_(_e,_e),ne=0;ne<3;++ne)V.eyePosition[ne]=_e[12+ne]/_e[15];var me=_e[15];for(ne=0;ne<3;++ne)me+=this.lightPosition[ne]*_e[4*ne+3];for(ne=0;ne<3;++ne){var ve=_e[12+ne];for(de=0;de<3;++de)ve+=_e[4*de+ne]*this.lightPosition[de];V.lightPosition[ne]=ve/me}var be=z(V,this);if(be.showSurface){for(this._shader.bind(),this._shader.uniforms=V,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(re.TRIANGLES,this._vertexCount),ne=0;ne<3;++ne)!this.surfaceProject[ne]||!this.vertexCount||(this._shader.uniforms.model=be.projections[ne],this._shader.uniforms.clipBounds=be.clipBounds[ne],this._vao.draw(re.TRIANGLES,this._vertexCount));this._vao.unbind()}if(be.showContour){var we=this._contourShader;V.kambient=1,V.kdiffuse=0,V.kspecular=0,V.opacity=1,we.bind(),we.uniforms=V;var Se=this._contourVAO;for(Se.bind(),ne=0;ne<3;++ne)for(we.uniforms.permutation=k[ne],re.lineWidth(this.contourWidth[ne]*this.pixelRatio),de=0;de<this.contourLevels[ne].length;++de)de===this.highlightLevel[ne]?(we.uniforms.contourColor=this.highlightColor[ne],we.uniforms.contourTint=this.highlightTint[ne]):(de===0||de-1===this.highlightLevel[ne])&&(we.uniforms.contourColor=this.contourColor[ne],we.uniforms.contourTint=this.contourTint[ne]),this._contourCounts[ne][de]&&(we.uniforms.height=this.contourLevels[ne][de],Se.draw(re.LINES,this._contourCounts[ne][de],this._contourOffsets[ne][de]));for(ne=0;ne<3;++ne)for(we.uniforms.model=be.projections[ne],we.uniforms.clipBounds=be.clipBounds[ne],de=0;de<3;++de)if(this.contourProject[ne][de]){we.uniforms.permutation=k[de],re.lineWidth(this.contourWidth[de]*this.pixelRatio);for(var Ae=0;Ae<this.contourLevels[de].length;++Ae)Ae===this.highlightLevel[de]?(we.uniforms.contourColor=this.highlightColor[de],we.uniforms.contourTint=this.highlightTint[de]):(Ae===0||Ae-1===this.highlightLevel[de])&&(we.uniforms.contourColor=this.contourColor[de],we.uniforms.contourTint=this.contourTint[de]),this._contourCounts[de][Ae]&&(we.uniforms.height=this.contourLevels[de][Ae],Se.draw(re.LINES,this._contourCounts[de][Ae],this._contourOffsets[de][Ae]))}for(Se.unbind(),Se=this._dynamicVAO,Se.bind(),ne=0;ne<3;++ne)if(this._dynamicCounts[ne]!==0)for(we.uniforms.model=V.model,we.uniforms.clipBounds=V.clipBounds,we.uniforms.permutation=k[ne],re.lineWidth(this.dynamicWidth[ne]*this.pixelRatio),we.uniforms.contourColor=this.dynamicColor[ne],we.uniforms.contourTint=this.dynamicTint[ne],we.uniforms.height=this.dynamicLevel[ne],Se.draw(re.LINES,this._dynamicCounts[ne],this._dynamicOffsets[ne]),de=0;de<3;++de)this.contourProject[de][ne]&&(we.uniforms.model=be.projections[de],we.uniforms.clipBounds=be.clipBounds[de],Se.draw(re.LINES,this._dynamicCounts[ne],this._dynamicOffsets[ne]));Se.unbind()}}F.draw=function(ee){return G.call(this,ee,!1)},F.drawTransparent=function(ee){return G.call(this,ee,!0)};var B={model:p,view:p,projection:p,inverseModel:p,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};F.drawPick=function(ee){ee=ee||{};var H=this.gl;H.disable(H.CULL_FACE);var re=B;re.model=ee.model||p,re.view=ee.view||p,re.projection=ee.projection||p,re.shape=this._field[2].shape,re.pickId=this.pickId/255,re.lowerBound=this.bounds[0],re.upperBound=this.bounds[1],re.objectOffset=this.objectOffset,re.permutation=j;for(var V=0;V<2;++V)for(var ne=re.clipBounds[V],le=0;le<3;++le)ne[le]=Math.min(Math.max(this.clipBounds[V][le],-1e8),1e8);var de=z(re,this);if(de.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=re,this._vao.bind(),this._vao.draw(H.TRIANGLES,this._vertexCount),V=0;V<3;++V)this.surfaceProject[V]&&(this._pickShader.uniforms.model=de.projections[V],this._pickShader.uniforms.clipBounds=de.clipBounds[V],this._vao.draw(H.TRIANGLES,this._vertexCount));this._vao.unbind()}if(de.showContour){var _e=this._contourPickShader;_e.bind(),_e.uniforms=re;var me=this._contourVAO;for(me.bind(),le=0;le<3;++le)for(H.lineWidth(this.contourWidth[le]*this.pixelRatio),_e.uniforms.permutation=k[le],V=0;V<this.contourLevels[le].length;++V)this._contourCounts[le][V]&&(_e.uniforms.height=this.contourLevels[le][V],me.draw(H.LINES,this._contourCounts[le][V],this._contourOffsets[le][V]));for(V=0;V<3;++V)for(_e.uniforms.model=de.projections[V],_e.uniforms.clipBounds=de.clipBounds[V],le=0;le<3;++le)if(this.contourProject[V][le]){_e.uniforms.permutation=k[le],H.lineWidth(this.contourWidth[le]*this.pixelRatio);for(var ve=0;ve<this.contourLevels[le].length;++ve)this._contourCounts[le][ve]&&(_e.uniforms.height=this.contourLevels[le][ve],me.draw(H.LINES,this._contourCounts[le][ve],this._contourOffsets[le][ve]))}me.unbind()}},F.pick=function(ee){if(!ee||ee.id!==this.pickId)return null;var H=this._field[2].shape,re=this._pickResult,V=H[0]*(ee.value[0]+(ee.value[2]>>4)/16)/255,ne=Math.floor(V),le=V-ne,de=H[1]*(ee.value[1]+(ee.value[2]&15)/16)/255,_e=Math.floor(de),me=de-_e;ne+=1,_e+=1;var ve=re.position;ve[0]=ve[1]=ve[2]=0;for(var be=0;be<2;++be)for(var we=be?le:1-le,Se=0;Se<2;++Se)for(var Ae=Se?me:1-me,Ie=ne+be,Ve=_e+Se,pe=we*Ae,xe=0;xe<3;++xe)ve[xe]+=this._field[xe].get(Ie,Ve)*pe;for(var Te=this._pickResult.level,qe=0;qe<3;++qe)if(Te[qe]=M.le(this.contourLevels[qe],ve[qe]),Te[qe]<0)this.contourLevels[qe].length>0&&(Te[qe]=0);else if(Te[qe]<this.contourLevels[qe].length-1){var er=this.contourLevels[qe][Te[qe]],ze=this.contourLevels[qe][Te[qe]+1];Math.abs(er-ve[qe])>Math.abs(ze-ve[qe])&&(Te[qe]+=1)}for(re.index[0]=le<.5?ne:ne+1,re.index[1]=me<.5?_e:_e+1,re.uv[0]=V/H[0],re.uv[1]=de/H[1],xe=0;xe<3;++xe)re.dataCoordinate[xe]=this._field[xe].get(re.index[0],re.index[1]);return re},F.padField=function(ee,H){var re=H.shape.slice(),V=ee.shape.slice();m.assign(ee.lo(1,1).hi(re[0],re[1]),H),m.assign(ee.lo(1).hi(re[0],1),H.hi(re[0],1)),m.assign(ee.lo(1,V[1]-1).hi(re[0],1),H.lo(0,re[1]-1).hi(re[0],1)),m.assign(ee.lo(0,1).hi(1,re[1]),H.hi(1)),m.assign(ee.lo(V[0]-1,1).hi(1,re[1]),H.lo(re[0]-1)),ee.set(0,0,H.get(0,0)),ee.set(0,V[1]-1,H.get(0,re[1]-1)),ee.set(V[0]-1,0,H.get(re[0]-1,0)),ee.set(V[0]-1,V[1]-1,H.get(re[0]-1,re[1]-1))};function X(ee,H){return Array.isArray(ee)?[H(ee[0]),H(ee[1]),H(ee[2])]:[H(ee),H(ee),H(ee)]}function te(ee){return Array.isArray(ee)?ee.length===3?[ee[0],ee[1],ee[2],1]:[ee[0],ee[1],ee[2],ee[3]]:[0,0,0,1]}function J(ee){if(Array.isArray(ee)){if(Array.isArray(ee))return[te(ee[0]),te(ee[1]),te(ee[2])];var H=te(ee);return[H.slice(),H.slice(),H.slice()]}}F.update=function(ee){ee=ee||{},this.objectOffset=ee.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ee&&(this.contourWidth=X(ee.contourWidth,Number)),"showContour"in ee&&(this.showContour=X(ee.showContour,Boolean)),"showSurface"in ee&&(this.showSurface=!!ee.showSurface),"contourTint"in ee&&(this.contourTint=X(ee.contourTint,Boolean)),"contourColor"in ee&&(this.contourColor=J(ee.contourColor)),"contourProject"in ee&&(this.contourProject=X(ee.contourProject,function(lo){return X(lo,Boolean)})),"surfaceProject"in ee&&(this.surfaceProject=ee.surfaceProject),"dynamicColor"in ee&&(this.dynamicColor=J(ee.dynamicColor)),"dynamicTint"in ee&&(this.dynamicTint=X(ee.dynamicTint,Number)),"dynamicWidth"in ee&&(this.dynamicWidth=X(ee.dynamicWidth,Number)),"opacity"in ee&&(this.opacity=ee.opacity),"opacityscale"in ee&&(this.opacityscale=ee.opacityscale),"colorBounds"in ee&&(this.colorBounds=ee.colorBounds),"vertexColor"in ee&&(this.vertexColor=ee.vertexColor?1:0),"colormap"in ee&&this._colorMap.setPixels(this.genColormap(ee.colormap,this.opacityscale));var H=ee.field||ee.coords&&ee.coords[2]||null,re=!1;if(H||(this._field[2].shape[0]||this._field[2].shape[2]?H=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):H=this._field[2].hi(0,0)),"field"in ee||"coords"in ee){var V=(H.shape[0]+2)*(H.shape[1]+2);V>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(s.nextPow2(V))),this._field[2]=A(this._field[2].data,[H.shape[0]+2,H.shape[1]+2]),this.padField(this._field[2],H),this.shape=H.shape.slice();for(var ne=this.shape,le=0;le<2;++le)this._field[2].size>this._field[le].data.length&&(c.freeFloat(this._field[le].data),this._field[le].data=c.mallocFloat(this._field[2].size)),this._field[le]=A(this._field[le].data,[ne[0]+2,ne[1]+2]);if(ee.coords){var de=ee.coords;if(!Array.isArray(de)||de.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(le=0;le<2;++le){var _e=de[le];for(Se=0;Se<2;++Se)if(_e.shape[Se]!==ne[Se])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[le],_e)}}else if(ee.ticks){var me=ee.ticks;if(!Array.isArray(me)||me.length!==2)throw new Error("gl-surface: invalid ticks");for(le=0;le<2;++le){var ve=me[le];if((Array.isArray(ve)||ve.length)&&(ve=A(ve)),ve.shape[0]!==ne[le])throw new Error("gl-surface: invalid tick length");var be=A(ve.data,ne);be.stride[le]=ve.stride[0],be.stride[le^1]=0,this.padField(this._field[le],be)}}else{for(le=0;le<2;++le){var we=[0,0];we[le]=1,this._field[le]=A(this._field[le].data,[ne[0]+2,ne[1]+2],we,0)}this._field[0].set(0,0,0);for(var Se=0;Se<ne[0];++Se)this._field[0].set(Se+1,0,Se);for(this._field[0].set(ne[0]+1,0,ne[0]-1),this._field[1].set(0,0,0),Se=0;Se<ne[1];++Se)this._field[1].set(0,Se+1,Se);this._field[1].set(0,ne[1]+1,ne[1]-1)}var Ae=this._field,Ie=A(c.mallocFloat(Ae[2].size*3*2),[3,ne[0]+2,ne[1]+2,2]);for(le=0;le<3;++le)b(Ie.pick(le),Ae[le],"mirror");var Ve=A(c.mallocFloat(Ae[2].size*3),[ne[0]+2,ne[1]+2,3]);for(le=0;le<ne[0]+2;++le)for(Se=0;Se<ne[1]+2;++Se){var pe=Ie.get(0,le,Se,0),xe=Ie.get(0,le,Se,1),Te=Ie.get(1,le,Se,0),qe=Ie.get(1,le,Se,1),er=Ie.get(2,le,Se,0),ze=Ie.get(2,le,Se,1),Ce=Te*ze-qe*er,Le=er*xe-ze*pe,Ne=pe*qe-xe*Te,tr=Math.sqrt(Ce*Ce+Le*Le+Ne*Ne);tr<1e-8?(tr=Math.max(Math.abs(Ce),Math.abs(Le),Math.abs(Ne)),tr<1e-8?(Ne=1,Le=Ce=0,tr=1):tr=1/tr):tr=1/Math.sqrt(tr),Ve.set(le,Se,0,Ce*tr),Ve.set(le,Se,1,Le*tr),Ve.set(le,Se,2,Ne*tr)}c.free(Ie.data);var ir=[1/0,1/0,1/0],mr=[-1/0,-1/0,-1/0],Tr=1/0,pr=-1/0,nr=(ne[0]-1)*(ne[1]-1)*6,Me=c.mallocFloat(s.nextPow2(10*nr)),Fe=0,ur=0;for(le=0;le<ne[0]-1;++le)e:for(Se=0;Se<ne[1]-1;++Se){for(var je=0;je<2;++je)for(var Er=0;Er<2;++Er)for(var ue=0;ue<3;++ue){var Q=this._field[ue].get(1+le+je,1+Se+Er);if(isNaN(Q)||!isFinite(Q))continue e}for(ue=0;ue<6;++ue){var oe=le+C[ue][0],Ee=Se+C[ue][1],Xe=this._field[0].get(oe+1,Ee+1),ar=this._field[1].get(oe+1,Ee+1);Q=this._field[2].get(oe+1,Ee+1),Ce=Ve.get(oe+1,Ee+1,0),Le=Ve.get(oe+1,Ee+1,1),Ne=Ve.get(oe+1,Ee+1,2),ee.intensity&&(yr=ee.intensity.get(oe,Ee));var yr=ee.intensity?ee.intensity.get(oe,Ee):Q+this.objectOffset[2];Me[Fe++]=oe,Me[Fe++]=Ee,Me[Fe++]=Xe,Me[Fe++]=ar,Me[Fe++]=Q,Me[Fe++]=0,Me[Fe++]=yr,Me[Fe++]=Ce,Me[Fe++]=Le,Me[Fe++]=Ne,ir[0]=Math.min(ir[0],Xe+this.objectOffset[0]),ir[1]=Math.min(ir[1],ar+this.objectOffset[1]),ir[2]=Math.min(ir[2],Q+this.objectOffset[2]),Tr=Math.min(Tr,yr),mr[0]=Math.max(mr[0],Xe+this.objectOffset[0]),mr[1]=Math.max(mr[1],ar+this.objectOffset[1]),mr[2]=Math.max(mr[2],Q+this.objectOffset[2]),pr=Math.max(pr,yr),ur+=1}}for(ee.intensityBounds&&(Tr=+ee.intensityBounds[0],pr=+ee.intensityBounds[1]),le=6;le<Fe;le+=10)Me[le]=(Me[le]-Tr)/(pr-Tr);this._vertexCount=ur,this._coordinateBuffer.update(Me.subarray(0,Fe)),c.freeFloat(Me),c.free(Ve.data),this.bounds=[ir,mr],this.intensity=ee.intensity||this._field[2],(this.intensityBounds[0]!==Tr||this.intensityBounds[1]!==pr)&&(re=!0),this.intensityBounds=[Tr,pr]}if("levels"in ee){var Kr=ee.levels;for(Array.isArray(Kr[0])?Kr=Kr.slice():Kr=[[],[],Kr],le=0;le<3;++le)Kr[le]=Kr[le].slice(),Kr[le].sort(function(lo,Wi){return lo-Wi});for(le=0;le<3;++le)for(Se=0;Se<Kr[le].length;++Se)Kr[le][Se]-=this.objectOffset[le];e:for(le=0;le<3;++le){if(Kr[le].length!==this.contourLevels[le].length){re=!0;break}for(Se=0;Se<Kr[le].length;++Se)if(Kr[le][Se]!==this.contourLevels[le][Se]){re=!0;break e}}this.contourLevels=Kr}if(re){Ae=this._field,ne=this.shape;for(var mt=[],Ft=0;Ft<3;++Ft){var wt=this.contourLevels[Ft],bt=[],Ln=[],tn=[0,0,0];for(le=0;le<wt.length;++le){var it=w(this._field[Ft],wt[le]);bt.push(mt.length/5|0),ur=0;e:for(Se=0;Se<it.cells.length;++Se){var Mn=it.cells[Se];for(ue=0;ue<2;++ue){var Lt=it.positions[Mn[ue]],$t=Lt[0],Un=Math.floor($t)|0,Gt=$t-Un,Yt=Lt[1],Gn=Math.floor(Yt)|0,Vn=Yt-Gn,Va=!1;r:for(var va=0;va<3;++va){tn[va]=0;var Qn=(Ft+va+1)%3;for(je=0;je<2;++je){var xn=je?Gt:1-Gt;for(oe=Math.min(Math.max(Un+je,0),ne[0])|0,Er=0;Er<2;++Er){var la=Er?Vn:1-Vn;if(Ee=Math.min(Math.max(Gn+Er,0),ne[1])|0,va<2?Q=this._field[Qn].get(oe,Ee):Q=(this.intensity.get(oe,Ee)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Q)||isNaN(Q)){Va=!0;break r}var Yi=xn*la;tn[va]+=Yi*Q}}}if(!Va)mt.push(tn[0],tn[1],Lt[0],Lt[1],tn[2]),ur+=1;else{if(ue>0){for(var Fi=0;Fi<5;++Fi)mt.pop();ur-=1}continue e}}}Ln.push(ur)}this._contourOffsets[Ft]=bt,this._contourCounts[Ft]=Ln}var gi=c.mallocFloat(mt.length);for(le=0;le<mt.length;++le)gi[le]=mt[le];this._contourBuffer.update(gi),c.freeFloat(gi)}},F.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ee=0;ee<3;++ee)c.freeFloat(this._field[ee].data)},F.highlight=function(ee){var H;if(!ee){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(H=0;H<3;++H)this.enableHighlight[H]?this.highlightLevel[H]=ee.level[H]:this.highlightLevel[H]=-1;var re;for(this.snapToData?re=ee.dataCoordinate:re=ee.position,H=0;H<3;++H)re[H]-=this.objectOffset[H];if(!((!this.enableDynamic[0]||re[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||re[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||re[2]===this.dynamicLevel[2]))){for(var V=0,ne=this.shape,le=c.mallocFloat(12*ne[0]*ne[1]),de=0;de<3;++de){if(!this.enableDynamic[de]){this.dynamicLevel[de]=NaN,this._dynamicCounts[de]=0;continue}this.dynamicLevel[de]=re[de];var _e=(de+1)%3,me=(de+2)%3,ve=this._field[de],be=this._field[_e],we=this._field[me],Se=w(ve,re[de]),Ae=Se.cells,Ie=Se.positions;for(this._dynamicOffsets[de]=V,H=0;H<Ae.length;++H)for(var Ve=Ae[H],pe=0;pe<2;++pe){var xe=Ie[Ve[pe]],Te=+xe[0],qe=Te|0,er=Math.min(qe+1,ne[0])|0,ze=Te-qe,Ce=1-ze,Le=+xe[1],Ne=Le|0,tr=Math.min(Ne+1,ne[1])|0,ir=Le-Ne,mr=1-ir,Tr=Ce*mr,pr=Ce*ir,nr=ze*mr,Me=ze*ir,Fe=Tr*be.get(qe,Ne)+pr*be.get(qe,tr)+nr*be.get(er,Ne)+Me*be.get(er,tr),ur=Tr*we.get(qe,Ne)+pr*we.get(qe,tr)+nr*we.get(er,Ne)+Me*we.get(er,tr);if(isNaN(Fe)||isNaN(ur)){pe&&(V-=1);break}le[2*V+0]=Fe,le[2*V+1]=ur,V+=1}this._dynamicCounts[de]=V-this._dynamicOffsets[de]}this._dynamicBuffer.update(le.subarray(0,2*V)),c.freeFloat(le)}};function ae(ee){var H=ee.gl,re=d(H),V=g(H),ne=T(H),le=h(H),de=f(H),_e=l(H,[{buffer:de,size:4,stride:S,offset:0},{buffer:de,size:3,stride:S,offset:16},{buffer:de,size:3,stride:S,offset:28}]),me=f(H),ve=l(H,[{buffer:me,size:4,stride:20,offset:0},{buffer:me,size:1,stride:20,offset:16}]),be=f(H),we=l(H,[{buffer:be,size:2,type:H.FLOAT}]),Se=u(H,1,P,H.RGBA,H.UNSIGNED_BYTE);Se.minFilter=H.LINEAR,Se.magFilter=H.LINEAR;var Ae=new O(H,[0,0],[[0,0,0],[0,0,0]],re,V,de,_e,Se,ne,le,me,ve,be,we,[0,0,0]),Ie={levels:[[],[],[]]};for(var Ve in ee)Ie[Ve]=ee[Ve];return Ie.colormap=Ie.colormap||"jet",Ae.update(Ie),Ae}},7766:function(a,o,i){"use strict";var s=i(9618),f=i(5298),l=i(1888);a.exports=h;var u=null,c=null,v=null;function m(S){u=[S.LINEAR,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_NEAREST],c=[S.NEAREST,S.LINEAR,S.NEAREST_MIPMAP_NEAREST,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_LINEAR],v=[S.REPEAT,S.CLAMP_TO_EDGE,S.MIRRORED_REPEAT]}function x(S){return typeof HTMLCanvasElement!="undefined"&&S instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&S instanceof HTMLImageElement||typeof HTMLVideoElement!="undefined"&&S instanceof HTMLVideoElement||typeof ImageData!="undefined"&&S instanceof ImageData}var A=function(S,p){f.muls(S,p,255)};function w(S,p,C){var k=S.gl,D=k.getParameter(k.MAX_TEXTURE_SIZE);if(p<0||p>D||C<0||C>D)throw new Error("gl-texture2d: Invalid texture size");return S._shape=[p,C],S.bind(),k.texImage2D(k.TEXTURE_2D,0,S.format,p,C,0,S.format,S.type,null),S._mipLevels=[0],S}function y(S,p,C,k,D,P){this.gl=S,this.handle=p,this.format=D,this.type=P,this._shape=[C,k],this._mipLevels=[0],this._magFilter=S.NEAREST,this._minFilter=S.NEAREST,this._wrapS=S.CLAMP_TO_EDGE,this._wrapT=S.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return O._wrapS},set:function(I){return O.wrapS=I}},{get:function(){return O._wrapT},set:function(I){return O.wrapT=I}}]),this._wrapVector=F;var L=[this._shape[0],this._shape[1]];Object.defineProperties(L,[{get:function(){return O._shape[0]},set:function(I){return O.width=I}},{get:function(){return O._shape[1]},set:function(I){return O.height=I}}]),this._shapeVector=L}var _=y.prototype;Object.defineProperties(_,{minFilter:{get:function(){return this._minFilter},set:function(S){this.bind();var p=this.gl;if(this.type===p.FLOAT&&u.indexOf(S)>=0&&(p.getExtension("OES_texture_float_linear")||(S=p.NEAREST)),c.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,S),this._minFilter=S}},magFilter:{get:function(){return this._magFilter},set:function(S){this.bind();var p=this.gl;if(this.type===p.FLOAT&&u.indexOf(S)>=0&&(p.getExtension("OES_texture_float_linear")||(S=p.NEAREST)),c.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,S),this._magFilter=S}},mipSamples:{get:function(){return this._anisoSamples},set:function(S){var p=this._anisoSamples;if(this._anisoSamples=Math.max(S,1)|0,p!==this._anisoSamples){var C=this.gl.getExtension("EXT_texture_filter_anisotropic");C&&this.gl.texParameterf(this.gl.TEXTURE_2D,C.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(S){if(this.bind(),v.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,S),this._wrapS=S}},wrapT:{get:function(){return this._wrapT},set:function(S){if(this.bind(),v.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,S),this._wrapT=S}},wrap:{get:function(){return this._wrapVector},set:function(S){if(Array.isArray(S)||(S=[S,S]),S.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(v.indexOf(S[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);this._wrapS=S[0],this._wrapT=S[1];var C=this.gl;return this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,this._wrapS),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,this._wrapT),S}},shape:{get:function(){return this._shapeVector},set:function(S){if(!Array.isArray(S))S=[S|0,S|0];else if(S.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return w(this,S[0]|0,S[1]|0),[S[0]|0,S[1]|0]}},width:{get:function(){return this._shape[0]},set:function(S){return S=S|0,w(this,S,this._shape[1]),S}},height:{get:function(){return this._shape[1]},set:function(S){return S=S|0,w(this,this._shape[0],S),S}}}),_.bind=function(S){var p=this.gl;return S!==void 0&&p.activeTexture(p.TEXTURE0+(S|0)),p.bindTexture(p.TEXTURE_2D,this.handle),S!==void 0?S|0:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},_.dispose=function(){this.gl.deleteTexture(this.handle)},_.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var S=Math.min(this._shape[0],this._shape[1]),p=0;S>0;++p,S>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},_.setPixels=function(S,p,C,k){var D=this.gl;this.bind(),Array.isArray(p)?(k=C,C=p[1]|0,p=p[0]|0):(p=p||0,C=C||0),k=k||0;var P=x(S)?S:S.raw;if(P){var O=this._mipLevels.indexOf(k)<0;O?(D.texImage2D(D.TEXTURE_2D,0,this.format,this.format,this.type,P),this._mipLevels.push(k)):D.texSubImage2D(D.TEXTURE_2D,k,p,C,this.format,this.type,P)}else if(S.shape&&S.stride&&S.data){if(S.shape.length<2||p+S.shape[1]>this._shape[1]>>>k||C+S.shape[0]>this._shape[0]>>>k||p<0||C<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");b(D,p,C,k,this.format,this.type,this._mipLevels,S)}else throw new Error("gl-texture2d: Unsupported data type")};function M(S,p){return S.length===3?p[2]===1&&p[1]===S[0]*S[2]&&p[0]===S[2]:p[0]===1&&p[1]===S[0]}function b(S,p,C,k,D,P,O,F){var L=F.dtype,I=F.shape.slice();if(I.length<2||I.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var q=0,z=0,W=M(I,F.stride.slice());L==="float32"?q=S.FLOAT:L==="float64"?(q=S.FLOAT,W=!1,L="float32"):L==="uint8"?q=S.UNSIGNED_BYTE:(q=S.UNSIGNED_BYTE,W=!1,L="uint8");var $=1;if(I.length===2)z=S.LUMINANCE,I=[I[0],I[1],1],F=s(F.data,I,[F.stride[0],F.stride[1],1],F.offset);else if(I.length===3){if(I[2]===1)z=S.ALPHA;else if(I[2]===2)z=S.LUMINANCE_ALPHA;else if(I[2]===3)z=S.RGB;else if(I[2]===4)z=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");$=I[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((z===S.LUMINANCE||z===S.ALPHA)&&(D===S.LUMINANCE||D===S.ALPHA)&&(z=D),z!==D)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var j=F.size,G=O.indexOf(k)<0;if(G&&O.push(k),q===P&&W)F.offset===0&&F.data.length===j?G?S.texImage2D(S.TEXTURE_2D,k,D,I[0],I[1],0,D,P,F.data):S.texSubImage2D(S.TEXTURE_2D,k,p,C,I[0],I[1],D,P,F.data):G?S.texImage2D(S.TEXTURE_2D,k,D,I[0],I[1],0,D,P,F.data.subarray(F.offset,F.offset+j)):S.texSubImage2D(S.TEXTURE_2D,k,p,C,I[0],I[1],D,P,F.data.subarray(F.offset,F.offset+j));else{var B;P===S.FLOAT?B=l.mallocFloat32(j):B=l.mallocUint8(j);var X=s(B,I,[I[2],I[2]*I[0],1]);q===S.FLOAT&&P===S.UNSIGNED_BYTE?A(X,F):f.assign(X,F),G?S.texImage2D(S.TEXTURE_2D,k,D,I[0],I[1],0,D,P,B.subarray(0,j)):S.texSubImage2D(S.TEXTURE_2D,k,p,C,I[0],I[1],D,P,B.subarray(0,j)),P===S.FLOAT?l.freeFloat32(B):l.freeUint8(B)}}function E(S){var p=S.createTexture();return S.bindTexture(S.TEXTURE_2D,p),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),p}function d(S,p,C,k,D){var P=S.getParameter(S.MAX_TEXTURE_SIZE);if(p<0||p>P||C<0||C>P)throw new Error("gl-texture2d: Invalid texture shape");if(D===S.FLOAT&&!S.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=E(S);return S.texImage2D(S.TEXTURE_2D,0,k,p,C,0,k,D,null),new y(S,O,p,C,k,D)}function T(S,p,C,k,D,P){var O=E(S);return S.texImage2D(S.TEXTURE_2D,0,D,D,P,p),new y(S,O,C,k,D,P)}function g(S,p){var C=p.dtype,k=p.shape.slice(),D=S.getParameter(S.MAX_TEXTURE_SIZE);if(k[0]<0||k[0]>D||k[1]<0||k[1]>D)throw new Error("gl-texture2d: Invalid texture size");var P=M(k,p.stride.slice()),O=0;C==="float32"?O=S.FLOAT:C==="float64"?(O=S.FLOAT,P=!1,C="float32"):C==="uint8"?O=S.UNSIGNED_BYTE:(O=S.UNSIGNED_BYTE,P=!1,C="uint8");var F=0;if(k.length===2)F=S.LUMINANCE,k=[k[0],k[1],1],p=s(p.data,k,[p.stride[0],p.stride[1],1],p.offset);else if(k.length===3)if(k[2]===1)F=S.ALPHA;else if(k[2]===2)F=S.LUMINANCE_ALPHA;else if(k[2]===3)F=S.RGB;else if(k[2]===4)F=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");O===S.FLOAT&&!S.getExtension("OES_texture_float")&&(O=S.UNSIGNED_BYTE,P=!1);var L,I,q=p.size;if(P)p.offset===0&&p.data.length===q?L=p.data:L=p.data.subarray(p.offset,p.offset+q);else{var z=[k[2],k[2]*k[0],1];I=l.malloc(q,C);var W=s(I,k,z,0);(C==="float32"||C==="float64")&&O===S.UNSIGNED_BYTE?A(W,p):f.assign(W,p),L=I.subarray(0,q)}var $=E(S);return S.texImage2D(S.TEXTURE_2D,0,F,k[0],k[1],0,F,O,L),P||l.free(I),new y(S,$,k[0],k[1],F,O)}function h(S){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||m(S),typeof arguments[1]=="number")return d(S,arguments[1],arguments[2],arguments[3]||S.RGBA,arguments[4]||S.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return d(S,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var p=arguments[1],C=x(p)?p:p.raw;if(C)return T(S,C,p.width|0,p.height|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return g(S,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(a){"use strict";function o(i,s,f){s?s.bind():i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null);var l=i.getParameter(i.MAX_VERTEX_ATTRIBS)|0;if(f){if(f.length>l)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<f.length;++u){var c=f[u];if(c.buffer){var v=c.buffer,m=c.size||4,x=c.type||i.FLOAT,A=!!c.normalized,w=c.stride||0,y=c.offset||0;v.bind(),i.enableVertexAttribArray(u),i.vertexAttribPointer(u,m,x,A,w,y)}else{if(typeof c=="number")i.vertexAttrib1f(u,c);else if(c.length===1)i.vertexAttrib1f(u,c[0]);else if(c.length===2)i.vertexAttrib2f(u,c[0],c[1]);else if(c.length===3)i.vertexAttrib3f(u,c[0],c[1],c[2]);else if(c.length===4)i.vertexAttrib4f(u,c[0],c[1],c[2],c[3]);else throw new Error("gl-vao: Invalid vertex attribute");i.disableVertexAttribArray(u)}}for(;u<l;++u)i.disableVertexAttribArray(u)}else{i.bindBuffer(i.ARRAY_BUFFER,null);for(var u=0;u<l;++u)i.disableVertexAttribArray(u)}}a.exports=o},870:function(a,o,i){"use strict";var s=i(1433);function f(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}f.prototype.bind=function(){s(this.gl,this._elements,this._attributes)},f.prototype.update=function(u,c,v){this._elements=c,this._attributes=u,this._elementsType=v||this.gl.UNSIGNED_SHORT},f.prototype.dispose=function(){},f.prototype.unbind=function(){},f.prototype.draw=function(u,c,v){v=v||0;var m=this.gl;this._elements?m.drawElements(u,c,this._elementsType,v):m.drawArrays(u,v,c)};function l(u){return new f(u)}a.exports=l},7518:function(a,o,i){"use strict";var s=i(1433);function f(c,v,m,x,A,w){this.location=c,this.dimension=v,this.a=m,this.b=x,this.c=A,this.d=w}f.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function l(c,v,m){this.gl=c,this._ext=v,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}l.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},l.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},l.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},l.prototype.update=function(c,v,m){if(this.bind(),s(this.gl,v,c),this.unbind(),this._attribs.length=0,c)for(var x=0;x<c.length;++x){var A=c[x];typeof A=="number"?this._attribs.push(new f(x,1,A)):Array.isArray(A)&&this._attribs.push(new f(x,A.length,A[0],A[1],A[2],A[3]))}this._useElements=!!v,this._elementsType=m||this.gl.UNSIGNED_SHORT},l.prototype.draw=function(c,v,m){m=m||0;var x=this.gl;this._useElements?x.drawElements(c,v,this._elementsType,m):x.drawArrays(c,m,v)};function u(c,v){return new l(c,v,v.createVertexArrayOES())}a.exports=u},8116:function(a,o,i){"use strict";var s=i(7518),f=i(870);function l(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}function u(c,v,m,x){var A=c.createVertexArray?new l(c):c.getExtension("OES_vertex_array_object"),w;return A?w=s(c,A):w=f(c),w.update(v,m,x),w}a.exports=u},5632:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]+f[0],i[1]=s[1]+f[1],i[2]=s[2]+f[2],i}},8192:function(a,o,i){a.exports=u;var s=i(2825),f=i(3536),l=i(244);function u(c,v){var m=s(c[0],c[1],c[2]),x=s(v[0],v[1],v[2]);f(m,m),f(x,x);var A=l(m,x);return A>1?0:Math.acos(A)}},9226:function(a){a.exports=o;function o(i,s){return i[0]=Math.ceil(s[0]),i[1]=Math.ceil(s[1]),i[2]=Math.ceil(s[2]),i}},3126:function(a){a.exports=o;function o(i){var s=new Float32Array(3);return s[0]=i[0],s[1]=i[1],s[2]=i[2],s}},3990:function(a){a.exports=o;function o(i,s){return i[0]=s[0],i[1]=s[1],i[2]=s[2],i}},1091:function(a){a.exports=o;function o(){var i=new Float32Array(3);return i[0]=0,i[1]=0,i[2]=0,i}},5911:function(a){a.exports=o;function o(i,s,f){var l=s[0],u=s[1],c=s[2],v=f[0],m=f[1],x=f[2];return i[0]=u*x-c*m,i[1]=c*v-l*x,i[2]=l*m-u*v,i}},5455:function(a,o,i){a.exports=i(7056)},7056:function(a){a.exports=o;function o(i,s){var f=s[0]-i[0],l=s[1]-i[1],u=s[2]-i[2];return Math.sqrt(f*f+l*l+u*u)}},4008:function(a,o,i){a.exports=i(6690)},6690:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]/f[0],i[1]=s[1]/f[1],i[2]=s[2]/f[2],i}},244:function(a){a.exports=o;function o(i,s){return i[0]*s[0]+i[1]*s[1]+i[2]*s[2]}},2613:function(a){a.exports=1e-6},9922:function(a,o,i){a.exports=f;var s=i(2613);function f(l,u){var c=l[0],v=l[1],m=l[2],x=u[0],A=u[1],w=u[2];return Math.abs(c-x)<=s*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(v-A)<=s*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(m-w)<=s*Math.max(1,Math.abs(m),Math.abs(w))}},9265:function(a){a.exports=o;function o(i,s){return i[0]===s[0]&&i[1]===s[1]&&i[2]===s[2]}},2681:function(a){a.exports=o;function o(i,s){return i[0]=Math.floor(s[0]),i[1]=Math.floor(s[1]),i[2]=Math.floor(s[2]),i}},5137:function(a,o,i){a.exports=f;var s=i(1091)();function f(l,u,c,v,m,x){var A,w;for(u||(u=3),c||(c=0),v?w=Math.min(v*u+c,l.length):w=l.length,A=c;A<w;A+=u)s[0]=l[A],s[1]=l[A+1],s[2]=l[A+2],m(s,s,x),l[A]=s[0],l[A+1]=s[1],l[A+2]=s[2];return l}},2825:function(a){a.exports=o;function o(i,s,f){var l=new Float32Array(3);return l[0]=i,l[1]=s,l[2]=f,l}},2931:function(a,o,i){a.exports={EPSILON:i(2613),create:i(1091),clone:i(3126),angle:i(8192),fromValues:i(2825),copy:i(3990),set:i(1463),equals:i(9922),exactEquals:i(9265),add:i(5632),subtract:i(6843),sub:i(2229),multiply:i(5847),mul:i(4505),divide:i(6690),div:i(4008),min:i(8107),max:i(7417),floor:i(2681),ceil:i(9226),round:i(2447),scale:i(6621),scaleAndAdd:i(8489),distance:i(7056),dist:i(5455),squaredDistance:i(2953),sqrDist:i(6141),length:i(1387),len:i(868),squaredLength:i(3066),sqrLen:i(5486),negate:i(5093),inverse:i(811),normalize:i(3536),dot:i(244),cross:i(5911),lerp:i(6658),random:i(7636),transformMat4:i(5673),transformMat3:i(492),transformQuat:i(264),rotateX:i(6894),rotateY:i(109),rotateZ:i(8692),forEach:i(5137)}},811:function(a){a.exports=o;function o(i,s){return i[0]=1/s[0],i[1]=1/s[1],i[2]=1/s[2],i}},868:function(a,o,i){a.exports=i(1387)},1387:function(a){a.exports=o;function o(i){var s=i[0],f=i[1],l=i[2];return Math.sqrt(s*s+f*f+l*l)}},6658:function(a){a.exports=o;function o(i,s,f,l){var u=s[0],c=s[1],v=s[2];return i[0]=u+l*(f[0]-u),i[1]=c+l*(f[1]-c),i[2]=v+l*(f[2]-v),i}},7417:function(a){a.exports=o;function o(i,s,f){return i[0]=Math.max(s[0],f[0]),i[1]=Math.max(s[1],f[1]),i[2]=Math.max(s[2],f[2]),i}},8107:function(a){a.exports=o;function o(i,s,f){return i[0]=Math.min(s[0],f[0]),i[1]=Math.min(s[1],f[1]),i[2]=Math.min(s[2],f[2]),i}},4505:function(a,o,i){a.exports=i(5847)},5847:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]*f[0],i[1]=s[1]*f[1],i[2]=s[2]*f[2],i}},5093:function(a){a.exports=o;function o(i,s){return i[0]=-s[0],i[1]=-s[1],i[2]=-s[2],i}},3536:function(a){a.exports=o;function o(i,s){var f=s[0],l=s[1],u=s[2],c=f*f+l*l+u*u;return c>0&&(c=1/Math.sqrt(c),i[0]=s[0]*c,i[1]=s[1]*c,i[2]=s[2]*c),i}},7636:function(a){a.exports=o;function o(i,s){s=s||1;var f=Math.random()*2*Math.PI,l=Math.random()*2-1,u=Math.sqrt(1-l*l)*s;return i[0]=Math.cos(f)*u,i[1]=Math.sin(f)*u,i[2]=l*s,i}},6894:function(a){a.exports=o;function o(i,s,f,l){var u=f[1],c=f[2],v=s[1]-u,m=s[2]-c,x=Math.sin(l),A=Math.cos(l);return i[0]=s[0],i[1]=u+v*A-m*x,i[2]=c+v*x+m*A,i}},109:function(a){a.exports=o;function o(i,s,f,l){var u=f[0],c=f[2],v=s[0]-u,m=s[2]-c,x=Math.sin(l),A=Math.cos(l);return i[0]=u+m*x+v*A,i[1]=s[1],i[2]=c+m*A-v*x,i}},8692:function(a){a.exports=o;function o(i,s,f,l){var u=f[0],c=f[1],v=s[0]-u,m=s[1]-c,x=Math.sin(l),A=Math.cos(l);return i[0]=u+v*A-m*x,i[1]=c+v*x+m*A,i[2]=s[2],i}},2447:function(a){a.exports=o;function o(i,s){return i[0]=Math.round(s[0]),i[1]=Math.round(s[1]),i[2]=Math.round(s[2]),i}},6621:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]*f,i[1]=s[1]*f,i[2]=s[2]*f,i}},8489:function(a){a.exports=o;function o(i,s,f,l){return i[0]=s[0]+f[0]*l,i[1]=s[1]+f[1]*l,i[2]=s[2]+f[2]*l,i}},1463:function(a){a.exports=o;function o(i,s,f,l){return i[0]=s,i[1]=f,i[2]=l,i}},6141:function(a,o,i){a.exports=i(2953)},5486:function(a,o,i){a.exports=i(3066)},2953:function(a){a.exports=o;function o(i,s){var f=s[0]-i[0],l=s[1]-i[1],u=s[2]-i[2];return f*f+l*l+u*u}},3066:function(a){a.exports=o;function o(i){var s=i[0],f=i[1],l=i[2];return s*s+f*f+l*l}},2229:function(a,o,i){a.exports=i(6843)},6843:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]-f[0],i[1]=s[1]-f[1],i[2]=s[2]-f[2],i}},492:function(a){a.exports=o;function o(i,s,f){var l=s[0],u=s[1],c=s[2];return i[0]=l*f[0]+u*f[3]+c*f[6],i[1]=l*f[1]+u*f[4]+c*f[7],i[2]=l*f[2]+u*f[5]+c*f[8],i}},5673:function(a){a.exports=o;function o(i,s,f){var l=s[0],u=s[1],c=s[2],v=f[3]*l+f[7]*u+f[11]*c+f[15];return v=v||1,i[0]=(f[0]*l+f[4]*u+f[8]*c+f[12])/v,i[1]=(f[1]*l+f[5]*u+f[9]*c+f[13])/v,i[2]=(f[2]*l+f[6]*u+f[10]*c+f[14])/v,i}},264:function(a){a.exports=o;function o(i,s,f){var l=s[0],u=s[1],c=s[2],v=f[0],m=f[1],x=f[2],A=f[3],w=A*l+m*c-x*u,y=A*u+x*l-v*c,_=A*c+v*u-m*l,M=-v*l-m*u-x*c;return i[0]=w*A+M*-v+y*-x-_*-m,i[1]=y*A+M*-m+_*-v-w*-x,i[2]=_*A+M*-x+w*-m-y*-v,i}},4361:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]+f[0],i[1]=s[1]+f[1],i[2]=s[2]+f[2],i[3]=s[3]+f[3],i}},2335:function(a){a.exports=o;function o(i){var s=new Float32Array(4);return s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s}},2933:function(a){a.exports=o;function o(i,s){return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i}},7536:function(a){a.exports=o;function o(){var i=new Float32Array(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}},4691:function(a){a.exports=o;function o(i,s){var f=s[0]-i[0],l=s[1]-i[1],u=s[2]-i[2],c=s[3]-i[3];return Math.sqrt(f*f+l*l+u*u+c*c)}},1373:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]/f[0],i[1]=s[1]/f[1],i[2]=s[2]/f[2],i[3]=s[3]/f[3],i}},3750:function(a){a.exports=o;function o(i,s){return i[0]*s[0]+i[1]*s[1]+i[2]*s[2]+i[3]*s[3]}},3390:function(a){a.exports=o;function o(i,s,f,l){var u=new Float32Array(4);return u[0]=i,u[1]=s,u[2]=f,u[3]=l,u}},9970:function(a,o,i){a.exports={create:i(7536),clone:i(2335),fromValues:i(3390),copy:i(2933),set:i(4578),add:i(4361),subtract:i(6860),multiply:i(3576),divide:i(1373),min:i(2334),max:i(160),scale:i(9288),scaleAndAdd:i(4844),distance:i(4691),squaredDistance:i(7960),length:i(6808),squaredLength:i(483),negate:i(1498),inverse:i(4494),normalize:i(5177),dot:i(3750),lerp:i(2573),random:i(9131),transformMat4:i(5352),transformQuat:i(4041)}},4494:function(a){a.exports=o;function o(i,s){return i[0]=1/s[0],i[1]=1/s[1],i[2]=1/s[2],i[3]=1/s[3],i}},6808:function(a){a.exports=o;function o(i){var s=i[0],f=i[1],l=i[2],u=i[3];return Math.sqrt(s*s+f*f+l*l+u*u)}},2573:function(a){a.exports=o;function o(i,s,f,l){var u=s[0],c=s[1],v=s[2],m=s[3];return i[0]=u+l*(f[0]-u),i[1]=c+l*(f[1]-c),i[2]=v+l*(f[2]-v),i[3]=m+l*(f[3]-m),i}},160:function(a){a.exports=o;function o(i,s,f){return i[0]=Math.max(s[0],f[0]),i[1]=Math.max(s[1],f[1]),i[2]=Math.max(s[2],f[2]),i[3]=Math.max(s[3],f[3]),i}},2334:function(a){a.exports=o;function o(i,s,f){return i[0]=Math.min(s[0],f[0]),i[1]=Math.min(s[1],f[1]),i[2]=Math.min(s[2],f[2]),i[3]=Math.min(s[3],f[3]),i}},3576:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]*f[0],i[1]=s[1]*f[1],i[2]=s[2]*f[2],i[3]=s[3]*f[3],i}},1498:function(a){a.exports=o;function o(i,s){return i[0]=-s[0],i[1]=-s[1],i[2]=-s[2],i[3]=-s[3],i}},5177:function(a){a.exports=o;function o(i,s){var f=s[0],l=s[1],u=s[2],c=s[3],v=f*f+l*l+u*u+c*c;return v>0&&(v=1/Math.sqrt(v),i[0]=f*v,i[1]=l*v,i[2]=u*v,i[3]=c*v),i}},9131:function(a,o,i){var s=i(5177),f=i(9288);a.exports=l;function l(u,c){return c=c||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),s(u,u),f(u,u,c),u}},9288:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]*f,i[1]=s[1]*f,i[2]=s[2]*f,i[3]=s[3]*f,i}},4844:function(a){a.exports=o;function o(i,s,f,l){return i[0]=s[0]+f[0]*l,i[1]=s[1]+f[1]*l,i[2]=s[2]+f[2]*l,i[3]=s[3]+f[3]*l,i}},4578:function(a){a.exports=o;function o(i,s,f,l,u){return i[0]=s,i[1]=f,i[2]=l,i[3]=u,i}},7960:function(a){a.exports=o;function o(i,s){var f=s[0]-i[0],l=s[1]-i[1],u=s[2]-i[2],c=s[3]-i[3];return f*f+l*l+u*u+c*c}},483:function(a){a.exports=o;function o(i){var s=i[0],f=i[1],l=i[2],u=i[3];return s*s+f*f+l*l+u*u}},6860:function(a){a.exports=o;function o(i,s,f){return i[0]=s[0]-f[0],i[1]=s[1]-f[1],i[2]=s[2]-f[2],i[3]=s[3]-f[3],i}},5352:function(a){a.exports=o;function o(i,s,f){var l=s[0],u=s[1],c=s[2],v=s[3];return i[0]=f[0]*l+f[4]*u+f[8]*c+f[12]*v,i[1]=f[1]*l+f[5]*u+f[9]*c+f[13]*v,i[2]=f[2]*l+f[6]*u+f[10]*c+f[14]*v,i[3]=f[3]*l+f[7]*u+f[11]*c+f[15]*v,i}},4041:function(a){a.exports=o;function o(i,s,f){var l=s[0],u=s[1],c=s[2],v=f[0],m=f[1],x=f[2],A=f[3],w=A*l+m*c-x*u,y=A*u+x*l-v*c,_=A*c+v*u-m*l,M=-v*l-m*u-x*c;return i[0]=w*A+M*-v+y*-x-_*-m,i[1]=y*A+M*-m+_*-v-w*-x,i[2]=_*A+M*-x+w*-m-y*-v,i[3]=s[3],i}},1848:function(a,o,i){var s=i(4905),f=i(6468);a.exports=l;function l(u){for(var c=Array.isArray(u)?u:s(u),v=0;v<c.length;v++){var m=c[v];if(m.type==="preprocessor"){var x=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(x&&x[2]){var A=x[1],w=x[2];return(A?f(w):w).trim()}}}}},5874:function(a,o,i){a.exports=p;var s=i(620),f=i(7827),l=i(6852),u=i(7932),c=i(3508),v=999,m=9999,x=0,A=1,w=2,y=3,_=4,M=5,b=6,E=7,d=8,T=9,g=10,h=11,S=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function p(C){var k=0,D=0,P=v,O,F,L=[],I=[],q=0,z=0,W=1,$=0,j=0,G=!1,B=!1,X="",te;C=C||{};var J=l,ae=s;C.version==="300 es"&&(J=c,ae=u);for(var ee={},H={},k=0;k<J.length;k++)ee[J[k]]=!0;for(var k=0;k<ae.length;k++)H[ae[k]]=!0;return function(pe){return I=[],pe!==null?V(pe):ne()};function re(pe){pe.length&&I.push({type:S[P],data:pe,position:j,line:W,column:$})}function V(pe){k=0,pe.toString&&(pe=pe.toString()),X+=pe.replace(/\r\n/g,`
`),te=X.length;for(var xe;O=X[k],k<te;){switch(xe=k,P){case x:k=ve();break;case A:k=me();break;case w:k=_e();break;case y:k=be();break;case _:k=Ae();break;case h:k=Se();break;case M:k=Ie();break;case m:k=Ve();break;case T:k=de();break;case v:k=le();break}if(xe!==k)switch(X[xe]){case`
`:$=0,++W;break;default:++$;break}}return D+=k,X=X.slice(k),I}function ne(pe){return L.length&&re(L.join("")),P=g,re("(eof)"),I}function le(){return L=L.length?[]:L,F==="/"&&O==="*"?(j=D+k-1,P=x,F=O,k+1):F==="/"&&O==="/"?(j=D+k-1,P=A,F=O,k+1):O==="#"?(P=w,j=D+k,k):/\s/.test(O)?(P=T,j=D+k,k):(G=/\d/.test(O),B=/[^\w_]/.test(O),j=D+k,P=G?_:B?y:m,k)}function de(){return/[^\s]/g.test(O)?(re(L.join("")),P=v,k):(L.push(O),F=O,k+1)}function _e(){return(O==="\r"||O===`
`)&&F!=="\\"?(re(L.join("")),P=v,k):(L.push(O),F=O,k+1)}function me(){return _e()}function ve(){return O==="/"&&F==="*"?(L.push(O),re(L.join("")),P=v,k+1):(L.push(O),F=O,k+1)}function be(){if(F==="."&&/\d/.test(O))return P=M,k;if(F==="/"&&O==="*")return P=x,k;if(F==="/"&&O==="/")return P=A,k;if(O==="."&&L.length){for(;we(L););return P=M,k}if(O===";"||O===")"||O==="("){if(L.length)for(;we(L););return re(O),P=v,k+1}var pe=L.length===2&&O!=="=";if(/[\w_\d\s]/.test(O)||pe){for(;we(L););return P=v,k}return L.push(O),F=O,k+1}function we(pe){var xe=0,Te,qe;do{if(Te=f.indexOf(pe.slice(0,pe.length+xe).join("")),qe=f[Te],Te===-1){if(xe--+pe.length>0)continue;qe=pe.slice(0,1).join("")}return re(qe),j+=qe.length,L=L.slice(qe.length),L.length}while(!0)}function Se(){return/[^a-fA-F0-9]/.test(O)?(re(L.join("")),P=v,k):(L.push(O),F=O,k+1)}function Ae(){return O==="."||/[eE]/.test(O)?(L.push(O),P=M,F=O,k+1):O==="x"&&L.length===1&&L[0]==="0"?(P=h,L.push(O),F=O,k+1):/[^\d]/.test(O)?(re(L.join("")),P=v,k):(L.push(O),F=O,k+1)}function Ie(){return O==="f"&&(L.push(O),F=O,k+=1),/[eE]/.test(O)||(O==="-"||O==="+")&&/[eE]/.test(F)?(L.push(O),F=O,k+1):/[^\d]/.test(O)?(re(L.join("")),P=v,k):(L.push(O),F=O,k+1)}function Ve(){if(/[^\d\w_]/.test(O)){var pe=L.join("");return H[pe]?P=d:ee[pe]?P=E:P=b,re(L.join("")),P=v,k}return L.push(O),F=O,k+1}}},3508:function(a,o,i){var s=i(6852);s=s.slice().filter(function(f){return!/^(gl\_|texture)/.test(f)}),a.exports=s.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(a){a.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(a,o,i){var s=i(620);a.exports=s.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(a){a.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(a){a.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(a,o,i){var s=i(5874);a.exports=f;function f(l,u){var c=s(u),v=[];return v=v.concat(c(l)),v=v.concat(c(null)),v}},3236:function(a){a.exports=function(o){typeof o=="string"&&(o=[o]);for(var i=[].slice.call(arguments,1),s=[],f=0;f<o.length-1;f++)s.push(o[f],i[f]||"");return s.push(o[f]),s.join("")}},7520:function(a,o,i){"use strict";var s=i(9507);function f(){var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch(c){l=!1}return l}a.exports=s&&f()},3778:function(a,o){o.read=function(i,s,f,l,u){var c,v,m=u*8-l-1,x=(1<<m)-1,A=x>>1,w=-7,y=f?u-1:0,_=f?-1:1,M=i[s+y];for(y+=_,c=M&(1<<-w)-1,M>>=-w,w+=m;w>0;c=c*256+i[s+y],y+=_,w-=8);for(v=c&(1<<-w)-1,c>>=-w,w+=l;w>0;v=v*256+i[s+y],y+=_,w-=8);if(c===0)c=1-A;else{if(c===x)return v?NaN:(M?-1:1)*(1/0);v=v+Math.pow(2,l),c=c-A}return(M?-1:1)*v*Math.pow(2,c-l)},o.write=function(i,s,f,l,u,c){var v,m,x,A=c*8-u-1,w=(1<<A)-1,y=w>>1,_=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=l?0:c-1,b=l?1:-1,E=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(m=isNaN(s)?1:0,v=w):(v=Math.floor(Math.log(s)/Math.LN2),s*(x=Math.pow(2,-v))<1&&(v--,x*=2),v+y>=1?s+=_/x:s+=_*Math.pow(2,1-y),s*x>=2&&(v++,x/=2),v+y>=w?(m=0,v=w):v+y>=1?(m=(s*x-1)*Math.pow(2,u),v=v+y):(m=s*Math.pow(2,y-1)*Math.pow(2,u),v=0));u>=8;i[f+M]=m&255,M+=b,m/=256,u-=8);for(v=v<<u|m,A+=u;A>0;i[f+M]=v&255,M+=b,v/=256,A-=8);i[f+M-b]|=E*128}},8954:function(a,o,i){"use strict";a.exports=y;var s=i(3250),f=i(6803).Fw;function l(_,M,b){this.vertices=_,this.adjacent=M,this.boundary=b,this.lastVisited=-1}l.prototype.flip=function(){var _=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=_;var M=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=M};function u(_,M,b){this.vertices=_,this.cell=M,this.index=b}function c(_,M){return f(_.vertices,M.vertices)}function v(_){return function(){var M=this.tuple;return _.apply(this,M)}}function m(_){var M=s[_+1];return M||(M=s),v(M)}var x=[];function A(_,M,b){this.dimension=_,this.vertices=M,this.simplices=b,this.interior=b.filter(function(T){return!T.boundary}),this.tuple=new Array(_+1);for(var E=0;E<=_;++E)this.tuple[E]=this.vertices[E];var d=x[_];d||(d=x[_]=m(_)),this.orient=d}var w=A.prototype;w.handleBoundaryDegeneracy=function(_,M){var b=this.dimension,E=this.vertices.length-1,d=this.tuple,T=this.vertices,g=[_];for(_.lastVisited=-E;g.length>0;){_=g.pop();for(var h=_.adjacent,S=0;S<=b;++S){var p=h[S];if(!(!p.boundary||p.lastVisited<=-E)){for(var C=p.vertices,k=0;k<=b;++k){var D=C[k];D<0?d[k]=M:d[k]=T[D]}var P=this.orient();if(P>0)return p;p.lastVisited=-E,P===0&&g.push(p)}}}return null},w.walk=function(_,M){var b=this.vertices.length-1,E=this.dimension,d=this.vertices,T=this.tuple,g=M?this.interior.length*Math.random()|0:this.interior.length-1,h=this.interior[g];e:for(;!h.boundary;){for(var S=h.vertices,p=h.adjacent,C=0;C<=E;++C)T[C]=d[S[C]];h.lastVisited=b;for(var C=0;C<=E;++C){var k=p[C];if(!(k.lastVisited>=b)){var D=T[C];T[C]=_;var P=this.orient();if(T[C]=D,P<0){h=k;continue e}else k.boundary?k.lastVisited=-b:k.lastVisited=b}}return}return h},w.addPeaks=function(_,M){var b=this.vertices.length-1,E=this.dimension,d=this.vertices,T=this.tuple,g=this.interior,h=this.simplices,S=[M];M.lastVisited=b,M.vertices[M.vertices.indexOf(-1)]=b,M.boundary=!1,g.push(M);for(var p=[];S.length>0;){var M=S.pop(),C=M.vertices,k=M.adjacent,D=C.indexOf(b);if(!(D<0)){for(var P=0;P<=E;++P)if(P!==D){var O=k[P];if(!(!O.boundary||O.lastVisited>=b)){var F=O.vertices;if(O.lastVisited!==-b){for(var L=0,I=0;I<=E;++I)F[I]<0?(L=I,T[I]=_):T[I]=d[F[I]];var q=this.orient();if(q>0){F[L]=b,O.boundary=!1,g.push(O),S.push(O),O.lastVisited=b;continue}else O.lastVisited=-b}var z=O.adjacent,W=C.slice(),$=k.slice(),j=new l(W,$,!0);h.push(j);var G=z.indexOf(M);if(!(G<0)){z[G]=j,$[D]=O,W[P]=-1,$[P]=M,k[P]=j,j.flip();for(var I=0;I<=E;++I){var B=W[I];if(!(B<0||B===b)){for(var X=new Array(E-1),te=0,J=0;J<=E;++J){var ae=W[J];ae<0||J===I||(X[te++]=ae)}p.push(new u(X,j,I))}}}}}}}p.sort(c);for(var P=0;P+1<p.length;P+=2){var ee=p[P],H=p[P+1],re=ee.index,V=H.index;re<0||V<0||(ee.cell.adjacent[ee.index]=H.cell,H.cell.adjacent[H.index]=ee.cell)}},w.insert=function(_,M){var b=this.vertices;b.push(_);var E=this.walk(_,M);if(E){for(var d=this.dimension,T=this.tuple,g=0;g<=d;++g){var h=E.vertices[g];h<0?T[g]=_:T[g]=b[h]}var S=this.orient(T);S<0||S===0&&(E=this.handleBoundaryDegeneracy(E,_),!E)||this.addPeaks(_,E)}},w.boundary=function(){for(var _=this.dimension,M=[],b=this.simplices,E=b.length,d=0;d<E;++d){var T=b[d];if(T.boundary){for(var g=new Array(_),h=T.vertices,S=0,p=0,C=0;C<=_;++C)h[C]>=0?g[S++]=h[C]:p=C&1;if(p===(_&1)){var k=g[0];g[0]=g[1],g[1]=k}M.push(g)}}return M};function y(_,M){var b=_.length;if(b===0)throw new Error("Must have at least d+1 points");var E=_[0].length;if(b<=E)throw new Error("Must input at least d+1 points");var d=_.slice(0,E+1),T=s.apply(void 0,d);if(T===0)throw new Error("Input not in general position");for(var g=new Array(E+1),h=0;h<=E;++h)g[h]=h;T<0&&(g[0]=1,g[1]=0);for(var S=new l(g,new Array(E+1),!1),p=S.adjacent,C=new Array(E+2),h=0;h<=E;++h){for(var k=g.slice(),D=0;D<=E;++D)D===h&&(k[D]=-1);var P=k[0];k[0]=k[1],k[1]=P;var O=new l(k,new Array(E+1),!0);p[h]=O,C[h]=O}C[E+1]=S;for(var h=0;h<=E;++h)for(var k=p[h].vertices,F=p[h].adjacent,D=0;D<=E;++D){var L=k[D];if(L<0){F[D]=S;continue}for(var I=0;I<=E;++I)p[I].vertices.indexOf(L)<0&&(F[D]=p[I])}for(var q=new A(E,d,C),z=!!M,h=E+1;h<b;++h)q.insert(_[h],z);return q.boundary()}},3352:function(a,o,i){"use strict";var s=i(2478),f=0,l=1,u=2;a.exports=S;function c(p,C,k,D,P){this.mid=p,this.left=C,this.right=k,this.leftPoints=D,this.rightPoints=P,this.count=(C?C.count:0)+(k?k.count:0)+D.length}var v=c.prototype;function m(p,C){p.mid=C.mid,p.left=C.left,p.right=C.right,p.leftPoints=C.leftPoints,p.rightPoints=C.rightPoints,p.count=C.count}function x(p,C){var k=T(C);p.mid=k.mid,p.left=k.left,p.right=k.right,p.leftPoints=k.leftPoints,p.rightPoints=k.rightPoints,p.count=k.count}function A(p,C){var k=p.intervals([]);k.push(C),x(p,k)}function w(p,C){var k=p.intervals([]),D=k.indexOf(C);return D<0?f:(k.splice(D,1),x(p,k),l)}v.intervals=function(p){return p.push.apply(p,this.leftPoints),this.left&&this.left.intervals(p),this.right&&this.right.intervals(p),p},v.insert=function(p){var C=this.count-this.leftPoints.length;if(this.count+=1,p[1]<this.mid)this.left?4*(this.left.count+1)>3*(C+1)?A(this,p):this.left.insert(p):this.left=T([p]);else if(p[0]>this.mid)this.right?4*(this.right.count+1)>3*(C+1)?A(this,p):this.right.insert(p):this.right=T([p]);else{var k=s.ge(this.leftPoints,p,E),D=s.ge(this.rightPoints,p,d);this.leftPoints.splice(k,0,p),this.rightPoints.splice(D,0,p)}},v.remove=function(p){var C=this.count-this.leftPoints;if(p[1]<this.mid){if(!this.left)return f;var k=this.right?this.right.count:0;if(4*k>3*(C-1))return w(this,p);var D=this.left.remove(p);return D===u?(this.left=null,this.count-=1,l):(D===l&&(this.count-=1),D)}else if(p[0]>this.mid){if(!this.right)return f;var P=this.left?this.left.count:0;if(4*P>3*(C-1))return w(this,p);var D=this.right.remove(p);return D===u?(this.right=null,this.count-=1,l):(D===l&&(this.count-=1),D)}else{if(this.count===1)return this.leftPoints[0]===p?u:f;if(this.leftPoints.length===1&&this.leftPoints[0]===p){if(this.left&&this.right){for(var O=this,F=this.left;F.right;)O=F,F=F.right;if(O===this)F.right=this.right;else{var L=this.left,D=this.right;O.count-=F.count,O.right=F.left,F.left=L,F.right=D}m(this,F),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return l}for(var L=s.ge(this.leftPoints,p,E);L<this.leftPoints.length&&this.leftPoints[L][0]===p[0];++L)if(this.leftPoints[L]===p){this.count-=1,this.leftPoints.splice(L,1);for(var D=s.ge(this.rightPoints,p,d);D<this.rightPoints.length&&this.rightPoints[D][1]===p[1];++D)if(this.rightPoints[D]===p)return this.rightPoints.splice(D,1),l}return f}};function y(p,C,k){for(var D=0;D<p.length&&p[D][0]<=C;++D){var P=k(p[D]);if(P)return P}}function _(p,C,k){for(var D=p.length-1;D>=0&&p[D][1]>=C;--D){var P=k(p[D]);if(P)return P}}function M(p,C){for(var k=0;k<p.length;++k){var D=C(p[k]);if(D)return D}}v.queryPoint=function(p,C){if(p<this.mid){if(this.left){var k=this.left.queryPoint(p,C);if(k)return k}return y(this.leftPoints,p,C)}else if(p>this.mid){if(this.right){var k=this.right.queryPoint(p,C);if(k)return k}return _(this.rightPoints,p,C)}else return M(this.leftPoints,C)},v.queryInterval=function(p,C,k){if(p<this.mid&&this.left){var D=this.left.queryInterval(p,C,k);if(D)return D}if(C>this.mid&&this.right){var D=this.right.queryInterval(p,C,k);if(D)return D}return C<this.mid?y(this.leftPoints,C,k):p>this.mid?_(this.rightPoints,p,k):M(this.leftPoints,k)};function b(p,C){return p-C}function E(p,C){var k=p[0]-C[0];return k||p[1]-C[1]}function d(p,C){var k=p[1]-C[1];return k||p[0]-C[0]}function T(p){if(p.length===0)return null;for(var C=[],k=0;k<p.length;++k)C.push(p[k][0],p[k][1]);C.sort(b);for(var D=C[C.length>>1],P=[],O=[],F=[],k=0;k<p.length;++k){var L=p[k];L[1]<D?P.push(L):D<L[0]?O.push(L):F.push(L)}var I=F,q=F.slice();return I.sort(E),q.sort(d),new c(D,T(P),T(O),I,q)}function g(p){this.root=p}var h=g.prototype;h.insert=function(p){this.root?this.root.insert(p):this.root=new c(p[0],null,null,[p],[p])},h.remove=function(p){if(this.root){var C=this.root.remove(p);return C===u&&(this.root=null),C!==f}return!1},h.queryPoint=function(p,C){if(this.root)return this.root.queryPoint(p,C)},h.queryInterval=function(p,C,k){if(p<=C&&this.root)return this.root.queryInterval(p,C,k)},Object.defineProperty(h,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(h,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function S(p){return!p||p.length===0?new g(null):new g(T(p))}},7762:function(a){"use strict";function o(i){for(var s=new Array(i),f=0;f<i;++f)s[f]=f;return s}a.exports=o},9507:function(a){a.exports=!0},7163:function(a){a.exports=function(s){return s!=null&&(o(s)||i(s)||!!s._isBuffer)};function o(s){return!!s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function i(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&o(s.slice(0,0))}},5219:function(a){"use strict";a.exports=function(o){for(var i=o.length,s,f=0;f<i;f++)if(s=o.charCodeAt(f),(s<9||s>13)&&s!==32&&s!==133&&s!==160&&s!==5760&&s!==6158&&(s<8192||s>8205)&&s!==8232&&s!==8233&&s!==8239&&s!==8287&&s!==8288&&s!==12288&&s!==65279)return!1;return!0}},395:function(a){function o(i,s,f){return i*(1-f)+s*f}a.exports=o},2652:function(a,o,i){var s=i(4335),f=i(6864),l=i(1903),u=i(9921),c=i(7608),v=i(5665),m={length:i(1387),normalize:i(3536),dot:i(244),cross:i(5911)},x=f(),A=f(),w=[0,0,0,0],y=[[0,0,0],[0,0,0],[0,0,0]],_=[0,0,0];a.exports=function(T,g,h,S,p,C){if(g||(g=[0,0,0]),h||(h=[0,0,0]),S||(S=[0,0,0]),p||(p=[0,0,0,1]),C||(C=[0,0,0,1]),!s(x,T)||(l(A,x),A[3]=0,A[7]=0,A[11]=0,A[15]=1,Math.abs(u(A)<1e-8)))return!1;var k=x[3],D=x[7],P=x[11],O=x[12],F=x[13],L=x[14],I=x[15];if(k!==0||D!==0||P!==0){w[0]=k,w[1]=D,w[2]=P,w[3]=I;var q=c(A,A);if(!q)return!1;v(A,A),M(p,w,A)}else p[0]=p[1]=p[2]=0,p[3]=1;if(g[0]=O,g[1]=F,g[2]=L,b(y,x),h[0]=m.length(y[0]),m.normalize(y[0],y[0]),S[0]=m.dot(y[0],y[1]),E(y[1],y[1],y[0],1,-S[0]),h[1]=m.length(y[1]),m.normalize(y[1],y[1]),S[0]/=h[1],S[1]=m.dot(y[0],y[2]),E(y[2],y[2],y[0],1,-S[1]),S[2]=m.dot(y[1],y[2]),E(y[2],y[2],y[1],1,-S[2]),h[2]=m.length(y[2]),m.normalize(y[2],y[2]),S[1]/=h[2],S[2]/=h[2],m.cross(_,y[1],y[2]),m.dot(y[0],_)<0)for(var z=0;z<3;z++)h[z]*=-1,y[z][0]*=-1,y[z][1]*=-1,y[z][2]*=-1;return C[0]=.5*Math.sqrt(Math.max(1+y[0][0]-y[1][1]-y[2][2],0)),C[1]=.5*Math.sqrt(Math.max(1-y[0][0]+y[1][1]-y[2][2],0)),C[2]=.5*Math.sqrt(Math.max(1-y[0][0]-y[1][1]+y[2][2],0)),C[3]=.5*Math.sqrt(Math.max(1+y[0][0]+y[1][1]+y[2][2],0)),y[2][1]>y[1][2]&&(C[0]=-C[0]),y[0][2]>y[2][0]&&(C[1]=-C[1]),y[1][0]>y[0][1]&&(C[2]=-C[2]),!0};function M(d,T,g){var h=T[0],S=T[1],p=T[2],C=T[3];return d[0]=g[0]*h+g[4]*S+g[8]*p+g[12]*C,d[1]=g[1]*h+g[5]*S+g[9]*p+g[13]*C,d[2]=g[2]*h+g[6]*S+g[10]*p+g[14]*C,d[3]=g[3]*h+g[7]*S+g[11]*p+g[15]*C,d}function b(d,T){d[0][0]=T[0],d[0][1]=T[1],d[0][2]=T[2],d[1][0]=T[4],d[1][1]=T[5],d[1][2]=T[6],d[2][0]=T[8],d[2][1]=T[9],d[2][2]=T[10]}function E(d,T,g,h,S){d[0]=T[0]*h+g[0]*S,d[1]=T[1]*h+g[1]*S,d[2]=T[2]*h+g[2]*S}},4335:function(a){a.exports=function(i,s){var f=s[15];if(f===0)return!1;for(var l=1/f,u=0;u<16;u++)i[u]=s[u]*l;return!0}},7442:function(a,o,i){var s=i(6658),f=i(7182),l=i(2652),u=i(9921),c=i(8648),v=w(),m=w(),x=w();a.exports=A;function A(M,b,E,d){if(u(b)===0||u(E)===0)return!1;var T=l(b,v.translate,v.scale,v.skew,v.perspective,v.quaternion),g=l(E,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!T||!g?!1:(s(x.translate,v.translate,m.translate,d),s(x.skew,v.skew,m.skew,d),s(x.scale,v.scale,m.scale,d),s(x.perspective,v.perspective,m.perspective,d),c(x.quaternion,v.quaternion,m.quaternion,d),f(M,x.translate,x.scale,x.skew,x.perspective,x.quaternion),!0)}function w(){return{translate:y(),scale:y(1),skew:y(),perspective:_(),quaternion:_()}}function y(M){return[M||0,M||0,M||0]}function _(){return[0,0,0,1]}},7182:function(a,o,i){var s={identity:i(7894),translate:i(7656),multiply:i(6760),create:i(6864),scale:i(2504),fromRotationTranslation:i(6743)},f=s.create(),l=s.create();a.exports=function(c,v,m,x,A,w){return s.identity(c),s.fromRotationTranslation(c,w,v),c[3]=A[0],c[7]=A[1],c[11]=A[2],c[15]=A[3],s.identity(l),x[2]!==0&&(l[9]=x[2],s.multiply(c,c,l)),x[1]!==0&&(l[9]=0,l[8]=x[1],s.multiply(c,c,l)),x[0]!==0&&(l[8]=0,l[4]=x[0],s.multiply(c,c,l)),s.scale(c,c,m),c}},4192:function(a,o,i){"use strict";var s=i(2478),f=i(7442),l=i(7608),u=i(5567),c=i(2408),v=i(7089),m=i(6582),x=i(7656),A=i(2504),w=i(3536),y=[0,0,0];a.exports=E;function _(d){this._components=d.slice(),this._time=[0],this.prevMatrix=d.slice(),this.nextMatrix=d.slice(),this.computedMatrix=d.slice(),this.computedInverse=d.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var M=_.prototype;M.recalcMatrix=function(d){var T=this._time,g=s.le(T,d),h=this.computedMatrix;if(!(g<0)){var S=this._components;if(g===T.length-1)for(var p=16*g,C=0;C<16;++C)h[C]=S[p++];else{for(var k=T[g+1]-T[g],p=16*g,D=this.prevMatrix,P=!0,C=0;C<16;++C)D[C]=S[p++];for(var O=this.nextMatrix,C=0;C<16;++C)O[C]=S[p++],P=P&&D[C]===O[C];if(k<1e-6||P)for(var C=0;C<16;++C)h[C]=D[C];else f(h,D,O,(d-T[g])/k)}var F=this.computedUp;F[0]=h[1],F[1]=h[5],F[2]=h[9],w(F,F);var L=this.computedInverse;l(L,h);var I=this.computedEye,q=L[15];I[0]=L[12]/q,I[1]=L[13]/q,I[2]=L[14]/q;for(var z=this.computedCenter,W=Math.exp(this.computedRadius[0]),C=0;C<3;++C)z[C]=I[C]-h[2+4*C]*W}},M.idle=function(d){if(!(d<this.lastT())){for(var T=this._components,g=T.length-16,h=0;h<16;++h)T.push(T[g++]);this._time.push(d)}},M.flush=function(d){var T=s.gt(this._time,d)-2;T<0||(this._time.splice(0,T),this._components.splice(0,16*T))},M.lastT=function(){return this._time[this._time.length-1]},M.lookAt=function(d,T,g,h){this.recalcMatrix(d),T=T||this.computedEye,g=g||y,h=h||this.computedUp,this.setMatrix(d,m(this.computedMatrix,T,g,h));for(var S=0,p=0;p<3;++p)S+=Math.pow(g[p]-T[p],2);S=Math.log(Math.sqrt(S)),this.computedRadius[0]=S},M.rotate=function(d,T,g,h){this.recalcMatrix(d);var S=this.computedInverse;T&&c(S,S,T),g&&u(S,S,g),h&&v(S,S,h),this.setMatrix(d,l(this.computedMatrix,S))};var b=[0,0,0];M.pan=function(d,T,g,h){b[0]=-(T||0),b[1]=-(g||0),b[2]=-(h||0),this.recalcMatrix(d);var S=this.computedInverse;x(S,S,b),this.setMatrix(d,l(S,S))},M.translate=function(d,T,g,h){b[0]=T||0,b[1]=g||0,b[2]=h||0,this.recalcMatrix(d);var S=this.computedMatrix;x(S,S,b),this.setMatrix(d,S)},M.setMatrix=function(d,T){if(!(d<this.lastT())){this._time.push(d);for(var g=0;g<16;++g)this._components.push(T[g])}},M.setDistance=function(d,T){this.computedRadius[0]=T},M.setDistanceLimits=function(d,T){var g=this._limits;g[0]=d,g[1]=T},M.getDistanceLimits=function(d){var T=this._limits;return d?(d[0]=T[0],d[1]=T[1],d):T};function E(d){d=d||{};var T=d.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new _(T)}},3090:function(a,o,i){"use strict";a.exports=f;var s=i(3250)[3];function f(l){var u=l.length;if(u<3){for(var _=new Array(u),c=0;c<u;++c)_[c]=c;return u===2&&l[0][0]===l[1][0]&&l[0][1]===l[1][1]?[0]:_}for(var v=new Array(u),c=0;c<u;++c)v[c]=c;v.sort(function(d,T){var g=l[d][0]-l[T][0];return g||l[d][1]-l[T][1]});for(var m=[v[0],v[1]],x=[v[0],v[1]],c=2;c<u;++c){for(var A=v[c],w=l[A],y=m.length;y>1&&s(l[m[y-2]],l[m[y-1]],w)<=0;)y-=1,m.pop();for(m.push(A),y=x.length;y>1&&s(l[x[y-2]],l[x[y-1]],w)>=0;)y-=1,x.pop();x.push(A)}for(var _=new Array(x.length+m.length-2),M=0,c=0,b=m.length;c<b;++c)_[M++]=m[c];for(var E=x.length-2;E>0;--E)_[M++]=x[E];return _}},351:function(a,o,i){"use strict";a.exports=f;var s=i(4687);function f(l,u){u||(u=l,l=window);var c=0,v=0,m=0,x={shift:!1,alt:!1,control:!1,meta:!1},A=!1;function w(p){var C=!1;return"altKey"in p&&(C=C||p.altKey!==x.alt,x.alt=!!p.altKey),"shiftKey"in p&&(C=C||p.shiftKey!==x.shift,x.shift=!!p.shiftKey),"ctrlKey"in p&&(C=C||p.ctrlKey!==x.control,x.control=!!p.ctrlKey),"metaKey"in p&&(C=C||p.metaKey!==x.meta,x.meta=!!p.metaKey),C}function y(p,C){var k=s.x(C),D=s.y(C);"buttons"in C&&(p=C.buttons|0),(p!==c||k!==v||D!==m||w(C))&&(c=p|0,v=k||0,m=D||0,u&&u(c,v,m,x))}function _(p){y(0,p)}function M(){(c||v||m||x.shift||x.alt||x.meta||x.control)&&(v=m=0,c=0,x.shift=x.alt=x.control=x.meta=!1,u&&u(0,0,0,x))}function b(p){w(p)&&u&&u(c,v,m,x)}function E(p){s.buttons(p)===0?y(0,p):y(c,p)}function d(p){y(c|s.buttons(p),p)}function T(p){y(c&~s.buttons(p),p)}function g(){A||(A=!0,l.addEventListener("mousemove",E),l.addEventListener("mousedown",d),l.addEventListener("mouseup",T),l.addEventListener("mouseleave",_),l.addEventListener("mouseenter",_),l.addEventListener("mouseout",_),l.addEventListener("mouseover",_),l.addEventListener("blur",M),l.addEventListener("keyup",b),l.addEventListener("keydown",b),l.addEventListener("keypress",b),l!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",b),window.addEventListener("keydown",b),window.addEventListener("keypress",b)))}function h(){A&&(A=!1,l.removeEventListener("mousemove",E),l.removeEventListener("mousedown",d),l.removeEventListener("mouseup",T),l.removeEventListener("mouseleave",_),l.removeEventListener("mouseenter",_),l.removeEventListener("mouseout",_),l.removeEventListener("mouseover",_),l.removeEventListener("blur",M),l.removeEventListener("keyup",b),l.removeEventListener("keydown",b),l.removeEventListener("keypress",b),l!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",b),window.removeEventListener("keydown",b),window.removeEventListener("keypress",b)))}g();var S={element:l};return Object.defineProperties(S,{enabled:{get:function(){return A},set:function(p){p?g():h()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return x},enumerable:!0}}),S}},24:function(a){var o={left:0,top:0};a.exports=i;function i(f,l,u){l=l||f.currentTarget||f.srcElement,Array.isArray(u)||(u=[0,0]);var c=f.clientX||0,v=f.clientY||0,m=s(l);return u[0]=c-m.left,u[1]=v-m.top,u}function s(f){return f===window||f===document||f===document.body?o:f.getBoundingClientRect()}},4687:function(a,o){"use strict";function i(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var c=u.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in u){var c=u.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}o.buttons=i;function s(u){return u.target||u.srcElement||window}o.element=s;function f(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var c=s(u),v=c.getBoundingClientRect();return u.clientX-v.left}return 0}o.x=f;function l(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var c=s(u),v=c.getBoundingClientRect();return u.clientY-v.top}return 0}o.y=l},8512:function(a,o,i){"use strict";var s=i(665);a.exports=f;function f(l,u,c){typeof l=="function"&&(c=!!u,u=l,l=window);var v=s("ex",l),m=function(x){c&&x.preventDefault();var A=x.deltaX||0,w=x.deltaY||0,y=x.deltaZ||0,_=x.deltaMode,M=1;switch(_){case 1:M=v;break;case 2:M=window.innerHeight;break}if(A*=M,w*=M,y*=M,A||w||y)return u(A,w,y,x)};return l.addEventListener("wheel",m),m}},2640:function(a,o,i){"use strict";var s=i(1888);a.exports=u;var f={"false,0,1":function(v,m,x,A,w){return function(_,M,b,E){var d=_.shape[0]|0,T=_.shape[1]|0,g=_.data,h=_.offset|0,S=_.stride[0]|0,p=_.stride[1]|0,C=h,k,D=-S|0,P=0,O=-p|0,F=0,L=-S-p|0,I=0,q=S|0,z=p-S*d|0,W=0,$=0,j=0,G=2*d|0,B=A(G),X=A(G),te=0,J=0,ae=-1,ee=-1,H=0,re=-d|0,V=d|0,ne=0,le=-d-1|0,de=d-1|0,_e=0,me=0,ve=0;for(W=0;W<d;++W)B[te++]=x(g[C],M,b,E),C+=q;if(C+=z,T>0){if($=1,B[te++]=x(g[C],M,b,E),C+=q,d>0)for(W=1,k=g[C],J=B[te]=x(k,M,b,E),H=B[te+ae],ne=B[te+re],_e=B[te+le],(J!==H||J!==ne||J!==_e)&&(P=g[C+D],F=g[C+O],I=g[C+L],v(W,$,k,P,F,I,J,H,ne,_e,M,b,E),me=X[te]=j++),te+=1,C+=q,W=2;W<d;++W)k=g[C],J=B[te]=x(k,M,b,E),H=B[te+ae],ne=B[te+re],_e=B[te+le],(J!==H||J!==ne||J!==_e)&&(P=g[C+D],F=g[C+O],I=g[C+L],v(W,$,k,P,F,I,J,H,ne,_e,M,b,E),me=X[te]=j++,_e!==H&&m(X[te+ae],me,I,P,_e,H,M,b,E)),te+=1,C+=q;for(C+=z,te=0,ve=ae,ae=ee,ee=ve,ve=re,re=V,V=ve,ve=le,le=de,de=ve,$=2;$<T;++$){if(B[te++]=x(g[C],M,b,E),C+=q,d>0)for(W=1,k=g[C],J=B[te]=x(k,M,b,E),H=B[te+ae],ne=B[te+re],_e=B[te+le],(J!==H||J!==ne||J!==_e)&&(P=g[C+D],F=g[C+O],I=g[C+L],v(W,$,k,P,F,I,J,H,ne,_e,M,b,E),me=X[te]=j++,_e!==ne&&m(X[te+re],me,F,I,ne,_e,M,b,E)),te+=1,C+=q,W=2;W<d;++W)k=g[C],J=B[te]=x(k,M,b,E),H=B[te+ae],ne=B[te+re],_e=B[te+le],(J!==H||J!==ne||J!==_e)&&(P=g[C+D],F=g[C+O],I=g[C+L],v(W,$,k,P,F,I,J,H,ne,_e,M,b,E),me=X[te]=j++,_e!==ne&&m(X[te+re],me,F,I,ne,_e,M,b,E),_e!==H&&m(X[te+ae],me,I,P,_e,H,M,b,E)),te+=1,C+=q;$&1&&(te=0),ve=ae,ae=ee,ee=ve,ve=re,re=V,V=ve,ve=le,le=de,de=ve,C+=z}}w(X),w(B)}},"false,1,0":function(v,m,x,A,w){return function(_,M,b,E){var d=_.shape[0]|0,T=_.shape[1]|0,g=_.data,h=_.offset|0,S=_.stride[0]|0,p=_.stride[1]|0,C=h,k,D=-S|0,P=0,O=-p|0,F=0,L=-S-p|0,I=0,q=p|0,z=S-p*T|0,W=0,$=0,j=0,G=2*T|0,B=A(G),X=A(G),te=0,J=0,ae=-1,ee=-1,H=0,re=-T|0,V=T|0,ne=0,le=-T-1|0,de=T-1|0,_e=0,me=0,ve=0;for($=0;$<T;++$)B[te++]=x(g[C],M,b,E),C+=q;if(C+=z,d>0){if(W=1,B[te++]=x(g[C],M,b,E),C+=q,T>0)for($=1,k=g[C],J=B[te]=x(k,M,b,E),ne=B[te+re],H=B[te+ae],_e=B[te+le],(J!==ne||J!==H||J!==_e)&&(P=g[C+D],F=g[C+O],I=g[C+L],v(W,$,k,P,F,I,J,ne,H,_e,M,b,E),me=X[te]=j++),te+=1,C+=q,$=2;$<T;++$)k=g[C],J=B[te]=x(k,M,b,E),ne=B[te+re],H=B[te+ae],_e=B[te+le],(J!==ne||J!==H||J!==_e)&&(P=g[C+D],F=g[C+O],I=g[C+L],v(W,$,k,P,F,I,J,ne,H,_e,M,b,E),me=X[te]=j++,_e!==H&&m(X[te+ae],me,F,I,H,_e,M,b,E)),te+=1,C+=q;for(C+=z,te=0,ve=re,re=V,V=ve,ve=ae,ae=ee,ee=ve,ve=le,le=de,de=ve,W=2;W<d;++W){if(B[te++]=x(g[C],M,b,E),C+=q,T>0)for($=1,k=g[C],J=B[te]=x(k,M,b,E),ne=B[te+re],H=B[te+ae],_e=B[te+le],(J!==ne||J!==H||J!==_e)&&(P=g[C+D],F=g[C+O],I=g[C+L],v(W,$,k,P,F,I,J,ne,H,_e,M,b,E),me=X[te]=j++,_e!==ne&&m(X[te+re],me,I,P,_e,ne,M,b,E)),te+=1,C+=q,$=2;$<T;++$)k=g[C],J=B[te]=x(k,M,b,E),ne=B[te+re],H=B[te+ae],_e=B[te+le],(J!==ne||J!==H||J!==_e)&&(P=g[C+D],F=g[C+O],I=g[C+L],v(W,$,k,P,F,I,J,ne,H,_e,M,b,E),me=X[te]=j++,_e!==H&&m(X[te+ae],me,F,I,H,_e,M,b,E),_e!==ne&&m(X[te+re],me,I,P,_e,ne,M,b,E)),te+=1,C+=q;W&1&&(te=0),ve=re,re=V,V=ve,ve=ae,ae=ee,ee=ve,ve=le,le=de,de=ve,C+=z}}w(X),w(B)}}};function l(c,v,m,x,A,w){var y=[w,A].join(","),_=f[y];return _(c,v,m,s.mallocUint32,s.freeUint32)}function u(c){function v(M){throw new Error("ndarray-extract-contour: "+M)}typeof c!="object"&&v("Must specify arguments");var m=c.order;Array.isArray(m)||v("Must specify order");var x=c.arrayArguments||1;x<1&&v("Must have at least one array argument");var A=c.scalarArguments||0;A<0&&v("Scalar arg count must be > 0"),typeof c.vertex!="function"&&v("Must specify vertex creation function"),typeof c.cell!="function"&&v("Must specify cell creation function"),typeof c.phase!="function"&&v("Must specify phase function");for(var w=c.getters||[],y=new Array(x),_=0;_<x;++_)w.indexOf(_)>=0?y[_]=!0:y[_]=!1;return l(c.vertex,c.cell,c.phase,A,m,y)}},6199:function(a,o,i){"use strict";var s=i(1338),f={zero:function(E,d,T,g){var h=E[0],S=T[0];g|=0;var p=0,C=S;for(p=0;p<h;++p)d[g]=0,g+=C},fdTemplate1:function(E,d,T,g,h,S,p){var C=E[0],k=T[0],D=S[0],P=-1*k,O=k;g|=0,p|=0;var F=0,L=k,I=D;for(F=0;F<C;++F)h[p]=.5*(d[g+P]-d[g+O]),g+=L,p+=I},fdTemplate2:function(E,d,T,g,h,S,p,C,k,D){var P=E[0],O=E[1],F=T[0],L=T[1],I=S[0],q=S[1],z=k[0],W=k[1],$=-1*F,j=F,G=-1*L,B=L;g|=0,p|=0,D|=0;var X=0,te=0,J=L,ae=F-O*L,ee=q,H=I-O*q,re=W,V=z-O*W;for(te=0;te<P;++te){for(X=0;X<O;++X)h[p]=.5*(d[g+$]-d[g+j]),C[D]=.5*(d[g+G]-d[g+B]),g+=J,p+=ee,D+=re;g+=ae,p+=H,D+=V}}},l={cdiff:function(E){var d={};return function(g,h,S){var p=g.dtype,C=g.order,k=h.dtype,D=h.order,P=S.dtype,O=S.order,F=[p,C.join(),k,D.join(),P,O.join()].join(),L=d[F];return L||(d[F]=L=E([p,C,k,D,P,O])),L(g.shape.slice(0),g.data,g.stride,g.offset|0,h.data,h.stride,h.offset|0,S.data,S.stride,S.offset|0)}},zero:function(E){var d={};return function(g){var h=g.dtype,S=g.order,p=[h,S.join()].join(),C=d[p];return C||(d[p]=C=E([h,S])),C(g.shape.slice(0),g.data,g.stride,g.offset|0)}},fdTemplate1:function(E){var d={};return function(g,h){var S=g.dtype,p=g.order,C=h.dtype,k=h.order,D=[S,p.join(),C,k.join()].join(),P=d[D];return P||(d[D]=P=E([S,p,C,k])),P(g.shape.slice(0),g.data,g.stride,g.offset|0,h.data,h.stride,h.offset|0)}},fdTemplate2:function(E){var d={};return function(g,h,S){var p=g.dtype,C=g.order,k=h.dtype,D=h.order,P=S.dtype,O=S.order,F=[p,C.join(),k,D.join(),P,O.join()].join(),L=d[F];return L||(d[F]=L=E([p,C,k,D,P,O])),L(g.shape.slice(0),g.data,g.stride,g.offset|0,h.data,h.stride,h.offset|0,S.data,S.stride,S.offset|0)}}};function u(E){var d=l[E.funcName];return d(c.bind(void 0,E))}function c(E){return f[E.funcName]}function v(E){return u({funcName:E.funcName})}var m={},x={},A={body:"",args:[],thisVars:[],localVars:[]},w=v({funcName:"cdiff"}),y=v({funcName:"zero"});function _(E){return E in m?m[E]:m[E]=v({funcName:"fdTemplate"+E})}function M(E,d,T,g){return function(h,S){var p=S.shape.slice();return p[0]>2&&p[1]>2&&g(S.pick(-1,-1).lo(1,1).hi(p[0]-2,p[1]-2),h.pick(-1,-1,0).lo(1,1).hi(p[0]-2,p[1]-2),h.pick(-1,-1,1).lo(1,1).hi(p[0]-2,p[1]-2)),p[1]>2&&(T(S.pick(0,-1).lo(1).hi(p[1]-2),h.pick(0,-1,1).lo(1).hi(p[1]-2)),d(h.pick(0,-1,0).lo(1).hi(p[1]-2))),p[1]>2&&(T(S.pick(p[0]-1,-1).lo(1).hi(p[1]-2),h.pick(p[0]-1,-1,1).lo(1).hi(p[1]-2)),d(h.pick(p[0]-1,-1,0).lo(1).hi(p[1]-2))),p[0]>2&&(T(S.pick(-1,0).lo(1).hi(p[0]-2),h.pick(-1,0,0).lo(1).hi(p[0]-2)),d(h.pick(-1,0,1).lo(1).hi(p[0]-2))),p[0]>2&&(T(S.pick(-1,p[1]-1).lo(1).hi(p[0]-2),h.pick(-1,p[1]-1,0).lo(1).hi(p[0]-2)),d(h.pick(-1,p[1]-1,1).lo(1).hi(p[0]-2))),h.set(0,0,0,0),h.set(0,0,1,0),h.set(p[0]-1,0,0,0),h.set(p[0]-1,0,1,0),h.set(0,p[1]-1,0,0),h.set(0,p[1]-1,1,0),h.set(p[0]-1,p[1]-1,0,0),h.set(p[0]-1,p[1]-1,1,0),h}}function b(E){var d=E.join(),p=x[d];if(p)return p;for(var T=E.length,g=[w,y],h=1;h<=T;++h)g.push(_(h));var S=M,p=S.apply(void 0,g);return x[d]=p,p}a.exports=function(d,T,g){if(Array.isArray(g)||(typeof g=="string"?g=s(T.dimension,g):g=s(T.dimension,"clamp")),T.size===0)return d;if(T.dimension===0)return d.set(0),d;var h=b(g);return h(d,T)}},4317:function(a){"use strict";function o(u,c){var v=Math.floor(c),m=c-v,x=0<=v&&v<u.shape[0],A=0<=v+1&&v+1<u.shape[0],w=x?+u.get(v):0,y=A?+u.get(v+1):0;return(1-m)*w+m*y}function i(u,c,v){var m=Math.floor(c),x=c-m,A=0<=m&&m<u.shape[0],w=0<=m+1&&m+1<u.shape[0],y=Math.floor(v),_=v-y,M=0<=y&&y<u.shape[1],b=0<=y+1&&y+1<u.shape[1],E=A&&M?u.get(m,y):0,d=A&&b?u.get(m,y+1):0,T=w&&M?u.get(m+1,y):0,g=w&&b?u.get(m+1,y+1):0;return(1-_)*((1-x)*E+x*T)+_*((1-x)*d+x*g)}function s(u,c,v,m){var x=Math.floor(c),A=c-x,w=0<=x&&x<u.shape[0],y=0<=x+1&&x+1<u.shape[0],_=Math.floor(v),M=v-_,b=0<=_&&_<u.shape[1],E=0<=_+1&&_+1<u.shape[1],d=Math.floor(m),T=m-d,g=0<=d&&d<u.shape[2],h=0<=d+1&&d+1<u.shape[2],S=w&&b&&g?u.get(x,_,d):0,p=w&&E&&g?u.get(x,_+1,d):0,C=y&&b&&g?u.get(x+1,_,d):0,k=y&&E&&g?u.get(x+1,_+1,d):0,D=w&&b&&h?u.get(x,_,d+1):0,P=w&&E&&h?u.get(x,_+1,d+1):0,O=y&&b&&h?u.get(x+1,_,d+1):0,F=y&&E&&h?u.get(x+1,_+1,d+1):0;return(1-T)*((1-M)*((1-A)*S+A*C)+M*((1-A)*p+A*k))+T*((1-M)*((1-A)*D+A*O)+M*((1-A)*P+A*F))}function f(u){var c=u.shape.length|0,v=new Array(c),m=new Array(c),x=new Array(c),A=new Array(c),w,y;for(w=0;w<c;++w)y=+arguments[w+1],v[w]=Math.floor(y),m[w]=y-v[w],x[w]=0<=v[w]&&v[w]<u.shape[w],A[w]=0<=v[w]+1&&v[w]+1<u.shape[w];var _=0,M,b,E;e:for(w=0;w<1<<c;++w){for(b=1,E=u.offset,M=0;M<c;++M)if(w&1<<M){if(!A[M])continue e;b*=m[M],E+=u.stride[M]*(v[M]+1)}else{if(!x[M])continue e;b*=1-m[M],E+=u.stride[M]*v[M]}_+=b*u.data[E]}return _}function l(u,c,v,m){switch(u.shape.length){case 0:return 0;case 1:return o(u,c);case 2:return i(u,c,v);case 3:return s(u,c,v,m);default:return f.apply(void 0,arguments)}}a.exports=l,a.exports.d1=o,a.exports.d2=i,a.exports.d3=s},5298:function(a,o){"use strict";var i={"float64,2,1,0":function(){return function(x,A,w,y,_){var M=x[0],b=x[1],E=x[2],d=w[0],T=w[1],g=w[2];y|=0;var h=0,S=0,p=0,C=g,k=T-E*g,D=d-b*T;for(p=0;p<M;++p){for(S=0;S<b;++S){for(h=0;h<E;++h)A[y]/=_,y+=C;y+=k}y+=D}}},"uint8,2,0,1,float64,2,1,0":function(){return function(x,A,w,y,_,M,b,E){var d=x[0],T=x[1],g=x[2],h=w[0],S=w[1],p=w[2],C=M[0],k=M[1],D=M[2];y|=0,b|=0;for(var P=y,O=b,F=x[0]|0;F>0;){F<64?(d=F,F=0):(d=64,F-=64);for(var L=x[1]|0;L>0;){L<64?(T=L,L=0):(T=64,L-=64),y=P+F*h+L*S,b=O+F*C+L*k;var I=0,q=0,z=0,W=p,$=h-g*p,j=S-d*h,G=D,B=C-g*D,X=k-d*C;for(z=0;z<T;++z){for(q=0;q<d;++q){for(I=0;I<g;++I)A[y]=_[b]*E,y+=W,b+=G;y+=$,b+=B}y+=j,b+=X}}}}},"float32,1,0,float32,1,0":function(){return function(x,A,w,y,_,M,b){var E=x[0],d=x[1],T=w[0],g=w[1],h=M[0],S=M[1];y|=0,b|=0;var p=0,C=0,k=g,D=T-d*g,P=S,O=h-d*S;for(C=0;C<E;++C){for(p=0;p<d;++p)A[y]=_[b],y+=k,b+=P;y+=D,b+=O}}},"float32,1,0,float32,0,1":function(){return function(x,A,w,y,_,M,b){var E=x[0],d=x[1],T=w[0],g=w[1],h=M[0],S=M[1];y|=0,b|=0;for(var p=y,C=b,k=x[1]|0;k>0;){k<64?(d=k,k=0):(d=64,k-=64);for(var D=x[0]|0;D>0;){D<64?(E=D,D=0):(E=64,D-=64),y=p+k*g+D*T,b=C+k*S+D*h;var P=0,O=0,F=g,L=T-d*g,I=S,q=h-d*S;for(O=0;O<E;++O){for(P=0;P<d;++P)A[y]=_[b],y+=F,b+=I;y+=L,b+=q}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(x,A,w,y,_,M,b){var E=x[0],d=x[1],T=x[2],g=w[0],h=w[1],S=w[2],p=M[0],C=M[1],k=M[2];y|=0,b|=0;for(var D=y,P=b,O=x[2]|0;O>0;){O<64?(T=O,O=0):(T=64,O-=64);for(var F=x[0]|0;F>0;){F<64?(E=F,F=0):(E=64,F-=64);for(var L=x[1]|0;L>0;){L<64?(d=L,L=0):(d=64,L-=64),y=D+O*S+F*g+L*h,b=P+O*k+F*p+L*C;var I=0,q=0,z=0,W=S,$=g-T*S,j=h-E*g,G=k,B=p-T*k,X=C-E*p;for(z=0;z<d;++z){for(q=0;q<E;++q){for(I=0;I<T;++I)A[y]=_[b],y+=W,b+=G;y+=$,b+=B}y+=j,b+=X}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(x,A,w,y,_,M,b){var E=x[0],d=x[1],T=x[2],g=w[0],h=w[1],S=w[2],p=M[0],C=M[1],k=M[2];y|=0,b|=0;var D=0,P=0,O=0,F=S,L=g-T*S,I=h-E*g,q=k,z=p-T*k,W=C-E*p;for(O=0;O<d;++O){for(P=0;P<E;++P){for(D=0;D<T;++D)A[y]=_[b],y+=F,b+=q;y+=L,b+=z}y+=I,b+=W}}}};function s(m,x){var A=x.join(","),w=i[A];return w()}var f=s,l={mul:function(m){var x={};return function(w,y,_){var M=w.dtype,b=w.order,E=y.dtype,d=y.order,T=_.dtype,g=_.order,h=[M,b.join(),E,d.join(),T,g.join()].join(),S=x[h];return S||(x[h]=S=m([M,b,E,d,T,g])),S(w.shape.slice(0),w.data,w.stride,w.offset|0,y.data,y.stride,y.offset|0,_.data,_.stride,_.offset|0)}},muls:function(m){var x={};return function(w,y,_){var M=w.dtype,b=w.order,E=y.dtype,d=y.order,T=[M,b.join(),E,d.join()].join(),g=x[T];return g||(x[T]=g=m([M,b,E,d])),g(w.shape.slice(0),w.data,w.stride,w.offset|0,y.data,y.stride,y.offset|0,_)}},mulseq:function(m){var x={};return function(w,y){var _=w.dtype,M=w.order,b=[_,M.join()].join(),E=x[b];return E||(x[b]=E=m([_,M])),E(w.shape.slice(0),w.data,w.stride,w.offset|0,y)}},div:function(m){var x={};return function(w,y,_){var M=w.dtype,b=w.order,E=y.dtype,d=y.order,T=_.dtype,g=_.order,h=[M,b.join(),E,d.join(),T,g.join()].join(),S=x[h];return S||(x[h]=S=m([M,b,E,d,T,g])),S(w.shape.slice(0),w.data,w.stride,w.offset|0,y.data,y.stride,y.offset|0,_.data,_.stride,_.offset|0)}},divs:function(m){var x={};return function(w,y,_){var M=w.dtype,b=w.order,E=y.dtype,d=y.order,T=[M,b.join(),E,d.join()].join(),g=x[T];return g||(x[T]=g=m([M,b,E,d])),g(w.shape.slice(0),w.data,w.stride,w.offset|0,y.data,y.stride,y.offset|0,_)}},divseq:function(m){var x={};return function(w,y){var _=w.dtype,M=w.order,b=[_,M.join()].join(),E=x[b];return E||(x[b]=E=m([_,M])),E(w.shape.slice(0),w.data,w.stride,w.offset|0,y)}},assign:function(m){var x={};return function(w,y){var _=w.dtype,M=w.order,b=y.dtype,E=y.order,d=[_,M.join(),b,E.join()].join(),T=x[d];return T||(x[d]=T=m([_,M,b,E])),T(w.shape.slice(0),w.data,w.stride,w.offset|0,y.data,y.stride,y.offset|0)}}};function u(m){var x=l[m.funcName];return x(f.bind(void 0,m))}function c(m){return u({funcName:m.funcName})}var v={mul:"*",div:"/"};(function(){for(var m in v)o[m]=c({funcName:m}),o[m+"s"]=c({funcName:m+"s"}),o[m+"seq"]=c({funcName:m+"seq"})})(),o.assign=c({funcName:"assign"})},9994:function(a,o,i){"use strict";var s=i(9618),f=i(8277);a.exports=function(u,c){for(var v=[],m=u,x=1;Array.isArray(m);)v.push(m.length),x*=m.length,m=m[0];return v.length===0?s():(c||(c=s(new Float64Array(x),v)),f(c,u),c)}},8277:function(a){"use strict";function o(){return function(c,v,m,x,A){var w=c[0],y=c[1],_=c[2],M=m[0],b=m[1],E=m[2],d=[0,0,0];x|=0;var T=0,g=0,h=0,S=E,p=b-_*E,C=M-y*b;for(h=0;h<w;++h){for(g=0;g<y;++g){for(T=0;T<_;++T){{var k=A,D;for(D=0;D<d.length-1;++D)k=k[d[D]];v[x]=k[d[d.length-1]]}x+=S,++d[2]}x+=p,d[2]-=_,++d[1]}x+=C,d[1]-=y,++d[0]}}}function i(){return o()}var s=i;function f(c){var v={};return function(x,A){var w=x.dtype,y=x.order,_=[w,y.join()].join(),M=v[_];return M||(v[_]=M=c([w,y])),M(x.shape.slice(0),x.data,x.stride,x.offset|0,A)}}function l(c){return f(s.bind(void 0,c))}function u(c){return l({funcName:c.funcName})}a.exports=u({funcName:"convert"})},7640:function(a,o,i){"use strict";var s=i(1888);function f(A){switch(A){case"uint32":return[s.mallocUint32,s.freeUint32];default:return null}}var l={"uint32,1,0":function(A,w){return function(_,M,b,E,d,T,g,h,S,p,C){var k,D,P,O=_*d+E,F,L=A(h),I,q,z,W;for(k=_+1;k<=M;++k){for(D=k,O+=d,P=O,I=0,q=O,F=0;F<h;++F)L[I++]=b[q],q+=S;e:for(;D-- >_;){I=0,q=P-d;r:for(F=0;F<h;++F){if(z=b[q],W=L[I],z<W)break e;if(z>W)break r;q+=p,I+=C}for(I=P,q=P-d,F=0;F<h;++F)b[I]=b[q],I+=S,q+=S;P-=d}for(I=P,q=0,F=0;F<h;++F)b[I]=L[q++],I+=S}w(L)}}};function u(A,w){var y=f(w),_=[w,A].join(","),M=l[_];return y?M(y[0],y[1]):M()}var c={"uint32,1,0":function(A,w,y){return function _(M,b,E,d,T,g,h,S,p,C,k){var D=(b-M+1)/6|0,P=M+D,O=b-D,F=M+b>>1,L=F-D,I=F+D,q=P,z=L,W=F,$=I,j=O,G=M+1,B=b-1,X=!0,te,J,ae,ee,H,re,V,ne,le,de=0,_e=0,me=0,ve,be,we,Se,Ae,Ie,Ve,pe,xe,Te,qe,er,ze,Ce,Le,Ne,tr=S,ir=w(tr),mr=w(tr);be=T*q,we=T*z,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=q,q=z,z=J;break e}if(me<0)break e;Ne+=C}be=T*$,we=T*j,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=$,$=j,j=J;break e}if(me<0)break e;Ne+=C}be=T*q,we=T*W,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=q,q=W,W=J;break e}if(me<0)break e;Ne+=C}be=T*z,we=T*W,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=z,z=W,W=J;break e}if(me<0)break e;Ne+=C}be=T*q,we=T*$,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=q,q=$,$=J;break e}if(me<0)break e;Ne+=C}be=T*W,we=T*$,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=W,W=$,$=J;break e}if(me<0)break e;Ne+=C}be=T*z,we=T*j,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=z,z=j,j=J;break e}if(me<0)break e;Ne+=C}be=T*z,we=T*W,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=z,z=W,W=J;break e}if(me<0)break e;Ne+=C}be=T*$,we=T*j,Ne=d;e:for(ve=0;ve<S;++ve){if(V=be+Ne,ne=we+Ne,me=E[V]-E[ne],me>0){J=$,$=j,j=J;break e}if(me<0)break e;Ne+=C}for(be=T*q,we=T*z,Se=T*W,Ae=T*$,Ie=T*j,Ve=T*P,pe=T*F,xe=T*O,Le=0,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,le=Se+Ne,Te=Ae+Ne,qe=Ie+Ne,er=Ve+Ne,ze=pe+Ne,Ce=xe+Ne,ir[Le]=E[ne],mr[Le]=E[Te],X=X&&ir[Le]===mr[Le],ae=E[V],ee=E[le],H=E[qe],E[er]=ae,E[ze]=ee,E[Ce]=H,++Le,Ne+=p;for(be=T*L,we=T*M,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,E[V]=E[ne],Ne+=p;for(be=T*I,we=T*b,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,E[V]=E[ne],Ne+=p;if(X)for(re=G;re<=B;++re){V=d+re*T,Le=0;e:for(ve=0;ve<S;++ve){if(me=E[V]-ir[Le],me!==0)break e;Le+=k,V+=C}if(me!==0)if(me<0){if(re!==G)for(be=T*re,we=T*G,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,te=E[V],E[V]=E[ne],E[ne]=te,Ne+=p;++G}else for(;;){V=d+B*T,Le=0;e:for(ve=0;ve<S;++ve){if(me=E[V]-ir[Le],me!==0)break e;Le+=k,V+=C}if(me>0)B--;else if(me<0){for(be=T*re,we=T*G,Se=T*B,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,le=Se+Ne,te=E[V],E[V]=E[ne],E[ne]=E[le],E[le]=te,Ne+=p;++G,--B;break}else{for(be=T*re,we=T*B,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,te=E[V],E[V]=E[ne],E[ne]=te,Ne+=p;--B;break}}}else for(re=G;re<=B;++re){V=d+re*T,Le=0;e:for(ve=0;ve<S;++ve){if(de=E[V]-ir[Le],de!==0)break e;Le+=k,V+=C}if(de<0){if(re!==G)for(be=T*re,we=T*G,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,te=E[V],E[V]=E[ne],E[ne]=te,Ne+=p;++G}else{V=d+re*T,Le=0;e:for(ve=0;ve<S;++ve){if(_e=E[V]-mr[Le],_e!==0)break e;Le+=k,V+=C}if(_e>0)for(;;){V=d+B*T,Le=0;e:for(ve=0;ve<S;++ve){if(me=E[V]-mr[Le],me!==0)break e;Le+=k,V+=C}if(me>0){if(--B<re)break;continue}else{V=d+B*T,Le=0;e:for(ve=0;ve<S;++ve){if(me=E[V]-ir[Le],me!==0)break e;Le+=k,V+=C}if(me<0){for(be=T*re,we=T*G,Se=T*B,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,le=Se+Ne,te=E[V],E[V]=E[ne],E[ne]=E[le],E[le]=te,Ne+=p;++G,--B}else{for(be=T*re,we=T*B,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,te=E[V],E[V]=E[ne],E[ne]=te,Ne+=p;--B}break}}}}for(be=T*M,we=T*(G-1),Le=0,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,E[V]=E[ne],E[ne]=ir[Le],++Le,Ne+=p;for(be=T*b,we=T*(B+1),Le=0,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,E[V]=E[ne],E[ne]=mr[Le],++Le,Ne+=p;if(G-2-M<=32?A(M,G-2,E,d,T,g,h,S,p,C,k):_(M,G-2,E,d,T,g,h,S,p,C,k),b-(B+2)<=32?A(B+2,b,E,d,T,g,h,S,p,C,k):_(B+2,b,E,d,T,g,h,S,p,C,k),X){y(ir),y(mr);return}if(G<P&&B>O){e:for(;;){for(V=d+G*T,Le=0,Ne=d,ve=0;ve<S;++ve){if(E[V]!==ir[Le])break e;++Le,V+=p}++G}e:for(;;){for(V=d+B*T,Le=0,Ne=d,ve=0;ve<S;++ve){if(E[V]!==mr[Le])break e;++Le,V+=p}--B}for(re=G;re<=B;++re){V=d+re*T,Le=0;e:for(ve=0;ve<S;++ve){if(de=E[V]-ir[Le],de!==0)break e;Le+=k,V+=C}if(de===0){if(re!==G)for(be=T*re,we=T*G,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,te=E[V],E[V]=E[ne],E[ne]=te,Ne+=p;++G}else{V=d+re*T,Le=0;e:for(ve=0;ve<S;++ve){if(_e=E[V]-mr[Le],_e!==0)break e;Le+=k,V+=C}if(_e===0)for(;;){V=d+B*T,Le=0;e:for(ve=0;ve<S;++ve){if(me=E[V]-mr[Le],me!==0)break e;Le+=k,V+=C}if(me===0){if(--B<re)break;continue}else{V=d+B*T,Le=0;e:for(ve=0;ve<S;++ve){if(me=E[V]-ir[Le],me!==0)break e;Le+=k,V+=C}if(me<0){for(be=T*re,we=T*G,Se=T*B,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,le=Se+Ne,te=E[V],E[V]=E[ne],E[ne]=E[le],E[le]=te,Ne+=p;++G,--B}else{for(be=T*re,we=T*B,Ne=d,ve=0;ve<S;++ve)V=be+Ne,ne=we+Ne,te=E[V],E[V]=E[ne],E[ne]=te,Ne+=p;--B}break}}}}}y(ir),y(mr),B-G<=32?A(G,B,E,d,T,g,h,S,p,C,k):_(G,B,E,d,T,g,h,S,p,C,k)}}};function v(A,w,y){var _=f(w),M=[w,A].join(","),b=c[M];return A.length>1&&_?b(y,_[0],_[1]):b(y)}var m={"uint32,1,0":function(A,w){return function(y){var _=y.data,M=y.offset|0,b=y.shape,E=y.stride,d=E[0]|0,T=b[0]|0,g=E[1]|0,h=b[1]|0,S=g,p=g,C=1;T<=32?A(0,T-1,_,M,d,g,T,h,S,p,C):w(0,T-1,_,M,d,g,T,h,S,p,C)}}};function x(A,w){var y=[w,A].join(","),_=m[y],M=u(A,w),b=v(A,w,M);return _(M,b)}a.exports=x},446:function(a,o,i){"use strict";var s=i(7640),f={};function l(u){var c=u.order,v=u.dtype,m=[c,v],x=m.join(":"),A=f[x];return A||(f[x]=A=s(c,v)),A(u),u}a.exports=l},9618:function(a,o,i){var s=i(7163),f=typeof Float64Array!="undefined";function l(w,y){return w[0]-y[0]}function u(){var w=this.stride,y=new Array(w.length),_;for(_=0;_<y.length;++_)y[_]=[Math.abs(w[_]),_];y.sort(l);var M=new Array(y.length);for(_=0;_<M.length;++_)M[_]=y[_][1];return M}var c={T:function(w){function y(M){this.data=M}var _=y.prototype;return _.dtype=w,_.index=function(){return-1},_.size=0,_.dimension=-1,_.shape=_.stride=_.order=[],_.lo=_.hi=_.transpose=_.step=function(){return new y(this.data)},_.get=_.set=function(){},_.pick=function(){return null},function(b){return new y(b)}},0:function(w,y){function _(b,E){this.data=b,this.offset=E}var M=_.prototype;return M.dtype=w,M.index=function(){return this.offset},M.dimension=0,M.size=1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new _(this.data,this.offset)},M.pick=function(){return y(this.data)},M.valueOf=M.get=function(){return w==="generic"?this.data.get(this.offset):this.data[this.offset]},M.set=function(E){return w==="generic"?this.data.set(this.offset,E):this.data[this.offset]=E},function(E,d,T,g){return new _(E,g)}},1:function(w,y,_){function M(E,d,T,g){this.data=E,this.shape=[d],this.stride=[T],this.offset=g|0}var b=M.prototype;return b.dtype=w,b.dimension=1,Object.defineProperty(b,"size",{get:function(){return this.shape[0]}}),b.order=[0],b.set=function(d,T){return w==="generic"?this.data.set(this.offset+this.stride[0]*d,T):this.data[this.offset+this.stride[0]*d]=T},b.get=function(d){return w==="generic"?this.data.get(this.offset+this.stride[0]*d):this.data[this.offset+this.stride[0]*d]},b.index=function(d){return this.offset+this.stride[0]*d},b.hi=function(d){return new M(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,this.stride[0],this.offset)},b.lo=function(d){var T=this.offset,g=0,h=this.shape[0],S=this.stride[0];return typeof d=="number"&&d>=0&&(g=d|0,T+=S*g,h-=g),new M(this.data,h,S,T)},b.step=function(d){var T=this.shape[0],g=this.stride[0],h=this.offset,S=0,p=Math.ceil;return typeof d=="number"&&(S=d|0,S<0?(h+=g*(T-1),T=p(-T/S)):T=p(T/S),g*=S),new M(this.data,T,g,h)},b.transpose=function(d){d=d===void 0?0:d|0;var T=this.shape,g=this.stride;return new M(this.data,T[d],g[d],this.offset)},b.pick=function(d){var T=[],g=[],h=this.offset;typeof d=="number"&&d>=0?h=h+this.stride[0]*d|0:(T.push(this.shape[0]),g.push(this.stride[0]));var S=y[T.length+1];return S(this.data,T,g,h)},function(d,T,g,h){return new M(d,T[0],g[0],h)}},2:function(w,y,_){function M(E,d,T,g,h,S){this.data=E,this.shape=[d,T],this.stride=[g,h],this.offset=S|0}var b=M.prototype;return b.dtype=w,b.dimension=2,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(b,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),b.set=function(d,T,g){return w==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*T,g):this.data[this.offset+this.stride[0]*d+this.stride[1]*T]=g},b.get=function(d,T){return w==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*T):this.data[this.offset+this.stride[0]*d+this.stride[1]*T]},b.index=function(d,T){return this.offset+this.stride[0]*d+this.stride[1]*T},b.hi=function(d,T){return new M(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof T!="number"||T<0?this.shape[1]:T|0,this.stride[0],this.stride[1],this.offset)},b.lo=function(d,T){var g=this.offset,h=0,S=this.shape[0],p=this.shape[1],C=this.stride[0],k=this.stride[1];return typeof d=="number"&&d>=0&&(h=d|0,g+=C*h,S-=h),typeof T=="number"&&T>=0&&(h=T|0,g+=k*h,p-=h),new M(this.data,S,p,C,k,g)},b.step=function(d,T){var g=this.shape[0],h=this.shape[1],S=this.stride[0],p=this.stride[1],C=this.offset,k=0,D=Math.ceil;return typeof d=="number"&&(k=d|0,k<0?(C+=S*(g-1),g=D(-g/k)):g=D(g/k),S*=k),typeof T=="number"&&(k=T|0,k<0?(C+=p*(h-1),h=D(-h/k)):h=D(h/k),p*=k),new M(this.data,g,h,S,p,C)},b.transpose=function(d,T){d=d===void 0?0:d|0,T=T===void 0?1:T|0;var g=this.shape,h=this.stride;return new M(this.data,g[d],g[T],h[d],h[T],this.offset)},b.pick=function(d,T){var g=[],h=[],S=this.offset;typeof d=="number"&&d>=0?S=S+this.stride[0]*d|0:(g.push(this.shape[0]),h.push(this.stride[0])),typeof T=="number"&&T>=0?S=S+this.stride[1]*T|0:(g.push(this.shape[1]),h.push(this.stride[1]));var p=y[g.length+1];return p(this.data,g,h,S)},function(d,T,g,h){return new M(d,T[0],T[1],g[0],g[1],h)}},3:function(w,y,_){function M(E,d,T,g,h,S,p,C){this.data=E,this.shape=[d,T,g],this.stride=[h,S,p],this.offset=C|0}var b=M.prototype;return b.dtype=w,b.dimension=3,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(b,"order",{get:function(){var d=Math.abs(this.stride[0]),T=Math.abs(this.stride[1]),g=Math.abs(this.stride[2]);return d>T?T>g?[2,1,0]:d>g?[1,2,0]:[1,0,2]:d>g?[2,0,1]:g>T?[0,1,2]:[0,2,1]}}),b.set=function(d,T,g,h){return w==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g,h):this.data[this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g]=h},b.get=function(d,T,g){return w==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g):this.data[this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g]},b.index=function(d,T,g){return this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g},b.hi=function(d,T,g){return new M(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof g!="number"||g<0?this.shape[2]:g|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},b.lo=function(d,T,g){var h=this.offset,S=0,p=this.shape[0],C=this.shape[1],k=this.shape[2],D=this.stride[0],P=this.stride[1],O=this.stride[2];return typeof d=="number"&&d>=0&&(S=d|0,h+=D*S,p-=S),typeof T=="number"&&T>=0&&(S=T|0,h+=P*S,C-=S),typeof g=="number"&&g>=0&&(S=g|0,h+=O*S,k-=S),new M(this.data,p,C,k,D,P,O,h)},b.step=function(d,T,g){var h=this.shape[0],S=this.shape[1],p=this.shape[2],C=this.stride[0],k=this.stride[1],D=this.stride[2],P=this.offset,O=0,F=Math.ceil;return typeof d=="number"&&(O=d|0,O<0?(P+=C*(h-1),h=F(-h/O)):h=F(h/O),C*=O),typeof T=="number"&&(O=T|0,O<0?(P+=k*(S-1),S=F(-S/O)):S=F(S/O),k*=O),typeof g=="number"&&(O=g|0,O<0?(P+=D*(p-1),p=F(-p/O)):p=F(p/O),D*=O),new M(this.data,h,S,p,C,k,D,P)},b.transpose=function(d,T,g){d=d===void 0?0:d|0,T=T===void 0?1:T|0,g=g===void 0?2:g|0;var h=this.shape,S=this.stride;return new M(this.data,h[d],h[T],h[g],S[d],S[T],S[g],this.offset)},b.pick=function(d,T,g){var h=[],S=[],p=this.offset;typeof d=="number"&&d>=0?p=p+this.stride[0]*d|0:(h.push(this.shape[0]),S.push(this.stride[0])),typeof T=="number"&&T>=0?p=p+this.stride[1]*T|0:(h.push(this.shape[1]),S.push(this.stride[1])),typeof g=="number"&&g>=0?p=p+this.stride[2]*g|0:(h.push(this.shape[2]),S.push(this.stride[2]));var C=y[h.length+1];return C(this.data,h,S,p)},function(d,T,g,h){return new M(d,T[0],T[1],T[2],g[0],g[1],g[2],h)}},4:function(w,y,_){function M(E,d,T,g,h,S,p,C,k,D){this.data=E,this.shape=[d,T,g,h],this.stride=[S,p,C,k],this.offset=D|0}var b=M.prototype;return b.dtype=w,b.dimension=4,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(b,"order",{get:_}),b.set=function(d,T,g,h,S){return w==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g+this.stride[3]*h,S):this.data[this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g+this.stride[3]*h]=S},b.get=function(d,T,g,h){return w==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g+this.stride[3]*h):this.data[this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g+this.stride[3]*h]},b.index=function(d,T,g,h){return this.offset+this.stride[0]*d+this.stride[1]*T+this.stride[2]*g+this.stride[3]*h},b.hi=function(d,T,g,h){return new M(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof g!="number"||g<0?this.shape[2]:g|0,typeof h!="number"||h<0?this.shape[3]:h|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},b.lo=function(d,T,g,h){var S=this.offset,p=0,C=this.shape[0],k=this.shape[1],D=this.shape[2],P=this.shape[3],O=this.stride[0],F=this.stride[1],L=this.stride[2],I=this.stride[3];return typeof d=="number"&&d>=0&&(p=d|0,S+=O*p,C-=p),typeof T=="number"&&T>=0&&(p=T|0,S+=F*p,k-=p),typeof g=="number"&&g>=0&&(p=g|0,S+=L*p,D-=p),typeof h=="number"&&h>=0&&(p=h|0,S+=I*p,P-=p),new M(this.data,C,k,D,P,O,F,L,I,S)},b.step=function(d,T,g,h){var S=this.shape[0],p=this.shape[1],C=this.shape[2],k=this.shape[3],D=this.stride[0],P=this.stride[1],O=this.stride[2],F=this.stride[3],L=this.offset,I=0,q=Math.ceil;return typeof d=="number"&&(I=d|0,I<0?(L+=D*(S-1),S=q(-S/I)):S=q(S/I),D*=I),typeof T=="number"&&(I=T|0,I<0?(L+=P*(p-1),p=q(-p/I)):p=q(p/I),P*=I),typeof g=="number"&&(I=g|0,I<0?(L+=O*(C-1),C=q(-C/I)):C=q(C/I),O*=I),typeof h=="number"&&(I=h|0,I<0?(L+=F*(k-1),k=q(-k/I)):k=q(k/I),F*=I),new M(this.data,S,p,C,k,D,P,O,F,L)},b.transpose=function(d,T,g,h){d=d===void 0?0:d|0,T=T===void 0?1:T|0,g=g===void 0?2:g|0,h=h===void 0?3:h|0;var S=this.shape,p=this.stride;return new M(this.data,S[d],S[T],S[g],S[h],p[d],p[T],p[g],p[h],this.offset)},b.pick=function(d,T,g,h){var S=[],p=[],C=this.offset;typeof d=="number"&&d>=0?C=C+this.stride[0]*d|0:(S.push(this.shape[0]),p.push(this.stride[0])),typeof T=="number"&&T>=0?C=C+this.stride[1]*T|0:(S.push(this.shape[1]),p.push(this.stride[1])),typeof g=="number"&&g>=0?C=C+this.stride[2]*g|0:(S.push(this.shape[2]),p.push(this.stride[2])),typeof h=="number"&&h>=0?C=C+this.stride[3]*h|0:(S.push(this.shape[3]),p.push(this.stride[3]));var k=y[S.length+1];return k(this.data,S,p,C)},function(d,T,g,h){return new M(d,T[0],T[1],T[2],T[3],g[0],g[1],g[2],g[3],h)}},5:function(y,_,M){function b(d,T,g,h,S,p,C,k,D,P,O,F){this.data=d,this.shape=[T,g,h,S,p],this.stride=[C,k,D,P,O],this.offset=F|0}var E=b.prototype;return E.dtype=y,E.dimension=5,Object.defineProperty(E,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(E,"order",{get:M}),E.set=function(T,g,h,S,p,C){return y==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*p,C):this.data[this.offset+this.stride[0]*T+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*p]=C},E.get=function(T,g,h,S,p){return y==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*p):this.data[this.offset+this.stride[0]*T+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*p]},E.index=function(T,g,h,S,p){return this.offset+this.stride[0]*T+this.stride[1]*g+this.stride[2]*h+this.stride[3]*S+this.stride[4]*p},E.hi=function(T,g,h,S,p){return new b(this.data,typeof T!="number"||T<0?this.shape[0]:T|0,typeof g!="number"||g<0?this.shape[1]:g|0,typeof h!="number"||h<0?this.shape[2]:h|0,typeof S!="number"||S<0?this.shape[3]:S|0,typeof p!="number"||p<0?this.shape[4]:p|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},E.lo=function(T,g,h,S,p){var C=this.offset,k=0,D=this.shape[0],P=this.shape[1],O=this.shape[2],F=this.shape[3],L=this.shape[4],I=this.stride[0],q=this.stride[1],z=this.stride[2],W=this.stride[3],$=this.stride[4];return typeof T=="number"&&T>=0&&(k=T|0,C+=I*k,D-=k),typeof g=="number"&&g>=0&&(k=g|0,C+=q*k,P-=k),typeof h=="number"&&h>=0&&(k=h|0,C+=z*k,O-=k),typeof S=="number"&&S>=0&&(k=S|0,C+=W*k,F-=k),typeof p=="number"&&p>=0&&(k=p|0,C+=$*k,L-=k),new b(this.data,D,P,O,F,L,I,q,z,W,$,C)},E.step=function(T,g,h,S,p){var C=this.shape[0],k=this.shape[1],D=this.shape[2],P=this.shape[3],O=this.shape[4],F=this.stride[0],L=this.stride[1],I=this.stride[2],q=this.stride[3],z=this.stride[4],W=this.offset,$=0,j=Math.ceil;return typeof T=="number"&&($=T|0,$<0?(W+=F*(C-1),C=j(-C/$)):C=j(C/$),F*=$),typeof g=="number"&&($=g|0,$<0?(W+=L*(k-1),k=j(-k/$)):k=j(k/$),L*=$),typeof h=="number"&&($=h|0,$<0?(W+=I*(D-1),D=j(-D/$)):D=j(D/$),I*=$),typeof S=="number"&&($=S|0,$<0?(W+=q*(P-1),P=j(-P/$)):P=j(P/$),q*=$),typeof p=="number"&&($=p|0,$<0?(W+=z*(O-1),O=j(-O/$)):O=j(O/$),z*=$),new b(this.data,C,k,D,P,O,F,L,I,q,z,W)},E.transpose=function(T,g,h,S,p){T=T===void 0?0:T|0,g=g===void 0?1:g|0,h=h===void 0?2:h|0,S=S===void 0?3:S|0,p=p===void 0?4:p|0;var C=this.shape,k=this.stride;return new b(this.data,C[T],C[g],C[h],C[S],C[p],k[T],k[g],k[h],k[S],k[p],this.offset)},E.pick=function(T,g,h,S,p){var C=[],k=[],D=this.offset;typeof T=="number"&&T>=0?D=D+this.stride[0]*T|0:(C.push(this.shape[0]),k.push(this.stride[0])),typeof g=="number"&&g>=0?D=D+this.stride[1]*g|0:(C.push(this.shape[1]),k.push(this.stride[1])),typeof h=="number"&&h>=0?D=D+this.stride[2]*h|0:(C.push(this.shape[2]),k.push(this.stride[2])),typeof S=="number"&&S>=0?D=D+this.stride[3]*S|0:(C.push(this.shape[3]),k.push(this.stride[3])),typeof p=="number"&&p>=0?D=D+this.stride[4]*p|0:(C.push(this.shape[4]),k.push(this.stride[4]));var P=_[C.length+1];return P(this.data,C,k,D)},function(T,g,h,S){return new b(T,g[0],g[1],g[2],g[3],g[4],h[0],h[1],h[2],h[3],h[4],S)}}};function v(w,y){var _=y===-1?"T":String(y),M=c[_];return y===-1?M(w):y===0?M(w,x[w][0]):M(w,x[w],u)}function m(w){if(s(w))return"buffer";if(f)switch(Object.prototype.toString.call(w)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(w)?"array":"generic"}var x={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function A(w,y,_,M){if(w===void 0){var h=x.array[0];return h([])}else typeof w=="number"&&(w=[w]);y===void 0&&(y=[w.length]);var b=y.length;if(_===void 0){_=new Array(b);for(var E=b-1,d=1;E>=0;--E)_[E]=d,d*=y[E]}if(M===void 0){M=0;for(var E=0;E<b;++E)_[E]<0&&(M-=(y[E]-1)*_[E])}for(var T=m(w),g=x[T];g.length<=b+1;)g.push(v(T,g.length-1));var h=g[b+1];return h(w,y,_,M)}a.exports=A},1278:function(a,o,i){"use strict";var s=i(2361),f=Math.pow(2,-1074),l=-1>>>0;a.exports=u;function u(c,v){if(isNaN(c)||isNaN(v))return NaN;if(c===v)return c;if(c===0)return v<0?-f:f;var m=s.hi(c),x=s.lo(c);return v>c==c>0?x===l?(m+=1,x=0):x+=1:x===0?(x=l,m-=1):x-=1,s.pack(x,m)}},8406:function(a,o){var i=1e-6,s=1e-6;o.vertexNormals=function(f,l,u){for(var c=l.length,v=new Array(c),m=u===void 0?i:u,x=0;x<c;++x)v[x]=[0,0,0];for(var x=0;x<f.length;++x)for(var A=f[x],w=0,y=A[A.length-1],_=A[0],M=0;M<A.length;++M){w=y,y=_,_=A[(M+1)%A.length];for(var b=l[w],E=l[y],d=l[_],T=new Array(3),g=0,h=new Array(3),S=0,p=0;p<3;++p)T[p]=b[p]-E[p],g+=T[p]*T[p],h[p]=d[p]-E[p],S+=h[p]*h[p];if(g*S>m)for(var C=v[y],k=1/Math.sqrt(g*S),p=0;p<3;++p){var D=(p+1)%3,P=(p+2)%3;C[p]+=k*(h[D]*T[P]-h[P]*T[D])}}for(var x=0;x<c;++x){for(var C=v[x],O=0,p=0;p<3;++p)O+=C[p]*C[p];if(O>m)for(var k=1/Math.sqrt(O),p=0;p<3;++p)C[p]*=k;else for(var p=0;p<3;++p)C[p]=0}return v},o.faceNormals=function(f,l,u){for(var c=f.length,v=new Array(c),m=u===void 0?s:u,x=0;x<c;++x){for(var A=f[x],w=new Array(3),y=0;y<3;++y)w[y]=l[A[y]];for(var _=new Array(3),M=new Array(3),y=0;y<3;++y)_[y]=w[1][y]-w[0][y],M[y]=w[2][y]-w[0][y];for(var b=new Array(3),E=0,y=0;y<3;++y){var d=(y+1)%3,T=(y+2)%3;b[y]=_[d]*M[T]-_[T]*M[d],E+=b[y]*b[y]}E>m?E=1/Math.sqrt(E):E=0;for(var y=0;y<3;++y)b[y]*=E;v[x]=b}return v}},4081:function(a){"use strict";a.exports=o;function o(i,s,f,l,u,c,v,m,x,A){var w=s+c+A;if(y>0){var y=Math.sqrt(w+1);i[0]=.5*(v-x)/y,i[1]=.5*(m-l)/y,i[2]=.5*(f-c)/y,i[3]=.5*y}else{var _=Math.max(s,c,A),y=Math.sqrt(2*_-w+1);s>=_?(i[0]=.5*y,i[1]=.5*(u+f)/y,i[2]=.5*(m+l)/y,i[3]=.5*(v-x)/y):c>=_?(i[0]=.5*(f+u)/y,i[1]=.5*y,i[2]=.5*(x+v)/y,i[3]=.5*(m-l)/y):(i[0]=.5*(l+m)/y,i[1]=.5*(v+x)/y,i[2]=.5*y,i[3]=.5*(f-u)/y)}return i}},9977:function(a,o,i){"use strict";a.exports=y;var s=i(9215),f=i(6582),l=i(7399),u=i(7608),c=i(4081);function v(_,M,b){return Math.sqrt(Math.pow(_,2)+Math.pow(M,2)+Math.pow(b,2))}function m(_,M,b,E){return Math.sqrt(Math.pow(_,2)+Math.pow(M,2)+Math.pow(b,2)+Math.pow(E,2))}function x(_,M){var b=M[0],E=M[1],d=M[2],T=M[3],g=m(b,E,d,T);g>1e-6?(_[0]=b/g,_[1]=E/g,_[2]=d/g,_[3]=T/g):(_[0]=_[1]=_[2]=0,_[3]=1)}function A(_,M,b){this.radius=s([b]),this.center=s(M),this.rotation=s(_),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var w=A.prototype;w.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},w.recalcMatrix=function(_){this.radius.curve(_),this.center.curve(_),this.rotation.curve(_);var M=this.computedRotation;x(M,M);var b=this.computedMatrix;l(b,M);var E=this.computedCenter,d=this.computedEye,T=this.computedUp,g=Math.exp(this.computedRadius[0]);d[0]=E[0]+g*b[2],d[1]=E[1]+g*b[6],d[2]=E[2]+g*b[10],T[0]=b[1],T[1]=b[5],T[2]=b[9];for(var h=0;h<3;++h){for(var S=0,p=0;p<3;++p)S+=b[h+4*p]*d[p];b[12+h]=-S}},w.getMatrix=function(_,M){this.recalcMatrix(_);var b=this.computedMatrix;if(M){for(var E=0;E<16;++E)M[E]=b[E];return M}return b},w.idle=function(_){this.center.idle(_),this.radius.idle(_),this.rotation.idle(_)},w.flush=function(_){this.center.flush(_),this.radius.flush(_),this.rotation.flush(_)},w.pan=function(_,M,b,E){M=M||0,b=b||0,E=E||0,this.recalcMatrix(_);var d=this.computedMatrix,T=d[1],g=d[5],h=d[9],S=v(T,g,h);T/=S,g/=S,h/=S;var p=d[0],C=d[4],k=d[8],D=p*T+C*g+k*h;p-=T*D,C-=g*D,k-=h*D;var P=v(p,C,k);p/=P,C/=P,k/=P;var O=d[2],F=d[6],L=d[10],I=O*T+F*g+L*h,q=O*p+F*C+L*k;O-=I*T+q*p,F-=I*g+q*C,L-=I*h+q*k;var z=v(O,F,L);O/=z,F/=z,L/=z;var W=p*M+T*b,$=C*M+g*b,j=k*M+h*b;this.center.move(_,W,$,j);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+E),this.radius.set(_,Math.log(G))},w.rotate=function(_,M,b,E){this.recalcMatrix(_),M=M||0,b=b||0;var d=this.computedMatrix,T=d[0],g=d[4],h=d[8],S=d[1],p=d[5],C=d[9],k=d[2],D=d[6],P=d[10],O=M*T+b*S,F=M*g+b*p,L=M*h+b*C,I=-(D*L-P*F),q=-(P*O-k*L),z=-(k*F-D*O),W=Math.sqrt(Math.max(0,1-Math.pow(I,2)-Math.pow(q,2)-Math.pow(z,2))),$=m(I,q,z,W);$>1e-6?(I/=$,q/=$,z/=$,W/=$):(I=q=z=0,W=1);var j=this.computedRotation,G=j[0],B=j[1],X=j[2],te=j[3],J=G*W+te*I+B*z-X*q,ae=B*W+te*q+X*I-G*z,ee=X*W+te*z+G*q-B*I,H=te*W-G*I-B*q-X*z;if(E){I=k,q=D,z=P;var re=Math.sin(E)/v(I,q,z);I*=re,q*=re,z*=re,W=Math.cos(M),J=J*W+H*I+ae*z-ee*q,ae=ae*W+H*q+ee*I-J*z,ee=ee*W+H*z+J*q-ae*I,H=H*W-J*I-ae*q-ee*z}var V=m(J,ae,ee,H);V>1e-6?(J/=V,ae/=V,ee/=V,H/=V):(J=ae=ee=0,H=1),this.rotation.set(_,J,ae,ee,H)},w.lookAt=function(_,M,b,E){this.recalcMatrix(_),b=b||this.computedCenter,M=M||this.computedEye,E=E||this.computedUp;var d=this.computedMatrix;f(d,M,b,E);var T=this.computedRotation;c(T,d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]),x(T,T),this.rotation.set(_,T[0],T[1],T[2],T[3]);for(var g=0,h=0;h<3;++h)g+=Math.pow(b[h]-M[h],2);this.radius.set(_,.5*Math.log(Math.max(g,1e-6))),this.center.set(_,b[0],b[1],b[2])},w.translate=function(_,M,b,E){this.center.move(_,M||0,b||0,E||0)},w.setMatrix=function(_,M){var b=this.computedRotation;c(b,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),x(b,b),this.rotation.set(_,b[0],b[1],b[2],b[3]);var E=this.computedMatrix;u(E,M);var d=E[15];if(Math.abs(d)>1e-6){var T=E[12]/d,g=E[13]/d,h=E[14]/d;this.recalcMatrix(_);var S=Math.exp(this.computedRadius[0]);this.center.set(_,T-E[2]*S,g-E[6]*S,h-E[10]*S),this.radius.idle(_)}else this.center.idle(_),this.radius.idle(_)},w.setDistance=function(_,M){M>0&&this.radius.set(_,Math.log(M))},w.setDistanceLimits=function(_,M){_>0?_=Math.log(_):_=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,_),this.radius.bounds[0][0]=_,this.radius.bounds[1][0]=M},w.getDistanceLimits=function(_){var M=this.radius.bounds;return _?(_[0]=Math.exp(M[0][0]),_[1]=Math.exp(M[1][0]),_):[Math.exp(M[0][0]),Math.exp(M[1][0])]},w.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},w.fromJSON=function(_){var M=this.lastT(),b=_.center;b&&this.center.set(M,b[0],b[1],b[2]);var E=_.rotation;E&&this.rotation.set(M,E[0],E[1],E[2],E[3]);var d=_.distance;d&&d>0&&this.radius.set(M,Math.log(d)),this.setDistanceLimits(_.zoomMin,_.zoomMax)};function y(_){_=_||{};var M=_.center||[0,0,0],b=_.rotation||[0,0,0,1],E=_.radius||1;M=[].slice.call(M,0,3),b=[].slice.call(b,0,4),x(b,b);var d=new A(b,M,Math.log(E));return d.setDistanceLimits(_.zoomMin,_.zoomMax),("eye"in _||"up"in _)&&d.lookAt(0,_.eye,_.center,_.up),d}},1371:function(a,o,i){"use strict";var s=i(3233);a.exports=function(l,u,c){return c=typeof c!="undefined"?c+"":" ",s(c,u)+l}},3202:function(a){a.exports=function(i,s){s||(s=[0,""]),i=String(i);var f=parseFloat(i,10);return s[0]=f,s[1]=i.match(/[\d.\-\+]*\s*(.*)/)[1]||"",s}},3088:function(a,o,i){"use strict";a.exports=f;var s=i(3140);function f(l,u){for(var c=u.length|0,v=l.length,m=[new Array(c),new Array(c)],x=0;x<c;++x)m[0][x]=[],m[1][x]=[];for(var x=0;x<v;++x){var A=l[x];m[0][A[0]].push(A),m[1][A[1]].push(A)}for(var w=[],x=0;x<c;++x)m[0][x].length+m[1][x].length===0&&w.push([x]);function y(h,S){var p=m[S][h[S]];p.splice(p.indexOf(h),1)}function _(h,S,p){for(var C,k,D,P=0;P<2;++P)if(m[P][S].length>0){C=m[P][S][0],D=P;break}k=C[D^1];for(var O=0;O<2;++O)for(var F=m[O][S],L=0;L<F.length;++L){var I=F[L],q=I[O^1],z=s(u[h],u[S],u[k],u[q]);z>0&&(C=I,k=q,D=O)}return p||C&&y(C,D),k}function M(h,S){var p=m[S][h][0],C=[h];y(p,S);for(var k=p[S^1],D=S;;){for(;k!==h;)C.push(k),k=_(C[C.length-2],k,!1);if(m[0][h].length+m[1][h].length===0)break;var P=C[C.length-1],O=h,F=C[1],L=_(P,O,!0);if(s(u[P],u[O],u[F],u[L])<0)break;C.push(h),k=_(P,O)}return C}function b(h,S){return S[1]===S[S.length-1]}for(var x=0;x<c;++x)for(var E=0;E<2;++E){for(var d=[];m[E][x].length>0;){var T=m[0][x].length,g=M(x,E);b(d,g)?d.push.apply(d,g):(d.length>0&&w.push(d),d=g)}d.length>0&&w.push(d)}return w}},5609:function(a,o,i){"use strict";a.exports=f;var s=i(3134);function f(l,u){for(var c=s(l,u.length),v=new Array(u.length),m=new Array(u.length),x=[],A=0;A<u.length;++A){var w=c[A].length;m[A]=w,v[A]=!0,w<=1&&x.push(A)}for(;x.length>0;){var y=x.pop();v[y]=!1;for(var _=c[y],A=0;A<_.length;++A){var M=_[A];--m[M]===0&&x.push(M)}}for(var b=new Array(u.length),E=[],A=0;A<u.length;++A)if(v[A]){var y=E.length;b[A]=y,E.push(u[A])}else b[A]=-1;for(var d=[],A=0;A<l.length;++A){var T=l[A];v[T[0]]&&v[T[1]]&&d.push([b[T[0]],b[T[1]]])}return[d,E]}},2095:function(a,o,i){"use strict";a.exports=w;var s=i(3134),f=i(3088),l=i(5085),u=i(5250),c=i(8210),v=i(1682),m=i(5609);function x(y,_){for(var M=new Array(y),b=0;b<y;++b)M[b]=_;return M}function A(y){for(var _=new Array(y),M=0;M<y;++M)_[M]=[];return _}function w(y,_){var re=m(y,_);y=re[0],_=re[1];for(var M=_.length,b=y.length,E=s(y,_.length),d=0;d<M;++d)if(E[d].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var T=f(y,_);function g(ve){for(var be=ve.length,we=[0],Se=0;Se<be;++Se){var Ae=_[ve[Se]],Ie=_[ve[(Se+1)%be]],Ve=u(-Ae[0],Ae[1]),pe=u(-Ae[0],Ie[1]),xe=u(Ie[0],Ae[1]),Te=u(Ie[0],Ie[1]);we=c(we,c(c(Ve,pe),c(xe,Te)))}return we[we.length-1]>0}T=T.filter(g);for(var h=T.length,S=new Array(h),p=new Array(h),d=0;d<h;++d){S[d]=d;var C=new Array(h),k=T[d].map(function(be){return _[be]}),D=l([k]),P=0;e:for(var O=0;O<h;++O)if(C[O]=0,d!==O){for(var F=T[O],L=F.length,I=0;I<L;++I){var q=D(_[F[I]]);if(q!==0){q<0&&(C[O]=1,P+=1);continue e}}C[O]=1,P+=1}p[d]=[P,d,C]}p.sort(function(ve,be){return be[0]-ve[0]});for(var d=0;d<h;++d)for(var C=p[d],z=C[1],W=C[2],O=0;O<h;++O)W[O]&&(S[O]=z);for(var $=A(h),d=0;d<h;++d)$[d].push(S[d]),$[S[d]].push(d);for(var j={},G=x(M,!1),d=0;d<h;++d)for(var F=T[d],L=F.length,O=0;O<L;++O){var B=F[O],X=F[(O+1)%L],te=Math.min(B,X)+":"+Math.max(B,X);if(te in j){var J=j[te];$[J].push(d),$[d].push(J),G[B]=G[X]=!0}else j[te]=d}function ae(ve){for(var be=ve.length,we=0;we<be;++we)if(!G[ve[we]])return!1;return!0}for(var ee=[],H=x(h,-1),d=0;d<h;++d)S[d]===d&&!ae(T[d])?(ee.push(d),H[d]=0):H[d]=-1;for(var re=[];ee.length>0;){var V=ee.pop(),ne=$[V];v(ne,function(ve,be){return ve-be});var le=ne.length,de=H[V],_e;if(de===0){var F=T[V];_e=[F]}for(var d=0;d<le;++d){var me=ne[d];if(!(H[me]>=0)&&(H[me]=de^1,ee.push(me),de===0)){var F=T[me];ae(F)||(F.reverse(),_e.push(F))}}de===0&&re.push(_e)}return re}},5085:function(a,o,i){a.exports=_;var s=i(3250)[3],f=i(4209),l=i(3352),u=i(2478);function c(){return!0}function v(M){return function(b,E){var d=M[b];return d?!!d.queryPoint(E,c):!1}}function m(M){for(var b={},E=0;E<M.length;++E){var d=M[E],T=d[0][0],g=d[0][1],h=d[1][1],S=[Math.min(g,h),Math.max(g,h)];T in b?b[T].push(S):b[T]=[S]}for(var p={},C=Object.keys(b),E=0;E<C.length;++E){var k=b[C[E]];p[C[E]]=l(k)}return v(p)}function x(M,b){return function(E){var d=u.le(b,E[0]);if(d<0)return 1;var T=M[d];if(!T)if(d>0&&b[d]===E[0])T=M[d-1];else return 1;for(var g=1;T;){var h=T.key,S=s(E,h[0],h[1]);if(h[0][0]<h[1][0])if(S<0)T=T.left;else if(S>0)g=-1,T=T.right;else return 0;else if(S>0)T=T.left;else if(S<0)g=1,T=T.right;else return 0}return g}}function A(M){return 1}function w(M){return function(E){return M(E[0],E[1])?0:1}}function y(M,b){return function(d){return M(d[0],d[1])?0:b(d)}}function _(M){for(var b=M.length,E=[],d=[],T=0,g=0;g<b;++g)for(var h=M[g],S=h.length,p=S-1,C=0;C<S;p=C++){var k=h[p],D=h[C];k[0]===D[0]?d.push([k,D]):E.push([k,D])}if(E.length===0)return d.length===0?A:w(m(d));var P=f(E),O=x(P.slabs,P.coordinates);return d.length===0?O:y(m(d),O)}},9346:function(a){"use strict";var o=new Float64Array(4),i=new Float64Array(4),s=new Float64Array(4);function f(l,u,c,v,m){o.length<v.length&&(o=new Float64Array(v.length),i=new Float64Array(v.length),s=new Float64Array(v.length));for(var x=0;x<v.length;++x)o[x]=l[x]-v[x],i[x]=u[x]-l[x],s[x]=c[x]-l[x];for(var A=0,w=0,y=0,_=0,M=0,b=0,x=0;x<v.length;++x){var E=i[x],d=s[x],T=o[x];A+=E*E,w+=E*d,y+=d*d,_+=T*E,M+=T*d,b+=T*T}var g=Math.abs(A*y-w*w),h=w*M-y*_,S=w*_-A*M,p;if(h+S<=g)if(h<0)S<0&&_<0?(S=0,-_>=A?(h=1,p=A+2*_+b):(h=-_/A,p=_*h+b)):(h=0,M>=0?(S=0,p=b):-M>=y?(S=1,p=y+2*M+b):(S=-M/y,p=M*S+b));else if(S<0)S=0,_>=0?(h=0,p=b):-_>=A?(h=1,p=A+2*_+b):(h=-_/A,p=_*h+b);else{var C=1/g;h*=C,S*=C,p=h*(A*h+w*S+2*_)+S*(w*h+y*S+2*M)+b}else{var k,D,P,O;h<0?(k=w+_,D=y+M,D>k?(P=D-k,O=A-2*w+y,P>=O?(h=1,S=0,p=A+2*_+b):(h=P/O,S=1-h,p=h*(A*h+w*S+2*_)+S*(w*h+y*S+2*M)+b)):(h=0,D<=0?(S=1,p=y+2*M+b):M>=0?(S=0,p=b):(S=-M/y,p=M*S+b))):S<0?(k=w+M,D=A+_,D>k?(P=D-k,O=A-2*w+y,P>=O?(S=1,h=0,p=y+2*M+b):(S=P/O,h=1-S,p=h*(A*h+w*S+2*_)+S*(w*h+y*S+2*M)+b)):(S=0,D<=0?(h=1,p=A+2*_+b):_>=0?(h=0,p=b):(h=-_/A,p=_*h+b))):(P=y+M-w-_,P<=0?(h=0,S=1,p=y+2*M+b):(O=A-2*w+y,P>=O?(h=1,S=0,p=A+2*_+b):(h=P/O,S=1-h,p=h*(A*h+w*S+2*_)+S*(w*h+y*S+2*M)+b)))}for(var F=1-h-S,x=0;x<v.length;++x)m[x]=F*l[x]+h*u[x]+S*c[x];return p<0?0:p}a.exports=f},8648:function(a,o,i){a.exports=i(783)},2653:function(a,o,i){"use strict";var s=i(3865);a.exports=f;function f(l,u){for(var c=l.length,v=new Array(c),m=0;m<c;++m)v[m]=s(l[m],u[m]);return v}},5838:function(a,o,i){"use strict";a.exports=f;var s=i(7842);function f(l){for(var u=new Array(l.length),c=0;c<l.length;++c)u[c]=s(l[c]);return u}},8987:function(a,o,i){"use strict";var s=i(7842),f=i(6504);a.exports=l;function l(u,c){for(var v=s(c),m=u.length,x=new Array(m),A=0;A<m;++A)x[A]=f(u[A],v);return x}},544:function(a,o,i){"use strict";var s=i(5572);a.exports=f;function f(l,u){for(var c=l.length,v=new Array(c),m=0;m<c;++m)v[m]=s(l[m],u[m]);return v}},5771:function(a,o,i){"use strict";var s=i(8507),f=i(3788),l=i(2419);a.exports=u;function u(c){c.sort(f);for(var v=c.length,m=0,x=0;x<v;++x){var A=c[x],w=l(A);if(w!==0){if(m>0){var y=c[m-1];if(s(A,y)===0&&l(y)!==w){m-=1;continue}}c[m++]=A}}return c.length=m,c}},3233:function(a){"use strict";var o="",i;a.exports=s;function s(f,l){if(typeof f!="string")throw new TypeError("expected a string");if(l===1)return f;if(l===2)return f+f;var u=f.length*l;if(i!==f||typeof i=="undefined")i=f,o="";else if(o.length>=u)return o.substr(0,u);for(;u>o.length&&l>1;)l&1&&(o+=f),l>>=1,f+=f;return o+=f,o=o.substr(0,u),o}},3025:function(a,o,i){a.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(a){"use strict";a.exports=o;function o(i){for(var s=i.length,f=i[i.length-1],l=s,u=s-2;u>=0;--u){var c=f,v=i[u];f=c+v;var m=f-c,x=v-m;x&&(i[--l]=f,f=x)}for(var A=0,u=l;u<s;++u){var c=i[u],v=f;f=c+v;var m=f-c,x=v-m;x&&(i[A++]=x)}return i[A++]=f,i.length=A,i}},2962:function(a,o,i){"use strict";var s=i(5250),f=i(8210),l=i(3012),u=i(7004),c=6;function v(b,E,d,T){return function(h){return T(b(d(h[0][0],h[1][1]),d(-h[0][1],h[1][0])))}}function m(b,E,d,T){return function(h){return T(b(E(b(d(h[1][1],h[2][2]),d(-h[1][2],h[2][1])),h[0][0]),b(E(b(d(h[1][0],h[2][2]),d(-h[1][2],h[2][0])),-h[0][1]),E(b(d(h[1][0],h[2][1]),d(-h[1][1],h[2][0])),h[0][2]))))}}function x(b,E,d,T){return function(h){return T(b(b(E(b(E(b(d(h[2][2],h[3][3]),d(-h[2][3],h[3][2])),h[1][1]),b(E(b(d(h[2][1],h[3][3]),d(-h[2][3],h[3][1])),-h[1][2]),E(b(d(h[2][1],h[3][2]),d(-h[2][2],h[3][1])),h[1][3]))),h[0][0]),E(b(E(b(d(h[2][2],h[3][3]),d(-h[2][3],h[3][2])),h[1][0]),b(E(b(d(h[2][0],h[3][3]),d(-h[2][3],h[3][0])),-h[1][2]),E(b(d(h[2][0],h[3][2]),d(-h[2][2],h[3][0])),h[1][3]))),-h[0][1])),b(E(b(E(b(d(h[2][1],h[3][3]),d(-h[2][3],h[3][1])),h[1][0]),b(E(b(d(h[2][0],h[3][3]),d(-h[2][3],h[3][0])),-h[1][1]),E(b(d(h[2][0],h[3][1]),d(-h[2][1],h[3][0])),h[1][3]))),h[0][2]),E(b(E(b(d(h[2][1],h[3][2]),d(-h[2][2],h[3][1])),h[1][0]),b(E(b(d(h[2][0],h[3][2]),d(-h[2][2],h[3][0])),-h[1][1]),E(b(d(h[2][0],h[3][1]),d(-h[2][1],h[3][0])),h[1][2]))),-h[0][3]))))}}function A(b,E,d,T){return function(h){return T(b(b(E(b(b(E(b(E(b(d(h[3][3],h[4][4]),d(-h[3][4],h[4][3])),h[2][2]),b(E(b(d(h[3][2],h[4][4]),d(-h[3][4],h[4][2])),-h[2][3]),E(b(d(h[3][2],h[4][3]),d(-h[3][3],h[4][2])),h[2][4]))),h[1][1]),E(b(E(b(d(h[3][3],h[4][4]),d(-h[3][4],h[4][3])),h[2][1]),b(E(b(d(h[3][1],h[4][4]),d(-h[3][4],h[4][1])),-h[2][3]),E(b(d(h[3][1],h[4][3]),d(-h[3][3],h[4][1])),h[2][4]))),-h[1][2])),b(E(b(E(b(d(h[3][2],h[4][4]),d(-h[3][4],h[4][2])),h[2][1]),b(E(b(d(h[3][1],h[4][4]),d(-h[3][4],h[4][1])),-h[2][2]),E(b(d(h[3][1],h[4][2]),d(-h[3][2],h[4][1])),h[2][4]))),h[1][3]),E(b(E(b(d(h[3][2],h[4][3]),d(-h[3][3],h[4][2])),h[2][1]),b(E(b(d(h[3][1],h[4][3]),d(-h[3][3],h[4][1])),-h[2][2]),E(b(d(h[3][1],h[4][2]),d(-h[3][2],h[4][1])),h[2][3]))),-h[1][4]))),h[0][0]),E(b(b(E(b(E(b(d(h[3][3],h[4][4]),d(-h[3][4],h[4][3])),h[2][2]),b(E(b(d(h[3][2],h[4][4]),d(-h[3][4],h[4][2])),-h[2][3]),E(b(d(h[3][2],h[4][3]),d(-h[3][3],h[4][2])),h[2][4]))),h[1][0]),E(b(E(b(d(h[3][3],h[4][4]),d(-h[3][4],h[4][3])),h[2][0]),b(E(b(d(h[3][0],h[4][4]),d(-h[3][4],h[4][0])),-h[2][3]),E(b(d(h[3][0],h[4][3]),d(-h[3][3],h[4][0])),h[2][4]))),-h[1][2])),b(E(b(E(b(d(h[3][2],h[4][4]),d(-h[3][4],h[4][2])),h[2][0]),b(E(b(d(h[3][0],h[4][4]),d(-h[3][4],h[4][0])),-h[2][2]),E(b(d(h[3][0],h[4][2]),d(-h[3][2],h[4][0])),h[2][4]))),h[1][3]),E(b(E(b(d(h[3][2],h[4][3]),d(-h[3][3],h[4][2])),h[2][0]),b(E(b(d(h[3][0],h[4][3]),d(-h[3][3],h[4][0])),-h[2][2]),E(b(d(h[3][0],h[4][2]),d(-h[3][2],h[4][0])),h[2][3]))),-h[1][4]))),-h[0][1])),b(E(b(b(E(b(E(b(d(h[3][3],h[4][4]),d(-h[3][4],h[4][3])),h[2][1]),b(E(b(d(h[3][1],h[4][4]),d(-h[3][4],h[4][1])),-h[2][3]),E(b(d(h[3][1],h[4][3]),d(-h[3][3],h[4][1])),h[2][4]))),h[1][0]),E(b(E(b(d(h[3][3],h[4][4]),d(-h[3][4],h[4][3])),h[2][0]),b(E(b(d(h[3][0],h[4][4]),d(-h[3][4],h[4][0])),-h[2][3]),E(b(d(h[3][0],h[4][3]),d(-h[3][3],h[4][0])),h[2][4]))),-h[1][1])),b(E(b(E(b(d(h[3][1],h[4][4]),d(-h[3][4],h[4][1])),h[2][0]),b(E(b(d(h[3][0],h[4][4]),d(-h[3][4],h[4][0])),-h[2][1]),E(b(d(h[3][0],h[4][1]),d(-h[3][1],h[4][0])),h[2][4]))),h[1][3]),E(b(E(b(d(h[3][1],h[4][3]),d(-h[3][3],h[4][1])),h[2][0]),b(E(b(d(h[3][0],h[4][3]),d(-h[3][3],h[4][0])),-h[2][1]),E(b(d(h[3][0],h[4][1]),d(-h[3][1],h[4][0])),h[2][3]))),-h[1][4]))),h[0][2]),b(E(b(b(E(b(E(b(d(h[3][2],h[4][4]),d(-h[3][4],h[4][2])),h[2][1]),b(E(b(d(h[3][1],h[4][4]),d(-h[3][4],h[4][1])),-h[2][2]),E(b(d(h[3][1],h[4][2]),d(-h[3][2],h[4][1])),h[2][4]))),h[1][0]),E(b(E(b(d(h[3][2],h[4][4]),d(-h[3][4],h[4][2])),h[2][0]),b(E(b(d(h[3][0],h[4][4]),d(-h[3][4],h[4][0])),-h[2][2]),E(b(d(h[3][0],h[4][2]),d(-h[3][2],h[4][0])),h[2][4]))),-h[1][1])),b(E(b(E(b(d(h[3][1],h[4][4]),d(-h[3][4],h[4][1])),h[2][0]),b(E(b(d(h[3][0],h[4][4]),d(-h[3][4],h[4][0])),-h[2][1]),E(b(d(h[3][0],h[4][1]),d(-h[3][1],h[4][0])),h[2][4]))),h[1][2]),E(b(E(b(d(h[3][1],h[4][2]),d(-h[3][2],h[4][1])),h[2][0]),b(E(b(d(h[3][0],h[4][2]),d(-h[3][2],h[4][0])),-h[2][1]),E(b(d(h[3][0],h[4][1]),d(-h[3][1],h[4][0])),h[2][2]))),-h[1][4]))),-h[0][3]),E(b(b(E(b(E(b(d(h[3][2],h[4][3]),d(-h[3][3],h[4][2])),h[2][1]),b(E(b(d(h[3][1],h[4][3]),d(-h[3][3],h[4][1])),-h[2][2]),E(b(d(h[3][1],h[4][2]),d(-h[3][2],h[4][1])),h[2][3]))),h[1][0]),E(b(E(b(d(h[3][2],h[4][3]),d(-h[3][3],h[4][2])),h[2][0]),b(E(b(d(h[3][0],h[4][3]),d(-h[3][3],h[4][0])),-h[2][2]),E(b(d(h[3][0],h[4][2]),d(-h[3][2],h[4][0])),h[2][3]))),-h[1][1])),b(E(b(E(b(d(h[3][1],h[4][3]),d(-h[3][3],h[4][1])),h[2][0]),b(E(b(d(h[3][0],h[4][3]),d(-h[3][3],h[4][0])),-h[2][1]),E(b(d(h[3][0],h[4][1]),d(-h[3][1],h[4][0])),h[2][3]))),h[1][2]),E(b(E(b(d(h[3][1],h[4][2]),d(-h[3][2],h[4][1])),h[2][0]),b(E(b(d(h[3][0],h[4][2]),d(-h[3][2],h[4][0])),-h[2][1]),E(b(d(h[3][0],h[4][1]),d(-h[3][1],h[4][0])),h[2][2]))),-h[1][3]))),h[0][4])))))}}function w(b){var E=b===2?v:b===3?m:b===4?x:b===5?A:void 0;return E(f,l,s,u)}var y=[function(){return[0]},function(E){return[E[0][0]]}];function _(b,E,d,T,g,h,S,p){return function(k){switch(k.length){case 0:return b(k);case 1:return E(k);case 2:return d(k);case 3:return T(k);case 4:return g(k);case 5:return h(k)}var D=S[k.length];return D||(D=S[k.length]=p(k.length)),D(k)}}function M(){for(;y.length<c;)y.push(w(y.length));a.exports=_.apply(void 0,y.concat([y,w]));for(var b=0;b<y.length;++b)a.exports[b]=y[b]}M()},1944:function(a,o,i){"use strict";var s=i(5250),f=i(8210);a.exports=l;function l(u,c){for(var v=s(u[0],c[0]),m=1;m<u.length;++m)v=f(v,s(u[m],c[m]));return v}},2646:function(a,o,i){"use strict";var s=i(5250),f=i(8210),l=i(8545),u=i(3012),c=6;function v(g){var h=g===3?w:g===4?y:g===5?_:M;return h(f,l,s,u)}function m(){return 0}function x(){return 0}function A(){return 0}function w(g,h,S,p){function C(k,D,P){var O=S(k[0],k[0]),F=p(O,D[0]),L=p(O,P[0]),I=S(D[0],D[0]),q=p(I,k[0]),z=p(I,P[0]),W=S(P[0],P[0]),$=p(W,k[0]),j=p(W,D[0]),G=g(h(j,z),h(q,F)),B=h($,L),X=h(G,B);return X[X.length-1]}return C}function y(g,h,S,p){function C(k,D,P,O){var F=g(S(k[0],k[0]),S(k[1],k[1])),L=p(F,D[0]),I=p(F,P[0]),q=p(F,O[0]),z=g(S(D[0],D[0]),S(D[1],D[1])),W=p(z,k[0]),$=p(z,P[0]),j=p(z,O[0]),G=g(S(P[0],P[0]),S(P[1],P[1])),B=p(G,k[0]),X=p(G,D[0]),te=p(G,O[0]),J=g(S(O[0],O[0]),S(O[1],O[1])),ae=p(J,k[0]),ee=p(J,D[0]),H=p(J,P[0]),re=g(g(p(h(H,te),D[1]),g(p(h(ee,j),-P[1]),p(h(X,$),O[1]))),g(p(h(ee,j),k[1]),g(p(h(ae,q),-D[1]),p(h(W,L),O[1])))),V=g(g(p(h(H,te),k[1]),g(p(h(ae,q),-P[1]),p(h(B,I),O[1]))),g(p(h(X,$),k[1]),g(p(h(B,I),-D[1]),p(h(W,L),P[1])))),ne=h(re,V);return ne[ne.length-1]}return C}function _(g,h,S,p){function C(k,D,P,O,F){var L=g(S(k[0],k[0]),g(S(k[1],k[1]),S(k[2],k[2]))),I=p(L,D[0]),q=p(L,P[0]),z=p(L,O[0]),W=p(L,F[0]),$=g(S(D[0],D[0]),g(S(D[1],D[1]),S(D[2],D[2]))),j=p($,k[0]),G=p($,P[0]),B=p($,O[0]),X=p($,F[0]),te=g(S(P[0],P[0]),g(S(P[1],P[1]),S(P[2],P[2]))),J=p(te,k[0]),ae=p(te,D[0]),ee=p(te,O[0]),H=p(te,F[0]),re=g(S(O[0],O[0]),g(S(O[1],O[1]),S(O[2],O[2]))),V=p(re,k[0]),ne=p(re,D[0]),le=p(re,P[0]),de=p(re,F[0]),_e=g(S(F[0],F[0]),g(S(F[1],F[1]),S(F[2],F[2]))),me=p(_e,k[0]),ve=p(_e,D[0]),be=p(_e,P[0]),we=p(_e,O[0]),Se=g(g(g(p(g(p(h(we,de),P[1]),g(p(h(be,H),-O[1]),p(h(le,ee),F[1]))),D[2]),g(p(g(p(h(we,de),D[1]),g(p(h(ve,X),-O[1]),p(h(ne,B),F[1]))),-P[2]),p(g(p(h(be,H),D[1]),g(p(h(ve,X),-P[1]),p(h(ae,G),F[1]))),O[2]))),g(p(g(p(h(le,ee),D[1]),g(p(h(ne,B),-P[1]),p(h(ae,G),O[1]))),-F[2]),g(p(g(p(h(we,de),D[1]),g(p(h(ve,X),-O[1]),p(h(ne,B),F[1]))),k[2]),p(g(p(h(we,de),k[1]),g(p(h(me,W),-O[1]),p(h(V,z),F[1]))),-D[2])))),g(g(p(g(p(h(ve,X),k[1]),g(p(h(me,W),-D[1]),p(h(j,I),F[1]))),O[2]),g(p(g(p(h(ne,B),k[1]),g(p(h(V,z),-D[1]),p(h(j,I),O[1]))),-F[2]),p(g(p(h(le,ee),D[1]),g(p(h(ne,B),-P[1]),p(h(ae,G),O[1]))),k[2]))),g(p(g(p(h(le,ee),k[1]),g(p(h(V,z),-P[1]),p(h(J,q),O[1]))),-D[2]),g(p(g(p(h(ne,B),k[1]),g(p(h(V,z),-D[1]),p(h(j,I),O[1]))),P[2]),p(g(p(h(ae,G),k[1]),g(p(h(J,q),-D[1]),p(h(j,I),P[1]))),-O[2]))))),Ae=g(g(g(p(g(p(h(we,de),P[1]),g(p(h(be,H),-O[1]),p(h(le,ee),F[1]))),k[2]),p(g(p(h(we,de),k[1]),g(p(h(me,W),-O[1]),p(h(V,z),F[1]))),-P[2])),g(p(g(p(h(be,H),k[1]),g(p(h(me,W),-P[1]),p(h(J,q),F[1]))),O[2]),p(g(p(h(le,ee),k[1]),g(p(h(V,z),-P[1]),p(h(J,q),O[1]))),-F[2]))),g(g(p(g(p(h(be,H),D[1]),g(p(h(ve,X),-P[1]),p(h(ae,G),F[1]))),k[2]),p(g(p(h(be,H),k[1]),g(p(h(me,W),-P[1]),p(h(J,q),F[1]))),-D[2])),g(p(g(p(h(ve,X),k[1]),g(p(h(me,W),-D[1]),p(h(j,I),F[1]))),P[2]),p(g(p(h(ae,G),k[1]),g(p(h(J,q),-D[1]),p(h(j,I),P[1]))),-F[2])))),Ie=h(Se,Ae);return Ie[Ie.length-1]}return C}function M(g,h,S,p){function C(k,D,P,O,F,L){var I=g(g(S(k[0],k[0]),S(k[1],k[1])),g(S(k[2],k[2]),S(k[3],k[3]))),q=p(I,D[0]),z=p(I,P[0]),W=p(I,O[0]),$=p(I,F[0]),j=p(I,L[0]),G=g(g(S(D[0],D[0]),S(D[1],D[1])),g(S(D[2],D[2]),S(D[3],D[3]))),B=p(G,k[0]),X=p(G,P[0]),te=p(G,O[0]),J=p(G,F[0]),ae=p(G,L[0]),ee=g(g(S(P[0],P[0]),S(P[1],P[1])),g(S(P[2],P[2]),S(P[3],P[3]))),H=p(ee,k[0]),re=p(ee,D[0]),V=p(ee,O[0]),ne=p(ee,F[0]),le=p(ee,L[0]),de=g(g(S(O[0],O[0]),S(O[1],O[1])),g(S(O[2],O[2]),S(O[3],O[3]))),_e=p(de,k[0]),me=p(de,D[0]),ve=p(de,P[0]),be=p(de,F[0]),we=p(de,L[0]),Se=g(g(S(F[0],F[0]),S(F[1],F[1])),g(S(F[2],F[2]),S(F[3],F[3]))),Ae=p(Se,k[0]),Ie=p(Se,D[0]),Ve=p(Se,P[0]),pe=p(Se,O[0]),xe=p(Se,L[0]),Te=g(g(S(L[0],L[0]),S(L[1],L[1])),g(S(L[2],L[2]),S(L[3],L[3]))),qe=p(Te,k[0]),er=p(Te,D[0]),ze=p(Te,P[0]),Ce=p(Te,O[0]),Le=p(Te,F[0]),Ne=g(g(g(p(g(g(p(g(p(h(Le,xe),O[1]),g(p(h(Ce,we),-F[1]),p(h(pe,be),L[1]))),P[2]),p(g(p(h(Le,xe),P[1]),g(p(h(ze,le),-F[1]),p(h(Ve,ne),L[1]))),-O[2])),g(p(g(p(h(Ce,we),P[1]),g(p(h(ze,le),-O[1]),p(h(ve,V),L[1]))),F[2]),p(g(p(h(pe,be),P[1]),g(p(h(Ve,ne),-O[1]),p(h(ve,V),F[1]))),-L[2]))),D[3]),g(p(g(g(p(g(p(h(Le,xe),O[1]),g(p(h(Ce,we),-F[1]),p(h(pe,be),L[1]))),D[2]),p(g(p(h(Le,xe),D[1]),g(p(h(er,ae),-F[1]),p(h(Ie,J),L[1]))),-O[2])),g(p(g(p(h(Ce,we),D[1]),g(p(h(er,ae),-O[1]),p(h(me,te),L[1]))),F[2]),p(g(p(h(pe,be),D[1]),g(p(h(Ie,J),-O[1]),p(h(me,te),F[1]))),-L[2]))),-P[3]),p(g(g(p(g(p(h(Le,xe),P[1]),g(p(h(ze,le),-F[1]),p(h(Ve,ne),L[1]))),D[2]),p(g(p(h(Le,xe),D[1]),g(p(h(er,ae),-F[1]),p(h(Ie,J),L[1]))),-P[2])),g(p(g(p(h(ze,le),D[1]),g(p(h(er,ae),-P[1]),p(h(re,X),L[1]))),F[2]),p(g(p(h(Ve,ne),D[1]),g(p(h(Ie,J),-P[1]),p(h(re,X),F[1]))),-L[2]))),O[3]))),g(g(p(g(g(p(g(p(h(Ce,we),P[1]),g(p(h(ze,le),-O[1]),p(h(ve,V),L[1]))),D[2]),p(g(p(h(Ce,we),D[1]),g(p(h(er,ae),-O[1]),p(h(me,te),L[1]))),-P[2])),g(p(g(p(h(ze,le),D[1]),g(p(h(er,ae),-P[1]),p(h(re,X),L[1]))),O[2]),p(g(p(h(ve,V),D[1]),g(p(h(me,te),-P[1]),p(h(re,X),O[1]))),-L[2]))),-F[3]),p(g(g(p(g(p(h(pe,be),P[1]),g(p(h(Ve,ne),-O[1]),p(h(ve,V),F[1]))),D[2]),p(g(p(h(pe,be),D[1]),g(p(h(Ie,J),-O[1]),p(h(me,te),F[1]))),-P[2])),g(p(g(p(h(Ve,ne),D[1]),g(p(h(Ie,J),-P[1]),p(h(re,X),F[1]))),O[2]),p(g(p(h(ve,V),D[1]),g(p(h(me,te),-P[1]),p(h(re,X),O[1]))),-F[2]))),L[3])),g(p(g(g(p(g(p(h(Le,xe),O[1]),g(p(h(Ce,we),-F[1]),p(h(pe,be),L[1]))),D[2]),p(g(p(h(Le,xe),D[1]),g(p(h(er,ae),-F[1]),p(h(Ie,J),L[1]))),-O[2])),g(p(g(p(h(Ce,we),D[1]),g(p(h(er,ae),-O[1]),p(h(me,te),L[1]))),F[2]),p(g(p(h(pe,be),D[1]),g(p(h(Ie,J),-O[1]),p(h(me,te),F[1]))),-L[2]))),k[3]),p(g(g(p(g(p(h(Le,xe),O[1]),g(p(h(Ce,we),-F[1]),p(h(pe,be),L[1]))),k[2]),p(g(p(h(Le,xe),k[1]),g(p(h(qe,j),-F[1]),p(h(Ae,$),L[1]))),-O[2])),g(p(g(p(h(Ce,we),k[1]),g(p(h(qe,j),-O[1]),p(h(_e,W),L[1]))),F[2]),p(g(p(h(pe,be),k[1]),g(p(h(Ae,$),-O[1]),p(h(_e,W),F[1]))),-L[2]))),-D[3])))),g(g(g(p(g(g(p(g(p(h(Le,xe),D[1]),g(p(h(er,ae),-F[1]),p(h(Ie,J),L[1]))),k[2]),p(g(p(h(Le,xe),k[1]),g(p(h(qe,j),-F[1]),p(h(Ae,$),L[1]))),-D[2])),g(p(g(p(h(er,ae),k[1]),g(p(h(qe,j),-D[1]),p(h(B,q),L[1]))),F[2]),p(g(p(h(Ie,J),k[1]),g(p(h(Ae,$),-D[1]),p(h(B,q),F[1]))),-L[2]))),O[3]),p(g(g(p(g(p(h(Ce,we),D[1]),g(p(h(er,ae),-O[1]),p(h(me,te),L[1]))),k[2]),p(g(p(h(Ce,we),k[1]),g(p(h(qe,j),-O[1]),p(h(_e,W),L[1]))),-D[2])),g(p(g(p(h(er,ae),k[1]),g(p(h(qe,j),-D[1]),p(h(B,q),L[1]))),O[2]),p(g(p(h(me,te),k[1]),g(p(h(_e,W),-D[1]),p(h(B,q),O[1]))),-L[2]))),-F[3])),g(p(g(g(p(g(p(h(pe,be),D[1]),g(p(h(Ie,J),-O[1]),p(h(me,te),F[1]))),k[2]),p(g(p(h(pe,be),k[1]),g(p(h(Ae,$),-O[1]),p(h(_e,W),F[1]))),-D[2])),g(p(g(p(h(Ie,J),k[1]),g(p(h(Ae,$),-D[1]),p(h(B,q),F[1]))),O[2]),p(g(p(h(me,te),k[1]),g(p(h(_e,W),-D[1]),p(h(B,q),O[1]))),-F[2]))),L[3]),p(g(g(p(g(p(h(Ce,we),P[1]),g(p(h(ze,le),-O[1]),p(h(ve,V),L[1]))),D[2]),p(g(p(h(Ce,we),D[1]),g(p(h(er,ae),-O[1]),p(h(me,te),L[1]))),-P[2])),g(p(g(p(h(ze,le),D[1]),g(p(h(er,ae),-P[1]),p(h(re,X),L[1]))),O[2]),p(g(p(h(ve,V),D[1]),g(p(h(me,te),-P[1]),p(h(re,X),O[1]))),-L[2]))),k[3]))),g(g(p(g(g(p(g(p(h(Ce,we),P[1]),g(p(h(ze,le),-O[1]),p(h(ve,V),L[1]))),k[2]),p(g(p(h(Ce,we),k[1]),g(p(h(qe,j),-O[1]),p(h(_e,W),L[1]))),-P[2])),g(p(g(p(h(ze,le),k[1]),g(p(h(qe,j),-P[1]),p(h(H,z),L[1]))),O[2]),p(g(p(h(ve,V),k[1]),g(p(h(_e,W),-P[1]),p(h(H,z),O[1]))),-L[2]))),-D[3]),p(g(g(p(g(p(h(Ce,we),D[1]),g(p(h(er,ae),-O[1]),p(h(me,te),L[1]))),k[2]),p(g(p(h(Ce,we),k[1]),g(p(h(qe,j),-O[1]),p(h(_e,W),L[1]))),-D[2])),g(p(g(p(h(er,ae),k[1]),g(p(h(qe,j),-D[1]),p(h(B,q),L[1]))),O[2]),p(g(p(h(me,te),k[1]),g(p(h(_e,W),-D[1]),p(h(B,q),O[1]))),-L[2]))),P[3])),g(p(g(g(p(g(p(h(ze,le),D[1]),g(p(h(er,ae),-P[1]),p(h(re,X),L[1]))),k[2]),p(g(p(h(ze,le),k[1]),g(p(h(qe,j),-P[1]),p(h(H,z),L[1]))),-D[2])),g(p(g(p(h(er,ae),k[1]),g(p(h(qe,j),-D[1]),p(h(B,q),L[1]))),P[2]),p(g(p(h(re,X),k[1]),g(p(h(H,z),-D[1]),p(h(B,q),P[1]))),-L[2]))),-O[3]),p(g(g(p(g(p(h(ve,V),D[1]),g(p(h(me,te),-P[1]),p(h(re,X),O[1]))),k[2]),p(g(p(h(ve,V),k[1]),g(p(h(_e,W),-P[1]),p(h(H,z),O[1]))),-D[2])),g(p(g(p(h(me,te),k[1]),g(p(h(_e,W),-D[1]),p(h(B,q),O[1]))),P[2]),p(g(p(h(re,X),k[1]),g(p(h(H,z),-D[1]),p(h(B,q),P[1]))),-O[2]))),L[3]))))),tr=g(g(g(p(g(g(p(g(p(h(Le,xe),O[1]),g(p(h(Ce,we),-F[1]),p(h(pe,be),L[1]))),P[2]),p(g(p(h(Le,xe),P[1]),g(p(h(ze,le),-F[1]),p(h(Ve,ne),L[1]))),-O[2])),g(p(g(p(h(Ce,we),P[1]),g(p(h(ze,le),-O[1]),p(h(ve,V),L[1]))),F[2]),p(g(p(h(pe,be),P[1]),g(p(h(Ve,ne),-O[1]),p(h(ve,V),F[1]))),-L[2]))),k[3]),g(p(g(g(p(g(p(h(Le,xe),O[1]),g(p(h(Ce,we),-F[1]),p(h(pe,be),L[1]))),k[2]),p(g(p(h(Le,xe),k[1]),g(p(h(qe,j),-F[1]),p(h(Ae,$),L[1]))),-O[2])),g(p(g(p(h(Ce,we),k[1]),g(p(h(qe,j),-O[1]),p(h(_e,W),L[1]))),F[2]),p(g(p(h(pe,be),k[1]),g(p(h(Ae,$),-O[1]),p(h(_e,W),F[1]))),-L[2]))),-P[3]),p(g(g(p(g(p(h(Le,xe),P[1]),g(p(h(ze,le),-F[1]),p(h(Ve,ne),L[1]))),k[2]),p(g(p(h(Le,xe),k[1]),g(p(h(qe,j),-F[1]),p(h(Ae,$),L[1]))),-P[2])),g(p(g(p(h(ze,le),k[1]),g(p(h(qe,j),-P[1]),p(h(H,z),L[1]))),F[2]),p(g(p(h(Ve,ne),k[1]),g(p(h(Ae,$),-P[1]),p(h(H,z),F[1]))),-L[2]))),O[3]))),g(g(p(g(g(p(g(p(h(Ce,we),P[1]),g(p(h(ze,le),-O[1]),p(h(ve,V),L[1]))),k[2]),p(g(p(h(Ce,we),k[1]),g(p(h(qe,j),-O[1]),p(h(_e,W),L[1]))),-P[2])),g(p(g(p(h(ze,le),k[1]),g(p(h(qe,j),-P[1]),p(h(H,z),L[1]))),O[2]),p(g(p(h(ve,V),k[1]),g(p(h(_e,W),-P[1]),p(h(H,z),O[1]))),-L[2]))),-F[3]),p(g(g(p(g(p(h(pe,be),P[1]),g(p(h(Ve,ne),-O[1]),p(h(ve,V),F[1]))),k[2]),p(g(p(h(pe,be),k[1]),g(p(h(Ae,$),-O[1]),p(h(_e,W),F[1]))),-P[2])),g(p(g(p(h(Ve,ne),k[1]),g(p(h(Ae,$),-P[1]),p(h(H,z),F[1]))),O[2]),p(g(p(h(ve,V),k[1]),g(p(h(_e,W),-P[1]),p(h(H,z),O[1]))),-F[2]))),L[3])),g(p(g(g(p(g(p(h(Le,xe),P[1]),g(p(h(ze,le),-F[1]),p(h(Ve,ne),L[1]))),D[2]),p(g(p(h(Le,xe),D[1]),g(p(h(er,ae),-F[1]),p(h(Ie,J),L[1]))),-P[2])),g(p(g(p(h(ze,le),D[1]),g(p(h(er,ae),-P[1]),p(h(re,X),L[1]))),F[2]),p(g(p(h(Ve,ne),D[1]),g(p(h(Ie,J),-P[1]),p(h(re,X),F[1]))),-L[2]))),k[3]),p(g(g(p(g(p(h(Le,xe),P[1]),g(p(h(ze,le),-F[1]),p(h(Ve,ne),L[1]))),k[2]),p(g(p(h(Le,xe),k[1]),g(p(h(qe,j),-F[1]),p(h(Ae,$),L[1]))),-P[2])),g(p(g(p(h(ze,le),k[1]),g(p(h(qe,j),-P[1]),p(h(H,z),L[1]))),F[2]),p(g(p(h(Ve,ne),k[1]),g(p(h(Ae,$),-P[1]),p(h(H,z),F[1]))),-L[2]))),-D[3])))),g(g(g(p(g(g(p(g(p(h(Le,xe),D[1]),g(p(h(er,ae),-F[1]),p(h(Ie,J),L[1]))),k[2]),p(g(p(h(Le,xe),k[1]),g(p(h(qe,j),-F[1]),p(h(Ae,$),L[1]))),-D[2])),g(p(g(p(h(er,ae),k[1]),g(p(h(qe,j),-D[1]),p(h(B,q),L[1]))),F[2]),p(g(p(h(Ie,J),k[1]),g(p(h(Ae,$),-D[1]),p(h(B,q),F[1]))),-L[2]))),P[3]),p(g(g(p(g(p(h(ze,le),D[1]),g(p(h(er,ae),-P[1]),p(h(re,X),L[1]))),k[2]),p(g(p(h(ze,le),k[1]),g(p(h(qe,j),-P[1]),p(h(H,z),L[1]))),-D[2])),g(p(g(p(h(er,ae),k[1]),g(p(h(qe,j),-D[1]),p(h(B,q),L[1]))),P[2]),p(g(p(h(re,X),k[1]),g(p(h(H,z),-D[1]),p(h(B,q),P[1]))),-L[2]))),-F[3])),g(p(g(g(p(g(p(h(Ve,ne),D[1]),g(p(h(Ie,J),-P[1]),p(h(re,X),F[1]))),k[2]),p(g(p(h(Ve,ne),k[1]),g(p(h(Ae,$),-P[1]),p(h(H,z),F[1]))),-D[2])),g(p(g(p(h(Ie,J),k[1]),g(p(h(Ae,$),-D[1]),p(h(B,q),F[1]))),P[2]),p(g(p(h(re,X),k[1]),g(p(h(H,z),-D[1]),p(h(B,q),P[1]))),-F[2]))),L[3]),p(g(g(p(g(p(h(pe,be),P[1]),g(p(h(Ve,ne),-O[1]),p(h(ve,V),F[1]))),D[2]),p(g(p(h(pe,be),D[1]),g(p(h(Ie,J),-O[1]),p(h(me,te),F[1]))),-P[2])),g(p(g(p(h(Ve,ne),D[1]),g(p(h(Ie,J),-P[1]),p(h(re,X),F[1]))),O[2]),p(g(p(h(ve,V),D[1]),g(p(h(me,te),-P[1]),p(h(re,X),O[1]))),-F[2]))),k[3]))),g(g(p(g(g(p(g(p(h(pe,be),P[1]),g(p(h(Ve,ne),-O[1]),p(h(ve,V),F[1]))),k[2]),p(g(p(h(pe,be),k[1]),g(p(h(Ae,$),-O[1]),p(h(_e,W),F[1]))),-P[2])),g(p(g(p(h(Ve,ne),k[1]),g(p(h(Ae,$),-P[1]),p(h(H,z),F[1]))),O[2]),p(g(p(h(ve,V),k[1]),g(p(h(_e,W),-P[1]),p(h(H,z),O[1]))),-F[2]))),-D[3]),p(g(g(p(g(p(h(pe,be),D[1]),g(p(h(Ie,J),-O[1]),p(h(me,te),F[1]))),k[2]),p(g(p(h(pe,be),k[1]),g(p(h(Ae,$),-O[1]),p(h(_e,W),F[1]))),-D[2])),g(p(g(p(h(Ie,J),k[1]),g(p(h(Ae,$),-D[1]),p(h(B,q),F[1]))),O[2]),p(g(p(h(me,te),k[1]),g(p(h(_e,W),-D[1]),p(h(B,q),O[1]))),-F[2]))),P[3])),g(p(g(g(p(g(p(h(Ve,ne),D[1]),g(p(h(Ie,J),-P[1]),p(h(re,X),F[1]))),k[2]),p(g(p(h(Ve,ne),k[1]),g(p(h(Ae,$),-P[1]),p(h(H,z),F[1]))),-D[2])),g(p(g(p(h(Ie,J),k[1]),g(p(h(Ae,$),-D[1]),p(h(B,q),F[1]))),P[2]),p(g(p(h(re,X),k[1]),g(p(h(H,z),-D[1]),p(h(B,q),P[1]))),-F[2]))),-O[3]),p(g(g(p(g(p(h(ve,V),D[1]),g(p(h(me,te),-P[1]),p(h(re,X),O[1]))),k[2]),p(g(p(h(ve,V),k[1]),g(p(h(_e,W),-P[1]),p(h(H,z),O[1]))),-D[2])),g(p(g(p(h(me,te),k[1]),g(p(h(_e,W),-D[1]),p(h(B,q),O[1]))),P[2]),p(g(p(h(re,X),k[1]),g(p(h(H,z),-D[1]),p(h(B,q),P[1]))),-O[2]))),F[3]))))),ir=h(Ne,tr);return ir[ir.length-1]}return C}var b=[m,x,A];function E(g){var h=b[g.length];return h||(h=b[g.length]=v(g.length)),h.apply(void 0,g)}function d(g,h,S,p,C,k,D,P){function O(F,L,I,q,z,W){switch(arguments.length){case 0:case 1:return 0;case 2:return p(F,L);case 3:return C(F,L,I);case 4:return k(F,L,I,q);case 5:return D(F,L,I,q,z);case 6:return P(F,L,I,q,z,W)}for(var $=new Array(arguments.length),j=0;j<arguments.length;++j)$[j]=arguments[j];return g($)}return O}function T(){for(;b.length<=c;)b.push(v(b.length));a.exports=d.apply(void 0,[E].concat(b));for(var g=0;g<=c;++g)a.exports[g]=b[g]}T()},727:function(a,o,i){"use strict";var s=i(2962),f=6;function l(b){var E=b===2?v:b===3?m:b===4?x:b===5?A:w;return b<6?E(s[b]):E(s)}function u(){return[[0]]}function c(b,E){return[[E[0]],[b[0][0]]]}function v(b){return function(d,T){return[b([[+T[0],+d[0][1]],[+T[1],+d[1][1]]]),b([[+d[0][0],+T[0]],[+d[1][0],+T[1]]]),b(d)]}}function m(b){return function(d,T){return[b([[+T[0],+d[0][1],+d[0][2]],[+T[1],+d[1][1],+d[1][2]],[+T[2],+d[2][1],+d[2][2]]]),b([[+d[0][0],+T[0],+d[0][2]],[+d[1][0],+T[1],+d[1][2]],[+d[2][0],+T[2],+d[2][2]]]),b([[+d[0][0],+d[0][1],+T[0]],[+d[1][0],+d[1][1],+T[1]],[+d[2][0],+d[2][1],+T[2]]]),b(d)]}}function x(b){return function(d,T){return[b([[+T[0],+d[0][1],+d[0][2],+d[0][3]],[+T[1],+d[1][1],+d[1][2],+d[1][3]],[+T[2],+d[2][1],+d[2][2],+d[2][3]],[+T[3],+d[3][1],+d[3][2],+d[3][3]]]),b([[+d[0][0],+T[0],+d[0][2],+d[0][3]],[+d[1][0],+T[1],+d[1][2],+d[1][3]],[+d[2][0],+T[2],+d[2][2],+d[2][3]],[+d[3][0],+T[3],+d[3][2],+d[3][3]]]),b([[+d[0][0],+d[0][1],+T[0],+d[0][3]],[+d[1][0],+d[1][1],+T[1],+d[1][3]],[+d[2][0],+d[2][1],+T[2],+d[2][3]],[+d[3][0],+d[3][1],+T[3],+d[3][3]]]),b([[+d[0][0],+d[0][1],+d[0][2],+T[0]],[+d[1][0],+d[1][1],+d[1][2],+T[1]],[+d[2][0],+d[2][1],+d[2][2],+T[2]],[+d[3][0],+d[3][1],+d[3][2],+T[3]]]),b(d)]}}function A(b){return function(d,T){return[b([[+T[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4]],[+T[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4]],[+T[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4]],[+T[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4]],[+T[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4]]]),b([[+d[0][0],+T[0],+d[0][2],+d[0][3],+d[0][4]],[+d[1][0],+T[1],+d[1][2],+d[1][3],+d[1][4]],[+d[2][0],+T[2],+d[2][2],+d[2][3],+d[2][4]],[+d[3][0],+T[3],+d[3][2],+d[3][3],+d[3][4]],[+d[4][0],+T[4],+d[4][2],+d[4][3],+d[4][4]]]),b([[+d[0][0],+d[0][1],+T[0],+d[0][3],+d[0][4]],[+d[1][0],+d[1][1],+T[1],+d[1][3],+d[1][4]],[+d[2][0],+d[2][1],+T[2],+d[2][3],+d[2][4]],[+d[3][0],+d[3][1],+T[3],+d[3][3],+d[3][4]],[+d[4][0],+d[4][1],+T[4],+d[4][3],+d[4][4]]]),b([[+d[0][0],+d[0][1],+d[0][2],+T[0],+d[0][4]],[+d[1][0],+d[1][1],+d[1][2],+T[1],+d[1][4]],[+d[2][0],+d[2][1],+d[2][2],+T[2],+d[2][4]],[+d[3][0],+d[3][1],+d[3][2],+T[3],+d[3][4]],[+d[4][0],+d[4][1],+d[4][2],+T[4],+d[4][4]]]),b([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+T[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+T[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+T[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+T[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+T[4]]]),b(d)]}}function w(b){return function(d,T){return[b([[+T[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+T[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+T[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+T[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+T[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+T[5],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),b([[+d[0][0],+T[0],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+T[1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+T[2],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+T[3],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+T[4],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+T[5],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),b([[+d[0][0],+d[0][1],+T[0],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+T[1],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+T[2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+T[3],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+T[4],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+T[5],+d[5][3],+d[5][4],+d[5][5]]]),b([[+d[0][0],+d[0][1],+d[0][2],+T[0],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+T[1],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+T[2],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+T[3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+T[4],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+T[5],+d[5][4],+d[5][5]]]),b([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+T[0],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+T[1],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+T[2],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+T[3],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+T[4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+T[5],+d[5][5]]]),b([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+T[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+T[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+T[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+T[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+T[4]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+T[5]]]),b(d)]}}var y=[u,c];function _(b,E,d,T,g,h,S,p){return function(k,D){switch(k.length){case 0:return b(k,D);case 1:return E(k,D);case 2:return d(k,D);case 3:return T(k,D);case 4:return g(k,D);case 5:return h(k,D)}var P=S[k.length];return P||(P=S[k.length]=p(k.length)),P(k,D)}}function M(){for(;y.length<f;)y.push(l(y.length));a.exports=_.apply(void 0,y.concat([y,l]));for(var b=0;b<f;++b)a.exports[b]=y[b]}M()},3250:function(a,o,i){"use strict";var s=i(5250),f=i(8210),l=i(3012),u=i(8545),c=5,v=11102230246251565e-32,m=(3+16*v)*v,x=(7+56*v)*v;function A(h,S,p,C){return function(D,P,O){var F=h(h(S(P[1],O[0]),S(-O[1],P[0])),h(S(D[1],P[0]),S(-P[1],D[0]))),L=h(S(D[1],O[0]),S(-O[1],D[0])),I=C(F,L);return I[I.length-1]}}function w(h,S,p,C){return function(D,P,O,F){var L=h(h(p(h(S(O[1],F[0]),S(-F[1],O[0])),P[2]),h(p(h(S(P[1],F[0]),S(-F[1],P[0])),-O[2]),p(h(S(P[1],O[0]),S(-O[1],P[0])),F[2]))),h(p(h(S(P[1],F[0]),S(-F[1],P[0])),D[2]),h(p(h(S(D[1],F[0]),S(-F[1],D[0])),-P[2]),p(h(S(D[1],P[0]),S(-P[1],D[0])),F[2])))),I=h(h(p(h(S(O[1],F[0]),S(-F[1],O[0])),D[2]),h(p(h(S(D[1],F[0]),S(-F[1],D[0])),-O[2]),p(h(S(D[1],O[0]),S(-O[1],D[0])),F[2]))),h(p(h(S(P[1],O[0]),S(-O[1],P[0])),D[2]),h(p(h(S(D[1],O[0]),S(-O[1],D[0])),-P[2]),p(h(S(D[1],P[0]),S(-P[1],D[0])),O[2])))),q=C(L,I);return q[q.length-1]}}function y(h,S,p,C){return function(D,P,O,F,L){var I=h(h(h(p(h(p(h(S(F[1],L[0]),S(-L[1],F[0])),O[2]),h(p(h(S(O[1],L[0]),S(-L[1],O[0])),-F[2]),p(h(S(O[1],F[0]),S(-F[1],O[0])),L[2]))),P[3]),h(p(h(p(h(S(F[1],L[0]),S(-L[1],F[0])),P[2]),h(p(h(S(P[1],L[0]),S(-L[1],P[0])),-F[2]),p(h(S(P[1],F[0]),S(-F[1],P[0])),L[2]))),-O[3]),p(h(p(h(S(O[1],L[0]),S(-L[1],O[0])),P[2]),h(p(h(S(P[1],L[0]),S(-L[1],P[0])),-O[2]),p(h(S(P[1],O[0]),S(-O[1],P[0])),L[2]))),F[3]))),h(p(h(p(h(S(O[1],F[0]),S(-F[1],O[0])),P[2]),h(p(h(S(P[1],F[0]),S(-F[1],P[0])),-O[2]),p(h(S(P[1],O[0]),S(-O[1],P[0])),F[2]))),-L[3]),h(p(h(p(h(S(F[1],L[0]),S(-L[1],F[0])),P[2]),h(p(h(S(P[1],L[0]),S(-L[1],P[0])),-F[2]),p(h(S(P[1],F[0]),S(-F[1],P[0])),L[2]))),D[3]),p(h(p(h(S(F[1],L[0]),S(-L[1],F[0])),D[2]),h(p(h(S(D[1],L[0]),S(-L[1],D[0])),-F[2]),p(h(S(D[1],F[0]),S(-F[1],D[0])),L[2]))),-P[3])))),h(h(p(h(p(h(S(P[1],L[0]),S(-L[1],P[0])),D[2]),h(p(h(S(D[1],L[0]),S(-L[1],D[0])),-P[2]),p(h(S(D[1],P[0]),S(-P[1],D[0])),L[2]))),F[3]),h(p(h(p(h(S(P[1],F[0]),S(-F[1],P[0])),D[2]),h(p(h(S(D[1],F[0]),S(-F[1],D[0])),-P[2]),p(h(S(D[1],P[0]),S(-P[1],D[0])),F[2]))),-L[3]),p(h(p(h(S(O[1],F[0]),S(-F[1],O[0])),P[2]),h(p(h(S(P[1],F[0]),S(-F[1],P[0])),-O[2]),p(h(S(P[1],O[0]),S(-O[1],P[0])),F[2]))),D[3]))),h(p(h(p(h(S(O[1],F[0]),S(-F[1],O[0])),D[2]),h(p(h(S(D[1],F[0]),S(-F[1],D[0])),-O[2]),p(h(S(D[1],O[0]),S(-O[1],D[0])),F[2]))),-P[3]),h(p(h(p(h(S(P[1],F[0]),S(-F[1],P[0])),D[2]),h(p(h(S(D[1],F[0]),S(-F[1],D[0])),-P[2]),p(h(S(D[1],P[0]),S(-P[1],D[0])),F[2]))),O[3]),p(h(p(h(S(P[1],O[0]),S(-O[1],P[0])),D[2]),h(p(h(S(D[1],O[0]),S(-O[1],D[0])),-P[2]),p(h(S(D[1],P[0]),S(-P[1],D[0])),O[2]))),-F[3]))))),q=h(h(h(p(h(p(h(S(F[1],L[0]),S(-L[1],F[0])),O[2]),h(p(h(S(O[1],L[0]),S(-L[1],O[0])),-F[2]),p(h(S(O[1],F[0]),S(-F[1],O[0])),L[2]))),D[3]),p(h(p(h(S(F[1],L[0]),S(-L[1],F[0])),D[2]),h(p(h(S(D[1],L[0]),S(-L[1],D[0])),-F[2]),p(h(S(D[1],F[0]),S(-F[1],D[0])),L[2]))),-O[3])),h(p(h(p(h(S(O[1],L[0]),S(-L[1],O[0])),D[2]),h(p(h(S(D[1],L[0]),S(-L[1],D[0])),-O[2]),p(h(S(D[1],O[0]),S(-O[1],D[0])),L[2]))),F[3]),p(h(p(h(S(O[1],F[0]),S(-F[1],O[0])),D[2]),h(p(h(S(D[1],F[0]),S(-F[1],D[0])),-O[2]),p(h(S(D[1],O[0]),S(-O[1],D[0])),F[2]))),-L[3]))),h(h(p(h(p(h(S(O[1],L[0]),S(-L[1],O[0])),P[2]),h(p(h(S(P[1],L[0]),S(-L[1],P[0])),-O[2]),p(h(S(P[1],O[0]),S(-O[1],P[0])),L[2]))),D[3]),p(h(p(h(S(O[1],L[0]),S(-L[1],O[0])),D[2]),h(p(h(S(D[1],L[0]),S(-L[1],D[0])),-O[2]),p(h(S(D[1],O[0]),S(-O[1],D[0])),L[2]))),-P[3])),h(p(h(p(h(S(P[1],L[0]),S(-L[1],P[0])),D[2]),h(p(h(S(D[1],L[0]),S(-L[1],D[0])),-P[2]),p(h(S(D[1],P[0]),S(-P[1],D[0])),L[2]))),O[3]),p(h(p(h(S(P[1],O[0]),S(-O[1],P[0])),D[2]),h(p(h(S(D[1],O[0]),S(-O[1],D[0])),-P[2]),p(h(S(D[1],P[0]),S(-P[1],D[0])),O[2]))),-L[3])))),z=C(I,q);return z[z.length-1]}}function _(h){var S=h===3?A:h===4?w:y;return S(f,s,l,u)}var M=_(3),b=_(4),E=[function(){return 0},function(){return 0},function(S,p){return p[0]-S[0]},function(S,p,C){var k=(S[1]-C[1])*(p[0]-C[0]),D=(S[0]-C[0])*(p[1]-C[1]),P=k-D,O;if(k>0){if(D<=0)return P;O=k+D}else if(k<0){if(D>=0)return P;O=-(k+D)}else return P;var F=m*O;return P>=F||P<=-F?P:M(S,p,C)},function(S,p,C,k){var D=S[0]-k[0],P=p[0]-k[0],O=C[0]-k[0],F=S[1]-k[1],L=p[1]-k[1],I=C[1]-k[1],q=S[2]-k[2],z=p[2]-k[2],W=C[2]-k[2],$=P*I,j=O*L,G=O*F,B=D*I,X=D*L,te=P*F,J=q*($-j)+z*(G-B)+W*(X-te),ae=(Math.abs($)+Math.abs(j))*Math.abs(q)+(Math.abs(G)+Math.abs(B))*Math.abs(z)+(Math.abs(X)+Math.abs(te))*Math.abs(W),ee=x*ae;return J>ee||-J>ee?J:b(S,p,C,k)}];function d(h){var S=E[h.length];return S||(S=E[h.length]=_(h.length)),S.apply(void 0,h)}function T(h,S,p,C,k,D,P){return function(F,L,I,q,z){switch(arguments.length){case 0:case 1:return 0;case 2:return C(F,L);case 3:return k(F,L,I);case 4:return D(F,L,I,q);case 5:return P(F,L,I,q,z)}for(var W=new Array(arguments.length),$=0;$<arguments.length;++$)W[$]=arguments[$];return h(W)}}function g(){for(;E.length<=c;)E.push(_(E.length));a.exports=T.apply(void 0,[d].concat(E));for(var h=0;h<=c;++h)a.exports[h]=E[h]}g()},5382:function(a,o,i){"use strict";var s=i(8210),f=i(3012);a.exports=l;function l(u,c){if(u.length===1)return f(c,u[0]);if(c.length===1)return f(u,c[0]);if(u.length===0||c.length===0)return[0];var v=[0];if(u.length<c.length)for(var m=0;m<u.length;++m)v=s(v,f(c,u[m]));else for(var m=0;m<c.length;++m)v=s(v,f(u,c[m]));return v}},3012:function(a,o,i){"use strict";var s=i(5250),f=i(9362);a.exports=l;function l(u,c){var v=u.length;if(v===1){var m=s(u[0],c);return m[0]?m:[m[1]]}var x=new Array(2*v),A=[.1,.1],w=[.1,.1],y=0;s(u[0],c,A),A[0]&&(x[y++]=A[0]);for(var _=1;_<v;++_){s(u[_],c,w);var M=A[1];f(M,w[0],A),A[0]&&(x[y++]=A[0]);var b=w[1],E=A[1],d=b+E,T=d-b,g=E-T;A[1]=d,g&&(x[y++]=g)}return A[1]&&(x[y++]=A[1]),y===0&&(x[y++]=0),x.length=y,x}},1125:function(a,o,i){"use strict";a.exports=l;var s=i(3250)[3];function f(u,c,v,m){for(var x=0;x<2;++x){var A=u[x],w=c[x],y=Math.min(A,w),_=Math.max(A,w),M=v[x],b=m[x],E=Math.min(M,b),d=Math.max(M,b);if(d<y||_<E)return!1}return!0}function l(u,c,v,m){var x=s(u,v,m),A=s(c,v,m);if(x>0&&A>0||x<0&&A<0)return!1;var w=s(v,u,c),y=s(m,u,c);return w>0&&y>0||w<0&&y<0?!1:x===0&&A===0&&w===0&&y===0?f(u,c,v,m):!0}},8545:function(a){"use strict";a.exports=i;function o(s,f){var l=s+f,u=l-s,c=l-u,v=f-u,m=s-c,x=m+v;return x?[x,l]:[l]}function i(s,f){var l=s.length|0,u=f.length|0;if(l===1&&u===1)return o(s[0],-f[0]);var c=l+u,v=new Array(c),m=0,x=0,A=0,w=Math.abs,y=s[x],_=w(y),M=-f[A],b=w(M),E,d;_<b?(d=y,x+=1,x<l&&(y=s[x],_=w(y))):(d=M,A+=1,A<u&&(M=-f[A],b=w(M))),x<l&&_<b||A>=u?(E=y,x+=1,x<l&&(y=s[x],_=w(y))):(E=M,A+=1,A<u&&(M=-f[A],b=w(M)));for(var T=E+d,g=T-E,h=d-g,S=h,p=T,C,k,D,P,O;x<l&&A<u;)_<b?(E=y,x+=1,x<l&&(y=s[x],_=w(y))):(E=M,A+=1,A<u&&(M=-f[A],b=w(M))),d=S,T=E+d,g=T-E,h=d-g,h&&(v[m++]=h),C=p+T,k=C-p,D=C-k,P=T-k,O=p-D,S=O+P,p=C;for(;x<l;)E=y,d=S,T=E+d,g=T-E,h=d-g,h&&(v[m++]=h),C=p+T,k=C-p,D=C-k,P=T-k,O=p-D,S=O+P,p=C,x+=1,x<l&&(y=s[x]);for(;A<u;)E=M,d=S,T=E+d,g=T-E,h=d-g,h&&(v[m++]=h),C=p+T,k=C-p,D=C-k,P=T-k,O=p-D,S=O+P,p=C,A+=1,A<u&&(M=-f[A]);return S&&(v[m++]=S),p&&(v[m++]=p),m||(v[m++]=0),v.length=m,v}},8210:function(a){"use strict";a.exports=i;function o(s,f){var l=s+f,u=l-s,c=l-u,v=f-u,m=s-c,x=m+v;return x?[x,l]:[l]}function i(s,f){var l=s.length|0,u=f.length|0;if(l===1&&u===1)return o(s[0],f[0]);var c=l+u,v=new Array(c),m=0,x=0,A=0,w=Math.abs,y=s[x],_=w(y),M=f[A],b=w(M),E,d;_<b?(d=y,x+=1,x<l&&(y=s[x],_=w(y))):(d=M,A+=1,A<u&&(M=f[A],b=w(M))),x<l&&_<b||A>=u?(E=y,x+=1,x<l&&(y=s[x],_=w(y))):(E=M,A+=1,A<u&&(M=f[A],b=w(M)));for(var T=E+d,g=T-E,h=d-g,S=h,p=T,C,k,D,P,O;x<l&&A<u;)_<b?(E=y,x+=1,x<l&&(y=s[x],_=w(y))):(E=M,A+=1,A<u&&(M=f[A],b=w(M))),d=S,T=E+d,g=T-E,h=d-g,h&&(v[m++]=h),C=p+T,k=C-p,D=C-k,P=T-k,O=p-D,S=O+P,p=C;for(;x<l;)E=y,d=S,T=E+d,g=T-E,h=d-g,h&&(v[m++]=h),C=p+T,k=C-p,D=C-k,P=T-k,O=p-D,S=O+P,p=C,x+=1,x<l&&(y=s[x]);for(;A<u;)E=M,d=S,T=E+d,g=T-E,h=d-g,h&&(v[m++]=h),C=p+T,k=C-p,D=C-k,P=T-k,O=p-D,S=O+P,p=C,A+=1,A<u&&(M=f[A]);return S&&(v[m++]=S),p&&(v[m++]=p),m||(v[m++]=0),v.length=m,v}},9127:function(a,o,i){"use strict";a.exports=l;var s=i(6204),f=i(5771);function l(u){return f(s(u))}},7765:function(a,o,i){"use strict";a.exports=y;var s=i(9618),f=i(1888),l=i(446),u=i(1570);function c(_){for(var M=_.length,b=0,E=0;E<M;++E)b=Math.max(b,_[E].length)|0;return b-1}function v(_,M){for(var b=_.length,E=f.mallocUint8(b),d=0;d<b;++d)E[d]=_[d]<M|0;return E}function m(_,M){for(var b=_.length,E=M*(M+1)/2*b|0,d=f.mallocUint32(E*2),T=0,g=0;g<b;++g)for(var h=_[g],M=h.length,S=0;S<M;++S)for(var p=0;p<S;++p){var C=h[p],k=h[S];d[T++]=Math.min(C,k)|0,d[T++]=Math.max(C,k)|0}var D=T/2|0;l(s(d,[D,2]));for(var P=2,g=2;g<T;g+=2)d[g-2]===d[g]&&d[g-1]===d[g+1]||(d[P++]=d[g],d[P++]=d[g+1]);return s(d,[P/2|0,2])}function x(_,M,b,E){for(var d=_.data,T=_.shape[0],g=f.mallocDouble(T),h=0,S=0;S<T;++S){var p=d[2*S],C=d[2*S+1];if(b[p]!==b[C]){var k=M[p],D=M[C];d[2*h]=p,d[2*h+1]=C,g[h++]=(D-E)/(D-k)}}return _.shape[0]=h,s(g,[h])}function A(_,M){var b=f.mallocInt32(M*2),E=_.shape[0],d=_.data;b[0]=0;for(var T=0,g=0;g<E;++g){var h=d[2*g];if(h!==T){for(b[2*T+1]=g;++T<h;)b[2*T]=g,b[2*T+1]=g;b[2*T]=g}}for(b[2*T+1]=E;++T<M;)b[2*T]=b[2*T+1]=E;return b}function w(_){for(var M=_.shape[0]|0,b=_.data,E=new Array(M),d=0;d<M;++d)E[d]=[b[2*d],b[2*d+1]];return E}function y(_,M,b,E){b=b||0,typeof E=="undefined"&&(E=c(_));var d=_.length;if(d===0||E<1)return{cells:[],vertexIds:[],vertexWeights:[]};var T=v(M,+b),g=m(_,E),h=x(g,M,T,+b),S=A(g,M.length|0),p=u(E)(_,g.data,S,T),C=w(g),k=[].slice.call(h.data,0,h.shape[0]);return f.free(T),f.free(g.data),f.free(h.data),f.free(S),{cells:p,vertexIds:C,vertexWeights:k}}},1570:function(a){"use strict";a.exports=i;var o=[function(){function f(u,c,v,m){for(var x=Math.min(v,m)|0,A=Math.max(v,m)|0,w=u[2*x],y=u[2*x+1];w<y;){var _=w+y>>1,M=c[2*_+1];if(M===A)return _;A<M?y=_:w=_+1}return w}function l(u,c,v,m){for(var x=u.length,A=[],w=0;w<x;++w)var y=u[w],_=y.length;return A}return l},function(){function f(u,c,v,m){for(var x=Math.min(v,m)|0,A=Math.max(v,m)|0,w=u[2*x],y=u[2*x+1];w<y;){var _=w+y>>1,M=c[2*_+1];if(M===A)return _;A<M?y=_:w=_+1}return w}function l(u,c,v,m){for(var x=u.length,A=[],w=0;w<x;++w){var y=u[w],_=y.length;if(_===2){var M=(m[y[0]]<<0)+(m[y[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([f(v,c,y[0],y[1])]);break;case 2:A.push([f(v,c,y[1],y[0])]);break;case 3:break}}}return A}return l},function(){function f(u,c,v,m){for(var x=Math.min(v,m)|0,A=Math.max(v,m)|0,w=u[2*x],y=u[2*x+1];w<y;){var _=w+y>>1,M=c[2*_+1];if(M===A)return _;A<M?y=_:w=_+1}return w}function l(u,c,v,m){for(var x=u.length,A=[],w=0;w<x;++w){var y=u[w],_=y.length;if(_===3){var M=(m[y[0]]<<0)+(m[y[1]]<<1)+(m[y[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:A.push([f(v,c,y[0],y[2]),f(v,c,y[0],y[1])]);break;case 2:A.push([f(v,c,y[1],y[0]),f(v,c,y[1],y[2])]);break;case 3:A.push([f(v,c,y[0],y[2]),f(v,c,y[1],y[2])]);break;case 4:A.push([f(v,c,y[2],y[1]),f(v,c,y[2],y[0])]);break;case 5:A.push([f(v,c,y[2],y[1]),f(v,c,y[0],y[1])]);break;case 6:A.push([f(v,c,y[1],y[0]),f(v,c,y[2],y[0])]);break;case 7:break}}else if(_===2){var M=(m[y[0]]<<0)+(m[y[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([f(v,c,y[0],y[1])]);break;case 2:A.push([f(v,c,y[1],y[0])]);break;case 3:break}}}return A}return l},function(){function f(u,c,v,m){for(var x=Math.min(v,m)|0,A=Math.max(v,m)|0,w=u[2*x],y=u[2*x+1];w<y;){var _=w+y>>1,M=c[2*_+1];if(M===A)return _;A<M?y=_:w=_+1}return w}function l(u,c,v,m){for(var x=u.length,A=[],w=0;w<x;++w){var y=u[w],_=y.length;if(_===4){var M=(m[y[0]]<<0)+(m[y[1]]<<1)+(m[y[2]]<<2)+(m[y[3]]<<3);if(M===0||M===15)continue;switch(M){case 0:break;case 1:A.push([f(v,c,y[0],y[1]),f(v,c,y[0],y[2]),f(v,c,y[0],y[3])]);break;case 2:A.push([f(v,c,y[1],y[2]),f(v,c,y[1],y[0]),f(v,c,y[1],y[3])]);break;case 3:A.push([f(v,c,y[1],y[2]),f(v,c,y[0],y[2]),f(v,c,y[0],y[3])],[f(v,c,y[1],y[3]),f(v,c,y[1],y[2]),f(v,c,y[0],y[3])]);break;case 4:A.push([f(v,c,y[2],y[0]),f(v,c,y[2],y[1]),f(v,c,y[2],y[3])]);break;case 5:A.push([f(v,c,y[0],y[1]),f(v,c,y[2],y[1]),f(v,c,y[0],y[3])],[f(v,c,y[2],y[1]),f(v,c,y[2],y[3]),f(v,c,y[0],y[3])]);break;case 6:A.push([f(v,c,y[2],y[0]),f(v,c,y[1],y[0]),f(v,c,y[1],y[3])],[f(v,c,y[2],y[3]),f(v,c,y[2],y[0]),f(v,c,y[1],y[3])]);break;case 7:A.push([f(v,c,y[0],y[3]),f(v,c,y[1],y[3]),f(v,c,y[2],y[3])]);break;case 8:A.push([f(v,c,y[3],y[1]),f(v,c,y[3],y[0]),f(v,c,y[3],y[2])]);break;case 9:A.push([f(v,c,y[3],y[1]),f(v,c,y[0],y[1]),f(v,c,y[0],y[2])],[f(v,c,y[3],y[2]),f(v,c,y[3],y[1]),f(v,c,y[0],y[2])]);break;case 10:A.push([f(v,c,y[1],y[0]),f(v,c,y[3],y[0]),f(v,c,y[1],y[2])],[f(v,c,y[3],y[0]),f(v,c,y[3],y[2]),f(v,c,y[1],y[2])]);break;case 11:A.push([f(v,c,y[1],y[2]),f(v,c,y[0],y[2]),f(v,c,y[3],y[2])]);break;case 12:A.push([f(v,c,y[3],y[0]),f(v,c,y[2],y[0]),f(v,c,y[2],y[1])],[f(v,c,y[3],y[1]),f(v,c,y[3],y[0]),f(v,c,y[2],y[1])]);break;case 13:A.push([f(v,c,y[0],y[1]),f(v,c,y[2],y[1]),f(v,c,y[3],y[1])]);break;case 14:A.push([f(v,c,y[2],y[0]),f(v,c,y[1],y[0]),f(v,c,y[3],y[0])]);break;case 15:break}}else if(_===3){var M=(m[y[0]]<<0)+(m[y[1]]<<1)+(m[y[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:A.push([f(v,c,y[0],y[2]),f(v,c,y[0],y[1])]);break;case 2:A.push([f(v,c,y[1],y[0]),f(v,c,y[1],y[2])]);break;case 3:A.push([f(v,c,y[0],y[2]),f(v,c,y[1],y[2])]);break;case 4:A.push([f(v,c,y[2],y[1]),f(v,c,y[2],y[0])]);break;case 5:A.push([f(v,c,y[2],y[1]),f(v,c,y[0],y[1])]);break;case 6:A.push([f(v,c,y[1],y[0]),f(v,c,y[2],y[0])]);break;case 7:break}}else if(_===2){var M=(m[y[0]]<<0)+(m[y[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([f(v,c,y[0],y[1])]);break;case 2:A.push([f(v,c,y[1],y[0])]);break;case 3:break}}}return A}return l}];function i(s){return o[s]()}},6803:function(a,o,i){"use strict";var s,f=i(8828),l=i(1755);function u(S){for(var p=0,C=Math.max,k=0,D=S.length;k<D;++k)p=C(p,S[k].length);return p-1}s=u;function c(S){for(var p=-1,C=Math.max,k=0,D=S.length;k<D;++k)for(var P=S[k],O=0,F=P.length;O<F;++O)p=C(p,P[O]);return p+1}s=c;function v(S){for(var p=new Array(S.length),C=0,k=S.length;C<k;++C)p[C]=S[C].slice(0);return p}s=v;function m(S,p){var C=S.length,k=S.length-p.length,D=Math.min;if(k)return k;switch(C){case 0:return 0;case 1:return S[0]-p[0];case 2:var I=S[0]+S[1]-p[0]-p[1];return I||D(S[0],S[1])-D(p[0],p[1]);case 3:var P=S[0]+S[1],O=p[0]+p[1];if(I=P+S[2]-(O+p[2]),I)return I;var F=D(S[0],S[1]),L=D(p[0],p[1]),I=D(F,S[2])-D(L,p[2]);return I||D(F+S[2],P)-D(L+p[2],O);default:var q=S.slice(0);q.sort();var z=p.slice(0);z.sort();for(var W=0;W<C;++W)if(k=q[W]-z[W],k)return k;return 0}}o.Fw=m;function x(S,p){return m(S[0],p[0])}function A(S,p){if(p){for(var C=S.length,k=new Array(C),D=0;D<C;++D)k[D]=[S[D],p[D]];k.sort(x);for(var D=0;D<C;++D)S[D]=k[D][0],p[D]=k[D][1];return S}else return S.sort(m),S}s=A;function w(S){if(S.length===0)return[];for(var p=1,C=S.length,k=1;k<C;++k){var D=S[k];if(m(D,S[k-1])){if(k===p){p++;continue}S[p++]=D}}return S.length=p,S}s=w;function y(S,p){for(var C=0,k=S.length-1,D=-1;C<=k;){var P=C+k>>1,O=m(S[P],p);O<=0?(O===0&&(D=P),C=P+1):O>0&&(k=P-1)}return D}s=y;function _(S,p){for(var C=new Array(S.length),k=0,D=C.length;k<D;++k)C[k]=[];for(var P=[],k=0,O=p.length;k<O;++k)for(var F=p[k],L=F.length,I=1,q=1<<L;I<q;++I){P.length=f.popCount(I);for(var z=0,W=0;W<L;++W)I&1<<W&&(P[z++]=F[W]);var $=y(S,P);if(!($<0))for(;C[$++].push(k),!($>=S.length||m(S[$],P)!==0););}return C}s=_;function M(S,p){if(!p)return _(w(E(S,0)),S,0);for(var C=new Array(p),k=0;k<p;++k)C[k]=[];for(var k=0,D=S.length;k<D;++k)for(var P=S[k],O=0,F=P.length;O<F;++O)C[P[O]].push(k);return C}s=M;function b(S){for(var p=[],C=0,k=S.length;C<k;++C)for(var D=S[C],P=D.length|0,O=1,F=1<<P;O<F;++O){for(var L=[],I=0;I<P;++I)O>>>I&1&&L.push(D[I]);p.push(L)}return A(p)}s=b;function E(S,p){if(p<0)return[];for(var C=[],k=(1<<p+1)-1,D=0;D<S.length;++D)for(var P=S[D],O=k;O<1<<P.length;O=f.nextCombination(O)){for(var F=new Array(p+1),L=0,I=0;I<P.length;++I)O&1<<I&&(F[L++]=P[I]);C.push(F)}return A(C)}s=E;function d(S){for(var p=[],C=0,k=S.length;C<k;++C)for(var D=S[C],P=0,O=D.length;P<O;++P){for(var F=new Array(D.length-1),L=0,I=0;L<O;++L)L!==P&&(F[I++]=D[L]);p.push(F)}return A(p)}s=d;function T(S,p){for(var C=new l(p),k=0;k<S.length;++k)for(var D=S[k],P=0;P<D.length;++P)for(var O=P+1;O<D.length;++O)C.link(D[P],D[O]);for(var F=[],L=C.ranks,k=0;k<L.length;++k)L[k]=-1;for(var k=0;k<S.length;++k){var I=C.find(S[k][0]);L[I]<0?(L[I]=F.length,F.push([S[k].slice(0)])):F[L[I]].push(S[k].slice(0))}return F}function g(S){for(var p=w(A(E(S,0))),C=new l(p.length),k=0;k<S.length;++k)for(var D=S[k],P=0;P<D.length;++P)for(var O=y(p,[D[P]]),F=P+1;F<D.length;++F)C.link(O,y(p,[D[F]]));for(var L=[],I=C.ranks,k=0;k<I.length;++k)I[k]=-1;for(var k=0;k<S.length;++k){var q=C.find(y(p,[S[k][0]]));I[q]<0?(I[q]=L.length,L.push([S[k].slice(0)])):L[I[q]].push(S[k].slice(0))}return L}function h(S,p){return p?T(S,p):g(S)}s=h},3105:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(l){return(l>0)-(l<0)},o.abs=function(l){var u=l>>i-1;return(l^u)-u},o.min=function(l,u){return u^(l^u)&-(l<u)},o.max=function(l,u){return l^(l^u)&-(l<u)},o.isPow2=function(l){return!(l&l-1)&&!!l},o.log2=function(l){var u,c;return u=(l>65535)<<4,l>>>=u,c=(l>255)<<3,l>>>=c,u|=c,c=(l>15)<<2,l>>>=c,u|=c,c=(l>3)<<1,l>>>=c,u|=c,u|l>>1},o.log10=function(l){return l>=1e9?9:l>=1e8?8:l>=1e7?7:l>=1e6?6:l>=1e5?5:l>=1e4?4:l>=1e3?3:l>=100?2:l>=10?1:0},o.popCount=function(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),(l+(l>>>4)&252645135)*16843009>>>24};function s(l){var u=32;return l&=-l,l&&u--,l&65535&&(u-=16),l&16711935&&(u-=8),l&252645135&&(u-=4),l&858993459&&(u-=2),l&1431655765&&(u-=1),u}o.countTrailingZeros=s,o.nextPow2=function(l){return l+=l===0,--l,l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l+1},o.prevPow2=function(l){return l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,l|=l>>>16,l-(l>>>1)},o.parity=function(l){return l^=l>>>16,l^=l>>>8,l^=l>>>4,l&=15,27030>>>l&1};var f=new Array(256);(function(l){for(var u=0;u<256;++u){var c=u,v=u,m=7;for(c>>>=1;c;c>>>=1)v<<=1,v|=c&1,--m;l[u]=v<<m&255}})(f),o.reverse=function(l){return f[l&255]<<24|f[l>>>8&255]<<16|f[l>>>16&255]<<8|f[l>>>24&255]},o.interleave2=function(l,u){return l&=65535,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,l|u<<1},o.deinterleave2=function(l,u){return l=l>>>u&1431655765,l=(l|l>>>1)&858993459,l=(l|l>>>2)&252645135,l=(l|l>>>4)&16711935,l=(l|l>>>16)&65535,l<<16>>16},o.interleave3=function(l,u,c){return l&=1023,l=(l|l<<16)&4278190335,l=(l|l<<8)&251719695,l=(l|l<<4)&3272356035,l=(l|l<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,l|=u<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,l|c<<2},o.deinterleave3=function(l,u){return l=l>>>u&1227133513,l=(l|l>>>2)&3272356035,l=(l|l>>>4)&251719695,l=(l|l>>>8)&4278190335,l=(l|l>>>16)&1023,l<<22>>22},o.nextCombination=function(l){var u=l|l-1;return u+1|(~u&-~u)-1>>>s(l)+1}},2014:function(a,o,i){"use strict";"use restrict";var s=i(3105),f=i(4623);function l(h){for(var S=0,p=Math.max,C=0,k=h.length;C<k;++C)S=p(S,h[C].length);return S-1}o.dimension=l;function u(h){for(var S=-1,p=Math.max,C=0,k=h.length;C<k;++C)for(var D=h[C],P=0,O=D.length;P<O;++P)S=p(S,D[P]);return S+1}o.countVertices=u;function c(h){for(var S=new Array(h.length),p=0,C=h.length;p<C;++p)S[p]=h[p].slice(0);return S}o.cloneCells=c;function v(h,S){var p=h.length,C=h.length-S.length,k=Math.min;if(C)return C;switch(p){case 0:return 0;case 1:return h[0]-S[0];case 2:var L=h[0]+h[1]-S[0]-S[1];return L||k(h[0],h[1])-k(S[0],S[1]);case 3:var D=h[0]+h[1],P=S[0]+S[1];if(L=D+h[2]-(P+S[2]),L)return L;var O=k(h[0],h[1]),F=k(S[0],S[1]),L=k(O,h[2])-k(F,S[2]);return L||k(O+h[2],D)-k(F+S[2],P);default:var I=h.slice(0);I.sort();var q=S.slice(0);q.sort();for(var z=0;z<p;++z)if(C=I[z]-q[z],C)return C;return 0}}o.compareCells=v;function m(h,S){return v(h[0],S[0])}function x(h,S){if(S){for(var p=h.length,C=new Array(p),k=0;k<p;++k)C[k]=[h[k],S[k]];C.sort(m);for(var k=0;k<p;++k)h[k]=C[k][0],S[k]=C[k][1];return h}else return h.sort(v),h}o.normalize=x;function A(h){if(h.length===0)return[];for(var S=1,p=h.length,C=1;C<p;++C){var k=h[C];if(v(k,h[C-1])){if(C===S){S++;continue}h[S++]=k}}return h.length=S,h}o.unique=A;function w(h,S){for(var p=0,C=h.length-1,k=-1;p<=C;){var D=p+C>>1,P=v(h[D],S);P<=0?(P===0&&(k=D),p=D+1):P>0&&(C=D-1)}return k}o.findCell=w;function y(h,S){for(var p=new Array(h.length),C=0,k=p.length;C<k;++C)p[C]=[];for(var D=[],C=0,P=S.length;C<P;++C)for(var O=S[C],F=O.length,L=1,I=1<<F;L<I;++L){D.length=s.popCount(L);for(var q=0,z=0;z<F;++z)L&1<<z&&(D[q++]=O[z]);var W=w(h,D);if(!(W<0))for(;p[W++].push(C),!(W>=h.length||v(h[W],D)!==0););}return p}o.incidence=y;function _(h,S){if(!S)return y(A(b(h,0)),h,0);for(var p=new Array(S),C=0;C<S;++C)p[C]=[];for(var C=0,k=h.length;C<k;++C)for(var D=h[C],P=0,O=D.length;P<O;++P)p[D[P]].push(C);return p}o.dual=_;function M(h){for(var S=[],p=0,C=h.length;p<C;++p)for(var k=h[p],D=k.length|0,P=1,O=1<<D;P<O;++P){for(var F=[],L=0;L<D;++L)P>>>L&1&&F.push(k[L]);S.push(F)}return x(S)}o.explode=M;function b(h,S){if(S<0)return[];for(var p=[],C=(1<<S+1)-1,k=0;k<h.length;++k)for(var D=h[k],P=C;P<1<<D.length;P=s.nextCombination(P)){for(var O=new Array(S+1),F=0,L=0;L<D.length;++L)P&1<<L&&(O[F++]=D[L]);p.push(O)}return x(p)}o.skeleton=b;function E(h){for(var S=[],p=0,C=h.length;p<C;++p)for(var k=h[p],D=0,P=k.length;D<P;++D){for(var O=new Array(k.length-1),F=0,L=0;F<P;++F)F!==D&&(O[L++]=k[F]);S.push(O)}return x(S)}o.boundary=E;function d(h,S){for(var p=new f(S),C=0;C<h.length;++C)for(var k=h[C],D=0;D<k.length;++D)for(var P=D+1;P<k.length;++P)p.link(k[D],k[P]);for(var O=[],F=p.ranks,C=0;C<F.length;++C)F[C]=-1;for(var C=0;C<h.length;++C){var L=p.find(h[C][0]);F[L]<0?(F[L]=O.length,O.push([h[C].slice(0)])):O[F[L]].push(h[C].slice(0))}return O}function T(h){for(var S=A(x(b(h,0))),p=new f(S.length),C=0;C<h.length;++C)for(var k=h[C],D=0;D<k.length;++D)for(var P=w(S,[k[D]]),O=D+1;O<k.length;++O)p.link(P,w(S,[k[O]]));for(var F=[],L=p.ranks,C=0;C<L.length;++C)L[C]=-1;for(var C=0;C<h.length;++C){var I=p.find(w(S,[h[C][0]]));L[I]<0?(L[I]=F.length,F.push([h[C].slice(0)])):F[L[I]].push(h[C].slice(0))}return F}function g(h,S){return S?d(h,S):T(h)}o.connectedComponents=g},4623:function(a){"use strict";"use restrict";a.exports=o;function o(i){this.roots=new Array(i),this.ranks=new Array(i);for(var s=0;s<i;++s)this.roots[s]=s,this.ranks[s]=0}o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},o.prototype.find=function(i){for(var s=this.roots;s[i]!==i;){var f=s[i];s[i]=s[f],i=f}return i},o.prototype.link=function(i,s){var f=this.find(i),l=this.find(s);if(f!==l){var u=this.ranks,c=this.roots,v=u[f],m=u[l];v<m?c[f]=l:m<v?c[l]=f:(c[l]=f,++u[f])}}},5878:function(a,o,i){"use strict";a.exports=u;var s=i(3250),f=i(2014);function l(c,v,m){var x=Math.abs(s(c,v,m)),A=Math.sqrt(Math.pow(v[0]-m[0],2)+Math.pow(v[1]-m[1],2));return x/A}function u(c,v,m){for(var x=v.length,A=c.length,w=new Array(x),y=new Array(x),_=new Array(x),M=new Array(x),b=0;b<x;++b)w[b]=y[b]=-1,_[b]=1/0,M[b]=!1;for(var b=0;b<A;++b){var E=c[b];if(E.length!==2)throw new Error("Input must be a graph");var d=E[1],T=E[0];y[T]!==-1?y[T]=-2:y[T]=d,w[d]!==-1?w[d]=-2:w[d]=T}function g(B){if(M[B])return 1/0;var X=w[B],te=y[B];return X<0||te<0?1/0:l(v[B],v[X],v[te])}function h(B,X){var te=F[B],J=F[X];F[B]=J,F[X]=te,L[te]=X,L[J]=B}function S(B){return _[F[B]]}function p(B){return B&1?B-1>>1:(B>>1)-1}function C(B){for(var X=S(B);;){var te=X,J=2*B+1,ae=2*(B+1),ee=B;if(J<q){var H=S(J);H<te&&(ee=J,te=H)}if(ae<q){var re=S(ae);re<te&&(ee=ae)}if(ee===B)return B;h(B,ee),B=ee}}function k(B){for(var X=S(B);B>0;){var te=p(B);if(te>=0){var J=S(te);if(X<J){h(B,te),B=te;continue}}return B}}function D(){if(q>0){var B=F[0];return h(0,q-1),q-=1,C(0),B}return-1}function P(B,X){var te=F[B];return _[te]===X?B:(_[te]=-1/0,k(B),D(),_[te]=X,q+=1,k(q-1))}function O(B){if(!M[B]){M[B]=!0;var X=w[B],te=y[B];w[te]>=0&&(w[te]=X),y[X]>=0&&(y[X]=te),L[X]>=0&&P(L[X],g(X)),L[te]>=0&&P(L[te],g(te))}}for(var F=[],L=new Array(x),b=0;b<x;++b){var I=_[b]=g(b);I<1/0?(L[b]=F.length,F.push(b)):L[b]=-1}for(var q=F.length,b=q>>1;b>=0;--b)C(b);for(;;){var z=D();if(z<0||_[z]>m)break;O(z)}for(var W=[],b=0;b<x;++b)M[b]||(L[b]=W.length,W.push(v[b].slice()));var $=W.length;function j(B,X){if(B[X]<0)return X;var te=X,J=X;do{var ae=B[J];if(!M[J]||ae<0||ae===J||(J=ae,ae=B[J],!M[J]||ae<0||ae===J))break;J=ae,te=B[te]}while(te!==J);for(var ee=X;ee!==J;ee=B[ee])B[ee]=J;return J}var G=[];return c.forEach(function(B){var X=j(w,B[0]),te=j(y,B[1]);if(X>=0&&te>=0&&X!==te){var J=L[X],ae=L[te];J!==ae&&G.push([J,ae])}}),f.unique(f.normalize(G)),{positions:W,edges:G}}},1303:function(a,o,i){"use strict";a.exports=l;var s=i(3250);function f(u,c){var v,m;if(c[0][0]<c[1][0])v=c[0],m=c[1];else if(c[0][0]>c[1][0])v=c[1],m=c[0];else{var x=Math.min(u[0][1],u[1][1]),A=Math.max(u[0][1],u[1][1]),w=Math.min(c[0][1],c[1][1]),y=Math.max(c[0][1],c[1][1]);return A<w?A-w:x>y?x-y:A-y}var _,M;u[0][1]<u[1][1]?(_=u[0],M=u[1]):(_=u[1],M=u[0]);var b=s(m,v,_);return b||(b=s(m,v,M),b)?b:M-m}function l(u,c){var v,m;if(c[0][0]<c[1][0])v=c[0],m=c[1];else if(c[0][0]>c[1][0])v=c[1],m=c[0];else return f(c,u);var x,A;if(u[0][0]<u[1][0])x=u[0],A=u[1];else if(u[0][0]>u[1][0])x=u[1],A=u[0];else return-f(u,c);var w=s(v,m,A),y=s(v,m,x);if(w<0){if(y<=0)return w}else if(w>0){if(y>=0)return w}else if(y)return y;if(w=s(A,x,m),y=s(A,x,v),w<0){if(y<=0)return w}else if(w>0){if(y>=0)return w}else if(y)return y;return m[0]-A[0]}},4209:function(a,o,i){"use strict";a.exports=y;var s=i(2478),f=i(3840),l=i(3250),u=i(1303);function c(_,M,b){this.slabs=_,this.coordinates=M,this.horizontal=b}var v=c.prototype;function m(_,M){return _.y-M}function x(_,M){for(var b=null;_;){var E=_.key,d,T;E[0][0]<E[1][0]?(d=E[0],T=E[1]):(d=E[1],T=E[0]);var g=l(d,T,M);if(g<0)_=_.left;else if(g>0)if(M[0]!==E[1][0])b=_,_=_.right;else{var h=x(_.right,M);if(h)return h;_=_.left}else{if(M[0]!==E[1][0])return _;var h=x(_.right,M);if(h)return h;_=_.left}}return b}v.castUp=function(_){var M=s.le(this.coordinates,_[0]);if(M<0)return-1;var b=this.slabs[M],E=x(this.slabs[M],_),d=-1;if(E&&(d=E.value),this.coordinates[M]===_[0]){var T=null;if(E&&(T=E.key),M>0){var g=x(this.slabs[M-1],_);g&&(T?u(g.key,T)>0&&(T=g.key,d=g.value):(d=g.value,T=g.key))}var h=this.horizontal[M];if(h.length>0){var S=s.ge(h,_[1],m);if(S<h.length){var p=h[S];if(_[1]===p.y){if(p.closed)return p.index;for(;S<h.length-1&&h[S+1].y===_[1];)if(S=S+1,p=h[S],p.closed)return p.index;if(p.y===_[1]&&!p.start){if(S=S+1,S>=h.length)return d;p=h[S]}}if(p.start)if(T){var C=l(T[0],T[1],[_[0],p.y]);T[0][0]>T[1][0]&&(C=-C),C>0&&(d=p.index)}else d=p.index;else p.y!==_[1]&&(d=p.index)}}}return d};function A(_,M,b,E){this.y=_,this.index=M,this.start=b,this.closed=E}function w(_,M,b,E){this.x=_,this.segment=M,this.create=b,this.index=E}function y(_){for(var M=_.length,b=2*M,E=new Array(b),d=0;d<M;++d){var T=_[d],g=T[0][0]<T[1][0];E[2*d]=new w(T[0][0],T,g,d),E[2*d+1]=new w(T[1][0],T,!g,d)}E.sort(function(F,L){var I=F.x-L.x;return I||(I=F.create-L.create,I)?I:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(L.segment[0][1],L.segment[1][1])});for(var h=f(u),S=[],p=[],C=[],k=-1/0,d=0;d<b;){for(var D=E[d].x,P=[];d<b;){var O=E[d];if(O.x!==D)break;d+=1,O.segment[0][0]===O.x&&O.segment[1][0]===O.x?O.create&&(O.segment[0][1]<O.segment[1][1]?(P.push(new A(O.segment[0][1],O.index,!0,!0)),P.push(new A(O.segment[1][1],O.index,!1,!1))):(P.push(new A(O.segment[1][1],O.index,!0,!1)),P.push(new A(O.segment[0][1],O.index,!1,!0)))):O.create?h=h.insert(O.segment,O.index):h=h.remove(O.segment)}S.push(h.root),p.push(D),C.push(P)}return new c(S,p,C)}},5202:function(a,o,i){"use strict";var s=i(1944),f=i(8210);a.exports=c,a.exports.positive=v,a.exports.negative=m;function l(x,A){var w=f(s(x,A),[A[A.length-1]]);return w[w.length-1]}function u(x,A,w,y){var _=y-A,M=-A/_;M<0?M=0:M>1&&(M=1);for(var b=1-M,E=x.length,d=new Array(E),T=0;T<E;++T)d[T]=M*x[T]+b*w[T];return d}function c(x,A){for(var w=[],y=[],_=l(x[x.length-1],A),M=x[x.length-1],b=x[0],E=0;E<x.length;++E,M=b){b=x[E];var d=l(b,A);if(_<0&&d>0||_>0&&d<0){var T=u(M,d,b,_);w.push(T),y.push(T.slice())}d<0?y.push(b.slice()):d>0?w.push(b.slice()):(w.push(b.slice()),y.push(b.slice())),_=d}return{positive:w,negative:y}}function v(x,A){for(var w=[],y=l(x[x.length-1],A),_=x[x.length-1],M=x[0],b=0;b<x.length;++b,_=M){M=x[b];var E=l(M,A);(y<0&&E>0||y>0&&E<0)&&w.push(u(_,E,M,y)),E>=0&&w.push(M.slice()),y=E}return w}function m(x,A){for(var w=[],y=l(x[x.length-1],A),_=x[x.length-1],M=x[0],b=0;b<x.length;++b,_=M){M=x[b];var E=l(M,A);(y<0&&E>0||y>0&&E<0)&&w.push(u(_,E,M,y)),E<=0&&w.push(M.slice()),y=E}return w}},3387:function(a,o,i){var s;(function(){"use strict";var f={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function l(x){return c(m(x),arguments)}function u(x,A){return l.apply(null,[x].concat(A||[]))}function c(x,A){var w=1,y=x.length,_,M="",b,E,d,T,g,h,S,p;for(b=0;b<y;b++)if(typeof x[b]=="string")M+=x[b];else if(typeof x[b]=="object"){if(d=x[b],d.keys)for(_=A[w],E=0;E<d.keys.length;E++){if(_==null)throw new Error(l('[sprintf] Cannot access property "%s" of undefined value "%s"',d.keys[E],d.keys[E-1]));_=_[d.keys[E]]}else d.param_no?_=A[d.param_no]:_=A[w++];if(f.not_type.test(d.type)&&f.not_primitive.test(d.type)&&_ instanceof Function&&(_=_()),f.numeric_arg.test(d.type)&&typeof _!="number"&&isNaN(_))throw new TypeError(l("[sprintf] expecting number but found %T",_));switch(f.number.test(d.type)&&(S=_>=0),d.type){case"b":_=parseInt(_,10).toString(2);break;case"c":_=String.fromCharCode(parseInt(_,10));break;case"d":case"i":_=parseInt(_,10);break;case"j":_=JSON.stringify(_,null,d.width?parseInt(d.width):0);break;case"e":_=d.precision?parseFloat(_).toExponential(d.precision):parseFloat(_).toExponential();break;case"f":_=d.precision?parseFloat(_).toFixed(d.precision):parseFloat(_);break;case"g":_=d.precision?String(Number(_.toPrecision(d.precision))):parseFloat(_);break;case"o":_=(parseInt(_,10)>>>0).toString(8);break;case"s":_=String(_),_=d.precision?_.substring(0,d.precision):_;break;case"t":_=String(!!_),_=d.precision?_.substring(0,d.precision):_;break;case"T":_=Object.prototype.toString.call(_).slice(8,-1).toLowerCase(),_=d.precision?_.substring(0,d.precision):_;break;case"u":_=parseInt(_,10)>>>0;break;case"v":_=_.valueOf(),_=d.precision?_.substring(0,d.precision):_;break;case"x":_=(parseInt(_,10)>>>0).toString(16);break;case"X":_=(parseInt(_,10)>>>0).toString(16).toUpperCase();break}f.json.test(d.type)?M+=_:(f.number.test(d.type)&&(!S||d.sign)?(p=S?"+":"-",_=_.toString().replace(f.sign,"")):p="",g=d.pad_char?d.pad_char==="0"?"0":d.pad_char.charAt(1):" ",h=d.width-(p+_).length,T=d.width&&h>0?g.repeat(h):"",M+=d.align?p+_+T:g==="0"?p+T+_:T+p+_)}return M}var v=Object.create(null);function m(x){if(v[x])return v[x];for(var A=x,w,y=[],_=0;A;){if((w=f.text.exec(A))!==null)y.push(w[0]);else if((w=f.modulo.exec(A))!==null)y.push("%");else if((w=f.placeholder.exec(A))!==null){if(w[2]){_|=1;var M=[],b=w[2],E=[];if((E=f.key.exec(b))!==null)for(M.push(E[1]);(b=b.substring(E[0].length))!=="";)if((E=f.key_access.exec(b))!==null)M.push(E[1]);else if((E=f.index_access.exec(b))!==null)M.push(E[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");w[2]=M}else _|=2;if(_===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");y.push({placeholder:w[0],param_no:w[1],keys:w[2],sign:w[3],pad_char:w[4],align:w[5],width:w[6],precision:w[7],type:w[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");A=A.substring(w[0].length)}return v[x]=y}o.sprintf=l,o.vsprintf=u,typeof window!="undefined"&&(window.sprintf=l,window.vsprintf=u,s=function(){return{sprintf:l,vsprintf:u}}.call(o,i,o,a),s!==void 0&&(a.exports=s))})()},3711:function(a,o,i){"use strict";a.exports=m;var s=i(2640),f=i(781),l={"2d":function(x,A,w){var y=x({order:A,scalarArguments:3,getters:w==="generic"?[0]:void 0,phase:function(M,b,E,d){return M>d|0},vertex:function(M,b,E,d,T,g,h,S,p,C,k,D,P){var O=(h<<0)+(S<<1)+(p<<2)+(C<<3)|0;if(!(O===0||O===15))switch(O){case 0:k.push([M-.5,b-.5]);break;case 1:k.push([M-.25-.25*(d+E-2*P)/(E-d),b-.25-.25*(T+E-2*P)/(E-T)]);break;case 2:k.push([M-.75-.25*(-d-E+2*P)/(d-E),b-.25-.25*(g+d-2*P)/(d-g)]);break;case 3:k.push([M-.5,b-.5-.5*(T+E+g+d-4*P)/(E-T+d-g)]);break;case 4:k.push([M-.25-.25*(g+T-2*P)/(T-g),b-.75-.25*(-T-E+2*P)/(T-E)]);break;case 5:k.push([M-.5-.5*(d+E+g+T-4*P)/(E-d+T-g),b-.5]);break;case 6:k.push([M-.5-.25*(-d-E+g+T)/(d-E+T-g),b-.5-.25*(-T-E+g+d)/(T-E+d-g)]);break;case 7:k.push([M-.75-.25*(g+T-2*P)/(T-g),b-.75-.25*(g+d-2*P)/(d-g)]);break;case 8:k.push([M-.75-.25*(-g-T+2*P)/(g-T),b-.75-.25*(-g-d+2*P)/(g-d)]);break;case 9:k.push([M-.5-.25*(d+E+-g-T)/(E-d+g-T),b-.5-.25*(T+E+-g-d)/(E-T+g-d)]);break;case 10:k.push([M-.5-.5*(-d-E+-g-T+4*P)/(d-E+g-T),b-.5]);break;case 11:k.push([M-.25-.25*(-g-T+2*P)/(g-T),b-.75-.25*(T+E-2*P)/(E-T)]);break;case 12:k.push([M-.5,b-.5-.5*(-T-E+-g-d+4*P)/(T-E+g-d)]);break;case 13:k.push([M-.75-.25*(d+E-2*P)/(E-d),b-.25-.25*(-g-d+2*P)/(g-d)]);break;case 14:k.push([M-.25-.25*(-d-E+2*P)/(d-E),b-.25-.25*(-T-E+2*P)/(T-E)]);break;case 15:k.push([M-.5,b-.5]);break}},cell:function(M,b,E,d,T,g,h,S,p){T?S.push([M,b]):S.push([b,M])}});return function(_,M){var b=[],E=[];return y(_,b,E,M),{positions:b,cells:E}}}};function u(x,A){var w=x.length+"d",y=l[w];if(y)return y(s,x,A)}function c(x,A){for(var w=f(x,A),y=w.length,_=new Array(y),M=new Array(y),b=0;b<y;++b)_[b]=[w[b]],M[b]=[b];return{positions:_,cells:M}}var v={};function m(x,_){if(x.dimension<=0)return{positions:[],cells:[]};if(x.dimension===1)return c(x,_);var w=x.order.join()+"-"+x.dtype,y=v[w],_=+_||0;return y||(y=v[w]=u(x.order,x.dtype)),y(x,_)}},529:function(a,o,i){"use strict";a.exports=c;var s=i(4359),f=window||process.global||{},l=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};function u(v){for(var m=v.cells,x=v.positions,A=new Float32Array(m.length*6),w=0,y=0,_=0;_<m.length;++_)for(var M=m[_],b=0;b<3;++b){var E=x[M[b]];A[w++]=E[0],A[w++]=E[1]+1.4,y=Math.max(E[0],y)}return{data:A,shape:y}}function c(v,m,A){var A=A||{},w=A.fontStyle||"normal",y=A.fontWeight||"normal",_=A.fontVariant||"normal",M=[w,y,_,v].join("_"),b=l[M];b||(b=l[M]={" ":{data:new Float32Array(0),shape:.2}});var E=b[m];if(!E)if(m.length<=1||!/\d/.test(m))E=b[m]=u(s(m,{triangles:!0,font:v,fontStyle:w,fontWeight:y,fontVariant:_,textAlign:A.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=m.split(/(\d|\s)/),T=new Array(d.length),g=0,h=0,S=0;S<d.length;++S)T[S]=c(v,d[S]),g+=T[S].data.length,h+=T[S].shape,S>0&&(h+=.02);for(var p=new Float32Array(g),C=0,k=-.5*h,S=0;S<T.length;++S){for(var D=T[S].data,P=0;P<D.length;P+=2)p[C++]=D[P]+k,p[C++]=D[P+1];k+=T[S].shape+.02}E=b[m]={data:p,shape:h}}return E}},665:function(a,o,i){"use strict";var s=i(3202);a.exports=c;var f=96;function l(v,m){var x=s(getComputedStyle(v).getPropertyValue(m));return x[0]*c(x[1],v)}function u(v,m){var x=document.createElement("div");x.style["font-size"]="128"+v,m.appendChild(x);var A=l(x,"font-size")/128;return m.removeChild(x),A}function c(v,m){switch(m=m||document.body,v=(v||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),v){case"%":return m.clientHeight/100;case"ch":case"ex":return u(v,m);case"em":return l(m,"font-size");case"rem":return l(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return f;case"cm":return f/2.54;case"mm":return f/25.4;case"pt":return f/72;case"pc":return f/6}return 1}},7261:function(a,o,i){"use strict";a.exports=M;var s=i(9215),f=i(7608),l=i(6079),u=i(5911),c=i(3536),v=i(244);function m(b,E,d){return Math.sqrt(Math.pow(b,2)+Math.pow(E,2)+Math.pow(d,2))}function x(b){return Math.min(1,Math.max(-1,b))}function A(b){var E=Math.abs(b[0]),d=Math.abs(b[1]),T=Math.abs(b[2]),g=[0,0,0];E>Math.max(d,T)?g[2]=1:d>Math.max(E,T)?g[0]=1:g[1]=1;for(var h=0,S=0,p=0;p<3;++p)h+=b[p]*b[p],S+=g[p]*b[p];for(var p=0;p<3;++p)g[p]-=S/h*b[p];return c(g,g),g}function w(b,E,d,T,g,h,S,p){this.center=s(d),this.up=s(T),this.right=s(g),this.radius=s([h]),this.angle=s([S,p]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(b,E),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var C=0;C<16;++C)this.computedMatrix[C]=.5;this.recalcMatrix(0)}var y=w.prototype;y.setDistanceLimits=function(b,E){b>0?b=Math.log(b):b=-1/0,E>0?E=Math.log(E):E=1/0,E=Math.max(E,b),this.radius.bounds[0][0]=b,this.radius.bounds[1][0]=E},y.getDistanceLimits=function(b){var E=this.radius.bounds[0];return b?(b[0]=Math.exp(E[0][0]),b[1]=Math.exp(E[1][0]),b):[Math.exp(E[0][0]),Math.exp(E[1][0])]},y.recalcMatrix=function(b){this.center.curve(b),this.up.curve(b),this.right.curve(b),this.radius.curve(b),this.angle.curve(b);for(var E=this.computedUp,d=this.computedRight,T=0,g=0,h=0;h<3;++h)g+=E[h]*d[h],T+=E[h]*E[h];for(var S=Math.sqrt(T),p=0,h=0;h<3;++h)d[h]-=E[h]*g/T,p+=d[h]*d[h],E[h]/=S;for(var C=Math.sqrt(p),h=0;h<3;++h)d[h]/=C;var k=this.computedToward;u(k,E,d),c(k,k);for(var D=Math.exp(this.computedRadius[0]),P=this.computedAngle[0],O=this.computedAngle[1],F=Math.cos(P),L=Math.sin(P),I=Math.cos(O),q=Math.sin(O),z=this.computedCenter,W=F*I,$=L*I,j=q,G=-F*q,B=-L*q,X=I,te=this.computedEye,J=this.computedMatrix,h=0;h<3;++h){var ae=W*d[h]+$*k[h]+j*E[h];J[4*h+1]=G*d[h]+B*k[h]+X*E[h],J[4*h+2]=ae,J[4*h+3]=0}var ee=J[1],H=J[5],re=J[9],V=J[2],ne=J[6],le=J[10],de=H*le-re*ne,_e=re*V-ee*le,me=ee*ne-H*V,ve=m(de,_e,me);de/=ve,_e/=ve,me/=ve,J[0]=de,J[4]=_e,J[8]=me;for(var h=0;h<3;++h)te[h]=z[h]+J[2+4*h]*D;for(var h=0;h<3;++h){for(var p=0,be=0;be<3;++be)p+=J[h+4*be]*te[be];J[12+h]=-p}J[15]=1},y.getMatrix=function(b,E){this.recalcMatrix(b);var d=this.computedMatrix;if(E){for(var T=0;T<16;++T)E[T]=d[T];return E}return d};var _=[0,0,0];y.rotate=function(b,E,d,T){if(this.angle.move(b,E,d),T){this.recalcMatrix(b);var g=this.computedMatrix;_[0]=g[2],_[1]=g[6],_[2]=g[10];for(var h=this.computedUp,S=this.computedRight,p=this.computedToward,C=0;C<3;++C)g[4*C]=h[C],g[4*C+1]=S[C],g[4*C+2]=p[C];l(g,g,T,_);for(var C=0;C<3;++C)h[C]=g[4*C],S[C]=g[4*C+1];this.up.set(b,h[0],h[1],h[2]),this.right.set(b,S[0],S[1],S[2])}},y.pan=function(b,E,d,T){E=E||0,d=d||0,T=T||0,this.recalcMatrix(b);var g=this.computedMatrix,h=Math.exp(this.computedRadius[0]),S=g[1],p=g[5],C=g[9],k=m(S,p,C);S/=k,p/=k,C/=k;var D=g[0],P=g[4],O=g[8],F=D*S+P*p+O*C;D-=S*F,P-=p*F,O-=C*F;var L=m(D,P,O);D/=L,P/=L,O/=L;var I=D*E+S*d,q=P*E+p*d,z=O*E+C*d;this.center.move(b,I,q,z);var W=Math.exp(this.computedRadius[0]);W=Math.max(1e-4,W+T),this.radius.set(b,Math.log(W))},y.translate=function(b,E,d,T){this.center.move(b,E||0,d||0,T||0)},y.setMatrix=function(b,E,d,T){var g=1;typeof d=="number"&&(g=d|0),(g<0||g>3)&&(g=1);var h=(g+2)%3,S=(g+1)%3;E||(this.recalcMatrix(b),E=this.computedMatrix);var p=E[g],C=E[g+4],k=E[g+8];if(T){var P=Math.abs(p),O=Math.abs(C),F=Math.abs(k),L=Math.max(P,O,F);P===L?(p=p<0?-1:1,C=k=0):F===L?(k=k<0?-1:1,p=C=0):(C=C<0?-1:1,p=k=0)}else{var D=m(p,C,k);p/=D,C/=D,k/=D}var I=E[h],q=E[h+4],z=E[h+8],W=I*p+q*C+z*k;I-=p*W,q-=C*W,z-=k*W;var $=m(I,q,z);I/=$,q/=$,z/=$;var j=C*z-k*q,G=k*I-p*z,B=p*q-C*I,X=m(j,G,B);j/=X,G/=X,B/=X,this.center.jump(b,Ve,pe,xe),this.radius.idle(b),this.up.jump(b,p,C,k),this.right.jump(b,I,q,z);var te,J;if(g===2){var ae=E[1],ee=E[5],H=E[9],re=ae*I+ee*q+H*z,V=ae*j+ee*G+H*B;_e<0?te=-Math.PI/2:te=Math.PI/2,J=Math.atan2(V,re)}else{var ne=E[2],le=E[6],de=E[10],_e=ne*p+le*C+de*k,me=ne*I+le*q+de*z,ve=ne*j+le*G+de*B;te=Math.asin(x(_e)),J=Math.atan2(ve,me)}this.angle.jump(b,J,te),this.recalcMatrix(b);var be=E[2],we=E[6],Se=E[10],Ae=this.computedMatrix;f(Ae,E);var Ie=Ae[15],Ve=Ae[12]/Ie,pe=Ae[13]/Ie,xe=Ae[14]/Ie,Te=Math.exp(this.computedRadius[0]);this.center.jump(b,Ve-be*Te,pe-we*Te,xe-Se*Te)},y.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},y.idle=function(b){this.center.idle(b),this.up.idle(b),this.right.idle(b),this.radius.idle(b),this.angle.idle(b)},y.flush=function(b){this.center.flush(b),this.up.flush(b),this.right.flush(b),this.radius.flush(b),this.angle.flush(b)},y.setDistance=function(b,E){E>0&&this.radius.set(b,Math.log(E))},y.lookAt=function(b,E,d,T){this.recalcMatrix(b),E=E||this.computedEye,d=d||this.computedCenter,T=T||this.computedUp;var g=T[0],h=T[1],S=T[2],p=m(g,h,S);if(!(p<1e-6)){g/=p,h/=p,S/=p;var C=E[0]-d[0],k=E[1]-d[1],D=E[2]-d[2],P=m(C,k,D);if(!(P<1e-6)){C/=P,k/=P,D/=P;var O=this.computedRight,F=O[0],L=O[1],I=O[2],q=g*F+h*L+S*I;F-=q*g,L-=q*h,I-=q*S;var z=m(F,L,I);if(!(z<.01&&(F=h*D-S*k,L=S*C-g*D,I=g*k-h*C,z=m(F,L,I),z<1e-6))){F/=z,L/=z,I/=z,this.up.set(b,g,h,S),this.right.set(b,F,L,I),this.center.set(b,d[0],d[1],d[2]),this.radius.set(b,Math.log(P));var W=h*I-S*L,$=S*F-g*I,j=g*L-h*F,G=m(W,$,j);W/=G,$/=G,j/=G;var B=g*C+h*k+S*D,X=F*C+L*k+I*D,te=W*C+$*k+j*D,J=Math.asin(x(B)),ae=Math.atan2(te,X),ee=this.angle._state,H=ee[ee.length-1],re=ee[ee.length-2];H=H%(2*Math.PI);var V=Math.abs(H+2*Math.PI-ae),ne=Math.abs(H-ae),le=Math.abs(H-2*Math.PI-ae);V<ne&&(H+=2*Math.PI),le<ne&&(H-=2*Math.PI),this.angle.jump(this.angle.lastT(),H,re),this.angle.set(b,ae,J)}}}};function M(b){b=b||{};var E=b.center||[0,0,0],d=b.up||[0,1,0],T=b.right||A(d),g=b.radius||1,h=b.theta||0,S=b.phi||0;if(E=[].slice.call(E,0,3),d=[].slice.call(d,0,3),c(d,d),T=[].slice.call(T,0,3),c(T,T),"eye"in b){var p=b.eye,C=[p[0]-E[0],p[1]-E[1],p[2]-E[2]];u(T,C,d),m(T[0],T[1],T[2])<1e-6?T=A(d):c(T,T),g=m(C[0],C[1],C[2]);var k=v(d,C)/g,D=v(T,C)/g;S=Math.acos(k),h=Math.acos(D)}return g=Math.log(g),new w(b.zoomMin,b.zoomMax,E,d,T,g,h,S)}},5250:function(a){"use strict";a.exports=i;var o=+(Math.pow(2,27)+1);function i(s,f,l){var u=s*f,c=o*s,v=c-s,m=c-v,x=s-m,A=o*f,w=A-f,y=A-w,_=f-y,M=u-m*y,b=M-x*y,E=b-m*_,d=x*_-E;return l?(l[0]=d,l[1]=u,l):[d,u]}},9362:function(a){"use strict";a.exports=o;function o(i,s,f){var l=i+s,u=l-i,c=l-u,v=s-u,m=i-c;return f?(f[0]=m+v,f[1]=l,f):[m+v,l]}},1888:function(a,o,i){"use strict";var s=i(8828),f=i(1338),l=i(4793).hp;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:f([32,0]),UINT16:f([32,0]),UINT32:f([32,0]),BIGUINT64:f([32,0]),INT8:f([32,0]),INT16:f([32,0]),INT32:f([32,0]),BIGINT64:f([32,0]),FLOAT:f([32,0]),DOUBLE:f([32,0]),DATA:f([32,0]),UINT8C:f([32,0]),BUFFER:f([32,0])});var u=typeof Uint8ClampedArray!="undefined",c=typeof BigUint64Array!="undefined",v=typeof BigInt64Array!="undefined",m=i.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=f([32,0])),m.BIGUINT64||(m.BIGUINT64=f([32,0])),m.BIGINT64||(m.BIGINT64=f([32,0])),m.BUFFER||(m.BUFFER=f([32,0]));var x=m.DATA,A=m.BUFFER;o.free=function(F){if(l.isBuffer(F))A[s.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var L=F.length||F.byteLength,I=s.log2(L)|0;x[I].push(F)}};function w(O){if(O){var F=O.length||O.byteLength,L=s.log2(F);x[L].push(O)}}function y(O){w(O.buffer)}o.freeUint8=o.freeUint16=o.freeUint32=o.freeBigUint64=o.freeInt8=o.freeInt16=o.freeInt32=o.freeBigInt64=o.freeFloat32=o.freeFloat=o.freeFloat64=o.freeDouble=o.freeUint8Clamped=o.freeDataView=y,o.freeArrayBuffer=w,o.freeBuffer=function(F){A[s.log2(F.length)].push(F)},o.malloc=function(F,L){if(L===void 0||L==="arraybuffer")return _(F);switch(L){case"uint8":return M(F);case"uint16":return b(F);case"uint32":return E(F);case"int8":return d(F);case"int16":return T(F);case"int32":return g(F);case"float":case"float32":return h(F);case"double":case"float64":return S(F);case"uint8_clamped":return p(F);case"bigint64":return k(F);case"biguint64":return C(F);case"buffer":return P(F);case"data":case"dataview":return D(F);default:return null}return null};function _(F){var F=s.nextPow2(F),L=s.log2(F),I=x[L];return I.length>0?I.pop():new ArrayBuffer(F)}o.mallocArrayBuffer=_;function M(O){return new Uint8Array(_(O),0,O)}o.mallocUint8=M;function b(O){return new Uint16Array(_(2*O),0,O)}o.mallocUint16=b;function E(O){return new Uint32Array(_(4*O),0,O)}o.mallocUint32=E;function d(O){return new Int8Array(_(O),0,O)}o.mallocInt8=d;function T(O){return new Int16Array(_(2*O),0,O)}o.mallocInt16=T;function g(O){return new Int32Array(_(4*O),0,O)}o.mallocInt32=g;function h(O){return new Float32Array(_(4*O),0,O)}o.mallocFloat32=o.mallocFloat=h;function S(O){return new Float64Array(_(8*O),0,O)}o.mallocFloat64=o.mallocDouble=S;function p(O){return u?new Uint8ClampedArray(_(O),0,O):M(O)}o.mallocUint8Clamped=p;function C(O){return c?new BigUint64Array(_(8*O),0,O):null}o.mallocBigUint64=C;function k(O){return v?new BigInt64Array(_(8*O),0,O):null}o.mallocBigInt64=k;function D(O){return new DataView(_(O),0,O)}o.mallocDataView=D;function P(O){O=s.nextPow2(O);var F=s.log2(O),L=A[F];return L.length>0?L.pop():new l(O)}o.mallocBuffer=P,o.clearCache=function(){for(var F=0;F<32;++F)m.UINT8[F].length=0,m.UINT16[F].length=0,m.UINT32[F].length=0,m.INT8[F].length=0,m.INT16[F].length=0,m.INT32[F].length=0,m.FLOAT[F].length=0,m.DOUBLE[F].length=0,m.BIGUINT64[F].length=0,m.BIGINT64[F].length=0,m.UINT8C[F].length=0,x[F].length=0,A[F].length=0}},1755:function(a){"use strict";"use restrict";a.exports=o;function o(s){this.roots=new Array(s),this.ranks=new Array(s);for(var f=0;f<s;++f)this.roots[f]=f,this.ranks[f]=0}var i=o.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var s=this.roots.length;return this.roots.push(s),this.ranks.push(0),s},i.find=function(s){for(var f=s,l=this.roots;l[s]!==s;)s=l[s];for(;l[f]!==s;){var u=l[f];l[f]=s,f=u}return s},i.link=function(s,f){var l=this.find(s),u=this.find(f);if(l!==u){var c=this.ranks,v=this.roots,m=c[l],x=c[u];m<x?v[l]=u:x<m?v[u]=l:(v[u]=l,++c[l])}}},1682:function(a){"use strict";function o(f,l){for(var u=1,c=f.length,v=f[0],m=f[0],x=1;x<c;++x)if(m=v,v=f[x],l(v,m)){if(x===u){u++;continue}f[u++]=v}return f.length=u,f}function i(f){for(var l=1,u=f.length,c=f[0],v=f[0],m=1;m<u;++m,v=c)if(v=c,c=f[m],c!==v){if(m===l){l++;continue}f[l++]=c}return f.length=l,f}function s(f,l,u){return f.length===0?f:l?(u||f.sort(l),o(f,l)):(u||f.sort(),i(f))}a.exports=s},4359:function(a,o,i){"use strict";a.exports=u;var s=i(7718),f=null,l=null;typeof document!="undefined"&&(f=document.createElement("canvas"),f.width=8192,f.height=1024,l=f.getContext("2d"));function u(c,v){return(typeof v!="object"||v===null)&&(v={}),s(c,v.canvas||f,v.context||l,v)}},7718:function(a,o,i){a.exports=k,a.exports.processPixels=C;var s=i(3711),f=i(9618),l=i(5878),u=i(332),c=i(2538),v=i(2095),m="b",x="b|",A="i",w="i|",y="sup",_="+",M="+1",b="sub",E="-",d="-1";function T(D,P,O,F){for(var L="<"+D+">",I="</"+D+">",q=L.length,z=I.length,W=P[0]===_||P[0]===E,$=0,j=-z;$>-1&&($=O.indexOf(L,$),!($===-1||(j=O.indexOf(I,$+q),j===-1)||j<=$));){for(var G=$;G<j+z;++G)if(G<$+q||G>=j)F[G]=null,O=O.substr(0,G)+" "+O.substr(G+1);else if(F[G]!==null){var B=F[G].indexOf(P[0]);B===-1?F[G]+=P:W&&(F[G]=F[G].substr(0,B+1)+(1+parseInt(F[G][B+1]))+F[G].substr(B+2))}var X=$+q,te=O.substr(X,j-X),J=te.indexOf(L);J!==-1?$=J:$=j+z}return F}function g(D,P,O){for(var F=P.textAlign||"start",L=P.textBaseline||"alphabetic",I=[1<<30,1<<30],q=[0,0],z=D.length,W=0;W<z;++W)for(var $=D[W],j=0;j<2;++j)I[j]=Math.min(I[j],$[j])|0,q[j]=Math.max(q[j],$[j])|0;var G=0;switch(F){case"center":G=-.5*(I[0]+q[0]);break;case"right":case"end":G=-q[0];break;case"left":case"start":G=-I[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+F+"'")}var B=0;switch(L){case"hanging":case"top":B=-I[1];break;case"middle":B=-.5*(I[1]+q[1]);break;case"alphabetic":case"ideographic":B=-3*O;break;case"bottom":B=-q[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+L+"'")}var X=1/O;return"lineHeight"in P?X*=+P.lineHeight:"width"in P?X=P.width/(q[0]-I[0]):"height"in P&&(X=P.height/(q[1]-I[1])),D.map(function(te){return[X*(te[0]+G),X*(te[1]+B)]})}function h(D,P,O,F,L,I){O=O.replace(/\n/g,""),I.breaklines===!0?O=O.replace(/\<br\>/g,`
`):O=O.replace(/\<br\>/g," ");var q="",z=[];for(H=0;H<O.length;++H)z[H]=q;I.bolds===!0&&(z=T(m,x,O,z)),I.italics===!0&&(z=T(A,w,O,z)),I.superscripts===!0&&(z=T(y,M,O,z)),I.subscripts===!0&&(z=T(b,d,O,z));var W=[],$="";for(H=0;H<O.length;++H)z[H]!==null&&($+=O[H],W.push(z[H]));var j=$.split(`
`),G=j.length,B=Math.round(L*F),X=F,te=F*2,J=0,ae=G*B+te;D.height<ae&&(D.height=ae),P.fillStyle="#000",P.fillRect(0,0,D.width,D.height),P.fillStyle="#fff";var ee,H,re,V,ne,le=0,de="";function _e(){if(de!==""){var pe=P.measureText(de).width;P.fillText(de,X+re,te+V),re+=pe}}function me(){return""+Math.round(ne)+"px "}function ve(pe,xe){var Te=""+P.font;if(I.subscripts===!0){var qe=pe.indexOf(E),er=xe.indexOf(E),ze=qe>-1?parseInt(pe[1+qe]):0,Ce=er>-1?parseInt(xe[1+er]):0;ze!==Ce&&(Te=Te.replace(me(),"?px "),ne*=Math.pow(.75,Ce-ze),Te=Te.replace("?px ",me())),V+=.25*B*(Ce-ze)}if(I.superscripts===!0){var Le=pe.indexOf(_),Ne=xe.indexOf(_),tr=Le>-1?parseInt(pe[1+Le]):0,ir=Ne>-1?parseInt(xe[1+Ne]):0;tr!==ir&&(Te=Te.replace(me(),"?px "),ne*=Math.pow(.75,ir-tr),Te=Te.replace("?px ",me())),V-=.25*B*(ir-tr)}if(I.bolds===!0){var mr=pe.indexOf(x)>-1,Tr=xe.indexOf(x)>-1;!mr&&Tr&&(pr?Te=Te.replace("italic ","italic bold "):Te="bold "+Te),mr&&!Tr&&(Te=Te.replace("bold ",""))}if(I.italics===!0){var pr=pe.indexOf(w)>-1,nr=xe.indexOf(w)>-1;!pr&&nr&&(Te="italic "+Te),pr&&!nr&&(Te=Te.replace("italic ",""))}P.font=Te}for(ee=0;ee<G;++ee){var be=j[ee]+`
`;for(re=0,V=ee*B,ne=F,de="",H=0;H<be.length;++H){var we=H+le<W.length?W[H+le]:W[W.length-1];q===we?de+=be[H]:(_e(),de=be[H],we!==void 0&&(ve(q,we),q=we))}_e(),le+=be.length;var Se=Math.round(re+2*X)|0;J<Se&&(J=Se)}var Ae=J,Ie=te+B*G,Ve=f(P.getImageData(0,0,Ae,Ie).data,[Ie,Ae,4]);return Ve.pick(-1,-1,0).transpose(1,0)}function S(D,P){var O=s(D,128);return P?l(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}function p(D,P,O,F){var L=S(D,F),I=g(L.positions,P,O),q=L.edges,z=P.orientation==="ccw";if(u(I,q),P.polygons||P.polygon||P.polyline){for(var W=v(q,I),$=new Array(W.length),j=0;j<W.length;++j){for(var G=W[j],B=new Array(G.length),X=0;X<G.length;++X){for(var te=G[X],J=new Array(te.length),ae=0;ae<te.length;++ae)J[ae]=I[te[ae]].slice();z&&J.reverse(),B[X]=J}$[j]=B}return $}else return P.triangles||P.triangulate||P.triangle?{cells:c(I,q,{delaunay:!1,exterior:!1,interior:!0}),positions:I}:{edges:q,positions:I}}function C(D,P,O){try{return p(D,P,O,!0)}catch(F){}try{return p(D,P,O,!1)}catch(F){}return P.polygons||P.polyline||P.polygon?[]:P.triangles||P.triangulate||P.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function k(D,P,O,F){var L=64,I=1.25,q={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};F&&(F.size&&F.size>0&&(L=F.size),F.lineSpacing&&F.lineSpacing>0&&(I=F.lineSpacing),F.styletags&&F.styletags.breaklines&&(q.breaklines=!!F.styletags.breaklines),F.styletags&&F.styletags.bolds&&(q.bolds=!!F.styletags.bolds),F.styletags&&F.styletags.italics&&(q.italics=!!F.styletags.italics),F.styletags&&F.styletags.subscripts&&(q.subscripts=!!F.styletags.subscripts),F.styletags&&F.styletags.superscripts&&(q.superscripts=!!F.styletags.superscripts)),O.font=[F.fontStyle,F.fontVariant,F.fontWeight,L+"px",F.font].filter(function(W){return W}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr";var z=h(P,O,D,L,I,q);return C(z,F,L)}},1538:function(a){(function(){"use strict";if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;function i(p){p.permitHostObjects___&&p.permitHostObjects___(i)}typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=i);var s=!1;if(typeof WeakMap=="function"){var f=WeakMap;if(!(typeof navigator!="undefined"&&/Firefox/.test(navigator.userAgent))){var l=new f,u=Object.freeze({});if(l.set(u,1),l.get(u)!==1)s=!0;else{a.exports=WeakMap;return}}}var c=Object.prototype.hasOwnProperty,v=Object.getOwnPropertyNames,m=Object.defineProperty,x=Object.isExtensible,A="weakmap:",w=A+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var y=new ArrayBuffer(25),_=new Uint8Array(y);crypto.getRandomValues(_),w=A+"rand:"+Array.prototype.map.call(_,function(p){return(p%36).toString(36)}).join("")+"___"}function M(p){return!(p.substr(0,A.length)==A&&p.substr(p.length-3)==="___")}if(m(Object,"getOwnPropertyNames",{value:function(C){return v(C).filter(M)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;m(Object,"getPropertyNames",{value:function(C){return b(C).filter(M)}})}function E(p){if(p!==Object(p))throw new TypeError("Not an object: "+p);var C=p[w];if(C&&C.key===p)return C;if(x(p)){C={key:p};try{return m(p,w,{value:C,writable:!1,enumerable:!1,configurable:!1}),C}catch(k){return}}}(function(){var p=Object.freeze;m(Object,"freeze",{value:function(P){return E(P),p(P)}});var C=Object.seal;m(Object,"seal",{value:function(P){return E(P),C(P)}});var k=Object.preventExtensions;m(Object,"preventExtensions",{value:function(P){return E(P),k(P)}})})();function d(p){return p.prototype=null,Object.freeze(p)}var T=!1;function g(){!T&&typeof console!="undefined"&&(T=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var h=0,S=function(){this instanceof S||g();var p=[],C=[],k=h++;function D(L,I){var q,z=E(L);return z?k in z?z[k]:I:(q=p.indexOf(L),q>=0?C[q]:I)}function P(L){var I=E(L);return I?k in I:p.indexOf(L)>=0}function O(L,I){var q,z=E(L);return z?z[k]=I:(q=p.indexOf(L),q>=0?C[q]=I:(q=p.length,C[q]=I,p[q]=L)),this}function F(L){var I=E(L),q,z;return I?k in I&&delete I[k]:(q=p.indexOf(L),q<0?!1:(z=p.length-1,p[q]=void 0,C[q]=C[z],p[q]=p[z],p.length=z,C.length=z,!0))}return Object.create(S.prototype,{get___:{value:d(D)},has___:{value:d(P)},set___:{value:d(O)},delete___:{value:d(F)}})};S.prototype=Object.create(Object.prototype,{get:{value:function(C,k){return this.get___(C,k)},writable:!0,configurable:!0},has:{value:function(C){return this.has___(C)},writable:!0,configurable:!0},set:{value:function(C,k){return this.set___(C,k)},writable:!0,configurable:!0},delete:{value:function(C){return this.delete___(C)},writable:!0,configurable:!0}}),typeof f=="function"?function(){s&&typeof Proxy!="undefined"&&(Proxy=void 0);function p(){this instanceof S||g();var C=new f,k=void 0,D=!1;function P(I,q){return k?C.has(I)?C.get(I):k.get___(I,q):C.get(I,q)}function O(I){return C.has(I)||(k?k.has___(I):!1)}var F;s?F=function(I,q){return C.set(I,q),C.has(I)||(k||(k=new S),k.set(I,q)),this}:F=function(I,q){if(D)try{C.set(I,q)}catch(z){k||(k=new S),k.set___(I,q)}else C.set(I,q);return this};function L(I){var q=!!C.delete(I);return k&&k.delete___(I)||q}return Object.create(S.prototype,{get___:{value:d(P)},has___:{value:d(O)},set___:{value:d(F)},delete___:{value:d(L)},permitHostObjects___:{value:d(function(I){if(I===i)D=!0;else throw new Error("bogus call to permitHostObjects___")})}})}p.prototype=S.prototype,a.exports=p,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=void 0),a.exports=S)})()},236:function(a,o,i){var s=i(8284);a.exports=f;function f(){var l={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var c=u.valueOf(l);return c&&c.identity===l?c:s(u,l)}}},8284:function(a){a.exports=o;function o(i,s){var f={identity:s},l=i.valueOf;return Object.defineProperty(i,"valueOf",{value:function(u){return u!==s?l.apply(this,arguments):f},writable:!0}),f}},606:function(a,o,i){var s=i(236);a.exports=f;function f(){var l=s();return{get:function(u,c){var v=l(u);return v.hasOwnProperty("value")?v.value:c},set:function(u,c){return l(u).value=c,this},has:function(u){return"value"in l(u)},delete:function(u){return delete l(u).value}}}},3349:function(a){"use strict";function o(){return function(c,v,m,x,A,w){var y=c[0],_=m[0],M=[0],b=_;x|=0;var E=0,d=_;for(E=0;E<y;++E){{var T=v[x]-w,g=v[x+b]-w;T>=0!=g>=0&&A.push(M[0]+.5+.5*(T+g)/(T-g))}x+=d,++M[0]}}}function i(){return o()}var s=i;function f(c){var v={};return function(x,A,w){var y=x.dtype,_=x.order,M=[y,_.join()].join(),b=v[M];return b||(v[M]=b=c([y,_])),b(x.shape.slice(0),x.data,x.stride,x.offset|0,A,w)}}function l(c){return f(s.bind(void 0,c))}function u(c){return l({funcName:c.funcName})}a.exports=u({funcName:"zeroCrossings"})},781:function(a,o,i){"use strict";a.exports=f;var s=i(3349);function f(l,u){var c=[];return u=+u||0,s(l.hi(l.shape[0]-1),c,u),c}},7790:function(){}},r={};function t(a){var o=r[a];if(o!==void 0)return o.exports;var i=r[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}(function(){t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}()})(),function(){t.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a}}();var n=t(1964);Tne.exports=n})()});var r_=ie((oGe,Mne)=>{"use strict";var k9e=Zu();function L9e(e){return e?k9e(e):[0,0,0,1]}Mne.exports=L9e});var Lne=ie((sGe,kne)=>{"use strict";var R9e=Sd().gl_pointcloud2d,D9e=wr().isArrayOrTypedArray,Ene=r_(),Sne=Au().findExtremes,F9e=Cx();function Cne(e,r){this.scene=e,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=R9e(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var t_=Cne.prototype;t_.handlePick=function(e){var r=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:D9e(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}};t_.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=F9e(e,{})};t_.updateFast=function(e){var r=this.xData=this.pickXData=e.x,t=this.yData=this.pickYData=e.y,n=this.pickXYData=e.xy,a=e.xbounds&&e.ybounds,o=e.indices,i,s,f,l=this.bounds,u,c,v;if(n){if(f=n,i=n.length>>>1,a)l[0]=e.xbounds[0],l[2]=e.xbounds[1],l[1]=e.ybounds[0],l[3]=e.ybounds[1];else for(v=0;v<i;v++)u=f[v*2],c=f[v*2+1],u<l[0]&&(l[0]=u),u>l[2]&&(l[2]=u),c<l[1]&&(l[1]=c),c>l[3]&&(l[3]=c);if(o)s=o;else for(s=new Int32Array(i),v=0;v<i;v++)s[v]=v}else for(i=r.length,f=new Float32Array(2*i),s=new Int32Array(i),v=0;v<i;v++)u=r[v],c=t[v],s[v]=v,f[v*2]=u,f[v*2+1]=c,u<l[0]&&(l[0]=u),u>l[2]&&(l[2]=u),c<l[1]&&(l[1]=c),c>l[3]&&(l[3]=c);this.idToIndex=s,this.pointcloudOptions.idToIndex=s,this.pointcloudOptions.positions=f;var m=Ene(e.marker.color),x=Ene(e.marker.border.color),A=e.opacity*e.marker.opacity;m[3]*=A,this.pointcloudOptions.color=m;var w=e.marker.blend;if(w===null){var y=100;w=r.length<y||t.length<y}this.pointcloudOptions.blend=w,x[3]*=A,this.pointcloudOptions.borderColor=x;var _=e.marker.sizemin,M=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=_,this.pointcloudOptions.sizeMax=M,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var b=this.scene.xaxis,E=this.scene.yaxis,d=M/2||.5;e._extremes[b._id]=Sne(b,[l[0],l[2]],{ppad:d}),e._extremes[E._id]=Sne(E,[l[1],l[3]],{ppad:d})};t_.dispose=function(){this.pointcloud.dispose()};function I9e(e,r){var t=new Cne(e,r.uid);return t.update(r),t}kne.exports=I9e});var Dne=ie((lGe,Rne)=>{Rne.exports=P9e;function P9e(e,r){if(typeof e!="string")throw new TypeError("must specify type string");if(r=r||{},typeof document=="undefined"&&!r.canvas)return null;var t=r.canvas||document.createElement("canvas");typeof r.width=="number"&&(t.width=r.width),typeof r.height=="number"&&(t.height=r.height);var n=r,a;try{var o=[e];e.indexOf("webgl")===0&&o.push("experimental-"+e);for(var i=0;i<o.length;i++)if(a=t.getContext(o[i],n),a)return a}catch(s){a=null}return a||null}});var Ine=ie((fGe,Fne)=>{var O9e=Dne();Fne.exports=function(r){return O9e("webgl",r)}});var Nne=ie((uGe,One)=>{"use strict";var N9e=Rn(),z0=r_();function Pne(e){this.scene=e,this.gl=e.gl,this.pixelRatio=e.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var U0=Pne.prototype,B9e=["xaxis","yaxis"];U0.merge=function(e){this.titleEnable=!1,this.backgroundColor=z0(e.plot_bgcolor);var r,t,n,a,o,i,s,f,l,u,c;for(u=0;u<2;++u){r=B9e[u];var v=r.charAt(0);for(t=e[this.scene[r]._name],n=t.title.text===this.scene.fullLayout._dfltTitle[v]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[u+c]=!1,this.labels[u+c]=n,this.labelColor[u+c]=z0(t.title.font.color),this.labelFont[u+c]=t.title.font.family,this.labelSize[u+c]=t.title.font.size,this.labelPad[u+c]=this.getLabelPad(r,t),this.tickEnable[u+c]=!1,this.tickColor[u+c]=z0((t.tickfont||{}).color),this.tickAngle[u+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[u+c]=this.getTickPad(t),this.tickMarkLength[u+c]=0,this.tickMarkWidth[u+c]=t.tickwidth||0,this.tickMarkColor[u+c]=z0(t.tickcolor),this.borderLineEnable[u+c]=!1,this.borderLineColor[u+c]=z0(t.linecolor),this.borderLineWidth[u+c]=t.linewidth||0;s=this.hasSharedAxis(t),o=this.hasAxisInDfltPos(r,t)&&!s,i=this.hasAxisInAltrPos(r,t)&&!s,a=t.mirror||!1,f=s?String(a).indexOf("all")!==-1:!!a,l=s?a==="allticks":String(a).indexOf("ticks")!==-1,o?this.labelEnable[u]=!0:i&&(this.labelEnable[u+2]=!0),o?this.tickEnable[u]=t.showticklabels:i&&(this.tickEnable[u+2]=t.showticklabels),(o||f)&&(this.borderLineEnable[u]=t.showline),(i||f)&&(this.borderLineEnable[u+2]=t.showline),(o||l)&&(this.tickMarkLength[u]=this.getTickMarkLength(t)),(i||l)&&(this.tickMarkLength[u+2]=this.getTickMarkLength(t)),this.gridLineEnable[u]=t.showgrid,this.gridLineColor[u]=z0(t.gridcolor),this.gridLineWidth[u]=t.gridwidth,this.zeroLineEnable[u]=t.zeroline,this.zeroLineColor[u]=z0(t.zerolinecolor),this.zeroLineWidth[u]=t.zerolinewidth}};U0.hasSharedAxis=function(e){var r=this.scene,t=r.fullLayout._subplots.gl2d,n=N9e.findSubplotsWithAxis(t,e);return n.indexOf(r.id)!==0};U0.hasAxisInDfltPos=function(e,r){var t=r.side;if(e==="xaxis")return t==="bottom";if(e==="yaxis")return t==="left"};U0.hasAxisInAltrPos=function(e,r){var t=r.side;if(e==="xaxis")return t==="top";if(e==="yaxis")return t==="right"};U0.getLabelPad=function(e,r){var t=1.5,n=r.title.font.size,a=r.showticklabels;if(e==="xaxis")return r.side==="top"?-10+n*(t+(a?1:0)):-10+n*(t+(a?.5:0));if(e==="yaxis")return r.side==="right"?10+n*(t+(a?1:.5)):10+n*(t+(a?.5:0))};U0.getTickPad=function(e){return e.ticks==="outside"?10+e.ticklen:15};U0.getTickMarkLength=function(e){if(!e.ticks)return 0;var r=e.ticklen;return e.ticks==="inside"?-r:r};function q9e(e){return new Pne(e)}One.exports=q9e});var Bne=ie(ly=>{"use strict";function z9e(e){if(typeof e=="object"){if("buttons"in e)return e.buttons;if("which"in e){var r=e.which;if(r===2)return 4;if(r===3)return 2;if(r>0)return 1<<r-1}else if("button"in e){var r=e.button;if(r===1)return 4;if(r===2)return 2;if(r>=0)return 1<<r}}return 0}ly.buttons=z9e;function mE(e){return e.target||e.srcElement||window}ly.element=mE;function U9e(e){if(typeof e=="object"){if("offsetX"in e)return e.offsetX;var r=mE(e),t=r.getBoundingClientRect();return e.clientX-t.left}return 0}ly.x=U9e;function G9e(e){if(typeof e=="object"){if("offsetY"in e)return e.offsetY;var r=mE(e),t=r.getBoundingClientRect();return e.clientY-t.top}return 0}ly.y=G9e});var zne=ie((hGe,qne)=>{"use strict";qne.exports=H9e;var fy=Bne();function H9e(e,r){r||(r=e,e=window);var t=0,n=0,a=0,o={shift:!1,alt:!1,control:!1,meta:!1},i=!1;function s(_){var M=!1;return"altKey"in _&&(M=M||_.altKey!==o.alt,o.alt=!!_.altKey),"shiftKey"in _&&(M=M||_.shiftKey!==o.shift,o.shift=!!_.shiftKey),"ctrlKey"in _&&(M=M||_.ctrlKey!==o.control,o.control=!!_.ctrlKey),"metaKey"in _&&(M=M||_.metaKey!==o.meta,o.meta=!!_.metaKey),M}function f(_,M){var b=fy.x(M),E=fy.y(M);"buttons"in M&&(_=M.buttons|0),(_!==t||b!==n||E!==a||s(M))&&(t=_|0,n=b||0,a=E||0,r&&r(t,n,a,o))}function l(_){f(0,_)}function u(){(t||n||a||o.shift||o.alt||o.meta||o.control)&&(n=a=0,t=0,o.shift=o.alt=o.control=o.meta=!1,r&&r(0,0,0,o))}function c(_){s(_)&&r&&r(t,n,a,o)}function v(_){fy.buttons(_)===0?f(0,_):f(t,_)}function m(_){f(t|fy.buttons(_),_)}function x(_){f(t&~fy.buttons(_),_)}function A(){i||(i=!0,e.addEventListener("mousemove",v),e.addEventListener("mousedown",m),e.addEventListener("mouseup",x),e.addEventListener("mouseleave",l),e.addEventListener("mouseenter",l),e.addEventListener("mouseout",l),e.addEventListener("mouseover",l),e.addEventListener("blur",u),e.addEventListener("keyup",c),e.addEventListener("keydown",c),e.addEventListener("keypress",c),e!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",c),window.addEventListener("keydown",c),window.addEventListener("keypress",c)))}function w(){i&&(i=!1,e.removeEventListener("mousemove",v),e.removeEventListener("mousedown",m),e.removeEventListener("mouseup",x),e.removeEventListener("mouseleave",l),e.removeEventListener("mouseenter",l),e.removeEventListener("mouseout",l),e.removeEventListener("mouseover",l),e.removeEventListener("blur",u),e.removeEventListener("keyup",c),e.removeEventListener("keydown",c),e.removeEventListener("keypress",c),e!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",c),window.removeEventListener("keydown",c),window.removeEventListener("keypress",c)))}A();var y={element:e};return Object.defineProperties(y,{enabled:{get:function(){return i},set:function(_){_?A():w()},enumerable:!0},buttons:{get:function(){return t},enumerable:!0},x:{get:function(){return n},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),y}});var Gne=ie((vGe,Une)=>{"use strict";var V9e=tE();Une.exports=Y9e;function Y9e(e,r,t){typeof e=="function"&&(t=!!r,r=e,e=window);var n=V9e("ex",e),a=function(o){t&&o.preventDefault();var i=o.deltaX||0,s=o.deltaY||0,f=o.deltaZ||0,l=o.deltaMode,u=1;switch(l){case 1:u=n;break;case 2:u=window.innerHeight;break}if(i*=u,s*=u,f*=u,i||s||f)return r(i,s,f,o)};return e.addEventListener("wheel",a),a}});var Wne=ie((dGe,Yne)=>{"use strict";var W9e=zne(),X9e=Gne(),Hne=x6(),Vne=Pa(),xE=r3();Yne.exports=j9e;function Z9e(e,r){this.element=e,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function j9e(e){var r=e.mouseContainer,t=e.glplot,n=new Z9e(r,t);function a(){e.xaxis.autorange=!1,e.yaxis.autorange=!1}function o(){for(var s=e.graphDiv._fullLayout._axisConstraintGroups,f=e.xaxis._id,l=e.yaxis._id,u=0;u<s.length;u++)if(s[u][f]!==-1){if(s[u][l]!==-1)return!0;break}return!1}n.mouseListener=W9e(r,i),r.addEventListener("touchstart",function(s){var f=Hne(s.changedTouches[0],r);i(0,f[0],f[1]),i(1,f[0],f[1]),s.preventDefault()},xE?{passive:!1}:!1),r.addEventListener("touchmove",function(s){s.preventDefault();var f=Hne(s.changedTouches[0],r);i(1,f[0],f[1]),s.preventDefault()},xE?{passive:!1}:!1),r.addEventListener("touchend",function(s){i(0,n.lastPos[0],n.lastPos[1]),s.preventDefault()},xE?{passive:!1}:!1);function i(s,f,l){var u=e.calcDataBox(),c=t.viewBox,v=n.lastPos[0],m=n.lastPos[1],x=Vne.MINDRAG*t.pixelRatio,A=Vne.MINZOOM*t.pixelRatio,w,y;f*=t.pixelRatio,l*=t.pixelRatio,l=c[3]-c[1]-l;function _(g,h,S){var p=Math.min(h,S),C=Math.max(h,S);p!==C?(u[g]=p,u[g+2]=C,n.dataBox=u,e.setRanges(u)):(e.selectBox.selectBox=[0,0,1,1],e.glplot.setDirty())}switch(e.fullLayout.dragmode){case"zoom":if(s){var M=f/(c[2]-c[0])*(u[2]-u[0])+u[0],b=l/(c[3]-c[1])*(u[3]-u[1])+u[1];n.boxInited||(n.boxStart[0]=M,n.boxStart[1]=b,n.dragStart[0]=f,n.dragStart[1]=l),n.boxEnd[0]=M,n.boxEnd[1]=b,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var E=Math.abs(n.dragStart[0]-f)<A,d=Math.abs(n.dragStart[1]-l)<A;if(o()&&!(E&&d)){w=n.boxEnd[0]-n.boxStart[0],y=n.boxEnd[1]-n.boxStart[1];var T=(u[3]-u[1])/(u[2]-u[0]);Math.abs(w*T)>Math.abs(y)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(w)*T*(y>=0?1:-1),n.boxEnd[1]<u[1]?(n.boxEnd[1]=u[1],n.boxEnd[0]=n.boxStart[0]+(u[1]-n.boxStart[1])/Math.abs(T)):n.boxEnd[1]>u[3]&&(n.boxEnd[1]=u[3],n.boxEnd[0]=n.boxStart[0]+(u[3]-n.boxStart[1])/Math.abs(T))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(y)/T*(w>=0?1:-1),n.boxEnd[0]<u[0]?(n.boxEnd[0]=u[0],n.boxEnd[1]=n.boxStart[1]+(u[0]-n.boxStart[0])*Math.abs(T)):n.boxEnd[0]>u[2]&&(n.boxEnd[0]=u[2],n.boxEnd[1]=n.boxStart[1]+(u[2]-n.boxStart[0])*Math.abs(T)))}else E&&(n.boxEnd[0]=n.boxStart[0]),d&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(w=n.boxStart[0]!==n.boxEnd[0],y=n.boxStart[1]!==n.boxEnd[1],w||y?(w&&(_(0,n.boxStart[0],n.boxEnd[0]),e.xaxis.autorange=!1),y&&(_(1,n.boxStart[1],n.boxEnd[1]),e.yaxis.autorange=!1),e.relayoutCallback()):e.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,s?(n.panning||(n.dragStart[0]=f,n.dragStart[1]=l),Math.abs(n.dragStart[0]-f)<x&&(f=n.dragStart[0]),Math.abs(n.dragStart[1]-l)<x&&(l=n.dragStart[1]),w=(v-f)*(u[2]-u[0])/(t.viewBox[2]-t.viewBox[0]),y=(m-l)*(u[3]-u[1])/(t.viewBox[3]-t.viewBox[1]),u[0]+=w,u[2]+=w,u[1]+=y,u[3]+=y,e.setRanges(u),n.panning=!0,n.lastInputTime=Date.now(),a(),e.cameraChanged(),e.handleAnnotations()):n.panning&&(n.panning=!1,e.relayoutCallback());break}n.lastPos[0]=f,n.lastPos[1]=l}return n.wheelListener=X9e(r,function(s,f){if(!e.scrollZoom)return!1;var l=e.calcDataBox(),u=t.viewBox,c=n.lastPos[0],v=n.lastPos[1],m=Math.exp(5*f/(u[3]-u[1])),x=c/(u[2]-u[0])*(l[2]-l[0])+l[0],A=v/(u[3]-u[1])*(l[3]-l[1])+l[1];return l[0]=(l[0]-x)*m+x,l[2]=(l[2]-x)*m+x,l[1]=(l[1]-A)*m+A,l[3]=(l[3]-A)*m+A,e.setRanges(l),n.lastInputTime=Date.now(),a(),e.cameraChanged(),e.handleAnnotations(),e.relayoutCallback(),!0},!0),n}});var eae=ie((pGe,Qne)=>{"use strict";var jne=Dt(),bE=Rn(),tl=pf(),J9e=Sd().gl_plot2d,$9e=Sd().gl_spikes2d,K9e=Sd().gl_select_box,Xne=Ine(),Q9e=Nne(),eCe=Wne(),rCe=aE(),Jne=yv(),tCe=Jne.enforce,Zne=Jne.clean,nCe=Au().doAutoRange,$ne=yf(),aCe=$ne.drawMode,iCe=$ne.selectMode,oCe=["xaxis","yaxis"],uy,n_,sCe=Pa().SUBPLOT_PATTERN;function Kne(e,r){this.container=e.container,this.graphDiv=e.graphDiv,this.pixelRatio=e.plotGlPixelRatio||window.devicePixelRatio,this.id=e.id,this.staticPlot=!!e.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(r),this.makeFramework(),!this.stopped&&(this.glplotOptions=Q9e(this),this.glplotOptions.merge(r),this.glplot=J9e(this.glplotOptions),this.camera=eCe(this),this.traces={},this.spikes=$9e(this.glplot),this.selectBox=K9e(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}Qne.exports=Kne;var Ai=Kne.prototype;Ai.makeFramework=function(){if(this.staticPlot){if(!n_&&(uy=document.createElement("canvas"),n_=Xne({canvas:uy,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!n_))throw new Error("Error creating static canvas/context for image server");this.canvas=uy,this.gl=n_}else{var e=this.container.querySelector(".gl-canvas-focus"),r=Xne({canvas:e,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!r){rCe(this),this.stopped=!0;return}this.canvas=e,this.gl=r}var t=this.canvas;t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style["pointer-events"]="none",this.updateSize(t);var n=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",n.style["z-index"]=20,n.style["pointer-events"]="none";var a=this.mouseContainer=document.createElement("div");a.style.position="absolute",a.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var o=this.container;o.appendChild(n),o.appendChild(a);var i=this;a.addEventListener("mouseout",function(){i.isMouseOver=!1,i.unhover()}),a.addEventListener("mouseover",function(){i.isMouseOver=!0})};Ai.toImage=function(e){e||(e="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(uy),this.updateSize(this.canvas);var r=this.glplot.gl,t=r.drawingBufferWidth,n=r.drawingBufferHeight;r.clearColor(1,1,1,0),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),r.bindFramebuffer(r.FRAMEBUFFER,null);var a=new Uint8Array(t*n*4);r.readPixels(0,0,t,n,r.RGBA,r.UNSIGNED_BYTE,a);for(var o=0,i=n-1;o<i;++o,--i)for(var s=0;s<t;++s)for(var f=0;f<4;++f){var l=a[4*(t*o+s)+f];a[4*(t*o+s)+f]=a[4*(t*i+s)+f],a[4*(t*i+s)+f]=l}var u=document.createElement("canvas");u.width=t,u.height=n;var c=u.getContext("2d",{willReadFrequently:!0}),v=c.createImageData(t,n);v.data.set(a),c.putImageData(v,0,0);var m;switch(e){case"jpeg":m=u.toDataURL("image/jpeg");break;case"webp":m=u.toDataURL("image/webp");break;default:m=u.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(uy),m};Ai.updateSize=function(e){e||(e=this.canvas);var r=this.pixelRatio,t=this.fullLayout,n=t.width,a=t.height,o=Math.ceil(r*n)|0,i=Math.ceil(r*a)|0;return(e.width!==o||e.height!==i)&&(e.width=o,e.height=i),e};Ai.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var e=[bE.calcTicks(this.xaxis),bE.calcTicks(this.yaxis)],r=0;r<2;++r)for(var t=0;t<e[r].length;++t)e[r][t].text=e[r][t].text+"";return e};function lCe(e,r){for(var t=0;t<2;++t){var n=e[t],a=r[t];if(n.length!==a.length)return!0;for(var o=0;o<n.length;++o)if(n[o].x!==a[o].x)return!0}return!1}Ai.updateRefs=function(e){this.fullLayout=e;var r=this.id.match(sCe),t="xaxis"+r[1],n="yaxis"+r[2];this.xaxis=this.fullLayout[t],this.yaxis=this.fullLayout[n]};Ai.relayoutCallback=function(){var e=this.graphDiv,r=this.xaxis,t=this.yaxis,n=e.layout,a={},o=a[r._name+".range"]=r.range.slice(),i=a[t._name+".range"]=t.range.slice();a[r._name+".autorange"]=r.autorange,a[t._name+".autorange"]=t.autorange,jne.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,a);var s=n[r._name];s.range=o,s.autorange=r.autorange;var f=n[t._name];f.range=i,f.autorange=t.autorange,a.lastInputTime=this.camera.lastInputTime,e.emit("plotly_relayout",a)};Ai.cameraChanged=function(){var e=this.camera;this.glplot.setDataBox(this.calcDataBox());var r=this.computeTickMarks(),t=this.glplotOptions.ticks;lCe(r,t)&&(this.glplotOptions.ticks=r,this.glplotOptions.dataBox=e.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())};Ai.handleAnnotations=function(){for(var e=this.graphDiv,r=this.fullLayout.annotations,t=0;t<r.length;t++){var n=r[t];n.xref===this.xaxis._id&&n.yref===this.yaxis._id&&jne.getComponentMethod("annotations","drawOne")(e,t)}};Ai.destroy=function(){if(this.glplot){var e=this.traces;e&&Object.keys(e).map(function(r){e[r].dispose(),delete e[r]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}};Ai.plot=function(e,r,t){var n=this.glplot;this.updateRefs(t),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(e,r),this.updateFx(t.dragmode);var a=t.width,o=t.height;this.updateSize(this.canvas);var i=this.glplotOptions;i.merge(t),i.screenBox=[0,0,a,o];var s={_fullLayout:{_axisConstraintGroups:t._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:t._size}};Zne(s,this.xaxis),Zne(s,this.yaxis);var f=t._size,l=this.xaxis.domain,u=this.yaxis.domain;i.viewBox=[f.l+l[0]*f.w,f.b+u[0]*f.h,a-f.r-(1-l[1])*f.w,o-f.t-(1-u[1])*f.h],this.mouseContainer.style.width=f.w*(l[1]-l[0])+"px",this.mouseContainer.style.height=f.h*(u[1]-u[0])+"px",this.mouseContainer.height=f.h*(u[1]-u[0]),this.mouseContainer.style.left=f.l+l[0]*f.w+"px",this.mouseContainer.style.top=f.t+(1-u[1])*f.h+"px";var c,v;for(v=0;v<2;++v)c=this[oCe[v]],c._length=i.viewBox[v+2]-i.viewBox[v],nCe(this.graphDiv,c),c.setScale();tCe(s),i.ticks=this.computeTickMarks(),i.dataBox=this.calcDataBox(),i.merge(t),n.update(i),this.glplot.draw()};Ai.calcDataBox=function(){var e=this.xaxis,r=this.yaxis,t=e.range,n=r.range,a=e.r2l,o=r.r2l;return[a(t[0]),o(n[0]),a(t[1]),o(n[1])]};Ai.setRanges=function(e){var r=this.xaxis,t=this.yaxis,n=r.l2r,a=t.l2r;r.range=[n(e[0]),n(e[2])],t.range=[a(e[1]),a(e[3])]};Ai.updateTraces=function(e,r){var t=Object.keys(this.traces),n,a,o;this.fullData=e;e:for(n=0;n<t.length;n++){var i=t[n],s=this.traces[i];for(a=0;a<e.length;a++)if(o=e[a],o.uid===i&&o.type===s.type)continue e;s.dispose(),delete this.traces[i]}for(n=0;n<e.length;n++){o=e[n];var f=r[n],l=this.traces[o.uid];l?l.update(o,f):(l=o._module.plot(this,o,f),this.traces[o.uid]=l)}this.glplot.objects.sort(function(u,c){return u._trace.index-c._trace.index})};Ai.updateFx=function(e){iCe(e)||aCe(e)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),e==="pan"?this.mouseContainer.style.cursor="move":e==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null};Ai.emitPointAction=function(e,r){for(var t=e.trace.uid,n=e.pointIndex,a,o=0;o<this.fullData.length;o++)this.fullData[o].uid===t&&(a=this.fullData[o]);var i={x:e.traceCoord[0],y:e.traceCoord[1],curveNumber:a.index,pointNumber:n,data:a._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};tl.appendArrayPointValue(i,a,n),this.graphDiv.emit(r,{points:[i]})};Ai.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var e=this.glplot,r=this.camera,t=r.mouseListener,n=this.lastButtonState===1&&t.buttons===0,a=this.fullLayout;this.lastButtonState=t.buttons,this.cameraChanged();var o=t.x*e.pixelRatio,i=this.canvas.height-e.pixelRatio*t.y,s;if(r.boxEnabled&&a.dragmode==="zoom"){this.selectBox.enabled=!0;for(var f=this.selectBox.selectBox=[Math.min(r.boxStart[0],r.boxEnd[0]),Math.min(r.boxStart[1],r.boxEnd[1]),Math.max(r.boxStart[0],r.boxEnd[0]),Math.max(r.boxStart[1],r.boxEnd[1])],l=0;l<2;l++)r.boxStart[l]===r.boxEnd[l]&&(f[l]=e.dataBox[l],f[l+2]=e.dataBox[l+2]);e.setDirty()}else if(!r.panning&&this.isMouseOver){this.selectBox.enabled=!1;var u=a._size,c=this.xaxis.domain,v=this.yaxis.domain;s=e.pick(o/e.pixelRatio+u.l+c[0]*u.w,i/e.pixelRatio-(u.t+(1-v[1])*u.h));var m=s&&s.object._trace.handlePick(s);if(m&&n&&this.emitPointAction(m,"plotly_click"),s&&s.object._trace.hoverinfo!=="skip"&&a.hovermode&&m&&(!this.lastPickResult||this.lastPickResult.traceUid!==m.trace.uid||this.lastPickResult.dataCoord[0]!==m.dataCoord[0]||this.lastPickResult.dataCoord[1]!==m.dataCoord[1])){var x=m;this.lastPickResult={traceUid:m.trace?m.trace.uid:null,dataCoord:m.dataCoord.slice()},this.spikes.update({center:s.dataCoord}),x.screenCoord=[((e.viewBox[2]-e.viewBox[0])*(s.dataCoord[0]-e.dataBox[0])/(e.dataBox[2]-e.dataBox[0])+e.viewBox[0])/e.pixelRatio,(this.canvas.height-(e.viewBox[3]-e.viewBox[1])*(s.dataCoord[1]-e.dataBox[1])/(e.dataBox[3]-e.dataBox[1])-e.viewBox[1])/e.pixelRatio],this.emitPointAction(m,"plotly_hover");var A=this.fullData[x.trace.index]||{},w=x.pointIndex,y=tl.castHoverinfo(A,a,w);if(y&&y!=="all"){var _=y.split("+");_.indexOf("x")===-1&&(x.traceCoord[0]=void 0),_.indexOf("y")===-1&&(x.traceCoord[1]=void 0),_.indexOf("z")===-1&&(x.traceCoord[2]=void 0),_.indexOf("text")===-1&&(x.textLabel=void 0),_.indexOf("name")===-1&&(x.name=void 0)}tl.loneHover({x:x.screenCoord[0],y:x.screenCoord[1],xLabel:this.hoverFormatter("xaxis",x.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",x.traceCoord[1]),zLabel:x.traceCoord[2],text:x.textLabel,name:x.name,color:tl.castHoverOption(A,w,"bgcolor")||x.color,borderColor:tl.castHoverOption(A,w,"bordercolor"),fontFamily:tl.castHoverOption(A,w,"font.family"),fontSize:tl.castHoverOption(A,w,"font.size"),fontColor:tl.castHoverOption(A,w,"font.color"),nameLength:tl.castHoverOption(A,w,"namelength"),textAlign:tl.castHoverOption(A,w,"align")},{container:this.svgContainer,gd:this.graphDiv})}}s||this.unhover(),e.draw()}};Ai.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),tl.loneUnhover(this.svgContainer))};Ai.hoverFormatter=function(e,r){if(r!==void 0){var t=this[e];return bE.tickText(t,t.c2l(r),"hover").text}}});var _E=ie(oo=>{"use strict";var rae=No().overrideAll,fCe=eae(),uCe=zc(),cCe=ff(),tae=Pa(),a_=Dv(),hCe=Ic(),nae=Wh().getSubplotData;oo.name="gl2d";oo.attr=["xaxis","yaxis"];oo.idRoot=["x","y"];oo.idRegex=tae.idRegex;oo.attrRegex=tae.attrRegex;oo.attributes=DT();oo.supplyLayoutDefaults=function(e,r,t){r._has("cartesian")||a_.supplyLayoutDefaults(e,r,t)};oo.layoutAttrOverrides=rae(a_.layoutAttributes,"plot","from-root");oo.baseLayoutAttrOverrides=rae({plot_bgcolor:uCe.plot_bgcolor,hoverlabel:hCe.hoverlabel},"plot","nested");oo.plot=function(r){for(var t=r._fullLayout,n=r._fullData,a=t._subplots.gl2d,o=0;o<a.length;o++){var i=a[o],s=t._plots[i],f=nae(n,"gl2d",i),l=s._scene2d;l===void 0&&(l=new fCe({id:i,graphDiv:r,container:r.querySelector(".gl-container"),staticPlot:r._context.staticPlot,plotGlPixelRatio:r._context.plotGlPixelRatio},t),s._scene2d=l),l.plot(f,r.calcdata,t,r.layout)}};oo.clean=function(e,r,t,n){for(var a=n._subplots.gl2d||[],o=0;o<a.length;o++){var i=a[o],s=n._plots[i];if(s._scene2d){var f=nae(e,"gl2d",i);f.length===0&&(s._scene2d.destroy(),delete n._plots[i])}}a_.clean.apply(this,arguments)};oo.drawFramework=function(e){e._context.staticPlot||a_.drawFramework(e)};oo.toSVG=function(e){for(var r=e._fullLayout,t=r._subplots.gl2d,n=0;n<t.length;n++){var a=r._plots[t[n]],o=a._scene2d,i=o.toImage("png"),s=r._glimages.append("svg:image");s.attr({xmlns:cCe.svg,"xlink:href":i,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),o.destroy()}};oo.updateFx=function(e){for(var r=e._fullLayout,t=r._subplots.gl2d,n=0;n<t.length;n++){var a=r._plots[t[n]]._scene2d;a.updateFx(r.dragmode)}}});var iae=ie((mGe,aae)=>{"use strict";var yGe=["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" ");aae.exports={attributes:yE(),supplyDefaults:_ne(),calc:Ane(),plot:Lne(),moduleType:"trace",name:"pointcloud",basePlotModule:_E(),categories:["gl","gl2d","showLegend"],meta:{}}});var sae=ie((xGe,oae)=>{"use strict";oae.exports=iae()});var fae=ie((bGe,lae)=>{"use strict";var Zo=kl(),vCe=rs(),dCe=ci(),wE=Zh().axisHoverFormat,pCe=su().hovertemplateAttrs,gCe=su().texttemplateAttrs,yCe=cf(),Fo=ga().extendFlat;lae.exports=Fo({z:{valType:"data_array",editType:"calc"},x:Fo({},Zo.x,{impliedEdits:{xtype:"array"}}),x0:Fo({},Zo.x0,{impliedEdits:{xtype:"scaled"}}),dx:Fo({},Zo.dx,{impliedEdits:{xtype:"scaled"}}),y:Fo({},Zo.y,{impliedEdits:{ytype:"array"}}),y0:Fo({},Zo.y0,{impliedEdits:{ytype:"scaled"}}),dy:Fo({},Zo.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:Fo({},Zo.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:Fo({},Zo.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:Fo({},Zo.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:Fo({},Zo.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:Fo({},Zo.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:Fo({},Zo.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:wE("x"),yhoverformat:wE("y"),zhoverformat:wE("z",1),hovertemplate:pCe(),texttemplate:gCe({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:dCe({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:Fo({},vCe.showlegend,{dflt:!1}),zorder:Zo.zorder},{transforms:void 0},yCe("",{cLetter:"z",autoColorDflt:!1}))});var TE=ie((_Ge,cae)=>{"use strict";var mCe=fae(),xCe=cf(),bCe=ga().extendFlat,_Ce=No().overrideAll,uae=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],o_={};for(i_=0;i_<uae.length;i_++)AE=uae[i_],o_[AE]=mCe[AE];var AE,i_;o_.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"};bCe(o_,xCe("",{cLetter:"z",autoColorDflt:!1}));cae.exports=_Ce(o_,"calc","nested")});var dae=ie((wGe,vae)=>{"use strict";var wCe=cn(),s_=wr(),ACe=Dt();vae.exports=function(r,t,n,a,o,i){var s=n("z");o=o||"x",i=i||"y";var f,l;if(s===void 0||!s.length)return 0;if(s_.isArray1D(s)){f=n(o),l=n(i);var u=s_.minRowLength(f),c=s_.minRowLength(l);if(u===0||c===0)return 0;t._length=Math.min(u,c,s.length)}else{if(f=hae(o,n),l=hae(i,n),!TCe(s))return 0;n("transpose"),t._length=null}if(r.type==="heatmapgl")return!0;var v=ACe.getComponentMethod("calendars","handleTraceDefaults");return v(r,t,[o,i],a),!0};function hae(e,r){var t=r(e),n=t?r(e+"type","array"):"scaled";return n==="scaled"&&(r(e+"0"),r("d"+e)),t}function TCe(e){for(var r=!0,t=!1,n=!1,a,o=0;o<e.length;o++){if(a=e[o],!s_.isArrayOrTypedArray(a)){r=!1;break}a.length>0&&(t=!0);for(var i=0;i<a.length;i++)if(wCe(a[i])){n=!0;break}}return r&&t&&n}});var gae=ie((AGe,pae)=>{"use strict";var MCe=wr(),ECe=dae(),SCe=Jc(),CCe=TE();pae.exports=function(r,t,n,a){function o(s,f){return MCe.coerce(r,t,CCe,s,f)}var i=ECe(r,t,o,a);if(!i){t.visible=!1;return}o("text"),o("zsmooth"),SCe(r,t,a,o,{prefix:"",cLetter:"z"})}});var mae=ie((TGe,yae)=>{"use strict";yae.exports={min:"zmin",max:"zmax"}});var ME=ie((MGe,xae)=>{"use strict";var Cd=cn();xae.exports={count:function(e,r,t){return t[e]++,1},sum:function(e,r,t,n){var a=n[r];return Cd(a)?(a=Number(a),t[e]+=a,a):0},avg:function(e,r,t,n,a){var o=n[r];return Cd(o)&&(o=Number(o),t[e]+=o,a[e]++),0},min:function(e,r,t,n){var a=n[r];if(Cd(a))if(a=Number(a),Cd(t[e])){if(t[e]>a){var o=a-t[e];return t[e]=a,o}}else return t[e]=a,a;return 0},max:function(e,r,t,n){var a=n[r];if(Cd(a))if(a=Number(a),Cd(t[e])){if(t[e]<a){var o=a-t[e];return t[e]=a,o}}else return t[e]=a,a;return 0}}});var EE=ie((EGe,bae)=>{"use strict";bae.exports={percent:function(e,r){for(var t=e.length,n=100/r,a=0;a<t;a++)e[a]*=n},probability:function(e,r){for(var t=e.length,n=0;n<t;n++)e[n]/=r},density:function(e,r,t,n){var a=e.length;n=n||1;for(var o=0;o<a;o++)e[o]*=t[o]*n},"probability density":function(e,r,t,n){var a=e.length;n&&(r/=n);for(var o=0;o<a;o++)e[o]*=t[o]/r}}});var SE=ie((SGe,_ae)=>{"use strict";_ae.exports=function(r,t){for(var n=r.length,a=0,o=0;o<n;o++)t[o]?(r[o]/=t[o],a+=r[o]):r[o]=null;return a}});var CE=ie((CGe,kae)=>{"use strict";var kd=ta(),G0=kd.ONEAVGYEAR,wae=kd.ONEAVGMONTH,f_=kd.ONEDAY,Aae=kd.ONEHOUR,Tae=kd.ONEMIN,Mae=kd.ONESEC,Eae=Rn().tickIncrement;kae.exports=function(r,t,n,a,o){var i=-1.1*t,s=-.1*t,f=r-s,l=n[0],u=n[1],c=Math.min(l_(l+s,l+f,a,o),l_(u+s,u+f,a,o)),v=Math.min(l_(l+i,l+s,a,o),l_(u+i,u+s,a,o)),m,x;if(c>v&&v<Math.abs(u-l)/4e3?(m=c,x=!1):(m=Math.min(c,v),x=!0),a.type==="date"&&m>f_){var A=m===G0?1:6,w=m===G0?"M12":"M1";return function(y,_){var M=a.c2d(y,G0,o),b=M.indexOf("-",A);b>0&&(M=M.substr(0,b));var E=a.d2c(M,0,o);if(E<y){var d=Eae(E,w,!1,o);(E+d)/2<y+r&&(E=d)}return _&&x?Eae(E,w,!0,o):E}}return function(y,_){var M=m*Math.round(y/m);return M+m/10<y&&M+m*.9<y+r&&(M+=m),_&&x&&(M-=m),M}};function l_(e,r,t,n){if(e*r<=0)return 1/0;for(var a=Math.abs(r-e),o=t.type==="date",i=Sae(a,o),s=0;s<10;s++){var f=Sae(i*80,o);if(i===f)break;if(kCe(f,e,r,o,t,n))i=f;else break}return i}function Sae(e,r){return r&&e>Mae?e>f_?e>G0*1.1?G0:e>wae*1.1?wae:f_:e>Aae?Aae:e>Tae?Tae:Mae:Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function kCe(e,r,t,n,a,o){if(n&&e>f_){var i=Cae(r,a,o),s=Cae(t,a,o),f=e===G0?0:1;return i[f]!==s[f]}return Math.floor(t/e)-Math.floor(r/e)>.1}function Cae(e,r,t){var n=r.c2d(e,G0,t).split("-");return n[0]===""&&(n.unshift(),n[0]="-"+n[0]),n}});var Rae=ie((kGe,Lae)=>{"use strict";var Ld=wr();Lae.exports=function(r,t){for(var n=0;n<r.length;n++)r[n].i=n;Ld.mergeArray(t.text,r,"tx"),Ld.mergeArray(t.hovertext,r,"htx");var a=t.marker;if(a){Ld.mergeArray(a.opacity,r,"mo",!0),Ld.mergeArray(a.color,r,"mc");var o=a.line;o&&(Ld.mergeArray(o.color,r,"mlc"),Ld.mergeArrayCastPositive(o.width,r,"mlw"))}}});var Pae=ie((LGe,Iae)=>{"use strict";var kE=cn(),Vi=wr(),Dae=Dt(),Ms=Rn(),LCe=Rae(),Fae=ME(),RCe=EE(),DCe=SE(),FCe=CE();function ICe(e,r){var t=[],n=[],a=r.orientation==="h",o=Ms.getFromId(e,a?r.yaxis:r.xaxis),i=a?"y":"x",s={x:"y",y:"x"}[i],f=r[i+"calendar"],l=r.cumulative,u,c=LE(e,r,o,i),v=c[0],m=c[1],x=typeof v.size=="string",A=[],w=x?A:v,y=[],_=[],M=[],b=0,E=r.histnorm,d=r.histfunc,T=E.indexOf("density")!==-1,g,h,S;l.enabled&&T&&(E=E.replace(/ ?density$/,""),T=!1);var p=d==="max"||d==="min",C=p?null:0,k=Fae.count,D=RCe[E],P=!1,O=function(H){return o.r2c(H,0,f)},F;for(Vi.isArrayOrTypedArray(r[s])&&d!=="count"&&(F=r[s],P=d==="avg",k=Fae[d]),u=O(v.start),h=O(v.end)+(u-Ms.tickIncrement(u,v.size,!1,f))/1e6;u<h&&t.length<1e6&&(g=Ms.tickIncrement(u,v.size,!1,f),t.push((u+g)/2),n.push(C),M.push([]),A.push(u),T&&y.push(1/(g-u)),P&&_.push(0),!(g<=u));)u=g;A.push(u),!x&&o.type==="date"&&(w={start:O(w.start),end:O(w.end),size:w.size}),e._fullLayout._roundFnOpts||(e._fullLayout._roundFnOpts={});var L=r["_"+i+"bingroup"],I={leftGap:1/0,rightGap:1/0};L&&(e._fullLayout._roundFnOpts[L]||(e._fullLayout._roundFnOpts[L]=I),I=e._fullLayout._roundFnOpts[L]);var q=n.length,z=!0,W=I.leftGap,$=I.rightGap,j={};for(u=0;u<m.length;u++){var G=m[u];S=Vi.findBin(G,w),S>=0&&S<q&&(b+=k(S,u,n,F,_),z&&M[S].length&&G!==m[M[S][0]]&&(z=!1),M[S].push(u),j[u]=S,W=Math.min(W,G-A[S]),$=Math.min($,A[S+1]-G))}I.leftGap=W,I.rightGap=$;var B;z||(B=function(H,re){return function(){var V=e._fullLayout._roundFnOpts[L];return FCe(V.leftGap,V.rightGap,A,o,f)(H,re)}}),P&&(b=DCe(n,_)),D&&D(n,b,y),l.enabled&&NCe(n,l.direction,l.currentbin);var X=Math.min(t.length,n.length),te=[],J=0,ae=X-1;for(u=0;u<X;u++)if(n[u]){J=u;break}for(u=X-1;u>=J;u--)if(n[u]){ae=u;break}for(u=J;u<=ae;u++)if(kE(t[u])&&kE(n[u])){var ee={p:t[u],s:n[u],b:0};l.enabled||(ee.pts=M[u],z?ee.ph0=ee.ph1=M[u].length?m[M[u][0]]:t[u]:(r._computePh=!0,ee.ph0=B(A[u]),ee.ph1=B(A[u+1],!0))),te.push(ee)}return te.length===1&&(te[0].width1=Ms.tickIncrement(te[0].p,v.size,!1,f)-te[0].p),LCe(te,r),Vi.isArrayOrTypedArray(r.selectedpoints)&&Vi.tagSelected(te,r,j),te}function LE(e,r,t,n,a){var o=n+"bins",i=e._fullLayout,s=r["_"+n+"bingroup"],f=i._histogramBinOpts[s],l=i.barmode==="overlay",u,c,v,m,x,A,w,y=function(G){return t.r2c(G,0,m)},_=function(G){return t.c2r(G,0,m)},M=t.type==="date"?function(G){return G||G===0?Vi.cleanDate(G,null,m):null}:function(G){return kE(G)?Number(G):null};function b(G,B,X){B[G+"Found"]?(B[G]=M(B[G]),B[G]===null&&(B[G]=X[G])):(A[G]=B[G]=X[G],Vi.nestedProperty(c[0],o+"."+G).set(X[G]))}if(r["_"+n+"autoBinFinished"])delete r["_"+n+"autoBinFinished"];else{c=f.traces;var E=[],d=!0,T=!1,g=!1;for(u=0;u<c.length;u++)if(v=c[u],v.visible){var h=f.dirs[u];x=v["_"+h+"pos0"]=t.makeCalcdata(v,h),E=Vi.concat(E,x),delete v["_"+n+"autoBinFinished"],r.visible===!0&&(d?d=!1:(delete v._autoBin,v["_"+n+"autoBinFinished"]=1),Dae.traceIs(v,"2dMap")&&(T=!0),v.type==="histogram2dcontour"&&(g=!0))}m=c[0][n+"calendar"];var S=Ms.autoBin(E,t,f.nbins,T,m,f.sizeFound&&f.size),p=c[0]._autoBin={};if(A=p[f.dirs[0]]={},g&&(f.size||(S.start=_(Ms.tickIncrement(y(S.start),S.size,!0,m))),f.end===void 0&&(S.end=_(Ms.tickIncrement(y(S.end),S.size,!1,m)))),l&&!Dae.traceIs(r,"2dMap")&&S._dataSpan===0&&t.type!=="category"&&t.type!=="multicategory"&&r.bingroup===""&&typeof r.xbins=="undefined"){if(a)return[S,x,!0];S=PCe(e,r,t,n,o)}w=v.cumulative||{},w.enabled&&w.currentbin!=="include"&&(w.direction==="decreasing"?S.start=_(Ms.tickIncrement(y(S.start),S.size,!0,m)):S.end=_(Ms.tickIncrement(y(S.end),S.size,!1,m))),f.size=S.size,f.sizeFound||(A.size=S.size,Vi.nestedProperty(c[0],o+".size").set(S.size)),b("start",f,S),b("end",f,S)}x=r["_"+n+"pos0"],delete r["_"+n+"pos0"];var C=r._input[o]||{},k=Vi.extendFlat({},f),D=f.start,P=t.r2l(C.start),O=P!==void 0;if((f.startFound||O)&&P!==t.r2l(D)){var F=O?P:Vi.aggNums(Math.min,null,x),L={type:t.type==="category"||t.type==="multicategory"?"linear":t.type,r2l:t.r2l,dtick:f.size,tick0:D,calendar:m,range:[F,Ms.tickIncrement(F,f.size,!1,m)].map(t.l2r)},I=Ms.tickFirst(L);I>t.r2l(F)&&(I=Ms.tickIncrement(I,f.size,!0,m)),k.start=t.l2r(I),O||Vi.nestedProperty(r,o+".start").set(k.start)}var q=f.end,z=t.r2l(C.end),W=z!==void 0;if((f.endFound||W)&&z!==t.r2l(q)){var $=W?z:Vi.aggNums(Math.max,null,x);k.end=t.l2r($),W||Vi.nestedProperty(r,o+".start").set(k.end)}var j="autobin"+n;return r._input[j]===!1&&(r._input[o]=Vi.extendFlat({},r[o]||{}),delete r._input[j],delete r[j]),[k,x]}function PCe(e,r,t,n,a){var o=e._fullLayout,i=OCe(e,r),s=!1,f=1/0,l=[r],u,c,v;for(u=0;u<i.length;u++)if(c=i[u],c===r)s=!0;else if(!s)v=o._histogramBinOpts[c["_"+n+"bingroup"]],f=Math.min(f,v.size||c[a].size);else{var m=LE(e,c,t,n,!0),x=m[0],A=m[2];c["_"+n+"autoBinFinished"]=1,c["_"+n+"pos0"]=m[1],A?l.push(c):f=Math.min(f,x.size)}var w=new Array(l.length);for(u=0;u<l.length;u++)for(var y=l[u]["_"+n+"pos0"],_=0;_<y.length;_++)if(y[_]!==void 0){w[u]=y[_];break}for(isFinite(f)||(f=Vi.distinctVals(w).minDiff),u=0;u<l.length;u++){c=l[u];var M=c[n+"calendar"],b={start:t.c2r(w[u]-f/2,0,M),end:t.c2r(w[u]+f/2,0,M),size:f};c._input[a]=c[a]=b,v=o._histogramBinOpts[c["_"+n+"bingroup"]],v&&Vi.extendFlat(v,b)}return r[a]}function OCe(e,r){for(var t=r.xaxis,n=r.yaxis,a=r.orientation,o=[],i=e._fullData,s=0;s<i.length;s++){var f=i[s];f.type==="histogram"&&f.visible===!0&&f.orientation===a&&f.xaxis===t&&f.yaxis===n&&o.push(f)}return o}function NCe(e,r,t){var n,a,o;function i(f){o=e[f],e[f]/=2}function s(f){a=e[f],e[f]=o+a/2,o+=a}if(t==="half")if(r==="increasing")for(i(0),n=1;n<e.length;n++)s(n);else for(i(e.length-1),n=e.length-2;n>=0;n--)s(n);else if(r==="increasing"){for(n=1;n<e.length;n++)e[n]+=e[n-1];t==="exclude"&&(e.unshift(0),e.pop())}else{for(n=e.length-2;n>=0;n--)e[n]+=e[n+1];t==="exclude"&&(e.push(0),e.shift())}}Iae.exports={calc:ICe,calcAllAutoBins:LE}});var Hae=ie((RGe,Gae)=>{"use strict";var Oae=wr(),Rd=Rn(),Nae=ME(),BCe=EE(),qCe=SE(),zCe=CE(),Bae=Pae().calcAllAutoBins;Gae.exports=function(r,t){var n=Rd.getFromId(r,t.xaxis),a=Rd.getFromId(r,t.yaxis),o=t.xcalendar,i=t.ycalendar,s=function(ze){return n.r2c(ze,0,o)},f=function(ze){return a.r2c(ze,0,i)},l=function(ze){return n.c2r(ze,0,o)},u=function(ze){return a.c2r(ze,0,i)},c,v,m,x,A=Bae(r,t,n,"x"),w=A[0],y=A[1],_=Bae(r,t,a,"y"),M=_[0],b=_[1],E=t._length;y.length>E&&y.splice(E,y.length-E),b.length>E&&b.splice(E,b.length-E);var d=[],T=[],g=[],h=typeof w.size=="string",S=typeof M.size=="string",p=[],C=[],k=h?p:w,D=S?C:M,P=0,O=[],F=[],L=t.histnorm,I=t.histfunc,q=L.indexOf("density")!==-1,z=I==="max"||I==="min",W=z?null:0,$=Nae.count,j=BCe[L],G=!1,B=[],X=[],te="z"in t?t.z:"marker"in t&&Array.isArray(t.marker.color)?t.marker.color:"";te&&I!=="count"&&(G=I==="avg",$=Nae[I]);var J=w.size,ae=s(w.start),ee=s(w.end)+(ae-Rd.tickIncrement(ae,J,!1,o))/1e6;for(c=ae;c<ee;c=Rd.tickIncrement(c,J,!1,o))T.push(W),p.push(c),G&&g.push(0);p.push(c);var H=T.length,re=(c-ae)/H,V=l(ae+re/2),ne=M.size,le=f(M.start),de=f(M.end)+(le-Rd.tickIncrement(le,ne,!1,i))/1e6;for(c=le;c<de;c=Rd.tickIncrement(c,ne,!1,i)){d.push(T.slice()),C.push(c);var _e=new Array(H);for(v=0;v<H;v++)_e[v]=[];F.push(_e),G&&O.push(g.slice())}C.push(c);var me=d.length,ve=(c-le)/me,be=u(le+ve/2);q&&(B=qae(T.length,k,re,h),X=qae(d.length,D,ve,S)),!h&&n.type==="date"&&(k=zae(s,k)),!S&&a.type==="date"&&(D=zae(f,D));var we=!0,Se=!0,Ae=new Array(H),Ie=new Array(me),Ve=1/0,pe=1/0,xe=1/0,Te=1/0;for(c=0;c<E;c++){var qe=y[c],er=b[c];m=Oae.findBin(qe,k),x=Oae.findBin(er,D),m>=0&&m<H&&x>=0&&x<me&&(P+=$(m,c,d[x],te,O[x]),F[x][m].push(c),we&&(Ae[m]===void 0?Ae[m]=qe:Ae[m]!==qe&&(we=!1)),Se&&(Ie[x]===void 0?Ie[x]=er:Ie[x]!==er&&(Se=!1)),Ve=Math.min(Ve,qe-p[m]),pe=Math.min(pe,p[m+1]-qe),xe=Math.min(xe,er-C[x]),Te=Math.min(Te,C[x+1]-er))}if(G)for(x=0;x<me;x++)P+=qCe(d[x],O[x]);if(j)for(x=0;x<me;x++)j(d[x],P,B,X[x]);return{x:y,xRanges:Uae(p,we&&Ae,Ve,pe,n,o),x0:V,dx:re,y:b,yRanges:Uae(C,Se&&Ie,xe,Te,a,i),y0:be,dy:ve,z:d,pts:F}};function qae(e,r,t,n){var a=new Array(e),o;if(n)for(o=0;o<e;o++)a[o]=1/(r[o+1]-r[o]);else{var i=1/t;for(o=0;o<e;o++)a[o]=i}return a}function zae(e,r){return{start:e(r.start),end:e(r.end),size:r.size}}function Uae(e,r,t,n,a,o){var i,s=e.length-1,f=new Array(s),l=zCe(t,n,e,a,o);for(i=0;i<s;i++){var u=(r||[])[i];f[i]=u===void 0?[l(e[i]),l(e[i+1],!0)]:[u,u]}return f}});var Xae=ie((DGe,Wae)=>{"use strict";var Nl=wr(),Vae=ta().BADNUM,Yae=Jp();Wae.exports=function(r,t,n,a,o,i){var s=r._length,f=t.makeCalcdata(r,a),l=n.makeCalcdata(r,o);f=Yae(r,t,a,f).vals,l=Yae(r,n,o,l).vals;var u=r.text,c=u!==void 0&&Nl.isArray1D(u),v=r.hovertext,m=v!==void 0&&Nl.isArray1D(v),x,A,w=Nl.distinctVals(f),y=w.vals,_=Nl.distinctVals(l),M=_.vals,b=[],E,d,T=M.length,g=y.length;for(x=0;x<i.length;x++)b[x]=Nl.init2dArray(T,g);c&&(E=Nl.init2dArray(T,g)),m&&(d=Nl.init2dArray(T,g));var h=Nl.init2dArray(T,g);for(x=0;x<s;x++)if(f[x]!==Vae&&l[x]!==Vae){var S=Nl.findBin(f[x]+w.minDiff/2,y),p=Nl.findBin(l[x]+_.minDiff/2,M);for(A=0;A<i.length;A++){var C=i[A],k=r[C],D=b[A];D[p][S]=k[x],h[p][S]=x}c&&(E[p][S]=u[x]),m&&(d[p][S]=v[x])}for(r["_"+a]=y,r["_"+o]=M,A=0;A<i.length;A++)r["_"+i[A]]=b[A];c&&(r._text=E),m&&(r._hovertext=d),t&&t.type==="category"&&(r["_"+a+"CategoryMap"]=y.map(function(P){return t._categories[P]})),n&&n.type==="category"&&(r["_"+o+"CategoryMap"]=M.map(function(P){return n._categories[P]})),r._after2before=h}});var jae=ie((FGe,Zae)=>{"use strict";var UCe=cn(),GCe=wr(),u_=ta().BADNUM;Zae.exports=function(r,t,n,a){var o,i,s,f,l,u;function c(y){if(UCe(y))return+y}if(t&&t.transpose){for(o=0,l=0;l<r.length;l++)o=Math.max(o,r[l].length);if(o===0)return!1;s=function(y){return y.length},f=function(y,_,M){return(y[M]||[])[_]}}else o=r.length,s=function(y,_){return y[_].length},f=function(y,_,M){return(y[_]||[])[M]};var v=function(y,_,M){return _===u_||M===u_?u_:f(y,_,M)};function m(y){if(t&&t.type!=="carpet"&&t.type!=="contourcarpet"&&y&&y.type==="category"&&t["_"+y._id.charAt(0)].length){var _=y._id.charAt(0),M={},b=t["_"+_+"CategoryMap"]||t[_];for(l=0;l<b.length;l++)M[b[l]]=l;return function(E){var d=M[y._categories[E]];return d+1?d:u_}}else return GCe.identity}var x=m(n),A=m(a);a&&a.type==="category"&&(o=a._categories.length);var w=new Array(o);for(l=0;l<o;l++)for(n&&n.type==="category"?i=n._categories.length:i=s(r,l),w[l]=new Array(i),u=0;u<i;u++)w[l][u]=c(v(r,A(l),x(u)));return w}});var Qae=ie((IGe,Kae)=>{"use strict";var HCe=wr(),Jae=.01,VCe=[[-1,0],[1,0],[0,-1],[0,1]];function YCe(e){return .5-.25*Math.min(1,e*.5)}Kae.exports=function(r,t){var n=1,a;for($ae(r,t),a=0;a<t.length&&!(t[a][2]<4);a++);for(t=t.slice(a),a=0;a<100&&n>Jae;a++)n=$ae(r,t,YCe(n));return n>Jae&&HCe.log("interp2d didn't converge quickly",n),r};function $ae(e,r,t){var n=0,a,o,i,s,f,l,u,c,v,m,x,A,w;for(s=0;s<r.length;s++){for(a=r[s],o=a[0],i=a[1],x=e[o][i],m=0,v=0,f=0;f<4;f++)l=VCe[f],u=e[o+l[0]],u&&(c=u[i+l[1]],c!==void 0&&(m===0?A=w=c:(A=Math.min(A,c),w=Math.max(w,c)),v++,m+=c));if(v===0)throw"iterateInterp2d order is wrong: no defined neighbors";e[o][i]=m/v,x===void 0?v<4&&(n=1):(e[o][i]=(1+t)*e[o][i]-t*x,w>A&&(n=Math.max(n,Math.abs(e[o][i]-x)/(w-A))))}return n}});var rie=ie((PGe,eie)=>{"use strict";var WCe=wr().maxRowLength;eie.exports=function(r){var t=[],n={},a=[],o=r[0],i=[],s=[0,0,0],f=WCe(r),l,u,c,v,m,x,A,w;for(u=0;u<r.length;u++)for(l=i,i=o,o=r[u+1]||[],c=0;c<f;c++)i[c]===void 0&&(x=(i[c-1]!==void 0?1:0)+(i[c+1]!==void 0?1:0)+(l[c]!==void 0?1:0)+(o[c]!==void 0?1:0),x?(u===0&&x++,c===0&&x++,u===r.length-1&&x++,c===i.length-1&&x++,x<4&&(n[[u,c]]=[u,c,x]),t.push([u,c,x])):a.push([u,c]));for(;a.length;){for(A={},w=!1,m=a.length-1;m>=0;m--)v=a[m],u=v[0],c=v[1],x=((n[[u-1,c]]||s)[2]+(n[[u+1,c]]||s)[2]+(n[[u,c-1]]||s)[2]+(n[[u,c+1]]||s)[2])/20,x&&(A[v]=[u,c,x],a.splice(m,1),w=!0);if(!w)throw"findEmpties iterated with no new neighbors";for(v in A)n[v]=A[v],t.push(A[v])}return t.sort(function(y,_){return _[2]-y[2]})}});var aie=ie((OGe,nie)=>{"use strict";var RE=Dt(),tie=wr().isArrayOrTypedArray;nie.exports=function(r,t,n,a,o,i){var s=[],f=RE.traceIs(r,"contour"),l=RE.traceIs(r,"histogram"),u=RE.traceIs(r,"gl2d"),c,v,m,x=tie(t)&&t.length>1;if(x&&!l&&i.type!=="category"){var A=t.length;if(A<=o){if(f||u)s=Array.from(t).slice(0,o);else if(o===1)i.type==="log"?s=[.5*t[0],2*t[0]]:s=[t[0]-.5,t[0]+.5];else if(i.type==="log"){for(s=[Math.pow(t[0],1.5)/Math.pow(t[1],.5)],m=1;m<A;m++)s.push(Math.sqrt(t[m-1]*t[m]));s.push(Math.pow(t[A-1],1.5)/Math.pow(t[A-2],.5))}else{for(s=[1.5*t[0]-.5*t[1]],m=1;m<A;m++)s.push((t[m-1]+t[m])*.5);s.push(1.5*t[A-1]-.5*t[A-2])}if(A<o){var w=s[s.length-1],y;if(i.type==="log")for(y=w/s[s.length-2],m=A;m<o;m++)w*=y,s.push(w);else for(y=w-s[s.length-2],m=A;m<o;m++)w+=y,s.push(w)}}else return f?t.slice(0,o):t.slice(0,o+1)}else{var _=r[i._id.charAt(0)+"calendar"];if(l)c=i.r2c(n,0,_);else if(tie(t)&&t.length===1)c=t[0];else if(n===void 0)c=0;else{var M=i.type==="log"?i.d2c:i.r2c;c=M(n,0,_)}for(v=a||1,m=f||u?0:-.5;m<o;m++)s.push(c+v*m)}return s}});var lie=ie((NGe,sie)=>{"use strict";var DE=Dt(),FE=wr(),c_=Rn(),iie=Jp(),XCe=Hae(),ZCe=Tm(),jCe=Xae(),JCe=jae(),$Ce=Qae(),KCe=rie(),h_=aie(),IE=ta().BADNUM;sie.exports=function(r,t){var n=c_.getFromId(r,t.xaxis||"x"),a=c_.getFromId(r,t.yaxis||"y"),o=DE.traceIs(t,"contour"),i=DE.traceIs(t,"histogram"),s=DE.traceIs(t,"gl2d"),f=o?"best":t.zsmooth,l,u,c,v,m,x,A,w,y,_,M;if(n._minDtick=0,a._minDtick=0,i)M=XCe(r,t),v=M.orig_x,l=M.x,u=M.x0,c=M.dx,w=M.orig_y,m=M.y,x=M.y0,A=M.dy,y=M.z;else{var b=t.z;FE.isArray1D(b)?(jCe(t,n,a,"x","y",["z"]),l=t._x,m=t._y,b=t._z):(v=t.x?n.makeCalcdata(t,"x"):[],w=t.y?a.makeCalcdata(t,"y"):[],l=iie(t,n,"x",v).vals,m=iie(t,a,"y",w).vals,t._x=l,t._y=m),u=t.x0,c=t.dx,x=t.y0,A=t.dy,y=JCe(b,t,n,a)}(n.rangebreaks||a.rangebreaks)&&(y=QCe(l,m,y),i||(l=oie(l),m=oie(m),t._x=l,t._y=m)),!i&&(o||t.connectgaps)&&(t._emptypoints=KCe(y),$Ce(y,t._emptypoints));function E(D){f=t._input.zsmooth=t.zsmooth=!1,FE.warn('cannot use zsmooth: "fast": '+D)}function d(D){if(D.length>1){var P=(D[D.length-1]-D[0])/(D.length-1),O=Math.abs(P/100);for(_=0;_<D.length-1;_++)if(Math.abs(D[_+1]-D[_]-P)>O)return!1}return!0}t._islinear=!1,n.type==="log"||a.type==="log"?f==="fast"&&E("log axis found"):d(l)?d(m)?t._islinear=!0:f==="fast"&&E("y scale is not linear"):f==="fast"&&E("x scale is not linear");var T=FE.maxRowLength(y),g=t.xtype==="scaled"?"":l,h=h_(t,g,u,c,T,n),S=t.ytype==="scaled"?"":m,p=h_(t,S,x,A,y.length,a);s||(t._extremes[n._id]=c_.findExtremes(n,h),t._extremes[a._id]=c_.findExtremes(a,p));var C={x:h,y:p,z:y,text:t._text||t.text,hovertext:t._hovertext||t.hovertext};if(t.xperiodalignment&&v&&(C.orig_x=v),t.yperiodalignment&&w&&(C.orig_y=w),g&&g.length===h.length-1&&(C.xCenter=g),S&&S.length===p.length-1&&(C.yCenter=S),i&&(C.xRanges=M.xRanges,C.yRanges=M.yRanges,C.pts=M.pts),o||ZCe(r,t,{vals:y,cLetter:"z"}),o&&t.contours&&t.contours.coloring==="heatmap"){var k={type:t.type==="contour"?"heatmap":"histogram2d",xcalendar:t.xcalendar,ycalendar:t.ycalendar};C.xfill=h_(k,g,u,c,T,n),C.yfill=h_(k,S,x,A,y.length,a)}return[C]};function oie(e){for(var r=[],t=e.length,n=0;n<t;n++){var a=e[n];a!==IE&&r.push(a)}return r}function QCe(e,r,t){for(var n=[],a=-1,o=0;o<t.length;o++)if(r[o]!==IE){a++,n[a]=[];for(var i=0;i<t[o].length;i++)e[i]!==IE&&n[a].push(t[o][i])}return n}});var hie=ie((BGe,cie)=>{"use strict";var eke=Sd().gl_heatmap2d,fie=Rn(),rke=r_();function uie(e,r){this.scene=e,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=eke(e.glplot,this.options),this.heatmap._trace=this}var PE=uie.prototype;PE.handlePick=function(e){var r=this.options,t=r.shape,n=e.pointId,a=n%t[0],o=Math.floor(n/t[0]),i=n;return{trace:this,dataCoord:e.dataCoord,traceCoord:[r.x[a],r.y[o],r.z[i]],textLabel:this.textLabels[n],name:this.name,pointIndex:[o,a],hoverinfo:this.hoverinfo}};PE.update=function(e,r){var t=r[0];this.index=e.index,this.name=e.name,this.hoverinfo=e.hoverinfo;var n=t.z;this.options.z=[].concat.apply([],n);var a=n[0].length,o=n.length;this.options.shape=[a,o],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=e.zsmooth;var i=tke(e);this.options.colorLevels=i.colorLevels,this.options.colorValues=i.colorValues,this.textLabels=[].concat.apply([],e.text),this.heatmap.update(this.options);var s=this.scene.xaxis,f=this.scene.yaxis,l,u;e.zsmooth===!1&&(l={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),e._extremes[s._id]=fie.findExtremes(s,t.x,l),e._extremes[f._id]=fie.findExtremes(f,t.y,u)};PE.dispose=function(){this.heatmap.dispose()};function tke(e){for(var r=e.colorscale,t=e.zmin,n=e.zmax,a=r.length,o=new Array(a),i=new Array(4*a),s=0;s<a;s++){var f=r[s],l=rke(f[1]);o[s]=t+f[0]*(n-t);for(var u=0;u<4;u++)i[4*s+u]=l[u]}return{colorLevels:o,colorValues:i}}function nke(e,r,t){var n=new uie(e,r.uid);return n.update(r,t),n}cie.exports=nke});var die=ie((zGe,vie)=>{"use strict";var qGe=["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" ");vie.exports={attributes:TE(),supplyDefaults:gae(),colorbar:mae(),calc:lie(),plot:hie(),moduleType:"trace",name:"heatmapgl",basePlotModule:_E(),categories:["gl","gl2d","2dMap"],meta:{}}});var gie=ie((UGe,pie)=>{"use strict";pie.exports=die()});var BE=ie((GGe,yie)=>{"use strict";var ake=cf(),OE=is(),NE=ci(),ike=nb().attributes,v_=ga().extendFlat,oke=Yn().templatedArray;yie.exports={domain:ike({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:NE({editType:"plot"}),tickfont:NE({autoShadowDflt:!0,editType:"plot"}),rangefont:NE({editType:"plot"}),dimensions:oke("dimension",{label:{valType:"string",editType:"plot"},tickvals:v_({},OE.tickvals,{editType:"plot"}),ticktext:v_({},OE.ticktext,{editType:"plot"}),tickformat:v_({},OE.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:v_({editType:"calc"},ake("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}});var cy=ie((HGe,mie)=>{"use strict";mie.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}});var hy=ie((VGe,bie)=>{"use strict";var ske=Q2();function xie(e){return[e]}bie.exports={keyFun:function(e){return e.key},repeat:xie,descend:ske,wrap:xie,unwrap:function(e){return e[0]}}});var UE=ie((YGe,Rie)=>{"use strict";var Da=cy(),nl=gn(),lke=hy().keyFun,d_=hy().repeat,Dd=wr().sorterAsc,fke=wr().strTranslate,_ie=Da.bar.snapRatio;function wie(e,r){return e*(1-_ie)+r*_ie}var Aie=Da.bar.snapClose;function uke(e,r){return e*(1-Aie)+r*Aie}function g_(e,r,t,n){if(cke(t,n))return t;var a=e?-1:1,o=0,i=r.length-1;if(a<0){var s=o;o=i,i=s}for(var f=r[o],l=f,u=o;a*u<a*i;u+=a){var c=u+a,v=r[c];if(a*t<a*uke(f,v))return wie(f,l);if(a*t<a*v||c===i)return wie(v,f);l=f,f=v}}function cke(e,r){for(var t=0;t<r.length;t++)if(e>=r[t][0]&&e<=r[t][1])return!0;return!1}function hke(e){e.attr("x",-Da.bar.captureWidth/2).attr("width",Da.bar.captureWidth)}function vke(e){e.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function dke(e){if(!e.brush.filterSpecified)return"0,"+e.height;for(var r=Tie(e.brush.filter.getConsolidated(),e.height),t=[0],n,a,o,i=r.length?r[0][0]:null,s=0;s<r.length;s++)n=r[s],a=n[1]-n[0],t.push(i),t.push(a),o=s+1,o<r.length&&(i=r[o][0]-n[1]);return t.push(e.height),t}function Tie(e,r){return e.map(function(t){return t.map(function(n){return Math.max(0,n*r)}).sort(Dd)})}function pke(e,r){var t=Da.bar.handleHeight;if(!(r>e[1]+t||r<e[0]-t))return r>=.9*e[1]+.1*e[0]?"n":r<=.9*e[0]+.1*e[1]?"s":"ns"}function Mie(){nl.select(document.body).style("cursor",null)}function zE(e){e.attr("stroke-dasharray",dke)}function p_(e,r){var t=nl.select(e).selectAll(".highlight, .highlight-shadow"),n=r?t.transition().duration(Da.bar.snapDuration).each("end",r):t;zE(n)}function Eie(e,r){var t=e.brush,n=t.filterSpecified,a=NaN,o={},i;if(n){var s=e.height,f=t.filter.getConsolidated(),l=Tie(f,s),u=NaN,c=NaN,v=NaN;for(i=0;i<=l.length;i++){var m=l[i];if(m&&m[0]<=r&&r<=m[1]){u=i;break}else if(c=i?i-1:NaN,m&&m[0]>r){v=i;break}}if(a=u,isNaN(a)&&(isNaN(c)||isNaN(v)?a=isNaN(c)?v:c:a=r-l[c][1]<l[v][0]-r?c:v),!isNaN(a)){var x=l[a],A=pke(x,r);A&&(o.interval=f[a],o.intervalPix=x,o.region=A)}}if(e.ordinal&&!o.region){var w=e.unitTickvals,y=e.unitToPaddedPx.invert(r);for(i=0;i<w.length;i++){var _=[w[Math.max(i-1,0)]*.25+w[i]*.75,w[Math.min(i+1,w.length-1)]*.25+w[i]*.75];if(y>=_[0]&&y<=_[1]){o.clickableOrdinalRange=_;break}}}return o}function gke(e,r){nl.event.sourceEvent.stopPropagation();var t=r.height-nl.mouse(e)[1]-2*Da.verticalPadding,n=r.unitToPaddedPx.invert(t),a=r.brush,o=Eie(r,t),i=o.interval,s=a.svgBrush;if(s.wasDragged=!1,s.grabbingBar=o.region==="ns",s.grabbingBar){var f=i.map(r.unitToPaddedPx);s.grabPoint=t-f[0]-Da.verticalPadding,s.barLength=f[1]-f[0]}s.clickableOrdinalRange=o.clickableOrdinalRange,s.stayingIntervals=r.multiselect&&a.filterSpecified?a.filter.getConsolidated():[],i&&(s.stayingIntervals=s.stayingIntervals.filter(function(l){return l[0]!==i[0]&&l[1]!==i[1]})),s.startExtent=o.region?i[o.region==="s"?1:0]:n,r.parent.inBrushDrag=!0,s.brushStartCallback()}function Sie(e,r){nl.event.sourceEvent.stopPropagation();var t=r.height-nl.mouse(e)[1]-2*Da.verticalPadding,n=r.brush.svgBrush;n.wasDragged=!0,n._dragging=!0,n.grabbingBar?n.newExtent=[t-n.grabPoint,t+n.barLength-n.grabPoint].map(r.unitToPaddedPx.invert):n.newExtent=[n.startExtent,r.unitToPaddedPx.invert(t)].sort(Dd),r.brush.filterSpecified=!0,n.extent=n.stayingIntervals.concat([n.newExtent]),n.brushCallback(r),p_(e.parentNode)}function yke(e,r){var t=r.brush,n=t.filter,a=t.svgBrush;a._dragging||(Cie(e,r),Sie(e,r),r.brush.svgBrush.wasDragged=!1),a._dragging=!1;var o=nl.event;o.sourceEvent.stopPropagation();var i=a.grabbingBar;if(a.grabbingBar=!1,a.grabLocation=void 0,r.parent.inBrushDrag=!1,Mie(),!a.wasDragged){a.wasDragged=void 0,a.clickableOrdinalRange?t.filterSpecified&&r.multiselect?a.extent.push(a.clickableOrdinalRange):(a.extent=[a.clickableOrdinalRange],t.filterSpecified=!0):i?(a.extent=a.stayingIntervals,a.extent.length===0&&qE(t)):qE(t),a.brushCallback(r),p_(e.parentNode),a.brushEndCallback(t.filterSpecified?n.getConsolidated():[]);return}var s=function(){n.set(n.getConsolidated())};if(r.ordinal){var f=r.unitTickvals;f[f.length-1]<f[0]&&f.reverse(),a.newExtent=[g_(0,f,a.newExtent[0],a.stayingIntervals),g_(1,f,a.newExtent[1],a.stayingIntervals)];var l=a.newExtent[1]>a.newExtent[0];a.extent=a.stayingIntervals.concat(l?[a.newExtent]:[]),a.extent.length||qE(t),a.brushCallback(r),l?p_(e.parentNode,s):(s(),p_(e.parentNode))}else s();a.brushEndCallback(t.filterSpecified?n.getConsolidated():[])}function Cie(e,r){var t=r.height-nl.mouse(e)[1]-2*Da.verticalPadding,n=Eie(r,t),a="crosshair";n.clickableOrdinalRange?a="pointer":n.region&&(a=n.region+"-resize"),nl.select(document.body).style("cursor",a)}function mke(e){e.on("mousemove",function(r){nl.event.preventDefault(),r.parent.inBrushDrag||Cie(this,r)}).on("mouseleave",function(r){r.parent.inBrushDrag||Mie()}).call(nl.behavior.drag().on("dragstart",function(r){gke(this,r)}).on("drag",function(r){Sie(this,r)}).on("dragend",function(r){yke(this,r)}))}function kie(e,r){return e[0]-r[0]}function xke(e,r,t){var n=t._context.staticPlot,a=e.selectAll(".background").data(d_);a.enter().append("rect").classed("background",!0).call(hke).call(vke).style("pointer-events",n?"none":"auto").attr("transform",fke(0,Da.verticalPadding)),a.call(mke).attr("height",function(s){return s.height-Da.verticalPadding});var o=e.selectAll(".highlight-shadow").data(d_);o.enter().append("line").classed("highlight-shadow",!0).attr("x",-Da.bar.width/2).attr("stroke-width",Da.bar.width+Da.bar.strokeWidth).attr("stroke",r).attr("opacity",Da.bar.strokeOpacity).attr("stroke-linecap","butt"),o.attr("y1",function(s){return s.height}).call(zE);var i=e.selectAll(".highlight").data(d_);i.enter().append("line").classed("highlight",!0).attr("x",-Da.bar.width/2).attr("stroke-width",Da.bar.width-Da.bar.strokeWidth).attr("stroke",Da.bar.fillColor).attr("opacity",Da.bar.fillOpacity).attr("stroke-linecap","butt"),i.attr("y1",function(s){return s.height}).call(zE)}function bke(e,r,t){var n=e.selectAll("."+Da.cn.axisBrush).data(d_,lke);n.enter().append("g").classed(Da.cn.axisBrush,!0),xke(n,r,t)}function _ke(e){return e.svgBrush.extent.map(function(r){return r.slice()})}function qE(e){e.filterSpecified=!1,e.svgBrush.extent=[[-1/0,1/0]]}function wke(e){return function(t){var n=t.brush,a=_ke(n),o=a.slice();n.filter.set(o),e()}}function Lie(e){for(var r=e.slice(),t=[],n,a=r.shift();a;){for(n=a.slice();(a=r.shift())&&a[0]<=n[1];)n[1]=Math.max(n[1],a[1]);t.push(n)}return t.length===1&&t[0][0]>t[0][1]&&(t=[]),t}function Ake(){var e=[],r,t;return{set:function(n){e=n.map(function(a){return a.slice().sort(Dd)}).sort(kie),e.length===1&&e[0][0]===-1/0&&e[0][1]===1/0&&(e=[[0,-1]]),r=Lie(e),t=e.reduce(function(a,o){return[Math.min(a[0],o[0]),Math.max(a[1],o[1])]},[1/0,-1/0])},get:function(){return e.slice()},getConsolidated:function(){return r},getBounds:function(){return t}}}function Tke(e,r,t,n,a,o){var i=Ake();return i.set(t),{filter:i,filterSpecified:r,svgBrush:{extent:[],brushStartCallback:n,brushCallback:wke(a),brushEndCallback:o}}}function Mke(e,r){if(Array.isArray(e[0])?(e=e.map(function(n){return n.sort(Dd)}),r.multiselect?e=Lie(e.sort(kie)):e=[e[0]]):e=[e.sort(Dd)],r.tickvals){var t=r.tickvals.slice().sort(Dd);if(e=e.map(function(n){var a=[g_(0,t,n[0],[]),g_(1,t,n[1],[])];if(a[1]>a[0])return a}).filter(function(n){return n}),!e.length)return}return e.length>1?e:e[0]}Rie.exports={makeBrush:Tke,ensureAxisBrush:bke,cleanRanges:Mke}});var Iie=ie((WGe,Fie)=>{"use strict";var ic=wr(),Eke=Os().hasColorscale,Ske=Jc(),Cke=nb().defaults,kke=qo(),Lke=Rn(),Die=BE(),Rke=UE(),GE=cy().maxDimensionCount,Dke=lE();function Fke(e,r,t,n,a){var o=a("line.color",t);if(Eke(e,"line")&&ic.isArrayOrTypedArray(o)){if(o.length)return a("line.colorscale"),Ske(e,r,n,a,{prefix:"line.",cLetter:"c"}),o.length;r.line.color=t}return 1/0}function Ike(e,r,t,n){function a(l,u){return ic.coerce(e,r,Die.dimensions,l,u)}var o=a("values"),i=a("visible");if(o&&o.length||(i=r.visible=!1),i){a("label"),a("tickvals"),a("ticktext"),a("tickformat");var s=a("range");r._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:s},Lke.setConvert(r._ax,n.layout),a("multiselect");var f=a("constraintrange");f&&(r.constraintrange=Rke.cleanRanges(f,r))}}Fie.exports=function(r,t,n,a){function o(u,c){return ic.coerce(r,t,Die,u,c)}var i=r.dimensions;Array.isArray(i)&&i.length>GE&&(ic.log("parcoords traces support up to "+GE+" dimensions at the moment"),i.splice(GE));var s=kke(r,t,{name:"dimensions",layout:a,handleItemDefaults:Ike}),f=Fke(r,t,n,a,o);Cke(t,a,o),(!Array.isArray(s)||!s.length)&&(t.visible=!1),Dke(t,s,"values",f);var l=ic.extendFlat({},a.font,{size:Math.round(a.font.size/1.2)});ic.coerceFont(o,"labelfont",l),ic.coerceFont(o,"tickfont",l,{autoShadowDflt:!0}),ic.coerceFont(o,"rangefont",l),o("labelangle"),o("labelside"),o("unselected.line.color"),o("unselected.line.opacity")}});var Oie=ie((XGe,Pie)=>{"use strict";var Pke=wr().isArrayOrTypedArray,HE=$h(),Oke=hy().wrap;Pie.exports=function(r,t){var n,a;return HE.hasColorscale(t,"line")&&Pke(t.line.color)?(n=t.line.color,a=HE.extractOpts(t.line).colorscale,HE.calc(r,t,{vals:n,containerStr:"line",cLetter:"c"})):(n=Nke(t._length),a=[[0,t.line.color],[1,t.line.color]]),Oke({lineColor:n,cscale:a})};function Nke(e){for(var r=new Array(e),t=0;t<e;t++)r[t]=.5;return r}});var VE=ie(y_=>{"use strict";var Bke=wr().isTypedArray;y_.convertTypedArray=function(e){return Bke(e)?Array.prototype.slice.call(e):e};y_.isOrdinal=function(e){return!!e.tickvals};y_.isVisible=function(e){return e.visible||!("visible"in e)}});var Wie=ie((jGe,Yie)=>{"use strict";var qke=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),zke=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),vy=cy().maxDimensionCount,Gie=wr(),Nie=1e-6,m_=2048,Uke=new Uint8Array(4),Bie=new Uint8Array(4),qie={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function Gke(e){e.read({x:0,y:0,width:1,height:1,data:Uke})}function Hie(e,r,t,n,a){var o=e._gl;o.enable(o.SCISSOR_TEST),o.scissor(r,t,n,a),e.clear({color:[0,0,0,0],depth:1})}function Hke(e,r,t,n,a,o){var i=o.key;function s(f){var l=Math.min(n,a-f*n);f===0&&(window.cancelAnimationFrame(t.currentRafs[i]),delete t.currentRafs[i],Hie(e,o.scissorX,o.scissorY,o.scissorWidth,o.viewBoxSize[1])),!t.clearOnly&&(o.count=2*l,o.offset=2*f*n,r(o),f*n+l<a&&(t.currentRafs[i]=window.requestAnimationFrame(function(){s(f+1)})),t.drawCompleted=!1)}t.drawCompleted||(Gke(e),t.drawCompleted=!0),s(0)}function Vke(e){return Math.max(Nie,Math.min(1-Nie,e))}function Yke(e,r){for(var t=new Array(256),n=0;n<256;n++)t[n]=e(n/255).concat(r);return t}function YE(e,r){return(e>>>8*r)%256/255}function Wke(e,r,t){for(var n=new Array(e*(vy+4)),a=0,o=0;o<e;o++){for(var i=0;i<vy;i++)n[a++]=i<r.length?r[i].paddedUnitValues[o]:.5;n[a++]=YE(o,2),n[a++]=YE(o,1),n[a++]=YE(o,0),n[a++]=Vke(t[o])}return n}function Xke(e,r,t){for(var n=new Array(r*8),a=0,o=0;o<r;o++)for(var i=0;i<2;i++)for(var s=0;s<4;s++){var f=e*4+s,l=t[o*64+f];f===63&&i===0&&(l*=-1),n[a++]=l}return n}function zie(e){var r="0"+e;return r.substr(r.length-2)}function Vie(e){return e<vy?"p"+zie(e+1)+"_"+zie(e+4):"colors"}function Zke(e,r,t){for(var n=0;n<=vy;n+=4)e[Vie(n)](Xke(n/4,r,t))}function jke(e){for(var r={},t=0;t<=vy;t+=4)r[Vie(t)]=e.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return r}function Jke(e,r,t,n,a,o,i,s,f,l,u,c,v,m){for(var x=[[],[]],A=0;A<64;A++)x[0][A]=A===a?1:0,x[1][A]=A===o?1:0;i*=m,s*=m,f*=m,l*=m;var w=e.lines.canvasOverdrag*m,y=e.domain,_=e.canvasWidth*m,M=e.canvasHeight*m,b=e.pad.l*m,E=e.pad.b*m,d=e.layoutHeight*m,T=e.layoutWidth*m,g=e.deselectedLines.color,h=e.deselectedLines.opacity,S=Gie.extendFlat({key:u,resolution:[_,M],viewBoxPos:[i+w,s],viewBoxSize:[f,l],i0:a,i1:o,dim0A:x[0].slice(0,16),dim0B:x[0].slice(16,32),dim0C:x[0].slice(32,48),dim0D:x[0].slice(48,64),dim1A:x[1].slice(0,16),dim1B:x[1].slice(16,32),dim1C:x[1].slice(32,48),dim1D:x[1].slice(48,64),drwLayer:c,contextColor:[g[0]/255,g[1]/255,g[2]/255,h!=="auto"?g[3]*h:Math.max(1/255,Math.pow(1/e.lines.color.length,1/3))],scissorX:(n===r?0:i+w)+(b-w)+T*y.x[0],scissorWidth:(n===t?_-i+w:f+.5)+(n===r?i+w:0),scissorY:s+E+d*y.y[0],scissorHeight:l,viewportX:b-w+T*y.x[0],viewportY:E+d*y.y[0],viewportWidth:_,viewportHeight:M},v);return S}function Uie(e){var r=m_-1,t=Math.max(0,Math.floor(e[0]*r),0),n=Math.min(r,Math.ceil(e[1]*r),r);return[Math.min(t,n),Math.max(t,n)]}Yie.exports=function(e,r){var t=r.context,n=r.pick,a=r.regl,o=a._gl,i=o.getParameter(o.ALIASED_LINE_WIDTH_RANGE),s=Math.max(i[0],Math.min(i[1],r.viewModel.plotGlPixelRatio)),f={currentRafs:{},drawCompleted:!0,clearOnly:!1},l,u,c,v,m=jke(a),x,A=a.texture(qie),w=[];_(r);var y=a({profile:!1,blend:{enable:t,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!t,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:a.prop("scissorX"),y:a.prop("scissorY"),width:a.prop("scissorWidth"),height:a.prop("scissorHeight")}},viewport:{x:a.prop("viewportX"),y:a.prop("viewportY"),width:a.prop("viewportWidth"),height:a.prop("viewportHeight")},dither:!1,vert:qke,frag:zke,primitive:"lines",lineWidth:s,attributes:m,uniforms:{resolution:a.prop("resolution"),viewBoxPos:a.prop("viewBoxPos"),viewBoxSize:a.prop("viewBoxSize"),dim0A:a.prop("dim0A"),dim1A:a.prop("dim1A"),dim0B:a.prop("dim0B"),dim1B:a.prop("dim1B"),dim0C:a.prop("dim0C"),dim1C:a.prop("dim1C"),dim0D:a.prop("dim0D"),dim1D:a.prop("dim1D"),loA:a.prop("loA"),hiA:a.prop("hiA"),loB:a.prop("loB"),hiB:a.prop("hiB"),loC:a.prop("loC"),hiC:a.prop("hiC"),loD:a.prop("loD"),hiD:a.prop("hiD"),palette:A,contextColor:a.prop("contextColor"),maskTexture:a.prop("maskTexture"),drwLayer:a.prop("drwLayer"),maskHeight:a.prop("maskHeight")},offset:a.prop("offset"),count:a.prop("count")});function _(g){l=g.model,u=g.viewModel,c=u.dimensions.slice(),v=c[0]?c[0].values.length:0;var h=l.lines,S=n?h.color.map(function(C,k){return k/h.color.length}):h.color,p=Wke(v,c,S);Zke(m,v,p),!t&&!n&&(A=a.texture(Gie.extendFlat({data:Yke(l.unitToColor,255)},qie)))}function M(g){var h,S,p,C=[[],[]];for(p=0;p<64;p++){var k=!g&&p<c.length?c[p].brush.filter.getBounds():[-1/0,1/0];C[0][p]=k[0],C[1][p]=k[1]}var D=m_*8,P=new Array(D);for(h=0;h<D;h++)P[h]=255;if(!g)for(h=0;h<c.length;h++){var O=h%8,F=(h-O)/8,L=Math.pow(2,O),I=c[h],q=I.brush.filter.get();if(!(q.length<2)){var z=Uie(q[0])[1];for(S=1;S<q.length;S++){var W=Uie(q[S]);for(p=z+1;p<W[0];p++)P[p*8+F]&=~L;z=Math.max(z,W[1])}}}var $={shape:[8,m_],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:P};return x?x($):x=a.texture($),{maskTexture:x,maskHeight:m_,loA:C[0].slice(0,16),loB:C[0].slice(16,32),loC:C[0].slice(32,48),loD:C[0].slice(48,64),hiA:C[1].slice(0,16),hiB:C[1].slice(16,32),hiC:C[1].slice(32,48),hiD:C[1].slice(48,64)}}function b(g,h,S){var p=g.length,C,k,D,P=1/0,O=-1/0;for(C=0;C<p;C++)g[C].dim0.canvasX<P&&(P=g[C].dim0.canvasX,k=C),g[C].dim1.canvasX>O&&(O=g[C].dim1.canvasX,D=C);p===0&&Hie(a,0,0,l.canvasWidth,l.canvasHeight);var F=M(t);for(C=0;C<p;C++){var L=g[C],I=L.dim0.crossfilterDimensionIndex,q=L.dim1.crossfilterDimensionIndex,z=L.canvasX,W=L.canvasY,$=z+L.panelSizeX,j=L.plotGlPixelRatio;if(h||!w[I]||w[I][0]!==z||w[I][1]!==$){w[I]=[z,$];var G=Jke(l,k,D,C,I,q,z,W,L.panelSizeX,L.panelSizeY,L.dim0.crossfilterDimensionIndex,t?0:n?2:1,F,j);f.clearOnly=S;var B=h?l.lines.blockLineCount:v;Hke(a,y,f,B,v,G)}}}function E(g,h){return a.read({x:g,y:h,width:1,height:1,data:Bie}),Bie}function d(g,h,S,p){var C=new Uint8Array(4*S*p);return a.read({x:g,y:h,width:S,height:p,data:C}),C}function T(){e.style["pointer-events"]="none",A.destroy(),x&&x.destroy();for(var g in m)m[g].destroy()}return{render:b,readPixel:E,readPixels:d,destroy:T,update:_}}});var ooe=ie((JGe,ioe)=>{"use strict";var di=gn(),Ff=wr(),WE=Ff.isArrayOrTypedArray,Kie=Ff.numberFormat,Qie=qM(),eoe=Rn(),$ke=Ff.strRotate,Bl=Ff.strTranslate,Kke=Ni(),x_=zn(),Xie=$h(),jE=hy(),Es=jE.keyFun,ql=jE.repeat,roe=jE.unwrap,Fd=VE(),_n=cy(),toe=UE(),Qke=Wie();function Zie(e,r,t){return Ff.aggNums(e,null,r,t)}function noe(e,r){return JE(Zie(Math.min,e,r),Zie(Math.max,e,r))}function b_(e){var r=e.range;return r?JE(r[0],r[1]):noe(e.values,e._length)}function JE(e,r){return(isNaN(e)||!isFinite(e))&&(e=0),(isNaN(r)||!isFinite(r))&&(r=0),e===r&&(e===0?(e-=1,r+=1):(e*=.9,r*=1.1)),[e,r]}function eLe(e,r){return r?function(t,n){var a=r[n];return a==null?e(t):a}:e}function rLe(e,r,t,n,a){var o=b_(t);return n?di.scale.ordinal().domain(n.map(eLe(Kie(t.tickformat),a))).range(n.map(function(i){var s=(i-o[0])/(o[1]-o[0]);return e-r+s*(2*r-e)})):di.scale.linear().domain(o).range([e-r,r])}function tLe(e,r){return di.scale.linear().range([r,e-r])}function nLe(e,r){return di.scale.linear().domain(b_(e)).range([r,1-r])}function aLe(e){if(e.tickvals){var r=b_(e);return di.scale.ordinal().domain(e.tickvals).range(e.tickvals.map(function(t){return(t-r[0])/(r[1]-r[0])}))}}function iLe(e){var r=e.map(function(o){return o[0]}),t=e.map(function(o){var i=Qie(o[1]);return di.rgb("rgb("+i[0]+","+i[1]+","+i[2]+")")}),n=function(o){return function(i){return i[o]}},a="rgb".split("").map(function(o){return di.scale.linear().clamp(!0).domain(r).range(t.map(n(o)))});return function(o){return a.map(function(i){return i(o)})}}function ZE(e){return e.dimensions.some(function(r){return r.brush.filterSpecified})}function oLe(e,r,t){var n=roe(r),a=n.trace,o=Fd.convertTypedArray(n.lineColor),i=a.line,s={color:Qie(a.unselected.line.color),opacity:a.unselected.line.opacity},f=Xie.extractOpts(i),l=f.reversescale?Xie.flipScale(n.cscale):n.cscale,u=a.domain,c=a.dimensions,v=e.width,m=a.labelangle,x=a.labelside,A=a.labelfont,w=a.tickfont,y=a.rangefont,_=Ff.extendDeepNoArrays({},i,{color:o.map(di.scale.linear().domain(b_({values:o,range:[f.min,f.max],_length:a._length}))),blockLineCount:_n.blockLineCount,canvasOverdrag:_n.overdrag*_n.canvasPixelRatio}),M=Math.floor(v*(u.x[1]-u.x[0])),b=Math.floor(e.height*(u.y[1]-u.y[0])),E=e.margin||{l:80,r:80,t:100,b:80},d=M,T=b;return{key:t,colCount:c.filter(Fd.isVisible).length,dimensions:c,tickDistance:_n.tickDistance,unitToColor:iLe(l),lines:_,deselectedLines:s,labelAngle:m,labelSide:x,labelFont:A,tickFont:w,rangeFont:y,layoutWidth:v,layoutHeight:e.height,domain:u,translateX:u.x[0]*v,translateY:e.height-u.y[1]*e.height,pad:E,canvasWidth:d*_n.canvasPixelRatio+2*_.canvasOverdrag,canvasHeight:T*_n.canvasPixelRatio,width:d,height:T,canvasPixelRatio:_n.canvasPixelRatio}}function sLe(e,r,t){var n=t.width,a=t.height,o=t.dimensions,i=t.canvasPixelRatio,s=function(v){return n*v/Math.max(1,t.colCount-1)},f=_n.verticalPadding/a,l=tLe(a,_n.verticalPadding),u={key:t.key,xScale:s,model:t,inBrushDrag:!1},c={};return u.dimensions=o.filter(Fd.isVisible).map(function(v,m){var x=nLe(v,f),A=c[v.label];c[v.label]=(A||0)+1;var w=v.label+(A?"__"+A:""),y=v.constraintrange,_=y&&y.length;_&&!WE(y[0])&&(y=[y]);var M=_?y.map(function(k){return k.map(x)}):[[-1/0,1/0]],b=function(){var k=u;k.focusLayer&&k.focusLayer.render(k.panels,!0);var D=ZE(k);!e.contextShown()&&D?(k.contextLayer&&k.contextLayer.render(k.panels,!0),e.contextShown(!0)):e.contextShown()&&!D&&(k.contextLayer&&k.contextLayer.render(k.panels,!0,!0),e.contextShown(!1))},E=v.values;E.length>v._length&&(E=E.slice(0,v._length));var d=v.tickvals,T;function g(k,D){return{val:k,text:T[D]}}function h(k,D){return k.val-D.val}if(WE(d)&&d.length){Ff.isTypedArray(d)&&(d=Array.from(d)),T=v.ticktext,!WE(T)||!T.length?T=d.map(Kie(v.tickformat)):T.length>d.length?T=T.slice(0,d.length):d.length>T.length&&(d=d.slice(0,T.length));for(var S=1;S<d.length;S++)if(d[S]<d[S-1]){for(var p=d.map(g).sort(h),C=0;C<d.length;C++)d[C]=p[C].val,T[C]=p[C].text;break}}else d=void 0;return E=Fd.convertTypedArray(E),{key:w,label:v.label,tickFormat:v.tickformat,tickvals:d,ticktext:T,ordinal:Fd.isOrdinal(v),multiselect:v.multiselect,xIndex:m,crossfilterDimensionIndex:m,visibleIndex:v._index,height:a,values:E,paddedUnitValues:E.map(x),unitTickvals:d&&d.map(x),xScale:s,x:s(m),canvasX:s(m)*i,unitToPaddedPx:l,domainScale:rLe(a,_n.verticalPadding,v,d,T),ordinalScale:aLe(v),parent:u,model:t,brush:toe.makeBrush(e,_,M,function(){e.linePickActive(!1)},b,function(k){if(u.focusLayer.render(u.panels,!0),u.pickLayer&&u.pickLayer.render(u.panels,!0),e.linePickActive(!0),r&&r.filterChanged){var D=x.invert,P=k.map(function(O){return O.map(D).sort(Ff.sorterAsc)}).sort(function(O,F){return O[0]-F[0]});r.filterChanged(u.key,v._index,P)}})}}),u}function jie(e){e.classed(_n.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function lLe(){var e=!0,r=!1;return{linePickActive:function(t){return arguments.length?e=!!t:e},contextShown:function(t){return arguments.length?r=!!t:r}}}function Jie(e,r){var t=r==="top"?1:-1,n=e*Math.PI/180,a=Math.sin(n),o=Math.cos(n);return{dir:t,dx:a,dy:o,degrees:e}}function XE(e,r,t){for(var n=r.panels||(r.panels=[]),a=e.data(),o=0;o<a.length-1;o++){var i=n[o]||(n[o]={}),s=a[o],f=a[o+1];i.dim0=s,i.dim1=f,i.canvasX=s.canvasX,i.panelSizeX=f.canvasX-s.canvasX,i.panelSizeY=r.model.canvasHeight,i.y=0,i.canvasY=0,i.plotGlPixelRatio=t}}function fLe(e){for(var r=0;r<e.length;r++)for(var t=0;t<e[r].length;t++)for(var n=e[r][t].trace,a=n.dimensions,o=0;o<a.length;o++){var i=a[o].values,s=a[o]._ax;s&&(s.range?s.range=JE(s.range[0],s.range[1]):s.range=noe(i,n._length),s.dtick||(s.dtick=.01*(Math.abs(s.range[1]-s.range[0])||1)),s.tickformat=a[o].tickformat,eoe.calcTicks(s),s.cleanRange())}}function aoe(e,r){return eoe.tickText(e._ax,r,!1).text}function $ie(e,r){if(e.ordinal)return"";var t=e.domainScale.domain(),n=t[r?t.length-1:0];return aoe(e.model.dimensions[e.visibleIndex],n)}ioe.exports=function(r,t,n,a){var o=r._context.staticPlot,i=r._fullLayout,s=i._toppaper,f=i._glcontainer,l=r._context.plotGlPixelRatio,u=r._fullLayout.paper_bgcolor;fLe(t);var c=lLe(),v=t.filter(function(C){return roe(C).trace.visible}).map(oLe.bind(0,n)).map(sLe.bind(0,c,a));f.each(function(C,k){return Ff.extendFlat(C,v[k])});var m=f.selectAll(".gl-canvas").each(function(C){C.viewModel=v[0],C.viewModel.plotGlPixelRatio=l,C.viewModel.paperColor=u,C.model=C.viewModel?C.viewModel.model:null}),x=null,A=m.filter(function(C){return C.pick});A.style("pointer-events",o?"none":"auto").on("mousemove",function(C){if(c.linePickActive()&&C.lineLayer&&a&&a.hover){var k=di.event,D=this.width,P=this.height,O=di.mouse(this),F=O[0],L=O[1];if(F<0||L<0||F>=D||L>=P)return;var I=C.lineLayer.readPixel(F,P-1-L),q=I[3]!==0,z=q?I[2]+256*(I[1]+256*I[0]):null,W={x:F,y:L,clientX:k.clientX,clientY:k.clientY,dataIndex:C.model.key,curveNumber:z};z!==x&&(q?a.hover(W):a.unhover&&a.unhover(W),x=z)}}),m.style("opacity",function(C){return C.pick?0:1}),s.style("background","rgba(255, 255, 255, 0)");var w=s.selectAll("."+_n.cn.parcoords).data(v,Es);w.exit().remove(),w.enter().append("g").classed(_n.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),w.attr("transform",function(C){return Bl(C.model.translateX,C.model.translateY)});var y=w.selectAll("."+_n.cn.parcoordsControlView).data(ql,Es);y.enter().append("g").classed(_n.cn.parcoordsControlView,!0),y.attr("transform",function(C){return Bl(C.model.pad.l,C.model.pad.t)});var _=y.selectAll("."+_n.cn.yAxis).data(function(C){return C.dimensions},Es);_.enter().append("g").classed(_n.cn.yAxis,!0),y.each(function(C){XE(_,C,l)}),m.each(function(C){if(C.viewModel){!C.lineLayer||a?C.lineLayer=Qke(this,C):C.lineLayer.update(C),(C.key||C.key===0)&&(C.viewModel[C.key]=C.lineLayer);var k=!C.context||a;C.lineLayer.render(C.viewModel.panels,k)}}),_.attr("transform",function(C){return Bl(C.xScale(C.xIndex),0)}),_.call(di.behavior.drag().origin(function(C){return C}).on("drag",function(C){var k=C.parent;c.linePickActive(!1),C.x=Math.max(-_n.overdrag,Math.min(C.model.width+_n.overdrag,di.event.x)),C.canvasX=C.x*C.model.canvasPixelRatio,_.sort(function(D,P){return D.x-P.x}).each(function(D,P){D.xIndex=P,D.x=C===D?D.x:D.xScale(D.xIndex),D.canvasX=D.x*D.model.canvasPixelRatio}),XE(_,k,l),_.filter(function(D){return Math.abs(C.xIndex-D.xIndex)!==0}).attr("transform",function(D){return Bl(D.xScale(D.xIndex),0)}),di.select(this).attr("transform",Bl(C.x,0)),_.each(function(D,P,O){O===C.parent.key&&(k.dimensions[P]=D)}),k.contextLayer&&k.contextLayer.render(k.panels,!1,!ZE(k)),k.focusLayer.render&&k.focusLayer.render(k.panels)}).on("dragend",function(C){var k=C.parent;C.x=C.xScale(C.xIndex),C.canvasX=C.x*C.model.canvasPixelRatio,XE(_,k,l),di.select(this).attr("transform",function(D){return Bl(D.x,0)}),k.contextLayer&&k.contextLayer.render(k.panels,!1,!ZE(k)),k.focusLayer&&k.focusLayer.render(k.panels),k.pickLayer&&k.pickLayer.render(k.panels,!0),c.linePickActive(!0),a&&a.axesMoved&&a.axesMoved(k.key,k.dimensions.map(function(D){return D.crossfilterDimensionIndex}))})),_.exit().remove();var M=_.selectAll("."+_n.cn.axisOverlays).data(ql,Es);M.enter().append("g").classed(_n.cn.axisOverlays,!0),M.selectAll("."+_n.cn.axis).remove();var b=M.selectAll("."+_n.cn.axis).data(ql,Es);b.enter().append("g").classed(_n.cn.axis,!0),b.each(function(C){var k=C.model.height/C.model.tickDistance,D=C.domainScale,P=D.domain();di.select(this).call(di.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(k,C.tickFormat).tickValues(C.ordinal?P:null).tickFormat(function(O){return Fd.isOrdinal(C)?O:aoe(C.model.dimensions[C.visibleIndex],O)}).scale(D)),x_.font(b.selectAll("text"),C.model.tickFont)}),b.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),b.selectAll("text").style("cursor","default");var E=M.selectAll("."+_n.cn.axisHeading).data(ql,Es);E.enter().append("g").classed(_n.cn.axisHeading,!0);var d=E.selectAll("."+_n.cn.axisTitle).data(ql,Es);d.enter().append("text").classed(_n.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",o?"none":"auto"),d.text(function(C){return C.label}).each(function(C){var k=di.select(this);x_.font(k,C.model.labelFont),Kke.convertToTspans(k,r)}).attr("transform",function(C){var k=Jie(C.model.labelAngle,C.model.labelSide),D=_n.axisTitleOffset;return(k.dir>0?"":Bl(0,2*D+C.model.height))+$ke(k.degrees)+Bl(-D*k.dx,-D*k.dy)}).attr("text-anchor",function(C){var k=Jie(C.model.labelAngle,C.model.labelSide),D=Math.abs(k.dx),P=Math.abs(k.dy);return 2*D>P?k.dir*k.dx<0?"start":"end":"middle"});var T=M.selectAll("."+_n.cn.axisExtent).data(ql,Es);T.enter().append("g").classed(_n.cn.axisExtent,!0);var g=T.selectAll("."+_n.cn.axisExtentTop).data(ql,Es);g.enter().append("g").classed(_n.cn.axisExtentTop,!0),g.attr("transform",Bl(0,-_n.axisExtentOffset));var h=g.selectAll("."+_n.cn.axisExtentTopText).data(ql,Es);h.enter().append("text").classed(_n.cn.axisExtentTopText,!0).call(jie),h.text(function(C){return $ie(C,!0)}).each(function(C){x_.font(di.select(this),C.model.rangeFont)});var S=T.selectAll("."+_n.cn.axisExtentBottom).data(ql,Es);S.enter().append("g").classed(_n.cn.axisExtentBottom,!0),S.attr("transform",function(C){return Bl(0,C.model.height+_n.axisExtentOffset)});var p=S.selectAll("."+_n.cn.axisExtentBottomText).data(ql,Es);p.enter().append("text").classed(_n.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(jie),p.text(function(C){return $ie(C,!1)}).each(function(C){x_.font(di.select(this),C.model.rangeFont)}),toe.ensureAxisBrush(M,u,r)}});var KE=ie(($E,uoe)=>{"use strict";var uLe=ooe(),cLe=X5(),soe=VE().isVisible,foe={};function loe(e,r,t){var n=r.indexOf(t),a=e.indexOf(n);return a===-1&&(a+=r.length),a}function hLe(e,r){return function(n,a){return loe(e,r,n)-loe(e,r,a)}}var $E=uoe.exports=function(r,t){var n=r._fullLayout,a=cLe(r,[],foe);if(a){var o={},i={},s={},f={},l=n._size;t.forEach(function(x,A){var w=x[0].trace;s[A]=w.index;var y=f[A]=w._fullInput.index;o[A]=r.data[y].dimensions,i[A]=r.data[y].dimensions.slice()});var u=function(x,A,w){var y=i[x][A],_=w.map(function(g){return g.slice()}),M="dimensions["+A+"].constraintrange",b=n._tracePreGUI[r._fullData[s[x]]._fullInput.uid];if(b[M]===void 0){var E=y.constraintrange;b[M]=E||null}var d=r._fullData[s[x]].dimensions[A];_.length?(_.length===1&&(_=_[0]),y.constraintrange=_,d.constraintrange=_.slice(),_=[_]):(delete y.constraintrange,delete d.constraintrange,_=null);var T={};T[M]=_,r.emit("plotly_restyle",[T,[f[x]]])},c=function(x){r.emit("plotly_hover",x)},v=function(x){r.emit("plotly_unhover",x)},m=function(x,A){var w=hLe(A,i[x].filter(soe));o[x].sort(w),i[x].filter(function(y){return!soe(y)}).sort(function(y){return i[x].indexOf(y)}).forEach(function(y){o[x].splice(o[x].indexOf(y),1),o[x].splice(i[x].indexOf(y),0,y)}),r.emit("plotly_restyle",[{dimensions:[o[x]]},[f[x]]])};uLe(r,t,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:u,hover:c,unhover:v,axesMoved:m})}};$E.reglPrecompiled=foe});var hoe=ie(dy=>{"use strict";var coe=gn(),vLe=Wh().getModuleCalcData,dLe=KE(),pLe=ff();dy.name="parcoords";dy.plot=function(e){var r=vLe(e.calcdata,"parcoords")[0];r.length&&dLe(e,r)};dy.clean=function(e,r,t,n){var a=n._has&&n._has("parcoords"),o=r._has&&r._has("parcoords");a&&!o&&(n._paperdiv.selectAll(".parcoords").remove(),n._glimages.selectAll("*").remove())};dy.toSVG=function(e){var r=e._fullLayout._glimages,t=coe.select(e).selectAll(".svg-container"),n=t.filter(function(o,i){return i===t.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function a(){var o=this,i=o.toDataURL("image/png"),s=r.append("svg:image");s.attr({xmlns:pLe.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}n.each(a),window.setTimeout(function(){coe.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}});var doe=ie((KGe,voe)=>{"use strict";voe.exports={attributes:BE(),supplyDefaults:Iie(),calc:Oie(),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:hoe(),categories:["gl","regl","noOpacity","noHover"],meta:{}}});var yoe=ie((QGe,goe)=>{"use strict";var poe=doe();poe.plot=KE();goe.exports=poe});var xoe=ie((eHe,moe)=>{"use strict";moe.exports=yoe()});var py=ie(boe=>{"use strict";boe.pointsAccessorFunction=function(e,r){for(var t,n,a=0;a<e.length&&(t=e[a],t!==r);a++)!t._indexToPoints||t.enabled===!1||(n=t._indexToPoints);var o=n?function(i){return n[i]}:function(i){return[i]};return o}});var Toe=ie(Pd=>{"use strict";var gLe=Rn(),Id=wr(),yLe=pu(),mLe=py().pointsAccessorFunction,Aa=ta().BADNUM;Pd.moduleType="transform";Pd.name="aggregate";var Aoe=Pd.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},_oe=Aoe.aggregations;Pd.supplyDefaults=function(e,r){var t={},n;function a(w,y){return Id.coerce(e,t,Aoe,w,y)}var o=a("enabled");if(!o)return t;var i=yLe.findArrayAttributes(r),s={};for(n=0;n<i.length;n++)s[i[n]]=1;var f=a("groups");if(!Array.isArray(f)){if(!s[f])return t.enabled=!1,t;s[f]=0}var l=e.aggregations||[],u=t.aggregations=new Array(l.length),c;function v(w,y){return Id.coerce(l[n],c,_oe,w,y)}for(n=0;n<l.length;n++){c={_index:n};var m=v("target"),x=v("func"),A=v("enabled");A&&m&&(s[m]||x==="count"&&s[m]===void 0)?(x==="stddev"&&v("funcmode"),s[m]=0,u[n]=c):u[n]={enabled:!1,_index:n}}for(n=0;n<i.length;n++)s[i[n]]&&u.push({target:i[n],func:_oe.func.dflt,enabled:!0,_index:-1});return t};Pd.calcTransform=function(e,r,t){if(t.enabled){var n=t.groups,a=Id.getTargetArray(r,{target:n});if(a){var o,i,s,f,l={},u={},c=[],v=mLe(r.transforms,t),m=a.length;for(r._length&&(m=Math.min(m,r._length)),o=0;o<m;o++)i=a[o],s=l[i],s===void 0?(l[i]=c.length,f=[o],c.push(f),u[l[i]]=v(o)):(c[s].push(o),u[l[i]]=(u[l[i]]||[]).concat(v(o)));t._indexToPoints=u;var x=t.aggregations;for(o=0;o<x.length;o++)woe(e,r,c,x[o]);typeof n=="string"&&woe(e,r,c,{target:n,func:"first",enabled:!0}),r._length=c.length}}};function woe(e,r,t,n){if(n.enabled){for(var a=n.target,o=Id.nestedProperty(r,a),i=o.get(),s=gLe.getDataConversions(e,r,a,i),f=xLe(n,s),l=new Array(t.length),u=0;u<t.length;u++)l[u]=f(i,t[u]);o.set(l),n.func==="count"&&Id.pushUnique(r._arrayAttrs,a)}}function xLe(e,r){var t=e.func,n=r.d2c,a=r.c2d;switch(t){case"count":return bLe;case"first":return _Le;case"last":return wLe;case"sum":return function(o,i){for(var s=0,f=0;f<i.length;f++){var l=n(o[i[f]]);l!==Aa&&(s+=l)}return a(s)};case"avg":return function(o,i){for(var s=0,f=0,l=0;l<i.length;l++){var u=n(o[i[l]]);u!==Aa&&(s+=u,f++)}return f?a(s/f):Aa};case"min":return function(o,i){for(var s=1/0,f=0;f<i.length;f++){var l=n(o[i[f]]);l!==Aa&&(s=Math.min(s,l))}return s===1/0?Aa:a(s)};case"max":return function(o,i){for(var s=-1/0,f=0;f<i.length;f++){var l=n(o[i[f]]);l!==Aa&&(s=Math.max(s,l))}return s===-1/0?Aa:a(s)};case"range":return function(o,i){for(var s=1/0,f=-1/0,l=0;l<i.length;l++){var u=n(o[i[l]]);u!==Aa&&(s=Math.min(s,u),f=Math.max(f,u))}return f===-1/0||s===1/0?Aa:a(f-s)};case"change":return function(o,i){var s=n(o[i[0]]),f=n(o[i[i.length-1]]);return s===Aa||f===Aa?Aa:a(f-s)};case"median":return function(o,i){for(var s=[],f=0;f<i.length;f++){var l=n(o[i[f]]);l!==Aa&&s.push(l)}if(!s.length)return Aa;s.sort(Id.sorterAsc);var u=(s.length-1)/2;return a((s[Math.floor(u)]+s[Math.ceil(u)])/2)};case"mode":return function(o,i){for(var s={},f=0,l=Aa,u=0;u<i.length;u++){var c=n(o[i[u]]);if(c!==Aa){var v=s[c]=(s[c]||0)+1;v>f&&(f=v,l=c)}}return f?a(l):Aa};case"rms":return function(o,i){for(var s=0,f=0,l=0;l<i.length;l++){var u=n(o[i[l]]);u!==Aa&&(s+=u*u,f++)}return f?a(Math.sqrt(s/f)):Aa};case"stddev":return function(o,i){var s=0,f=0,l=1,u=Aa,c;for(c=0;c<i.length&&u===Aa;c++)u=n(o[i[c]]);if(u===Aa)return Aa;for(;c<i.length;c++){var v=n(o[i[c]]);if(v!==Aa){var m=v-u;s+=m,f+=m*m,l++}}var x=e.funcmode==="sample"?l-1:l;return x?Math.sqrt((f-s*s/l)/x):0}}}function bLe(e,r){return r.length}function _Le(e,r){return e[r[0]]}function wLe(e,r){return e[r[r.length-1]]}});var Eoe=ie((nHe,Moe)=>{"use strict";Moe.exports=Toe()});var Coe=ie((aHe,Soe)=>{"use strict";Soe.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}});var Doe=ie(H0=>{"use strict";var oc=wr(),ALe=Dt(),TLe=Rn(),MLe=py().pointsAccessorFunction,QE=Coe(),koe=QE.COMPARISON_OPS,Loe=QE.INTERVAL_OPS,Roe=QE.SET_OPS;H0.moduleType="transform";H0.name="filter";H0.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(koe).concat(Loe).concat(Roe),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"};H0.supplyDefaults=function(e){var r={};function t(i,s){return oc.coerce(e,r,H0.attributes,i,s)}var n=t("enabled");if(n){var a=t("target");if(oc.isArrayOrTypedArray(a)&&a.length===0)return r.enabled=!1,r;t("preservegaps"),t("operation"),t("value");var o=ALe.getComponentMethod("calendars","handleDefaults");o(e,r,"valuecalendar",null),o(e,r,"targetcalendar",null)}return r};H0.calcTransform=function(e,r,t){if(!t.enabled)return;var n=oc.getTargetArray(r,t);if(!n)return;var a=t.target,o=n.length;r._length&&(o=Math.min(o,r._length));var i=t.targetcalendar,s=r._arrayAttrs,f=t.preservegaps;if(typeof a=="string"){var l=oc.nestedProperty(r,a+"calendar").get();l&&(i=l)}var u=TLe.getDataToCoordFunc(e,r,a,n),c=ELe(t,u,i),v={},m={},x=0;function A(E,d){for(var T=0;T<s.length;T++){var g=oc.nestedProperty(r,s[T]);E(g,d)}}var w,y;f?(w=function(E){v[E.astr]=oc.extendDeep([],E.get()),E.set(new Array(o))},y=function(E,d){var T=v[E.astr][d];E.get()[d]=T}):(w=function(E){v[E.astr]=oc.extendDeep([],E.get()),E.set([])},y=function(E,d){var T=v[E.astr][d];E.get().push(T)}),A(w);for(var _=MLe(r.transforms,t),M=0;M<o;M++){var b=c(n[M]);b?(A(y,M),m[x++]=_(M)):f&&x++}t._indexToPoints=m,r._length=x};function ELe(e,r,t){var n=e.operation,a=e.value,o=oc.isArrayOrTypedArray(a);function i(u){return u.indexOf(n)!==-1}var s=function(u){return r(u,0,e.valuecalendar)},f=function(u){return r(u,0,t)},l;switch(i(koe)?l=s(o?a[0]:a):i(Loe)?l=o?[s(a[0]),s(a[1])]:[s(a),s(a)]:i(Roe)&&(l=o?a.map(s):[s(a)]),n){case"=":return function(u){return f(u)===l};case"!=":return function(u){return f(u)!==l};case"<":return function(u){return f(u)<l};case"<=":return function(u){return f(u)<=l};case">":return function(u){return f(u)>l};case">=":return function(u){return f(u)>=l};case"[]":return function(u){var c=f(u);return c>=l[0]&&c<=l[1]};case"()":return function(u){var c=f(u);return c>l[0]&&c<l[1]};case"[)":return function(u){var c=f(u);return c>=l[0]&&c<l[1]};case"(]":return function(u){var c=f(u);return c>l[0]&&c<=l[1]};case"][":return function(u){var c=f(u);return c<=l[0]||c>=l[1]};case")(":return function(u){var c=f(u);return c<l[0]||c>l[1]};case"](":return function(u){var c=f(u);return c<=l[0]||c>l[1]};case")[":return function(u){var c=f(u);return c<l[0]||c>=l[1]};case"{}":return function(u){return l.indexOf(f(u))!==-1};case"}{":return function(u){return l.indexOf(f(u))===-1}}}});var Ioe=ie((oHe,Foe)=>{"use strict";Foe.exports=Doe()});var Poe=ie(If=>{"use strict";var so=wr(),SLe=pu(),CLe=Za(),kLe=py().pointsAccessorFunction;If.moduleType="transform";If.name="groupby";If.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"};If.supplyDefaults=function(e,r,t){var n,a={};function o(c,v){return so.coerce(e,a,If.attributes,c,v)}var i=o("enabled");if(!i)return a;o("groups"),o("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var s=e.styles,f=a.styles=[];if(s)for(n=0;n<s.length;n++){var l=f[n]={};so.coerce(s[n],f[n],If.attributes.styles,"target");var u=so.coerce(s[n],f[n],If.attributes.styles,"value");so.isPlainObject(u)?l.value=so.extendDeep({},u):u&&delete l.value}return a};If.transform=function(e,r){var t,n,a,o=[];for(n=0;n<e.length;n++)for(t=LLe(e[n],r),a=0;a<t.length;a++)o.push(t[a]);return o};function LLe(e,r){var t,n,a,o,i,s,f,l,u,c,v=r.transform,m=r.transformIndex,x=e.transforms[m].groups,A=kLe(e.transforms,v);if(!so.isArrayOrTypedArray(x)||x.length===0)return[e];var w=so.filterUnique(x),y=new Array(w.length),_=x.length,M=SLe.findArrayAttributes(e),b=v.styles||[],E={};for(t=0;t<b.length;t++)E[b[t].target]=b[t].value;v.styles&&(c=so.keyedContainer(v,"styles","target","value.name"));var d={},T={};for(t=0;t<w.length;t++){s=w[t],d[s]=t,T[s]=0,f=y[t]=so.extendDeepNoArrays({},e),f._group=s,f.transforms[m]._indexToPoints={};var g=null;for(c&&(g=c.get(s)),g||g===""?f.name=g:f.name=so.templateString(v.nameformat,{trace:e.name,group:s}),l=f.transforms,f.transforms=[],n=0;n<l.length;n++)f.transforms[n]=so.extendDeepNoArrays({},l[n]);for(n=0;n<M.length;n++)so.nestedProperty(f,M[n]).set([])}for(a=0;a<M.length;a++){for(o=M[a],n=0,u=[];n<w.length;n++)u[n]=so.nestedProperty(y[n],o).get();for(i=so.nestedProperty(e,o).get(),n=0;n<_;n++)u[d[x[n]]].push(i[n])}for(n=0;n<_;n++){f=y[d[x[n]]];var h=f.transforms[m]._indexToPoints;h[T[x[n]]]=A(n),T[x[n]]++}for(t=0;t<w.length;t++)s=w[t],f=y[t],CLe.clearExpandedTraceDefaultColors(f),f=so.extendDeepNoArrays(f,E[s]||{});return y}});var Noe=ie((lHe,Ooe)=>{"use strict";Ooe.exports=Poe()});var Boe=ie(V0=>{"use strict";var eS=wr(),RLe=Rn(),DLe=py().pointsAccessorFunction,__=ta().BADNUM;V0.moduleType="transform";V0.name="sort";V0.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"};V0.supplyDefaults=function(e){var r={};function t(a,o){return eS.coerce(e,r,V0.attributes,a,o)}var n=t("enabled");return n&&(t("target"),t("order")),r};V0.calcTransform=function(e,r,t){if(t.enabled){var n=eS.getTargetArray(r,t);if(n){var a=t.target,o=n.length;r._length&&(o=Math.min(o,r._length));var i=r._arrayAttrs,s=RLe.getDataToCoordFunc(e,r,a,n),f=FLe(t,n,s,o),l=DLe(r.transforms,t),u={},c,v;for(c=0;c<i.length;c++){var m=eS.nestedProperty(r,i[c]),x=m.get(),A=new Array(o);for(v=0;v<o;v++)A[v]=x[f[v]];m.set(A)}for(v=0;v<o;v++)u[v]=l(f[v]);t._indexToPoints=u,r._length=o}}};function FLe(e,r,t,n){var a=new Array(n),o=new Array(n),i;for(i=0;i<n;i++)a[i]={v:r[i],i};for(a.sort(ILe(e,t)),i=0;i<n;i++)o[i]=a[i].i;return o}function ILe(e,r){switch(e.order){case"ascending":return function(t,n){var a=r(t.v),o=r(n.v);return a===__?1:o===__?-1:a-o};case"descending":return function(t,n){var a=r(t.v),o=r(n.v);return a===__?1:o===__?-1:o-a}}}});var zoe=ie((uHe,qoe)=>{"use strict";qoe.exports=Boe()});var Di=ie((cHe,Goe)=>{var A_=Ua();function Uoe(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}A_(Uoe.prototype,{instance:function(e,r){e=(e||"gregorian").toLowerCase(),r=r||"";var t=this._localCals[e+"-"+r];if(!t&&this.calendars[e]&&(t=new this.calendars[e](r),this._localCals[e+"-"+r]=t),!t)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return t},newDate:function(e,r,t,n,a){return n=(e!=null&&e.year?e.calendar():typeof n=="string"?this.instance(n,a):n)||this.instance(),n.newDate(e,r,t)},substituteDigits:function(e){return function(r){return(r+"").replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,r){return function(t){for(var n="",a=0;t>0;){var o=t%10;n=(o===0?"":e[o]+r[a])+n,a++,t=Math.floor(t/10)}return n.indexOf(e[1]+r[1])===0&&(n=n.substr(1)),n||e[0]}}});function rS(e,r,t,n){if(this._calendar=e,this._year=r,this._month=t,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(fn.local.invalidDate||fn.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function w_(e,r){return e=""+e,"000000".substring(0,r-e.length)+e}A_(rS.prototype,{newDate:function(e,r,t){return this._calendar.newDate(e==null?this:e,r,t)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,r,t){if(!this._calendar.isValid(e,r,t))throw(fn.local.invalidDate||fn.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=r,this._day=t,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,r){return this._calendar.add(this,e,r)},set:function(e,r){return this._calendar.set(this,e,r)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(fn.local.differentCalendars||fn.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var r=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+w_(Math.abs(this.year()),4)+"-"+w_(this.month(),2)+"-"+w_(this.day(),2)}});function tS(){this.shortYearCutoff="+10"}A_(tS.prototype,{_validateLevel:0,newDate:function(e,r,t){return e==null?this.today():(e.year&&(this._validate(e,r,t,fn.local.invalidDate||fn.regionalOptions[""].invalidDate),t=e.day(),r=e.month(),e=e.year()),new rS(this,e,r,t))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var r=this._validate(e,this.minMonth,this.minDay,fn.local.invalidYear||fn.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,fn.local.invalidYear||fn.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+w_(Math.abs(r.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,fn.local.invalidYear||fn.regionalOptions[""].invalidYear),12},monthOfYear:function(e,r){var t=this._validate(e,r,this.minDay,fn.local.invalidMonth||fn.regionalOptions[""].invalidMonth);return(t.month()+this.monthsInYear(t)-this.firstMonth)%this.monthsInYear(t)+this.minMonth},fromMonthOfYear:function(e,r){var t=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,t,this.minDay,fn.local.invalidMonth||fn.regionalOptions[""].invalidMonth),t},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,fn.local.invalidYear||fn.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(e,r,t){var n=this._validate(e,r,t,fn.local.invalidDate||fn.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,fn.local.invalidDate||fn.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(e,r,t){return this._validate(e,r,t,fn.local.invalidDate||fn.regionalOptions[""].invalidDate),{}},add:function(e,r,t){return this._validate(e,this.minMonth,this.minDay,fn.local.invalidDate||fn.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,r,t),r,t)},_add:function(e,r,t){if(this._validateLevel++,t==="d"||t==="w"){var n=e.toJD()+r*(t==="w"?this.daysInWeek():1),a=e.calendar().fromJD(n);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var o=e.year()+(t==="y"?r:0),i=e.monthOfYear()+(t==="m"?r:0),a=e.day(),s=function(u){for(;i<u.minMonth;)o--,i+=u.monthsInYear(o);for(var c=u.monthsInYear(o);i>c-1+u.minMonth;)o++,i-=c,c=u.monthsInYear(o)};t==="y"?(e.month()!==this.fromMonthOfYear(o,i)&&(i=this.newDate(o,e.month(),this.minDay).monthOfYear()),i=Math.min(i,this.monthsInYear(o)),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i)))):t==="m"&&(s(this),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i))));var f=[o,this.fromMonthOfYear(o,i),a];return this._validateLevel--,f}catch(l){throw this._validateLevel--,l}},_correctAdd:function(e,r,t,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||e.year()>0!=r[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=t<0?-1:1;r=this._add(e,t*a[0]+o*a[1],a[2])}return e.date(r[0],r[1],r[2])},set:function(e,r,t){this._validate(e,this.minMonth,this.minDay,fn.local.invalidDate||fn.regionalOptions[""].invalidDate);var n=t==="y"?r:e.year(),a=t==="m"?r:e.month(),o=t==="d"?r:e.day();return(t==="y"||t==="m")&&(o=Math.min(o,this.daysInMonth(n,a))),e.date(n,a,o)},isValid:function(e,r,t){this._validateLevel++;var n=this.hasYearZero||e!==0;if(n){var a=this.newDate(e,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(a)&&t>=this.minDay&&t-this.minDay<this.daysInMonth(a)}return this._validateLevel--,n},toJSDate:function(e,r,t){var n=this._validate(e,r,t,fn.local.invalidDate||fn.regionalOptions[""].invalidDate);return fn.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(e){return this.fromJD(fn.instance().fromJSDate(e).toJD())},_validate:function(e,r,t,n){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(fn.local.differentCalendars||fn.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,r,t))throw n.replace(/\{0\}/,this.local.name);var a=this.newDate(e,r,t);return this._validateLevel--,a}catch(o){throw this._validateLevel--,o}}});function nS(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}nS.prototype=new tS;A_(nS.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,fn.local.invalidYear||fn.regionalOptions[""].invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===0&&(t%100!==0||t%400===0)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,fn.local.invalidMonth||fn.regionalOptions[""].invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,fn.local.invalidDate||fn.regionalOptions[""].invalidDate);e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<3&&(r+=12,e--);var a=Math.floor(e/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t+o-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=Math.floor((r-186721625e-2)/36524.25);t=r+1+t-Math.floor(t/4);var n=t+1524,a=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*a),i=Math.floor((n-o)/30.6001),s=n-o-Math.floor(i*30.6001),f=i-(i>13.5?13:1),l=a-(f>2.5?4716:4715);return l<=0&&l--,this.newDate(l,f,s)},toJSDate:function(e,r,t){var n=this._validate(e,r,t,fn.local.invalidDate||fn.regionalOptions[""].invalidDate),a=new Date(n.year(),n.month()-1,n.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var fn=Goe.exports=new Uoe;fn.cdate=rS;fn.baseCalendar=tS;fn.calendars.gregorian=nS});var Hoe=ie(()=>{var aS=Ua(),pi=Di();aS(pi.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});pi.local=pi.regionalOptions[""];aS(pi.cdate.prototype,{formatDate:function(e,r){return typeof e!="string"&&(r=e,e=""),this._calendar.formatDate(e||"",this,r)}});aS(pi.baseCalendar.prototype,{UNIX_EPOCH:pi.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:pi.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,r,t){if(typeof e!="string"&&(t=r,r=e,e=""),!r)return"";if(r.calendar()!==this)throw pi.local.invalidFormat||pi.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,t=t||{};for(var n=t.dayNamesShort||this.local.dayNamesShort,a=t.dayNames||this.local.dayNames,o=t.monthNumbers||this.local.monthNumbers,i=t.monthNamesShort||this.local.monthNamesShort,s=t.monthNames||this.local.monthNames,f=t.calculateWeek||this.local.calculateWeek,l=function(b,E){for(var d=1;M+d<e.length&&e.charAt(M+d)===b;)d++;return M+=d-1,Math.floor(d/(E||1))>1},u=function(b,E,d,T){var g=""+E;if(l(b,T))for(;g.length<d;)g="0"+g;return g},c=function(b,E,d,T){return l(b)?T[E]:d[E]},v=this,m=function(b){return typeof o=="function"?o.call(v,b,l("m")):w(u("m",b.month(),2))},x=function(b,E){return E?typeof s=="function"?s.call(v,b):s[b.month()-v.minMonth]:typeof i=="function"?i.call(v,b):i[b.month()-v.minMonth]},A=this.local.digits,w=function(b){return t.localNumbers&&A?A(b):b},y="",_=!1,M=0;M<e.length;M++)if(_)e.charAt(M)==="'"&&!l("'")?_=!1:y+=e.charAt(M);else switch(e.charAt(M)){case"d":y+=w(u("d",r.day(),2));break;case"D":y+=c("D",r.dayOfWeek(),n,a);break;case"o":y+=u("o",r.dayOfYear(),3);break;case"w":y+=u("w",r.weekOfYear(),2);break;case"m":y+=m(r);break;case"M":y+=x(r,l("M"));break;case"y":y+=l("y",2)?r.year():(r.year()%100<10?"0":"")+r.year()%100;break;case"Y":l("Y",2),y+=r.formatYear();break;case"J":y+=r.toJD();break;case"@":y+=(r.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(r.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":l("'")?y+="'":_=!0;break;default:y+=e.charAt(M)}return y},parseDate:function(e,r,t){if(r==null)throw pi.local.invalidArguments||pi.regionalOptions[""].invalidArguments;if(r=typeof r=="object"?r.toString():r+"",r==="")return null;e=e||this.local.dateFormat,t=t||{};var n=t.shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var a=t.dayNamesShort||this.local.dayNamesShort,o=t.dayNames||this.local.dayNames,i=t.parseMonth||this.local.parseMonth,s=t.monthNumbers||this.local.monthNumbers,f=t.monthNamesShort||this.local.monthNamesShort,l=t.monthNames||this.local.monthNames,u=-1,c=-1,v=-1,m=-1,x=-1,A=!1,w=!1,y=function(C,k){for(var D=1;h+D<e.length&&e.charAt(h+D)===C;)D++;return h+=D-1,Math.floor(D/(k||1))>1},_=function(C,k){var D=y(C,k),P=[2,3,D?4:2,D?4:2,10,11,20]["oyYJ@!".indexOf(C)+1],O=new RegExp("^-?\\d{1,"+P+"}"),F=r.substring(g).match(O);if(!F)throw(pi.local.missingNumberAt||pi.regionalOptions[""].missingNumberAt).replace(/\{0\}/,g);return g+=F[0].length,parseInt(F[0],10)},M=this,b=function(){if(typeof s=="function"){y("m");var C=s.call(M,r.substring(g));return g+=C.length,C}return _("m")},E=function(C,k,D,P){for(var O=y(C,P)?D:k,F=0;F<O.length;F++)if(r.substr(g,O[F].length).toLowerCase()===O[F].toLowerCase())return g+=O[F].length,F+M.minMonth;throw(pi.local.unknownNameAt||pi.regionalOptions[""].unknownNameAt).replace(/\{0\}/,g)},d=function(){if(typeof l=="function"){var C=y("M")?l.call(M,r.substring(g)):f.call(M,r.substring(g));return g+=C.length,C}return E("M",f,l)},T=function(){if(r.charAt(g)!==e.charAt(h))throw(pi.local.unexpectedLiteralAt||pi.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,g);g++},g=0,h=0;h<e.length;h++)if(w)e.charAt(h)==="'"&&!y("'")?w=!1:T();else switch(e.charAt(h)){case"d":m=_("d");break;case"D":E("D",a,o);break;case"o":x=_("o");break;case"w":_("w");break;case"m":v=b();break;case"M":v=d();break;case"y":var S=h;A=!y("y",2),h=S,c=_("y",2);break;case"Y":c=_("Y",2);break;case"J":u=_("J")+.5,r.charAt(g)==="."&&(g++,_("J"));break;case"@":u=_("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=_("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":g=r.length;break;case"'":y("'")?T():w=!0;break;default:T()}if(g<r.length)throw pi.local.unexpectedText||pi.regionalOptions[""].unexpectedText;if(c===-1?c=this.today().year():c<100&&A&&(c+=n===-1?1900:this.today().year()-this.today().year()%100-(c<=n?0:100)),typeof v=="string"&&(v=i.call(this,c,v)),x>-1){v=1,m=x;for(var p=this.daysInMonth(c,v);m>p;p=this.daysInMonth(c,v))v++,m-=p}return u>-1?this.fromJD(u):this.newDate(c,v,m)},determineDate:function(e,r,t,n,a){t&&typeof t!="object"&&(a=n,n=t,t=null),typeof n!="string"&&(a=n,n="");var o=this,i=function(s){try{return o.parseDate(n,s,a)}catch(c){}s=s.toLowerCase();for(var f=(s.match(/^c/)&&t?t.newDate():null)||o.today(),l=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=l.exec(s);u;)f.add(parseInt(u[1],10),u[2]||"d"),u=l.exec(s);return f};return r=r?r.newDate():null,e=e==null?r:typeof e=="string"?i(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?r:o.today().add(e,"d"):o.newDate(e),e}})});var Voe=ie(()=>{var sc=Di(),PLe=Ua(),iS=sc.instance();function T_(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}T_.prototype=new sc.baseCalendar;PLe(T_.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,r){if(typeof e=="string"){var t=e.match(NLe);return t?t[0]:""}var n=this._validateYear(e),a=e.month(),o=""+this.toChineseMonth(n,a);return r&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(n,a)&&(o+="i"),o},monthNames:function(e){if(typeof e=="string"){var r=e.match(BLe);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},monthNamesShort:function(e){if(typeof e=="string"){var r=e.match(qLe);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},parseMonth:function(e,r){e=this._validateYear(e);var t=parseInt(r),n;if(isNaN(t))r[0]==="\u95F0"&&(n=!0,r=r.substring(1)),r[r.length-1]==="\u6708"&&(r=r.substring(0,r.length-1)),t=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(r);else{var a=r[r.length-1];n=a==="i"||a==="I"}var o=this.toMonthIndex(e,t,n);return o},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,r){if(e.year&&(e=e.year()),typeof e!="number"||e<1888||e>2111)throw r.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,r,t){var n=this.intercalaryMonth(e),a=t&&r!==n;if(a||r<1||r>12)throw sc.local.invalidMonth.replace(/\{0\}/,this.local.name);var o;return n?!t&&r<=n?o=r-1:o=r:o=r-1,o},toChineseMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e),n=t?12:11;if(r<0||r>n)throw sc.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return t?r<t?a=r+1:a=r:a=r+1,a},intercalaryMonth:function(e){e=this._validateYear(e);var r=lc[e-lc[0]],t=r>>13;return t},isIntercalaryMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e);return!!t&&t===r},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,r,t){var n=this._validateYear(e,sc.local.invalidyear),a=fc[n-fc[0]],o=a>>9&4095,i=a>>5&15,s=a&31,f;f=iS.newDate(o,i,s),f.add(4-(f.dayOfWeek()||7),"d");var l=this.toJD(e,r,t)-f.toJD();return 1+Math.floor(l/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,r){e.year&&(r=e.month(),e=e.year()),e=this._validateYear(e);var t=lc[e-lc[0]],n=t>>13,a=n?12:11;if(r>a)throw sc.local.invalidMonth.replace(/\{0\}/,this.local.name);var o=t&1<<12-r?30:29;return o},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,o,t,sc.local.invalidDate);e=this._validateYear(n.year()),r=n.month(),t=n.day();var a=this.isIntercalaryMonth(e,r),o=this.toChineseMonth(e,r),i=ULe(e,o,t,a);return iS.toJD(i.year,i.month,i.day)},fromJD:function(e){var r=iS.fromJD(e),t=zLe(r.year(),r.month(),r.day()),n=this.toMonthIndex(t.year,t.month,t.isIntercalary);return this.newDate(t.year,n,t.day)},fromString:function(e){var r=e.match(OLe),t=this._validateYear(+r[1]),n=+r[2],a=!!r[3],o=this.toMonthIndex(t,n,a),i=+r[4];return this.newDate(t,o,i)},add:function(e,r,t){var n=e.year(),a=e.month(),o=this.isIntercalaryMonth(n,a),i=this.toChineseMonth(n,a),s=Object.getPrototypeOf(T_.prototype).add.call(this,e,r,t);if(t==="y"){var f=s.year(),l=s.month(),u=this.isIntercalaryMonth(f,i),c=o&&u?this.toMonthIndex(f,i,!0):this.toMonthIndex(f,i,!1);c!==l&&s.month(c)}return s}});var OLe=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,NLe=/^\d?\d[iI]?/m,BLe=/^??[]?/m,qLe=/^??[]?/m;sc.calendars.chinese=T_;var lc=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],fc=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function zLe(e,r,t,n){var a,o;if(typeof e=="object")a=e,o=r||{};else{var i=typeof e=="number"&&e>=1888&&e<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var s=typeof r=="number"&&r>=1&&r<=12;if(!s)throw new Error("Solar month outside range 1 - 12");var f=typeof t=="number"&&t>=1&&t<=31;if(!f)throw new Error("Solar day outside range 1 - 31");a={year:e,month:r,day:t},o=n||{}}var l=fc[a.year-fc[0]],u=a.year<<9|a.month<<5|a.day;o.year=u>=l?a.year:a.year-1,l=fc[o.year-fc[0]];var c=l>>9&4095,v=l>>5&15,m=l&31,x,A=new Date(c,v-1,m),w=new Date(a.year,a.month-1,a.day);x=Math.round((w-A)/(24*3600*1e3));var y=lc[o.year-lc[0]],_;for(_=0;_<13;_++){var M=y&1<<12-_?30:29;if(x<M)break;x-=M}var b=y>>13;return!b||_<b?(o.isIntercalary=!1,o.month=1+_):_===b?(o.isIntercalary=!0,o.month=_):(o.isIntercalary=!1,o.month=_),o.day=1+x,o}function ULe(e,r,t,n,a){var o,i;if(typeof e=="object")i=e,o=r||{};else{var s=typeof e=="number"&&e>=1888&&e<=2111;if(!s)throw new Error("Lunar year outside range 1888-2111");var f=typeof r=="number"&&r>=1&&r<=12;if(!f)throw new Error("Lunar month outside range 1 - 12");var l=typeof t=="number"&&t>=1&&t<=30;if(!l)throw new Error("Lunar day outside range 1 - 30");var u;typeof n=="object"?(u=!1,o=n):(u=!!n,o=a||{}),i={year:e,month:r,day:t,isIntercalary:u}}var c;c=i.day-1;var v=lc[i.year-lc[0]],m=v>>13,x;m&&(i.month>m||i.isIntercalary)?x=i.month:x=i.month-1;for(var A=0;A<x;A++){var w=v&1<<12-A?30:29;c+=w}var y=fc[i.year-fc[0]],_=y>>9&4095,M=y>>5&15,b=y&31,E=new Date(_,M-1,b+c);return o.year=E.getFullYear(),o.month=1+E.getMonth(),o.day=E.getDate(),o}});var Yoe=ie(()=>{var Y0=Di(),GLe=Ua();function oS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}oS.prototype=new Y0.baseCalendar;GLe(oS.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Y0.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Y0.local.invalidYear||Y0.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Y0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Y0.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});Y0.calendars.coptic=oS});var Woe=ie(()=>{var Pf=Di(),HLe=Ua();function sS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}sS.prototype=new Pf.baseCalendar;HLe(sS.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,Pf.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Pf.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Pf.local.invalidYear),400},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Pf.local.invalidMonth);return this.daysPerMonth[t.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Pf.local.invalidDate);return(n.day()+1)%8},weekDay:function(e,r,t){var n=this.dayOfWeek(e,r,t);return n>=2&&n<=6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Pf.local.invalidDate);return{century:VLe[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(e,r,t){var n=this._validate(e,r,t,Pf.local.invalidDate);return e=n.year()+(n.year()<0?1:0),r=n.month(),t=n.day(),t+(r>1?16:0)+(r>2?(r-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(e/400)+1;e-=(r-1)*400,e+=e>15?16:0;var t=Math.floor(e/32)+1,n=e-(t-1)*32+1;return this.newDate(r<=0?r-1:r,t,n)}});var VLe={20:"Fruitbat",21:"Anchovy"};Pf.calendars.discworld=sS});var Xoe=ie(()=>{var W0=Di(),YLe=Ua();function lS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}lS.prototype=new W0.baseCalendar;YLe(lS.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,W0.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,W0.local.invalidYear||W0.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,W0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,W0.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});W0.calendars.ethiopian=lS});var Zoe=ie(()=>{var uc=Di(),WLe=Ua();function fS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}fS.prototype=new uc.baseCalendar;WLe(fS.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,uc.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(e){return e=e<0?e+1:e,M_(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,uc.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,uc.local.invalidYear);return e=r.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,uc.local.invalidMonth),r===12&&this.leapYear(e)||r===8&&M_(this.daysInYear(e),10)===5?30:r===9&&M_(this.daysInYear(e),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,uc.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(e,r,t){var n=this._validate(e,r,t,uc.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+t+1;if(r<7){for(var i=7;i<=this.monthsInYear(e);i++)o+=this.daysInMonth(e,i);for(var i=1;i<r;i++)o+=this.daysInMonth(e,i)}else for(var i=7;i<r;i++)o+=this.daysInMonth(e,i);return o},_delay1:function(e){var r=Math.floor((235*e-234)/19),t=12084+13753*r,n=r*29+Math.floor(t/25920);return M_(3*(n+1),7)<3&&n++,n},_delay2:function(e){var r=this._delay1(e-1),t=this._delay1(e),n=this._delay1(e+1);return n-t===356?2:t-r===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var r=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var t=e<this.toJD(r,1,1)?7:1;e>this.toJD(r,t,this.daysInMonth(r,t));)t++;var n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});function M_(e,r){return e-r*Math.floor(e/r)}uc.calendars.hebrew=fS});var joe=ie(()=>{var gy=Di(),XLe=Ua();function uS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}uS.prototype=new gy.baseCalendar;XLe(uS.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,gy.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,gy.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,gy.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e=e<=0?e+1:e,t+Math.ceil(29.5*(r-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=Math.floor((30*(e-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var t=Math.min(12,Math.ceil((e-29-this.toJD(r,1,1))/29.5)+1),n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});gy.calendars.islamic=uS});var Joe=ie(()=>{var yy=Di(),ZLe=Ua();function cS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}cS.prototype=new yy.baseCalendar;ZLe(cS.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,yy.local.invalidYear),t=r.year()<0?r.year()+1:r.year();return t%4===0},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,yy.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,yy.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<=2&&(e--,r+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=r+1524,n=Math.floor((t-122.1)/365.25),a=Math.floor(365.25*n),o=Math.floor((t-a)/30.6001),i=o-Math.floor(o<14?1:13),s=n-Math.floor(i>2?4716:4715),f=t-a-Math.floor(30.6001*o);return s<=0&&s--,this.newDate(s,i,f)}});yy.calendars.julian=cS});var Koe=ie(()=>{var Ss=Di(),jLe=Ua();function vS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}vS.prototype=new Ss.baseCalendar;jLe(vS.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ss.local.invalidYear),!1},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Ss.local.invalidYear);e=r.year();var t=Math.floor(e/400);e=e%400,e+=e<0?400:0;var n=Math.floor(e/20);return t+"."+n+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var r=0,t=0;t<e.length;t++){var n=parseInt(e[t],10);if(Math.abs(n)>19||t>0&&n<0)throw"Invalid Mayan year";r=r*20+n}return r},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ss.local.invalidYear),18},weekOfYear:function(e,r,t){return this._validate(e,r,t,Ss.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ss.local.invalidYear),360},daysInMonth:function(e,r){return this._validate(e,r,this.minDay,Ss.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Ss.local.invalidDate);return n.day()},weekDay:function(e,r,t){return this._validate(e,r,t,Ss.local.invalidDate),!0},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Ss.local.invalidDate),a=n.toJD(),o=this._toHaab(a),i=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(e){e-=this.jdEpoch;var r=hS(e+8+17*20,365);return[Math.floor(r/20)+1,hS(r,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[$oe(e+20,20),$oe(e+4,13)]},toJD:function(e,r,t){var n=this._validate(e,r,t,Ss.local.invalidDate);return n.day()+n.month()*20+n.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor(e/360);e=e%360,e+=e<0?360:0;var t=Math.floor(e/20),n=e%20;return this.newDate(r,t,n)}});function hS(e,r){return e-r*Math.floor(e/r)}function $oe(e,r){return hS(e-1,r)+1}Ss.calendars.mayan=vS});var ese=ie(()=>{var X0=Di(),JLe=Ua();function dS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}dS.prototype=new X0.baseCalendar;var Qoe=X0.instance("gregorian");JLe(dS.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,X0.local.invalidYear||X0.regionalOptions[""].invalidYear);return Qoe.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,X0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,X0.local.invalidMonth),a=n.year();a<0&&a++;for(var o=n.day(),i=1;i<n.month();i++)o+=this.daysPerMonth[i-1];return o+Qoe.toJD(a+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var r=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(r+1,1,1);)r++;for(var t=e-Math.floor(this.toJD(r,1,1)+.5)+1,n=1;t>this.daysInMonth(r,n);)t-=this.daysInMonth(r,n),n++;return this.newDate(r,n,t)}});X0.calendars.nanakshahi=dS});var rse=ie(()=>{var Z0=Di(),$Le=Ua();function pS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}pS.prototype=new Z0.baseCalendar;$Le(pS.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Z0.local.invalidYear);if(e=r.year(),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined")return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,Z0.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[e][r]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},toJD:function(e,r,t){var n=this._validate(e,r,t,Z0.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=Z0.instance(),o=0,i=r,s=e;this._createMissingCalendarData(e);var f=e-(i>9||i===9&&t>=this.NEPALI_CALENDAR_DATA[s][0]?56:57);for(r!==9&&(o=t,i--);i!==9;)i<=0&&(i=12,s--),o+=this.NEPALI_CALENDAR_DATA[s][i],i--;return r===9?(o+=t-this.NEPALI_CALENDAR_DATA[s][0],o<0&&(o+=a.daysInYear(f))):o+=this.NEPALI_CALENDAR_DATA[s][9]-this.NEPALI_CALENDAR_DATA[s][0],a.newDate(f,1,1).add(o,"d").toJD()},fromJD:function(e){var r=Z0.instance(),t=r.fromJD(e),n=t.year(),a=t.dayOfYear(),o=n+56;this._createMissingCalendarData(o);for(var i=9,s=this.NEPALI_CALENDAR_DATA[o][0],f=this.NEPALI_CALENDAR_DATA[o][i]-s+1;a>f;)i++,i>12&&(i=1,o++),f+=this.NEPALI_CALENDAR_DATA[o][i];var l=this.NEPALI_CALENDAR_DATA[o][i]-(f-a);return this.newDate(o,i,l)},_createMissingCalendarData:function(e){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var t=e-1;t<e+2;t++)typeof this.NEPALI_CALENDAR_DATA[t]=="undefined"&&(this.NEPALI_CALENDAR_DATA[t]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});Z0.calendars.nepali=pS});var tse=ie(()=>{var Od=Di(),KLe=Ua();function E_(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}E_.prototype=new Od.baseCalendar;KLe(E_.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Od.local.invalidYear);return((r.year()-(r.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Od.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,Od.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e-(e>=0?474:473),o=474+gS(a,2820);return t+(r<=7?(r-1)*31:(r-1)*30+6)+Math.floor((o*682-110)/2816)+(o-1)*365+Math.floor(a/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=e-this.toJD(475,1,1),t=Math.floor(r/1029983),n=gS(r,1029983),a=2820;if(n!==1029982){var o=Math.floor(n/366),i=gS(n,366);a=Math.floor((2134*o+2816*i+2815)/1028522)+o+1}var s=a+2820*t+474;s=s<=0?s-1:s;var f=e-this.toJD(s,1,1)+1,l=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),u=e-this.toJD(s,l,1)+1;return this.newDate(s,l,u)}});function gS(e,r){return e-r*Math.floor(e/r)}Od.calendars.persian=E_;Od.calendars.jalali=E_});var nse=ie(()=>{var j0=Di(),QLe=Ua(),S_=j0.instance();function yS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}yS.prototype=new j0.baseCalendar;QLe(yS.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,j0.local.invalidYear),t=this._t2gYear(r.year());return S_.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,j0.local.invalidYear),a=this._t2gYear(n.year());return S_.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,j0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,j0.local.invalidDate),a=this._t2gYear(n.year());return S_.toJD(a,n.month(),n.day())},fromJD:function(e){var r=S_.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});j0.calendars.taiwan=yS});var ase=ie(()=>{var J0=Di(),eRe=Ua(),C_=J0.instance();function mS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}mS.prototype=new J0.baseCalendar;eRe(mS.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,J0.local.invalidYear),t=this._t2gYear(r.year());return C_.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,J0.local.invalidYear),a=this._t2gYear(n.year());return C_.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,J0.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,J0.local.invalidDate),a=this._t2gYear(n.year());return C_.toJD(a,n.month(),n.day())},fromJD:function(e){var r=C_.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});J0.calendars.thai=mS});var ise=ie(()=>{var $0=Di(),rRe=Ua();function xS(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}xS.prototype=new $0.baseCalendar;rRe(xS.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,$0.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var r=0,t=1;t<=12;t++)r+=this.daysInMonth(e,t);return r},daysInMonth:function(e,r){for(var t=this._validate(e,r,this.minDay,$0.local.invalidMonth),n=t.toJD()-24e5+.5,a=0,o=0;o<cc.length;o++){if(cc[o]>n)return cc[a]-cc[a-1];a++}return 30},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,$0.local.invalidDate),a=12*(n.year()-1)+n.month()-15292,o=n.day()+cc[a-1]-1;return o+24e5-.5},fromJD:function(e){for(var r=e-24e5+.5,t=0,n=0;n<cc.length&&!(cc[n]>r);n++)t++;var a=t+15292,o=Math.floor((a-1)/12),i=o+1,s=a-12*o,f=r-cc[t-1]+1;return this.newDate(i,s,f)},isValid:function(e,r,t){var n=$0.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(e=e.year!=null?e.year:e,n=e>=1276&&e<=1500),n},_validate:function(e,r,t,n){var a=$0.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw n.replace(/\{0\}/,this.local.name);return a}});$0.calendars.ummalqura=xS;var cc=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]});var sse=ie((GHe,ose)=>{"use strict";ose.exports=Di();Hoe();Voe();Yoe();Woe();Xoe();Zoe();joe();Joe();Koe();ese();rse();tse();nse();ase();ise()});var dse=ie((HHe,vse)=>{"use strict";var fse=sse(),my=wr(),use=ta(),tRe=use.EPOCHJD,nRe=use.ONEDAY,wS={valType:"enumerated",values:my.sortObjectKeys(fse.calendars),editType:"calc",dflt:"gregorian"},cse=function(e,r,t,n){var a={};return a[t]=wS,my.coerce(e,r,a,t,n)},aRe=function(e,r,t,n){for(var a=0;a<t.length;a++)cse(e,r,t[a]+"calendar",n.calendar)},iRe={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},oRe={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},sRe={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},k_="##",lRe={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:k_,w:k_,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function fRe(e,r,t){for(var n=Math.floor((r+.05)/nRe)+tRe,a=hse(t).fromJD(n),o=0,i,s,f,l,u;(o=e.indexOf("%",o))!==-1;)i=e.charAt(o+1),i==="0"||i==="-"||i==="_"?(f=3,s=e.charAt(o+2),i==="_"&&(i="-")):(s=i,i="0",f=2),l=lRe[s],l?(l===k_?u=k_:u=a.formatDate(l[i]),e=e.substr(0,o)+u+e.substr(o+f),o+=u.length):o+=f;return e}var lse={};function hse(e){var r=lse[e];return r||(r=lse[e]=fse.instance(e),r)}function K0(e){return my.extendFlat({},wS,{description:e})}function AS(e){return"Sets the calendar system to use with `"+e+"` date data."}var _S={xcalendar:K0(AS("x"))},zl=my.extendFlat({},_S,{ycalendar:K0(AS("y"))}),bS=my.extendFlat({},zl,{zcalendar:K0(AS("z"))}),Nd=K0(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));vse.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:zl,bar:zl,box:zl,heatmap:zl,contour:zl,histogram:zl,histogram2d:zl,histogram2dcontour:zl,scatter3d:bS,surface:bS,mesh3d:bS,scattergl:zl,ohlc:_S,candlestick:_S},layout:{calendar:K0(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:Nd},yaxis:{calendar:Nd},scene:{xaxis:{calendar:Nd},yaxis:{calendar:Nd},zaxis:{calendar:Nd}},polar:{radialaxis:{calendar:Nd}}},transforms:{filter:{valuecalendar:K0(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:K0(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:wS,handleDefaults:cse,handleTraceDefaults:aRe,CANONICAL_SUNDAY:oRe,CANONICAL_TICK:iRe,DFLTRANGE:sRe,getCal:hse,worldCalFmt:fRe}});var gse=ie((VHe,pse)=>{"use strict";pse.exports=dse()});var uRe=ie((YHe,mse)=>{var yse=FY();yse.register([mte(),mne(),sae(),gie(),xoe(),Eoe(),Ioe(),Noe(),zoe(),gse()]);mse.exports=yse});return uRe();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/

if (!(typeof define === "function" && define.amd)) {
 window.Plotly = Plotly;
}
return Plotly;
}));