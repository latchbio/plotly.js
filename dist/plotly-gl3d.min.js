/**
* plotly.js (gl3d - minified) v2.35.2
* Copyright 2012-2024, Plotly, Inc.
* All rights reserved.
* Licensed under the MIT license
*/
(
 function(root, factory) {
  if (typeof define === "function" && define.amd) {
   define(factory);
  } else if (typeof module === "object" && module.exports) {
   module.exports = factory();
  } else {
   root.moduleName = factory();
  }
} (typeof self !== "undefined" ? self : this, () => {
"use strict";var Plotly=(()=>{var Eb=Object.defineProperty;var wU=Object.getOwnPropertyDescriptor;var TU=Object.getOwnPropertyNames;var MU=Object.prototype.hasOwnProperty;var Lb=(e,r)=>()=>(e&&(r=e(e=0)),r);var pe=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var AU=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of TU(r))!MU.call(e,a)&&a!==t&&Eb(e,a,{get:()=>r[a],enumerable:!(n=wU(r,a))||n.enumerable});return e};var kU=e=>AU(Eb({},"__esModule",{value:!0}),e);var qc=pe(Rb=>{"use strict";Rb.version="2.35.2"});var Pb=pe((Db,Bc)=>{(function(r,t,n){t[r]=t[r]||n(),typeof Bc!="undefined"&&Bc.exports?Bc.exports=t[r]:typeof define=="function"&&define.amd&&define(function(){return t[r]})})("Promise",typeof window!="undefined"?window:Db,function(){"use strict";var r,t,n,a=Object.prototype.toString,o=typeof setImmediate!="undefined"?function(w){return setImmediate(w)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(w,k,y,M){return Object.defineProperty(w,k,{value:y,writable:!0,configurable:M!==!1})}}catch(m){r=function(k,y,M){return k[y]=M,k}}n=function(){var w,k,y;function M(d,_){this.fn=d,this.self=_,this.next=void 0}return{add:function(_,p){y=new M(_,p),k?k.next=y:w=y,k=y,y=void 0},drain:function(){var _=w;for(w=k=t=void 0;_;)_.fn.call(_.self),_=_.next}}}();function i(m,w){n.add(m,w),t||(t=o(n.drain))}function l(m){var w,k=typeof m;return m!=null&&(k=="object"||k=="function")&&(w=m.then),typeof w=="function"?w:!1}function u(){for(var m=0;m<this.chain.length;m++)s(this,this.state===1?this.chain[m].success:this.chain[m].failure,this.chain[m]);this.chain.length=0}function s(m,w,k){var y,M;try{w===!1?k.reject(m.msg):(w===!0?y=m.msg:y=w.call(void 0,m.msg),y===k.promise?k.reject(TypeError("Promise-chain cycle")):(M=l(y))?M.call(y,k.resolve,k.reject):k.resolve(y))}catch(d){k.reject(d)}}function f(m){var w,k=this;if(!k.triggered){k.triggered=!0,k.def&&(k=k.def);try{(w=l(m))?i(function(){var y=new b(k);try{w.call(m,function(){f.apply(y,arguments)},function(){v.apply(y,arguments)})}catch(M){v.call(y,M)}}):(k.msg=m,k.state=1,k.chain.length>0&&i(u,k))}catch(y){v.call(new b(k),y)}}}function v(m){var w=this;w.triggered||(w.triggered=!0,w.def&&(w=w.def),w.msg=m,w.state=2,w.chain.length>0&&i(u,w))}function g(m,w,k,y){for(var M=0;M<w.length;M++)(function(_){m.resolve(w[_]).then(function(c){k(_,c)},y)})(M)}function b(m){this.def=m,this.triggered=!1}function x(m){this.promise=m,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(m){if(typeof m!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var w=new x(this);this.then=function(y,M){var d={success:typeof y=="function"?y:!0,failure:typeof M=="function"?M:!1};return d.promise=new this.constructor(function(p,c){if(typeof p!="function"||typeof c!="function")throw TypeError("Not a function");d.resolve=p,d.reject=c}),w.chain.push(d),w.state!==0&&i(u,w),d.promise},this.catch=function(y){return this.then(void 0,y)};try{m.call(void 0,function(y){f.call(w,y)},function(y){v.call(w,y)})}catch(k){v.call(w,k)}}var A=r({},"constructor",T,!1);return T.prototype=A,r(A,"__NPO__",0,!1),r(T,"resolve",function(w){var k=this;return w&&typeof w=="object"&&w.__NPO__===1?w:new k(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");M(w)})}),r(T,"reject",function(w){return new this(function(y,M){if(typeof y!="function"||typeof M!="function")throw TypeError("Not a function");M(w)})}),r(T,"all",function(w){var k=this;return a.call(w)!="[object Array]"?k.reject(TypeError("Not an array")):w.length===0?k.resolve([]):new k(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");var _=w.length,p=Array(_),c=0;g(k,w,function(h,R){p[h]=R,++c===_&&M(p)},d)})}),r(T,"race",function(w){var k=this;return a.call(w)!="[object Array]"?k.reject(TypeError("Not an array")):new k(function(M,d){if(typeof M!="function"||typeof d!="function")throw TypeError("Not a function");g(k,w,function(p,c){M(c)},d)})}),T})});var it=pe((jfe,Uc)=>{(function(){var e={version:"3.8.2"},r=[].slice,t=function(C){return r.call(C)},n=self.document;function a(C){return C&&(C.ownerDocument||C.document||C).documentElement}function o(C){return C&&(C.ownerDocument&&C.ownerDocument.defaultView||C.document&&C||C.defaultView)}if(n)try{t(n.documentElement.childNodes)[0].nodeType}catch(C){t=function(z){for(var B=z.length,Y=new Array(B);B--;)Y[B]=z[B];return Y}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch(C){var i=this.Element.prototype,l=i.setAttribute,u=i.setAttributeNS,s=this.CSSStyleDeclaration.prototype,f=s.setProperty;i.setAttribute=function(z,B){l.call(this,z,B+"")},i.setAttributeNS=function(z,B,Y){u.call(this,z,B,Y+"")},s.setProperty=function(z,B,Y){f.call(this,z,B+"",Y)}}e.ascending=v;function v(C,z){return C<z?-1:C>z?1:C>=z?0:NaN}e.descending=function(C,z){return z<C?-1:z>C?1:z>=C?0:NaN},e.min=function(C,z){var B=-1,Y=C.length,X,J;if(arguments.length===1){for(;++B<Y;)if((J=C[B])!=null&&J>=J){X=J;break}for(;++B<Y;)(J=C[B])!=null&&X>J&&(X=J)}else{for(;++B<Y;)if((J=z.call(C,C[B],B))!=null&&J>=J){X=J;break}for(;++B<Y;)(J=z.call(C,C[B],B))!=null&&X>J&&(X=J)}return X},e.max=function(C,z){var B=-1,Y=C.length,X,J;if(arguments.length===1){for(;++B<Y;)if((J=C[B])!=null&&J>=J){X=J;break}for(;++B<Y;)(J=C[B])!=null&&J>X&&(X=J)}else{for(;++B<Y;)if((J=z.call(C,C[B],B))!=null&&J>=J){X=J;break}for(;++B<Y;)(J=z.call(C,C[B],B))!=null&&J>X&&(X=J)}return X},e.extent=function(C,z){var B=-1,Y=C.length,X,J,le;if(arguments.length===1){for(;++B<Y;)if((J=C[B])!=null&&J>=J){X=le=J;break}for(;++B<Y;)(J=C[B])!=null&&(X>J&&(X=J),le<J&&(le=J))}else{for(;++B<Y;)if((J=z.call(C,C[B],B))!=null&&J>=J){X=le=J;break}for(;++B<Y;)(J=z.call(C,C[B],B))!=null&&(X>J&&(X=J),le<J&&(le=J))}return[X,le]};function g(C){return C===null?NaN:+C}function b(C){return!isNaN(C)}e.sum=function(C,z){var B=0,Y=C.length,X,J=-1;if(arguments.length===1)for(;++J<Y;)b(X=+C[J])&&(B+=X);else for(;++J<Y;)b(X=+z.call(C,C[J],J))&&(B+=X);return B},e.mean=function(C,z){var B=0,Y=C.length,X,J=-1,le=Y;if(arguments.length===1)for(;++J<Y;)b(X=g(C[J]))?B+=X:--le;else for(;++J<Y;)b(X=g(z.call(C,C[J],J)))?B+=X:--le;if(le)return B/le},e.quantile=function(C,z){var B=(C.length-1)*z+1,Y=Math.floor(B),X=+C[Y-1],J=B-Y;return J?X+J*(C[Y]-X):X},e.median=function(C,z){var B=[],Y=C.length,X,J=-1;if(arguments.length===1)for(;++J<Y;)b(X=g(C[J]))&&B.push(X);else for(;++J<Y;)b(X=g(z.call(C,C[J],J)))&&B.push(X);if(B.length)return e.quantile(B.sort(v),.5)},e.variance=function(C,z){var B=C.length,Y=0,X,J,le=0,oe=-1,fe=0;if(arguments.length===1)for(;++oe<B;)b(X=g(C[oe]))&&(J=X-Y,Y+=J/++fe,le+=J*(X-Y));else for(;++oe<B;)b(X=g(z.call(C,C[oe],oe)))&&(J=X-Y,Y+=J/++fe,le+=J*(X-Y));if(fe>1)return le/(fe-1)},e.deviation=function(){var C=e.variance.apply(this,arguments);return C&&Math.sqrt(C)};function x(C){return{left:function(z,B,Y,X){for(arguments.length<3&&(Y=0),arguments.length<4&&(X=z.length);Y<X;){var J=Y+X>>>1;C(z[J],B)<0?Y=J+1:X=J}return Y},right:function(z,B,Y,X){for(arguments.length<3&&(Y=0),arguments.length<4&&(X=z.length);Y<X;){var J=Y+X>>>1;C(z[J],B)>0?X=J:Y=J+1}return Y}}}var T=x(v);e.bisectLeft=T.left,e.bisect=e.bisectRight=T.right,e.bisector=function(C){return x(C.length===1?function(z,B){return v(C(z),B)}:C)},e.shuffle=function(C,z,B){(Y=arguments.length)<3&&(B=C.length,Y<2&&(z=0));for(var Y=B-z,X,J;Y;)J=Math.random()*Y--|0,X=C[Y+z],C[Y+z]=C[J+z],C[J+z]=X;return C},e.permute=function(C,z){for(var B=z.length,Y=new Array(B);B--;)Y[B]=C[z[B]];return Y},e.pairs=function(C){for(var z=0,B=C.length-1,Y,X=C[0],J=new Array(B<0?0:B);z<B;)J[z]=[Y=X,X=C[++z]];return J},e.transpose=function(C){if(!(J=C.length))return[];for(var z=-1,B=e.min(C,A),Y=new Array(B);++z<B;)for(var X=-1,J,le=Y[z]=new Array(J);++X<J;)le[X]=C[X][z];return Y};function A(C){return C.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(C){var z=[];for(var B in C)z.push(B);return z},e.values=function(C){var z=[];for(var B in C)z.push(C[B]);return z},e.entries=function(C){var z=[];for(var B in C)z.push({key:B,value:C[B]});return z},e.merge=function(C){for(var z=C.length,B,Y=-1,X=0,J,le;++Y<z;)X+=C[Y].length;for(J=new Array(X);--z>=0;)for(le=C[z],B=le.length;--B>=0;)J[--X]=le[B];return J};var m=Math.abs;e.range=function(C,z,B){if(arguments.length<3&&(B=1,arguments.length<2&&(z=C,C=0)),(z-C)/B===1/0)throw new Error("infinite range");var Y=[],X=w(m(B)),J=-1,le;if(C*=X,z*=X,B*=X,B<0)for(;(le=C+B*++J)>z;)Y.push(le/X);else for(;(le=C+B*++J)<z;)Y.push(le/X);return Y};function w(C){for(var z=1;C*z%1;)z*=10;return z}function k(C,z){for(var B in z)Object.defineProperty(C.prototype,B,{value:z[B],enumerable:!1})}e.map=function(C,z){var B=new y;if(C instanceof y)C.forEach(function(oe,fe){B.set(oe,fe)});else if(Array.isArray(C)){var Y=-1,X=C.length,J;if(arguments.length===1)for(;++Y<X;)B.set(Y,C[Y]);else for(;++Y<X;)B.set(z.call(C,J=C[Y],Y),J)}else for(var le in C)B.set(le,C[le]);return B};function y(){this._=Object.create(null)}var M="__proto__",d="\0";k(y,{has:c,get:function(C){return this._[_(C)]},set:function(C,z){return this._[_(C)]=z},remove:S,keys:h,values:function(){var C=[];for(var z in this._)C.push(this._[z]);return C},entries:function(){var C=[];for(var z in this._)C.push({key:p(z),value:this._[z]});return C},size:R,empty:E,forEach:function(C){for(var z in this._)C.call(this,p(z),this._[z])}});function _(C){return(C+="")===M||C[0]===d?d+C:C}function p(C){return(C+="")[0]===d?C.slice(1):C}function c(C){return _(C)in this._}function S(C){return(C=_(C))in this._&&delete this._[C]}function h(){var C=[];for(var z in this._)C.push(p(z));return C}function R(){var C=0;for(var z in this._)++C;return C}function E(){for(var C in this._)return!1;return!0}e.nest=function(){var C={},z=[],B=[],Y,X;function J(oe,fe,xe){if(xe>=z.length)return X?X.call(C,fe):Y?fe.sort(Y):fe;for(var _e=-1,Ie=fe.length,Ne=z[xe++],$e,rr,qe,He=new y,Xe;++_e<Ie;)(Xe=He.get($e=Ne(rr=fe[_e])))?Xe.push(rr):He.set($e,[rr]);return oe?(rr=oe(),qe=function(er,tr){rr.set(er,J(oe,tr,xe))}):(rr={},qe=function(er,tr){rr[er]=J(oe,tr,xe)}),He.forEach(qe),rr}function le(oe,fe){if(fe>=z.length)return oe;var xe=[],_e=B[fe++];return oe.forEach(function(Ie,Ne){xe.push({key:Ie,values:le(Ne,fe)})}),_e?xe.sort(function(Ie,Ne){return _e(Ie.key,Ne.key)}):xe}return C.map=function(oe,fe){return J(fe,oe,0)},C.entries=function(oe){return le(J(e.map,oe,0),0)},C.key=function(oe){return z.push(oe),C},C.sortKeys=function(oe){return B[z.length-1]=oe,C},C.sortValues=function(oe){return Y=oe,C},C.rollup=function(oe){return X=oe,C},C},e.set=function(C){var z=new D;if(C)for(var B=0,Y=C.length;B<Y;++B)z.add(C[B]);return z};function D(){this._=Object.create(null)}k(D,{has:c,add:function(C){return this._[_(C+="")]=!0,C},remove:S,values:h,size:R,empty:E,forEach:function(C){for(var z in this._)C.call(this,p(z))}}),e.behavior={};function N(C){return C}e.rebind=function(C,z){for(var B=1,Y=arguments.length,X;++B<Y;)C[X=arguments[B]]=I(C,z,z[X]);return C};function I(C,z,B){return function(){var Y=B.apply(z,arguments);return Y===z?C:Y}}function F(C,z){if(z in C)return z;z=z.charAt(0).toUpperCase()+z.slice(1);for(var B=0,Y=L.length;B<Y;++B){var X=L[B]+z;if(X in C)return X}}var L=["webkit","ms","moz","Moz","o","O"];function P(){}e.dispatch=function(){for(var C=new q,z=-1,B=arguments.length;++z<B;)C[arguments[z]]=U(C);return C};function q(){}q.prototype.on=function(C,z){var B=C.indexOf("."),Y="";if(B>=0&&(Y=C.slice(B+1),C=C.slice(0,B)),C)return arguments.length<2?this[C].on(Y):this[C].on(Y,z);if(arguments.length===2){if(z==null)for(C in this)this.hasOwnProperty(C)&&this[C].on(Y,null);return this}};function U(C){var z=[],B=new y;function Y(){for(var X=z,J=-1,le=X.length,oe;++J<le;)(oe=X[J].on)&&oe.apply(this,arguments);return C}return Y.on=function(X,J){var le=B.get(X),oe;return arguments.length<2?le&&le.on:(le&&(le.on=null,z=z.slice(0,oe=z.indexOf(le)).concat(z.slice(oe+1)),B.remove(X)),J&&z.push(B.set(X,{on:J})),C)},Y}e.event=null;function W(){e.event.preventDefault()}function j(){for(var C=e.event,z;z=C.sourceEvent;)C=z;return C}function $(C){for(var z=new q,B=0,Y=arguments.length;++B<Y;)z[arguments[B]]=U(z);return z.of=function(X,J){return function(le){try{var oe=le.sourceEvent=e.event;le.target=C,e.event=le,z[le.type].apply(X,J)}finally{e.event=oe}}},z}e.requote=function(C){return C.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,O={}.__proto__?function(C,z){C.__proto__=z}:function(C,z){for(var B in z)C[B]=z[B]};function Z(C){return O(C,ee),C}var ne=function(C,z){return z.querySelector(C)},Q=function(C,z){return z.querySelectorAll(C)},ie=function(C,z){var B=C.matches||C[F(C,"matchesSelector")];return ie=function(Y,X){return B.call(Y,X)},ie(C,z)};typeof Sizzle=="function"&&(ne=function(C,z){return Sizzle(C,z)[0]||null},Q=Sizzle,ie=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var ee=e.selection.prototype=[];ee.select=function(C){var z=[],B,Y,X,J;C=V(C);for(var le=-1,oe=this.length;++le<oe;){z.push(B=[]),B.parentNode=(X=this[le]).parentNode;for(var fe=-1,xe=X.length;++fe<xe;)(J=X[fe])?(B.push(Y=C.call(J,J.__data__,fe,le)),Y&&"__data__"in J&&(Y.__data__=J.__data__)):B.push(null)}return Z(z)};function V(C){return typeof C=="function"?C:function(){return ne(C,this)}}ee.selectAll=function(C){var z=[],B,Y;C=re(C);for(var X=-1,J=this.length;++X<J;)for(var le=this[X],oe=-1,fe=le.length;++oe<fe;)(Y=le[oe])&&(z.push(B=t(C.call(Y,Y.__data__,oe,X))),B.parentNode=Y);return Z(z)};function re(C){return typeof C=="function"?C:function(){return Q(C,this)}}var H="http://www.w3.org/1999/xhtml",te={svg:"http://www.w3.org/2000/svg",xhtml:H,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:te,qualify:function(C){var z=C.indexOf(":"),B=C;return z>=0&&(B=C.slice(0,z))!=="xmlns"&&(C=C.slice(z+1)),te.hasOwnProperty(B)?{space:te[B],local:C}:C}},ee.attr=function(C,z){if(arguments.length<2){if(typeof C=="string"){var B=this.node();return C=e.ns.qualify(C),C.local?B.getAttributeNS(C.space,C.local):B.getAttribute(C)}for(z in C)this.each(se(z,C[z]));return this}return this.each(se(C,z))};function se(C,z){C=e.ns.qualify(C);function B(){this.removeAttribute(C)}function Y(){this.removeAttributeNS(C.space,C.local)}function X(){this.setAttribute(C,z)}function J(){this.setAttributeNS(C.space,C.local,z)}function le(){var fe=z.apply(this,arguments);fe==null?this.removeAttribute(C):this.setAttribute(C,fe)}function oe(){var fe=z.apply(this,arguments);fe==null?this.removeAttributeNS(C.space,C.local):this.setAttributeNS(C.space,C.local,fe)}return z==null?C.local?Y:B:typeof z=="function"?C.local?oe:le:C.local?J:X}function he(C){return C.trim().replace(/\s+/g," ")}ee.classed=function(C,z){if(arguments.length<2){if(typeof C=="string"){var B=this.node(),Y=(C=we(C)).length,X=-1;if(z=B.classList){for(;++X<Y;)if(!z.contains(C[X]))return!1}else for(z=B.getAttribute("class");++X<Y;)if(!ke(C[X]).test(z))return!1;return!0}for(z in C)this.each(ve(z,C[z]));return this}return this.each(ve(C,z))};function ke(C){return new RegExp("(?:^|\\s+)"+e.requote(C)+"(?:\\s+|$)","g")}function we(C){return(C+"").trim().split(/^|\s+/)}function ve(C,z){C=we(C).map(Me);var B=C.length;function Y(){for(var J=-1;++J<B;)C[J](this,z)}function X(){for(var J=-1,le=z.apply(this,arguments);++J<B;)C[J](this,le)}return typeof z=="function"?X:Y}function Me(C){var z=ke(C);return function(B,Y){if(X=B.classList)return Y?X.add(C):X.remove(C);var X=B.getAttribute("class")||"";Y?(z.lastIndex=0,z.test(X)||B.setAttribute("class",he(X+" "+C))):B.setAttribute("class",he(X.replace(z," ")))}}ee.style=function(C,z,B){var Y=arguments.length;if(Y<3){if(typeof C!="string"){Y<2&&(z="");for(B in C)this.each(Se(B,C[B],z));return this}if(Y<2){var X=this.node();return o(X).getComputedStyle(X,null).getPropertyValue(C)}B=""}return this.each(Se(C,z,B))};function Se(C,z,B){function Y(){this.style.removeProperty(C)}function X(){this.style.setProperty(C,z,B)}function J(){var le=z.apply(this,arguments);le==null?this.style.removeProperty(C):this.style.setProperty(C,le,B)}return z==null?Y:typeof z=="function"?J:X}ee.property=function(C,z){if(arguments.length<2){if(typeof C=="string")return this.node()[C];for(z in C)this.each(De(z,C[z]));return this}return this.each(De(C,z))};function De(C,z){function B(){delete this[C]}function Y(){this[C]=z}function X(){var J=z.apply(this,arguments);J==null?delete this[C]:this[C]=J}return z==null?B:typeof z=="function"?X:Y}ee.text=function(C){return arguments.length?this.each(typeof C=="function"?function(){var z=C.apply(this,arguments);this.textContent=z==null?"":z}:C==null?function(){this.textContent=""}:function(){this.textContent=C}):this.node().textContent},ee.html=function(C){return arguments.length?this.each(typeof C=="function"?function(){var z=C.apply(this,arguments);this.innerHTML=z==null?"":z}:C==null?function(){this.innerHTML=""}:function(){this.innerHTML=C}):this.node().innerHTML},ee.append=function(C){return C=Ce(C),this.select(function(){return this.appendChild(C.apply(this,arguments))})};function Ce(C){function z(){var Y=this.ownerDocument,X=this.namespaceURI;return X===H&&Y.documentElement.namespaceURI===H?Y.createElement(C):Y.createElementNS(X,C)}function B(){return this.ownerDocument.createElementNS(C.space,C.local)}return typeof C=="function"?C:(C=e.ns.qualify(C)).local?B:z}ee.insert=function(C,z){return C=Ce(C),z=V(z),this.select(function(){return this.insertBefore(C.apply(this,arguments),z.apply(this,arguments)||null)})},ee.remove=function(){return this.each(Oe)};function Oe(){var C=this.parentNode;C&&C.removeChild(this)}ee.data=function(C,z){var B=-1,Y=this.length,X,J;if(!arguments.length){for(C=new Array(Y=(X=this[0]).length);++B<Y;)(J=X[B])&&(C[B]=J.__data__);return C}function le(_e,Ie){var Ne,$e=_e.length,rr=Ie.length,qe=Math.min($e,rr),He=new Array(rr),Xe=new Array(rr),er=new Array($e),tr,Ke;if(z){var or=new y,dr=new Array($e),mr;for(Ne=-1;++Ne<$e;)(tr=_e[Ne])&&(or.has(mr=z.call(tr,tr.__data__,Ne))?er[Ne]=tr:or.set(mr,tr),dr[Ne]=mr);for(Ne=-1;++Ne<rr;)(tr=or.get(mr=z.call(Ie,Ke=Ie[Ne],Ne)))?tr!==!0&&(He[Ne]=tr,tr.__data__=Ke):Xe[Ne]=Be(Ke),or.set(mr,!0);for(Ne=-1;++Ne<$e;)Ne in dr&&or.get(dr[Ne])!==!0&&(er[Ne]=_e[Ne])}else{for(Ne=-1;++Ne<qe;)tr=_e[Ne],Ke=Ie[Ne],tr?(tr.__data__=Ke,He[Ne]=tr):Xe[Ne]=Be(Ke);for(;Ne<rr;++Ne)Xe[Ne]=Be(Ie[Ne]);for(;Ne<$e;++Ne)er[Ne]=_e[Ne]}Xe.update=He,Xe.parentNode=He.parentNode=er.parentNode=_e.parentNode,oe.push(Xe),fe.push(He),xe.push(er)}var oe=ye([]),fe=Z([]),xe=Z([]);if(typeof C=="function")for(;++B<Y;)le(X=this[B],C.call(X,X.parentNode.__data__,B));else for(;++B<Y;)le(X=this[B],C);return fe.enter=function(){return oe},fe.exit=function(){return xe},fe};function Be(C){return{__data__:C}}ee.datum=function(C){return arguments.length?this.property("__data__",C):this.property("__data__")},ee.filter=function(C){var z=[],B,Y,X;typeof C!="function"&&(C=ge(C));for(var J=0,le=this.length;J<le;J++){z.push(B=[]),B.parentNode=(Y=this[J]).parentNode;for(var oe=0,fe=Y.length;oe<fe;oe++)(X=Y[oe])&&C.call(X,X.__data__,oe,J)&&B.push(X)}return Z(z)};function ge(C){return function(){return ie(this,C)}}ee.order=function(){for(var C=-1,z=this.length;++C<z;)for(var B=this[C],Y=B.length-1,X=B[Y],J;--Y>=0;)(J=B[Y])&&(X&&X!==J.nextSibling&&X.parentNode.insertBefore(J,X),X=J);return this},ee.sort=function(C){C=Ae.apply(this,arguments);for(var z=-1,B=this.length;++z<B;)this[z].sort(C);return this.order()};function Ae(C){return arguments.length||(C=v),function(z,B){return z&&B?C(z.__data__,B.__data__):!z-!B}}ee.each=function(C){return ce(this,function(z,B,Y){C.call(z,z.__data__,B,Y)})};function ce(C,z){for(var B=0,Y=C.length;B<Y;B++)for(var X=C[B],J=0,le=X.length,oe;J<le;J++)(oe=X[J])&&z(oe,J,B);return C}ee.call=function(C){var z=t(arguments);return C.apply(z[0]=this,z),this},ee.empty=function(){return!this.node()},ee.node=function(){for(var C=0,z=this.length;C<z;C++)for(var B=this[C],Y=0,X=B.length;Y<X;Y++){var J=B[Y];if(J)return J}return null},ee.size=function(){var C=0;return ce(this,function(){++C}),C};function ye(C){return O(C,Le),C}var Le=[];e.selection.enter=ye,e.selection.enter.prototype=Le,Le.append=ee.append,Le.empty=ee.empty,Le.node=ee.node,Le.call=ee.call,Le.size=ee.size,Le.select=function(C){for(var z=[],B,Y,X,J,le,oe=-1,fe=this.length;++oe<fe;){X=(J=this[oe]).update,z.push(B=[]),B.parentNode=J.parentNode;for(var xe=-1,_e=J.length;++xe<_e;)(le=J[xe])?(B.push(X[xe]=Y=C.call(J.parentNode,le.__data__,xe,oe)),Y.__data__=le.__data__):B.push(null)}return Z(z)},Le.insert=function(C,z){return arguments.length<2&&(z=me(this)),ee.insert.call(this,C,z)};function me(C){var z,B;return function(Y,X,J){var le=C[J].update,oe=le.length,fe;for(J!=B&&(B=J,z=0),X>=z&&(z=X+1);!(fe=le[z])&&++z<oe;);return fe}}e.select=function(C){var z;return typeof C=="string"?(z=[ne(C,n)],z.parentNode=n.documentElement):(z=[C],z.parentNode=a(C)),Z([z])},e.selectAll=function(C){var z;return typeof C=="string"?(z=t(Q(C,n)),z.parentNode=n.documentElement):(z=t(C),z.parentNode=null),Z([z])},ee.on=function(C,z,B){var Y=arguments.length;if(Y<3){if(typeof C!="string"){Y<2&&(z=!1);for(B in C)this.each(de(B,C[B],z));return this}if(Y<2)return(Y=this.node()["__on"+C])&&Y._;B=!1}return this.each(de(C,z,B))};function de(C,z,B){var Y="__on"+C,X=C.indexOf("."),J=Ee;X>0&&(C=C.slice(0,X));var le=be.get(C);le&&(C=le,J=ze);function oe(){var _e=this[Y];_e&&(this.removeEventListener(C,_e,_e.$),delete this[Y])}function fe(){var _e=J(z,t(arguments));oe.call(this),this.addEventListener(C,this[Y]=_e,_e.$=B),_e._=z}function xe(){var _e=new RegExp("^__on([^.]+)"+e.requote(C)+"$"),Ie;for(var Ne in this)if(Ie=Ne.match(_e)){var $e=this[Ne];this.removeEventListener(Ie[1],$e,$e.$),delete this[Ne]}}return X?z?fe:oe:z?P:xe}var be=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&be.forEach(function(C){"on"+C in n&&be.remove(C)});function Ee(C,z){return function(B){var Y=e.event;e.event=B,z[0]=this.__data__;try{C.apply(this,z)}finally{e.event=Y}}}function ze(C,z){var B=Ee(C,z);return function(Y){var X=this,J=Y.relatedTarget;(!J||J!==X&&!(J.compareDocumentPosition(X)&8))&&B.call(X,Y)}}var Fe,Je=0;function Ye(C){var z=".dragsuppress-"+ ++Je,B="click"+z,Y=e.select(o(C)).on("touchmove"+z,W).on("dragstart"+z,W).on("selectstart"+z,W);if(Fe==null&&(Fe="onselectstart"in C?!1:F(C.style,"userSelect")),Fe){var X=a(C).style,J=X[Fe];X[Fe]="none"}return function(le){if(Y.on(z,null),Fe&&(X[Fe]=J),le){var oe=function(){Y.on(B,null)};Y.on(B,function(){W(),oe()},!0),setTimeout(oe,0)}}}e.mouse=function(C){return We(C,j())};var Ge=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function We(C,z){z.changedTouches&&(z=z.changedTouches[0]);var B=C.ownerSVGElement||C;if(B.createSVGPoint){var Y=B.createSVGPoint();if(Ge<0){var X=o(C);if(X.scrollX||X.scrollY){B=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var J=B[0][0].getScreenCTM();Ge=!(J.f||J.e),B.remove()}}return Ge?(Y.x=z.pageX,Y.y=z.pageY):(Y.x=z.clientX,Y.y=z.clientY),Y=Y.matrixTransform(C.getScreenCTM().inverse()),[Y.x,Y.y]}var le=C.getBoundingClientRect();return[z.clientX-le.left-C.clientLeft,z.clientY-le.top-C.clientTop]}e.touch=function(C,z,B){if(arguments.length<3&&(B=z,z=j().changedTouches),z){for(var Y=0,X=z.length,J;Y<X;++Y)if((J=z[Y]).identifier===B)return We(C,J)}},e.behavior.drag=function(){var C=$(X,"drag","dragstart","dragend"),z=null,B=J(P,e.mouse,o,"mousemove","mouseup"),Y=J(Te,e.touch,N,"touchmove","touchend");function X(){this.on("mousedown.drag",B).on("touchstart.drag",Y)}function J(le,oe,fe,xe,_e){return function(){var Ie=this,Ne=e.event.target.correspondingElement||e.event.target,$e=Ie.parentNode,rr=C.of(Ie,arguments),qe=0,He=le(),Xe=".drag"+(He==null?"":"-"+He),er,tr=e.select(fe(Ne)).on(xe+Xe,dr).on(_e+Xe,mr),Ke=Ye(Ne),or=oe($e,He);z?(er=z.apply(Ie,arguments),er=[er.x-or[0],er.y-or[1]]):er=[0,0],rr({type:"dragstart"});function dr(){var pr=oe($e,He),br,_r;pr&&(br=pr[0]-or[0],_r=pr[1]-or[1],qe|=br|_r,or=pr,rr({type:"drag",x:pr[0]+er[0],y:pr[1]+er[1],dx:br,dy:_r}))}function mr(){oe($e,He)&&(tr.on(xe+Xe,null).on(_e+Xe,null),Ke(qe),rr({type:"dragend"}))}}}return X.origin=function(le){return arguments.length?(z=le,X):z},e.rebind(X,C,"on")};function Te(){return e.event.changedTouches[0].identifier}e.touches=function(C,z){return arguments.length<2&&(z=j().touches),z?t(z).map(function(B){var Y=We(C,B);return Y.identifier=B.identifier,Y}):[]};var Pe=1e-6,Qe=Pe*Pe,Ve=Math.PI,ar=2*Ve,ue=ar-Pe,K=Ve/2,ae=Ve/180,Re=180/Ve;function Ue(C){return C>0?1:C<0?-1:0}function je(C,z,B){return(z[0]-C[0])*(B[1]-C[1])-(z[1]-C[1])*(B[0]-C[0])}function nr(C){return C>1?0:C<-1?Ve:Math.acos(C)}function hr(C){return C>1?K:C<-1?-K:Math.asin(C)}function wr(C){return((C=Math.exp(C))-1/C)/2}function Er(C){return((C=Math.exp(C))+1/C)/2}function Mr(C){return((C=Math.exp(2*C))-1)/(C+1)}function Ar(C){return(C=Math.sin(C/2))*C}var ft=Math.SQRT2,Wr=2,xr=4;e.interpolateZoom=function(C,z){var B=C[0],Y=C[1],X=C[2],J=z[0],le=z[1],oe=z[2],fe=J-B,xe=le-Y,_e=fe*fe+xe*xe,Ie,Ne;if(_e<Qe)Ne=Math.log(oe/X)/ft,Ie=function(er){return[B+er*fe,Y+er*xe,X*Math.exp(ft*er*Ne)]};else{var $e=Math.sqrt(_e),rr=(oe*oe-X*X+xr*_e)/(2*X*Wr*$e),qe=(oe*oe-X*X-xr*_e)/(2*oe*Wr*$e),He=Math.log(Math.sqrt(rr*rr+1)-rr),Xe=Math.log(Math.sqrt(qe*qe+1)-qe);Ne=(Xe-He)/ft,Ie=function(er){var tr=er*Ne,Ke=Er(He),or=X/(Wr*$e)*(Ke*Mr(ft*tr+He)-wr(He));return[B+or*fe,Y+or*xe,X*Ke/Er(ft*tr+He)]}}return Ie.duration=Ne*1e3,Ie},e.behavior.zoom=function(){var C={x:0,y:0,k:1},z,B,Y,X=[960,500],J=ct,le=250,oe=0,fe="mousedown.zoom",xe="mousemove.zoom",_e="mouseup.zoom",Ie,Ne="touchstart.zoom",$e,rr=$(tr,"zoomstart","zoom","zoomend"),qe,He,Xe,er;Hr||(Hr="onwheel"in n?(Sr=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Sr=function(){return e.event.wheelDelta},"mousewheel"):(Sr=function(){return-e.event.detail},"MozMousePixelScroll"));function tr(vr){vr.on(fe,Pr).on(Hr+".zoom",Ut).on("dblclick.zoom",dt).on(Ne,lt)}tr.event=function(vr){vr.each(function(){var Br=rr.of(this,arguments),Gr=C;Sl?e.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},_r(Br)}).tween("zoom:zoom",function(){var st=X[0],Pt=X[1],tn=B?B[0]:st/2,_n=B?B[1]:Pt/2,zn=e.interpolateZoom([(tn-C.x)/C.k,(_n-C.y)/C.k,st/C.k],[(tn-Gr.x)/Gr.k,(_n-Gr.y)/Gr.k,st/Gr.k]);return function(Wn){var On=zn(Wn),na=st/On[2];this.__chart__=C={x:tn-On[0]*na,y:_n-On[1]*na,k:na},qr(Br)}}).each("interrupt.zoom",function(){Tr(Br)}).each("end.zoom",function(){Tr(Br)}):(this.__chart__=C,_r(Br),qr(Br),Tr(Br))})},tr.translate=function(vr){return arguments.length?(C={x:+vr[0],y:+vr[1],k:C.k},br(),tr):[C.x,C.y]},tr.scale=function(vr){return arguments.length?(C={x:C.x,y:C.y,k:null},dr(+vr),br(),tr):C.k},tr.scaleExtent=function(vr){return arguments.length?(J=vr==null?ct:[+vr[0],+vr[1]],tr):J},tr.center=function(vr){return arguments.length?(Y=vr&&[+vr[0],+vr[1]],tr):Y},tr.size=function(vr){return arguments.length?(X=vr&&[+vr[0],+vr[1]],tr):X},tr.duration=function(vr){return arguments.length?(le=+vr,tr):le},tr.x=function(vr){return arguments.length?(He=vr,qe=vr.copy(),C={x:0,y:0,k:1},tr):He},tr.y=function(vr){return arguments.length?(er=vr,Xe=vr.copy(),C={x:0,y:0,k:1},tr):er};function Ke(vr){return[(vr[0]-C.x)/C.k,(vr[1]-C.y)/C.k]}function or(vr){return[vr[0]*C.k+C.x,vr[1]*C.k+C.y]}function dr(vr){C.k=Math.max(J[0],Math.min(J[1],vr))}function mr(vr,Br){Br=or(Br),C.x+=vr[0]-Br[0],C.y+=vr[1]-Br[1]}function pr(vr,Br,Gr,st){vr.__chart__={x:C.x,y:C.y,k:C.k},dr(Math.pow(2,st)),mr(B=Br,Gr),vr=e.select(vr),le>0&&(vr=vr.transition().duration(le)),vr.call(tr.event)}function br(){He&&He.domain(qe.range().map(function(vr){return(vr-C.x)/C.k}).map(qe.invert)),er&&er.domain(Xe.range().map(function(vr){return(vr-C.y)/C.k}).map(Xe.invert))}function _r(vr){oe++||vr({type:"zoomstart"})}function qr(vr){br(),vr({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function Tr(vr){--oe||(vr({type:"zoomend"}),B=null)}function Pr(){var vr=this,Br=rr.of(vr,arguments),Gr=0,st=e.select(o(vr)).on(xe,_n).on(_e,zn),Pt=Ke(e.mouse(vr)),tn=Ye(vr);Ic.call(vr),_r(Br);function _n(){Gr=1,mr(e.mouse(vr),Pt),qr(Br)}function zn(){st.on(xe,null).on(_e,null),tn(Gr),Tr(Br)}}function lt(){var vr=this,Br=rr.of(vr,arguments),Gr={},st=0,Pt,tn=".zoom-"+e.event.changedTouches[0].identifier,_n="touchmove"+tn,zn="touchend"+tn,Wn=[],On=e.select(vr),na=Ye(vr);aa(),_r(Br),On.on(fe,null).on(Ne,aa);function kn(){var ei=e.touches(vr);return Pt=C.k,ei.forEach(function(wn){wn.identifier in Gr&&(Gr[wn.identifier]=Ke(wn))}),ei}function aa(){var ei=e.event.target;e.select(ei).on(_n,Cl).on(zn,_U),Wn.push(ei);for(var wn=e.event.changedTouches,Ca=0,ki=wn.length;Ca<ki;++Ca)Gr[wn[Ca].identifier]=null;var Ea=kn(),Bs=Date.now();if(Ea.length===1){if(Bs-$e<500){var El=Ea[0];pr(vr,El,Gr[El.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),W()}$e=Bs}else if(Ea.length>1){var El=Ea[0],ko=Ea[1],Oc=El[0]-ko[0],Cb=El[1]-ko[1];st=Oc*Oc+Cb*Cb}}function Cl(){var ei=e.touches(vr),wn,Ca,ki,Ea;Ic.call(vr);for(var Bs=0,El=ei.length;Bs<El;++Bs,Ea=null)if(ki=ei[Bs],Ea=Gr[ki.identifier]){if(Ca)break;wn=ki,Ca=Ea}if(Ea){var ko=(ko=ki[0]-wn[0])*ko+(ko=ki[1]-wn[1])*ko,Oc=st&&Math.sqrt(ko/st);wn=[(wn[0]+ki[0])/2,(wn[1]+ki[1])/2],Ca=[(Ca[0]+Ea[0])/2,(Ca[1]+Ea[1])/2],dr(Oc*Pt)}$e=null,mr(wn,Ca),qr(Br)}function _U(){if(e.event.touches.length){for(var ei=e.event.changedTouches,wn=0,Ca=ei.length;wn<Ca;++wn)delete Gr[ei[wn].identifier];for(var ki in Gr)return void kn()}e.selectAll(Wn).on(tn,null),On.on(fe,Pr).on(Ne,lt),na(),Tr(Br)}}function Ut(){var vr=rr.of(this,arguments);Ie?clearTimeout(Ie):(Ic.call(this),z=Ke(B=Y||e.mouse(this)),_r(vr)),Ie=setTimeout(function(){Ie=null,Tr(vr)},50),W(),dr(Math.pow(2,Sr()*.002)*C.k),mr(B,z),qr(vr)}function dt(){var vr=e.mouse(this),Br=Math.log(C.k)/Math.LN2;pr(this,vr,Ke(vr),e.event.shiftKey?Math.ceil(Br)-1:Math.floor(Br)+1)}return e.rebind(tr,rr,"on")};var ct=[0,1/0],Sr,Hr;e.color=bt;function bt(){}bt.prototype.toString=function(){return this.rgb()+""},e.hsl=Or;function Or(C,z,B){return this instanceof Or?(this.h=+C,this.s=+z,void(this.l=+B)):arguments.length<2?C instanceof Or?new Or(C.h,C.s,C.l):at(""+C,vt,Or):new Or(C,z,B)}var Vr=Or.prototype=new bt;Vr.brighter=function(C){return C=Math.pow(.7,arguments.length?C:1),new Or(this.h,this.s,this.l/C)},Vr.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new Or(this.h,this.s,C*this.l)},Vr.rgb=function(){return Bt(this.h,this.s,this.l)};function Bt(C,z,B){var Y,X;C=isNaN(C)?0:(C%=360)<0?C+360:C,z=isNaN(z)||z<0?0:z>1?1:z,B=B<0?0:B>1?1:B,X=B<=.5?B*(1+z):B+z-B*z,Y=2*B-X;function J(oe){return oe>360?oe-=360:oe<0&&(oe+=360),oe<60?Y+(X-Y)*oe/60:oe<180?X:oe<240?Y+(X-Y)*(240-oe)/60:Y}function le(oe){return Math.round(J(oe)*255)}return new ln(le(C+120),le(C),le(C-120))}e.hcl=Lt;function Lt(C,z,B){return this instanceof Lt?(this.h=+C,this.c=+z,void(this.l=+B)):arguments.length<2?C instanceof Lt?new Lt(C.h,C.c,C.l):C instanceof Rt?wi(C.l,C.a,C.b):wi((C=gr((C=e.rgb(C)).r,C.g,C.b)).l,C.a,C.b):new Lt(C,z,B)}var mn=Lt.prototype=new bt;mn.brighter=function(C){return new Lt(this.h,this.c,Math.min(100,this.l+nt*(arguments.length?C:1)))},mn.darker=function(C){return new Lt(this.h,this.c,Math.max(0,this.l-nt*(arguments.length?C:1)))},mn.rgb=function(){return Wt(this.h,this.c,this.l).rgb()};function Wt(C,z,B){return isNaN(C)&&(C=0),isNaN(z)&&(z=0),new Rt(B,Math.cos(C*=ae)*z,Math.sin(C)*z)}e.lab=Rt;function Rt(C,z,B){return this instanceof Rt?(this.l=+C,this.a=+z,void(this.b=+B)):arguments.length<2?C instanceof Rt?new Rt(C.l,C.a,C.b):C instanceof Lt?Wt(C.h,C.c,C.l):gr((C=ln(C)).r,C.g,C.b):new Rt(C,z,B)}var nt=18,Ft=.95047,ya=1,ta=1.08883,Nn=Rt.prototype=new bt;Nn.brighter=function(C){return new Rt(Math.min(100,this.l+nt*(arguments.length?C:1)),this.a,this.b)},Nn.darker=function(C){return new Rt(Math.max(0,this.l-nt*(arguments.length?C:1)),this.a,this.b)},Nn.rgb=function(){return ka(this.l,this.a,this.b)};function ka(C,z,B){var Y=(C+16)/116,X=Y+z/500,J=Y-B/200;return X=Xi(X)*Ft,Y=Xi(Y)*ya,J=Xi(J)*ta,new ln(Ji(3.2404542*X-1.5371385*Y-.4985314*J),Ji(-.969266*X+1.8760108*Y+.041556*J),Ji(.0556434*X-.2040259*Y+1.0572252*J))}function wi(C,z,B){return C>0?new Lt(Math.atan2(B,z)*Re,Math.sqrt(z*z+B*B),C):new Lt(NaN,NaN,C)}function Xi(C){return C>.206893034?C*C*C:(C-4/29)/7.787037}function Zi(C){return C>.008856?Math.pow(C,1/3):7.787037*C+4/29}function Ji(C){return Math.round(255*(C<=.00304?12.92*C:1.055*Math.pow(C,1/2.4)-.055))}e.rgb=ln;function ln(C,z,B){return this instanceof ln?(this.r=~~C,this.g=~~z,void(this.b=~~B)):arguments.length<2?C instanceof ln?new ln(C.r,C.g,C.b):at(""+C,ln,Bt):new ln(C,z,B)}function Mo(C){return new ln(C>>16,C>>8&255,C&255)}function Ti(C){return Mo(C)+""}var Mi=ln.prototype=new bt;Mi.brighter=function(C){C=Math.pow(.7,arguments.length?C:1);var z=this.r,B=this.g,Y=this.b,X=30;return!z&&!B&&!Y?new ln(X,X,X):(z&&z<X&&(z=X),B&&B<X&&(B=X),Y&&Y<X&&(Y=X),new ln(Math.min(255,z/C),Math.min(255,B/C),Math.min(255,Y/C)))},Mi.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new ln(C*this.r,C*this.g,C*this.b)},Mi.hsl=function(){return vt(this.r,this.g,this.b)},Mi.toString=function(){return"#"+kr(this.r)+kr(this.g)+kr(this.b)};function kr(C){return C<16?"0"+Math.max(0,C).toString(16):Math.min(255,C).toString(16)}function at(C,z,B){var Y=0,X=0,J=0,le,oe,fe;if(le=/([a-z]+)\((.*)\)/.exec(C=C.toLowerCase()),le)switch(oe=le[2].split(","),le[1]){case"hsl":return B(parseFloat(oe[0]),parseFloat(oe[1])/100,parseFloat(oe[2])/100);case"rgb":return z(_t(oe[0]),_t(oe[1]),_t(oe[2]))}return(fe=bn.get(C))?z(fe.r,fe.g,fe.b):(C!=null&&C.charAt(0)==="#"&&!isNaN(fe=parseInt(C.slice(1),16))&&(C.length===4?(Y=(fe&3840)>>4,Y=Y>>4|Y,X=fe&240,X=X>>4|X,J=fe&15,J=J<<4|J):C.length===7&&(Y=(fe&16711680)>>16,X=(fe&65280)>>8,J=fe&255)),z(Y,X,J))}function vt(C,z,B){var Y=Math.min(C/=255,z/=255,B/=255),X=Math.max(C,z,B),J=X-Y,le,oe,fe=(X+Y)/2;return J?(oe=fe<.5?J/(X+Y):J/(2-X-Y),C==X?le=(z-B)/J+(z<B?6:0):z==X?le=(B-C)/J+2:le=(C-z)/J+4,le*=60):(le=NaN,oe=fe>0&&fe<1?0:le),new Or(le,oe,fe)}function gr(C,z,B){C=xn(C),z=xn(z),B=xn(B);var Y=Zi((.4124564*C+.3575761*z+.1804375*B)/Ft),X=Zi((.2126729*C+.7151522*z+.072175*B)/ya),J=Zi((.0193339*C+.119192*z+.9503041*B)/ta);return Rt(116*X-16,500*(Y-X),200*(X-J))}function xn(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function _t(C){var z=parseFloat(C);return C.charAt(C.length-1)==="%"?Math.round(z*2.55):z}var bn=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});bn.forEach(function(C,z){bn.set(C,Mo(z))});function Jr(C){return typeof C=="function"?C:function(){return C}}e.functor=Jr,e.xhr=$a(N);function $a(C){return function(z,B,Y){return arguments.length===2&&typeof B=="function"&&(Y=B,B=null),Ml(z,B,C,Y)}}function Ml(C,z,B,Y){var X={},J=e.dispatch("beforesend","progress","load","error"),le={},oe=new XMLHttpRequest,fe=null;self.XDomainRequest&&!("withCredentials"in oe)&&/^(http(s)?:)?\/\//.test(C)&&(oe=new XDomainRequest),"onload"in oe?oe.onload=oe.onerror=xe:oe.onreadystatechange=function(){oe.readyState>3&&xe()};function xe(){var _e=oe.status,Ie;if(!_e&&Tq(oe)||_e>=200&&_e<300||_e===304){try{Ie=B.call(X,oe)}catch(Ne){J.error.call(X,Ne);return}J.load.call(X,Ie)}else J.error.call(X,oe)}return oe.onprogress=function(_e){var Ie=e.event;e.event=_e;try{J.progress.call(X,oe)}finally{e.event=Ie}},X.header=function(_e,Ie){return _e=(_e+"").toLowerCase(),arguments.length<2?le[_e]:(Ie==null?delete le[_e]:le[_e]=Ie+"",X)},X.mimeType=function(_e){return arguments.length?(z=_e==null?null:_e+"",X):z},X.responseType=function(_e){return arguments.length?(fe=_e,X):fe},X.response=function(_e){return B=_e,X},["get","post"].forEach(function(_e){X[_e]=function(){return X.send.apply(X,[_e].concat(t(arguments)))}}),X.send=function(_e,Ie,Ne){if(arguments.length===2&&typeof Ie=="function"&&(Ne=Ie,Ie=null),oe.open(_e,C,!0),z!=null&&!("accept"in le)&&(le.accept=z+",*/*"),oe.setRequestHeader)for(var $e in le)oe.setRequestHeader($e,le[$e]);return z!=null&&oe.overrideMimeType&&oe.overrideMimeType(z),fe!=null&&(oe.responseType=fe),Ne!=null&&X.on("error",Ne).on("load",function(rr){Ne(null,rr)}),J.beforesend.call(X,oe),oe.send(Ie==null?null:Ie),X},X.abort=function(){return oe.abort(),X},e.rebind(X,J,"on"),Y==null?X:X.get(wq(Y))}function wq(C){return C.length===1?function(z,B){C(z==null?B:null)}:C}function Tq(C){var z=C.responseType;return z&&z!=="text"?C.response:C.responseText}e.dsv=function(C,z){var B=new RegExp('["'+C+`
]`),Y=C.charCodeAt(0);function X(xe,_e,Ie){arguments.length<3&&(Ie=_e,_e=null);var Ne=Ml(xe,z,_e==null?J:le(_e),Ie);return Ne.row=function($e){return arguments.length?Ne.response((_e=$e)==null?J:le($e)):_e},Ne}function J(xe){return X.parse(xe.responseText)}function le(xe){return function(_e){return X.parse(_e.responseText,xe)}}X.parse=function(xe,_e){var Ie;return X.parseRows(xe,function(Ne,$e){if(Ie)return Ie(Ne,$e-1);var rr=function(qe){for(var He={},Xe=Ne.length,er=0;er<Xe;++er)He[Ne[er]]=qe[er];return He};Ie=_e?function(qe,He){return _e(rr(qe),He)}:rr})},X.parseRows=function(xe,_e){var Ie={},Ne={},$e=[],rr=xe.length,qe=0,He=0,Xe,er;function tr(){if(qe>=rr)return Ne;if(er)return er=!1,Ie;var or=qe;if(xe.charCodeAt(or)===34){for(var dr=or;dr++<rr;)if(xe.charCodeAt(dr)===34){if(xe.charCodeAt(dr+1)!==34)break;++dr}qe=dr+2;var mr=xe.charCodeAt(dr+1);return mr===13?(er=!0,xe.charCodeAt(dr+2)===10&&++qe):mr===10&&(er=!0),xe.slice(or+1,dr).replace(/""/g,'"')}for(;qe<rr;){var mr=xe.charCodeAt(qe++),pr=1;if(mr===10)er=!0;else if(mr===13)er=!0,xe.charCodeAt(qe)===10&&(++qe,++pr);else if(mr!==Y)continue;return xe.slice(or,qe-pr)}return xe.slice(or)}for(;(Xe=tr())!==Ne;){for(var Ke=[];Xe!==Ie&&Xe!==Ne;)Ke.push(Xe),Xe=tr();_e&&(Ke=_e(Ke,He++))==null||$e.push(Ke)}return $e},X.format=function(xe){if(Array.isArray(xe[0]))return X.formatRows(xe);var _e=new D,Ie=[];return xe.forEach(function(Ne){for(var $e in Ne)_e.has($e)||Ie.push(_e.add($e))}),[Ie.map(fe).join(C)].concat(xe.map(function(Ne){return Ie.map(function($e){return fe(Ne[$e])}).join(C)})).join(`
`)},X.formatRows=function(xe){return xe.map(oe).join(`
`)};function oe(xe){return xe.map(fe).join(C)}function fe(xe){return B.test(xe)?'"'+xe.replace(/\"/g,'""')+'"':xe}return X},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var gc,yc,mc,xc,dx=this[F(this,"requestAnimationFrame")]||function(C){setTimeout(C,17)};e.timer=function(){bc.apply(this,arguments)};function bc(C,z,B){var Y=arguments.length;Y<2&&(z=0),Y<3&&(B=Date.now());var X=B+z,J={c:C,t:X,n:null};return yc?yc.n=J:gc=J,yc=J,mc||(xc=clearTimeout(xc),mc=1,dx($d)),J}function $d(){var C=px(),z=gx()-C;z>24?(isFinite(z)&&(clearTimeout(xc),xc=setTimeout($d,z)),mc=0):(mc=1,dx($d))}e.timer.flush=function(){px(),gx()};function px(){for(var C=Date.now(),z=gc;z;)C>=z.t&&z.c(C-z.t)&&(z.c=null),z=z.n;return C}function gx(){for(var C,z=gc,B=1/0;z;)z.c?(z.t<B&&(B=z.t),z=(C=z).n):z=C?C.n=z.n:gc=z.n;return yc=C,B}e.round=function(C,z){return z?Math.round(C*(z=Math.pow(10,z)))/z:Math.round(C)},e.geom={};function Fs(C){return C[0]}function ff(C){return C[1]}e.geom.hull=function(C){var z=Fs,B=ff;if(arguments.length)return Y(C);function Y(X){if(X.length<3)return[];var J=Jr(z),le=Jr(B),oe,fe=X.length,xe=[],_e=[];for(oe=0;oe<fe;oe++)xe.push([+J.call(this,X[oe],oe),+le.call(this,X[oe],oe),oe]);for(xe.sort(Mq),oe=0;oe<fe;oe++)_e.push([xe[oe][0],-xe[oe][1]]);var Ie=yx(xe),Ne=yx(_e),$e=Ne[0]===Ie[0],rr=Ne[Ne.length-1]===Ie[Ie.length-1],qe=[];for(oe=Ie.length-1;oe>=0;--oe)qe.push(X[xe[Ie[oe]][2]]);for(oe=+$e;oe<Ne.length-rr;++oe)qe.push(X[xe[Ne[oe]][2]]);return qe}return Y.x=function(X){return arguments.length?(z=X,Y):z},Y.y=function(X){return arguments.length?(B=X,Y):B},Y};function yx(C){for(var z=C.length,B=[0,1],Y=2,X=2;X<z;X++){for(;Y>1&&je(C[B[Y-2]],C[B[Y-1]],C[X])<=0;)--Y;B[Y++]=X}return B.slice(0,Y)}function Mq(C,z){return C[0]-z[0]||C[1]-z[1]}e.geom.polygon=function(C){return O(C,_c),C};var _c=e.geom.polygon.prototype=[];_c.area=function(){for(var C=-1,z=this.length,B,Y=this[z-1],X=0;++C<z;)B=Y,Y=this[C],X+=B[1]*Y[0]-B[0]*Y[1];return X*.5},_c.centroid=function(C){var z=-1,B=this.length,Y=0,X=0,J,le=this[B-1],oe;for(arguments.length||(C=-1/(6*this.area()));++z<B;)J=le,le=this[z],oe=J[0]*le[1]-le[0]*J[1],Y+=(J[0]+le[0])*oe,X+=(J[1]+le[1])*oe;return[Y*C,X*C]},_c.clip=function(C){for(var z,B=mx(C),Y=-1,X=this.length-mx(this),J,le,oe=this[X-1],fe,xe,_e;++Y<X;){for(z=C.slice(),C.length=0,fe=this[Y],xe=z[(le=z.length-B)-1],J=-1;++J<le;)_e=z[J],jd(_e,oe,fe)?(jd(xe,oe,fe)||C.push(ep(xe,_e,oe,fe)),C.push(_e)):jd(xe,oe,fe)&&C.push(ep(xe,_e,oe,fe)),xe=_e;B&&C.push(C[0]),oe=fe}return C};function jd(C,z,B){return(B[0]-z[0])*(C[1]-z[1])<(B[1]-z[1])*(C[0]-z[0])}function ep(C,z,B,Y){var X=C[0],J=B[0],le=z[0]-X,oe=Y[0]-J,fe=C[1],xe=B[1],_e=z[1]-fe,Ie=Y[1]-xe,Ne=(oe*(fe-xe)-Ie*(X-J))/(Ie*le-oe*_e);return[X+Ne*le,fe+Ne*_e]}function mx(C){var z=C[0],B=C[C.length-1];return!(z[0]-B[0]||z[1]-B[1])}var Is,Al,Ns,xx=[],rp,cf,bx=[];function Aq(){Mc(this),this.edge=this.site=this.circle=null}function _x(C){var z=xx.pop()||new Aq;return z.site=C,z}function tp(C){Os(C),Ns.remove(C),xx.push(C),Mc(C)}function kq(C){var z=C.circle,B=z.x,Y=z.cy,X={x:B,y:Y},J=C.P,le=C.N,oe=[C];tp(C);for(var fe=J;fe.circle&&m(B-fe.circle.x)<Pe&&m(Y-fe.circle.cy)<Pe;)J=fe.P,oe.unshift(fe),tp(fe),fe=J;oe.unshift(fe),Os(fe);for(var xe=le;xe.circle&&m(B-xe.circle.x)<Pe&&m(Y-xe.circle.cy)<Pe;)le=xe.N,oe.push(xe),tp(xe),xe=le;oe.push(xe),Os(xe);var _e=oe.length,Ie;for(Ie=1;Ie<_e;++Ie)xe=oe[Ie],fe=oe[Ie-1],wc(xe.edge,fe.site,xe.site,X);fe=oe[0],xe=oe[_e-1],xe.edge=vf(fe.site,xe.site,null,X),zs(fe),zs(xe)}function Sq(C){for(var z=C.x,B=C.y,Y,X,J,le,oe=Ns._;oe;)if(J=wx(oe,B)-z,J>Pe)oe=oe.L;else if(le=z-Cq(oe,B),le>Pe){if(!oe.R){Y=oe;break}oe=oe.R}else{J>-Pe?(Y=oe.P,X=oe):le>-Pe?(Y=oe,X=oe.N):Y=X=oe;break}var fe=_x(C);if(Ns.insert(Y,fe),!(!Y&&!X)){if(Y===X){Os(Y),X=_x(Y.site),Ns.insert(fe,X),fe.edge=X.edge=vf(Y.site,fe.site),zs(Y),zs(X);return}if(!X){fe.edge=vf(Y.site,fe.site);return}Os(Y),Os(X);var xe=Y.site,_e=xe.x,Ie=xe.y,Ne=C.x-_e,$e=C.y-Ie,rr=X.site,qe=rr.x-_e,He=rr.y-Ie,Xe=2*(Ne*He-$e*qe),er=Ne*Ne+$e*$e,tr=qe*qe+He*He,Ke={x:(He*er-$e*tr)/Xe+_e,y:(Ne*tr-qe*er)/Xe+Ie};wc(X.edge,xe,rr,Ke),fe.edge=vf(xe,C,null,Ke),X.edge=vf(C,rr,null,Ke),zs(Y),zs(X)}}function wx(C,z){var B=C.site,Y=B.x,X=B.y,J=X-z;if(!J)return Y;var le=C.P;if(!le)return-1/0;B=le.site;var oe=B.x,fe=B.y,xe=fe-z;if(!xe)return oe;var _e=oe-Y,Ie=1/J-1/xe,Ne=_e/xe;return Ie?(-Ne+Math.sqrt(Ne*Ne-2*Ie*(_e*_e/(-2*xe)-fe+xe/2+X-J/2)))/Ie+Y:(Y+oe)/2}function Cq(C,z){var B=C.N;if(B)return wx(B,z);var Y=C.site;return Y.y===z?Y.x:1/0}function Tx(C){this.site=C,this.edges=[]}Tx.prototype.prepare=function(){for(var C=this.edges,z=C.length,B;z--;)B=C[z].edge,(!B.b||!B.a)&&C.splice(z,1);return C.sort(Mx),C.length};function Eq(C){for(var z=C[0][0],B=C[1][0],Y=C[0][1],X=C[1][1],J,le,oe,fe,xe=Al,_e=xe.length,Ie,Ne,$e,rr,qe,He;_e--;)if(Ie=xe[_e],!(!Ie||!Ie.prepare()))for($e=Ie.edges,rr=$e.length,Ne=0;Ne<rr;)He=$e[Ne].end(),oe=He.x,fe=He.y,qe=$e[++Ne%rr].start(),J=qe.x,le=qe.y,(m(oe-J)>Pe||m(fe-le)>Pe)&&($e.splice(Ne,0,new Tc(Fq(Ie.site,He,m(oe-z)<Pe&&X-fe>Pe?{x:z,y:m(J-z)<Pe?le:X}:m(fe-X)<Pe&&B-oe>Pe?{x:m(le-X)<Pe?J:B,y:X}:m(oe-B)<Pe&&fe-Y>Pe?{x:B,y:m(J-B)<Pe?le:Y}:m(fe-Y)<Pe&&oe-z>Pe?{x:m(le-Y)<Pe?J:z,y:Y}:null),Ie.site,null)),++rr)}function Mx(C,z){return z.angle-C.angle}function Lq(){Mc(this),this.x=this.y=this.arc=this.site=this.cy=null}function zs(C){var z=C.P,B=C.N;if(!(!z||!B)){var Y=z.site,X=C.site,J=B.site;if(Y!==J){var le=X.x,oe=X.y,fe=Y.x-le,xe=Y.y-oe,_e=J.x-le,He=J.y-oe,Ie=2*(fe*He-xe*_e);if(!(Ie>=-Qe)){var Ne=fe*fe+xe*xe,$e=_e*_e+He*He,rr=(He*Ne-xe*$e)/Ie,qe=(fe*$e-_e*Ne)/Ie,He=qe+oe,Xe=bx.pop()||new Lq;Xe.arc=C,Xe.site=X,Xe.x=rr+le,Xe.y=He+Math.sqrt(rr*rr+qe*qe),Xe.cy=He,C.circle=Xe;for(var er=null,tr=cf._;tr;)if(Xe.y<tr.y||Xe.y===tr.y&&Xe.x<=tr.x)if(tr.L)tr=tr.L;else{er=tr.P;break}else if(tr.R)tr=tr.R;else{er=tr;break}cf.insert(er,Xe),er||(rp=Xe)}}}}function Os(C){var z=C.circle;z&&(z.P||(rp=z.N),cf.remove(z),bx.push(z),Mc(z),C.circle=null)}function Rq(C,z,B,Y){return function(X){var J=X.a,le=X.b,oe=J.x,fe=J.y,xe=le.x,_e=le.y,Ie=0,Ne=1,$e=xe-oe,rr=_e-fe,qe;if(qe=C-oe,!(!$e&&qe>0)){if(qe/=$e,$e<0){if(qe<Ie)return;qe<Ne&&(Ne=qe)}else if($e>0){if(qe>Ne)return;qe>Ie&&(Ie=qe)}if(qe=B-oe,!(!$e&&qe<0)){if(qe/=$e,$e<0){if(qe>Ne)return;qe>Ie&&(Ie=qe)}else if($e>0){if(qe<Ie)return;qe<Ne&&(Ne=qe)}if(qe=z-fe,!(!rr&&qe>0)){if(qe/=rr,rr<0){if(qe<Ie)return;qe<Ne&&(Ne=qe)}else if(rr>0){if(qe>Ne)return;qe>Ie&&(Ie=qe)}if(qe=Y-fe,!(!rr&&qe<0)){if(qe/=rr,rr<0){if(qe>Ne)return;qe>Ie&&(Ie=qe)}else if(rr>0){if(qe<Ie)return;qe<Ne&&(Ne=qe)}return Ie>0&&(X.a={x:oe+Ie*$e,y:fe+Ie*rr}),Ne<1&&(X.b={x:oe+Ne*$e,y:fe+Ne*rr}),X}}}}}}function Dq(C){for(var z=Is,B=Rq(C[0][0],C[0][1],C[1][0],C[1][1]),Y=z.length,X;Y--;)X=z[Y],(!Pq(X,C)||!B(X)||m(X.a.x-X.b.x)<Pe&&m(X.a.y-X.b.y)<Pe)&&(X.a=X.b=null,z.splice(Y,1))}function Pq(C,z){var B=C.b;if(B)return!0;var Y=C.a,X=z[0][0],J=z[1][0],le=z[0][1],oe=z[1][1],fe=C.l,xe=C.r,_e=fe.x,Ie=fe.y,Ne=xe.x,$e=xe.y,rr=(_e+Ne)/2,qe=(Ie+$e)/2,He,Xe;if($e===Ie){if(rr<X||rr>=J)return;if(_e>Ne){if(!Y)Y={x:rr,y:le};else if(Y.y>=oe)return;B={x:rr,y:oe}}else{if(!Y)Y={x:rr,y:oe};else if(Y.y<le)return;B={x:rr,y:le}}}else if(He=(_e-Ne)/($e-Ie),Xe=qe-He*rr,He<-1||He>1)if(_e>Ne){if(!Y)Y={x:(le-Xe)/He,y:le};else if(Y.y>=oe)return;B={x:(oe-Xe)/He,y:oe}}else{if(!Y)Y={x:(oe-Xe)/He,y:oe};else if(Y.y<le)return;B={x:(le-Xe)/He,y:le}}else if(Ie<$e){if(!Y)Y={x:X,y:He*X+Xe};else if(Y.x>=J)return;B={x:J,y:He*J+Xe}}else{if(!Y)Y={x:J,y:He*J+Xe};else if(Y.x<X)return;B={x:X,y:He*X+Xe}}return C.a=Y,C.b=B,!0}function Ax(C,z){this.l=C,this.r=z,this.a=this.b=null}function vf(C,z,B,Y){var X=new Ax(C,z);return Is.push(X),B&&wc(X,C,z,B),Y&&wc(X,z,C,Y),Al[C.i].edges.push(new Tc(X,C,z)),Al[z.i].edges.push(new Tc(X,z,C)),X}function Fq(C,z,B){var Y=new Ax(C,null);return Y.a=z,Y.b=B,Is.push(Y),Y}function wc(C,z,B,Y){!C.a&&!C.b?(C.a=Y,C.l=z,C.r=B):C.l===B?C.b=Y:C.a=Y}function Tc(C,z,B){var Y=C.a,X=C.b;this.edge=C,this.site=z,this.angle=B?Math.atan2(B.y-z.y,B.x-z.x):C.l===z?Math.atan2(X.x-Y.x,Y.y-X.y):Math.atan2(Y.x-X.x,X.y-Y.y)}Tc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function np(){this._=null}function Mc(C){C.U=C.C=C.L=C.R=C.P=C.N=null}np.prototype={insert:function(C,z){var B,Y,X;if(C){if(z.P=C,z.N=C.N,C.N&&(C.N.P=z),C.N=z,C.R){for(C=C.R;C.L;)C=C.L;C.L=z}else C.R=z;B=C}else this._?(C=kx(this._),z.P=null,z.N=C,C.P=C.L=z,B=C):(z.P=z.N=null,this._=z,B=null);for(z.L=z.R=null,z.U=B,z.C=!0,C=z;B&&B.C;)Y=B.U,B===Y.L?(X=Y.R,X&&X.C?(B.C=X.C=!1,Y.C=!0,C=Y):(C===B.R&&(hf(this,B),C=B,B=C.U),B.C=!1,Y.C=!0,df(this,Y))):(X=Y.L,X&&X.C?(B.C=X.C=!1,Y.C=!0,C=Y):(C===B.L&&(df(this,B),C=B,B=C.U),B.C=!1,Y.C=!0,hf(this,Y))),B=C.U;this._.C=!1},remove:function(C){C.N&&(C.N.P=C.P),C.P&&(C.P.N=C.N),C.N=C.P=null;var z=C.U,B,Y=C.L,X=C.R,J,le;if(Y?X?J=kx(X):J=Y:J=X,z?z.L===C?z.L=J:z.R=J:this._=J,Y&&X?(le=J.C,J.C=C.C,J.L=Y,Y.U=J,J!==X?(z=J.U,J.U=C.U,C=J.R,z.L=C,J.R=X,X.U=J):(J.U=z,z=J,C=J.R)):(le=C.C,C=J),C&&(C.U=z),!le){if(C&&C.C){C.C=!1;return}do{if(C===this._)break;if(C===z.L){if(B=z.R,B.C&&(B.C=!1,z.C=!0,hf(this,z),B=z.R),B.L&&B.L.C||B.R&&B.R.C){(!B.R||!B.R.C)&&(B.L.C=!1,B.C=!0,df(this,B),B=z.R),B.C=z.C,z.C=B.R.C=!1,hf(this,z),C=this._;break}}else if(B=z.L,B.C&&(B.C=!1,z.C=!0,df(this,z),B=z.L),B.L&&B.L.C||B.R&&B.R.C){(!B.L||!B.L.C)&&(B.R.C=!1,B.C=!0,hf(this,B),B=z.L),B.C=z.C,z.C=B.L.C=!1,df(this,z),C=this._;break}B.C=!0,C=z,z=z.U}while(!C.C);C&&(C.C=!1)}}};function hf(C,z){var B=z,Y=z.R,X=B.U;X?X.L===B?X.L=Y:X.R=Y:C._=Y,Y.U=X,B.U=Y,B.R=Y.L,B.R&&(B.R.U=B),Y.L=B}function df(C,z){var B=z,Y=z.L,X=B.U;X?X.L===B?X.L=Y:X.R=Y:C._=Y,Y.U=X,B.U=Y,B.L=Y.R,B.L&&(B.L.U=B),Y.R=B}function kx(C){for(;C.L;)C=C.L;return C}function ap(C,z){var B=C.sort(Iq).pop(),Y,X,J;for(Is=[],Al=new Array(C.length),Ns=new np,cf=new np;;)if(J=rp,B&&(!J||B.y<J.y||B.y===J.y&&B.x<J.x))(B.x!==Y||B.y!==X)&&(Al[B.i]=new Tx(B),Sq(B),Y=B.x,X=B.y),B=C.pop();else if(J)kq(J.arc);else break;z&&(Dq(z),Eq(z));var le={cells:Al,edges:Is};return Ns=cf=Is=Al=null,le}function Iq(C,z){return z.y-C.y||z.x-C.x}e.geom.voronoi=function(C){var z=Fs,B=ff,Y=z,X=B,J=Ac;if(C)return le(C);function le(fe){var xe=new Array(fe.length),_e=J[0][0],Ie=J[0][1],Ne=J[1][0],$e=J[1][1];return ap(oe(fe),J).cells.forEach(function(rr,qe){var He=rr.edges,Xe=rr.site,er=xe[qe]=He.length?He.map(function(tr){var Ke=tr.start();return[Ke.x,Ke.y]}):Xe.x>=_e&&Xe.x<=Ne&&Xe.y>=Ie&&Xe.y<=$e?[[_e,$e],[Ne,$e],[Ne,Ie],[_e,Ie]]:[];er.point=fe[qe]}),xe}function oe(fe){return fe.map(function(xe,_e){return{x:Math.round(Y(xe,_e)/Pe)*Pe,y:Math.round(X(xe,_e)/Pe)*Pe,i:_e}})}return le.links=function(fe){return ap(oe(fe)).edges.filter(function(xe){return xe.l&&xe.r}).map(function(xe){return{source:fe[xe.l.i],target:fe[xe.r.i]}})},le.triangles=function(fe){var xe=[];return ap(oe(fe)).cells.forEach(function(_e,Ie){for(var Ne=_e.site,$e=_e.edges.sort(Mx),rr=-1,qe=$e.length,He,Xe,er=$e[qe-1].edge,tr=er.l===Ne?er.r:er.l;++rr<qe;)He=er,Xe=tr,er=$e[rr].edge,tr=er.l===Ne?er.r:er.l,Ie<Xe.i&&Ie<tr.i&&Nq(Ne,Xe,tr)<0&&xe.push([fe[Ie],fe[Xe.i],fe[tr.i]])}),xe},le.x=function(fe){return arguments.length?(Y=Jr(z=fe),le):z},le.y=function(fe){return arguments.length?(X=Jr(B=fe),le):B},le.clipExtent=function(fe){return arguments.length?(J=fe==null?Ac:fe,le):J===Ac?null:J},le.size=function(fe){return arguments.length?le.clipExtent(fe&&[[0,0],fe]):J===Ac?null:J&&J[1]},le};var Ac=[[-1e6,-1e6],[1e6,1e6]];function Nq(C,z,B){return(C.x-B.x)*(z.y-C.y)-(C.x-z.x)*(B.y-C.y)}e.geom.delaunay=function(C){return e.geom.voronoi().triangles(C)},e.geom.quadtree=function(C,z,B,Y,X){var J=Fs,le=ff,oe;if(oe=arguments.length)return J=zq,le=Oq,oe===3&&(X=B,Y=z,B=z=0),fe(C);function fe(xe){var _e,Ie=Jr(J),Ne=Jr(le),$e,rr,qe,He,Xe,er,tr,Ke;if(z!=null)Xe=z,er=B,tr=Y,Ke=X;else if(tr=Ke=-(Xe=er=1/0),$e=[],rr=[],He=xe.length,oe)for(qe=0;qe<He;++qe)_e=xe[qe],_e.x<Xe&&(Xe=_e.x),_e.y<er&&(er=_e.y),_e.x>tr&&(tr=_e.x),_e.y>Ke&&(Ke=_e.y),$e.push(_e.x),rr.push(_e.y);else for(qe=0;qe<He;++qe){var or=+Ie(_e=xe[qe],qe),dr=+Ne(_e,qe);or<Xe&&(Xe=or),dr<er&&(er=dr),or>tr&&(tr=or),dr>Ke&&(Ke=dr),$e.push(or),rr.push(dr)}var mr=tr-Xe,pr=Ke-er;mr>pr?Ke=er+mr:tr=Xe+pr;function br(Tr,Pr,lt,Ut,dt,vr,Br,Gr){if(!(isNaN(lt)||isNaN(Ut)))if(Tr.leaf){var st=Tr.x,Pt=Tr.y;if(st!=null)if(m(st-lt)+m(Pt-Ut)<.01)_r(Tr,Pr,lt,Ut,dt,vr,Br,Gr);else{var tn=Tr.point;Tr.x=Tr.y=Tr.point=null,_r(Tr,tn,st,Pt,dt,vr,Br,Gr),_r(Tr,Pr,lt,Ut,dt,vr,Br,Gr)}else Tr.x=lt,Tr.y=Ut,Tr.point=Pr}else _r(Tr,Pr,lt,Ut,dt,vr,Br,Gr)}function _r(Tr,Pr,lt,Ut,dt,vr,Br,Gr){var st=(dt+Br)*.5,Pt=(vr+Gr)*.5,tn=lt>=st,_n=Ut>=Pt,zn=_n<<1|tn;Tr.leaf=!1,Tr=Tr.nodes[zn]||(Tr.nodes[zn]=Sx()),tn?dt=st:Br=st,_n?vr=Pt:Gr=Pt,br(Tr,Pr,lt,Ut,dt,vr,Br,Gr)}var qr=Sx();if(qr.add=function(Tr){br(qr,Tr,+Ie(Tr,++qe),+Ne(Tr,qe),Xe,er,tr,Ke)},qr.visit=function(Tr){pf(Tr,qr,Xe,er,tr,Ke)},qr.find=function(Tr){return qq(qr,Tr[0],Tr[1],Xe,er,tr,Ke)},qe=-1,z==null){for(;++qe<He;)br(qr,xe[qe],$e[qe],rr[qe],Xe,er,tr,Ke);--qe}else xe.forEach(qr.add);return $e=rr=xe=_e=null,qr}return fe.x=function(xe){return arguments.length?(J=xe,fe):J},fe.y=function(xe){return arguments.length?(le=xe,fe):le},fe.extent=function(xe){return arguments.length?(xe==null?z=B=Y=X=null:(z=+xe[0][0],B=+xe[0][1],Y=+xe[1][0],X=+xe[1][1]),fe):z==null?null:[[z,B],[Y,X]]},fe.size=function(xe){return arguments.length?(xe==null?z=B=Y=X=null:(z=B=0,Y=+xe[0],X=+xe[1]),fe):z==null?null:[Y-z,X-B]},fe};function zq(C){return C.x}function Oq(C){return C.y}function Sx(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pf(C,z,B,Y,X,J){if(!C(z,B,Y,X,J)){var le=(B+X)*.5,oe=(Y+J)*.5,fe=z.nodes;fe[0]&&pf(C,fe[0],B,Y,le,oe),fe[1]&&pf(C,fe[1],le,Y,X,oe),fe[2]&&pf(C,fe[2],B,oe,le,J),fe[3]&&pf(C,fe[3],le,oe,X,J)}}function qq(C,z,B,Y,X,J,le){var oe=1/0,fe;return function xe(_e,Ie,Ne,$e,rr){if(!(Ie>J||Ne>le||$e<Y||rr<X)){if(qe=_e.point){var qe,He=z-_e.x,Xe=B-_e.y,er=He*He+Xe*Xe;if(er<oe){var tr=Math.sqrt(oe=er);Y=z-tr,X=B-tr,J=z+tr,le=B+tr,fe=qe}}for(var Ke=_e.nodes,or=(Ie+$e)*.5,dr=(Ne+rr)*.5,mr=z>=or,pr=B>=dr,br=pr<<1|mr,_r=br+4;br<_r;++br)if(_e=Ke[br&3])switch(br&3){case 0:xe(_e,Ie,Ne,or,dr);break;case 1:xe(_e,or,Ne,$e,dr);break;case 2:xe(_e,Ie,dr,or,rr);break;case 3:xe(_e,or,dr,$e,rr);break}}}(C,Y,X,J,le),fe}e.interpolateRgb=ip;function ip(C,z){C=e.rgb(C),z=e.rgb(z);var B=C.r,Y=C.g,X=C.b,J=z.r-B,le=z.g-Y,oe=z.b-X;return function(fe){return"#"+kr(Math.round(B+J*fe))+kr(Math.round(Y+le*fe))+kr(Math.round(X+oe*fe))}}e.interpolateObject=Cx;function Cx(C,z){var B={},Y={},X;for(X in C)X in z?B[X]=kl(C[X],z[X]):Y[X]=C[X];for(X in z)X in C||(Y[X]=z[X]);return function(J){for(X in B)Y[X]=B[X](J);return Y}}e.interpolateNumber=Ki;function Ki(C,z){return C=+C,z=+z,function(B){return C*(1-B)+z*B}}e.interpolateString=Ex;function Ex(C,z){var B=op.lastIndex=lp.lastIndex=0,Y,X,J,le=-1,oe=[],fe=[];for(C=C+"",z=z+"";(Y=op.exec(C))&&(X=lp.exec(z));)(J=X.index)>B&&(J=z.slice(B,J),oe[le]?oe[le]+=J:oe[++le]=J),(Y=Y[0])===(X=X[0])?oe[le]?oe[le]+=X:oe[++le]=X:(oe[++le]=null,fe.push({i:le,x:Ki(Y,X)})),B=lp.lastIndex;return B<z.length&&(J=z.slice(B),oe[le]?oe[le]+=J:oe[++le]=J),oe.length<2?fe[0]?(z=fe[0].x,function(xe){return z(xe)+""}):function(){return z}:(z=fe.length,function(xe){for(var _e=0,Ie;_e<z;++_e)oe[(Ie=fe[_e]).i]=Ie.x(xe);return oe.join("")})}var op=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lp=new RegExp(op.source,"g");e.interpolate=kl;function kl(C,z){for(var B=e.interpolators.length,Y;--B>=0&&!(Y=e.interpolators[B](C,z)););return Y}e.interpolators=[function(C,z){var B=typeof z;return(B==="string"?bn.has(z.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(z)?ip:Ex:z instanceof bt?ip:Array.isArray(z)?kc:B==="object"&&isNaN(z)?Cx:Ki)(C,z)}],e.interpolateArray=kc;function kc(C,z){var B=[],Y=[],X=C.length,J=z.length,le=Math.min(C.length,z.length),oe;for(oe=0;oe<le;++oe)B.push(kl(C[oe],z[oe]));for(;oe<X;++oe)Y[oe]=C[oe];for(;oe<J;++oe)Y[oe]=z[oe];return function(fe){for(oe=0;oe<le;++oe)Y[oe]=B[oe](fe);return Y}}var Lx=function(){return N},Bq=e.map({linear:Lx,poly:Wq,quad:function(){return Vq},cubic:function(){return Gq},sin:function(){return Xq},exp:function(){return Zq},circle:function(){return Jq},elastic:Kq,back:Qq,bounce:function(){return $q}}),Uq=e.map({in:N,out:Rx,"in-out":Dx,"out-in":function(C){return Dx(Rx(C))}});e.ease=function(C){var z=C.indexOf("-"),B=z>=0?C.slice(0,z):C,Y=z>=0?C.slice(z+1):"in";return B=Bq.get(B)||Lx,Y=Uq.get(Y)||N,Hq(Y(B.apply(null,r.call(arguments,1))))};function Hq(C){return function(z){return z<=0?0:z>=1?1:C(z)}}function Rx(C){return function(z){return 1-C(1-z)}}function Dx(C){return function(z){return .5*(z<.5?C(2*z):2-C(2-2*z))}}function Vq(C){return C*C}function Gq(C){return C*C*C}function Yq(C){if(C<=0)return 0;if(C>=1)return 1;var z=C*C,B=z*C;return 4*(C<.5?B:3*(C-z)+B-.75)}function Wq(C){return function(z){return Math.pow(z,C)}}function Xq(C){return 1-Math.cos(C*K)}function Zq(C){return Math.pow(2,10*(C-1))}function Jq(C){return 1-Math.sqrt(1-C*C)}function Kq(C,z){var B;return arguments.length<2&&(z=.45),arguments.length?B=z/ar*Math.asin(1/C):(C=1,B=z/4),function(Y){return 1+C*Math.pow(2,-10*Y)*Math.sin((Y-B)*ar/z)}}function Qq(C){return C||(C=1.70158),function(z){return z*z*((C+1)*z-C)}}function $q(C){return C<1/2.75?7.5625*C*C:C<2/2.75?7.5625*(C-=1.5/2.75)*C+.75:C<2.5/2.75?7.5625*(C-=2.25/2.75)*C+.9375:7.5625*(C-=2.625/2.75)*C+.984375}e.interpolateHcl=jq;function jq(C,z){C=e.hcl(C),z=e.hcl(z);var B=C.h,Y=C.c,X=C.l,J=z.h-B,le=z.c-Y,oe=z.l-X;return isNaN(le)&&(le=0,Y=isNaN(Y)?z.c:Y),isNaN(J)?(J=0,B=isNaN(B)?z.h:B):J>180?J-=360:J<-180&&(J+=360),function(fe){return Wt(B+J*fe,Y+le*fe,X+oe*fe)+""}}e.interpolateHsl=eB;function eB(C,z){C=e.hsl(C),z=e.hsl(z);var B=C.h,Y=C.s,X=C.l,J=z.h-B,le=z.s-Y,oe=z.l-X;return isNaN(le)&&(le=0,Y=isNaN(Y)?z.s:Y),isNaN(J)?(J=0,B=isNaN(B)?z.h:B):J>180?J-=360:J<-180&&(J+=360),function(fe){return Bt(B+J*fe,Y+le*fe,X+oe*fe)+""}}e.interpolateLab=rB;function rB(C,z){C=e.lab(C),z=e.lab(z);var B=C.l,Y=C.a,X=C.b,J=z.l-B,le=z.a-Y,oe=z.b-X;return function(fe){return ka(B+J*fe,Y+le*fe,X+oe*fe)+""}}e.interpolateRound=Px;function Px(C,z){return z-=C,function(B){return Math.round(C+z*B)}}e.transform=function(C){var z=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(B){if(B!=null){z.setAttribute("transform",B);var Y=z.transform.baseVal.consolidate()}return new Fx(Y?Y.matrix:nB)})(C)};function Fx(C){var z=[C.a,C.b],B=[C.c,C.d],Y=Nx(z),X=Ix(z,B),J=Nx(tB(B,z,-X))||0;z[0]*B[1]<B[0]*z[1]&&(z[0]*=-1,z[1]*=-1,Y*=-1,X*=-1),this.rotate=(Y?Math.atan2(z[1],z[0]):Math.atan2(-B[0],B[1]))*Re,this.translate=[C.e,C.f],this.scale=[Y,J],this.skew=J?Math.atan2(X,J)*Re:0}Fx.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Ix(C,z){return C[0]*z[0]+C[1]*z[1]}function Nx(C){var z=Math.sqrt(Ix(C,C));return z&&(C[0]/=z,C[1]/=z),z}function tB(C,z,B){return C[0]+=B*z[0],C[1]+=B*z[1],C}var nB={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=zx;function qs(C){return C.length?C.pop()+",":""}function aB(C,z,B,Y){if(C[0]!==z[0]||C[1]!==z[1]){var X=B.push("translate(",null,",",null,")");Y.push({i:X-4,x:Ki(C[0],z[0])},{i:X-2,x:Ki(C[1],z[1])})}else(z[0]||z[1])&&B.push("translate("+z+")")}function iB(C,z,B,Y){C!==z?(C-z>180?z+=360:z-C>180&&(C+=360),Y.push({i:B.push(qs(B)+"rotate(",null,")")-2,x:Ki(C,z)})):z&&B.push(qs(B)+"rotate("+z+")")}function oB(C,z,B,Y){C!==z?Y.push({i:B.push(qs(B)+"skewX(",null,")")-2,x:Ki(C,z)}):z&&B.push(qs(B)+"skewX("+z+")")}function lB(C,z,B,Y){if(C[0]!==z[0]||C[1]!==z[1]){var X=B.push(qs(B)+"scale(",null,",",null,")");Y.push({i:X-4,x:Ki(C[0],z[0])},{i:X-2,x:Ki(C[1],z[1])})}else(z[0]!==1||z[1]!==1)&&B.push(qs(B)+"scale("+z+")")}function zx(C,z){var B=[],Y=[];return C=e.transform(C),z=e.transform(z),aB(C.translate,z.translate,B,Y),iB(C.rotate,z.rotate,B,Y),oB(C.skew,z.skew,B,Y),lB(C.scale,z.scale,B,Y),C=z=null,function(X){for(var J=-1,le=Y.length,oe;++J<le;)B[(oe=Y[J]).i]=oe.x(X);return B.join("")}}function sB(C,z){return z=(z-=C=+C)||1/z,function(B){return(B-C)/z}}function uB(C,z){return z=(z-=C=+C)||1/z,function(B){return Math.max(0,Math.min(1,(B-C)/z))}}e.layout={},e.layout.bundle=function(){return function(C){for(var z=[],B=-1,Y=C.length;++B<Y;)z.push(fB(C[B]));return z}};function fB(C){for(var z=C.source,B=C.target,Y=cB(z,B),X=[z];z!==Y;)z=z.parent,X.push(z);for(var J=X.length;B!==Y;)X.splice(J,0,B),B=B.parent;return X}function Ox(C){for(var z=[],B=C.parent;B!=null;)z.push(C),C=B,B=B.parent;return z.push(C),z}function cB(C,z){if(C===z)return C;for(var B=Ox(C),Y=Ox(z),X=B.pop(),J=Y.pop(),le=null;X===J;)le=X,X=B.pop(),J=Y.pop();return le}e.layout.chord=function(){var C={},z,B,Y,X,J=0,le,oe,fe;function xe(){var Ie={},Ne=[],$e=e.range(X),rr=[],qe,He,Xe,er,tr;for(z=[],B=[],qe=0,er=-1;++er<X;){for(He=0,tr=-1;++tr<X;)He+=Y[er][tr];Ne.push(He),rr.push(e.range(X)),qe+=He}for(le&&$e.sort(function(qr,Tr){return le(Ne[qr],Ne[Tr])}),oe&&rr.forEach(function(qr,Tr){qr.sort(function(Pr,lt){return oe(Y[Tr][Pr],Y[Tr][lt])})}),qe=(ar-J*X)/qe,He=0,er=-1;++er<X;){for(Xe=He,tr=-1;++tr<X;){var Ke=$e[er],or=rr[Ke][tr],dr=Y[Ke][or],mr=He,pr=He+=dr*qe;Ie[Ke+"-"+or]={index:Ke,subindex:or,startAngle:mr,endAngle:pr,value:dr}}B[Ke]={index:Ke,startAngle:Xe,endAngle:He,value:Ne[Ke]},He+=J}for(er=-1;++er<X;)for(tr=er-1;++tr<X;){var br=Ie[er+"-"+tr],_r=Ie[tr+"-"+er];(br.value||_r.value)&&z.push(br.value<_r.value?{source:_r,target:br}:{source:br,target:_r})}fe&&_e()}function _e(){z.sort(function(Ie,Ne){return fe((Ie.source.value+Ie.target.value)/2,(Ne.source.value+Ne.target.value)/2)})}return C.matrix=function(Ie){return arguments.length?(X=(Y=Ie)&&Y.length,z=B=null,C):Y},C.padding=function(Ie){return arguments.length?(J=Ie,z=B=null,C):J},C.sortGroups=function(Ie){return arguments.length?(le=Ie,z=B=null,C):le},C.sortSubgroups=function(Ie){return arguments.length?(oe=Ie,z=null,C):oe},C.sortChords=function(Ie){return arguments.length?(fe=Ie,z&&_e(),C):fe},C.chords=function(){return z||xe(),z},C.groups=function(){return B||xe(),B},C},e.layout.force=function(){var C={},z=e.dispatch("start","tick","end"),B,Y=[1,1],X,J,le=.9,oe=gB,fe=yB,xe=-30,_e=mB,Ie=.1,Ne=.64,$e=[],rr=[],qe,He,Xe;function er(Ke){return function(or,dr,mr,pr){if(or.point!==Ke){var br=or.cx-Ke.x,_r=or.cy-Ke.y,qr=pr-dr,Tr=br*br+_r*_r;if(qr*qr/Ne<Tr){if(Tr<_e){var Pr=or.charge/Tr;Ke.px-=br*Pr,Ke.py-=_r*Pr}return!0}if(or.point&&Tr&&Tr<_e){var Pr=or.pointCharge/Tr;Ke.px-=br*Pr,Ke.py-=_r*Pr}}return!or.charge}}C.tick=function(){if((J*=.99)<.005)return B=null,z.end({type:"end",alpha:J=0}),!0;var Ke=$e.length,or=rr.length,dr,mr,pr,br,_r,qr,Tr,Pr,lt;for(mr=0;mr<or;++mr)pr=rr[mr],br=pr.source,_r=pr.target,Pr=_r.x-br.x,lt=_r.y-br.y,(qr=Pr*Pr+lt*lt)&&(qr=J*He[mr]*((qr=Math.sqrt(qr))-qe[mr])/qr,Pr*=qr,lt*=qr,_r.x-=Pr*(Tr=br.weight+_r.weight?br.weight/(br.weight+_r.weight):.5),_r.y-=lt*Tr,br.x+=Pr*(Tr=1-Tr),br.y+=lt*Tr);if((Tr=J*Ie)&&(Pr=Y[0]/2,lt=Y[1]/2,mr=-1,Tr))for(;++mr<Ke;)pr=$e[mr],pr.x+=(Pr-pr.x)*Tr,pr.y+=(lt-pr.y)*Tr;if(xe)for(qx(dr=e.geom.quadtree($e),J,Xe),mr=-1;++mr<Ke;)(pr=$e[mr]).fixed||dr.visit(er(pr));for(mr=-1;++mr<Ke;)pr=$e[mr],pr.fixed?(pr.x=pr.px,pr.y=pr.py):(pr.x-=(pr.px-(pr.px=pr.x))*le,pr.y-=(pr.py-(pr.py=pr.y))*le);z.tick({type:"tick",alpha:J})},C.nodes=function(Ke){return arguments.length?($e=Ke,C):$e},C.links=function(Ke){return arguments.length?(rr=Ke,C):rr},C.size=function(Ke){return arguments.length?(Y=Ke,C):Y},C.linkDistance=function(Ke){return arguments.length?(oe=typeof Ke=="function"?Ke:+Ke,C):oe},C.distance=C.linkDistance,C.linkStrength=function(Ke){return arguments.length?(fe=typeof Ke=="function"?Ke:+Ke,C):fe},C.friction=function(Ke){return arguments.length?(le=+Ke,C):le},C.charge=function(Ke){return arguments.length?(xe=typeof Ke=="function"?Ke:+Ke,C):xe},C.chargeDistance=function(Ke){return arguments.length?(_e=Ke*Ke,C):Math.sqrt(_e)},C.gravity=function(Ke){return arguments.length?(Ie=+Ke,C):Ie},C.theta=function(Ke){return arguments.length?(Ne=Ke*Ke,C):Math.sqrt(Ne)},C.alpha=function(Ke){return arguments.length?(Ke=+Ke,J?Ke>0?J=Ke:(B.c=null,B.t=NaN,B=null,z.end({type:"end",alpha:J=0})):Ke>0&&(z.start({type:"start",alpha:J=Ke}),B=bc(C.tick)),C):J},C.start=function(){var Ke,or=$e.length,dr=rr.length,mr=Y[0],pr=Y[1],br,_r;for(Ke=0;Ke<or;++Ke)(_r=$e[Ke]).index=Ke,_r.weight=0;for(Ke=0;Ke<dr;++Ke)_r=rr[Ke],typeof _r.source=="number"&&(_r.source=$e[_r.source]),typeof _r.target=="number"&&(_r.target=$e[_r.target]),++_r.source.weight,++_r.target.weight;for(Ke=0;Ke<or;++Ke)_r=$e[Ke],isNaN(_r.x)&&(_r.x=qr("x",mr)),isNaN(_r.y)&&(_r.y=qr("y",pr)),isNaN(_r.px)&&(_r.px=_r.x),isNaN(_r.py)&&(_r.py=_r.y);if(qe=[],typeof oe=="function")for(Ke=0;Ke<dr;++Ke)qe[Ke]=+oe.call(this,rr[Ke],Ke);else for(Ke=0;Ke<dr;++Ke)qe[Ke]=oe;if(He=[],typeof fe=="function")for(Ke=0;Ke<dr;++Ke)He[Ke]=+fe.call(this,rr[Ke],Ke);else for(Ke=0;Ke<dr;++Ke)He[Ke]=fe;if(Xe=[],typeof xe=="function")for(Ke=0;Ke<or;++Ke)Xe[Ke]=+xe.call(this,$e[Ke],Ke);else for(Ke=0;Ke<or;++Ke)Xe[Ke]=xe;function qr(Tr,Pr){if(!br){for(br=new Array(or),dt=0;dt<or;++dt)br[dt]=[];for(dt=0;dt<dr;++dt){var lt=rr[dt];br[lt.source.index].push(lt.target),br[lt.target.index].push(lt.source)}}for(var Ut=br[Ke],dt=-1,vr=Ut.length,Br;++dt<vr;)if(!isNaN(Br=Ut[dt][Tr]))return Br;return Math.random()*Pr}return C.resume()},C.resume=function(){return C.alpha(.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){if(X||(X=e.behavior.drag().origin(N).on("dragstart.force",vB).on("drag.force",tr).on("dragend.force",hB)),!arguments.length)return X;this.on("mouseover.force",dB).on("mouseout.force",pB).call(X)};function tr(Ke){Ke.px=e.event.x,Ke.py=e.event.y,C.resume()}return e.rebind(C,z,"on")};function vB(C){C.fixed|=2}function hB(C){C.fixed&=-7}function dB(C){C.fixed|=4,C.px=C.x,C.py=C.y}function pB(C){C.fixed&=-5}function qx(C,z,B){var Y=0,X=0;if(C.charge=0,!C.leaf)for(var J=C.nodes,le=J.length,oe=-1,fe;++oe<le;)fe=J[oe],fe!=null&&(qx(fe,z,B),C.charge+=fe.charge,Y+=fe.charge*fe.cx,X+=fe.charge*fe.cy);if(C.point){C.leaf||(C.point.x+=Math.random()-.5,C.point.y+=Math.random()-.5);var xe=z*B[C.point.index];C.charge+=C.pointCharge=xe,Y+=xe*C.point.x,X+=xe*C.point.y}C.cx=Y/C.charge,C.cy=X/C.charge}var gB=20,yB=1,mB=1/0;e.layout.hierarchy=function(){var C=_B,z=xB,B=bB;function Y(X){var J=[X],le=[],oe;for(X.depth=0;(oe=J.pop())!=null;)if(le.push(oe),(xe=z.call(Y,oe,oe.depth))&&(fe=xe.length)){for(var fe,xe,_e;--fe>=0;)J.push(_e=xe[fe]),_e.parent=oe,_e.depth=oe.depth+1;B&&(oe.value=0),oe.children=xe}else B&&(oe.value=+B.call(Y,oe,oe.depth)||0),delete oe.children;return Ai(X,function(Ie){var Ne,$e;C&&(Ne=Ie.children)&&Ne.sort(C),B&&($e=Ie.parent)&&($e.value+=Ie.value)}),le}return Y.sort=function(X){return arguments.length?(C=X,Y):C},Y.children=function(X){return arguments.length?(z=X,Y):z},Y.value=function(X){return arguments.length?(B=X,Y):B},Y.revalue=function(X){return B&&(yf(X,function(J){J.children&&(J.value=0)}),Ai(X,function(J){var le;J.children||(J.value=+B.call(Y,J,J.depth)||0),(le=J.parent)&&(le.value+=J.value)})),X},Y};function gf(C,z){return e.rebind(C,z,"sort","children","value"),C.nodes=C,C.links=wB,C}function yf(C,z){for(var B=[C];(C=B.pop())!=null;)if(z(C),(X=C.children)&&(Y=X.length))for(var Y,X;--Y>=0;)B.push(X[Y])}function Ai(C,z){for(var B=[C],Y=[];(C=B.pop())!=null;)if(Y.push(C),(le=C.children)&&(J=le.length))for(var X=-1,J,le;++X<J;)B.push(le[X]);for(;(C=Y.pop())!=null;)z(C)}function xB(C){return C.children}function bB(C){return C.value}function _B(C,z){return z.value-C.value}function wB(C){return e.merge(C.map(function(z){return(z.children||[]).map(function(B){return{source:z,target:B}})}))}e.layout.partition=function(){var C=e.layout.hierarchy(),z=[1,1];function B(J,le,oe,fe){var xe=J.children;if(J.x=le,J.y=J.depth*fe,J.dx=oe,J.dy=fe,xe&&(Ie=xe.length)){var _e=-1,Ie,Ne,$e;for(oe=J.value?oe/J.value:0;++_e<Ie;)B(Ne=xe[_e],le,$e=Ne.value*oe,fe),le+=$e}}function Y(J){var le=J.children,oe=0;if(le&&(xe=le.length))for(var fe=-1,xe;++fe<xe;)oe=Math.max(oe,Y(le[fe]));return 1+oe}function X(J,le){var oe=C.call(this,J,le);return B(oe[0],0,z[0],z[1]/Y(oe[0])),oe}return X.size=function(J){return arguments.length?(z=J,X):z},gf(X,C)},e.layout.pie=function(){var C=Number,z=Bx,B=0,Y=ar,X=0;function J(le){var oe=le.length,fe=le.map(function(er,tr){return+C.call(J,er,tr)}),xe=+(typeof B=="function"?B.apply(this,arguments):B),_e=(typeof Y=="function"?Y.apply(this,arguments):Y)-xe,Ie=Math.min(Math.abs(_e)/oe,+(typeof X=="function"?X.apply(this,arguments):X)),Ne=Ie*(_e<0?-1:1),$e=e.sum(fe),rr=$e?(_e-oe*Ne)/$e:0,qe=e.range(oe),He=[],Xe;return z!=null&&qe.sort(z===Bx?function(er,tr){return fe[tr]-fe[er]}:function(er,tr){return z(le[er],le[tr])}),qe.forEach(function(er){He[er]={data:le[er],value:Xe=fe[er],startAngle:xe,endAngle:xe+=Xe*rr+Ne,padAngle:Ie}}),He}return J.value=function(le){return arguments.length?(C=le,J):C},J.sort=function(le){return arguments.length?(z=le,J):z},J.startAngle=function(le){return arguments.length?(B=le,J):B},J.endAngle=function(le){return arguments.length?(Y=le,J):Y},J.padAngle=function(le){return arguments.length?(X=le,J):X},J};var Bx={};e.layout.stack=function(){var C=N,z=sp,B=up,Y=AB,X=TB,J=MB;function le(oe,fe){if(!(rr=oe.length))return oe;var xe=oe.map(function(er,tr){return C.call(le,er,tr)}),_e=xe.map(function(er){return er.map(function(tr,Ke){return[X.call(le,tr,Ke),J.call(le,tr,Ke)]})}),Ie=z.call(le,_e,fe);xe=e.permute(xe,Ie),_e=e.permute(_e,Ie);var Ne=B.call(le,_e,fe),$e=xe[0].length,rr,qe,He,Xe;for(He=0;He<$e;++He)for(Y.call(le,xe[0][He],Xe=Ne[He],_e[0][He][1]),qe=1;qe<rr;++qe)Y.call(le,xe[qe][He],Xe+=_e[qe-1][He][1],_e[qe][He][1]);return oe}return le.values=function(oe){return arguments.length?(C=oe,le):C},le.order=function(oe){return arguments.length?(z=typeof oe=="function"?oe:kB.get(oe)||sp,le):z},le.offset=function(oe){return arguments.length?(B=typeof oe=="function"?oe:SB.get(oe)||up,le):B},le.x=function(oe){return arguments.length?(X=oe,le):X},le.y=function(oe){return arguments.length?(J=oe,le):J},le.out=function(oe){return arguments.length?(Y=oe,le):Y},le};function TB(C){return C.x}function MB(C){return C.y}function AB(C,z,B){C.y0=z,C.y=B}var kB=e.map({"inside-out":function(C){var z=C.length,B,Y,X=C.map(CB),J=C.map(EB),le=e.range(z).sort(function(Ie,Ne){return X[Ie]-X[Ne]}),oe=0,fe=0,xe=[],_e=[];for(B=0;B<z;++B)Y=le[B],oe<fe?(oe+=J[Y],xe.push(Y)):(fe+=J[Y],_e.push(Y));return _e.reverse().concat(xe)},reverse:function(C){return e.range(C.length).reverse()},default:sp}),SB=e.map({silhouette:function(C){var z=C.length,B=C[0].length,Y=[],X=0,J,le,oe,fe=[];for(le=0;le<B;++le){for(J=0,oe=0;J<z;J++)oe+=C[J][le][1];oe>X&&(X=oe),Y.push(oe)}for(le=0;le<B;++le)fe[le]=(X-Y[le])/2;return fe},wiggle:function(C){var z=C.length,B=C[0],Y=B.length,X,J,le,oe,fe,xe,_e,Ie,Ne,$e=[];for($e[0]=Ie=Ne=0,J=1;J<Y;++J){for(X=0,oe=0;X<z;++X)oe+=C[X][J][1];for(X=0,fe=0,_e=B[J][0]-B[J-1][0];X<z;++X){for(le=0,xe=(C[X][J][1]-C[X][J-1][1])/(2*_e);le<X;++le)xe+=(C[le][J][1]-C[le][J-1][1])/_e;fe+=xe*C[X][J][1]}$e[J]=Ie-=oe?fe/oe*_e:0,Ie<Ne&&(Ne=Ie)}for(J=0;J<Y;++J)$e[J]-=Ne;return $e},expand:function(C){var z=C.length,B=C[0].length,Y=1/z,X,J,le,oe=[];for(J=0;J<B;++J){for(X=0,le=0;X<z;X++)le+=C[X][J][1];if(le)for(X=0;X<z;X++)C[X][J][1]/=le;else for(X=0;X<z;X++)C[X][J][1]=Y}for(J=0;J<B;++J)oe[J]=0;return oe},zero:up});function sp(C){return e.range(C.length)}function up(C){for(var z=-1,B=C[0].length,Y=[];++z<B;)Y[z]=0;return Y}function CB(C){for(var z=1,B=0,Y=C[0][1],X,J=C.length;z<J;++z)(X=C[z][1])>Y&&(B=z,Y=X);return B}function EB(C){return C.reduce(LB,0)}function LB(C,z){return C+z[1]}e.layout.histogram=function(){var C=!0,z=Number,B=DB,Y=RB;function X(J,Ne){for(var oe=[],fe=J.map(z,this),xe=B.call(this,fe,Ne),_e=Y.call(this,xe,fe,Ne),Ie,Ne=-1,$e=fe.length,rr=_e.length-1,qe=C?1:1/$e,He;++Ne<rr;)Ie=oe[Ne]=[],Ie.dx=_e[Ne+1]-(Ie.x=_e[Ne]),Ie.y=0;if(rr>0)for(Ne=-1;++Ne<$e;)He=fe[Ne],He>=xe[0]&&He<=xe[1]&&(Ie=oe[e.bisect(_e,He,1,rr)-1],Ie.y+=qe,Ie.push(J[Ne]));return oe}return X.value=function(J){return arguments.length?(z=J,X):z},X.range=function(J){return arguments.length?(B=Jr(J),X):B},X.bins=function(J){return arguments.length?(Y=typeof J=="number"?function(le){return Ux(le,J)}:Jr(J),X):Y},X.frequency=function(J){return arguments.length?(C=!!J,X):C},X};function RB(C,z){return Ux(C,Math.ceil(Math.log(z.length)/Math.LN2+1))}function Ux(C,z){for(var B=-1,Y=+C[0],X=(C[1]-Y)/z,J=[];++B<=z;)J[B]=X*B+Y;return J}function DB(C){return[e.min(C),e.max(C)]}e.layout.pack=function(){var C=e.layout.hierarchy().sort(PB),z=0,B=[1,1],Y;function X(J,le){var oe=C.call(this,J,le),fe=oe[0],xe=B[0],_e=B[1],Ie=Y==null?Math.sqrt:typeof Y=="function"?Y:function(){return Y};if(fe.x=fe.y=0,Ai(fe,function($e){$e.r=+Ie($e.value)}),Ai(fe,Gx),z){var Ne=z*(Y?1:Math.max(2*fe.r/xe,2*fe.r/_e))/2;Ai(fe,function($e){$e.r+=Ne}),Ai(fe,Gx),Ai(fe,function($e){$e.r-=Ne})}return Yx(fe,xe/2,_e/2,Y?1:1/Math.max(2*fe.r/xe,2*fe.r/_e)),oe}return X.size=function(J){return arguments.length?(B=J,X):B},X.radius=function(J){return arguments.length?(Y=J==null||typeof J=="function"?J:+J,X):Y},X.padding=function(J){return arguments.length?(z=+J,X):z},gf(X,C)};function PB(C,z){return C.value-z.value}function fp(C,z){var B=C._pack_next;C._pack_next=z,z._pack_prev=C,z._pack_next=B,B._pack_prev=z}function Hx(C,z){C._pack_next=z,z._pack_prev=C}function Vx(C,z){var B=z.x-C.x,Y=z.y-C.y,X=C.r+z.r;return .999*X*X>B*B+Y*Y}function Gx(C){if(!(z=C.children)||!(Ne=z.length))return;var z,B=1/0,Y=-1/0,X=1/0,J=-1/0,le,oe,fe,xe,_e,Ie,Ne;function $e(Ke){B=Math.min(Ke.x-Ke.r,B),Y=Math.max(Ke.x+Ke.r,Y),X=Math.min(Ke.y-Ke.r,X),J=Math.max(Ke.y+Ke.r,J)}if(z.forEach(FB),le=z[0],le.x=-le.r,le.y=0,$e(le),Ne>1&&(oe=z[1],oe.x=oe.r,oe.y=0,$e(oe),Ne>2))for(fe=z[2],Wx(le,oe,fe),$e(fe),fp(le,fe),le._pack_prev=fe,fp(fe,oe),oe=le._pack_next,xe=3;xe<Ne;xe++){Wx(le,oe,fe=z[xe]);var rr=0,qe=1,He=1;for(_e=oe._pack_next;_e!==oe;_e=_e._pack_next,qe++)if(Vx(_e,fe)){rr=1;break}if(rr==1)for(Ie=le._pack_prev;Ie!==_e._pack_prev&&!Vx(Ie,fe);Ie=Ie._pack_prev,He++);rr?(qe<He||qe==He&&oe.r<le.r?Hx(le,oe=_e):Hx(le=Ie,oe),xe--):(fp(le,fe),oe=fe,$e(fe))}var Xe=(B+Y)/2,er=(X+J)/2,tr=0;for(xe=0;xe<Ne;xe++)fe=z[xe],fe.x-=Xe,fe.y-=er,tr=Math.max(tr,fe.r+Math.sqrt(fe.x*fe.x+fe.y*fe.y));C.r=tr,z.forEach(IB)}function FB(C){C._pack_next=C._pack_prev=C}function IB(C){delete C._pack_next,delete C._pack_prev}function Yx(C,z,B,Y){var X=C.children;if(C.x=z+=Y*C.x,C.y=B+=Y*C.y,C.r*=Y,X)for(var J=-1,le=X.length;++J<le;)Yx(X[J],z,B,Y)}function Wx(C,z,B){var Y=C.r+B.r,X=z.x-C.x,J=z.y-C.y;if(Y&&(X||J)){var le=z.r+B.r,oe=X*X+J*J;le*=le,Y*=Y;var fe=.5+(Y-le)/(2*oe),xe=Math.sqrt(Math.max(0,2*le*(Y+oe)-(Y-=oe)*Y-le*le))/(2*oe);B.x=C.x+fe*X+xe*J,B.y=C.y+fe*J-xe*X}else B.x=C.x+Y,B.y=C.y}e.layout.tree=function(){var C=e.layout.hierarchy().sort(null).value(null),z=Xx,B=[1,1],Y=null;function X(_e,Ie){var Ne=C.call(this,_e,Ie),$e=Ne[0],rr=J($e);if(Ai(rr,le),rr.parent.m=-rr.z,yf(rr,oe),Y)yf($e,xe);else{var qe=$e,He=$e,Xe=$e;yf($e,function(or){or.x<qe.x&&(qe=or),or.x>He.x&&(He=or),or.depth>Xe.depth&&(Xe=or)});var er=z(qe,He)/2-qe.x,tr=B[0]/(He.x+z(He,qe)/2+er),Ke=B[1]/(Xe.depth||1);yf($e,function(or){or.x=(or.x+er)*tr,or.y=or.depth*Ke})}return Ne}function J(_e){for(var Ie={A:null,children:[_e]},Ne=[Ie],$e;($e=Ne.pop())!=null;)for(var rr=$e.children,qe,He=0,Xe=rr.length;He<Xe;++He)Ne.push((rr[He]=qe={_:rr[He],parent:$e,children:(qe=rr[He].children)&&qe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:He}).a=qe);return Ie.children[0]}function le(_e){var Ie=_e.children,Ne=_e.parent.children,$e=_e.i?Ne[_e.i-1]:null;if(Ie.length){zB(_e);var rr=(Ie[0].z+Ie[Ie.length-1].z)/2;$e?(_e.z=$e.z+z(_e._,$e._),_e.m=_e.z-rr):_e.z=rr}else $e&&(_e.z=$e.z+z(_e._,$e._));_e.parent.A=fe(_e,$e,_e.parent.A||Ne[0])}function oe(_e){_e._.x=_e.z+_e.parent.m,_e.m+=_e.parent.m}function fe(_e,Ie,Ne){if(Ie){for(var $e=_e,rr=_e,qe=Ie,He=$e.parent.children[0],Xe=$e.m,er=rr.m,tr=qe.m,Ke=He.m,or;qe=vp(qe),$e=cp($e),qe&&$e;)He=cp(He),rr=vp(rr),rr.a=_e,or=qe.z+tr-$e.z-Xe+z(qe._,$e._),or>0&&(NB(OB(qe,_e,Ne),_e,or),Xe+=or,er+=or),tr+=qe.m,Xe+=$e.m,Ke+=He.m,er+=rr.m;qe&&!vp(rr)&&(rr.t=qe,rr.m+=tr-er),$e&&!cp(He)&&(He.t=$e,He.m+=Xe-Ke,Ne=_e)}return Ne}function xe(_e){_e.x*=B[0],_e.y=_e.depth*B[1]}return X.separation=function(_e){return arguments.length?(z=_e,X):z},X.size=function(_e){return arguments.length?(Y=(B=_e)==null?xe:null,X):Y?null:B},X.nodeSize=function(_e){return arguments.length?(Y=(B=_e)==null?null:xe,X):Y?B:null},gf(X,C)};function Xx(C,z){return C.parent==z.parent?1:2}function cp(C){var z=C.children;return z.length?z[0]:C.t}function vp(C){var z=C.children,B;return(B=z.length)?z[B-1]:C.t}function NB(C,z,B){var Y=B/(z.i-C.i);z.c-=Y,z.s+=B,C.c+=Y,z.z+=B,z.m+=B}function zB(C){for(var z=0,B=0,Y=C.children,X=Y.length,J;--X>=0;)J=Y[X],J.z+=z,J.m+=z,z+=J.s+(B+=J.c)}function OB(C,z,B){return C.a.parent===z.parent?C.a:B}e.layout.cluster=function(){var C=e.layout.hierarchy().sort(null).value(null),z=Xx,B=[1,1],Y=!1;function X(J,le){var oe=C.call(this,J,le),fe=oe[0],xe,_e=0;Ai(fe,function(qe){var He=qe.children;He&&He.length?(qe.x=BB(He),qe.y=qB(He)):(qe.x=xe?_e+=z(qe,xe):0,qe.y=0,xe=qe)});var Ie=Zx(fe),Ne=Jx(fe),$e=Ie.x-z(Ie,Ne)/2,rr=Ne.x+z(Ne,Ie)/2;return Ai(fe,Y?function(qe){qe.x=(qe.x-fe.x)*B[0],qe.y=(fe.y-qe.y)*B[1]}:function(qe){qe.x=(qe.x-$e)/(rr-$e)*B[0],qe.y=(1-(fe.y?qe.y/fe.y:1))*B[1]}),oe}return X.separation=function(J){return arguments.length?(z=J,X):z},X.size=function(J){return arguments.length?(Y=(B=J)==null,X):Y?null:B},X.nodeSize=function(J){return arguments.length?(Y=(B=J)!=null,X):Y?B:null},gf(X,C)};function qB(C){return 1+e.max(C,function(z){return z.y})}function BB(C){return C.reduce(function(z,B){return z+B.x},0)/C.length}function Zx(C){var z=C.children;return z&&z.length?Zx(z[0]):C}function Jx(C){var z=C.children,B;return z&&(B=z.length)?Jx(z[B-1]):C}e.layout.treemap=function(){var C=e.layout.hierarchy(),z=Math.round,B=[1,1],Y=null,X=hp,J=!1,le,oe="squarify",fe=.5*(1+Math.sqrt(5));function xe(qe,He){for(var Xe=-1,er=qe.length,tr,Ke;++Xe<er;)Ke=(tr=qe[Xe]).value*(He<0?0:He),tr.area=isNaN(Ke)||Ke<=0?0:Ke}function _e(qe){var He=qe.children;if(He&&He.length){var Xe=X(qe),er=[],tr=He.slice(),Ke,or=1/0,dr,mr=oe==="slice"?Xe.dx:oe==="dice"?Xe.dy:oe==="slice-dice"?qe.depth&1?Xe.dy:Xe.dx:Math.min(Xe.dx,Xe.dy),pr;for(xe(tr,Xe.dx*Xe.dy/qe.value),er.area=0;(pr=tr.length)>0;)er.push(Ke=tr[pr-1]),er.area+=Ke.area,oe!=="squarify"||(dr=Ne(er,mr))<=or?(tr.pop(),or=dr):(er.area-=er.pop().area,$e(er,mr,Xe,!1),mr=Math.min(Xe.dx,Xe.dy),er.length=er.area=0,or=1/0);er.length&&($e(er,mr,Xe,!0),er.length=er.area=0),He.forEach(_e)}}function Ie(qe){var He=qe.children;if(He&&He.length){var Xe=X(qe),er=He.slice(),tr,Ke=[];for(xe(er,Xe.dx*Xe.dy/qe.value),Ke.area=0;tr=er.pop();)Ke.push(tr),Ke.area+=tr.area,tr.z!=null&&($e(Ke,tr.z?Xe.dx:Xe.dy,Xe,!er.length),Ke.length=Ke.area=0);He.forEach(Ie)}}function Ne(qe,He){for(var Xe=qe.area,er,tr=0,Ke=1/0,or=-1,dr=qe.length;++or<dr;)(er=qe[or].area)&&(er<Ke&&(Ke=er),er>tr&&(tr=er));return Xe*=Xe,He*=He,Xe?Math.max(He*tr*fe/Xe,Xe/(He*Ke*fe)):1/0}function $e(qe,He,Xe,er){var tr=-1,Ke=qe.length,or=Xe.x,dr=Xe.y,mr=He?z(qe.area/He):0,pr;if(He==Xe.dx){for((er||mr>Xe.dy)&&(mr=Xe.dy);++tr<Ke;)pr=qe[tr],pr.x=or,pr.y=dr,pr.dy=mr,or+=pr.dx=Math.min(Xe.x+Xe.dx-or,mr?z(pr.area/mr):0);pr.z=!0,pr.dx+=Xe.x+Xe.dx-or,Xe.y+=mr,Xe.dy-=mr}else{for((er||mr>Xe.dx)&&(mr=Xe.dx);++tr<Ke;)pr=qe[tr],pr.x=or,pr.y=dr,pr.dx=mr,dr+=pr.dy=Math.min(Xe.y+Xe.dy-dr,mr?z(pr.area/mr):0);pr.z=!1,pr.dy+=Xe.y+Xe.dy-dr,Xe.x+=mr,Xe.dx-=mr}}function rr(qe){var He=le||C(qe),Xe=He[0];return Xe.x=Xe.y=0,Xe.value?(Xe.dx=B[0],Xe.dy=B[1]):Xe.dx=Xe.dy=0,le&&C.revalue(Xe),xe([Xe],Xe.dx*Xe.dy/Xe.value),(le?Ie:_e)(Xe),J&&(le=He),He}return rr.size=function(qe){return arguments.length?(B=qe,rr):B},rr.padding=function(qe){if(!arguments.length)return Y;function He(tr){var Ke=qe.call(rr,tr,tr.depth);return Ke==null?hp(tr):Kx(tr,typeof Ke=="number"?[Ke,Ke,Ke,Ke]:Ke)}function Xe(tr){return Kx(tr,qe)}var er;return X=(Y=qe)==null?hp:(er=typeof qe)=="function"?He:(er==="number"&&(qe=[qe,qe,qe,qe]),Xe),rr},rr.round=function(qe){return arguments.length?(z=qe?Math.round:Number,rr):z!=Number},rr.sticky=function(qe){return arguments.length?(J=qe,le=null,rr):J},rr.ratio=function(qe){return arguments.length?(fe=qe,rr):fe},rr.mode=function(qe){return arguments.length?(oe=qe+"",rr):oe},gf(rr,C)};function hp(C){return{x:C.x,y:C.y,dx:C.dx,dy:C.dy}}function Kx(C,z){var B=C.x+z[3],Y=C.y+z[0],X=C.dx-z[1]-z[3],J=C.dy-z[0]-z[2];return X<0&&(B+=X/2,X=0),J<0&&(Y+=J/2,J=0),{x:B,y:Y,dx:X,dy:J}}e.random={normal:function(C,z){var B=arguments.length;return B<2&&(z=1),B<1&&(C=0),function(){var Y,X,J;do Y=Math.random()*2-1,X=Math.random()*2-1,J=Y*Y+X*X;while(!J||J>1);return C+z*Y*Math.sqrt(-2*Math.log(J)/J)}},logNormal:function(){var C=e.random.normal.apply(e,arguments);return function(){return Math.exp(C())}},bates:function(C){var z=e.random.irwinHall(C);return function(){return z()/C}},irwinHall:function(C){return function(){for(var z=0,B=0;B<C;B++)z+=Math.random();return z}}},e.scale={};function Sc(C){var z=C[0],B=C[C.length-1];return z<B?[z,B]:[B,z]}function Cc(C){return C.rangeExtent?C.rangeExtent():Sc(C.range())}function UB(C,z,B,Y){var X=B(C[0],C[1]),J=Y(z[0],z[1]);return function(le){return J(X(le))}}function dp(C,z){var B=0,Y=C.length-1,X=C[B],J=C[Y],le;return J<X&&(le=B,B=Y,Y=le,le=X,X=J,J=le),C[B]=z.floor(X),C[Y]=z.ceil(J),C}function Qx(C){return C?{floor:function(z){return Math.floor(z/C)*C},ceil:function(z){return Math.ceil(z/C)*C}}:HB}var HB={floor:N,ceil:N};function VB(C,z,B,Y){var X=[],J=[],le=0,oe=Math.min(C.length,z.length)-1;for(C[oe]<C[0]&&(C=C.slice().reverse(),z=z.slice().reverse());++le<=oe;)X.push(B(C[le-1],C[le])),J.push(Y(z[le-1],z[le]));return function(fe){var xe=e.bisect(C,fe,1,oe)-1;return J[xe](X[xe](fe))}}e.scale.linear=function(){return $x([0,1],[0,1],kl,!1)};function $x(C,z,B,Y){var X,J;function le(){var fe=Math.min(C.length,z.length)>2?VB:UB,xe=Y?uB:sB;return X=fe(C,z,xe,B),J=fe(z,C,xe,kl),oe}function oe(fe){return X(fe)}return oe.invert=function(fe){return J(fe)},oe.domain=function(fe){return arguments.length?(C=fe.map(Number),le()):C},oe.range=function(fe){return arguments.length?(z=fe,le()):z},oe.rangeRound=function(fe){return oe.range(fe).interpolate(Px)},oe.clamp=function(fe){return arguments.length?(Y=fe,le()):Y},oe.interpolate=function(fe){return arguments.length?(B=fe,le()):B},oe.ticks=function(fe){return gp(C,fe)},oe.tickFormat=function(fe,xe){return d3_scale_linearTickFormat(C,fe,xe)},oe.nice=function(fe){return eb(C,fe),le()},oe.copy=function(){return $x(C,z,B,Y)},le()}function jx(C,z){return e.rebind(C,z,"range","rangeRound","interpolate","clamp")}function eb(C,z){return dp(C,Qx(pp(C,z)[2])),dp(C,Qx(pp(C,z)[2])),C}function pp(C,z){z==null&&(z=10);var B=Sc(C),Y=B[1]-B[0],X=Math.pow(10,Math.floor(Math.log(Y/z)/Math.LN10)),J=z/Y*X;return J<=.15?X*=10:J<=.35?X*=5:J<=.75&&(X*=2),B[0]=Math.ceil(B[0]/X)*X,B[1]=Math.floor(B[1]/X)*X+X*.5,B[2]=X,B}function gp(C,z){return e.range.apply(e,pp(C,z))}var GB={s:1,g:1,p:1,r:1,e:1};function rb(C){return-Math.floor(Math.log(C)/Math.LN10+.01)}function Kfe(C,z){var B=rb(z[2]);return C in GB?Math.abs(B-rb(Math.max(m(z[0]),m(z[1]))))+ +(C!=="e"):B-(C==="%")*2}e.scale.log=function(){return tb(e.scale.linear().domain([0,1]),10,!0,[1,10])};function tb(C,z,B,Y){function X(oe){return(B?Math.log(oe<0?0:oe):-Math.log(oe>0?0:-oe))/Math.log(z)}function J(oe){return B?Math.pow(z,oe):-Math.pow(z,-oe)}function le(oe){return C(X(oe))}return le.invert=function(oe){return J(C.invert(oe))},le.domain=function(oe){return arguments.length?(B=oe[0]>=0,C.domain((Y=oe.map(Number)).map(X)),le):Y},le.base=function(oe){return arguments.length?(z=+oe,C.domain(Y.map(X)),le):z},le.nice=function(){var oe=dp(Y.map(X),B?Math:YB);return C.domain(oe),Y=oe.map(J),le},le.ticks=function(){var oe=Sc(Y),fe=[],xe=oe[0],_e=oe[1],Ie=Math.floor(X(xe)),Ne=Math.ceil(X(_e)),$e=z%1?2:z;if(isFinite(Ne-Ie)){if(B){for(;Ie<Ne;Ie++)for(var rr=1;rr<$e;rr++)fe.push(J(Ie)*rr);fe.push(J(Ie))}else for(fe.push(J(Ie));Ie++<Ne;)for(var rr=$e-1;rr>0;rr--)fe.push(J(Ie)*rr);for(Ie=0;fe[Ie]<xe;Ie++);for(Ne=fe.length;fe[Ne-1]>_e;Ne--);fe=fe.slice(Ie,Ne)}return fe},le.copy=function(){return tb(C.copy(),z,B,Y)},jx(le,C)}var YB={floor:function(C){return-Math.ceil(-C)},ceil:function(C){return-Math.floor(-C)}};e.scale.pow=function(){return nb(e.scale.linear(),1,[0,1])};function nb(C,z,B){var Y=Ec(z),X=Ec(1/z);function J(le){return C(Y(le))}return J.invert=function(le){return X(C.invert(le))},J.domain=function(le){return arguments.length?(C.domain((B=le.map(Number)).map(Y)),J):B},J.ticks=function(le){return gp(B,le)},J.tickFormat=function(le,oe){return d3_scale_linearTickFormat(B,le,oe)},J.nice=function(le){return J.domain(eb(B,le))},J.exponent=function(le){return arguments.length?(Y=Ec(z=le),X=Ec(1/z),C.domain(B.map(Y)),J):z},J.copy=function(){return nb(C.copy(),z,B)},jx(J,C)}function Ec(C){return function(z){return z<0?-Math.pow(-z,C):Math.pow(z,C)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return ab([],{t:"range",a:[[]]})};function ab(C,z){var B,Y,X;function J(oe){return Y[((B.get(oe)||(z.t==="range"?B.set(oe,C.push(oe)):NaN))-1)%Y.length]}function le(oe,fe){return e.range(C.length).map(function(xe){return oe+fe*xe})}return J.domain=function(oe){if(!arguments.length)return C;C=[],B=new y;for(var fe=-1,xe=oe.length,_e;++fe<xe;)B.has(_e=oe[fe])||B.set(_e,C.push(_e));return J[z.t].apply(J,z.a)},J.range=function(oe){return arguments.length?(Y=oe,X=0,z={t:"range",a:arguments},J):Y},J.rangePoints=function(oe,fe){arguments.length<2&&(fe=0);var xe=oe[0],_e=oe[1],Ie=C.length<2?(xe=(xe+_e)/2,0):(_e-xe)/(C.length-1+fe);return Y=le(xe+Ie*fe/2,Ie),X=0,z={t:"rangePoints",a:arguments},J},J.rangeRoundPoints=function(oe,fe){arguments.length<2&&(fe=0);var xe=oe[0],_e=oe[1],Ie=C.length<2?(xe=_e=Math.round((xe+_e)/2),0):(_e-xe)/(C.length-1+fe)|0;return Y=le(xe+Math.round(Ie*fe/2+(_e-xe-(C.length-1+fe)*Ie)/2),Ie),X=0,z={t:"rangeRoundPoints",a:arguments},J},J.rangeBands=function(oe,fe,xe){arguments.length<2&&(fe=0),arguments.length<3&&(xe=fe);var _e=oe[1]<oe[0],Ie=oe[_e-0],Ne=oe[1-_e],$e=(Ne-Ie)/(C.length-fe+2*xe);return Y=le(Ie+$e*xe,$e),_e&&Y.reverse(),X=$e*(1-fe),z={t:"rangeBands",a:arguments},J},J.rangeRoundBands=function(oe,fe,xe){arguments.length<2&&(fe=0),arguments.length<3&&(xe=fe);var _e=oe[1]<oe[0],Ie=oe[_e-0],Ne=oe[1-_e],$e=Math.floor((Ne-Ie)/(C.length-fe+2*xe));return Y=le(Ie+Math.round((Ne-Ie-(C.length-fe)*$e)/2),$e),_e&&Y.reverse(),X=Math.round($e*(1-fe)),z={t:"rangeRoundBands",a:arguments},J},J.rangeBand=function(){return X},J.rangeExtent=function(){return Sc(z.a[0])},J.copy=function(){return ab(C,z)},J.domain(C)}e.scale.category10=function(){return e.scale.ordinal().range(WB)},e.scale.category20=function(){return e.scale.ordinal().range(XB)},e.scale.category20b=function(){return e.scale.ordinal().range(ZB)},e.scale.category20c=function(){return e.scale.ordinal().range(JB)};var WB=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ti),XB=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ti),ZB=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ti),JB=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ti);e.scale.quantile=function(){return ib([],[])};function ib(C,z){var B;function Y(){var J=0,le=z.length;for(B=[];++J<le;)B[J-1]=e.quantile(C,J/le);return X}function X(J){if(!isNaN(J=+J))return z[e.bisect(B,J)]}return X.domain=function(J){return arguments.length?(C=J.map(g).filter(b).sort(v),Y()):C},X.range=function(J){return arguments.length?(z=J,Y()):z},X.quantiles=function(){return B},X.invertExtent=function(J){return J=z.indexOf(J),J<0?[NaN,NaN]:[J>0?B[J-1]:C[0],J<B.length?B[J]:C[C.length-1]]},X.copy=function(){return ib(C,z)},Y()}e.scale.quantize=function(){return ob(0,1,[0,1])};function ob(C,z,B){var Y,X;function J(oe){return B[Math.max(0,Math.min(X,Math.floor(Y*(oe-C))))]}function le(){return Y=B.length/(z-C),X=B.length-1,J}return J.domain=function(oe){return arguments.length?(C=+oe[0],z=+oe[oe.length-1],le()):[C,z]},J.range=function(oe){return arguments.length?(B=oe,le()):B},J.invertExtent=function(oe){return oe=B.indexOf(oe),oe=oe<0?NaN:oe/Y+C,[oe,oe+1/Y]},J.copy=function(){return ob(C,z,B)},le()}e.scale.threshold=function(){return lb([.5],[0,1])};function lb(C,z){function B(Y){if(Y<=Y)return z[e.bisect(C,Y)]}return B.domain=function(Y){return arguments.length?(C=Y,B):C},B.range=function(Y){return arguments.length?(z=Y,B):z},B.invertExtent=function(Y){return Y=z.indexOf(Y),[C[Y-1],C[Y]]},B.copy=function(){return lb(C,z)},B}e.scale.identity=function(){return sb([0,1])};function sb(C){function z(B){return+B}return z.invert=z,z.domain=z.range=function(B){return arguments.length?(C=B.map(z),z):C},z.ticks=function(B){return gp(C,B)},z.tickFormat=function(B,Y){return d3_scale_linearTickFormat(C,B,Y)},z.copy=function(){return sb(C)},z}e.svg={};function KB(){return 0}e.svg.arc=function(){var C=QB,z=$B,B=KB,Y=Lc,X=ub,J=fb,le=jB;function oe(){var xe=Math.max(0,+C.apply(this,arguments)),_e=Math.max(0,+z.apply(this,arguments)),Ie=X.apply(this,arguments)-K,Ne=J.apply(this,arguments)-K,$e=Math.abs(Ne-Ie),rr=Ie>Ne?0:1;if(_e<xe&&(qe=_e,_e=xe,xe=qe),$e>=ue)return fe(_e,rr)+(xe?fe(xe,1-rr):"")+"Z";var qe,He,Xe,er,tr=0,Ke=0,or,dr,mr,pr,br,_r,qr,Tr,Pr=[];if((er=(+le.apply(this,arguments)||0)/2)&&(Xe=Y===Lc?Math.sqrt(xe*xe+_e*_e):+Y.apply(this,arguments),rr||(Ke*=-1),_e&&(Ke=hr(Xe/_e*Math.sin(er))),xe&&(tr=hr(Xe/xe*Math.sin(er)))),_e){or=_e*Math.cos(Ie+Ke),dr=_e*Math.sin(Ie+Ke),mr=_e*Math.cos(Ne-Ke),pr=_e*Math.sin(Ne-Ke);var lt=Math.abs(Ne-Ie-2*Ke)<=Ve?0:1;if(Ke&&Rc(or,dr,mr,pr)===rr^lt){var Ut=(Ie+Ne)/2;or=_e*Math.cos(Ut),dr=_e*Math.sin(Ut),mr=pr=null}}else or=dr=0;if(xe){br=xe*Math.cos(Ne-tr),_r=xe*Math.sin(Ne-tr),qr=xe*Math.cos(Ie+tr),Tr=xe*Math.sin(Ie+tr);var dt=Math.abs(Ie-Ne+2*tr)<=Ve?0:1;if(tr&&Rc(br,_r,qr,Tr)===1-rr^dt){var vr=(Ie+Ne)/2;br=xe*Math.cos(vr),_r=xe*Math.sin(vr),qr=Tr=null}}else br=_r=0;if($e>Pe&&(qe=Math.min(Math.abs(_e-xe)/2,+B.apply(this,arguments)))>.001){He=xe<_e^rr?0:1;var Br=qe,Gr=qe;if($e<Ve){var st=qr==null?[br,_r]:mr==null?[or,dr]:ep([or,dr],[qr,Tr],[mr,pr],[br,_r]),Pt=or-st[0],tn=dr-st[1],_n=mr-st[0],zn=pr-st[1],Wn=1/Math.sin(Math.acos((Pt*_n+tn*zn)/(Math.sqrt(Pt*Pt+tn*tn)*Math.sqrt(_n*_n+zn*zn)))/2),On=Math.sqrt(st[0]*st[0]+st[1]*st[1]);Gr=Math.min(qe,(xe-On)/(Wn-1)),Br=Math.min(qe,(_e-On)/(Wn+1))}if(mr!=null){var na=Dc(qr==null?[br,_r]:[qr,Tr],[or,dr],_e,Br,rr),kn=Dc([mr,pr],[br,_r],_e,Br,rr);qe===Br?Pr.push("M",na[0],"A",Br,",",Br," 0 0,",He," ",na[1],"A",_e,",",_e," 0 ",1-rr^Rc(na[1][0],na[1][1],kn[1][0],kn[1][1]),",",rr," ",kn[1],"A",Br,",",Br," 0 0,",He," ",kn[0]):Pr.push("M",na[0],"A",Br,",",Br," 0 1,",He," ",kn[0])}else Pr.push("M",or,",",dr);if(qr!=null){var aa=Dc([or,dr],[qr,Tr],xe,-Gr,rr),Cl=Dc([br,_r],mr==null?[or,dr]:[mr,pr],xe,-Gr,rr);qe===Gr?Pr.push("L",Cl[0],"A",Gr,",",Gr," 0 0,",He," ",Cl[1],"A",xe,",",xe," 0 ",rr^Rc(Cl[1][0],Cl[1][1],aa[1][0],aa[1][1]),",",1-rr," ",aa[1],"A",Gr,",",Gr," 0 0,",He," ",aa[0]):Pr.push("L",Cl[0],"A",Gr,",",Gr," 0 0,",He," ",aa[0])}else Pr.push("L",br,",",_r)}else Pr.push("M",or,",",dr),mr!=null&&Pr.push("A",_e,",",_e," 0 ",lt,",",rr," ",mr,",",pr),Pr.push("L",br,",",_r),qr!=null&&Pr.push("A",xe,",",xe," 0 ",dt,",",1-rr," ",qr,",",Tr);return Pr.push("Z"),Pr.join("")}function fe(xe,_e){return"M0,"+xe+"A"+xe+","+xe+" 0 1,"+_e+" 0,"+-xe+"A"+xe+","+xe+" 0 1,"+_e+" 0,"+xe}return oe.innerRadius=function(xe){return arguments.length?(C=Jr(xe),oe):C},oe.outerRadius=function(xe){return arguments.length?(z=Jr(xe),oe):z},oe.cornerRadius=function(xe){return arguments.length?(B=Jr(xe),oe):B},oe.padRadius=function(xe){return arguments.length?(Y=xe==Lc?Lc:Jr(xe),oe):Y},oe.startAngle=function(xe){return arguments.length?(X=Jr(xe),oe):X},oe.endAngle=function(xe){return arguments.length?(J=Jr(xe),oe):J},oe.padAngle=function(xe){return arguments.length?(le=Jr(xe),oe):le},oe.centroid=function(){var xe=(+C.apply(this,arguments)+ +z.apply(this,arguments))/2,_e=(+X.apply(this,arguments)+ +J.apply(this,arguments))/2-K;return[Math.cos(_e)*xe,Math.sin(_e)*xe]},oe};var Lc="auto";function QB(C){return C.innerRadius}function $B(C){return C.outerRadius}function ub(C){return C.startAngle}function fb(C){return C.endAngle}function jB(C){return C&&C.padAngle}function Rc(C,z,B,Y){return(C-B)*z-(z-Y)*C>0?0:1}function Dc(C,z,B,Y,X){var J=C[0]-z[0],le=C[1]-z[1],oe=(X?Y:-Y)/Math.sqrt(J*J+le*le),fe=oe*le,xe=-oe*J,_e=C[0]+fe,Ie=C[1]+xe,Ne=z[0]+fe,$e=z[1]+xe,rr=(_e+Ne)/2,qe=(Ie+$e)/2,He=Ne-_e,Xe=$e-Ie,er=He*He+Xe*Xe,tr=B-Y,Ke=_e*$e-Ne*Ie,or=(Xe<0?-1:1)*Math.sqrt(Math.max(0,tr*tr*er-Ke*Ke)),dr=(Ke*Xe-He*or)/er,mr=(-Ke*He-Xe*or)/er,pr=(Ke*Xe+He*or)/er,br=(-Ke*He+Xe*or)/er,_r=dr-rr,qr=mr-qe,Tr=pr-rr,Pr=br-qe;return _r*_r+qr*qr>Tr*Tr+Pr*Pr&&(dr=pr,mr=br),[[dr-fe,mr-xe],[dr*B/tr,mr*B/tr]]}function cb(){return!0}function vb(C){var z=Fs,B=ff,Y=cb,X=ja,J=X.key,le=.7;function oe(fe){var xe=[],_e=[],Ie=-1,Ne=fe.length,$e,rr=Jr(z),qe=Jr(B);function He(){xe.push("M",X(C(_e),le))}for(;++Ie<Ne;)Y.call(this,$e=fe[Ie],Ie)?_e.push([+rr.call(this,$e,Ie),+qe.call(this,$e,Ie)]):_e.length&&(He(),_e=[]);return _e.length&&He(),xe.length?xe.join(""):null}return oe.x=function(fe){return arguments.length?(z=fe,oe):z},oe.y=function(fe){return arguments.length?(B=fe,oe):B},oe.defined=function(fe){return arguments.length?(Y=fe,oe):Y},oe.interpolate=function(fe){return arguments.length?(typeof fe=="function"?J=X=fe:J=(X=yp.get(fe)||ja).key,oe):J},oe.tension=function(fe){return arguments.length?(le=fe,oe):le},oe}e.svg.line=function(){return vb(N)};var yp=e.map({linear:ja,"linear-closed":hb,step:eU,"step-before":mp,"step-after":xp,basis:db,"basis-open":aU,"basis-closed":iU,bundle:oU,cardinal:nU,"cardinal-open":rU,"cardinal-closed":tU,monotone:uU});yp.forEach(function(C,z){z.key=C,z.closed=/-closed$/.test(C)});function ja(C){return C.length>1?C.join("L"):C+"Z"}function hb(C){return C.join("L")+"Z"}function eU(C){for(var z=0,B=C.length,Y=C[0],X=[Y[0],",",Y[1]];++z<B;)X.push("H",(Y[0]+(Y=C[z])[0])/2,"V",Y[1]);return B>1&&X.push("H",Y[0]),X.join("")}function mp(C){for(var z=0,B=C.length,Y=C[0],X=[Y[0],",",Y[1]];++z<B;)X.push("V",(Y=C[z])[1],"H",Y[0]);return X.join("")}function xp(C){for(var z=0,B=C.length,Y=C[0],X=[Y[0],",",Y[1]];++z<B;)X.push("H",(Y=C[z])[0],"V",Y[1]);return X.join("")}function rU(C,z){return C.length<4?ja(C):C[1]+Pc(C.slice(1,-1),bp(C,z))}function tU(C,z){return C.length<3?hb(C):C[0]+Pc((C.push(C[0]),C),bp([C[C.length-2]].concat(C,[C[1]]),z))}function nU(C,z){return C.length<3?ja(C):C[0]+Pc(C,bp(C,z))}function Pc(C,z){if(z.length<1||C.length!=z.length&&C.length!=z.length+2)return ja(C);var B=C.length!=z.length,Y="",X=C[0],J=C[1],le=z[0],oe=le,fe=1;if(B&&(Y+="Q"+(J[0]-le[0]*2/3)+","+(J[1]-le[1]*2/3)+","+J[0]+","+J[1],X=C[1],fe=2),z.length>1){oe=z[1],J=C[fe],fe++,Y+="C"+(X[0]+le[0])+","+(X[1]+le[1])+","+(J[0]-oe[0])+","+(J[1]-oe[1])+","+J[0]+","+J[1];for(var xe=2;xe<z.length;xe++,fe++)J=C[fe],oe=z[xe],Y+="S"+(J[0]-oe[0])+","+(J[1]-oe[1])+","+J[0]+","+J[1]}if(B){var _e=C[fe];Y+="Q"+(J[0]+oe[0]*2/3)+","+(J[1]+oe[1]*2/3)+","+_e[0]+","+_e[1]}return Y}function bp(C,z){for(var B=[],Y=(1-z)/2,X,J=C[0],le=C[1],oe=1,fe=C.length;++oe<fe;)X=J,J=le,le=C[oe],B.push([Y*(le[0]-X[0]),Y*(le[1]-X[1])]);return B}function db(C){if(C.length<3)return ja(C);var z=1,B=C.length,Y=C[0],X=Y[0],J=Y[1],le=[X,X,X,(Y=C[1])[0]],oe=[J,J,J,Y[1]],fe=[X,",",J,"L",Sa(Ao,le),",",Sa(Ao,oe)];for(C.push(C[B-1]);++z<=B;)Y=C[z],le.shift(),le.push(Y[0]),oe.shift(),oe.push(Y[1]),_p(fe,le,oe);return C.pop(),fe.push("L",Y),fe.join("")}function aU(C){if(C.length<4)return ja(C);for(var z=[],B=-1,Y=C.length,X,J=[0],le=[0];++B<3;)X=C[B],J.push(X[0]),le.push(X[1]);for(z.push(Sa(Ao,J)+","+Sa(Ao,le)),--B;++B<Y;)X=C[B],J.shift(),J.push(X[0]),le.shift(),le.push(X[1]),_p(z,J,le);return z.join("")}function iU(C){for(var z,B=-1,Y=C.length,X=Y+4,J,le=[],oe=[];++B<4;)J=C[B%Y],le.push(J[0]),oe.push(J[1]);for(z=[Sa(Ao,le),",",Sa(Ao,oe)],--B;++B<X;)J=C[B%Y],le.shift(),le.push(J[0]),oe.shift(),oe.push(J[1]),_p(z,le,oe);return z.join("")}function oU(C,z){var B=C.length-1;if(B)for(var Y=C[0][0],X=C[0][1],J=C[B][0]-Y,le=C[B][1]-X,oe=-1,fe,xe;++oe<=B;)fe=C[oe],xe=oe/B,fe[0]=z*fe[0]+(1-z)*(Y+xe*J),fe[1]=z*fe[1]+(1-z)*(X+xe*le);return db(C)}function Sa(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]+C[3]*z[3]}var pb=[0,2/3,1/3,0],gb=[0,1/3,2/3,0],Ao=[0,1/6,2/3,1/6];function _p(C,z,B){C.push("C",Sa(pb,z),",",Sa(pb,B),",",Sa(gb,z),",",Sa(gb,B),",",Sa(Ao,z),",",Sa(Ao,B))}function wp(C,z){return(z[1]-C[1])/(z[0]-C[0])}function lU(C){for(var z=0,B=C.length-1,Y=[],X=C[0],J=C[1],le=Y[0]=wp(X,J);++z<B;)Y[z]=(le+(le=wp(X=J,J=C[z+1])))/2;return Y[z]=le,Y}function sU(C){for(var z=[],B,Y,X,J,le=lU(C),oe=-1,fe=C.length-1;++oe<fe;)B=wp(C[oe],C[oe+1]),m(B)<Pe?le[oe]=le[oe+1]=0:(Y=le[oe]/B,X=le[oe+1]/B,J=Y*Y+X*X,J>9&&(J=B*3/Math.sqrt(J),le[oe]=J*Y,le[oe+1]=J*X));for(oe=-1;++oe<=fe;)J=(C[Math.min(fe,oe+1)][0]-C[Math.max(0,oe-1)][0])/(6*(1+le[oe]*le[oe])),z.push([J||0,le[oe]*J||0]);return z}function uU(C){return C.length<3?ja(C):C[0]+Pc(C,sU(C))}e.svg.line.radial=function(){var C=vb(yb);return C.radius=C.x,delete C.x,C.angle=C.y,delete C.y,C};function yb(C){for(var z,B=-1,Y=C.length,X,J;++B<Y;)z=C[B],X=z[0],J=z[1]-K,z[0]=X*Math.cos(J),z[1]=X*Math.sin(J);return C}function mb(C){var z=Fs,B=Fs,Y=0,X=ff,J=cb,le=ja,oe=le.key,fe=le,xe="L",_e=.7;function Ie(Ne){var $e=[],rr=[],qe=[],He=-1,Xe=Ne.length,er,tr=Jr(z),Ke=Jr(Y),or=z===B?function(){return mr}:Jr(B),dr=Y===X?function(){return pr}:Jr(X),mr,pr;function br(){$e.push("M",le(C(qe),_e),xe,fe(C(rr.reverse()),_e),"Z")}for(;++He<Xe;)J.call(this,er=Ne[He],He)?(rr.push([mr=+tr.call(this,er,He),pr=+Ke.call(this,er,He)]),qe.push([+or.call(this,er,He),+dr.call(this,er,He)])):rr.length&&(br(),rr=[],qe=[]);return rr.length&&br(),$e.length?$e.join(""):null}return Ie.x=function(Ne){return arguments.length?(z=B=Ne,Ie):B},Ie.x0=function(Ne){return arguments.length?(z=Ne,Ie):z},Ie.x1=function(Ne){return arguments.length?(B=Ne,Ie):B},Ie.y=function(Ne){return arguments.length?(Y=X=Ne,Ie):X},Ie.y0=function(Ne){return arguments.length?(Y=Ne,Ie):Y},Ie.y1=function(Ne){return arguments.length?(X=Ne,Ie):X},Ie.defined=function(Ne){return arguments.length?(J=Ne,Ie):J},Ie.interpolate=function(Ne){return arguments.length?(typeof Ne=="function"?oe=le=Ne:oe=(le=yp.get(Ne)||ja).key,fe=le.reverse||le,xe=le.closed?"M":"L",Ie):oe},Ie.tension=function(Ne){return arguments.length?(_e=Ne,Ie):_e},Ie}mp.reverse=xp,xp.reverse=mp,e.svg.area=function(){return mb(N)},e.svg.area.radial=function(){var C=mb(yb);return C.radius=C.x,delete C.x,C.innerRadius=C.x0,delete C.x0,C.outerRadius=C.x1,delete C.x1,C.angle=C.y,delete C.y,C.startAngle=C.y0,delete C.y0,C.endAngle=C.y1,delete C.y1,C};function xb(C){return C.source}function bb(C){return C.target}e.svg.chord=function(){var C=xb,z=bb,B=fU,Y=ub,X=fb;function J(_e,Ie){var Ne=le(this,C,_e,Ie),$e=le(this,z,_e,Ie);return"M"+Ne.p0+fe(Ne.r,Ne.p1,Ne.a1-Ne.a0)+(oe(Ne,$e)?xe(Ne.r,Ne.p1,Ne.r,Ne.p0):xe(Ne.r,Ne.p1,$e.r,$e.p0)+fe($e.r,$e.p1,$e.a1-$e.a0)+xe($e.r,$e.p1,Ne.r,Ne.p0))+"Z"}function le(_e,Ie,Ne,$e){var rr=Ie.call(_e,Ne,$e),qe=B.call(_e,rr,$e),He=Y.call(_e,rr,$e)-K,Xe=X.call(_e,rr,$e)-K;return{r:qe,a0:He,a1:Xe,p0:[qe*Math.cos(He),qe*Math.sin(He)],p1:[qe*Math.cos(Xe),qe*Math.sin(Xe)]}}function oe(_e,Ie){return _e.a0==Ie.a0&&_e.a1==Ie.a1}function fe(_e,Ie,Ne){return"A"+_e+","+_e+" 0 "+ +(Ne>Ve)+",1 "+Ie}function xe(_e,Ie,Ne,$e){return"Q 0,0 "+$e}return J.radius=function(_e){return arguments.length?(B=Jr(_e),J):B},J.source=function(_e){return arguments.length?(C=Jr(_e),J):C},J.target=function(_e){return arguments.length?(z=Jr(_e),J):z},J.startAngle=function(_e){return arguments.length?(Y=Jr(_e),J):Y},J.endAngle=function(_e){return arguments.length?(X=Jr(_e),J):X},J};function fU(C){return C.radius}e.svg.diagonal=function(){var C=xb,z=bb,B=_b;function Y(X,J){var le=C.call(this,X,J),oe=z.call(this,X,J),fe=(le.y+oe.y)/2,xe=[le,{x:le.x,y:fe},{x:oe.x,y:fe},oe];return xe=xe.map(B),"M"+xe[0]+"C"+xe[1]+" "+xe[2]+" "+xe[3]}return Y.source=function(X){return arguments.length?(C=Jr(X),Y):C},Y.target=function(X){return arguments.length?(z=Jr(X),Y):z},Y.projection=function(X){return arguments.length?(B=X,Y):B},Y};function _b(C){return[C.x,C.y]}e.svg.diagonal.radial=function(){var C=e.svg.diagonal(),z=_b,B=C.projection;return C.projection=function(Y){return arguments.length?B(cU(z=Y)):z},C};function cU(C){return function(){var z=C.apply(this,arguments),B=z[0],Y=z[1]-K;return[B*Math.cos(Y),B*Math.sin(Y)]}}e.svg.symbol=function(){var C=hU,z=vU;function B(Y,X){return(Tb.get(C.call(this,Y,X))||wb)(z.call(this,Y,X))}return B.type=function(Y){return arguments.length?(C=Jr(Y),B):C},B.size=function(Y){return arguments.length?(z=Jr(Y),B):z},B};function vU(){return 64}function hU(){return"circle"}function wb(C){var z=Math.sqrt(C/Ve);return"M0,"+z+"A"+z+","+z+" 0 1,1 0,"+-z+"A"+z+","+z+" 0 1,1 0,"+z+"Z"}var Tb=e.map({circle:wb,cross:function(C){var z=Math.sqrt(C/5)/2;return"M"+-3*z+","+-z+"H"+-z+"V"+-3*z+"H"+z+"V"+-z+"H"+3*z+"V"+z+"H"+z+"V"+3*z+"H"+-z+"V"+z+"H"+-3*z+"Z"},diamond:function(C){var z=Math.sqrt(C/(2*Mb)),B=z*Mb;return"M0,"+-z+"L"+B+",0 0,"+z+" "+-B+",0Z"},square:function(C){var z=Math.sqrt(C)/2;return"M"+-z+","+-z+"L"+z+","+-z+" "+z+","+z+" "+-z+","+z+"Z"},"triangle-down":function(C){var z=Math.sqrt(C/Fc),B=z*Fc/2;return"M0,"+B+"L"+z+","+-B+" "+-z+","+-B+"Z"},"triangle-up":function(C){var z=Math.sqrt(C/Fc),B=z*Fc/2;return"M0,"+-B+"L"+z+","+B+" "+-z+","+B+"Z"}});e.svg.symbolTypes=Tb.keys();var Fc=Math.sqrt(3),Mb=Math.tan(30*ae);ee.transition=function(C){for(var z=Sl||++kb,B=Mp(C),Y=[],X,J,le=Nc||{time:Date.now(),ease:Yq,delay:0,duration:250},oe=-1,fe=this.length;++oe<fe;){Y.push(X=[]);for(var xe=this[oe],_e=-1,Ie=xe.length;++_e<Ie;)(J=xe[_e])&&zc(J,_e,B,z,le),X.push(J)}return mf(Y,B,z)},ee.interrupt=function(C){return this.each(C==null?Ic:Ab(Mp(C)))};var Ic=Ab(Mp());function Ab(C){return function(){var z,B,Y;(z=this[C])&&(Y=z[B=z.active])&&(Y.timer.c=null,Y.timer.t=NaN,--z.count?delete z[B]:delete this[C],z.active+=.5,Y.event&&Y.event.interrupt.call(this,this.__data__,Y.index))}}function mf(C,z,B){return O(C,rn),C.namespace=z,C.id=B,C}var rn=[],kb=0,Sl,Nc;rn.call=ee.call,rn.empty=ee.empty,rn.node=ee.node,rn.size=ee.size,e.transition=function(C,z){return C&&C.transition?Sl?C.transition(z):C:e.selection().transition(C)},e.transition.prototype=rn,rn.select=function(C){var z=this.id,B=this.namespace,Y=[],X,J,le;C=V(C);for(var oe=-1,fe=this.length;++oe<fe;){Y.push(X=[]);for(var xe=this[oe],_e=-1,Ie=xe.length;++_e<Ie;)(le=xe[_e])&&(J=C.call(le,le.__data__,_e,oe))?("__data__"in le&&(J.__data__=le.__data__),zc(J,_e,B,z,le[B][z]),X.push(J)):X.push(null)}return mf(Y,B,z)},rn.selectAll=function(C){var z=this.id,B=this.namespace,Y=[],X,J,le,oe,fe;C=re(C);for(var xe=-1,_e=this.length;++xe<_e;)for(var Ie=this[xe],Ne=-1,$e=Ie.length;++Ne<$e;)if(le=Ie[Ne]){fe=le[B][z],J=C.call(le,le.__data__,Ne,xe),Y.push(X=[]);for(var rr=-1,qe=J.length;++rr<qe;)(oe=J[rr])&&zc(oe,rr,B,z,fe),X.push(oe)}return mf(Y,B,z)},rn.filter=function(C){var z=[],B,Y,X;typeof C!="function"&&(C=ge(C));for(var J=0,le=this.length;J<le;J++){z.push(B=[]);for(var Y=this[J],oe=0,fe=Y.length;oe<fe;oe++)(X=Y[oe])&&C.call(X,X.__data__,oe,J)&&B.push(X)}return mf(z,this.namespace,this.id)},rn.tween=function(C,z){var B=this.id,Y=this.namespace;return arguments.length<2?this.node()[Y][B].tween.get(C):ce(this,z==null?function(X){X[Y][B].tween.remove(C)}:function(X){X[Y][B].tween.set(C,z)})};function Tp(C,z,B,Y){var X=C.id,J=C.namespace;return ce(C,typeof B=="function"?function(le,oe,fe){le[J][X].tween.set(z,Y(B.call(le,le.__data__,oe,fe)))}:(B=Y(B),function(le){le[J][X].tween.set(z,B)}))}rn.attr=function(C,z){if(arguments.length<2){for(z in C)this.attr(z,C[z]);return this}var B=C=="transform"?zx:kl,Y=e.ns.qualify(C);function X(){this.removeAttribute(Y)}function J(){this.removeAttributeNS(Y.space,Y.local)}function le(fe){return fe==null?X:(fe+="",function(){var xe=this.getAttribute(Y),_e;return xe!==fe&&(_e=B(xe,fe),function(Ie){this.setAttribute(Y,_e(Ie))})})}function oe(fe){return fe==null?J:(fe+="",function(){var xe=this.getAttributeNS(Y.space,Y.local),_e;return xe!==fe&&(_e=B(xe,fe),function(Ie){this.setAttributeNS(Y.space,Y.local,_e(Ie))})})}return Tp(this,"attr."+C,z,Y.local?oe:le)},rn.attrTween=function(C,z){var B=e.ns.qualify(C);function Y(J,le){var oe=z.call(this,J,le,this.getAttribute(B));return oe&&function(fe){this.setAttribute(B,oe(fe))}}function X(J,le){var oe=z.call(this,J,le,this.getAttributeNS(B.space,B.local));return oe&&function(fe){this.setAttributeNS(B.space,B.local,oe(fe))}}return this.tween("attr."+C,B.local?X:Y)},rn.style=function(C,z,B){var Y=arguments.length;if(Y<3){if(typeof C!="string"){Y<2&&(z="");for(B in C)this.style(B,C[B],z);return this}B=""}function X(){this.style.removeProperty(C)}function J(le){return le==null?X:(le+="",function(){var oe=o(this).getComputedStyle(this,null).getPropertyValue(C),fe;return oe!==le&&(fe=kl(oe,le),function(xe){this.style.setProperty(C,fe(xe),B)})})}return Tp(this,"style."+C,z,J)},rn.styleTween=function(C,z,B){arguments.length<3&&(B="");function Y(X,J){var le=z.call(this,X,J,o(this).getComputedStyle(this,null).getPropertyValue(C));return le&&function(oe){this.style.setProperty(C,le(oe),B)}}return this.tween("style."+C,Y)},rn.text=function(C){return Tp(this,"text",C,dU)};function dU(C){return C==null&&(C=""),function(){this.textContent=C}}rn.remove=function(){var C=this.namespace;return this.each("end.transition",function(){var z;this[C].count<2&&(z=this.parentNode)&&z.removeChild(this)})},rn.ease=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].ease:(typeof C!="function"&&(C=e.ease.apply(e,arguments)),ce(this,function(Y){Y[B][z].ease=C}))},rn.delay=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].delay:ce(this,typeof C=="function"?function(Y,X,J){Y[B][z].delay=+C.call(Y,Y.__data__,X,J)}:(C=+C,function(Y){Y[B][z].delay=C}))},rn.duration=function(C){var z=this.id,B=this.namespace;return arguments.length<1?this.node()[B][z].duration:ce(this,typeof C=="function"?function(Y,X,J){Y[B][z].duration=Math.max(1,C.call(Y,Y.__data__,X,J))}:(C=Math.max(1,C),function(Y){Y[B][z].duration=C}))},rn.each=function(C,z){var B=this.id,Y=this.namespace;if(arguments.length<2){var X=Nc,J=Sl;try{Sl=B,ce(this,function(le,oe,fe){Nc=le[Y][B],C.call(le,le.__data__,oe,fe)})}finally{Nc=X,Sl=J}}else ce(this,function(le){var oe=le[Y][B];(oe.event||(oe.event=e.dispatch("start","end","interrupt"))).on(C,z)});return this},rn.transition=function(){for(var C=this.id,z=++kb,B=this.namespace,Y=[],X,J,le,oe,fe=0,xe=this.length;fe<xe;fe++){Y.push(X=[]);for(var J=this[fe],_e=0,Ie=J.length;_e<Ie;_e++)(le=J[_e])&&(oe=le[B][C],zc(le,_e,B,z,{time:oe.time,ease:oe.ease,delay:oe.delay+oe.duration,duration:oe.duration})),X.push(le)}return mf(Y,B,z)};function Mp(C){return C==null?"__transition__":"__transition_"+C+"__"}function zc(C,z,B,Y,X){var J=C[B]||(C[B]={active:0,count:0}),le=J[Y],oe,fe,xe,_e,Ie;function Ne(qe){var He=le.delay;if(fe.t=He+oe,He<=qe)return $e(qe-He);fe.c=$e}function $e(qe){var He=J.active,Xe=J[He];Xe&&(Xe.timer.c=null,Xe.timer.t=NaN,--J.count,delete J[He],Xe.event&&Xe.event.interrupt.call(C,C.__data__,Xe.index));for(var er in J)if(+er<Y){var tr=J[er];tr.timer.c=null,tr.timer.t=NaN,--J.count,delete J[er]}fe.c=rr,bc(function(){return fe.c&&rr(qe||1)&&(fe.c=null,fe.t=NaN),1},0,oe),J.active=Y,le.event&&le.event.start.call(C,C.__data__,z),Ie=[],le.tween.forEach(function(Ke,or){(or=or.call(C,C.__data__,z))&&Ie.push(or)}),_e=le.ease,xe=le.duration}function rr(qe){for(var He=qe/xe,Xe=_e(He),er=Ie.length;er>0;)Ie[--er].call(C,Xe);if(He>=1)return le.event&&le.event.end.call(C,C.__data__,z),--J.count?delete J[Y]:delete C[B],1}le||(oe=X.time,fe=bc(Ne,0,oe),le=J[Y]={tween:new y,time:oe,timer:fe,delay:X.delay,duration:X.duration,ease:X.ease,index:z},X=null,++J.count)}e.svg.axis=function(){var C=e.scale.linear(),z=Sb,B=6,Y=6,X=3,J=[10],le=null,oe;function fe(xe){xe.each(function(){var _e=e.select(this),Ie=this.__chart__||C,Ne=this.__chart__=C.copy(),$e=le==null?Ne.ticks?Ne.ticks.apply(Ne,J):Ne.domain():le,rr=oe==null?Ne.tickFormat?Ne.tickFormat.apply(Ne,J):N:oe,qe=_e.selectAll(".tick").data($e,Ne),He=qe.enter().insert("g",".domain").attr("class","tick").style("opacity",Pe),Xe=e.transition(qe.exit()).style("opacity",Pe).remove(),er=e.transition(qe.order()).style("opacity",1),tr=Math.max(B,0)+X,Ke,or=Cc(Ne),dr=_e.selectAll(".domain").data([0]),mr=(dr.enter().append("path").attr("class","domain"),e.transition(dr));He.append("line"),He.append("text");var pr=He.select("line"),br=er.select("line"),_r=qe.select("text").text(rr),qr=He.select("text"),Tr=er.select("text"),Pr=z==="top"||z==="left"?-1:1,lt,Ut,dt,vr;if(z==="bottom"||z==="top"?(Ke=gU,lt="x",dt="y",Ut="x2",vr="y2",_r.attr("dy",Pr<0?"0em":".71em").style("text-anchor","middle"),mr.attr("d","M"+or[0]+","+Pr*Y+"V0H"+or[1]+"V"+Pr*Y)):(Ke=yU,lt="y",dt="x",Ut="y2",vr="x2",_r.attr("dy",".32em").style("text-anchor",Pr<0?"end":"start"),mr.attr("d","M"+Pr*Y+","+or[0]+"H0V"+or[1]+"H"+Pr*Y)),pr.attr(vr,Pr*B),qr.attr(dt,Pr*tr),br.attr(Ut,0).attr(vr,Pr*B),Tr.attr(lt,0).attr(dt,Pr*tr),Ne.rangeBand){var Br=Ne,Gr=Br.rangeBand()/2;Ie=Ne=function(st){return Br(st)+Gr}}else Ie.rangeBand?Ie=Ne:Xe.call(Ke,Ne,Ie);He.call(Ke,Ie,Ne),er.call(Ke,Ne,Ne)})}return fe.scale=function(xe){return arguments.length?(C=xe,fe):C},fe.orient=function(xe){return arguments.length?(z=xe in pU?xe+"":Sb,fe):z},fe.ticks=function(){return arguments.length?(J=t(arguments),fe):J},fe.tickValues=function(xe){return arguments.length?(le=xe,fe):le},fe.tickFormat=function(xe){return arguments.length?(oe=xe,fe):oe},fe.tickSize=function(xe){var _e=arguments.length;return _e?(B=+xe,Y=+arguments[_e-1],fe):B},fe.innerTickSize=function(xe){return arguments.length?(B=+xe,fe):B},fe.outerTickSize=function(xe){return arguments.length?(Y=+xe,fe):Y},fe.tickPadding=function(xe){return arguments.length?(X=+xe,fe):X},fe.tickSubdivide=function(){return arguments.length&&fe},fe};var Sb="bottom",pU={top:1,right:1,bottom:1,left:1};function gU(C,z,B){C.attr("transform",function(Y){var X=z(Y);return"translate("+(isFinite(X)?X:B(Y))+",0)"})}function yU(C,z,B){C.attr("transform",function(Y){var X=z(Y);return"translate(0,"+(isFinite(X)?X:B(Y))+")"})}e.svg.brush=function(){var C=$(_e,"brushstart","brush","brushend"),z=null,B=null,Y=[0,0],X=[0,0],J,le,oe=!0,fe=!0,xe=Ap[0];function _e(qe){qe.each(function(){var He=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",rr).on("touchstart.brush",rr),Xe=He.selectAll(".background").data([0]);Xe.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),He.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var er=He.selectAll(".resize").data(xe,N);er.exit().remove(),er.enter().append("g").attr("class",function(dr){return"resize "+dr}).style("cursor",function(dr){return mU[dr]}).append("rect").attr("x",function(dr){return/[ew]$/.test(dr)?-3:null}).attr("y",function(dr){return/^[ns]/.test(dr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),er.style("display",_e.empty()?"none":null);var tr=e.transition(He),Ke=e.transition(Xe),or;z&&(or=Cc(z),Ke.attr("x",or[0]).attr("width",or[1]-or[0]),Ne(tr)),B&&(or=Cc(B),Ke.attr("y",or[0]).attr("height",or[1]-or[0]),$e(tr)),Ie(tr)})}_e.event=function(qe){qe.each(function(){var He=C.of(this,arguments),Xe={x:Y,y:X,i:J,j:le},er=this.__chart__||Xe;this.__chart__=Xe,Sl?e.select(this).transition().each("start.brush",function(){J=er.i,le=er.j,Y=er.x,X=er.y,He({type:"brushstart"})}).tween("brush:brush",function(){var tr=kc(Y,Xe.x),Ke=kc(X,Xe.y);return J=le=null,function(or){Y=Xe.x=tr(or),X=Xe.y=Ke(or),He({type:"brush",mode:"resize"})}}).each("end.brush",function(){J=Xe.i,le=Xe.j,He({type:"brush",mode:"resize"}),He({type:"brushend"})}):(He({type:"brushstart"}),He({type:"brush",mode:"resize"}),He({type:"brushend"}))})};function Ie(qe){qe.selectAll(".resize").attr("transform",function(He){return"translate("+Y[+/e$/.test(He)]+","+X[+/^s/.test(He)]+")"})}function Ne(qe){qe.select(".extent").attr("x",Y[0]),qe.selectAll(".extent,.n>rect,.s>rect").attr("width",Y[1]-Y[0])}function $e(qe){qe.select(".extent").attr("y",X[0]),qe.selectAll(".extent,.e>rect,.w>rect").attr("height",X[1]-X[0])}function rr(){var qe=this,He=e.select(e.event.target),Xe=C.of(qe,arguments),er=e.select(qe),tr=He.datum(),Ke=!/^(n|s)$/.test(tr)&&z,or=!/^(e|w)$/.test(tr)&&B,dr=He.classed("extent"),mr=Ye(qe),pr,br=e.mouse(qe),_r,qr=e.select(o(qe)).on("keydown.brush",lt).on("keyup.brush",Ut);if(e.event.changedTouches?qr.on("touchmove.brush",dt).on("touchend.brush",Br):qr.on("mousemove.brush",dt).on("mouseup.brush",Br),er.interrupt().selectAll("*").interrupt(),dr)br[0]=Y[0]-br[0],br[1]=X[0]-br[1];else if(tr){var Tr=+/w$/.test(tr),Pr=+/^n/.test(tr);_r=[Y[1-Tr]-br[0],X[1-Pr]-br[1]],br[0]=Y[Tr],br[1]=X[Pr]}else e.event.altKey&&(pr=br.slice());er.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",He.style("cursor")),Xe({type:"brushstart"}),dt();function lt(){e.event.keyCode==32&&(dr||(pr=null,br[0]-=Y[1],br[1]-=X[1],dr=2),W())}function Ut(){e.event.keyCode==32&&dr==2&&(br[0]+=Y[1],br[1]+=X[1],dr=0,W())}function dt(){var Gr=e.mouse(qe),st=!1;_r&&(Gr[0]+=_r[0],Gr[1]+=_r[1]),dr||(e.event.altKey?(pr||(pr=[(Y[0]+Y[1])/2,(X[0]+X[1])/2]),br[0]=Y[+(Gr[0]<pr[0])],br[1]=X[+(Gr[1]<pr[1])]):pr=null),Ke&&vr(Gr,z,0)&&(Ne(er),st=!0),or&&vr(Gr,B,1)&&($e(er),st=!0),st&&(Ie(er),Xe({type:"brush",mode:dr?"move":"resize"}))}function vr(Gr,st,Pt){var tn=Cc(st),_n=tn[0],zn=tn[1],Wn=br[Pt],On=Pt?X:Y,na=On[1]-On[0],kn,aa;if(dr&&(_n-=Wn,zn-=na+Wn),kn=(Pt?fe:oe)?Math.max(_n,Math.min(zn,Gr[Pt])):Gr[Pt],dr?aa=(kn+=Wn)+na:(pr&&(Wn=Math.max(_n,Math.min(zn,2*pr[Pt]-kn))),Wn<kn?(aa=kn,kn=Wn):aa=Wn),On[0]!=kn||On[1]!=aa)return Pt?le=null:J=null,On[0]=kn,On[1]=aa,!0}function Br(){dt(),er.style("pointer-events","all").selectAll(".resize").style("display",_e.empty()?"none":null),e.select("body").style("cursor",null),qr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),mr(),Xe({type:"brushend"})}}return _e.x=function(qe){return arguments.length?(z=qe,xe=Ap[!z<<1|!B],_e):z},_e.y=function(qe){return arguments.length?(B=qe,xe=Ap[!z<<1|!B],_e):B},_e.clamp=function(qe){return arguments.length?(z&&B?(oe=!!qe[0],fe=!!qe[1]):z?oe=!!qe:B&&(fe=!!qe),_e):z&&B?[oe,fe]:z?oe:B?fe:null},_e.extent=function(qe){var He,Xe,er,tr,Ke;return arguments.length?(z&&(He=qe[0],Xe=qe[1],B&&(He=He[0],Xe=Xe[0]),J=[He,Xe],z.invert&&(He=z(He),Xe=z(Xe)),Xe<He&&(Ke=He,He=Xe,Xe=Ke),(He!=Y[0]||Xe!=Y[1])&&(Y=[He,Xe])),B&&(er=qe[0],tr=qe[1],z&&(er=er[1],tr=tr[1]),le=[er,tr],B.invert&&(er=B(er),tr=B(tr)),tr<er&&(Ke=er,er=tr,tr=Ke),(er!=X[0]||tr!=X[1])&&(X=[er,tr])),_e):(z&&(J?(He=J[0],Xe=J[1]):(He=Y[0],Xe=Y[1],z.invert&&(He=z.invert(He),Xe=z.invert(Xe)),Xe<He&&(Ke=He,He=Xe,Xe=Ke))),B&&(le?(er=le[0],tr=le[1]):(er=X[0],tr=X[1],B.invert&&(er=B.invert(er),tr=B.invert(tr)),tr<er&&(Ke=er,er=tr,tr=Ke))),z&&B?[[He,er],[Xe,tr]]:z?[He,Xe]:B&&[er,tr])},_e.clear=function(){return _e.empty()||(Y=[0,0],X=[0,0],J=le=null),_e},_e.empty=function(){return!!z&&Y[0]==Y[1]||!!B&&X[0]==X[1]},e.rebind(_e,C,"on")};var mU={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ap=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=$a(function(C){return C.responseText}),e.json=function(C,z){return Ml(C,"application/json",xU,z)};function xU(C){return JSON.parse(C.responseText)}e.html=function(C,z){return Ml(C,"text/html",bU,z)};function bU(C){var z=n.createRange();return z.selectNode(n.body),z.createContextualFragment(C.responseText)}e.xml=$a(function(C){return C.responseXML}),typeof define=="function"&&define.amd?define(e):typeof Uc=="object"&&Uc.exports?Uc.exports=e:this.d3=e}).apply(self)});var kp=pe((Hc,Fb)=>{(function(e,r){typeof Hc=="object"&&typeof Fb!="undefined"?r(Hc):typeof define=="function"&&define.amd?define(["exports"],r):(e=e||self,r(e.d3=e.d3||{}))})(Hc,function(e){"use strict";var r=new Date,t=new Date;function n(ge,Ae,ce,ye){function Le(me){return ge(me=arguments.length===0?new Date:new Date(+me)),me}return Le.floor=function(me){return ge(me=new Date(+me)),me},Le.ceil=function(me){return ge(me=new Date(me-1)),Ae(me,1),ge(me),me},Le.round=function(me){var de=Le(me),be=Le.ceil(me);return me-de<be-me?de:be},Le.offset=function(me,de){return Ae(me=new Date(+me),de==null?1:Math.floor(de)),me},Le.range=function(me,de,be){var Ee=[],ze;if(me=Le.ceil(me),be=be==null?1:Math.floor(be),!(me<de)||!(be>0))return Ee;do Ee.push(ze=new Date(+me)),Ae(me,be),ge(me);while(ze<me&&me<de);return Ee},Le.filter=function(me){return n(function(de){if(de>=de)for(;ge(de),!me(de);)de.setTime(de-1)},function(de,be){if(de>=de)if(be<0)for(;++be<=0;)for(;Ae(de,-1),!me(de););else for(;--be>=0;)for(;Ae(de,1),!me(de););})},ce&&(Le.count=function(me,de){return r.setTime(+me),t.setTime(+de),ge(r),ge(t),Math.floor(ce(r,t))},Le.every=function(me){return me=Math.floor(me),!isFinite(me)||!(me>0)?null:me>1?Le.filter(ye?function(de){return ye(de)%me===0}:function(de){return Le.count(0,de)%me===0}):Le}),Le}var a=n(function(){},function(ge,Ae){ge.setTime(+ge+Ae)},function(ge,Ae){return Ae-ge});a.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?n(function(Ae){Ae.setTime(Math.floor(Ae/ge)*ge)},function(Ae,ce){Ae.setTime(+Ae+ce*ge)},function(Ae,ce){return(ce-Ae)/ge}):a};var o=a.range,i=1e3,l=6e4,u=36e5,s=864e5,f=6048e5,v=n(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,Ae){ge.setTime(+ge+Ae*i)},function(ge,Ae){return(Ae-ge)/i},function(ge){return ge.getUTCSeconds()}),g=v.range,b=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*i)},function(ge,Ae){ge.setTime(+ge+Ae*l)},function(ge,Ae){return(Ae-ge)/l},function(ge){return ge.getMinutes()}),x=b.range,T=n(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*i-ge.getMinutes()*l)},function(ge,Ae){ge.setTime(+ge+Ae*u)},function(ge,Ae){return(Ae-ge)/u},function(ge){return ge.getHours()}),A=T.range,m=n(function(ge){ge.setHours(0,0,0,0)},function(ge,Ae){ge.setDate(ge.getDate()+Ae)},function(ge,Ae){return(Ae-ge-(Ae.getTimezoneOffset()-ge.getTimezoneOffset())*l)/s},function(ge){return ge.getDate()-1}),w=m.range;function k(ge){return n(function(Ae){Ae.setDate(Ae.getDate()-(Ae.getDay()+7-ge)%7),Ae.setHours(0,0,0,0)},function(Ae,ce){Ae.setDate(Ae.getDate()+ce*7)},function(Ae,ce){return(ce-Ae-(ce.getTimezoneOffset()-Ae.getTimezoneOffset())*l)/f})}var y=k(0),M=k(1),d=k(2),_=k(3),p=k(4),c=k(5),S=k(6),h=y.range,R=M.range,E=d.range,D=_.range,N=p.range,I=c.range,F=S.range,L=n(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,Ae){ge.setMonth(ge.getMonth()+Ae)},function(ge,Ae){return Ae.getMonth()-ge.getMonth()+(Ae.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),P=L.range,q=n(function(ge){ge.setMonth(0,1),ge.setHours(0,0,0,0)},function(ge,Ae){ge.setFullYear(ge.getFullYear()+Ae)},function(ge,Ae){return Ae.getFullYear()-ge.getFullYear()},function(ge){return ge.getFullYear()});q.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(Ae){Ae.setFullYear(Math.floor(Ae.getFullYear()/ge)*ge),Ae.setMonth(0,1),Ae.setHours(0,0,0,0)},function(Ae,ce){Ae.setFullYear(Ae.getFullYear()+ce*ge)})};var U=q.range,W=n(function(ge){ge.setUTCSeconds(0,0)},function(ge,Ae){ge.setTime(+ge+Ae*l)},function(ge,Ae){return(Ae-ge)/l},function(ge){return ge.getUTCMinutes()}),j=W.range,$=n(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,Ae){ge.setTime(+ge+Ae*u)},function(ge,Ae){return(Ae-ge)/u},function(ge){return ge.getUTCHours()}),G=$.range,O=n(function(ge){ge.setUTCHours(0,0,0,0)},function(ge,Ae){ge.setUTCDate(ge.getUTCDate()+Ae)},function(ge,Ae){return(Ae-ge)/s},function(ge){return ge.getUTCDate()-1}),Z=O.range;function ne(ge){return n(function(Ae){Ae.setUTCDate(Ae.getUTCDate()-(Ae.getUTCDay()+7-ge)%7),Ae.setUTCHours(0,0,0,0)},function(Ae,ce){Ae.setUTCDate(Ae.getUTCDate()+ce*7)},function(Ae,ce){return(ce-Ae)/f})}var Q=ne(0),ie=ne(1),ee=ne(2),V=ne(3),re=ne(4),H=ne(5),te=ne(6),se=Q.range,he=ie.range,ke=ee.range,we=V.range,ve=re.range,Me=H.range,Se=te.range,De=n(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,Ae){ge.setUTCMonth(ge.getUTCMonth()+Ae)},function(ge,Ae){return Ae.getUTCMonth()-ge.getUTCMonth()+(Ae.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),Ce=De.range,Oe=n(function(ge){ge.setUTCMonth(0,1),ge.setUTCHours(0,0,0,0)},function(ge,Ae){ge.setUTCFullYear(ge.getUTCFullYear()+Ae)},function(ge,Ae){return Ae.getUTCFullYear()-ge.getUTCFullYear()},function(ge){return ge.getUTCFullYear()});Oe.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:n(function(Ae){Ae.setUTCFullYear(Math.floor(Ae.getUTCFullYear()/ge)*ge),Ae.setUTCMonth(0,1),Ae.setUTCHours(0,0,0,0)},function(Ae,ce){Ae.setUTCFullYear(Ae.getUTCFullYear()+ce*ge)})};var Be=Oe.range;e.timeDay=m,e.timeDays=w,e.timeFriday=c,e.timeFridays=I,e.timeHour=T,e.timeHours=A,e.timeInterval=n,e.timeMillisecond=a,e.timeMilliseconds=o,e.timeMinute=b,e.timeMinutes=x,e.timeMonday=M,e.timeMondays=R,e.timeMonth=L,e.timeMonths=P,e.timeSaturday=S,e.timeSaturdays=F,e.timeSecond=v,e.timeSeconds=g,e.timeSunday=y,e.timeSundays=h,e.timeThursday=p,e.timeThursdays=N,e.timeTuesday=d,e.timeTuesdays=E,e.timeWednesday=_,e.timeWednesdays=D,e.timeWeek=y,e.timeWeeks=h,e.timeYear=q,e.timeYears=U,e.utcDay=O,e.utcDays=Z,e.utcFriday=H,e.utcFridays=Me,e.utcHour=$,e.utcHours=G,e.utcMillisecond=a,e.utcMilliseconds=o,e.utcMinute=W,e.utcMinutes=j,e.utcMonday=ie,e.utcMondays=he,e.utcMonth=De,e.utcMonths=Ce,e.utcSaturday=te,e.utcSaturdays=Se,e.utcSecond=v,e.utcSeconds=g,e.utcSunday=Q,e.utcSundays=se,e.utcThursday=re,e.utcThursdays=ve,e.utcTuesday=ee,e.utcTuesdays=ke,e.utcWednesday=V,e.utcWednesdays=we,e.utcWeek=Q,e.utcWeeks=se,e.utcYear=Oe,e.utcYears=Be,Object.defineProperty(e,"__esModule",{value:!0})})});var Us=pe((Vc,Ib)=>{(function(e,r){typeof Vc=="object"&&typeof Ib!="undefined"?r(Vc,kp()):typeof define=="function"&&define.amd?define(["exports","d3-time"],r):(e=e||self,r(e.d3=e.d3||{},e.d3))})(Vc,function(e,r){"use strict";function t(Te){if(0<=Te.y&&Te.y<100){var Pe=new Date(-1,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L);return Pe.setFullYear(Te.y),Pe}return new Date(Te.y,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L)}function n(Te){if(0<=Te.y&&Te.y<100){var Pe=new Date(Date.UTC(-1,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L));return Pe.setUTCFullYear(Te.y),Pe}return new Date(Date.UTC(Te.y,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L))}function a(Te,Pe,Qe){return{y:Te,m:Pe,d:Qe,H:0,M:0,S:0,L:0}}function o(Te){var Pe=Te.dateTime,Qe=Te.date,Ve=Te.time,ar=Te.periods,ue=Te.days,K=Te.shortDays,ae=Te.months,Re=Te.shortMonths,Ue=g(ar),je=b(ar),nr=g(ue),hr=b(ue),wr=g(K),Er=b(K),Mr=g(ae),Ar=b(ae),ft=g(Re),Wr=b(Re),xr={a:ya,A:ta,b:Nn,B:ka,c:null,d:L,e:L,f:j,H:P,I:q,j:U,L:W,m:$,M:G,p:wi,q:Xi,Q:de,s:be,S:O,u:Z,U:ne,V:Q,w:ie,W:ee,x:null,X:null,y:V,Y:re,Z:H,"%":me},ct={a:Zi,A:Ji,b:ln,B:Mo,c:null,d:te,e:te,f:ve,H:se,I:he,j:ke,L:we,m:Me,M:Se,p:Ti,q:Mi,Q:de,s:be,S:De,u:Ce,U:Oe,V:Be,w:ge,W:Ae,x:null,X:null,y:ce,Y:ye,Z:Le,"%":me},Sr={a:Bt,A:Lt,b:mn,B:Wt,c:Rt,d:p,e:p,f:D,H:S,I:S,j:c,L:E,m:_,M:h,p:Vr,q:d,Q:I,s:F,S:R,u:T,U:A,V:m,w:x,W:w,x:nt,X:Ft,y,Y:k,Z:M,"%":N};xr.x=Hr(Qe,xr),xr.X=Hr(Ve,xr),xr.c=Hr(Pe,xr),ct.x=Hr(Qe,ct),ct.X=Hr(Ve,ct),ct.c=Hr(Pe,ct);function Hr(kr,at){return function(vt){var gr=[],xn=-1,_t=0,bn=kr.length,Jr,$a,Ml;for(vt instanceof Date||(vt=new Date(+vt));++xn<bn;)kr.charCodeAt(xn)===37&&(gr.push(kr.slice(_t,xn)),($a=i[Jr=kr.charAt(++xn)])!=null?Jr=kr.charAt(++xn):$a=Jr==="e"?" ":"0",(Ml=at[Jr])&&(Jr=Ml(vt,$a)),gr.push(Jr),_t=xn+1);return gr.push(kr.slice(_t,xn)),gr.join("")}}function bt(kr,at){return function(vt){var gr=a(1900,void 0,1),xn=Or(gr,kr,vt+="",0),_t,bn;if(xn!=vt.length)return null;if("Q"in gr)return new Date(gr.Q);if("s"in gr)return new Date(gr.s*1e3+("L"in gr?gr.L:0));if(at&&!("Z"in gr)&&(gr.Z=0),"p"in gr&&(gr.H=gr.H%12+gr.p*12),gr.m===void 0&&(gr.m="q"in gr?gr.q:0),"V"in gr){if(gr.V<1||gr.V>53)return null;"w"in gr||(gr.w=1),"Z"in gr?(_t=n(a(gr.y,0,1)),bn=_t.getUTCDay(),_t=bn>4||bn===0?r.utcMonday.ceil(_t):r.utcMonday(_t),_t=r.utcDay.offset(_t,(gr.V-1)*7),gr.y=_t.getUTCFullYear(),gr.m=_t.getUTCMonth(),gr.d=_t.getUTCDate()+(gr.w+6)%7):(_t=t(a(gr.y,0,1)),bn=_t.getDay(),_t=bn>4||bn===0?r.timeMonday.ceil(_t):r.timeMonday(_t),_t=r.timeDay.offset(_t,(gr.V-1)*7),gr.y=_t.getFullYear(),gr.m=_t.getMonth(),gr.d=_t.getDate()+(gr.w+6)%7)}else("W"in gr||"U"in gr)&&("w"in gr||(gr.w="u"in gr?gr.u%7:"W"in gr?1:0),bn="Z"in gr?n(a(gr.y,0,1)).getUTCDay():t(a(gr.y,0,1)).getDay(),gr.m=0,gr.d="W"in gr?(gr.w+6)%7+gr.W*7-(bn+5)%7:gr.w+gr.U*7-(bn+6)%7);return"Z"in gr?(gr.H+=gr.Z/100|0,gr.M+=gr.Z%100,n(gr)):t(gr)}}function Or(kr,at,vt,gr){for(var xn=0,_t=at.length,bn=vt.length,Jr,$a;xn<_t;){if(gr>=bn)return-1;if(Jr=at.charCodeAt(xn++),Jr===37){if(Jr=at.charAt(xn++),$a=Sr[Jr in i?at.charAt(xn++):Jr],!$a||(gr=$a(kr,vt,gr))<0)return-1}else if(Jr!=vt.charCodeAt(gr++))return-1}return gr}function Vr(kr,at,vt){var gr=Ue.exec(at.slice(vt));return gr?(kr.p=je[gr[0].toLowerCase()],vt+gr[0].length):-1}function Bt(kr,at,vt){var gr=wr.exec(at.slice(vt));return gr?(kr.w=Er[gr[0].toLowerCase()],vt+gr[0].length):-1}function Lt(kr,at,vt){var gr=nr.exec(at.slice(vt));return gr?(kr.w=hr[gr[0].toLowerCase()],vt+gr[0].length):-1}function mn(kr,at,vt){var gr=ft.exec(at.slice(vt));return gr?(kr.m=Wr[gr[0].toLowerCase()],vt+gr[0].length):-1}function Wt(kr,at,vt){var gr=Mr.exec(at.slice(vt));return gr?(kr.m=Ar[gr[0].toLowerCase()],vt+gr[0].length):-1}function Rt(kr,at,vt){return Or(kr,Pe,at,vt)}function nt(kr,at,vt){return Or(kr,Qe,at,vt)}function Ft(kr,at,vt){return Or(kr,Ve,at,vt)}function ya(kr){return K[kr.getDay()]}function ta(kr){return ue[kr.getDay()]}function Nn(kr){return Re[kr.getMonth()]}function ka(kr){return ae[kr.getMonth()]}function wi(kr){return ar[+(kr.getHours()>=12)]}function Xi(kr){return 1+~~(kr.getMonth()/3)}function Zi(kr){return K[kr.getUTCDay()]}function Ji(kr){return ue[kr.getUTCDay()]}function ln(kr){return Re[kr.getUTCMonth()]}function Mo(kr){return ae[kr.getUTCMonth()]}function Ti(kr){return ar[+(kr.getUTCHours()>=12)]}function Mi(kr){return 1+~~(kr.getUTCMonth()/3)}return{format:function(kr){var at=Hr(kr+="",xr);return at.toString=function(){return kr},at},parse:function(kr){var at=bt(kr+="",!1);return at.toString=function(){return kr},at},utcFormat:function(kr){var at=Hr(kr+="",ct);return at.toString=function(){return kr},at},utcParse:function(kr){var at=bt(kr+="",!0);return at.toString=function(){return kr},at}}}var i={"-":"",_:" ",0:"0"},l=/^\s*\d+/,u=/^%/,s=/[\\^$*+?|[\]().{}]/g;function f(Te,Pe,Qe){var Ve=Te<0?"-":"",ar=(Ve?-Te:Te)+"",ue=ar.length;return Ve+(ue<Qe?new Array(Qe-ue+1).join(Pe)+ar:ar)}function v(Te){return Te.replace(s,"\\$&")}function g(Te){return new RegExp("^(?:"+Te.map(v).join("|")+")","i")}function b(Te){for(var Pe={},Qe=-1,Ve=Te.length;++Qe<Ve;)Pe[Te[Qe].toLowerCase()]=Qe;return Pe}function x(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+1));return Ve?(Te.w=+Ve[0],Qe+Ve[0].length):-1}function T(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+1));return Ve?(Te.u=+Ve[0],Qe+Ve[0].length):-1}function A(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.U=+Ve[0],Qe+Ve[0].length):-1}function m(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.V=+Ve[0],Qe+Ve[0].length):-1}function w(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.W=+Ve[0],Qe+Ve[0].length):-1}function k(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+4));return Ve?(Te.y=+Ve[0],Qe+Ve[0].length):-1}function y(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.y=+Ve[0]+(+Ve[0]>68?1900:2e3),Qe+Ve[0].length):-1}function M(Te,Pe,Qe){var Ve=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Pe.slice(Qe,Qe+6));return Ve?(Te.Z=Ve[1]?0:-(Ve[2]+(Ve[3]||"00")),Qe+Ve[0].length):-1}function d(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+1));return Ve?(Te.q=Ve[0]*3-3,Qe+Ve[0].length):-1}function _(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.m=Ve[0]-1,Qe+Ve[0].length):-1}function p(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.d=+Ve[0],Qe+Ve[0].length):-1}function c(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+3));return Ve?(Te.m=0,Te.d=+Ve[0],Qe+Ve[0].length):-1}function S(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.H=+Ve[0],Qe+Ve[0].length):-1}function h(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.M=+Ve[0],Qe+Ve[0].length):-1}function R(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+2));return Ve?(Te.S=+Ve[0],Qe+Ve[0].length):-1}function E(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+3));return Ve?(Te.L=+Ve[0],Qe+Ve[0].length):-1}function D(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe,Qe+6));return Ve?(Te.L=Math.floor(Ve[0]/1e3),Qe+Ve[0].length):-1}function N(Te,Pe,Qe){var Ve=u.exec(Pe.slice(Qe,Qe+1));return Ve?Qe+Ve[0].length:-1}function I(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe));return Ve?(Te.Q=+Ve[0],Qe+Ve[0].length):-1}function F(Te,Pe,Qe){var Ve=l.exec(Pe.slice(Qe));return Ve?(Te.s=+Ve[0],Qe+Ve[0].length):-1}function L(Te,Pe){return f(Te.getDate(),Pe,2)}function P(Te,Pe){return f(Te.getHours(),Pe,2)}function q(Te,Pe){return f(Te.getHours()%12||12,Pe,2)}function U(Te,Pe){return f(1+r.timeDay.count(r.timeYear(Te),Te),Pe,3)}function W(Te,Pe){return f(Te.getMilliseconds(),Pe,3)}function j(Te,Pe){return W(Te,Pe)+"000"}function $(Te,Pe){return f(Te.getMonth()+1,Pe,2)}function G(Te,Pe){return f(Te.getMinutes(),Pe,2)}function O(Te,Pe){return f(Te.getSeconds(),Pe,2)}function Z(Te){var Pe=Te.getDay();return Pe===0?7:Pe}function ne(Te,Pe){return f(r.timeSunday.count(r.timeYear(Te)-1,Te),Pe,2)}function Q(Te,Pe){var Qe=Te.getDay();return Te=Qe>=4||Qe===0?r.timeThursday(Te):r.timeThursday.ceil(Te),f(r.timeThursday.count(r.timeYear(Te),Te)+(r.timeYear(Te).getDay()===4),Pe,2)}function ie(Te){return Te.getDay()}function ee(Te,Pe){return f(r.timeMonday.count(r.timeYear(Te)-1,Te),Pe,2)}function V(Te,Pe){return f(Te.getFullYear()%100,Pe,2)}function re(Te,Pe){return f(Te.getFullYear()%1e4,Pe,4)}function H(Te){var Pe=Te.getTimezoneOffset();return(Pe>0?"-":(Pe*=-1,"+"))+f(Pe/60|0,"0",2)+f(Pe%60,"0",2)}function te(Te,Pe){return f(Te.getUTCDate(),Pe,2)}function se(Te,Pe){return f(Te.getUTCHours(),Pe,2)}function he(Te,Pe){return f(Te.getUTCHours()%12||12,Pe,2)}function ke(Te,Pe){return f(1+r.utcDay.count(r.utcYear(Te),Te),Pe,3)}function we(Te,Pe){return f(Te.getUTCMilliseconds(),Pe,3)}function ve(Te,Pe){return we(Te,Pe)+"000"}function Me(Te,Pe){return f(Te.getUTCMonth()+1,Pe,2)}function Se(Te,Pe){return f(Te.getUTCMinutes(),Pe,2)}function De(Te,Pe){return f(Te.getUTCSeconds(),Pe,2)}function Ce(Te){var Pe=Te.getUTCDay();return Pe===0?7:Pe}function Oe(Te,Pe){return f(r.utcSunday.count(r.utcYear(Te)-1,Te),Pe,2)}function Be(Te,Pe){var Qe=Te.getUTCDay();return Te=Qe>=4||Qe===0?r.utcThursday(Te):r.utcThursday.ceil(Te),f(r.utcThursday.count(r.utcYear(Te),Te)+(r.utcYear(Te).getUTCDay()===4),Pe,2)}function ge(Te){return Te.getUTCDay()}function Ae(Te,Pe){return f(r.utcMonday.count(r.utcYear(Te)-1,Te),Pe,2)}function ce(Te,Pe){return f(Te.getUTCFullYear()%100,Pe,2)}function ye(Te,Pe){return f(Te.getUTCFullYear()%1e4,Pe,4)}function Le(){return"+0000"}function me(){return"%"}function de(Te){return+Te}function be(Te){return Math.floor(+Te/1e3)}var Ee;ze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ze(Te){return Ee=o(Te),e.timeFormat=Ee.format,e.timeParse=Ee.parse,e.utcFormat=Ee.utcFormat,e.utcParse=Ee.utcParse,Ee}var Fe="%Y-%m-%dT%H:%M:%S.%LZ";function Je(Te){return Te.toISOString()}var Ye=Date.prototype.toISOString?Je:e.utcFormat(Fe);function Ge(Te){var Pe=new Date(Te);return isNaN(Pe)?null:Pe}var We=+new Date("2000-01-01T00:00:00.000Z")?Ge:e.utcParse(Fe);e.isoFormat=Ye,e.isoParse=We,e.timeFormatDefaultLocale=ze,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})})});var Sp=pe((Gc,Nb)=>{(function(e,r){typeof Gc=="object"&&typeof Nb!="undefined"?r(Gc):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e.d3=e.d3||{}))})(Gc,function(e){"use strict";function r(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function t(_,p){if((c=(_=p?_.toExponential(p-1):_.toExponential()).indexOf("e"))<0)return null;var c,S=_.slice(0,c);return[S.length>1?S[0]+S.slice(2):S,+_.slice(c+1)]}function n(_){return _=t(Math.abs(_)),_?_[1]:NaN}function a(_,p){return function(c,S){for(var h=c.length,R=[],E=0,D=_[0],N=0;h>0&&D>0&&(N+D+1>S&&(D=Math.max(1,S-N)),R.push(c.substring(h-=D,h+D)),!((N+=D+1)>S));)D=_[E=(E+1)%_.length];return R.reverse().join(p)}}function o(_){return function(p){return p.replace(/[0-9]/g,function(c){return _[+c]})}}var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(_){if(!(p=i.exec(_)))throw new Error("invalid format: "+_);var p;return new u({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}l.prototype=u.prototype;function u(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s(_){e:for(var p=_.length,c=1,S=-1,h;c<p;++c)switch(_[c]){case".":S=h=c;break;case"0":S===0&&(S=c),h=c;break;default:if(!+_[c])break e;S>0&&(S=0);break}return S>0?_.slice(0,S)+_.slice(h+1):_}var f;function v(_,p){var c=t(_,p);if(!c)return _+"";var S=c[0],h=c[1],R=h-(f=Math.max(-8,Math.min(8,Math.floor(h/3)))*3)+1,E=S.length;return R===E?S:R>E?S+new Array(R-E+1).join("0"):R>0?S.slice(0,R)+"."+S.slice(R):"0."+new Array(1-R).join("0")+t(_,Math.max(0,p+R-1))[0]}function g(_,p){var c=t(_,p);if(!c)return _+"";var S=c[0],h=c[1];return h<0?"0."+new Array(-h).join("0")+S:S.length>h+1?S.slice(0,h+1)+"."+S.slice(h+1):S+new Array(h-S.length+2).join("0")}var b={"%":function(_,p){return(_*100).toFixed(p)},b:function(_){return Math.round(_).toString(2)},c:function(_){return _+""},d:r,e:function(_,p){return _.toExponential(p)},f:function(_,p){return _.toFixed(p)},g:function(_,p){return _.toPrecision(p)},o:function(_){return Math.round(_).toString(8)},p:function(_,p){return g(_*100,p)},r:g,s:v,X:function(_){return Math.round(_).toString(16).toUpperCase()},x:function(_){return Math.round(_).toString(16)}};function x(_){return _}var T=Array.prototype.map,A=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function m(_){var p=_.grouping===void 0||_.thousands===void 0?x:a(T.call(_.grouping,Number),_.thousands+""),c=_.currency===void 0?"":_.currency[0]+"",S=_.currency===void 0?"":_.currency[1]+"",h=_.decimal===void 0?".":_.decimal+"",R=_.numerals===void 0?x:o(T.call(_.numerals,String)),E=_.percent===void 0?"%":_.percent+"",D=_.minus===void 0?"-":_.minus+"",N=_.nan===void 0?"NaN":_.nan+"";function I(L){L=l(L);var P=L.fill,q=L.align,U=L.sign,W=L.symbol,j=L.zero,$=L.width,G=L.comma,O=L.precision,Z=L.trim,ne=L.type;ne==="n"?(G=!0,ne="g"):b[ne]||(O===void 0&&(O=12),Z=!0,ne="g"),(j||P==="0"&&q==="=")&&(j=!0,P="0",q="=");var Q=W==="$"?c:W==="#"&&/[boxX]/.test(ne)?"0"+ne.toLowerCase():"",ie=W==="$"?S:/[%p]/.test(ne)?E:"",ee=b[ne],V=/[defgprs%]/.test(ne);O=O===void 0?6:/[gprs]/.test(ne)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function re(H){var te=Q,se=ie,he,ke,we;if(ne==="c")se=ee(H)+se,H="";else{H=+H;var ve=H<0||1/H<0;if(H=isNaN(H)?N:ee(Math.abs(H),O),Z&&(H=s(H)),ve&&+H==0&&U!=="+"&&(ve=!1),te=(ve?U==="("?U:D:U==="-"||U==="("?"":U)+te,se=(ne==="s"?A[8+f/3]:"")+se+(ve&&U==="("?")":""),V){for(he=-1,ke=H.length;++he<ke;)if(we=H.charCodeAt(he),48>we||we>57){se=(we===46?h+H.slice(he+1):H.slice(he))+se,H=H.slice(0,he);break}}}G&&!j&&(H=p(H,1/0));var Me=te.length+H.length+se.length,Se=Me<$?new Array($-Me+1).join(P):"";switch(G&&j&&(H=p(Se+H,Se.length?$-se.length:1/0),Se=""),q){case"<":H=te+H+se+Se;break;case"=":H=te+Se+H+se;break;case"^":H=Se.slice(0,Me=Se.length>>1)+te+H+se+Se.slice(Me);break;default:H=Se+te+H+se;break}return R(H)}return re.toString=function(){return L+""},re}function F(L,P){var q=I((L=l(L),L.type="f",L)),U=Math.max(-8,Math.min(8,Math.floor(n(P)/3)))*3,W=Math.pow(10,-U),j=A[8+U/3];return function($){return q(W*$)+j}}return{format:I,formatPrefix:F}}var w;k({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function k(_){return w=m(_),e.format=w.format,e.formatPrefix=w.formatPrefix,w}function y(_){return Math.max(0,-n(Math.abs(_)))}function M(_,p){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(p)/3)))*3-n(Math.abs(_)))}function d(_,p){return _=Math.abs(_),p=Math.abs(p)-_,Math.max(0,n(p)-n(_))+1}e.FormatSpecifier=u,e.formatDefaultLocale=k,e.formatLocale=m,e.formatSpecifier=l,e.precisionFixed=y,e.precisionPrefix=M,e.precisionRound=d,Object.defineProperty(e,"__esModule",{value:!0})})});var Ob=pe((e0e,zb)=>{"use strict";zb.exports=function(e){for(var r=e.length,t,n=0;n<r;n++)if(t=e.charCodeAt(n),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}});var rt=pe((r0e,qb)=>{"use strict";var SU=Ob();qb.exports=function(e){var r=typeof e;if(r==="string"){var t=e;if(e=+e,e===0&&SU(t))return!1}else if(r!=="number")return!1;return e-e<1}});var Xt=pe((t0e,Bb)=>{"use strict";Bb.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}});var Cp=pe((Yc,Ub)=>{(function(e,r){typeof Yc=="object"&&typeof Ub!="undefined"?r(Yc):typeof define=="function"&&define.amd?define(["exports"],r):(e=typeof globalThis!="undefined"?globalThis:e||self,r(e["base64-arraybuffer"]={}))})(Yc,function(e){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<r.length;n++)t[r.charCodeAt(n)]=n;var a=function(i){var l=new Uint8Array(i),u,s=l.length,f="";for(u=0;u<s;u+=3)f+=r[l[u]>>2],f+=r[(l[u]&3)<<4|l[u+1]>>4],f+=r[(l[u+1]&15)<<2|l[u+2]>>6],f+=r[l[u+2]&63];return s%3===2?f=f.substring(0,f.length-1)+"=":s%3===1&&(f=f.substring(0,f.length-2)+"=="),f},o=function(i){var l=i.length*.75,u=i.length,s,f=0,v,g,b,x;i[i.length-1]==="="&&(l--,i[i.length-2]==="="&&l--);var T=new ArrayBuffer(l),A=new Uint8Array(T);for(s=0;s<u;s+=4)v=t[i.charCodeAt(s)],g=t[i.charCodeAt(s+1)],b=t[i.charCodeAt(s+2)],x=t[i.charCodeAt(s+3)],A[f++]=v<<2|g>>4,A[f++]=(g&15)<<4|b>>2,A[f++]=(b&3)<<6|x&63;return T};e.decode=o,e.encode=a,Object.defineProperty(e,"__esModule",{value:!0})})});var So=pe((n0e,Hb)=>{"use strict";Hb.exports=function(r){return window&&window.process&&window.process.versions?Object.prototype.toString.call(r)==="[object Object]":Object.prototype.toString.call(r)==="[object Object]"&&Object.getPrototypeOf(r).hasOwnProperty("hasOwnProperty")}});var ia=pe(ri=>{"use strict";var CU=Cp().decode,EU=So(),Ep=Array.isArray,LU=ArrayBuffer,RU=DataView;function Vb(e){return LU.isView(e)&&!(e instanceof RU)}ri.isTypedArray=Vb;function Wc(e){return Ep(e)||Vb(e)}ri.isArrayOrTypedArray=Wc;function DU(e){return!Wc(e[0])}ri.isArray1D=DU;ri.ensureArray=function(e,r){return Ep(e)||(e=[]),e.length=r,e};var dn={u1c:typeof Uint8ClampedArray=="undefined"?void 0:Uint8ClampedArray,i1:typeof Int8Array=="undefined"?void 0:Int8Array,u1:typeof Uint8Array=="undefined"?void 0:Uint8Array,i2:typeof Int16Array=="undefined"?void 0:Int16Array,u2:typeof Uint16Array=="undefined"?void 0:Uint16Array,i4:typeof Int32Array=="undefined"?void 0:Int32Array,u4:typeof Uint32Array=="undefined"?void 0:Uint32Array,f4:typeof Float32Array=="undefined"?void 0:Float32Array,f8:typeof Float64Array=="undefined"?void 0:Float64Array};dn.uint8c=dn.u1c;dn.uint8=dn.u1;dn.int8=dn.i1;dn.uint16=dn.u2;dn.int16=dn.i2;dn.uint32=dn.u4;dn.int32=dn.i4;dn.float32=dn.f4;dn.float64=dn.f8;function Lp(e){return e.constructor===ArrayBuffer}ri.isArrayBuffer=Lp;ri.decodeTypedArraySpec=function(e){var r=[],t=PU(e),n=t.dtype,a=dn[n];if(!a)throw new Error('Error in dtype: "'+n+'"');var o=a.BYTES_PER_ELEMENT,i=t.bdata;Lp(i)||(i=CU(i));var l=t.shape===void 0?[i.byteLength/o]:(""+t.shape).split(",");l.reverse();var u=l.length,s,f,v=+l[0],g=o*v,b=0;if(u===1)r=new a(i);else if(u===2)for(s=+l[1],f=0;f<s;f++)r[f]=new a(i,b,v),b+=g;else if(u===3){s=+l[1];for(var x=+l[2],T=0;T<x;T++)for(r[T]=[],f=0;f<s;f++)r[T][f]=new a(i,b,v),b+=g}else throw new Error("ndim: "+u+'is not supported with the shape:"'+t.shape+'"');return r.bdata=t.bdata,r.dtype=t.dtype,r.shape=l.reverse().join(","),e._inputArray=r,r};ri.isTypedArraySpec=function(e){return EU(e)&&e.hasOwnProperty("dtype")&&typeof e.dtype=="string"&&e.hasOwnProperty("bdata")&&(typeof e.bdata=="string"||Lp(e.bdata))&&(e.shape===void 0||e.hasOwnProperty("shape")&&(typeof e.shape=="string"||typeof e.shape=="number"))};function PU(e){return{bdata:e.bdata,dtype:e.dtype,shape:e.shape}}ri.concat=function(){var e=[],r=!0,t=0,n,a,o,i,l,u,s,f;for(o=0;o<arguments.length;o++)i=arguments[o],u=i.length,u&&(a?e.push(i):(a=i,l=u),Ep(i)?n=!1:(r=!1,t?n!==i.constructor&&(n=!1):n=i.constructor),t+=u);if(!t)return[];if(!e.length)return a;if(r)return a.concat.apply(a,e);if(n){for(s=new n(t),s.set(a),o=0;o<e.length;o++)i=e[o],s.set(i,l),l+=i.length;return s}for(s=new Array(t),f=0;f<a.length;f++)s[f]=a[f];for(o=0;o<e.length;o++){for(i=e[o],f=0;f<i.length;f++)s[l+f]=i[f];l+=f}return s};ri.maxRowLength=function(e){return Gb(e,Math.max,0)};ri.minRowLength=function(e){return Gb(e,Math.min,1/0)};function Gb(e,r,t){if(Wc(e))if(Wc(e[0])){for(var n=t,a=0;a<e.length;a++)n=r(n,e[a].length);return n}else return e.length;return 0}});var Xc=pe((i0e,Jb)=>{"use strict";var Yb=rt(),Dp=ia().isArrayOrTypedArray;Jb.exports=function(r,t){if(Yb(t))t=String(t);else if(typeof t!="string"||t.substr(t.length-4)==="[-1]")throw"bad property string";var n=t.split("."),a,o,i,l;for(l=0;l<n.length;l++)if(String(n[l]).slice(0,2)==="__")throw"bad property string";for(l=0;l<n.length;){if(a=String(n[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),a){if(a[1])n[l]=a[1];else if(l===0)n.splice(0,1);else throw"bad property string";for(o=a[2].substr(1,a[2].length-2).split("]["),i=0;i<o.length;i++)l++,n.splice(l,0,Number(o[i]))}l++}return typeof r!="object"?zU(r,t,n):{set:Xb(r,n,t),get:Wb(r,n),astr:t,parts:n,obj:r}};function Wb(e,r){return function(){var t=e,n,a,o,i,l;for(i=0;i<r.length-1;i++){if(n=r[i],n===-1){for(a=!0,o=[],l=0;l<t.length;l++)o[l]=Wb(t[l],r.slice(i+1))(),o[l]!==o[0]&&(a=!1);return a?o[0]:o}if(typeof n=="number"&&!Dp(t)||(t=t[n],typeof t!="object"||t===null))return}if(!(typeof t!="object"||t===null)&&(o=t[r[i]],o!==null))return o}}var FU=/(^|\.)args\[/;function Rp(e,r){return e===void 0||e===null&&!r.match(FU)}function Xb(e,r,t){return function(n){var a=e,o="",i=[[e,o]],l=Rp(n,t),u,s;for(s=0;s<r.length-1;s++){if(u=r[s],typeof u=="number"&&!Dp(a))throw"array index but container is not an array";if(u===-1){if(l=!NU(a,r.slice(s+1),n,t),l)break;return}if(!Zb(a,u,r[s+1],l))break;if(a=a[u],typeof a!="object"||a===null)throw"container is not an object";o=IU(o,u),i.push([a,o])}if(l){if(s===r.length-1&&(delete a[r[s]],Array.isArray(a)&&+r[s]===a.length-1))for(;a.length&&a[a.length-1]===void 0;)a.pop()}else a[r[s]]=n}}function IU(e,r){var t=r;return Yb(r)?t="["+r+"]":e&&(t="."+r),e+t}function NU(e,r,t,n){var a=Dp(t),o=!0,i=t,l=n.replace("-1",0),u=a?!1:Rp(t,l),s=r[0],f;for(f=0;f<e.length;f++)l=n.replace("-1",f),a&&(i=t[f%t.length],u=Rp(i,l)),u&&(o=!1),Zb(e,f,s,u)&&Xb(e[f],r,n.replace("-1",f))(i);return o}function Zb(e,r,t,n){if(e[r]===void 0){if(n)return!1;typeof t=="number"?e[r]=[]:e[r]={}}return!0}function zU(e,r,t){return{set:function(){throw"bad container"},get:function(){},astr:r,parts:t,obj:e}}});var jb=pe((o0e,$b)=>{"use strict";var Hs=Xc(),OU=/^\w*$/,qU=0,Kb=1,Zc=2,Qb=3,Ll=4;$b.exports=function(r,t,n,a){n=n||"name",a=a||"value";var o,i,l,u={};t&&t.length?(l=Hs(r,t),i=l.get()):i=r,t=t||"";var s={};if(i)for(o=0;o<i.length;o++)s[i[o][n]]=o;var f=OU.test(a),v={set:function(g,b){var x=b===null?Ll:qU;if(!i){if(!l||x===Ll)return;i=[],l.set(i)}var T=s[g];if(T===void 0){if(x===Ll)return;x=x|Qb,T=i.length,s[g]=T}else b!==(f?i[T][a]:Hs(i[T],a).get())&&(x=x|Zc);var A=i[T]=i[T]||{};return A[n]=g,f?A[a]=b:Hs(A,a).set(b),b!==null&&(x=x&~Ll),u[T]=u[T]|x,v},get:function(g){if(i){var b=s[g];if(b!==void 0)return f?i[b][a]:Hs(i[b],a).get()}},rename:function(g,b){var x=s[g];return x===void 0||(u[x]=u[x]|Kb,s[b]=x,delete s[g],i[x][n]=b),v},remove:function(g){var b=s[g];if(b===void 0)return v;var x=i[b];if(Object.keys(x).length>2)return u[b]=u[b]|Zc,v.set(g,null);if(f){for(o=b;o<i.length;o++)u[o]=u[o]|Qb;for(o=b;o<i.length;o++)s[i[o][n]]--;i.splice(b,1),delete s[g]}else Hs(x,a).set(null),u[b]=u[b]|Zc|Ll;return v},constructUpdate:function(){for(var g,b,x={},T=Object.keys(u),A=0;A<T.length;A++)b=T[A],g=t+"["+b+"]",i[b]?(u[b]&Kb&&(x[g+"."+n]=i[b][n]),u[b]&Zc&&(f?x[g+"."+a]=u[b]&Ll?null:i[b][a]:x[g+"."+a]=u[b]&Ll?null:Hs(i[b],a).get())):x[g]=null;return x}};return v}});var r4=pe((l0e,e4)=>{"use strict";var BU=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,UU=/^[^\.\[\]]+$/;e4.exports=function(e,r){for(;r;){var t=e.match(BU);if(t)e=t[1];else if(e.match(UU))e="";else throw new Error("bad relativeAttr call:"+[e,r]);if(r.charAt(0)==="^")r=r.slice(1);else break}return e&&r.charAt(0)!=="["?e+"."+r:e+r}});var Jc=pe((s0e,t4)=>{"use strict";var HU=rt();t4.exports=function(r,t){if(r>0)return Math.log(r)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return HU(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}});var i4=pe((u0e,a4)=>{"use strict";var n4=ia().isArrayOrTypedArray,xf=So();a4.exports=function e(r,t){for(var n in t){var a=t[n],o=r[n];if(o!==a)if(n.charAt(0)==="_"||typeof a=="function"){if(n in r)continue;r[n]=a}else if(n4(a)&&n4(o)&&xf(a[0])){if(n==="customdata"||n==="ids")continue;for(var i=Math.min(a.length,o.length),l=0;l<i;l++)o[l]!==a[l]&&xf(a[l])&&xf(o[l])&&e(o[l],a[l])}else xf(a)&&xf(o)&&(e(o,a),Object.keys(o).length||delete r[n])}}});var Vs=pe((f0e,o4)=>{"use strict";function VU(e,r){var t=e%r;return t<0?t+r:t}function GU(e,r){return Math.abs(e)>r/2?e-Math.round(e/r)*r:e}o4.exports={mod:VU,modHalf:GU}});var La=pe((c0e,Kc)=>{(function(e){var r=/^\s+/,t=/\s+$/,n=0,a=e.round,o=e.min,i=e.max,l=e.random;function u(V,re){if(V=V||"",re=re||{},V instanceof u)return V;if(!(this instanceof u))return new u(V,re);var H=s(V);this._originalInput=V,this._r=H.r,this._g=H.g,this._b=H.b,this._a=H.a,this._roundA=a(100*this._a)/100,this._format=re.format||H.format,this._gradientType=re.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=H.ok,this._tc_id=n++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var V=this.toRgb();return(V.r*299+V.g*587+V.b*114)/1e3},getLuminance:function(){var V=this.toRgb(),re,H,te,se,he,ke;return re=V.r/255,H=V.g/255,te=V.b/255,re<=.03928?se=re/12.92:se=e.pow((re+.055)/1.055,2.4),H<=.03928?he=H/12.92:he=e.pow((H+.055)/1.055,2.4),te<=.03928?ke=te/12.92:ke=e.pow((te+.055)/1.055,2.4),.2126*se+.7152*he+.0722*ke},setAlpha:function(V){return this._a=L(V),this._roundA=a(100*this._a)/100,this},toHsv:function(){var V=b(this._r,this._g,this._b);return{h:V.h*360,s:V.s,v:V.v,a:this._a}},toHsvString:function(){var V=b(this._r,this._g,this._b),re=a(V.h*360),H=a(V.s*100),te=a(V.v*100);return this._a==1?"hsv("+re+", "+H+"%, "+te+"%)":"hsva("+re+", "+H+"%, "+te+"%, "+this._roundA+")"},toHsl:function(){var V=v(this._r,this._g,this._b);return{h:V.h*360,s:V.s,l:V.l,a:this._a}},toHslString:function(){var V=v(this._r,this._g,this._b),re=a(V.h*360),H=a(V.s*100),te=a(V.l*100);return this._a==1?"hsl("+re+", "+H+"%, "+te+"%)":"hsla("+re+", "+H+"%, "+te+"%, "+this._roundA+")"},toHex:function(V){return T(this._r,this._g,this._b,V)},toHexString:function(V){return"#"+this.toHex(V)},toHex8:function(V){return A(this._r,this._g,this._b,this._a,V)},toHex8String:function(V){return"#"+this.toHex8(V)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(P(this._r,255)*100)+"%",g:a(P(this._g,255)*100)+"%",b:a(P(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%)":"rgba("+a(P(this._r,255)*100)+"%, "+a(P(this._g,255)*100)+"%, "+a(P(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:I[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(V){var re="#"+m(this._r,this._g,this._b,this._a),H=re,te=this._gradientType?"GradientType = 1, ":"";if(V){var se=u(V);H="#"+m(se._r,se._g,se._b,se._a)}return"progid:DXImageTransform.Microsoft.gradient("+te+"startColorstr="+re+",endColorstr="+H+")"},toString:function(V){var re=!!V;V=V||this._format;var H=!1,te=this._a<1&&this._a>=0,se=!re&&te&&(V==="hex"||V==="hex6"||V==="hex3"||V==="hex4"||V==="hex8"||V==="name");return se?V==="name"&&this._a===0?this.toName():this.toRgbString():(V==="rgb"&&(H=this.toRgbString()),V==="prgb"&&(H=this.toPercentageRgbString()),(V==="hex"||V==="hex6")&&(H=this.toHexString()),V==="hex3"&&(H=this.toHexString(!0)),V==="hex4"&&(H=this.toHex8String(!0)),V==="hex8"&&(H=this.toHex8String()),V==="name"&&(H=this.toName()),V==="hsl"&&(H=this.toHslString()),V==="hsv"&&(H=this.toHsvString()),H||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(V,re){var H=V.apply(null,[this].concat([].slice.call(re)));return this._r=H._r,this._g=H._g,this._b=H._b,this.setAlpha(H._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(w,arguments)},saturate:function(){return this._applyModification(k,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(V,re){return V.apply(null,[this].concat([].slice.call(re)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(c,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(h,arguments)}},u.fromRatio=function(V,re){if(typeof V=="object"){var H={};for(var te in V)V.hasOwnProperty(te)&&(te==="a"?H[te]=V[te]:H[te]=G(V[te]));V=H}return u(V,re)};function s(V){var re={r:0,g:0,b:0},H=1,te=null,se=null,he=null,ke=!1,we=!1;return typeof V=="string"&&(V=ie(V)),typeof V=="object"&&(Q(V.r)&&Q(V.g)&&Q(V.b)?(re=f(V.r,V.g,V.b),ke=!0,we=String(V.r).substr(-1)==="%"?"prgb":"rgb"):Q(V.h)&&Q(V.s)&&Q(V.v)?(te=G(V.s),se=G(V.v),re=x(V.h,te,se),ke=!0,we="hsv"):Q(V.h)&&Q(V.s)&&Q(V.l)&&(te=G(V.s),he=G(V.l),re=g(V.h,te,he),ke=!0,we="hsl"),V.hasOwnProperty("a")&&(H=V.a)),H=L(H),{ok:ke,format:V.format||we,r:o(255,i(re.r,0)),g:o(255,i(re.g,0)),b:o(255,i(re.b,0)),a:H}}function f(V,re,H){return{r:P(V,255)*255,g:P(re,255)*255,b:P(H,255)*255}}function v(V,re,H){V=P(V,255),re=P(re,255),H=P(H,255);var te=i(V,re,H),se=o(V,re,H),he,ke,we=(te+se)/2;if(te==se)he=ke=0;else{var ve=te-se;switch(ke=we>.5?ve/(2-te-se):ve/(te+se),te){case V:he=(re-H)/ve+(re<H?6:0);break;case re:he=(H-V)/ve+2;break;case H:he=(V-re)/ve+4;break}he/=6}return{h:he,s:ke,l:we}}function g(V,re,H){var te,se,he;V=P(V,360),re=P(re,100),H=P(H,100);function ke(Me,Se,De){return De<0&&(De+=1),De>1&&(De-=1),De<1/6?Me+(Se-Me)*6*De:De<1/2?Se:De<2/3?Me+(Se-Me)*(2/3-De)*6:Me}if(re===0)te=se=he=H;else{var we=H<.5?H*(1+re):H+re-H*re,ve=2*H-we;te=ke(ve,we,V+1/3),se=ke(ve,we,V),he=ke(ve,we,V-1/3)}return{r:te*255,g:se*255,b:he*255}}function b(V,re,H){V=P(V,255),re=P(re,255),H=P(H,255);var te=i(V,re,H),se=o(V,re,H),he,ke,we=te,ve=te-se;if(ke=te===0?0:ve/te,te==se)he=0;else{switch(te){case V:he=(re-H)/ve+(re<H?6:0);break;case re:he=(H-V)/ve+2;break;case H:he=(V-re)/ve+4;break}he/=6}return{h:he,s:ke,v:we}}function x(V,re,H){V=P(V,360)*6,re=P(re,100),H=P(H,100);var te=e.floor(V),se=V-te,he=H*(1-re),ke=H*(1-se*re),we=H*(1-(1-se)*re),ve=te%6,Me=[H,ke,he,he,we,H][ve],Se=[we,H,H,ke,he,he][ve],De=[he,he,we,H,H,ke][ve];return{r:Me*255,g:Se*255,b:De*255}}function T(V,re,H,te){var se=[$(a(V).toString(16)),$(a(re).toString(16)),$(a(H).toString(16))];return te&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0):se.join("")}function A(V,re,H,te,se){var he=[$(a(V).toString(16)),$(a(re).toString(16)),$(a(H).toString(16)),$(O(te))];return se&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)&&he[3].charAt(0)==he[3].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0)+he[3].charAt(0):he.join("")}function m(V,re,H,te){var se=[$(O(te)),$(a(V).toString(16)),$(a(re).toString(16)),$(a(H).toString(16))];return se.join("")}u.equals=function(V,re){return!V||!re?!1:u(V).toRgbString()==u(re).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};function w(V,re){re=re===0?0:re||10;var H=u(V).toHsl();return H.s-=re/100,H.s=q(H.s),u(H)}function k(V,re){re=re===0?0:re||10;var H=u(V).toHsl();return H.s+=re/100,H.s=q(H.s),u(H)}function y(V){return u(V).desaturate(100)}function M(V,re){re=re===0?0:re||10;var H=u(V).toHsl();return H.l+=re/100,H.l=q(H.l),u(H)}function d(V,re){re=re===0?0:re||10;var H=u(V).toRgb();return H.r=i(0,o(255,H.r-a(255*-(re/100)))),H.g=i(0,o(255,H.g-a(255*-(re/100)))),H.b=i(0,o(255,H.b-a(255*-(re/100)))),u(H)}function _(V,re){re=re===0?0:re||10;var H=u(V).toHsl();return H.l-=re/100,H.l=q(H.l),u(H)}function p(V,re){var H=u(V).toHsl(),te=(H.h+re)%360;return H.h=te<0?360+te:te,u(H)}function c(V){var re=u(V).toHsl();return re.h=(re.h+180)%360,u(re)}function S(V){var re=u(V).toHsl(),H=re.h;return[u(V),u({h:(H+120)%360,s:re.s,l:re.l}),u({h:(H+240)%360,s:re.s,l:re.l})]}function h(V){var re=u(V).toHsl(),H=re.h;return[u(V),u({h:(H+90)%360,s:re.s,l:re.l}),u({h:(H+180)%360,s:re.s,l:re.l}),u({h:(H+270)%360,s:re.s,l:re.l})]}function R(V){var re=u(V).toHsl(),H=re.h;return[u(V),u({h:(H+72)%360,s:re.s,l:re.l}),u({h:(H+216)%360,s:re.s,l:re.l})]}function E(V,re,H){re=re||6,H=H||30;var te=u(V).toHsl(),se=360/H,he=[u(V)];for(te.h=(te.h-(se*re>>1)+720)%360;--re;)te.h=(te.h+se)%360,he.push(u(te));return he}function D(V,re){re=re||6;for(var H=u(V).toHsv(),te=H.h,se=H.s,he=H.v,ke=[],we=1/re;re--;)ke.push(u({h:te,s:se,v:he})),he=(he+we)%1;return ke}u.mix=function(V,re,H){H=H===0?0:H||50;var te=u(V).toRgb(),se=u(re).toRgb(),he=H/100,ke={r:(se.r-te.r)*he+te.r,g:(se.g-te.g)*he+te.g,b:(se.b-te.b)*he+te.b,a:(se.a-te.a)*he+te.a};return u(ke)},u.readability=function(V,re){var H=u(V),te=u(re);return(e.max(H.getLuminance(),te.getLuminance())+.05)/(e.min(H.getLuminance(),te.getLuminance())+.05)},u.isReadable=function(V,re,H){var te=u.readability(V,re),se,he;switch(he=!1,se=ee(H),se.level+se.size){case"AAsmall":case"AAAlarge":he=te>=4.5;break;case"AAlarge":he=te>=3;break;case"AAAsmall":he=te>=7;break}return he},u.mostReadable=function(V,re,H){var te=null,se=0,he,ke,we,ve;H=H||{},ke=H.includeFallbackColors,we=H.level,ve=H.size;for(var Me=0;Me<re.length;Me++)he=u.readability(V,re[Me]),he>se&&(se=he,te=u(re[Me]));return u.isReadable(V,te,{level:we,size:ve})||!ke?te:(H.includeFallbackColors=!1,u.mostReadable(V,["#fff","#000"],H))};var N=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=u.hexNames=F(N);function F(V){var re={};for(var H in V)V.hasOwnProperty(H)&&(re[V[H]]=H);return re}function L(V){return V=parseFloat(V),(isNaN(V)||V<0||V>1)&&(V=1),V}function P(V,re){W(V)&&(V="100%");var H=j(V);return V=o(re,i(0,parseFloat(V))),H&&(V=parseInt(V*re,10)/100),e.abs(V-re)<1e-6?1:V%re/parseFloat(re)}function q(V){return o(1,i(0,V))}function U(V){return parseInt(V,16)}function W(V){return typeof V=="string"&&V.indexOf(".")!=-1&&parseFloat(V)===1}function j(V){return typeof V=="string"&&V.indexOf("%")!=-1}function $(V){return V.length==1?"0"+V:""+V}function G(V){return V<=1&&(V=V*100+"%"),V}function O(V){return e.round(parseFloat(V)*255).toString(16)}function Z(V){return U(V)/255}var ne=function(){var V="[-\\+]?\\d+%?",re="[-\\+]?\\d*\\.\\d+%?",H="(?:"+re+")|(?:"+V+")",te="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",se="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?";return{CSS_UNIT:new RegExp(H),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+se),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+se),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+se),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Q(V){return!!ne.CSS_UNIT.exec(V)}function ie(V){V=V.replace(r,"").replace(t,"").toLowerCase();var re=!1;if(N[V])V=N[V],re=!0;else if(V=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var H;return(H=ne.rgb.exec(V))?{r:H[1],g:H[2],b:H[3]}:(H=ne.rgba.exec(V))?{r:H[1],g:H[2],b:H[3],a:H[4]}:(H=ne.hsl.exec(V))?{h:H[1],s:H[2],l:H[3]}:(H=ne.hsla.exec(V))?{h:H[1],s:H[2],l:H[3],a:H[4]}:(H=ne.hsv.exec(V))?{h:H[1],s:H[2],v:H[3]}:(H=ne.hsva.exec(V))?{h:H[1],s:H[2],v:H[3],a:H[4]}:(H=ne.hex8.exec(V))?{r:U(H[1]),g:U(H[2]),b:U(H[3]),a:Z(H[4]),format:re?"name":"hex8"}:(H=ne.hex6.exec(V))?{r:U(H[1]),g:U(H[2]),b:U(H[3]),format:re?"name":"hex"}:(H=ne.hex4.exec(V))?{r:U(H[1]+""+H[1]),g:U(H[2]+""+H[2]),b:U(H[3]+""+H[3]),a:Z(H[4]+""+H[4]),format:re?"name":"hex8"}:(H=ne.hex3.exec(V))?{r:U(H[1]+""+H[1]),g:U(H[2]+""+H[2]),b:U(H[3]+""+H[3]),format:re?"name":"hex"}:!1}function ee(V){var re,H;return V=V||{level:"AA",size:"small"},re=(V.level||"AA").toUpperCase(),H=(V.size||"small").toLowerCase(),re!=="AA"&&re!=="AAA"&&(re="AA"),H!=="small"&&H!=="large"&&(H="small"),{level:re,size:H}}typeof Kc!="undefined"&&Kc.exports?Kc.exports=u:typeof define=="function"&&define.amd?define(function(){return u}):window.tinycolor=u})(Math)});var Mt=pe(wf=>{"use strict";var l4=So(),bf=Array.isArray;function YU(e,r){var t,n;for(t=0;t<e.length;t++){if(n=e[t],n!==null&&typeof n=="object")return!1;n!==void 0&&(r[t]=n)}return!0}wf.extendFlat=function(){return _f(arguments,!1,!1,!1)};wf.extendDeep=function(){return _f(arguments,!0,!1,!1)};wf.extendDeepAll=function(){return _f(arguments,!0,!0,!1)};wf.extendDeepNoArrays=function(){return _f(arguments,!0,!1,!0)};function _f(e,r,t,n){var a=e[0],o=e.length,i,l,u,s,f,v,g;if(o===2&&bf(a)&&bf(e[1])&&a.length===0){if(g=YU(e[1],a),g)return a;a.splice(0,a.length)}for(var b=1;b<o;b++){i=e[b];for(l in i)u=a[l],s=i[l],n&&bf(s)?a[l]=s:r&&s&&(l4(s)||(f=bf(s)))?(f?(f=!1,v=u&&bf(u)?u:[]):v=u&&l4(u)?u:{},a[l]=_f([v,s],r,t,n)):(typeof s!="undefined"||t)&&(a[l]=s)}return a}});var Sn=pe((h0e,s4)=>{"use strict";s4.exports=function(e){var r=e.variantValues,t=e.editType,n=e.colorEditType;n===void 0&&(n=t);var a={editType:t,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};e.noNumericWeightValues&&(a.valType="enumerated",a.values=a.extras,a.extras=void 0,a.min=void 0,a.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},weight:a,style:{editType:t,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:e.noFontVariant?void 0:{editType:t,valType:"enumerated",values:r||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:e.noFontTextcase?void 0:{editType:t,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:e.noFontLineposition?void 0:{editType:t,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:e.noFontShadow?void 0:{editType:t,valType:"string",dflt:e.autoShadowDflt?"auto":"none"},editType:t};return e.autoSize&&(o.size.dflt="auto"),e.autoColor&&(o.color.dflt="auto"),e.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,e.noFontVariant||(o.variant.arrayOk=!0),e.noFontTextcase||(o.textcase.arrayOk=!0),e.noFontLineposition||(o.lineposition.arrayOk=!0),e.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}});var Tf=pe((d0e,u4)=>{"use strict";u4.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}});var Rl=pe((p0e,v4)=>{"use strict";var f4=Tf(),c4=Sn(),Pp=c4({editType:"none"});Pp.family.dflt=f4.HOVERFONT;Pp.size.dflt=f4.HOVERFONTSIZE;v4.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:Pp,grouptitlefont:c4({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}});var jc=pe((g0e,h4)=>{"use strict";var WU=Sn(),Qc=Rl().hoverlabel,$c=Mt().extendFlat;h4.exports={hoverlabel:{bgcolor:$c({},Qc.bgcolor,{arrayOk:!0}),bordercolor:$c({},Qc.bordercolor,{arrayOk:!0}),font:WU({arrayOk:!0,editType:"none"}),align:$c({},Qc.align,{arrayOk:!0}),namelength:$c({},Qc.namelength,{arrayOk:!0}),editType:"none"}}});var Cn=pe((y0e,d4)=>{"use strict";var XU=Sn(),ZU=jc();d4.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:XU({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:ZU.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}});var Dl=pe((m0e,y4)=>{"use strict";var JU=La(),ev={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},p4=ev.RdBu;function KU(e,r){if(r||(r=p4),!e)return r;function t(){try{e=ev[e]||JSON.parse(e)}catch(n){e=r}}return typeof e=="string"&&(t(),typeof e=="string"&&t()),g4(e)?e:r}function g4(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r||!JU(n[1]).isValid())return!1;r=+n[0]}return!0}function QU(e){return ev[e]!==void 0?!0:g4(e)}y4.exports={scales:ev,defaultScale:p4,get:KU,isValid:QU}});var Si=pe(Pl=>{"use strict";Pl.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];Pl.defaultLine="#444";Pl.lightLine="#eee";Pl.background="#fff";Pl.borderLine="#BEC8D9";Pl.lightFraction=100*10/11});var Kr=pe((b0e,m4)=>{"use strict";var oa=La(),$U=rt(),jU=ia().isTypedArray,sn=m4.exports={},rv=Si();sn.defaults=rv.defaults;var eH=sn.defaultLine=rv.defaultLine;sn.lightLine=rv.lightLine;var Ip=sn.background=rv.background;sn.tinyRGB=function(e){var r=e.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"};sn.rgb=function(e){return sn.tinyRGB(oa(e))};sn.opacity=function(e){return e?oa(e).getAlpha():0};sn.addOpacity=function(e,r){var t=oa(e).toRgb();return"rgba("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+", "+r+")"};sn.combine=function(e,r){var t=oa(e).toRgb();if(t.a===1)return oa(e).toRgbString();var n=oa(r||Ip).toRgb(),a=n.a===1?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},o={r:a.r*(1-t.a)+t.r*t.a,g:a.g*(1-t.a)+t.g*t.a,b:a.b*(1-t.a)+t.b*t.a};return oa(o).toRgbString()};sn.interpolate=function(e,r,t){var n=oa(e).toRgb(),a=oa(r).toRgb(),o={r:t*n.r+(1-t)*a.r,g:t*n.g+(1-t)*a.g,b:t*n.b+(1-t)*a.b};return oa(o).toRgbString()};sn.contrast=function(e,r,t){var n=oa(e);n.getAlpha()!==1&&(n=oa(sn.combine(e,Ip)));var a=n.isDark()?r?n.lighten(r):Ip:t?n.darken(t):eH;return a.toString()};sn.stroke=function(e,r){var t=oa(r);e.style({stroke:sn.tinyRGB(t),"stroke-opacity":t.getAlpha()})};sn.fill=function(e,r){var t=oa(r);e.style({fill:sn.tinyRGB(t),"fill-opacity":t.getAlpha()})};sn.clean=function(e){if(!(!e||typeof e!="object")){var r=Object.keys(e),t,n,a,o;for(t=0;t<r.length;t++)if(a=r[t],o=e[a],a.substr(a.length-5)==="color")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=Fp(o[n]);else e[a]=Fp(o);else if(a.substr(a.length-10)==="colorscale"&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=Fp(o[n][1]));else if(Array.isArray(o)){var i=o[0];if(!Array.isArray(i)&&i&&typeof i=="object")for(n=0;n<o.length;n++)sn.clean(o[n])}else o&&typeof o=="object"&&!jU(o)&&sn.clean(o)}};function Fp(e){if($U(e)||typeof e!="string")return e;var r=e.trim();if(r.substr(0,3)!=="rgb")return e;var t=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!t)return e;var n=t[1].trim().split(/\s*[\s,]\s*/),a=r.charAt(3)==="a"&&n.length===4;if(!a&&n.length!==3)return e;for(var o=0;o<n.length;o++){if(!n[o].length||(n[o]=Number(n[o]),!(n[o]>=0)))return e;if(o===3)n[o]>1&&(n[o]=1);else if(n[o]>=1)return e}var i=Math.round(n[0]*255)+", "+Math.round(n[1]*255)+", "+Math.round(n[2]*255);return a?"rgba("+i+", "+n[3]+")":"rgb("+i+")"}});var tv=pe((_0e,x4)=>{"use strict";x4.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}});var Gs=pe(b4=>{"use strict";b4.counter=function(e,r,t,n){var a=(r||"")+(t?"":"$"),o=n===!1?"":"^";return e==="xy"?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+a):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+a)}});var M4=pe(la=>{"use strict";var Np=rt(),_4=La(),w4=Mt().extendFlat,rH=Cn(),tH=Dl(),nH=Kr(),aH=tv().DESELECTDIM,Ys=Xc(),T4=Gs().counter,iH=Vs().modHalf,Ci=ia().isArrayOrTypedArray,Co=ia().isTypedArraySpec,Eo=ia().decodeTypedArraySpec;la.valObjectMeta={data_array:{coerceFunction:function(e,r,t){r.set(Ci(e)?e:Co(e)?Eo(e):t)}},enumerated:{coerceFunction:function(e,r,t,n){n.coerceNumber&&(e=+e),n.values.indexOf(e)===-1?r.set(t):r.set(e)},validateFunction:function(e,r){r.coerceNumber&&(e=+e);for(var t=r.values,n=0;n<t.length;n++){var a=String(t[n]);if(a.charAt(0)==="/"&&a.charAt(a.length-1)==="/"){var o=new RegExp(a.substr(1,a.length-2));if(o.test(e))return!0}else if(e===t[n])return!0}return!1}},boolean:{coerceFunction:function(e,r,t){e===!0||e===!1?r.set(e):r.set(t)}},number:{coerceFunction:function(e,r,t,n){Co(e)&&(e=Eo(e)),!Np(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},integer:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}Co(e)&&(e=Eo(e)),e%1||!Np(e)||n.min!==void 0&&e<n.min||n.max!==void 0&&e>n.max?r.set(t):r.set(+e)}},string:{coerceFunction:function(e,r,t,n){if(typeof e!="string"){var a=typeof e=="number";n.strict===!0||!a?r.set(t):r.set(String(e))}else n.noBlank&&!e?r.set(t):r.set(e)}},color:{coerceFunction:function(e,r,t){Co(e)&&(e=Eo(e)),_4(e).isValid()?r.set(e):r.set(t)}},colorlist:{coerceFunction:function(e,r,t){function n(a){return _4(a).isValid()}!Array.isArray(e)||!e.length?r.set(t):e.every(n)?r.set(e):r.set(t)}},colorscale:{coerceFunction:function(e,r,t){r.set(tH.get(e,t))}},angle:{coerceFunction:function(e,r,t){Co(e)&&(e=Eo(e)),e==="auto"?r.set("auto"):Np(e)?r.set(iH(+e,360)):r.set(t)}},subplotid:{coerceFunction:function(e,r,t,n){var a=n.regex||T4(t);if(typeof e=="string"&&a.test(e)){r.set(e);return}r.set(t)},validateFunction:function(e,r){var t=r.dflt;return e===t?!0:typeof e!="string"?!1:!!T4(t).test(e)}},flaglist:{coerceFunction:function(e,r,t,n){if((n.extras||[]).indexOf(e)!==-1){r.set(e);return}if(typeof e!="string"){r.set(t);return}for(var a=e.split("+"),o=0;o<a.length;){var i=a[o];n.flags.indexOf(i)===-1||a.indexOf(i)<o?a.splice(o,1):o++}a.length?r.set(a.join("+")):r.set(t)}},any:{coerceFunction:function(e,r,t){e===void 0?r.set(t):r.set(Co(e)?Eo(e):e)}},info_array:{coerceFunction:function(e,r,t,n){function a(w,k,y){var M,d={set:function(_){M=_}};return y===void 0&&(y=k.dflt),la.valObjectMeta[k.valType].coerceFunction(w,d,y,k),M}if(Co(e)&&(e=Eo(e)),!Ci(e)){r.set(t);return}var o=n.dimensions===2||n.dimensions==="1-2"&&Array.isArray(e)&&Ci(e[0]),i=n.items,l=[],u=Array.isArray(i),s=u&&o&&Ci(i[0]),f=o&&u&&!s,v=u&&!f?i.length:e.length,g,b,x,T,A,m;if(t=Array.isArray(t)?t:[],o)for(g=0;g<v;g++)for(l[g]=[],x=Ci(e[g])?e[g]:[],f?A=i.length:u?A=i[g].length:A=x.length,b=0;b<A;b++)f?T=i[b]:u?T=i[g][b]:T=i,m=a(x[b],T,(t[g]||[])[b]),m!==void 0&&(l[g][b]=m);else for(g=0;g<v;g++)m=a(e[g],u?i[g]:i,t[g]),m!==void 0&&(l[g]=m);r.set(l)},validateFunction:function(e,r){if(!Ci(e))return!1;var t=r.items,n=Array.isArray(t),a=r.dimensions===2;if(!r.freeLength&&e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(a){if(!Ci(e[o])||!r.freeLength&&e[o].length!==t[o].length)return!1;for(var i=0;i<e[o].length;i++)if(!nv(e[o][i],n?t[o][i]:t))return!1}else if(!nv(e[o],n?t[o]:t))return!1;return!0}}};la.coerce=function(e,r,t,n,a){var o=Ys(t,n).get(),i=Ys(e,n),l=Ys(r,n),u=i.get(),s=r._template;if(u===void 0&&s&&(u=Ys(s,n).get(),s=0),a===void 0&&(a=o.dflt),o.arrayOk){if(Ci(u))return l.set(u),u;if(Co(u))return u=Eo(u),l.set(u),u}var f=la.valObjectMeta[o.valType].coerceFunction;f(u,l,a,o);var v=l.get();return s&&v===a&&!nv(u,o)&&(u=Ys(s,n).get(),f(u,l,a,o),v=l.get()),v};la.coerce2=function(e,r,t,n,a){var o=Ys(e,n),i=la.coerce(e,r,t,n,a),l=o.get();return l!=null?i:!1};la.coerceFont=function(e,r,t,n){n||(n={}),t=w4({},t),t=w4(t,n.overrideDflt||{});var a={family:e(r+".family",t.family),size:e(r+".size",t.size),color:e(r+".color",t.color),weight:e(r+".weight",t.weight),style:e(r+".style",t.style)};if(n.noFontVariant||(a.variant=e(r+".variant",t.variant)),n.noFontLineposition||(a.lineposition=e(r+".lineposition",t.lineposition)),n.noFontTextcase||(a.textcase=e(r+".textcase",t.textcase)),!n.noFontShadow){var o=t.shadow;o==="none"&&n.autoShadowDflt&&(o="auto"),a.shadow=e(r+".shadow",o)}return a};la.coercePattern=function(e,r,t,n){var a=e(r+".shape");if(a){e(r+".solidity"),e(r+".size");var o=e(r+".fillmode"),i=o==="overlay";if(!n){var l=e(r+".bgcolor",i?t:void 0);e(r+".fgcolor",i?nH.contrast(l):t)}e(r+".fgopacity",i?.5:1)}};la.coerceHoverinfo=function(e,r,t){var n=r._module.attributes,a=n.hoverinfo?n:rH,o=a.hoverinfo,i;if(t._dataLength===1){var l=o.dflt==="all"?o.flags.slice():o.dflt.split("+");l.splice(l.indexOf("name"),1),i=l.join("+")}return la.coerce(e,r,a,"hoverinfo",i)};la.coerceSelectionMarkerOpacity=function(e,r){if(e.marker){var t=e.marker.opacity;if(t!==void 0){var n,a;!Ci(t)&&!e.selected&&!e.unselected&&(n=t,a=aH*t),r("selected.marker.opacity",n),r("unselected.marker.opacity",a)}}};function nv(e,r){var t=la.valObjectMeta[r.valType];if(r.arrayOk&&Ci(e))return!0;if(t.validateFunction)return t.validateFunction(e,r);var n={},a=n,o={set:function(i){a=i}};return t.coerceFunction(e,o,n,r),a!==n}la.validate=nv});var Fl=pe((M0e,C4)=>{"use strict";var A4={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},k4={};function S4(e,r){for(var t in e){var n=e[t];n.valType?r[t]=n.dflt:(r[t]||(r[t]={}),S4(n,r[t]))}}S4(A4,k4);C4.exports={configAttributes:A4,dfltConfig:k4}});var Op=pe((A0e,E4)=>{"use strict";var zp=it(),oH=rt(),Mf=[];E4.exports=function(e,r){if(Mf.indexOf(e)!==-1)return;Mf.push(e);var t=1e3;oH(r)?t=r:r==="long"&&(t=3e3);var n=zp.select("body").selectAll(".plotly-notifier").data([0]);n.enter().append("div").classed("plotly-notifier",!0);var a=n.selectAll(".notifier-note").data(Mf);function o(i){i.duration(700).style("opacity",0).each("end",function(l){var u=Mf.indexOf(l);u!==-1&&Mf.splice(u,1),zp.select(this).remove()})}a.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var l=zp.select(this);l.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){l.transition().call(o)});for(var u=l.append("p"),s=i.split(/<br\s*\/?>/g),f=0;f<s.length;f++)f&&u.append("br"),u.append("span").text(s[f]);r==="stick"?l.transition().duration(350).style("opacity",1):l.transition().duration(700).style("opacity",1).transition().delay(t).call(o)})}});var Il=pe((k0e,L4)=>{"use strict";var Ws=Fl().dfltConfig,qp=Op(),Bp=L4.exports={};Bp.log=function(){var e;if(Ws.logging>1){var r=["LOG:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Ws.notifyOnLogging>1){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);qp(t.join("<br>"),"long")}};Bp.warn=function(){var e;if(Ws.logging>0){var r=["WARN:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.trace.apply(console,r)}if(Ws.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);qp(t.join("<br>"),"stick")}};Bp.error=function(){var e;if(Ws.logging>0){var r=["ERROR:"];for(e=0;e<arguments.length;e++)r.push(arguments[e]);console.error.apply(console,r)}if(Ws.notifyOnLogging>0){var t=[];for(e=0;e<arguments.length;e++)t.push(arguments[e]);qp(t.join("<br>"),"stick")}}});var av=pe((S0e,R4)=>{"use strict";R4.exports=function(){}});var Up=pe((C0e,D4)=>{"use strict";D4.exports=function(r,t){if(t instanceof RegExp){for(var n=t.toString(),a=0;a<r.length;a++)if(r[a]instanceof RegExp&&r[a].toString()===n)return r;r.push(t)}else(t||t===0)&&r.indexOf(t)===-1&&r.push(t);return r}});var F4=pe((E0e,P4)=>{P4.exports=lH;function lH(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var N4=pe((L0e,I4)=>{I4.exports=sH;function sH(e){var r=new Float32Array(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}});var O4=pe((R0e,z4)=>{z4.exports=uH;function uH(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var Hp=pe((D0e,q4)=>{q4.exports=fH;function fH(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var U4=pe((P0e,B4)=>{B4.exports=cH;function cH(e,r){if(e===r){var t=r[1],n=r[2],a=r[3],o=r[6],i=r[7],l=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=n,e[9]=o,e[11]=r[14],e[12]=a,e[13]=i,e[14]=l}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}});var V4=pe((F0e,H4)=>{H4.exports=vH;function vH(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],u=r[6],s=r[7],f=r[8],v=r[9],g=r[10],b=r[11],x=r[12],T=r[13],A=r[14],m=r[15],w=t*l-n*i,k=t*u-a*i,y=t*s-o*i,M=n*u-a*l,d=n*s-o*l,_=a*s-o*u,p=f*T-v*x,c=f*A-g*x,S=f*m-b*x,h=v*A-g*T,R=v*m-b*T,E=g*m-b*A,D=w*E-k*R+y*h+M*S-d*c+_*p;return D?(D=1/D,e[0]=(l*E-u*R+s*h)*D,e[1]=(a*R-n*E-o*h)*D,e[2]=(T*_-A*d+m*M)*D,e[3]=(g*d-v*_-b*M)*D,e[4]=(u*S-i*E-s*c)*D,e[5]=(t*E-a*S+o*c)*D,e[6]=(A*y-x*_-m*k)*D,e[7]=(f*_-g*y+b*k)*D,e[8]=(i*R-l*S+s*p)*D,e[9]=(n*S-t*R-o*p)*D,e[10]=(x*d-T*y+m*w)*D,e[11]=(v*y-f*d-b*w)*D,e[12]=(l*c-i*h-u*p)*D,e[13]=(t*h-n*c+a*p)*D,e[14]=(T*k-x*M-A*w)*D,e[15]=(f*M-v*k+g*w)*D,e):null}});var Y4=pe((I0e,G4)=>{G4.exports=hH;function hH(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=r[4],l=r[5],u=r[6],s=r[7],f=r[8],v=r[9],g=r[10],b=r[11],x=r[12],T=r[13],A=r[14],m=r[15];return e[0]=l*(g*m-b*A)-v*(u*m-s*A)+T*(u*b-s*g),e[1]=-(n*(g*m-b*A)-v*(a*m-o*A)+T*(a*b-o*g)),e[2]=n*(u*m-s*A)-l*(a*m-o*A)+T*(a*s-o*u),e[3]=-(n*(u*b-s*g)-l*(a*b-o*g)+v*(a*s-o*u)),e[4]=-(i*(g*m-b*A)-f*(u*m-s*A)+x*(u*b-s*g)),e[5]=t*(g*m-b*A)-f*(a*m-o*A)+x*(a*b-o*g),e[6]=-(t*(u*m-s*A)-i*(a*m-o*A)+x*(a*s-o*u)),e[7]=t*(u*b-s*g)-i*(a*b-o*g)+f*(a*s-o*u),e[8]=i*(v*m-b*T)-f*(l*m-s*T)+x*(l*b-s*v),e[9]=-(t*(v*m-b*T)-f*(n*m-o*T)+x*(n*b-o*v)),e[10]=t*(l*m-s*T)-i*(n*m-o*T)+x*(n*s-o*l),e[11]=-(t*(l*b-s*v)-i*(n*b-o*v)+f*(n*s-o*l)),e[12]=-(i*(v*A-g*T)-f*(l*A-u*T)+x*(l*g-u*v)),e[13]=t*(v*A-g*T)-f*(n*A-a*T)+x*(n*g-a*v),e[14]=-(t*(l*A-u*T)-i*(n*A-a*T)+x*(n*u-a*l)),e[15]=t*(l*g-u*v)-i*(n*g-a*v)+f*(n*u-a*l),e}});var X4=pe((N0e,W4)=>{W4.exports=dH;function dH(e){var r=e[0],t=e[1],n=e[2],a=e[3],o=e[4],i=e[5],l=e[6],u=e[7],s=e[8],f=e[9],v=e[10],g=e[11],b=e[12],x=e[13],T=e[14],A=e[15],m=r*i-t*o,w=r*l-n*o,k=r*u-a*o,y=t*l-n*i,M=t*u-a*i,d=n*u-a*l,_=s*x-f*b,p=s*T-v*b,c=s*A-g*b,S=f*T-v*x,h=f*A-g*x,R=v*A-g*T;return m*R-w*h+k*S+y*c-M*p+d*_}});var J4=pe((z0e,Z4)=>{Z4.exports=pH;function pH(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=r[4],u=r[5],s=r[6],f=r[7],v=r[8],g=r[9],b=r[10],x=r[11],T=r[12],A=r[13],m=r[14],w=r[15],k=t[0],y=t[1],M=t[2],d=t[3];return e[0]=k*n+y*l+M*v+d*T,e[1]=k*a+y*u+M*g+d*A,e[2]=k*o+y*s+M*b+d*m,e[3]=k*i+y*f+M*x+d*w,k=t[4],y=t[5],M=t[6],d=t[7],e[4]=k*n+y*l+M*v+d*T,e[5]=k*a+y*u+M*g+d*A,e[6]=k*o+y*s+M*b+d*m,e[7]=k*i+y*f+M*x+d*w,k=t[8],y=t[9],M=t[10],d=t[11],e[8]=k*n+y*l+M*v+d*T,e[9]=k*a+y*u+M*g+d*A,e[10]=k*o+y*s+M*b+d*m,e[11]=k*i+y*f+M*x+d*w,k=t[12],y=t[13],M=t[14],d=t[15],e[12]=k*n+y*l+M*v+d*T,e[13]=k*a+y*u+M*g+d*A,e[14]=k*o+y*s+M*b+d*m,e[15]=k*i+y*f+M*x+d*w,e}});var Q4=pe((O0e,K4)=>{K4.exports=gH;function gH(e,r,t){var n=t[0],a=t[1],o=t[2],i,l,u,s,f,v,g,b,x,T,A,m;return r===e?(e[12]=r[0]*n+r[4]*a+r[8]*o+r[12],e[13]=r[1]*n+r[5]*a+r[9]*o+r[13],e[14]=r[2]*n+r[6]*a+r[10]*o+r[14],e[15]=r[3]*n+r[7]*a+r[11]*o+r[15]):(i=r[0],l=r[1],u=r[2],s=r[3],f=r[4],v=r[5],g=r[6],b=r[7],x=r[8],T=r[9],A=r[10],m=r[11],e[0]=i,e[1]=l,e[2]=u,e[3]=s,e[4]=f,e[5]=v,e[6]=g,e[7]=b,e[8]=x,e[9]=T,e[10]=A,e[11]=m,e[12]=i*n+f*a+x*o+r[12],e[13]=l*n+v*a+T*o+r[13],e[14]=u*n+g*a+A*o+r[14],e[15]=s*n+b*a+m*o+r[15]),e}});var j4=pe((q0e,$4)=>{$4.exports=yH;function yH(e,r,t){var n=t[0],a=t[1],o=t[2];return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=r[3]*n,e[4]=r[4]*a,e[5]=r[5]*a,e[6]=r[6]*a,e[7]=r[7]*a,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=r[11]*o,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}});var r_=pe((B0e,e_)=>{e_.exports=mH;function mH(e,r,t,n){var a=n[0],o=n[1],i=n[2],l=Math.sqrt(a*a+o*o+i*i),u,s,f,v,g,b,x,T,A,m,w,k,y,M,d,_,p,c,S,h,R,E,D,N;return Math.abs(l)<1e-6?null:(l=1/l,a*=l,o*=l,i*=l,u=Math.sin(t),s=Math.cos(t),f=1-s,v=r[0],g=r[1],b=r[2],x=r[3],T=r[4],A=r[5],m=r[6],w=r[7],k=r[8],y=r[9],M=r[10],d=r[11],_=a*a*f+s,p=o*a*f+i*u,c=i*a*f-o*u,S=a*o*f-i*u,h=o*o*f+s,R=i*o*f+a*u,E=a*i*f+o*u,D=o*i*f-a*u,N=i*i*f+s,e[0]=v*_+T*p+k*c,e[1]=g*_+A*p+y*c,e[2]=b*_+m*p+M*c,e[3]=x*_+w*p+d*c,e[4]=v*S+T*h+k*R,e[5]=g*S+A*h+y*R,e[6]=b*S+m*h+M*R,e[7]=x*S+w*h+d*R,e[8]=v*E+T*D+k*N,e[9]=g*E+A*D+y*N,e[10]=b*E+m*D+M*N,e[11]=x*E+w*D+d*N,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}});var n_=pe((U0e,t_)=>{t_.exports=xH;function xH(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[4],i=r[5],l=r[6],u=r[7],s=r[8],f=r[9],v=r[10],g=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=o*a+s*n,e[5]=i*a+f*n,e[6]=l*a+v*n,e[7]=u*a+g*n,e[8]=s*a-o*n,e[9]=f*a-i*n,e[10]=v*a-l*n,e[11]=g*a-u*n,e}});var i_=pe((H0e,a_)=>{a_.exports=bH;function bH(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],u=r[3],s=r[8],f=r[9],v=r[10],g=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a-s*n,e[1]=i*a-f*n,e[2]=l*a-v*n,e[3]=u*a-g*n,e[8]=o*n+s*a,e[9]=i*n+f*a,e[10]=l*n+v*a,e[11]=u*n+g*a,e}});var l_=pe((V0e,o_)=>{o_.exports=_H;function _H(e,r,t){var n=Math.sin(t),a=Math.cos(t),o=r[0],i=r[1],l=r[2],u=r[3],s=r[4],f=r[5],v=r[6],g=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*a+s*n,e[1]=i*a+f*n,e[2]=l*a+v*n,e[3]=u*a+g*n,e[4]=s*a-o*n,e[5]=f*a-i*n,e[6]=v*a-l*n,e[7]=g*a-u*n,e}});var u_=pe((G0e,s_)=>{s_.exports=wH;function wH(e,r,t){var n,a,o,i=t[0],l=t[1],u=t[2],s=Math.sqrt(i*i+l*l+u*u);return Math.abs(s)<1e-6?null:(s=1/s,i*=s,l*=s,u*=s,n=Math.sin(r),a=Math.cos(r),o=1-a,e[0]=i*i*o+a,e[1]=l*i*o+u*n,e[2]=u*i*o-l*n,e[3]=0,e[4]=i*l*o-u*n,e[5]=l*l*o+a,e[6]=u*l*o+i*n,e[7]=0,e[8]=i*u*o+l*n,e[9]=l*u*o-i*n,e[10]=u*u*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}});var c_=pe((Y0e,f_)=>{f_.exports=TH;function TH(e,r,t){var n=r[0],a=r[1],o=r[2],i=r[3],l=n+n,u=a+a,s=o+o,f=n*l,v=n*u,g=n*s,b=a*u,x=a*s,T=o*s,A=i*l,m=i*u,w=i*s;return e[0]=1-(b+T),e[1]=v+w,e[2]=g-m,e[3]=0,e[4]=v-w,e[5]=1-(f+T),e[6]=x+A,e[7]=0,e[8]=g+m,e[9]=x-A,e[10]=1-(f+b),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}});var h_=pe((W0e,v_)=>{v_.exports=MH;function MH(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var p_=pe((X0e,d_)=>{d_.exports=AH;function AH(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}});var y_=pe((Z0e,g_)=>{g_.exports=kH;function kH(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var x_=pe((J0e,m_)=>{m_.exports=SH;function SH(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var __=pe((K0e,b_)=>{b_.exports=CH;function CH(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var Vp=pe((Q0e,w_)=>{w_.exports=EH;function EH(e,r){var t=r[0],n=r[1],a=r[2],o=r[3],i=t+t,l=n+n,u=a+a,s=t*i,f=n*i,v=n*l,g=a*i,b=a*l,x=a*u,T=o*i,A=o*l,m=o*u;return e[0]=1-v-x,e[1]=f+m,e[2]=g-A,e[3]=0,e[4]=f-m,e[5]=1-s-x,e[6]=b+T,e[7]=0,e[8]=g+A,e[9]=b-T,e[10]=1-s-v,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}});var M_=pe(($0e,T_)=>{T_.exports=LH;function LH(e,r,t,n,a,o,i){var l=1/(t-r),u=1/(a-n),s=1/(o-i);return e[0]=o*2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*u,e[6]=0,e[7]=0,e[8]=(t+r)*l,e[9]=(a+n)*u,e[10]=(i+o)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*s,e[15]=0,e}});var k_=pe((j0e,A_)=>{A_.exports=RH;function RH(e,r,t,n,a){var o=1/Math.tan(r/2),i=1/(n-a);return e[0]=o/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(a+n)*i,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*a*n*i,e[15]=0,e}});var C_=pe((ece,S_)=>{S_.exports=DH;function DH(e,r,t,n){var a=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),i=Math.tan(r.leftDegrees*Math.PI/180),l=Math.tan(r.rightDegrees*Math.PI/180),u=2/(i+l),s=2/(a+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=-((i-l)*u*.5),e[9]=(a-o)*s*.5,e[10]=n/(t-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*t/(t-n),e[15]=0,e}});var L_=pe((rce,E_)=>{E_.exports=PH;function PH(e,r,t,n,a,o,i){var l=1/(r-t),u=1/(n-a),s=1/(o-i);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*s,e[11]=0,e[12]=(r+t)*l,e[13]=(a+n)*u,e[14]=(i+o)*s,e[15]=1,e}});var D_=pe((tce,R_)=>{var FH=Hp();R_.exports=IH;function IH(e,r,t,n){var a,o,i,l,u,s,f,v,g,b,x=r[0],T=r[1],A=r[2],m=n[0],w=n[1],k=n[2],y=t[0],M=t[1],d=t[2];return Math.abs(x-y)<1e-6&&Math.abs(T-M)<1e-6&&Math.abs(A-d)<1e-6?FH(e):(f=x-y,v=T-M,g=A-d,b=1/Math.sqrt(f*f+v*v+g*g),f*=b,v*=b,g*=b,a=w*g-k*v,o=k*f-m*g,i=m*v-w*f,b=Math.sqrt(a*a+o*o+i*i),b?(b=1/b,a*=b,o*=b,i*=b):(a=0,o=0,i=0),l=v*i-g*o,u=g*a-f*i,s=f*o-v*a,b=Math.sqrt(l*l+u*u+s*s),b?(b=1/b,l*=b,u*=b,s*=b):(l=0,u=0,s=0),e[0]=a,e[1]=l,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=v,e[7]=0,e[8]=i,e[9]=s,e[10]=g,e[11]=0,e[12]=-(a*x+o*T+i*A),e[13]=-(l*x+u*T+s*A),e[14]=-(f*x+v*T+g*A),e[15]=1,e)}});var F_=pe((nce,P_)=>{P_.exports=NH;function NH(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}});var Gp=pe((ace,I_)=>{I_.exports={create:F4(),clone:N4(),copy:O4(),identity:Hp(),transpose:U4(),invert:V4(),adjoint:Y4(),determinant:X4(),multiply:J4(),translate:Q4(),scale:j4(),rotate:r_(),rotateX:n_(),rotateY:i_(),rotateZ:l_(),fromRotation:u_(),fromRotationTranslation:c_(),fromScaling:h_(),fromTranslation:p_(),fromXRotation:y_(),fromYRotation:x_(),fromZRotation:__(),fromQuat:Vp(),frustum:M_(),perspective:k_(),perspectiveFromFieldOfView:C_(),ortho:L_(),lookAt:D_(),str:F_()}});var iv=pe(Ht=>{"use strict";var zH=Gp();Ht.init2dArray=function(e,r){for(var t=new Array(e),n=0;n<e;n++)t[n]=new Array(r);return t};Ht.transposeRagged=function(e){var r=0,t=e.length,n,a;for(n=0;n<t;n++)r=Math.max(r,e[n].length);var o=new Array(r);for(n=0;n<r;n++)for(o[n]=new Array(t),a=0;a<t;a++)o[n][a]=e[a][n];return o};Ht.dot=function(e,r){if(!(e.length&&r.length)||e.length!==r.length)return null;var t=e.length,n,a;if(e[0].length)for(n=new Array(t),a=0;a<t;a++)n[a]=Ht.dot(e[a],r);else if(r[0].length){var o=Ht.transposeRagged(r);for(n=new Array(o.length),a=0;a<o.length;a++)n[a]=Ht.dot(e,o[a])}else for(n=0,a=0;a<t;a++)n+=e[a]*r[a];return n};Ht.translationMatrix=function(e,r){return[[1,0,e],[0,1,r],[0,0,1]]};Ht.rotationMatrix=function(e){var r=e*Math.PI/180;return[[Math.cos(r),-Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]]};Ht.rotationXYMatrix=function(e,r,t){return Ht.dot(Ht.dot(Ht.translationMatrix(r,t),Ht.rotationMatrix(e)),Ht.translationMatrix(-r,-t))};Ht.apply3DTransform=function(e){return function(){var r=arguments,t=arguments.length===1?r[0]:[r[0],r[1],r[2]||0];return Ht.dot(e,[t[0],t[1],t[2],1]).slice(0,3)}};Ht.apply2DTransform=function(e){return function(){var r=arguments;r.length===3&&(r=r[0]);var t=arguments.length===1?r[0]:[r[0],r[1]];return Ht.dot(e,[t[0],t[1],1]).slice(0,2)}};Ht.apply2DTransform2=function(e){var r=Ht.apply2DTransform(e);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}};Ht.convertCssMatrix=function(e){if(e){var r=e.length;if(r===16)return e;if(r===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};Ht.inverseTransformMatrix=function(e){var r=[];return zH.invert(r,e),[[r[0],r[1],r[2],r[3]],[r[4],r[5],r[6],r[7]],[r[8],r[9],r[10],r[11]],[r[12],r[13],r[14],r[15]]]}});var Af=pe((oce,B_)=>{"use strict";var OH=it(),qH=Il(),BH=iv(),UH=Gp();function HH(e){var r;if(typeof e=="string"){if(r=document.getElementById(e),r===null)throw new Error("No DOM element with id '"+e+"' exists on the page.");return r}else if(e==null)throw new Error("DOM element provided is null or undefined");return e}function VH(e){var r=OH.select(e);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")}function N_(e){var r=e&&e.parentNode;r&&r.removeChild(e)}function GH(e,r){z_("global",e,r)}function z_(e,r,t){var n="plotly.js-style-"+e,a=document.getElementById(n);a||(a=document.createElement("style"),a.setAttribute("id",n),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o.insertRule?o.insertRule(r+"{"+t+"}",0):o.addRule?o.addRule(r,t,0):qH.warn("addStyleRule failed")}function YH(e){var r="plotly.js-style-"+e,t=document.getElementById(r);t&&N_(t)}function WH(e){var r=q_(e),t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(n){var a=O_(n);if(a){var o=BH.convertCssMatrix(a);t=UH.multiply(t,t,o)}}),t}function O_(e){var r=window.getComputedStyle(e,null),t=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return t==="none"?null:t.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(n){return+n})}function q_(e){for(var r=[];XH(e);)r.push(e),e=e.parentNode,typeof ShadowRoot=="function"&&e instanceof ShadowRoot&&(e=e.host);return r}function XH(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function ZH(e,r){return e&&r&&e.top===r.top&&e.left===r.left&&e.right===r.right&&e.bottom===r.bottom}B_.exports={getGraphDiv:HH,isPlotDiv:VH,removeElement:N_,addStyleRule:GH,addRelatedStyleRule:z_,deleteRelatedStyleRule:YH,getFullTransformMatrix:WH,getElementTransformMatrix:O_,getElementAndAncestors:q_,equalDomRects:ZH}});var kf=pe((lce,U_)=>{"use strict";U_.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}});var qn=pe((sce,Z_)=>{"use strict";var V_=Mt().extendFlat,JH=So(),G_={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},Y_={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},KH=G_.flags.slice().concat(["fullReplot"]),QH=Y_.flags.slice().concat("layoutReplot");Z_.exports={traces:G_,layout:Y_,traceFlags:function(){return H_(KH)},layoutFlags:function(){return H_(QH)},update:function(e,r){var t=r.editType;if(t&&t!=="none")for(var n=t.split("+"),a=0;a<n.length;a++)e[n[a]]=!0},overrideAll:W_};function H_(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!1;return r}function W_(e,r,t){var n=V_({},e);for(var a in n){var o=n[a];JH(o)&&(n[a]=X_(o,r,t,a))}return t==="from-root"&&(n.editType=r),n}function X_(e,r,t,n){if(e.valType){var a=V_({},e);if(a.editType=r,Array.isArray(e.items)){a.items=new Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=X_(e.items[o],r,"from-root")}return a}else return W_(e,r,n.charAt(0)==="_"?"nested":"from-root")}});var Lo=pe(Yp=>{"use strict";Yp.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"};Yp.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}});var Wp=pe((fce,J_)=>{"use strict";J_.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}});var Ra=pe(ov=>{"use strict";var K_=Wp(),cce=K_.FORMAT_LINK,vce=K_.DATE_FORMAT_LINK;function Xp(e){var r=e.description?" "+e.description:"",t=e.keys||[];if(t.length>0){for(var n=[],a=0;a<t.length;a++)n[a]="`"+t[a]+"`";r=r+"Finally, the template string has access to ",t.length===1?r=r+"variable "+n[0]:r=r+"variables "+n.slice(0,-1).join(", ")+" and "+n.slice(-1)+"."}return r}ov.hovertemplateAttrs=function(e,r){e=e||{},r=r||{};var t=Xp(r),n={valType:"string",dflt:"",editType:e.editType||"none"};return e.arrayOk!==!1&&(n.arrayOk=!0),n};ov.texttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=Xp(r),n={valType:"string",dflt:"",editType:e.editType||"calc"};return e.arrayOk!==!1&&(n.arrayOk=!0),n};ov.shapeTexttemplateAttrs=function(e,r){e=e||{},r=r||{};var t=e.newshape?"new ":"",n=Xp(r),a={valType:"string",dflt:"",editType:e.editType||"arraydraw"};return a}});var uv=pe((dce,t6)=>{"use strict";function Ro(e,r){return r?r.d2l(e):e}function Q_(e,r){return r?r.l2d(e):e}function $H(e){return e.x0}function jH(e){return e.x1}function eV(e){return e.y0}function rV(e){return e.y1}function $_(e){return e.x0shift||0}function j_(e){return e.x1shift||0}function e6(e){return e.y0shift||0}function r6(e){return e.y1shift||0}function lv(e,r){return Ro(e.x1,r)+j_(e)-Ro(e.x0,r)-$_(e)}function sv(e,r,t){return Ro(e.y1,t)+r6(e)-Ro(e.y0,t)-e6(e)}function tV(e,r){return Math.abs(lv(e,r))}function nV(e,r,t){return Math.abs(sv(e,r,t))}function aV(e,r,t){return e.type!=="line"?void 0:Math.sqrt(Math.pow(lv(e,r),2)+Math.pow(sv(e,r,t),2))}function iV(e,r){return Q_((Ro(e.x1,r)+j_(e)+Ro(e.x0,r)+$_(e))/2,r)}function oV(e,r,t){return Q_((Ro(e.y1,t)+r6(e)+Ro(e.y0,t)+e6(e))/2,t)}function lV(e,r,t){return e.type!=="line"?void 0:sv(e,r,t)/lv(e,r)}t6.exports={x0:$H,x1:jH,y0:eV,y1:rV,slope:lV,dx:lv,dy:sv,width:tV,height:nV,length:aV,xcenter:iV,ycenter:oV}});var i6=pe((pce,a6)=>{"use strict";var sV=qn().overrideAll,Nl=Cn(),n6=Sn(),uV=Lo().dash,Do=Mt().extendFlat,fV=Ra().shapeTexttemplateAttrs,cV=uv();a6.exports=sV({newshape:{visible:Do({},Nl.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:Do({},Nl.legend,{}),legendgroup:Do({},Nl.legendgroup,{}),legendgrouptitle:{text:Do({},Nl.legendgrouptitle.text,{}),font:n6({})},legendrank:Do({},Nl.legendrank,{}),legendwidth:Do({},Nl.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:Do({},uV,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:Do({},Nl.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:fV({newshape:!0},{keys:Object.keys(cV)}),font:n6({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")});var l6=pe((gce,o6)=>{"use strict";var vV=Lo().dash,hV=Mt().extendFlat;o6.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:hV({},vV,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}});var fv=pe((yce,s6)=>{"use strict";s6.exports=function(e){var r=e.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}});var Xs=pe((mce,v6)=>{"use strict";var cv=Sn(),dV=kf(),vv=Si(),u6=i6(),f6=l6(),pV=fv(),c6=Mt().extendFlat,hv=cv({editType:"calc"});hv.family.dflt='"Open Sans", verdana, arial, sans-serif';hv.size.dflt=12;hv.color.dflt=vv.defaultLine;v6.exports={font:hv,title:{text:{valType:"string",editType:"layoutstyle"},font:cv({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:cv({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:c6(pV({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:vv.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:vv.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:vv.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:u6.newshape,activeshape:u6.activeshape,newselection:f6.newselection,activeselection:f6.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:c6({},dV.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:cv({editType:"layoutstyle"})}}});var h6=Lb(()=>{});var gV={};var d6=Lb(()=>{h6()});var Cr=pe(Ur=>{"use strict";var Zs=Il(),p6=av(),g6=Up(),yV=So(),mV=Af().addStyleRule,y6=Mt(),xV=Cn(),bV=Xs(),_V=y6.extendFlat,dv=y6.extendDeepAll;Ur.modules={};Ur.allCategories={};Ur.allTypes=[];Ur.subplotsRegistry={};Ur.transformsRegistry={};Ur.componentsRegistry={};Ur.layoutArrayContainers=[];Ur.layoutArrayRegexes=[];Ur.traceLayoutAttributes={};Ur.localeRegistry={};Ur.apiMethodRegistry={};Ur.collectableSubplotTypes=null;Ur.register=function(r){if(Ur.collectableSubplotTypes=null,r)r&&!Array.isArray(r)&&(r=[r]);else throw new Error("No argument passed to Plotly.register.");for(var t=0;t<r.length;t++){var n=r[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":wV(n);break;case"transform":AV(n);break;case"component":MV(n);break;case"locale":kV(n);break;case"apiMethod":var a=n.name;Ur.apiMethodRegistry[a]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}};Ur.getModule=function(e){var r=Ur.modules[w6(e)];return r?r._module:!1};Ur.traceIs=function(e,r){if(e=w6(e),e==="various")return!1;var t=Ur.modules[e];return t||(e&&Zs.log("Unrecognized trace type "+e+"."),t=Ur.modules[xV.type.dflt]),!!t.categories[r]};Ur.getTransformIndices=function(e,r){for(var t=[],n=e.transforms||[],a=0;a<n.length;a++)n[a].type===r&&t.push(a);return t};Ur.hasTransform=function(e,r){for(var t=e.transforms||[],n=0;n<t.length;n++)if(t[n].type===r)return!0;return!1};Ur.getComponentMethod=function(e,r){var t=Ur.componentsRegistry[e];return t&&t[r]||p6};Ur.call=function(){var e=arguments[0],r=[].slice.call(arguments,1);return Ur.apiMethodRegistry[e].apply(null,r)};function wV(e){var r=e.name,t=e.categories,n=e.meta;if(Ur.modules[r]){Zs.log("Type "+r+" already registered");return}Ur.subplotsRegistry[e.basePlotModule.name]||TV(e.basePlotModule);for(var a={},o=0;o<t.length;o++)a[t[o]]=!0,Ur.allCategories[t[o]]=!0;Ur.modules[r]={_module:e,categories:a},n&&Object.keys(n).length&&(Ur.modules[r].meta=n),Ur.allTypes.push(r);for(var i in Ur.componentsRegistry)x6(i,r);e.layoutAttributes&&_V(Ur.traceLayoutAttributes,e.layoutAttributes);var l=e.basePlotModule,u=l.name;if(u==="mapbox"){var s=l.constants.styleRules;for(var f in s)mV(".js-plotly-plot .plotly .mapboxgl-"+f,s[f])}u==="map"&&(d6(),kU(gV)),(u==="geo"||u==="mapbox"||u==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function TV(e){var r=e.name;if(Ur.subplotsRegistry[r]){Zs.log("Plot type "+r+" already registered.");return}m6(e),Ur.subplotsRegistry[r]=e;for(var t in Ur.componentsRegistry)_6(t,e.name)}function MV(e){if(typeof e.name!="string")throw new Error("Component module *name* must be a string.");var r=e.name;Ur.componentsRegistry[r]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&g6(Ur.layoutArrayContainers,r),m6(e));for(var t in Ur.modules)x6(r,t);for(var n in Ur.subplotsRegistry)_6(r,n);for(var a in Ur.transformsRegistry)b6(r,a);e.schema&&e.schema.layout&&dv(bV,e.schema.layout)}function AV(e){if(typeof e.name!="string")throw new Error("Transform module *name* must be a string.");var r="Transform module "+e.name,t=typeof e.transform=="function",n=typeof e.calcTransform=="function";if(!t&&!n)throw new Error(r+" is missing a *transform* or *calcTransform* method.");t&&n&&Zs.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),yV(e.attributes)||Zs.log(r+" registered without an *attributes* object."),typeof e.supplyDefaults!="function"&&Zs.log(r+" registered without a *supplyDefaults* method."),Ur.transformsRegistry[e.name]=e;for(var a in Ur.componentsRegistry)b6(a,e.name)}function kV(e){var r=e.name,t=r.split("-")[0],n=e.dictionary,a=e.format,o=n&&Object.keys(n).length,i=a&&Object.keys(a).length,l=Ur.localeRegistry,u=l[r];if(u||(l[r]=u={}),t!==r){var s=l[t];s||(l[t]=s={}),o&&s.dictionary===u.dictionary&&(s.dictionary=n),i&&s.format===u.format&&(s.format=a)}o&&(u.dictionary=n),i&&(u.format=a)}function m6(e){if(e.layoutAttributes){var r=e.layoutAttributes._arrayAttrRegexps;if(r)for(var t=0;t<r.length;t++)g6(Ur.layoutArrayRegexes,r[t])}}function x6(e,r){var t=Ur.componentsRegistry[e].schema;if(!(!t||!t.traces)){var n=t.traces[r];n&&dv(Ur.modules[r]._module.attributes,n)}}function b6(e,r){var t=Ur.componentsRegistry[e].schema;if(!(!t||!t.transforms)){var n=t.transforms[r];n&&dv(Ur.transformsRegistry[r].attributes,n)}}function _6(e,r){var t=Ur.componentsRegistry[e].schema;if(!(!t||!t.subplots)){var n=Ur.subplotsRegistry[r],a=n.layoutAttributes,o=n.attr==="subplot"?n.name:n.attr;Array.isArray(o)&&(o=o[0]);var i=t.subplots[o];a&&i&&dv(a,i)}}function w6(e){return typeof e=="object"&&(e=e.type),e}});var R6=pe(Vt=>{"use strict";var SV=Us().timeFormat,E6=rt(),Zp=Il(),Fo=Vs().mod,Qs=Xt(),Da=Qs.BADNUM,sa=Qs.ONEDAY,Sf=Qs.ONEHOUR,Po=Qs.ONEMIN,Ks=Qs.ONESEC,Cf=Qs.EPOCHJD,Qi=Cr(),T6=Us().utcFormat,CV=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,EV=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,M6=new Date().getFullYear()-70;function $i(e){return e&&Qi.componentsRegistry.calendars&&typeof e=="string"&&e!=="gregorian"}Vt.dateTick0=function(e,r){var t=LV(e,!!r);if(r<2)return t;var n=Vt.dateTime2ms(t,e);return n+=sa*(r-1),Vt.ms2DateTime(n,0,e)};function LV(e,r){return $i(e)?r?Qi.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:Qi.getComponentMethod("calendars","CANONICAL_TICK")[e]:r?"2000-01-02":"2000-01-01"}Vt.dfltRange=function(e){return $i(e)?Qi.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]};Vt.isJSDate=function(e){return typeof e=="object"&&e!==null&&typeof e.getTime=="function"};var gv,yv;Vt.dateTime2ms=function(e,r){if(Vt.isJSDate(e)){var t=e.getTimezoneOffset()*Po,n=(e.getUTCMinutes()-e.getMinutes())*Po+(e.getUTCSeconds()-e.getSeconds())*Ks+(e.getUTCMilliseconds()-e.getMilliseconds());if(n){var a=3*Po;t=t-a/2+Fo(n-t+a/2,a)}return e=Number(e)-t,e>=gv&&e<=yv?e:Da}if(typeof e!="string"&&typeof e!="number")return Da;e=String(e);var o=$i(r),i=e.charAt(0);o&&(i==="G"||i==="g")&&(e=e.substr(1),r="");var l=o&&r.substr(0,7)==="chinese",u=e.match(l?EV:CV);if(!u)return Da;var s=u[1],f=u[3]||"1",v=Number(u[5]||1),g=Number(u[7]||0),b=Number(u[9]||0),x=Number(u[11]||0);if(o){if(s.length===2)return Da;s=Number(s);var T;try{var A=Qi.getComponentMethod("calendars","getCal")(r);if(l){var m=f.charAt(f.length-1)==="i";f=parseInt(f,10),T=A.newDate(s,A.toMonthIndex(s,f,m),v)}else T=A.newDate(s,Number(f),v)}catch(k){return Da}return T?(T.toJD()-Cf)*sa+g*Sf+b*Po+x*Ks:Da}s.length===2?s=(Number(s)+2e3-M6)%100+M6:s=Number(s),f-=1;var w=new Date(Date.UTC(2e3,f,v,g,b));return w.setUTCFullYear(s),w.getUTCMonth()!==f||w.getUTCDate()!==v?Da:w.getTime()+x*Ks};gv=Vt.MIN_MS=Vt.dateTime2ms("-9999");yv=Vt.MAX_MS=Vt.dateTime2ms("9999-12-31 23:59:59.9999");Vt.isDateTime=function(e,r){return Vt.dateTime2ms(e,r)!==Da};function Js(e,r){return String(e+Math.pow(10,r)).substr(1)}var pv=90*sa,A6=3*Sf,k6=5*Po;Vt.ms2DateTime=function(e,r,t){if(typeof e!="number"||!(e>=gv&&e<=yv))return Da;r||(r=0);var n=Math.floor(Fo(e+.05,1)*10),a=Math.round(e-n/10),o,i,l,u,s,f;if($i(t)){var v=Math.floor(a/sa)+Cf,g=Math.floor(Fo(e,sa));try{o=Qi.getComponentMethod("calendars","getCal")(t).fromJD(v).formatDate("yyyy-mm-dd")}catch(b){o=T6("G%Y-%m-%d")(new Date(a))}if(o.charAt(0)==="-")for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;i=r<pv?Math.floor(g/Sf):0,l=r<pv?Math.floor(g%Sf/Po):0,u=r<A6?Math.floor(g%Po/Ks):0,s=r<k6?g%Ks*10+n:0}else f=new Date(a),o=T6("%Y-%m-%d")(f),i=r<pv?f.getUTCHours():0,l=r<pv?f.getUTCMinutes():0,u=r<A6?f.getUTCSeconds():0,s=r<k6?f.getUTCMilliseconds()*10+n:0;return L6(o,i,l,u,s)};Vt.ms2DateTimeLocal=function(e){if(!(e>=gv+sa&&e<=yv-sa))return Da;var r=Math.floor(Fo(e+.05,1)*10),t=new Date(Math.round(e-r/10)),n=SV("%Y-%m-%d")(t),a=t.getHours(),o=t.getMinutes(),i=t.getSeconds(),l=t.getUTCMilliseconds()*10+r;return L6(n,a,o,i,l)};function L6(e,r,t,n,a){if((r||t||n||a)&&(e+=" "+Js(r,2)+":"+Js(t,2),(n||a)&&(e+=":"+Js(n,2),a))){for(var o=4;a%10===0;)o-=1,a/=10;e+="."+Js(a,o)}return e}Vt.cleanDate=function(e,r,t){if(e===Da)return r;if(Vt.isJSDate(e)||typeof e=="number"&&isFinite(e)){if($i(t))return Zp.error("JS Dates and milliseconds are incompatible with world calendars",e),r;if(e=Vt.ms2DateTimeLocal(+e),!e&&r!==void 0)return r}else if(!Vt.isDateTime(e,t))return Zp.error("unrecognized date",e),r;return e};var RV=/%\d?f/g,DV=/%h/g,PV={1:"1",2:"1",3:"2",4:"2"};function S6(e,r,t,n){e=e.replace(RV,function(o){var i=Math.min(+o.charAt(1)||6,6),l=(r/1e3%1+2).toFixed(i).substr(2).replace(/0+$/,"")||"0";return l});var a=new Date(Math.floor(r+.05));if(e=e.replace(DV,function(){return PV[t("%q")(a)]}),$i(n))try{e=Qi.getComponentMethod("calendars","worldCalFmt")(e,r,n)}catch(o){return"Invalid"}return t(e)(a)}var FV=[59,59.9,59.99,59.999,59.9999];function IV(e,r){var t=Fo(e+.05,sa),n=Js(Math.floor(t/Sf),2)+":"+Js(Fo(Math.floor(t/Po),60),2);if(r!=="M"){E6(r)||(r=0);var a=Math.min(Fo(e/Ks,60),FV[r]),o=(100+a).toFixed(r).substr(1);r>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+o}return n}Vt.formatDate=function(e,r,t,n,a,o){if(a=$i(a)&&a,!r)if(t==="y")r=o.year;else if(t==="m")r=o.month;else if(t==="d")r=o.dayMonth+`
`+o.year;else return IV(e,t)+`
`+S6(o.dayMonthYear,e,n,a);return S6(r,e,n,a)};var C6=3*sa;Vt.incrementMonth=function(e,r,t){t=$i(t)&&t;var n=Fo(e,sa);if(e=Math.round(e-n),t)try{var a=Math.round(e/sa)+Cf,o=Qi.getComponentMethod("calendars","getCal")(t),i=o.fromJD(a);return r%12?o.add(i,r,"m"):o.add(i,r/12,"y"),(i.toJD()-Cf)*sa+n}catch(u){Zp.error("invalid ms "+e+" in calendar "+t)}var l=new Date(e+C6);return l.setUTCMonth(l.getUTCMonth()+r)+n-C6};Vt.findExactDates=function(e,r){for(var t=0,n=0,a=0,o=0,i,l,u=$i(r)&&Qi.getComponentMethod("calendars","getCal")(r),s=0;s<e.length;s++){if(l=e[s],!E6(l)){o++;continue}if(!(l%sa))if(u)try{i=u.fromJD(l/sa+Cf),i.day()===1?i.month()===1?t++:n++:a++}catch(v){}else i=new Date(l),i.getUTCDate()===1?i.getUTCMonth()===0?t++:n++:a++}n+=t,a+=n;var f=e.length-o;return{exactYears:t/f,exactMonths:n/f,exactDays:a/f}}});var Jp=pe((Mce,D6)=>{"use strict";D6.exports=function(r){return r}});var Qp=pe(ji=>{"use strict";var NV=rt(),zV=Il(),OV=Jp(),qV=Xt().BADNUM,Kp=1e-9;ji.findBin=function(e,r,t){if(NV(r.start))return t?Math.ceil((e-r.start)/r.size-Kp)-1:Math.floor((e-r.start)/r.size+Kp);var n=0,a=r.length,o=0,i=a>1?(r[a-1]-r[0])/(a-1):1,l,u;for(i>=0?u=t?BV:UV:u=t?VV:HV,e+=i*Kp*(t?-1:1)*(i>=0?1:-1);n<a&&o++<100;)l=Math.floor((n+a)/2),u(r[l],e)?n=l+1:a=l;return o>90&&zV.log("Long binary search..."),n-1};function BV(e,r){return e<r}function UV(e,r){return e<=r}function HV(e,r){return e>r}function VV(e,r){return e>=r}ji.sorterAsc=function(e,r){return e-r};ji.sorterDes=function(e,r){return r-e};ji.distinctVals=function(e){var r=e.slice();r.sort(ji.sorterAsc);var t;for(t=r.length-1;t>-1&&r[t]===qV;t--);for(var n=r[t]-r[0]||1,a=n/(t||1)/1e4,o=[],i,l=0;l<=t;l++){var u=r[l],s=u-i;i===void 0?(o.push(u),i=u):s>a&&(n=Math.min(n,s),o.push(u),i=u)}return{vals:o,minDiff:n}};ji.roundUp=function(e,r,t){for(var n=0,a=r.length-1,o,i=0,l=t?0:1,u=t?1:0,s=t?Math.ceil:Math.floor;n<a&&i++<100;)o=s((n+a)/2),r[o]<=e?n=o+l:a=o-u;return r[n]};ji.sort=function(e,r){for(var t=0,n=0,a=1;a<e.length;a++){var o=r(e[a],e[a-1]);if(o<0?t=1:o>0&&(n=1),t&&n)return e.sort(r)}return n?e:e.reverse()};ji.findIndexOfMin=function(e,r){r=r||OV;for(var t=1/0,n,a=0;a<e.length;a++){var o=r(e[a]);o<t&&(t=o,n=a)}return n}});var mv=pe((kce,P6)=>{"use strict";P6.exports=function(r){return Object.keys(r).sort()}});var F6=pe(Gt=>{"use strict";var Ef=rt(),GV=ia().isArrayOrTypedArray;Gt.aggNums=function(e,r,t,n){var a,o;if((!n||n>t.length)&&(n=t.length),Ef(r)||(r=!1),GV(t[0])){for(o=new Array(n),a=0;a<n;a++)o[a]=Gt.aggNums(e,r,t[a]);t=o}for(a=0;a<n;a++)Ef(r)?Ef(t[a])&&(r=e(+r,+t[a])):r=t[a];return r};Gt.len=function(e){return Gt.aggNums(function(r){return r+1},0,e)};Gt.mean=function(e,r){return r||(r=Gt.len(e)),Gt.aggNums(function(t,n){return t+n},0,e)/r};Gt.geometricMean=function(e,r){return r||(r=Gt.len(e)),Math.pow(Gt.aggNums(function(t,n){return t*n},1,e),1/r)};Gt.midRange=function(e){if(!(e===void 0||e.length===0))return(Gt.aggNums(Math.max,null,e)+Gt.aggNums(Math.min,null,e))/2};Gt.variance=function(e,r,t){return r||(r=Gt.len(e)),Ef(t)||(t=Gt.mean(e,r)),Gt.aggNums(function(n,a){return n+Math.pow(a-t,2)},0,e)/r};Gt.stdev=function(e,r,t){return Math.sqrt(Gt.variance(e,r,t))};Gt.median=function(e){var r=e.slice().sort();return Gt.interp(r,.5)};Gt.interp=function(e,r){if(!Ef(r))throw"n should be a finite number";if(r=r*e.length-.5,r<0)return e[0];if(r>e.length-1)return e[e.length-1];var t=r%1;return t*e[Math.ceil(r)]+(1-t)*e[Math.floor(r)]}});var q6=pe((Cce,O6)=>{"use strict";var I6=Vs(),$p=I6.mod,YV=I6.modHalf,Lf=Math.PI,Io=2*Lf;function WV(e){return e/180*Lf}function XV(e){return e/Lf*180}function jp(e){return Math.abs(e[1]-e[0])>Io-1e-14}function N6(e,r){return YV(r-e,Io)}function ZV(e,r){return Math.abs(N6(e,r))}function z6(e,r){if(jp(r))return!0;var t,n;r[0]<r[1]?(t=r[0],n=r[1]):(t=r[1],n=r[0]),t=$p(t,Io),n=$p(n,Io),t>n&&(n+=Io);var a=$p(e,Io),o=a+Io;return a>=t&&a<=n||o>=t&&o<=n}function JV(e,r,t,n){if(!z6(r,n))return!1;var a,o;return t[0]<t[1]?(a=t[0],o=t[1]):(a=t[1],o=t[0]),e>=a&&e<=o}function eg(e,r,t,n,a,o,i){a=a||0,o=o||0;var l=jp([t,n]),u,s,f,v,g;l?(u=0,s=Lf,f=Io):t<n?(u=t,f=n):(u=n,f=t),e<r?(v=e,g=r):(v=r,g=e);function b(m,w){return[m*Math.cos(w)+a,o-m*Math.sin(w)]}var x=Math.abs(f-u)<=Lf?0:1;function T(m,w,k){return"A"+[m,m]+" "+[0,x,k]+" "+b(m,w)}var A;return l?v===null?A="M"+b(g,u)+T(g,s,0)+T(g,f,0)+"Z":A="M"+b(v,u)+T(v,s,0)+T(v,f,0)+"ZM"+b(g,u)+T(g,s,1)+T(g,f,1)+"Z":v===null?(A="M"+b(g,u)+T(g,f,0),i&&(A+="L0,0Z")):A="M"+b(v,u)+"L"+b(g,u)+T(g,f,0)+"L"+b(v,f)+T(v,u,1)+"Z",A}function KV(e,r,t,n,a){return eg(null,e,r,t,n,a,0)}function QV(e,r,t,n,a){return eg(null,e,r,t,n,a,1)}function $V(e,r,t,n,a,o){return eg(e,r,t,n,a,o,1)}O6.exports={deg2rad:WV,rad2deg:XV,angleDelta:N6,angleDist:ZV,isFullCircle:jp,isAngleInsideSector:z6,isPtInsideSector:JV,pathArc:KV,pathSector:QV,pathAnnulus:$V}});var B6=pe(zl=>{"use strict";zl.isLeftAnchor=function(r){return r.xanchor==="left"||r.xanchor==="auto"&&r.x<=1/3};zl.isCenterAnchor=function(r){return r.xanchor==="center"||r.xanchor==="auto"&&r.x>1/3&&r.x<2/3};zl.isRightAnchor=function(r){return r.xanchor==="right"||r.xanchor==="auto"&&r.x>=2/3};zl.isTopAnchor=function(r){return r.yanchor==="top"||r.yanchor==="auto"&&r.y>=2/3};zl.isMiddleAnchor=function(r){return r.yanchor==="middle"||r.yanchor==="auto"&&r.y>1/3&&r.y<2/3};zl.isBottomAnchor=function(r){return r.yanchor==="bottom"||r.yanchor==="auto"&&r.y<=1/3}});var V6=pe(Ol=>{"use strict";var rg=Vs().mod;Ol.segmentsIntersect=H6;function H6(e,r,t,n,a,o,i,l){var u=t-e,s=a-e,f=i-a,v=n-r,g=o-r,b=l-o,x=u*b-f*v;if(x===0)return null;var T=(s*b-f*g)/x,A=(s*v-u*g)/x;return A<0||A>1||T<0||T>1?null:{x:e+u*T,y:r+v*T}}Ol.segmentDistance=function(r,t,n,a,o,i,l,u){if(H6(r,t,n,a,o,i,l,u))return 0;var s=n-r,f=a-t,v=l-o,g=u-i,b=s*s+f*f,x=v*v+g*g,T=Math.min(xv(s,f,b,o-r,i-t),xv(s,f,b,l-r,u-t),xv(v,g,x,r-o,t-i),xv(v,g,x,n-o,a-i));return Math.sqrt(T)};function xv(e,r,t,n,a){var o=n*e+a*r;if(o<0)return n*n+a*a;if(o>t){var i=n-e,l=a-r;return i*i+l*l}else{var u=n*r-a*e;return u*u/t}}var bv,tg,U6;Ol.getTextLocation=function(r,t,n,a){if((r!==tg||a!==U6)&&(bv={},tg=r,U6=a),bv[n])return bv[n];var o=r.getPointAtLength(rg(n-a/2,t)),i=r.getPointAtLength(rg(n+a/2,t)),l=Math.atan((i.y-o.y)/(i.x-o.x)),u=r.getPointAtLength(rg(n,t)),s=(u.x*4+o.x+i.x)/6,f=(u.y*4+o.y+i.y)/6,v={x:s,y:f,theta:l};return bv[n]=v,v};Ol.clearLocationCache=function(){tg=null};Ol.getVisibleSegment=function(r,t,n){var a=t.left,o=t.right,i=t.top,l=t.bottom,u=0,s=r.getTotalLength(),f=s,v,g;function b(T){var A=r.getPointAtLength(T);T===0?v=A:T===s&&(g=A);var m=A.x<a?a-A.x:A.x>o?A.x-o:0,w=A.y<i?i-A.y:A.y>l?A.y-l:0;return Math.sqrt(m*m+w*w)}for(var x=b(u);x;){if(u+=x+n,u>f)return;x=b(u)}for(x=b(f);x;){if(f-=x+n,u>f)return;x=b(f)}return{min:u,max:f,len:f-u,total:s,isClosed:u===0&&f===s&&Math.abs(v.x-g.x)<.1&&Math.abs(v.y-g.y)<.1}};Ol.findPointOnPath=function(r,t,n,a){a=a||{};for(var o=a.pathLength||r.getTotalLength(),i=a.tolerance||.001,l=a.iterationLimit||30,u=r.getPointAtLength(0)[n]>r.getPointAtLength(o)[n]?-1:1,s=0,f=0,v=o,g,b,x;s<l;){if(g=(f+v)/2,b=r.getPointAtLength(g),x=b[n]-t,Math.abs(x)<i)return b;u*x>0?v=g:f=g,s++}return b}});var _v=pe(Rf=>{"use strict";var eo={};Rf.throttle=function(r,t,n){var a=eo[r],o=Date.now();if(!a){for(var i in eo)eo[i].ts<o-6e4&&delete eo[i];a=eo[r]={ts:0,timer:null}}G6(a);function l(){n(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}if(o>a.ts+t){l();return}a.timer=setTimeout(function(){l(),a.timer=null},t)};Rf.done=function(e){var r=eo[e];return!r||!r.timer?Promise.resolve():new Promise(function(t){var n=r.onDone;r.onDone=function(){n&&n(),t(),r.onDone=null}})};Rf.clear=function(e){if(e)G6(eo[e]),delete eo[e];else for(var r in eo)Rf.clear(r)};function G6(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}});var W6=pe((Dce,Y6)=>{"use strict";Y6.exports=function(r){r._responsiveChartHandler&&(window.removeEventListener("resize",r._responsiveChartHandler),delete r._responsiveChartHandler)}});var X6=pe((Pce,wv)=>{"use strict";wv.exports=ng;wv.exports.isMobile=ng;wv.exports.default=ng;var jV=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,eG=/CrOS/,rG=/android|ipad|playbook|silk/i;function ng(e){e||(e={});let r=e.ua;if(!r&&typeof navigator!="undefined"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;let t=jV.test(r)&&!eG.test(r)||!!e.tablet&&rG.test(r);return!t&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(t=!0),t}});var J6=pe((Fce,Z6)=>{"use strict";var tG=rt(),nG=X6();Z6.exports=function(r){var t;if(r&&r.hasOwnProperty("userAgent")?t=r.userAgent:t=aG(),typeof t!="string")return!0;var n=nG({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n)for(var a=t.split(" "),o=1;o<a.length;o++){var i=a[o];if(i.indexOf("Safari")!==-1)for(var l=o-1;l>-1;l--){var u=a[l];if(u.substr(0,8)==="Version/"){var s=u.substr(8).split(".")[0];if(tG(s)&&(s=+s),s>=13)return!0}}}return n};function aG(){var e;return typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),e}});var Q6=pe((Ice,K6)=>{"use strict";var iG=it();K6.exports=function(r,t,n){var a=r.selectAll("g."+n.replace(/\s/g,".")).data(t,function(i){return i[0].trace.uid});a.exit().remove(),a.enter().append("g").attr("class",n),a.order();var o=r.classed("rangeplot")?"nodeRangePlot3":"node3";return a.each(function(i){i[0][o]=iG.select(this)}),a}});var j6=pe((Nce,$6)=>{"use strict";var oG=Cr();$6.exports=function(r,t){for(var n=r._context.locale,a=0;a<2;a++){for(var o=r._context.locales,i=0;i<2;i++){var l=(o[n]||{}).dictionary;if(l){var u=l[t];if(u)return u}o=oG.localeRegistry}var s=n.split("-")[0];if(s===n)break;n=s}return t}});var rw=pe((zce,ew)=>{"use strict";ew.exports=function(r){for(var t={},n=[],a=0,o=0;o<r.length;o++){var i=r[o];t[i]!==1&&(t[i]=1,n[a++]=i)}return n}});var nw=pe((Oce,tw)=>{"use strict";tw.exports=function(r){for(var t=uG(r)?sG:lG,n=[],a=0;a<r.length;a++){var o=r[a];t(o)&&n.push(o)}return n};function lG(e){return e.visible===!0}function sG(e){var r=e[0].trace;return r.visible===!0&&r._length!==0}function uG(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}});var iw=pe((qce,aw)=>{"use strict";aw.exports=function(r,t){if(!t)return r;var n=1/Math.abs(t),a=n>1?(n*r+n*t)/n:r+t,o=String(a).length;if(o>16){var i=String(t).length,l=String(r).length;if(o>=l+i){var u=parseFloat(a).toPrecision(12);u.indexOf("e+")===-1&&(a=+u)}}return a}});var lw=pe((Bce,ow)=>{"use strict";var fG=rt(),cG=Xt().BADNUM,vG=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ow.exports=function(r){return typeof r=="string"&&(r=r.replace(vG,"")),fG(r)?Number(r):cG}});var ir=pe((Uce,bw)=>{"use strict";var Df=it(),hG=Us().utcFormat,dG=Sp().format,hw=rt(),dw=Xt(),pw=dw.FP_SAFE,pG=-pw,sw=dw.BADNUM,Ze=bw.exports={};Ze.adjustFormat=function(r){return!r||/^\d[.]\df/.test(r)||/[.]\d%/.test(r)?r:r==="0.f"?"~f":/^\d%/.test(r)?"~%":/^\ds/.test(r)?"~s":!/^[~,.0$]/.test(r)&&/[&fps]/.test(r)?"~"+r:r};var uw={};Ze.warnBadFormat=function(e){var r=String(e);uw[r]||(uw[r]=1,Ze.warn('encountered bad format: "'+r+'"'))};Ze.noFormat=function(e){return String(e)};Ze.numberFormat=function(e){var r;try{r=dG(Ze.adjustFormat(e))}catch(t){return Ze.warnBadFormat(e),Ze.noFormat}return r};Ze.nestedProperty=Xc();Ze.keyedContainer=jb();Ze.relativeAttr=r4();Ze.isPlainObject=So();Ze.toLogRange=Jc();Ze.relinkPrivateKeys=i4();var No=ia();Ze.isArrayBuffer=No.isArrayBuffer;Ze.isTypedArray=No.isTypedArray;Ze.isArrayOrTypedArray=No.isArrayOrTypedArray;Ze.isArray1D=No.isArray1D;Ze.ensureArray=No.ensureArray;Ze.concat=No.concat;Ze.maxRowLength=No.maxRowLength;Ze.minRowLength=No.minRowLength;var gw=Vs();Ze.mod=gw.mod;Ze.modHalf=gw.modHalf;var zo=M4();Ze.valObjectMeta=zo.valObjectMeta;Ze.coerce=zo.coerce;Ze.coerce2=zo.coerce2;Ze.coerceFont=zo.coerceFont;Ze.coercePattern=zo.coercePattern;Ze.coerceHoverinfo=zo.coerceHoverinfo;Ze.coerceSelectionMarkerOpacity=zo.coerceSelectionMarkerOpacity;Ze.validate=zo.validate;var ma=R6();Ze.dateTime2ms=ma.dateTime2ms;Ze.isDateTime=ma.isDateTime;Ze.ms2DateTime=ma.ms2DateTime;Ze.ms2DateTimeLocal=ma.ms2DateTimeLocal;Ze.cleanDate=ma.cleanDate;Ze.isJSDate=ma.isJSDate;Ze.formatDate=ma.formatDate;Ze.incrementMonth=ma.incrementMonth;Ze.dateTick0=ma.dateTick0;Ze.dfltRange=ma.dfltRange;Ze.findExactDates=ma.findExactDates;Ze.MIN_MS=ma.MIN_MS;Ze.MAX_MS=ma.MAX_MS;var ql=Qp();Ze.findBin=ql.findBin;Ze.sorterAsc=ql.sorterAsc;Ze.sorterDes=ql.sorterDes;Ze.distinctVals=ql.distinctVals;Ze.roundUp=ql.roundUp;Ze.sort=ql.sort;Ze.findIndexOfMin=ql.findIndexOfMin;Ze.sortObjectKeys=mv();var ro=F6();Ze.aggNums=ro.aggNums;Ze.len=ro.len;Ze.mean=ro.mean;Ze.geometricMean=ro.geometricMean;Ze.median=ro.median;Ze.midRange=ro.midRange;Ze.variance=ro.variance;Ze.stdev=ro.stdev;Ze.interp=ro.interp;var ti=iv();Ze.init2dArray=ti.init2dArray;Ze.transposeRagged=ti.transposeRagged;Ze.dot=ti.dot;Ze.translationMatrix=ti.translationMatrix;Ze.rotationMatrix=ti.rotationMatrix;Ze.rotationXYMatrix=ti.rotationXYMatrix;Ze.apply3DTransform=ti.apply3DTransform;Ze.apply2DTransform=ti.apply2DTransform;Ze.apply2DTransform2=ti.apply2DTransform2;Ze.convertCssMatrix=ti.convertCssMatrix;Ze.inverseTransformMatrix=ti.inverseTransformMatrix;var Ei=q6();Ze.deg2rad=Ei.deg2rad;Ze.rad2deg=Ei.rad2deg;Ze.angleDelta=Ei.angleDelta;Ze.angleDist=Ei.angleDist;Ze.isFullCircle=Ei.isFullCircle;Ze.isAngleInsideSector=Ei.isAngleInsideSector;Ze.isPtInsideSector=Ei.isPtInsideSector;Ze.pathArc=Ei.pathArc;Ze.pathSector=Ei.pathSector;Ze.pathAnnulus=Ei.pathAnnulus;var js=B6();Ze.isLeftAnchor=js.isLeftAnchor;Ze.isCenterAnchor=js.isCenterAnchor;Ze.isRightAnchor=js.isRightAnchor;Ze.isTopAnchor=js.isTopAnchor;Ze.isMiddleAnchor=js.isMiddleAnchor;Ze.isBottomAnchor=js.isBottomAnchor;var eu=V6();Ze.segmentsIntersect=eu.segmentsIntersect;Ze.segmentDistance=eu.segmentDistance;Ze.getTextLocation=eu.getTextLocation;Ze.clearLocationCache=eu.clearLocationCache;Ze.getVisibleSegment=eu.getVisibleSegment;Ze.findPointOnPath=eu.findPointOnPath;var Av=Mt();Ze.extendFlat=Av.extendFlat;Ze.extendDeep=Av.extendDeep;Ze.extendDeepAll=Av.extendDeepAll;Ze.extendDeepNoArrays=Av.extendDeepNoArrays;var ag=Il();Ze.log=ag.log;Ze.warn=ag.warn;Ze.error=ag.error;var gG=Gs();Ze.counterRegex=gG.counter;var ig=_v();Ze.throttle=ig.throttle;Ze.throttleDone=ig.done;Ze.clearThrottle=ig.clear;var Li=Af();Ze.getGraphDiv=Li.getGraphDiv;Ze.isPlotDiv=Li.isPlotDiv;Ze.removeElement=Li.removeElement;Ze.addStyleRule=Li.addStyleRule;Ze.addRelatedStyleRule=Li.addRelatedStyleRule;Ze.deleteRelatedStyleRule=Li.deleteRelatedStyleRule;Ze.getFullTransformMatrix=Li.getFullTransformMatrix;Ze.getElementTransformMatrix=Li.getElementTransformMatrix;Ze.getElementAndAncestors=Li.getElementAndAncestors;Ze.equalDomRects=Li.equalDomRects;Ze.clearResponsive=W6();Ze.preserveDrawingBuffer=J6();Ze.makeTraceGroups=Q6();Ze._=j6();Ze.notifier=Op();Ze.filterUnique=rw();Ze.filterVisible=nw();Ze.pushUnique=Up();Ze.increment=iw();Ze.cleanNumber=lw();Ze.ensureNumber=function(r){return hw(r)?(r=Number(r),r>pw||r<pG?sw:r):sw};Ze.isIndex=function(e,r){return r!==void 0&&e>=r?!1:hw(e)&&e>=0&&e%1===0};Ze.noop=av();Ze.identity=Jp();Ze.repeat=function(e,r){for(var t=new Array(r),n=0;n<r;n++)t[n]=e;return t};Ze.swapAttrs=function(e,r,t,n){t||(t="x"),n||(n="y");for(var a=0;a<r.length;a++){var o=r[a],i=Ze.nestedProperty(e,o.replace("?",t)),l=Ze.nestedProperty(e,o.replace("?",n)),u=i.get();i.set(l.get()),l.set(u)}};Ze.raiseToTop=function(r){r.parentNode.appendChild(r)};Ze.cancelTransition=function(e){return e.transition().duration(0)};Ze.constrain=function(e,r,t){return r>t?Math.max(t,Math.min(r,e)):Math.max(r,Math.min(t,e))};Ze.bBoxIntersect=function(e,r,t){return t=t||0,e.left<=r.right+t&&r.left<=e.right+t&&e.top<=r.bottom+t&&r.top<=e.bottom+t};Ze.simpleMap=function(e,r,t,n,a){for(var o=e.length,i=new Array(o),l=0;l<o;l++)i[l]=r(e[l],t,n,a);return i};Ze.randstr=function e(r,t,n,a){if(n||(n=16),t===void 0&&(t=24),t<=0)return"0";var o=Math.log(Math.pow(2,t))/Math.log(n),i="",l,u,s;for(l=2;o===1/0;l*=2)o=Math.log(Math.pow(2,t/l))/Math.log(n)*l;var f=o-Math.floor(o);for(l=0;l<Math.floor(o);l++)s=Math.floor(Math.random()*n).toString(n),i=s+i;f&&(u=Math.pow(n,f),s=Math.floor(Math.random()*u).toString(n),i=s+i);var v=parseInt(i,n);return r&&r[i]||v!==1/0&&v>=Math.pow(2,t)?a>10?(Ze.warn("randstr failed uniqueness"),i):e(r,t,n,(a||0)+1):i};Ze.OptionControl=function(e,r){e||(e={}),r||(r="opt");var t={};return t.optionList=[],t._newoption=function(n){n[r]=e,t[n.name]=n,t.optionList.push(n)},t["_"+r]=e,t};Ze.smooth=function(e,r){if(r=Math.round(r)||0,r<2)return e;var t=e.length,n=2*t,a=2*r-1,o=new Array(a),i=new Array(t),l,u,s,f;for(l=0;l<a;l++)o[l]=(1-Math.cos(Math.PI*(l+1)/r))/(2*r);for(l=0;l<t;l++){for(f=0,u=0;u<a;u++)s=l+u+1-r,s<-t?s-=n*Math.round(s/n):s>=n&&(s-=n*Math.floor(s/n)),s<0?s=-1-s:s>=t&&(s=n-1-s),f+=e[s]*o[u];i[l]=f}return i};Ze.syncOrAsync=function(e,r,t){var n,a;function o(){return Ze.syncOrAsync(e,r,t)}for(;e.length;)if(a=e.splice(0,1)[0],n=a(r),n&&n.then)return n.then(o);return t&&t(r)};Ze.stripTrailingSlash=function(e){return e.substr(-1)==="/"?e.substr(0,e.length-1):e};Ze.noneOrAll=function(e,r,t){if(e){var n=!1,a=!0,o,i;for(o=0;o<t.length;o++)i=e[t[o]],i!=null?n=!0:a=!1;if(n&&!a)for(o=0;o<t.length;o++)e[t[o]]=r[t[o]]}};Ze.mergeArray=function(e,r,t,n){var a=typeof n=="function";if(Ze.isArrayOrTypedArray(e))for(var o=Math.min(e.length,r.length),i=0;i<o;i++){var l=e[i];r[i][t]=a?n(l):l}};Ze.mergeArrayCastPositive=function(e,r,t){return Ze.mergeArray(e,r,t,function(n){var a=+n;return isFinite(a)&&a>0?a:0})};Ze.fillArray=function(e,r,t,n){if(n=n||Ze.identity,Ze.isArrayOrTypedArray(e))for(var a=0;a<r.length;a++)r[a][t]=n(e[a])};Ze.castOption=function(e,r,t,n){n=n||Ze.identity;var a=Ze.nestedProperty(e,t).get();return Ze.isArrayOrTypedArray(a)?Array.isArray(r)&&Ze.isArrayOrTypedArray(a[r[0]])?n(a[r[0]][r[1]]):n(a[r]):a};Ze.extractOption=function(e,r,t,n){if(t in e)return e[t];var a=Ze.nestedProperty(r,n).get();if(!Array.isArray(a))return a};function yw(e){var r={};for(var t in e)for(var n=e[t],a=0;a<n.length;a++)r[n[a]]=+t;return r}Ze.tagSelected=function(e,r,t){var n=r.selectedpoints,a=r._indexToPoints,o;a&&(o=yw(a));function i(v){return v!==void 0&&v<e.length}for(var l=0;l<n.length;l++){var u=n[l];if(Ze.isIndex(u)||Ze.isArrayOrTypedArray(u)&&Ze.isIndex(u[0])&&Ze.isIndex(u[1])){var s=o?o[u]:u,f=t?t[s]:s;i(f)&&(e[f].selected=1)}}};Ze.selIndices2selPoints=function(e){var r=e.selectedpoints,t=e._indexToPoints;if(t){for(var n=yw(t),a=[],o=0;o<r.length;o++){var i=r[o];if(Ze.isIndex(i)){var l=n[i];Ze.isIndex(l)&&a.push(l)}}return a}else return r};Ze.getTargetArray=function(e,r){var t=r.target;if(typeof t=="string"&&t){var n=Ze.nestedProperty(e,t).get();return Ze.isArrayOrTypedArray(n)?n:!1}else if(Ze.isArrayOrTypedArray(t))return t;return!1};function mw(e,r,t){var n={};typeof r!="object"&&(r={});var a=t==="pieLike"?-1:3,o=Object.keys(e),i,l,u;for(i=0;i<o.length;i++)l=o[i],u=e[l],!(l.charAt(0)==="_"||typeof u=="function")&&(l==="module"?n[l]=u:Array.isArray(u)?l==="colorscale"||a===-1?n[l]=u.slice():n[l]=u.slice(0,a):Ze.isTypedArray(u)?a===-1?n[l]=u.subarray():n[l]=u.subarray(0,a):u&&typeof u=="object"?n[l]=mw(e[l],r[l],t):n[l]=u);for(o=Object.keys(r),i=0;i<o.length;i++)l=o[i],u=r[l],(typeof u!="object"||!(l in n)||typeof n[l]!="object")&&(n[l]=u);return n}Ze.minExtend=mw;Ze.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)};Ze.containsAny=function(e,r){for(var t=0;t<r.length;t++)if(e.indexOf(r[t])!==-1)return!0;return!1};Ze.isIE=function(){return typeof window.navigator.msSaveBlob!="undefined"};var yG=/Version\/[\d\.]+.*Safari/;Ze.isSafari=function(){return yG.test(window.navigator.userAgent)};var mG=/iPad|iPhone|iPod/;Ze.isIOS=function(){return mG.test(window.navigator.userAgent)};var xG=/Firefox\/(\d+)\.\d+/;Ze.getFirefoxVersion=function(){var e=xG.exec(window.navigator.userAgent);if(e&&e.length===2){var r=parseInt(e[1]);if(!isNaN(r))return r}return null};Ze.isD3Selection=function(e){return e instanceof Df.selection};Ze.ensureSingle=function(e,r,t,n){var a=e.select(r+(t?"."+t:""));if(a.size())return a;var o=e.append(r);return t&&o.classed(t,!0),n&&o.call(n),o};Ze.ensureSingleById=function(e,r,t,n){var a=e.select(r+"#"+t);if(a.size())return a;var o=e.append(r).attr("id",t);return n&&o.call(n),o};Ze.objectFromPath=function(e,r){for(var t=e.split("."),n,a=n={},o=0;o<t.length;o++){var i=t[o],l=null,u=t[o].match(/(.*)\[([0-9]+)\]/);u?(i=u[1],l=u[2],n=n[i]=[],o===t.length-1?n[l]=r:n[l]={},n=n[l]):(o===t.length-1?n[i]=r:n[i]={},n=n[i])}return a};var bG=/^([^\[\.]+)\.(.+)?/,_G=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function Tv(e){return e.slice(0,2)==="__"}Ze.expandObjectPaths=function(e){var r,t,n,a,o,i,l;if(typeof e=="object"&&!Array.isArray(e)){for(t in e)if(e.hasOwnProperty(t))if(r=t.match(bG)){if(a=e[t],n=r[1],Tv(n))continue;delete e[t],e[n]=Ze.extendDeepNoArrays(e[n]||{},Ze.objectFromPath(t,Ze.expandObjectPaths(a))[n])}else if(r=t.match(_G)){if(a=e[t],n=r[1],Tv(n))continue;if(o=parseInt(r[2]),delete e[t],e[n]=e[n]||[],r[3]===".")l=r[4],i=e[n][o]=e[n][o]||{},Ze.extendDeepNoArrays(i,Ze.objectFromPath(l,Ze.expandObjectPaths(a)));else{if(Tv(n))continue;e[n][o]=Ze.expandObjectPaths(a)}}else{if(Tv(t))continue;e[t]=Ze.expandObjectPaths(e[t])}}return e};Ze.numSeparate=function(e,r,t){if(t||(t=!1),typeof r!="string"||r.length===0)throw new Error("Separator string required for formatting!");typeof e=="number"&&(e=String(e));var n=/(\d+)(\d{3})/,a=r.charAt(0),o=r.charAt(1),i=e.split("."),l=i[0],u=i.length>1?a+i[1]:"";if(o&&(i.length>1||l.length>4||t))for(;n.test(l);)l=l.replace(n,"$1"+o+"$2");return l+u};Ze.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var xw=/^\w*$/;Ze.templateString=function(e,r){var t={};return e.replace(Ze.TEMPLATE_STRING_REGEX,function(n,a){var o;return xw.test(a)?o=r[a]:(t[a]=t[a]||Ze.nestedProperty(r,a).get,o=t[a]()),Ze.isValidTextValue(o)?o:""})};var wG={max:10,count:0,name:"hovertemplate"};Ze.hovertemplateString=function(){return og.apply(wG,arguments)};var TG={max:10,count:0,name:"texttemplate"};Ze.texttemplateString=function(){return og.apply(TG,arguments)};var MG=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function AG(e){var r=e.match(MG);return r?{key:r[1],op:r[2],number:Number(r[3])}:{key:e,op:null,number:null}}var kG={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Ze.texttemplateStringForShapes=function(){return og.apply(kG,arguments)};var fw=/^[:|\|]/;function og(e,r,t){var n=this,a=arguments;r||(r={});var o={};return e.replace(Ze.TEMPLATE_STRING_REGEX,function(i,l,u){var s=l==="xother"||l==="yother",f=l==="_xother"||l==="_yother",v=l==="_xother_"||l==="_yother_",g=l==="xother_"||l==="yother_",b=s||f||g||v,x=l;(f||v)&&(x=x.substring(1)),(g||v)&&(x=x.substring(0,x.length-1));var T=null,A=null;if(n.parseMultDiv){var m=AG(x);x=m.key,T=m.op,A=m.number}var w;if(b){if(w=r[x],w===void 0)return""}else{var k,y;for(y=3;y<a.length;y++)if(k=a[y],!!k){if(k.hasOwnProperty(x)){w=k[x];break}if(xw.test(x)||(w=Ze.nestedProperty(k,x).get(),w=o[x]||Ze.nestedProperty(k,x).get(),w&&(o[x]=w)),w!==void 0)break}}if(w!==void 0&&(T==="*"&&(w*=A),T==="/"&&(w/=A)),w===void 0&&n)return n.count<n.max&&(Ze.warn("Variable '"+x+"' in "+n.name+" could not be found!"),w=i),n.count===n.max&&Ze.warn("Too many "+n.name+" warnings - additional warnings will be suppressed"),n.count++,i;if(u){var M;if(u[0]===":"&&(M=t?t.numberFormat:Ze.numberFormat,w!==""&&(w=M(u.replace(fw,""))(w))),u[0]==="|"){M=t?t.timeFormat:hG;var d=Ze.dateTime2ms(w);w=Ze.formatDate(d,u.replace(fw,""),!1,M)}}else{var _=x+"Label";r.hasOwnProperty(_)&&(w=r[_])}return b&&(w="("+w+")",(f||v)&&(w=" "+w),(g||v)&&(w=w+" ")),w})}var Mv=48,cw=57;Ze.subplotSort=function(e,r){for(var t=Math.min(e.length,r.length)+1,n=0,a=0,o=0;o<t;o++){var i=e.charCodeAt(o)||0,l=r.charCodeAt(o)||0,u=i>=Mv&&i<=cw,s=l>=Mv&&l<=cw;if(u&&(n=10*n+i-Mv),s&&(a=10*a+l-Mv),!u||!s){if(n!==a)return n-a;if(i!==l)return i-l}}return a-n};var $s=2e9;Ze.seedPseudoRandom=function(){$s=2e9};Ze.pseudoRandom=function(){var e=$s;return $s=(69069*$s+1)%4294967296,Math.abs($s-e)<429496729?Ze.pseudoRandom():$s/4294967296};Ze.fillText=function(e,r,t){var n=Array.isArray(t)?function(i){t.push(i)}:function(i){t.text=i},a=Ze.extractOption(e,r,"htx","hovertext");if(Ze.isValidTextValue(a))return n(a);var o=Ze.extractOption(e,r,"tx","text");if(Ze.isValidTextValue(o))return n(o)};Ze.isValidTextValue=function(e){return e||e===0};Ze.formatPercent=function(e,r){r=r||0;for(var t=(Math.round(100*e*Math.pow(10,r))*Math.pow(.1,r)).toFixed(r)+"%",n=0;n<r;n++)t.indexOf(".")!==-1&&(t=t.replace("0%","%"),t=t.replace(".%","%"));return t};Ze.isHidden=function(e){var r=window.getComputedStyle(e).display;return!r||r==="none"};Ze.strTranslate=function(e,r){return e||r?"translate("+e+","+r+")":""};Ze.strRotate=function(e){return e?"rotate("+e+")":""};Ze.strScale=function(e){return e!==1?"scale("+e+")":""};Ze.getTextTransform=function(e){var r=e.noCenter,t=e.textX,n=e.textY,a=e.targetX,o=e.targetY,i=e.anchorX||0,l=e.anchorY||0,u=e.rotate,s=e.scale;return s?s>1&&(s=1):s=0,Ze.strTranslate(a-s*(t+i),o-s*(n+l))+Ze.strScale(s)+(u?"rotate("+u+(r?"":" "+t+" "+n)+")":"")};Ze.setTransormAndDisplay=function(e,r){e.attr("transform",Ze.getTextTransform(r)),e.style("display",r.scale?null:"none")};Ze.ensureUniformFontSize=function(e,r){var t=Ze.extendFlat({},r);return t.size=Math.max(r.size,e._fullLayout.uniformtext.minsize||0),t};Ze.join2=function(e,r,t){var n=e.length;return n>1?e.slice(0,-1).join(r)+t+e[n-1]:e.join(r)};Ze.bigFont=function(e){return Math.round(1.2*e)};var vw=Ze.getFirefoxVersion(),SG=vw!==null&&vw<86;Ze.getPositionFromD3Event=function(){return SG?[Df.event.layerX,Df.event.layerY]:[Df.event.offsetX,Df.event.offsetY]}});var Tw=pe(()=>{"use strict";var CG=ir(),_w={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(lg in _w)ww=lg.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),CG.addStyleRule(ww,_w[lg]);var ww,lg});var sg=pe((Gce,Mw)=>{Mw.exports=!0});var fg=pe((Yce,Aw)=>{"use strict";var EG=sg(),ug;typeof window.matchMedia=="function"?ug=!window.matchMedia("(hover: none)").matches:ug=EG;Aw.exports=ug});var Cv=pe((Wce,cg)=>{"use strict";var ru=typeof Reflect=="object"?Reflect:null,kw=ru&&typeof ru.apply=="function"?ru.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},kv;ru&&typeof ru.ownKeys=="function"?kv=ru.ownKeys:Object.getOwnPropertySymbols?kv=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:kv=function(r){return Object.getOwnPropertyNames(r)};function LG(e){console&&console.warn&&console.warn(e)}var Cw=Number.isNaN||function(r){return r!==r};function At(){At.init.call(this)}cg.exports=At;cg.exports.once=FG;At.EventEmitter=At;At.prototype._events=void 0;At.prototype._eventsCount=0;At.prototype._maxListeners=void 0;var Sw=10;function Sv(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(At,"defaultMaxListeners",{enumerable:!0,get:function(){return Sw},set:function(e){if(typeof e!="number"||e<0||Cw(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Sw=e}});At.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};At.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Cw(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function Ew(e){return e._maxListeners===void 0?At.defaultMaxListeners:e._maxListeners}At.prototype.getMaxListeners=function(){return Ew(this)};At.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a=r==="error",o=this._events;if(o!==void 0)a=a&&o.error===void 0;else if(!a)return!1;if(a){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var l=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw l.context=i,l}var u=o[r];if(u===void 0)return!1;if(typeof u=="function")kw(u,this,t);else for(var s=u.length,f=Fw(u,s),n=0;n<s;++n)kw(f[n],this,t);return!0};function Lw(e,r,t,n){var a,o,i;if(Sv(t),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),o=e._events),i=o[r]),i===void 0)i=o[r]=t,++e._eventsCount;else if(typeof i=="function"?i=o[r]=n?[t,i]:[i,t]:n?i.unshift(t):i.push(t),a=Ew(e),a>0&&i.length>a&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=r,l.count=i.length,LG(l)}return e}At.prototype.addListener=function(r,t){return Lw(this,r,t,!1)};At.prototype.on=At.prototype.addListener;At.prototype.prependListener=function(r,t){return Lw(this,r,t,!0)};function RG(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Rw(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},a=RG.bind(n);return a.listener=t,n.wrapFn=a,a}At.prototype.once=function(r,t){return Sv(t),this.on(r,Rw(this,r,t)),this};At.prototype.prependOnceListener=function(r,t){return Sv(t),this.prependListener(r,Rw(this,r,t)),this};At.prototype.removeListener=function(r,t){var n,a,o,i,l;if(Sv(t),a=this._events,a===void 0)return this;if(n=a[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){l=n[i].listener,o=i;break}if(o<0)return this;o===0?n.shift():DG(n,o),n.length===1&&(a[r]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",r,l||t)}return this};At.prototype.off=At.prototype.removeListener;At.prototype.removeAllListeners=function(r){var t,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var o=Object.keys(n),i;for(a=0;a<o.length;++a)i=o[a],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(r,t[a]);return this};function Dw(e,r,t){var n=e._events;if(n===void 0)return[];var a=n[r];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?PG(a):Fw(a,a.length)}At.prototype.listeners=function(r){return Dw(this,r,!0)};At.prototype.rawListeners=function(r){return Dw(this,r,!1)};At.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):Pw.call(e,r)};At.prototype.listenerCount=Pw;function Pw(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}At.prototype.eventNames=function(){return this._eventsCount>0?kv(this._events):[]};function Fw(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function DG(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function PG(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function FG(e,r){return new Promise(function(t,n){function a(i){e.removeListener(r,o),n(i)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),t([].slice.call(arguments))}Iw(e,r,o,{once:!0}),r!=="error"&&IG(e,a,{once:!0})})}function IG(e,r,t){typeof e.on=="function"&&Iw(e,"error",r,t)}function Iw(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function a(o){n.once&&e.removeEventListener(r,a),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var Pf=pe((Xce,Nw)=>{"use strict";var vg=Cv().EventEmitter,NG={init:function(e){if(e._ev instanceof vg)return e;var r=new vg,t=new vg;return e._ev=r,e._internalEv=t,e.on=r.on.bind(r),e.once=r.once.bind(r),e.removeListener=r.removeListener.bind(r),e.removeAllListeners=r.removeAllListeners.bind(r),e._internalOn=t.on.bind(t),e._internalOnce=t.once.bind(t),e._removeInternalListener=t.removeListener.bind(t),e._removeAllInternalListeners=t.removeAllListeners.bind(t),e.emit=function(n,a){typeof jQuery!="undefined"&&jQuery(e).trigger(n,a),r.emit(n,a),t.emit(n,a)},e},triggerHandler:function(e,r,t){var n,a;typeof jQuery!="undefined"&&(n=jQuery(e).triggerHandler(r,t));var o=e._ev;if(!o)return n;var i=o._events[r];if(!i)return n;function l(s){if(s.listener){if(o.removeListener(r,s.listener),!s.fired)return s.fired=!0,s.listener.apply(o,[t])}else return s.apply(o,[t])}i=Array.isArray(i)?i:[i];var u;for(u=0;u<i.length-1;u++)l(i[u]);return a=l(i[u]),n!==void 0?n:a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};Nw.exports=NG});var qw=pe((Zce,Ow)=>{"use strict";var zw=ir(),zG=Fl().dfltConfig;function OG(e,r){for(var t=[],n,a=0;a<r.length;a++)n=r[a],n===e?t[a]=n:typeof n=="object"?t[a]=Array.isArray(n)?zw.extendDeep([],n):zw.extendDeepAll({},n):t[a]=n;return t}var to={};to.add=function(e,r,t,n,a){var o,i;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},i=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(i,e.undoQueue.queue.length-i,o),e.undoQueue.index+=1):o=e.undoQueue.queue[i-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(r),o.undo.args.unshift(t),o.redo.calls.push(n),o.redo.args.push(a)),e.undoQueue.queue.length>zG.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)};to.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0};to.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1};to.undo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index<=0)){for(r.undoQueue.index--,t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)to.plotDo(r,t.undo.calls[n],t.undo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1}};to.redo=function(r){var t,n;if(!(r.undoQueue===void 0||isNaN(r.undoQueue.index)||r.undoQueue.index>=r.undoQueue.queue.length)){for(t=r.undoQueue.queue[r.undoQueue.index],r.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)to.plotDo(r,t.redo.calls[n],t.redo.args[n]);r.undoQueue.inSequence=!1,r.autoplay=!1,r.undoQueue.index++}};to.plotDo=function(e,r,t){e.autoplay=!0,t=OG(e,t),r.apply(null,t)};Ow.exports=to});var hg=pe((Jce,Bw)=>{"use strict";Bw.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}});var Oo=pe(Zt=>{"use strict";var En=Cr(),Nf=ir(),If=Cn(),dg=Xs(),qG=hg(),BG=kf(),UG=Fl().configAttributes,Uw=qn(),Pa=Nf.extendDeepAll,tu=Nf.isPlainObject,HG=Nf.isArrayOrTypedArray,Ev=Nf.nestedProperty,VG=Nf.valObjectMeta,pg="_isSubplotObj",Lv="_isLinkedToArray",GG="_arrayAttrRegexps",Vw="_deprecated",gg=[pg,Lv,GG,Vw];Zt.IS_SUBPLOT_OBJ=pg;Zt.IS_LINKED_TO_ARRAY=Lv;Zt.DEPRECATED=Vw;Zt.UNDERSCORE_ATTRS=gg;Zt.get=function(){var e={};En.allTypes.forEach(function(t){e[t]=WG(t)});var r={};return Object.keys(En.transformsRegistry).forEach(function(t){r[t]=ZG(t)}),{defs:{valObjects:VG,metaKeys:gg.concat(["description","role","editType","impliedEdits"]),editType:{traces:Uw.traces,layout:Uw.layout},impliedEdits:{}},traces:e,layout:XG(),transforms:r,frames:JG(),animation:Bl(BG),config:Bl(UG)}};Zt.crawl=function(e,r,t,n){var a=t||0;n=n||"",Object.keys(e).forEach(function(o){var i=e[o];if(gg.indexOf(o)===-1){var l=(n?n+".":"")+o;r(i,o,e,a,l),!Zt.isValObject(i)&&tu(i)&&o!=="impliedEdits"&&Zt.crawl(i,r,a+1,l)}})};Zt.isValObject=function(e){return e&&e.valType!==void 0};Zt.findArrayAttributes=function(e){var r=[],t=[],n=[],a,o;function i(g,b,x,T){t=t.slice(0,T).concat([b]),n=n.slice(0,T).concat([g&&g._isLinkedToArray]);var A=g&&(g.valType==="data_array"||g.arrayOk===!0)&&!(t[T-1]==="colorbar"&&(b==="ticktext"||b==="tickvals"));A&&l(a,0,"")}function l(g,b,x){var T=g[t[b]],A=x+t[b];if(b===t.length-1)HG(T)&&r.push(o+A);else if(n[b]){if(Array.isArray(T))for(var m=0;m<T.length;m++)tu(T[m])&&l(T[m],b+1,A+"["+m+"].")}else tu(T)&&l(T,b+1,A+".")}a=e,o="",Zt.crawl(If,i),e._module&&e._module.attributes&&Zt.crawl(e._module.attributes,i);var u=e.transforms;if(u)for(var s=0;s<u.length;s++){var f=u[s],v=f._module;v&&(o="transforms["+s+"].",a=f,Zt.crawl(v.attributes,i))}return r};Zt.getTraceValObject=function(e,r){var t=r[0],n=1,a,o;if(t==="transforms"){if(r.length===1)return If.transforms;var i=e.transforms;if(!Array.isArray(i)||!i.length)return!1;var l=r[1];if(!Ff(l)||l>=i.length)return!1;a=(En.transformsRegistry[i[l].type]||{}).attributes,o=a&&a[r[2]],n=3}else{var u=e._module;if(u||(u=(En.modules[e.type||If.type.dflt]||{})._module),!u)return!1;if(a=u.attributes,o=a&&a[t],!o){var s=u.basePlotModule;s&&s.attributes&&(o=s.attributes[t])}o||(o=If[t])}return Gw(o,r,n)};Zt.getLayoutValObject=function(e,r){var t=YG(e,r[0]);return Gw(t,r,1)};function YG(e,r){var t,n,a,o,i=e._basePlotModules;if(i){var l;for(t=0;t<i.length;t++){if(a=i[t],a.attrRegex&&a.attrRegex.test(r)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!l&&a.layoutAttributes&&(l=a.layoutAttributes)}var u=a.baseLayoutAttrOverrides;if(u&&r in u)return u[r]}if(l)return l}var s=e._modules;if(s){for(t=0;t<s.length;t++)if(o=s[t].layoutAttributes,o&&r in o)return o[r]}for(n in En.componentsRegistry){if(a=En.componentsRegistry[n],a.name==="colorscale"&&r.indexOf("coloraxis")===0)return a.layoutAttributes[r];if(!a.schema&&r===a.name)return a.layoutAttributes}return r in dg?dg[r]:!1}function Gw(e,r,t){if(!e)return!1;if(e._isLinkedToArray){if(Ff(r[t]))t++;else if(t<r.length)return!1}for(;t<r.length;t++){var n=e[r[t]];if(tu(n))e=n;else break;if(t===r.length-1)break;if(e._isLinkedToArray){if(t++,!Ff(r[t]))return!1}else if(e.valType==="info_array"){t++;var a=r[t];if(!Ff(a))return!1;var o=e.items;if(Array.isArray(o)){if(a>=o.length)return!1;if(e.dimensions===2){if(t++,r.length===t)return e;var i=r[t];if(!Ff(i))return!1;e=o[a][i]}else e=o[a]}else e=o}}return e}function Ff(e){return e===Math.round(e)&&e>=0}function WG(e){var r,t;r=En.modules[e]._module,t=r.basePlotModule;var n={};n.type=null;var a=Pa({},If),o=Pa({},r.attributes);Zt.crawl(o,function(u,s,f,v,g){Ev(a,g).set(void 0),u===void 0&&Ev(o,g).set(void 0)}),Pa(n,a),En.traceIs(e,"noOpacity")&&delete n.opacity,En.traceIs(e,"showLegend")||(delete n.showlegend,delete n.legendgroup),En.traceIs(e,"noHover")&&(delete n.hoverinfo,delete n.hoverlabel),r.selectPoints||delete n.selectedpoints,Pa(n,o),t.attributes&&Pa(n,t.attributes),n.type=e;var i={meta:r.meta||{},categories:r.categories||{},animatable:!!r.animatable,type:e,attributes:Bl(n)};if(r.layoutAttributes){var l={};Pa(l,r.layoutAttributes),i.layoutAttributes=Bl(l)}return r.animatable||Zt.crawl(i,function(u){Zt.isValObject(u)&&"anim"in u&&delete u.anim}),i}function XG(){var e={},r,t;Pa(e,dg);for(r in En.subplotsRegistry)if(t=En.subplotsRegistry[r],!!t.layoutAttributes)if(Array.isArray(t.attr))for(var n=0;n<t.attr.length;n++)Hw(e,t,t.attr[n]);else{var a=t.attr==="subplot"?t.name:t.attr;Hw(e,t,a)}for(r in En.componentsRegistry){t=En.componentsRegistry[r];var o=t.schema;if(o&&(o.subplots||o.layout)){var i=o.subplots;if(i&&i.xaxis&&!i.yaxis)for(var l in i.xaxis)delete e.yaxis[l];delete e.xaxis.shift,delete e.xaxis.autoshift}else t.name==="colorscale"?Pa(e,t.layoutAttributes):t.layoutAttributes&&Yw(e,t.layoutAttributes,t.name)}return{layoutAttributes:Bl(e)}}function ZG(e){var r=En.transformsRegistry[e],t=Pa({},r.attributes);return Object.keys(En.componentsRegistry).forEach(function(n){var a=En.componentsRegistry[n];a.schema&&a.schema.transforms&&a.schema.transforms[e]&&Object.keys(a.schema.transforms[e]).forEach(function(o){Yw(t,a.schema.transforms[e][o],o)})}),{attributes:Bl(t)}}function JG(){var e={frames:Pa({},qG)};return Bl(e),e.frames}function Bl(e){return KG(e),QG(e),$G(e),e}function KG(e){function r(n){return{valType:"string",editType:"none"}}function t(n,a,o){Zt.isValObject(n)?(n.arrayOk===!0||n.valType==="data_array")&&(o[a+"src"]=r(a)):tu(n)&&(n.role="object")}Zt.crawl(e,t)}function QG(e){function r(t,n,a){if(t){var o=t[Lv];o&&(delete t[Lv],a[n]={items:{}},a[n].items[o]=t,a[n].role="object")}}Zt.crawl(e,r)}function $G(e){function r(t){for(var n in t)if(tu(t[n]))r(t[n]);else if(Array.isArray(t[n]))for(var a=0;a<t[n].length;a++)r(t[n][a]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}r(e)}function Hw(e,r,t){var n=Ev(e,t),a=Pa({},r.layoutAttributes);a[pg]=!0,n.set(a)}function Yw(e,r,t){var n=Ev(e,t);n.set(Pa(n.get()||{},r))}});var gt=pe(Ul=>{"use strict";var nu=ir(),jG=Cn(),qo="templateitemname",yg={name:{valType:"string",editType:"none"}};yg[qo]={valType:"string",editType:"calc"};Ul.templatedArray=function(e,r){return r._isLinkedToArray=e,r.name=yg.name,r[qo]=yg[qo],r};Ul.traceTemplater=function(e){var r={},t,n;for(t in e)n=e[t],Array.isArray(n)&&n.length&&(r[t]=0);function a(o){t=nu.coerce(o,{},jG,"type");var i={type:t,_template:null};if(t in r){n=e[t];var l=r[t]%n.length;r[t]++,i._template=n[l]}return i}return{newTrace:a}};Ul.newContainer=function(e,r,t){var n=e._template,a=n&&(n[r]||t&&n[t]);nu.isPlainObject(a)||(a=null);var o=e[r]={_template:a};return o};Ul.arrayTemplater=function(e,r,t){var n=e._template,a=n&&n[Xw(r)],o=n&&n[r];(!Array.isArray(o)||!o.length)&&(o=[]);var i={};function l(s){var f={name:s.name,_input:s},v=f[qo]=s[qo];if(!Ww(v))return f._template=a,f;for(var g=0;g<o.length;g++){var b=o[g];if(b.name===v)return i[v]=1,f._template=b,f}return f[t]=s[t]||!1,f._template=!1,f}function u(){for(var s=[],f=0;f<o.length;f++){var v=o[f],g=v.name;if(Ww(g)&&!i[g]){var b={_template:v,name:g,_input:{_templateitemname:g}};b[qo]=v[qo],s.push(b),i[g]=1}}return s}return{newItem:l,defaultItems:u}};function Ww(e){return e&&typeof e=="string"}function Xw(e){var r=e.length-1;return e.charAt(r)!=="s"&&nu.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}Ul.arrayDefaultKey=Xw;Ul.arrayEditor=function(e,r,t){var n=(nu.nestedProperty(e,r).get()||[]).length,a=t._index,o=a>=n&&(t._input||{})._templateitemname;o&&(a=n);var i=r+"["+a+"]",l;function u(){l={},o&&(l[i]={},l[i][qo]=o)}u();function s(b,x){l[b]=x}function f(b,x){o?nu.nestedProperty(l[i],b).set(x):l[i+"."+b]=x}function v(){var b=l;return u(),b}function g(b,x){b&&f(b,x);var T=v();for(var A in T)nu.nestedProperty(e,A).set(T[A])}return{modifyBase:s,modifyItem:f,getUpdateObj:v,applyUpdate:g}}});var Tn=pe(($ce,Zw)=>{"use strict";var zf=Gs().counter;Zw.exports={idRegex:{x:zf("x","( domain)?"),y:zf("y","( domain)?")},attrRegex:zf("[xy]axis"),xAxisMatch:zf("xaxis"),yAxisMatch:zf("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}});var un=pe(ua=>{"use strict";var eY=Cr(),mg=Tn();ua.id2name=function(r){if(!(typeof r!="string"||!r.match(mg.AX_ID_PATTERN))){var t=r.split(" ")[0].substr(1);return t==="1"&&(t=""),r.charAt(0)+"axis"+t}};ua.name2id=function(r){if(r.match(mg.AX_NAME_PATTERN)){var t=r.substr(5);return t==="1"&&(t=""),r.charAt(0)+t}};ua.cleanId=function(r,t,n){var a=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(mg.AX_ID_PATTERN))&&!(t&&r.charAt(0)!==t)&&!(a&&!n)){var o=r.split(" ")[0].substr(1).replace(/^0+/,"");return o==="1"&&(o=""),r.charAt(0)+o+(a&&n?" domain":"")}};ua.list=function(e,r,t){var n=e._fullLayout;if(!n)return[];var a=ua.listIds(e,r),o=new Array(a.length),i;for(i=0;i<a.length;i++){var l=a[i];o[i]=n[l.charAt(0)+"axis"+l.substr(1)]}if(!t){var u=n._subplots.gl3d||[];for(i=0;i<u.length;i++){var s=n[u[i]];r?o.push(s[r+"axis"]):o.push(s.xaxis,s.yaxis,s.zaxis)}}return o};ua.listIds=function(e,r){var t=e._fullLayout;if(!t)return[];var n=t._subplots;return r?n[r+"axis"]:n.xaxis.concat(n.yaxis)};ua.getFromId=function(e,r,t){var n=e._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),t==="x"?r=r.replace(/y[0-9]*/,""):t==="y"&&(r=r.replace(/x[0-9]*/,"")),n[ua.id2name(r)]};ua.getFromTrace=function(e,r,t){var n=e._fullLayout,a=null;if(eY.traceIs(r,"gl3d")){var o=r.scene;o.substr(0,5)==="scene"&&(a=n[o][t+"axis"])}else a=ua.getFromId(e,r[t+"axis"]||t);return a};ua.idSort=function(e,r){var t=e.charAt(0),n=r.charAt(0);return t!==n?t>n?1:-1:+(e.substr(1)||1)-+(r.substr(1)||1)};ua.ref2id=function(e){return/^[xyz]/.test(e)?e.split(" ")[0]:!1};function Jw(e,r){if(r&&r.length){for(var t=0;t<r.length;t++)if(r[t][e])return!0}return!1}ua.isLinked=function(e,r){return Jw(r,e._axisMatchGroups)||Jw(r,e._axisConstraintGroups)}});var Bo=pe((eve,Kw)=>{"use strict";function rY(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()}function tY(e){var r=e._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),e._fullLayout._outlining=!1}Kw.exports={clearOutlineControllers:rY,clearOutline:tY}});var Rv=pe((rve,Qw)=>{"use strict";Qw.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}});var qf=pe(Dv=>{"use strict";var Of=Cr(),nY=Tn().SUBPLOT_PATTERN;Dv.getSubplotCalcData=function(e,r,t){var n=Of.subplotsRegistry[r];if(!n)return[];for(var a=n.attr,o=[],i=0;i<e.length;i++){var l=e[i],u=l[0].trace;u[a]===t&&o.push(l)}return o};Dv.getModuleCalcData=function(e,r,t){var n=[],a=[],o;if(typeof r=="string"?o=Of.getModule(r).plot:typeof r=="function"?o=r:o=r.plot,!o)return[n,e];for(var i=t,l=0;l<e.length;l++){var u=e[l],s=u[0].trace,f=s.zorder!==void 0;s.visible!==!0||s._length===0||(s._module&&s._module.plot===o&&(!f||s.zorder===i)?n.push(u):a.push(u))}return[n,a]};Dv.getSubplotData=function(r,t,n){if(!Of.subplotsRegistry[t])return[];var a=Of.subplotsRegistry[t].attr,o=[],i,l,u;if(t==="gl2d"){var s=n.match(nY);l="x"+s[1],u="y"+s[2]}for(var f=0;f<r.length;f++)i=r[f],t==="gl2d"&&Of.traceIs(i,"gl2d")?i[a[0]]===l&&i[a[1]]===u&&o.push(i):i[a]===n&&o.push(i);return o}});var r7=pe(Hl=>{"use strict";var aY=Cr(),au=ir();Hl.manageCommandObserver=function(e,r,t,n){var a={},o=!0;r&&r._commandObserver&&(a=r._commandObserver),a.cache||(a.cache={}),a.lookupTable={};var i=Hl.hasSimpleAPICommandBindings(e,t,a.lookupTable);if(r&&r._commandObserver){if(i)return a;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,a}if(i){$w(e,i,a.cache),a.check=function(){if(o){var f=$w(e,i,a.cache);return f.changed&&n&&a.lookupTable[f.value]!==void 0&&(a.disable(),Promise.resolve(n({value:f.value,type:i.type,prop:i.prop,traces:i.traces,index:a.lookupTable[f.value]})).then(a.enable,a.enable)),f.changed}};for(var l=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],u=0;u<l.length;u++)e._internalOn(l[u],a.check);a.remove=function(){for(var s=0;s<l.length;s++)e._removeInternalListener(l[s],a.check)}}else au.log("Unable to automatically bind plot updates to API command"),a.lookupTable={},a.remove=function(){};return a.disable=function(){o=!1},a.enable=function(){o=!0},r&&(r._commandObserver=a),a};Hl.hasSimpleAPICommandBindings=function(e,r,t){var n,a=r.length,o;for(n=0;n<a;n++){var i,l=r[n],u=l.method,s=l.args;if(Array.isArray(s)||(s=[]),!u)return!1;var f=Hl.computeAPICommandBindings(e,u,s);if(f.length!==1)return!1;if(!o)o=f[0],Array.isArray(o.traces)&&o.traces.sort();else{if(i=f[0],i.type!==o.type||i.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(i.traces)){i.traces.sort();for(var v=0;v<o.traces.length;v++)if(o.traces[v]!==i.traces[v])return!1}else return!1;else if(i.prop!==o.prop)return!1}i=f[0];var g=i.value;if(Array.isArray(g))if(g.length===1)g=g[0];else return!1;t&&(t[g]=n)}return o};function $w(e,r,t){var n,a,o,i=!1;if(r.type==="data")n=e._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=e._fullLayout;else return!1;return a=au.nestedProperty(n,r.prop).get(),o=t[r.type]=t[r.type]||{},o.hasOwnProperty(r.prop)&&o[r.prop]!==a&&(i=!0),o[r.prop]=a,{changed:i,value:a}}Hl.executeAPICommand=function(e,r,t){if(r==="skip")return Promise.resolve();var n=aY.apiMethodRegistry[r],a=[e];Array.isArray(t)||(t=[]);for(var o=0;o<t.length;o++)a.push(t[o]);return n.apply(null,a).catch(function(i){return au.warn("API call to Plotly."+r+" rejected.",i),Promise.reject(i)})};Hl.computeAPICommandBindings=function(e,r,t){var n;switch(Array.isArray(t)||(t=[]),r){case"restyle":n=e7(e,t);break;case"relayout":n=jw(e,t);break;case"update":n=e7(e,[t[0],t[2]]).concat(jw(e,[t[1]]));break;case"animate":n=iY(e,t);break;default:n=[]}return n};function iY(e,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function jw(e,r){var t=[],n=r[0],a={};if(typeof n=="string")a[n]=r[1];else if(au.isPlainObject(n))a=n;else return t;return xg(a,function(o,i,l){t.push({type:"layout",prop:o,value:l})},"",0),t}function e7(e,r){var t,n,a,o,i=[];if(n=r[0],a=r[1],t=r[2],o={},typeof n=="string")o[n]=a;else if(au.isPlainObject(n))o=n,t===void 0&&(t=a);else return i;return t===void 0&&(t=null),xg(o,function(l,u,s){var f,v;if(Array.isArray(s)){v=s.slice();var g=Math.min(v.length,e.data.length);t&&(g=Math.min(g,t.length)),f=[];for(var b=0;b<g;b++)f[b]=t?t[b]:b}else v=s,f=t?t.slice():null;if(f===null)Array.isArray(v)&&(v=v[0]);else if(Array.isArray(f)){if(!Array.isArray(v)){var x=v;v=[];for(var T=0;T<f.length;T++)v[T]=x}v.length=Math.min(f.length,v.length)}i.push({type:"data",prop:l,traces:f,value:v})},"",0),i}function xg(e,r,t,n){Object.keys(e).forEach(function(a){var o=e[a];if(a[0]!=="_"){var i=t+(n>0?".":"")+a;au.isPlainObject(o)?xg(o,r,i,n+1):r(i,a,o)}})}});var nn=pe((ave,p7)=>{"use strict";var l7=it(),oY=Us().timeFormatLocale,lY=Sp().formatLocale,Bf=rt(),sY=Cp(),ot=Cr(),s7=Oo(),uY=gt(),yr=ir(),u7=Kr(),t7=Xt().BADNUM,fa=un(),fY=Bo().clearOutline,cY=Rv(),_g=kf(),vY=hg(),hY=qf().getModuleCalcData,bg=yr.relinkPrivateKeys,Vl=yr._,fr=p7.exports={};yr.extendFlat(fr,ot);fr.attributes=Cn();fr.attributes.type.values=fr.allTypes;fr.fontAttrs=Sn();fr.layoutAttributes=Xs();var Fv=fr.transformsRegistry,Iv=r7();fr.executeAPICommand=Iv.executeAPICommand;fr.computeAPICommandBindings=Iv.computeAPICommandBindings;fr.manageCommandObserver=Iv.manageCommandObserver;fr.hasSimpleAPICommandBindings=Iv.hasSimpleAPICommandBindings;fr.redrawText=function(e){return e=yr.getGraphDiv(e),new Promise(function(r){setTimeout(function(){e._fullLayout&&(ot.getComponentMethod("annotations","draw")(e),ot.getComponentMethod("legend","draw")(e),ot.getComponentMethod("colorbar","draw")(e),r(fr.previousPromises(e)))},300)})};fr.resize=function(e){e=yr.getGraphDiv(e);var r,t=new Promise(function(n,a){(!e||yr.isHidden(e))&&a(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(r=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||yr.isHidden(e)){n(e);return}delete e.layout.width,delete e.layout.height;var o=e.changed;e.autoplay=!0,ot.call("relayout",e,{autosize:!0}).then(function(){e.changed=o,e._resolveResize===n&&(delete e._resolveResize,n(e))})},100)});return r&&r(t),t};fr.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})};fr.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var r=e._fullLayout,t=yr.ensureSingle(r._paper,"text","js-plot-link-container",function(u){u.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u7.defaultLine,"pointer-events":"all"}).each(function(){var s=l7.select(this);s.append("tspan").classed("js-link-to-tool",!0),s.append("tspan").classed("js-link-spacer",!0),s.append("tspan").classed("js-sourcelinks",!0)})}),n=t.node(),a={y:r._paper.attr("height")-9};document.body.contains(n)&&n.getComputedTextLength()>=r.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=r._paper.attr("width")-7),t.attr(a);var o=t.select(".js-link-to-tool"),i=t.select(".js-link-spacer"),l=t.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&dY(e,o),i.text(o.text()&&l.text()?" - ":"")}};function dY(e,r){r.text("");var t=r.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" \xBB");if(e._context.sendData)t.on("click",function(){fr.sendDataToCloud(e)});else{var n=window.location.pathname.split("/"),a=window.location.search;t.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+a})}}fr.sendDataToCloud=function(e){var r=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(r){e.emit("plotly_beforeexport");var t=l7.select(e).append("div").attr("id","hiddenform").style("display","none"),n=t.append("form").attr({action:r+"/external",method:"post",target:"_blank"}),a=n.append("input").attr({type:"text",name:"data"});return a.node().value=fr.graphJson(e,!1,"keepdata"),n.node().submit(),t.remove(),e.emit("plotly_afterexport"),!1}};var pY=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],gY=["year","month","dayMonth","dayMonthYear"];fr.supplyDefaults=function(e,r){var t=r&&r.skipUpdateCalc,n=e._fullLayout||{};if(n._skipDefaults){delete n._skipDefaults;return}var a=e._fullLayout={},o=e.layout||{},i=e._fullData||[],l=e._fullData=[],u=e.data||[],s=e.calcdata||[],f=e._context||{},v;e._transitionData||fr.createTransitionData(e),a._dfltTitle={plot:Vl(e,"Click to enter Plot title"),subtitle:Vl(e,"Click to enter Plot subtitle"),x:Vl(e,"Click to enter X axis title"),y:Vl(e,"Click to enter Y axis title"),colorbar:Vl(e,"Click to enter Colorscale title"),annotation:Vl(e,"new text")},a._traceWord=Vl(e,"trace");var g=n7(e,pY);if(a._mapboxAccessToken=f.mapboxAccessToken,n._initialAutoSizeIsDone){var b=n.width,x=n.height;fr.supplyLayoutGlobalDefaults(o,a,g),o.width||(a.width=b),o.height||(a.height=x),fr.sanitizeMargins(a)}else{fr.supplyLayoutGlobalDefaults(o,a,g);var T=!o.width||!o.height,A=a.autosize,m=f.autosizable,w=T&&(A||m);w?fr.plotAutoSize(e,o,a):T&&fr.sanitizeMargins(a),!A&&T&&(o.width=a.width,o.height=a.height)}a._d3locale=xY(g,a.separators),a._extraFormat=n7(e,gY),a._initialAutoSizeIsDone=!0,a._dataLength=u.length,a._modules=[],a._visibleModules=[],a._basePlotModules=[];var k=a._subplots=mY(),y=a._splomAxes={x:{},y:{}},M=a._splomSubplots={};a._splomGridDflt={},a._scatterStackOpts={},a._firstScatter={},a._alignmentOpts={},a._colorAxes={},a._requestRangeslider={},a._traceUids=yY(i,u),a._globalTransforms=(e._context||{}).globalTransforms,fr.supplyDataDefaults(u,l,o,a);var d=Object.keys(y.x),_=Object.keys(y.y);if(d.length>1&&_.length>1){for(ot.getComponentMethod("grid","sizeDefaults")(o,a),v=0;v<d.length;v++)yr.pushUnique(k.xaxis,d[v]);for(v=0;v<_.length;v++)yr.pushUnique(k.yaxis,_[v]);for(var p in M)yr.pushUnique(k.cartesian,p)}if(a._has=fr._hasPlotType.bind(a),i.length===l.length)for(v=0;v<l.length;v++)bg(l[v],i[v]);fr.supplyLayoutModuleDefaults(o,a,l,e._transitionData);var c=a._visibleModules,S=[];for(v=0;v<c.length;v++){var h=c[v].crossTraceDefaults;h&&yr.pushUnique(S,h)}for(v=0;v<S.length;v++)S[v](l,a);a._hasOnlyLargeSploms=a._basePlotModules.length===1&&a._basePlotModules[0].name==="splom"&&d.length>15&&_.length>15&&a.shapes.length===0&&a.images.length===0,fr.linkSubplots(l,a,i,n),fr.cleanPlot(l,a,i,n);var R=!!(n._has&&n._has("gl2d")),E=!!(a._has&&a._has("gl2d")),D=!!(n._has&&n._has("cartesian")),N=!!(a._has&&a._has("cartesian")),I=D||R,F=N||E;I&&!F?n._bgLayer.remove():F&&!I&&(a._shouldCreateBgLayer=!0),n._zoomlayer&&!e._dragging&&fY({_fullLayout:n}),bY(l,a),bg(a,n),ot.getComponentMethod("colorscale","crossTraceDefaults")(l,a),a._preGUI||(a._preGUI={}),a._tracePreGUI||(a._tracePreGUI={});var L=a._tracePreGUI,P={},q;for(q in L)P[q]="old";for(v=0;v<l.length;v++)q=l[v]._fullInput.uid,P[q]||(L[q]={}),P[q]="new";for(q in P)P[q]==="old"&&delete L[q];c7(a),ot.getComponentMethod("rangeslider","makeData")(a),!t&&s.length===l.length&&fr.supplyDefaultsUpdateCalc(s,l)};fr.supplyDefaultsUpdateCalc=function(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=(e[t]||[])[0];if(a&&a.trace){var o=a.trace;if(o._hasCalcTransform){var i=o._arrayAttrs,l,u,s;for(l=0;l<i.length;l++)u=i[l],s=yr.nestedProperty(o,u).get().slice(),yr.nestedProperty(n,u).set(s)}a.trace=n}}};function yY(e,r){var t=r.length,n=[],a,o;for(a=0;a<e.length;a++){var i=e[a]._fullInput;i!==o&&n.push(i),o=i}var l=n.length,u=new Array(t),s={};function f(b,x){u[x]=b,s[b]=1}function v(b,x){if(b&&typeof b=="string"&&!s[b])return f(b,x),!0}for(a=0;a<t;a++){var g=r[a].uid;typeof g=="number"&&(g=String(g)),!v(g,a)&&(a<l&&v(n[a].uid,a)||f(yr.randstr(s),a))}return u}function mY(){var e=ot.collectableSubplotTypes,r={},t,n;if(!e){e=[];var a=ot.subplotsRegistry;for(var o in a){var i=a[o],l=i.attr;if(l&&(e.push(o),Array.isArray(l)))for(n=0;n<l.length;n++)yr.pushUnique(e,l[n])}}for(t=0;t<e.length;t++)r[e[t]]=[];return r}function n7(e,r){var t=e._context.locale;t||(t="en-US");var n=!1,a={};function o(v){for(var g=!0,b=0;b<r.length;b++){var x=r[b];a[x]||(v[x]?a[x]=v[x]:g=!1)}g&&(n=!0)}for(var i=0;i<2;i++){for(var l=e._context.locales,u=0;u<2;u++){var s=(l[t]||{}).format;if(s&&(o(s),n))break;l=ot.localeRegistry}var f=t.split("-")[0];if(n||f===t)break;t=f}return n||o(ot.localeRegistry.en.format),a}function xY(e,r){return e.decimal=r.charAt(0),e.thousands=r.charAt(1),{numberFormat:function(t){try{t=lY(e).format(yr.adjustFormat(t))}catch(n){return yr.warnBadFormat(t),yr.noFormat}return t},timeFormat:oY(e).utcFormat}}function bY(e,r){var t,n=[];r.meta&&(t=r._meta={meta:r.meta,layout:{meta:r.meta}});for(var a=0;a<e.length;a++){var o=e[a];o.meta?n[o.index]=o._meta={meta:o.meta}:r.meta&&(o._meta={meta:r.meta}),r.meta&&(o._meta.layout={meta:r.meta})}n.length&&(t||(t=r._meta={}),t.data=n)}fr.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])};fr._hasPlotType=function(e){var r,t=this._basePlotModules||[];for(r=0;r<t.length;r++)if(t[r].name===e)return!0;var n=this._modules||[];for(r=0;r<n.length;r++){var a=n[r].name;if(a===e)return!0;var o=ot.modules[a];if(o&&o.categories[e])return!0}return!1};fr.cleanPlot=function(e,r,t,n){var a,o,i=n._basePlotModules||[];for(a=0;a<i.length;a++){var l=i[a];l.clean&&l.clean(e,r,t,n)}var u=n._has&&n._has("gl"),s=r._has&&r._has("gl");u&&!s&&n._glcontainer!==void 0&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var f=!!n._infolayer;e:for(a=0;a<t.length;a++){var v=t[a],g=v.uid;for(o=0;o<e.length;o++){var b=e[o];if(g===b.uid)continue e}f&&n._infolayer.select(".cb"+g).remove()}};fr.linkSubplots=function(e,r,t,n){var a,o,i=n._plots||{},l=r._plots={},u=r._subplots,s={_fullData:e,_fullLayout:r},f=u.cartesian.concat(u.gl2d||[]);for(a=0;a<f.length;a++){var v=f[a],g=i[v],b=fa.getFromId(s,v,"x"),x=fa.getFromId(s,v,"y"),T;for(g?T=l[v]=g:(T=l[v]={},T.id=v),b._counterAxes.push(x._id),x._counterAxes.push(b._id),b._subplotsWith.push(v),x._subplotsWith.push(v),T.xaxis=b,T.yaxis=x,T._hasClipOnAxisFalse=!1,o=0;o<e.length;o++){var A=e[o];if(A.xaxis===T.xaxis._id&&A.yaxis===T.yaxis._id&&A.cliponaxis===!1){T._hasClipOnAxisFalse=!0;break}}}var m=fa.list(s,null,!0),w;for(a=0;a<m.length;a++){w=m[a];var k=null;w.overlaying&&(k=fa.getFromId(s,w.overlaying),k&&k.overlaying&&(w.overlaying=!1,k=null)),w._mainAxis=k||w,k&&(w.domain=k.domain.slice()),w._anchorAxis=w.anchor==="free"?null:fa.getFromId(s,w.anchor)}for(a=0;a<m.length;a++)if(w=m[a],w._counterAxes.sort(fa.idSort),w._subplotsWith.sort(yr.subplotSort),w._mainSubplot=_Y(w,r),w._counterAxes.length&&(w.spikemode&&w.spikemode.indexOf("across")!==-1||w.automargin&&w.mirror&&w.anchor!=="free"||ot.getComponentMethod("rangeslider","isVisible")(w))){var y=1,M=0;for(o=0;o<w._counterAxes.length;o++){var d=fa.getFromId(s,w._counterAxes[o]);y=Math.min(y,d.domain[0]),M=Math.max(M,d.domain[1])}y<M&&(w._counterDomainMin=y,w._counterDomainMax=M)}};function _Y(e,r){var t={_fullLayout:r},n=e._id.charAt(0)==="x",a=e._mainAxis._anchorAxis,o="",i="",l="";if(a&&(l=a._mainAxis._id,o=n?e._id+l:l+e._id),!o||!r._plots[o]){o="";for(var u=e._counterAxes,s=0;s<u.length;s++){var f=u[s],v=n?e._id+f:f+e._id;i||(i=v);var g=fa.getFromId(t,f);if(l&&g.overlaying===l){o=v;break}}}return o||i}fr.clearExpandedTraceDefaultColors=function(e){var r,t,n;function a(i,l,u,s){t[s]=l,t.length=s+1,i.valType==="color"&&i.dflt===void 0&&r.push(t.join("."))}for(t=[],r=e._module._colorAttrs,r||(e._module._colorAttrs=r=[],s7.crawl(e._module.attributes,a)),n=0;n<r.length;n++){var o=yr.nestedProperty(e,"_input."+r[n]);o.get()||yr.nestedProperty(e,r[n]).set(null)}};fr.supplyDataDefaults=function(e,r,t,n){var a=n._modules,o=n._visibleModules,i=n._basePlotModules,l=0,u=0,s,f,v;n._transformModules=[];function g(_){r.push(_);var p=_._module;p&&(yr.pushUnique(a,p),_.visible===!0&&yr.pushUnique(o,p),yr.pushUnique(i,_._module.basePlotModule),l++,_._input.visible!==!1&&u++)}var b={},x=[],T=(t.template||{}).data||{},A=uY.traceTemplater(T);for(s=0;s<e.length;s++){if(v=e[s],f=A.newTrace(v),f.uid=n._traceUids[s],fr.supplyTraceDefaults(v,f,u,n,s),f.index=s,f._input=v,f._expandedIndex=l,f.transforms&&f.transforms.length)for(var m=v.visible!==!1&&f.visible===!1,w=wY(f,r,t,n),k=0;k<w.length;k++){var y=w[k],M={_template:f._template,type:f.type,uid:f.uid+k};m&&y.visible===!1&&delete y.visible,fr.supplyTraceDefaults(y,M,l,n,s),bg(M,y),M.index=s,M._input=v,M._fullInput=f,M._expandedIndex=l,M._expandedInput=y,g(M)}else f._fullInput=f,f._expandedInput=f,g(f);ot.traceIs(f,"carpetAxis")&&(b[f.carpet]=f),ot.traceIs(f,"carpetDependent")&&x.push(s)}for(s=0;s<x.length;s++)if(f=r[x[s]],!!f.visible){var d=b[f.carpet];if(f._carpet=d,!d||!d.visible){f.visible=!1;continue}f.xaxis=d.xaxis,f.yaxis=d.yaxis}};fr.supplyAnimationDefaults=function(e){e=e||{};var r,t={};function n(a,o){return yr.coerce(e||{},t,_g,a,o)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(e.frame))for(t.frame=[],r=0;r<e.frame.length;r++)t.frame[r]=fr.supplyAnimationFrameDefaults(e.frame[r]||{});else t.frame=fr.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(t.transition=[],r=0;r<e.transition.length;r++)t.transition[r]=fr.supplyAnimationTransitionDefaults(e.transition[r]||{});else t.transition=fr.supplyAnimationTransitionDefaults(e.transition||{});return t};fr.supplyAnimationFrameDefaults=function(e){var r={};function t(n,a){return yr.coerce(e||{},r,_g.frame,n,a)}return t("duration"),t("redraw"),r};fr.supplyAnimationTransitionDefaults=function(e){var r={};function t(n,a){return yr.coerce(e||{},r,_g.transition,n,a)}return t("duration"),t("easing"),r};fr.supplyFrameDefaults=function(e){var r={};function t(n,a){return yr.coerce(e,r,vY,n,a)}return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),r};fr.supplyTraceDefaults=function(e,r,t,n,a){var o=n.colorway||u7.defaults,i=o[t%o.length],l;function u(k,y){return yr.coerce(e,r,fr.attributes,k,y)}var s=u("visible");u("type"),u("name",n._traceWord+" "+a),u("uirevision",n.uirevision);var f=fr.getModule(r);if(r._module=f,f){var v=f.basePlotModule,g=v.attr,b=v.attributes;if(g&&b){var x=n._subplots,T="";if(s||v.name!=="gl2d"){if(Array.isArray(g))for(l=0;l<g.length;l++){var A=g[l],m=yr.coerce(e,r,b,A);x[A]&&yr.pushUnique(x[A],m),T+=m}else T=yr.coerce(e,r,b,g);x[v.name]&&yr.pushUnique(x[v.name],T)}}}if(s){if(u("customdata"),u("ids"),u("meta"),ot.traceIs(r,"showLegend")?(yr.coerce(e,r,f.attributes.showlegend?f.attributes:fr.attributes,"showlegend"),u("legend"),u("legendwidth"),u("legendgroup"),u("legendgrouptitle.text"),u("legendrank"),r._dfltShowLegend=!0):r._dfltShowLegend=!1,f&&f.supplyDefaults(e,r,i,n),ot.traceIs(r,"noOpacity")||u("opacity"),ot.traceIs(r,"notLegendIsolatable")&&(r.visible=!!r.visible),ot.traceIs(r,"noHover")||(r.hovertemplate||yr.coerceHoverinfo(e,r,n),r.type!=="parcats"&&ot.getComponentMethod("fx","supplyDefaults")(e,r,i,n)),f&&f.selectPoints){var w=u("selectedpoints");yr.isTypedArray(w)&&(r.selectedpoints=Array.from(w))}fr.supplyTransformDefaults(e,r,n)}return r};function f7(e){var r=e.transforms;if(Array.isArray(r)&&r.length)for(var t=0;t<r.length;t++){var n=r[t],a=n._module||Fv[n.type];if(a&&a.makesData)return!0}return!1}fr.hasMakesDataTransform=f7;fr.supplyTransformDefaults=function(e,r,t){if(r._length||f7(e)){var n=t._globalTransforms||[],a=t._transformModules||[];if(!(!Array.isArray(e.transforms)&&n.length===0))for(var o=e.transforms||[],i=n.concat(o),l=r.transforms=[],u=0;u<i.length;u++){var s=i[u],f=s.type,v=Fv[f],g,b=!(s._module&&s._module===v),x=v&&typeof v.transform=="function";v||yr.warn("Unrecognized transform type "+f+"."),v&&v.supplyDefaults&&(b||x)?(g=v.supplyDefaults(s,r,t,e),g.type=f,g._module=v,yr.pushUnique(a,v)):g=yr.extendFlat({},s),l.push(g)}}};function wY(e,r,t,n){for(var a=e.transforms,o=[e],i=0;i<a.length;i++){var l=a[i],u=Fv[l.type];u&&u.transform&&(o=u.transform(o,{transform:l,fullTrace:e,fullData:r,layout:t,fullLayout:n,transformIndex:i}))}return o}fr.supplyLayoutGlobalDefaults=function(e,r,t){function n(v,g){return yr.coerce(e,r,fr.layoutAttributes,v,g)}var a=e.template;yr.isPlainObject(a)&&(r.template=a,r._template=a.layout,r._dataTemplate=a.data),n("autotypenumbers");var o=yr.coerceFont(n,"font"),i=o.size;yr.coerceFont(n,"title.font",o,{overrideDflt:{size:Math.round(i*1.4)}}),n("title.text",r._dfltTitle.plot),n("title.xref");var l=n("title.yref");n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var u=n("title.automargin");n("title.x"),n("title.xanchor"),n("title.y"),n("title.yanchor"),n("title.subtitle.text",r._dfltTitle.subtitle),yr.coerceFont(n,"title.subtitle.font",o,{overrideDflt:{size:Math.round(r.title.font.size*.7)}}),u&&(l==="paper"&&(r.title.y!==0&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y===0?"top":"bottom")),l==="container"&&(r.title.y==="auto"&&(r.title.y=1),r.title.yanchor==="auto"&&(r.title.yanchor=r.title.y<.5?"bottom":"top")));var s=n("uniformtext.mode");s&&n("uniformtext.minsize"),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("minreducedwidth"),n("minreducedheight"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&fr.sanitizeMargins(r),ot.getComponentMethod("grid","sizeDefaults")(e,r),n("paper_bgcolor"),n("separators",t.decimal+t.thousands),n("hidesources"),n("colorway"),n("datarevision");var f=n("uirevision");n("editrevision",f),n("selectionrevision",f),ot.getComponentMethod("modebar","supplyLayoutDefaults")(e,r),ot.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,r,n),ot.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(e,r,n),n("meta"),yr.isPlainObject(e.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),ot.getComponentMethod("calendars","handleDefaults")(e,r,"calendar"),ot.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,r,n),yr.coerce(e,r,cY,"scattermode")};function Pv(e){return typeof e=="string"&&e.substr(e.length-2)==="px"&&parseFloat(e)}fr.plotAutoSize=function(r,t,n){var a=r._context||{},o=a.frameMargins,i,l,u=yr.isPlotDiv(r);if(u&&r.emit("plotly_autosize"),a.fillFrame)i=window.innerWidth,l=window.innerHeight,document.body.style.overflow="hidden";else{var s=u?window.getComputedStyle(r):{};if(i=Pv(s.width)||Pv(s.maxWidth)||n.width,l=Pv(s.height)||Pv(s.maxHeight)||n.height,Bf(o)&&o>0){var f=1-2*o;i=Math.round(f*i),l=Math.round(f*l)}}var v=fr.layoutAttributes.width.min,g=fr.layoutAttributes.height.min;i<v&&(i=v),l<g&&(l=g);var b=!t.width&&Math.abs(n.width-i)>1,x=!t.height&&Math.abs(n.height-l)>1;(x||b)&&(b&&(n.width=i),x&&(n.height=l)),r._initialAutoSize||(r._initialAutoSize={width:i,height:l}),fr.sanitizeMargins(n)};fr.supplyLayoutModuleDefaults=function(e,r,t,n){var a=ot.componentsRegistry,o=r._basePlotModules,i,l,u,s=ot.subplotsRegistry.cartesian;for(i in a)u=a[i],u.includeBasePlot&&u.includeBasePlot(e,r);o.length||o.push(s),r._has("cartesian")&&(ot.getComponentMethod("grid","contentDefaults")(e,r),s.finalizeSubplots(e,r));for(var f in r._subplots)r._subplots[f].sort(yr.subplotSort);for(l=0;l<o.length;l++)u=o[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t);var v=r._modules;for(l=0;l<v.length;l++)u=v[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t);var g=r._transformModules;for(l=0;l<g.length;l++)u=g[l],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t,n);for(i in a)u=a[i],u.supplyLayoutDefaults&&u.supplyLayoutDefaults(e,r,t)};fr.purge=function(e){var r=e._fullLayout||{};r._glcontainer!==void 0&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.remove(),r._glcanvas=null),r._modeBar&&r._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),yr.clearThrottle(),yr.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()};fr.style=function(e){var r=e._fullLayout._visibleModules,t=[],n;for(n=0;n<r.length;n++){var a=r[n];a.style&&yr.pushUnique(t,a.style)}for(n=0;n<t.length;n++)t[n](e)};fr.sanitizeMargins=function(e){if(!(!e||!e.margin)){var r=e.width,t=e.height,n=e.margin,a=r-(n.l+n.r),o=t-(n.t+n.b),i;a<0&&(i=(r-1)/(n.l+n.r),n.l=Math.floor(i*n.l),n.r=Math.floor(i*n.r)),o<0&&(i=(t-1)/(n.t+n.b),n.t=Math.floor(i*n.t),n.b=Math.floor(i*n.b))}};fr.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}};fr.allowAutoMargin=function(e,r){e._fullLayout._pushmarginIds[r]=1};function c7(e){var r=e.margin;if(!e._size){var t=e._size={l:Math.round(r.l),r:Math.round(r.r),t:Math.round(r.t),b:Math.round(r.b),p:Math.round(r.pad)};t.w=Math.round(e.width)-t.l-t.r,t.h=Math.round(e.height)-t.t-t.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={}),e._reservedMargin||(e._reservedMargin={})}var v7=2,h7=2;fr.autoMargin=function(e,r,t){var n=e._fullLayout,a=n.width,o=n.height,i=n.margin,l=n.minreducedwidth,u=n.minreducedheight,s=yr.constrain(a-i.l-i.r,v7,l),f=yr.constrain(o-i.t-i.b,h7,u),v=Math.max(0,a-s),g=Math.max(0,o-f),b=n._pushmargin,x=n._pushmarginIds;if(i.autoexpand!==!1){if(!t)delete b[r],delete x[r];else{var T=t.pad;if(T===void 0&&(T=Math.min(12,i.l,i.r,i.t,i.b)),v){var A=(t.l+t.r)/v;A>1&&(t.l/=A,t.r/=A)}if(g){var m=(t.t+t.b)/g;m>1&&(t.t/=m,t.b/=m)}var w=t.xl!==void 0?t.xl:t.x,k=t.xr!==void 0?t.xr:t.x,y=t.yt!==void 0?t.yt:t.y,M=t.yb!==void 0?t.yb:t.y;b[r]={l:{val:w,size:t.l+T},r:{val:k,size:t.r+T},b:{val:M,size:t.b+T},t:{val:y,size:t.t+T}},x[r]=1}if(!n._replotting)return fr.doAutoMargin(e)}};function TY(e){if("_redrawFromAutoMarginCount"in e._fullLayout)return!1;var r=fa.list(e,"",!0);for(var t in r)if(r[t].autoshift||r[t].shift)return!0;return!1}fr.doAutoMargin=function(e){var r=e._fullLayout,t=r.width,n=r.height;r._size||(r._size={}),c7(r);var a=r._size,o=r.margin,i={t:0,b:0,l:0,r:0},l=yr.extendFlat({},a),u=o.l,s=o.r,f=o.t,v=o.b,g=r._pushmargin,b=r._pushmarginIds,x=r.minreducedwidth,T=r.minreducedheight;if(o.autoexpand!==!1){for(var A in g)b[A]||delete g[A];var m=e._fullLayout._reservedMargin;for(var w in m)for(var k in m[w]){var y=m[w][k];i[k]=Math.max(i[k],y)}g.base={l:{val:0,size:u},r:{val:1,size:s},t:{val:1,size:f},b:{val:0,size:v}};for(var M in i){var d=0;for(var _ in g)_!=="base"&&Bf(g[_][M].size)&&(d=g[_][M].size>d?g[_][M].size:d);var p=Math.max(0,o[M]-d);i[M]=Math.max(0,i[M]-p)}for(var c in g){var S=g[c].l||{},h=g[c].b||{},R=S.val,E=S.size,D=h.val,N=h.size,I=t-i.r-i.l,F=n-i.t-i.b;for(var L in g){if(Bf(E)&&g[L].r){var P=g[L].r.val,q=g[L].r.size;if(P>R){var U=(E*P+(q-I)*R)/(P-R),W=(q*(1-R)+(E-I)*(1-P))/(P-R);U+W>u+s&&(u=U,s=W)}}if(Bf(N)&&g[L].t){var j=g[L].t.val,$=g[L].t.size;if(j>D){var G=(N*j+($-F)*D)/(j-D),O=($*(1-D)+(N-F)*(1-j))/(j-D);G+O>v+f&&(v=G,f=O)}}}}}var Z=yr.constrain(t-o.l-o.r,v7,x),ne=yr.constrain(n-o.t-o.b,h7,T),Q=Math.max(0,t-Z),ie=Math.max(0,n-ne);if(Q){var ee=(u+s)/Q;ee>1&&(u/=ee,s/=ee)}if(ie){var V=(v+f)/ie;V>1&&(v/=V,f/=V)}if(a.l=Math.round(u)+i.l,a.r=Math.round(s)+i.r,a.t=Math.round(f)+i.t,a.b=Math.round(v)+i.b,a.p=Math.round(o.pad),a.w=Math.round(t)-a.l-a.r,a.h=Math.round(n)-a.t-a.b,!r._replotting&&(fr.didMarginChange(l,a)||TY(e))){"_redrawFromAutoMarginCount"in r?r._redrawFromAutoMarginCount++:r._redrawFromAutoMarginCount=1;var re=3*(1+Object.keys(b).length);if(r._redrawFromAutoMarginCount<re)return ot.call("_doPlot",e);r._size=l,yr.warn("Too many auto-margin redraws.")}MY(e)};function MY(e){var r=fa.list(e,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(t){for(var n=0;n<r.length;n++){var a=r[n][t];a&&a()}})}var a7=["l","r","t","b","p","w","h"];fr.didMarginChange=function(e,r){for(var t=0;t<a7.length;t++){var n=a7[t],a=e[n],o=r[n];if(!Bf(a)||Math.abs(o-a)>1)return!0}return!1};fr.graphJson=function(e,r,t,n,a,o){(a&&r&&!e._fullData||a&&!r&&!e._fullLayout)&&fr.supplyDefaults(e);var i=a?e._fullData:e.data,l=a?e._fullLayout:e.layout,u=(e._transitionData||{})._frames;function s(g,b){if(typeof g=="function")return b?"_function_":null;if(yr.isPlainObject(g)){var x={},T;return Object.keys(g).sort().forEach(function(k){if(["_","["].indexOf(k.charAt(0))===-1){if(typeof g[k]=="function"){b&&(x[k]="_function");return}if(t==="keepdata"){if(k.substr(k.length-3)==="src")return}else if(t==="keepstream"){if(T=g[k+"src"],typeof T=="string"&&T.indexOf(":")>0&&!yr.isPlainObject(g.stream))return}else if(t!=="keepall"&&(T=g[k+"src"],typeof T=="string"&&T.indexOf(":")>0))return;x[k]=s(g[k],b)}}),x}var A=Array.isArray(g),m=yr.isTypedArray(g);if((A||m)&&g.dtype&&g.shape){var w=g.bdata;return s({dtype:g.dtype,shape:g.shape,bdata:yr.isArrayBuffer(w)?sY.encode(w):w},b)}return A?g.map(function(k){return s(k,b)}):m?yr.simpleMap(g,yr.identity):yr.isJSDate(g)?yr.ms2DateTimeLocal(+g):g}var f={data:(i||[]).map(function(g){var b=s(g);return r&&delete b.fit,b})};if(!r&&(f.layout=s(l),a)){var v=l._size;f.layout.computed={margin:{b:v.b,l:v.l,r:v.r,t:v.t}}}return u&&(f.frames=s(u)),o&&(f.config=s(e._context,!0)),n==="object"?f:JSON.stringify(f)};fr.modifyFrames=function(e,r){var t,n,a,o=e._transitionData._frames,i=e._transitionData._frameHash;for(t=0;t<r.length;t++)switch(n=r[t],n.type){case"replace":a=n.value;var l=(o[n.index]||{}).name,u=a.name;o[n.index]=i[u]=a,u!==l&&(delete i[l],i[u]=a);break;case"insert":a=n.value,i[a.name]=a,o.splice(n.index,0,a);break;case"delete":a=o[n.index],delete i[a.name],o.splice(n.index,1);break}return Promise.resolve()};fr.computeFrame=function(e,r){var t=e._transitionData._frameHash,n,a,o,i;if(!r)throw new Error("computeFrame must be given a string frame name");var l=t[r.toString()];if(!l)return!1;for(var u=[l],s=[l.name];l.baseframe&&(l=t[l.baseframe.toString()])&&s.indexOf(l.name)===-1;)u.push(l),s.push(l.name);for(var f={};l=u.pop();)if(l.layout&&(f.layout=fr.extendLayout(f.layout,l.layout)),l.data){if(f.data||(f.data=[]),a=l.traces,!a)for(a=[],n=0;n<l.data.length;n++)a[n]=n;for(f.traces||(f.traces=[]),n=0;n<l.data.length;n++)o=a[n],o!=null&&(i=f.traces.indexOf(o),i===-1&&(i=f.data.length,f.traces[i]=o),f.data[i]=fr.extendTrace(f.data[i],l.data[n]))}return f};fr.recomputeFrameHash=function(e){for(var r=e._transitionData._frameHash={},t=e._transitionData._frames,n=0;n<t.length;n++){var a=t[n];a&&a.name&&(r[a.name]=a)}};fr.extendObjectWithContainers=function(e,r,t){var n,a,o,i,l,u,s,f,v=yr.extendDeepNoArrays({},r||{}),g=yr.expandObjectPaths(v),b={};if(t&&t.length)for(o=0;o<t.length;o++)n=yr.nestedProperty(g,t[o]),a=n.get(),a===void 0?yr.nestedProperty(b,t[o]).set(null):(n.set(null),yr.nestedProperty(b,t[o]).set(a));if(e=yr.extendDeepNoArrays(e||{},g),t&&t.length){for(o=0;o<t.length;o++)if(l=yr.nestedProperty(b,t[o]),s=l.get(),!!s){for(u=yr.nestedProperty(e,t[o]),f=u.get(),Array.isArray(f)||(f=[],u.set(f)),i=0;i<s.length;i++){var x=s[i];x===null?f[i]=null:f[i]=fr.extendObjectWithContainers(f[i],x)}u.set(f)}}return e};fr.dataArrayContainers=["transforms","dimensions"];fr.layoutArrayContainers=ot.layoutArrayContainers;fr.extendTrace=function(e,r){return fr.extendObjectWithContainers(e,r,fr.dataArrayContainers)};fr.extendLayout=function(e,r){return fr.extendObjectWithContainers(e,r,fr.layoutArrayContainers)};fr.transition=function(e,r,t,n,a,o){var i={redraw:a.redraw},l={},u=[];return i.prepareFn=function(){for(var s=Array.isArray(r)?r.length:0,f=n.slice(0,s),v=0;v<f.length;v++){var g=f[v],b=e._fullData[g],x=b._module;if(x){if(x.animatable){var T=x.basePlotModule.name;l[T]||(l[T]=[]),l[T].push(g)}e.data[f[v]]=fr.extendTrace(e.data[f[v]],r[v])}}var A=yr.expandObjectPaths(yr.extendDeepNoArrays({},t)),m=/^[xy]axis[0-9]*$/;for(var w in A)m.test(w)&&delete A[w].range;fr.extendLayout(e.layout,A),delete e.calcdata,fr.supplyDefaults(e),fr.doCalcdata(e);var k=yr.expandObjectPaths(t);if(k){var y=e._fullLayout._plots;for(var M in y){var d=y[M],_=d.xaxis,p=d.yaxis,c=_.range.slice(),S=p.range.slice(),h=null,R=null,E=null,D=null;Array.isArray(k[_._name+".range"])?h=k[_._name+".range"].slice():Array.isArray((k[_._name]||{}).range)&&(h=k[_._name].range.slice()),Array.isArray(k[p._name+".range"])?R=k[p._name+".range"].slice():Array.isArray((k[p._name]||{}).range)&&(R=k[p._name].range.slice()),c&&h&&(_.r2l(c[0])!==_.r2l(h[0])||_.r2l(c[1])!==_.r2l(h[1]))&&(E={xr0:c,xr1:h}),S&&R&&(p.r2l(S[0])!==p.r2l(R[0])||p.r2l(S[1])!==p.r2l(R[1]))&&(D={yr0:S,yr1:R}),(E||D)&&u.push(yr.extendFlat({plotinfo:d},E,D))}}return Promise.resolve()},i.runFn=function(s){var f,v=e._fullLayout._basePlotModules,g=u.length,b;if(t)for(b=0;b<v.length;b++)v[b].transitionAxes&&v[b].transitionAxes(e,u,o,s);g?(f=yr.extendFlat({},o),f.duration=0,delete l.cartesian):f=o;for(var x in l){var T=l[x],A=e._fullData[T[0]]._module;A.basePlotModule.plot(e,T,f,s)}},d7(e,o,i)};fr.transitionFromReact=function(e,r,t,n){var a=e._fullLayout,o=a.transition,i={},l=[];return i.prepareFn=function(){var u=a._plots;i.redraw=!1,r.anim==="some"&&(i.redraw=!0),t.anim==="some"&&(i.redraw=!0);for(var s in u){var f=u[s],v=f.xaxis,g=f.yaxis,b=n[v._name].range.slice(),x=n[g._name].range.slice(),T=v.range.slice(),A=g.range.slice();v.setScale(),g.setScale();var m=null,w=null;(v.r2l(b[0])!==v.r2l(T[0])||v.r2l(b[1])!==v.r2l(T[1]))&&(m={xr0:b,xr1:T}),(g.r2l(x[0])!==g.r2l(A[0])||g.r2l(x[1])!==g.r2l(A[1]))&&(w={yr0:x,yr1:A}),(m||w)&&l.push(yr.extendFlat({plotinfo:f},m,w))}return Promise.resolve()},i.runFn=function(u){for(var s=e._fullData,f=e._fullLayout,v=f._basePlotModules,g,b,x,T=[],A=0;A<s.length;A++)T.push(A);function m(){if(e._fullLayout)for(var k=0;k<v.length;k++)v[k].transitionAxes&&v[k].transitionAxes(e,l,g,u)}function w(){if(e._fullLayout)for(var k=0;k<v.length;k++)v[k].plot(e,x,b,u)}l.length&&r.anim?o.ordering==="traces first"?(g=yr.extendFlat({},o,{duration:0}),x=T,b=o,setTimeout(m,o.duration),w()):(g=o,x=null,b=yr.extendFlat({},o,{duration:0}),setTimeout(w,g.duration),m()):l.length?(g=o,m()):r.anim&&(x=T,b=o,w())},d7(e,o,i)};function d7(e,r,t){var n=!1;function a(v){var g=Promise.resolve();if(!v)return g;for(;v.length;)g=g.then(v.shift());return g}function o(v){if(v)for(;v.length;)v.shift()}function i(){return e.emit("plotly_transitioning",[]),new Promise(function(v){e._transitioning=!0,r.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){n=!0}),t.redraw&&e._transitionData._interruptCallbacks.push(function(){return ot.call("redraw",e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var g=0,b=0;function x(){return g++,function(){b++,!n&&b===g&&l(v)}}t.runFn(x),setTimeout(x())})}function l(v){if(e._transitionData)return o(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(t.redraw)return ot.call("redraw",e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(v)}function u(){if(e._transitionData)return e._transitioning=!1,a(e._transitionData._interruptCallbacks)}var s=[fr.previousPromises,u,t.prepareFn,fr.rehover,fr.reselect,i],f=yr.syncOrAsync(s,e);return(!f||!f.then)&&(f=Promise.resolve()),f.then(function(){return e})}fr.doCalcdata=function(e,r){var t=fa.list(e),n=e._fullData,a=e._fullLayout,o,i,l,u,s=new Array(n.length),f=(e.calcdata||[]).slice();for(e.calcdata=s,a._numBoxes=0,a._numViolins=0,a._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,a._piecolormap={},a._sunburstcolormap={},a._treemapcolormap={},a._iciclecolormap={},a._funnelareacolormap={},l=0;l<n.length;l++)if(Array.isArray(r)&&r.indexOf(l)===-1){s[l]=f[l];continue}for(l=0;l<n.length;l++)o=n[l],o._arrayAttrs=s7.findArrayAttributes(o),o._extremes={};var v=a._subplots.polar||[];for(l=0;l<v.length;l++)t.push(a[v[l]].radialaxis,a[v[l]].angularaxis);for(var g in a._colorAxes){var b=a[g];b.cauto!==!1&&(delete b.cmin,delete b.cmax)}var x=!1;function T(w){if(o=n[w],i=o._module,o.visible===!0&&o.transforms){if(i&&i.calc){var k=i.calc(e,o);k[0]&&k[0].t&&k[0].t._scene&&delete k[0].t._scene.dirty}for(u=0;u<o.transforms.length;u++){var y=o.transforms[u];i=Fv[y.type],i&&i.calcTransform&&(o._hasCalcTransform=!0,x=!0,i.calcTransform(e,o,y))}}}function A(w,k){if(o=n[w],i=o._module,!!i.isContainer===k){var y=[];if(o.visible===!0&&o._length!==0){delete o._indexToPoints;var M=o.transforms||[];for(u=M.length-1;u>=0;u--)if(M[u].enabled){o._indexToPoints=M[u]._indexToPoints;break}i&&i.calc&&(y=i.calc(e,o))}(!Array.isArray(y)||!y[0])&&(y=[{x:t7,y:t7}]),y[0].t||(y[0].t={}),y[0].trace=o,s[w]=y}}for(i7(t,n,a),l=0;l<n.length;l++)A(l,!0);for(l=0;l<n.length;l++)T(l);for(x&&i7(t,n,a),l=0;l<n.length;l++)A(l,!0);for(l=0;l<n.length;l++)A(l,!1);o7(e);var m=kY(t,e);if(m.length){for(a._numBoxes=0,a._numViolins=0,l=0;l<m.length;l++)A(m[l],!0);for(l=0;l<m.length;l++)A(m[l],!1);o7(e)}ot.getComponentMethod("fx","calc")(e),ot.getComponentMethod("errorbars","calc")(e)};var AY=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function kY(e,r){var t=[],n,a,o,i,l;function u(L,P,q){var U=P._id.charAt(0);if(L==="histogram2dcontour"){var W=P._counterAxes[0],j=fa.getFromId(r,W),$=U==="x"||W==="x"&&j.type==="category",G=U==="y"||W==="y"&&j.type==="category";return function(O,Z){return O===0||Z===0||$&&O===q[Z].length-1||G&&Z===q.length-1?-1:(U==="y"?Z:O)-1}}else return function(O,Z){return U==="y"?Z:O}}var s={min:function(L){return yr.aggNums(Math.min,null,L)},max:function(L){return yr.aggNums(Math.max,null,L)},sum:function(L){return yr.aggNums(function(P,q){return P+q},null,L)},total:function(L){return yr.aggNums(function(P,q){return P+q},null,L)},mean:function(L){return yr.mean(L)},"geometric mean":function(L){return yr.geometricMean(L)},median:function(L){return yr.median(L)}};function f(L,P){return L[1]-P[1]}function v(L,P){return P[1]-L[1]}for(n=0;n<e.length;n++){var g=e[n];if(g.type==="category"){var b=g.categoryorder.match(AY);if(b){var x=b[1],T=b[2],A=g._id.charAt(0),m=A==="x",w=[];for(a=0;a<g._categories.length;a++)w.push([g._categories[a],[]]);for(a=0;a<g._traceIndices.length;a++){var k=g._traceIndices[a],y=r._fullData[k];if(y.visible===!0){var M=y.type;ot.traceIs(y,"histogram")&&(delete y._xautoBinFinished,delete y._yautoBinFinished);var d=M==="splom",_=M==="scattergl",p=r.calcdata[k];for(o=0;o<p.length;o++){var c=p[o],S,h;if(d){var R=y._axesDim[g._id];if(!m){var E=y._diag[R][0];E&&(g=r._fullLayout[fa.id2name(E)])}var D=c.trace.dimensions[R].values;for(i=0;i<D.length;i++)for(S=g._categoriesMap[D[i]],l=0;l<c.trace.dimensions.length;l++)if(l!==R){var N=c.trace.dimensions[l];w[S][1].push(N.values[i])}}else if(_){for(i=0;i<c.t.x.length;i++)m?(S=c.t.x[i],h=c.t.y[i]):(S=c.t.y[i],h=c.t.x[i]),w[S][1].push(h);c.t&&c.t._scene&&delete c.t._scene.dirty}else if(c.hasOwnProperty("z")){h=c.z;var I=u(y.type,g,h);for(i=0;i<h.length;i++)for(l=0;l<h[i].length;l++)S=I(l,i),S+1&&w[S][1].push(h[i][l])}else for(S=c.p,S===void 0&&(S=c[A]),h=c.s,h===void 0&&(h=c.v),h===void 0&&(h=m?c.y:c.x),Array.isArray(h)||(h===void 0?h=[]:h=[h]),i=0;i<h.length;i++)w[S][1].push(h[i])}}}g._categoriesValue=w;var F=[];for(a=0;a<w.length;a++)F.push([w[a][0],s[x](w[a][1])]);F.sort(T==="descending"?v:f),g._categoriesAggregatedValue=F,g._initialCategories=F.map(function(L){return L[0]}),t=t.concat(g.sortByInitialCategories())}}}return t}function i7(e,r,t){var n={};function a(u){u.clearCalc(),u.type==="multicategory"&&u.setupMultiCategory(r),n[u._id]=1}yr.simpleMap(e,a);for(var o=t._axisMatchGroups||[],i=0;i<o.length;i++)for(var l in o[i])n[l]||a(t[fa.id2name(l)])}function o7(e){var r=e._fullLayout,t=r._visibleModules,n={},a,o,i;for(o=0;o<t.length;o++){var l=t[o],u=l.crossTraceCalc;if(u){var s=l.basePlotModule.name;n[s]?yr.pushUnique(n[s],u):n[s]=[u]}}for(i in n){var f=n[i],v=r._subplots[i];if(Array.isArray(v))for(a=0;a<v.length;a++){var g=v[a],b=i==="cartesian"?r._plots[g]:r[g];for(o=0;o<f.length;o++)f[o](e,b,g)}else for(o=0;o<f.length;o++)f[o](e)}}fr.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()};fr.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()};fr.reselect=function(e){var r=e._fullLayout,t=(e.layout||{}).selections,n=r._previousSelections;r._previousSelections=t;var a=r._reselect||JSON.stringify(t)!==JSON.stringify(n);ot.getComponentMethod("selections","reselect")(e,a)};fr.generalUpdatePerTraceModule=function(e,r,t,n){var a=r.traceHash,o={},i;for(i=0;i<t.length;i++){var l=t[i],u=l[0].trace;u.visible&&(o[u.type]=o[u.type]||[],o[u.type].push(l))}for(var s in a)if(!o[s]){var f=a[s][0],v=f[0].trace;v.visible=!1,o[s]=[f]}for(var g in o){var b=o[g],x=b[0][0].trace._module;x.plot(e,r,yr.filterVisible(b),n)}r.traceHash=o};fr.plotBasePlot=function(e,r,t,n,a){var o=ot.getModule(e),i=hY(r.calcdata,o)[0];o.plot(r,i,n,a)};fr.cleanBasePlot=function(e,r,t,n,a){var o=a._has&&a._has(e),i=t._has&&t._has(e);o&&!i&&a["_"+e+"layer"].selectAll("g.trace").remove()}});var Uo=pe(Gl=>{"use strict";Gl.xmlns="http://www.w3.org/2000/xmlns/";Gl.svg="http://www.w3.org/2000/svg";Gl.xlink="http://www.w3.org/1999/xlink";Gl.svgAttrs={xmlns:Gl.svg,"xmlns:xlink":Gl.xlink}});var Bn=pe((ove,g7)=>{"use strict";g7.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}});var Xn=pe(Fa=>{"use strict";var Jt=it(),no=ir(),SY=no.strTranslate,wg=Uo(),CY=Bn().LINE_SPACING,EY=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;Fa.convertToTspans=function(e,r,t){var n=e.text(),a=!e.attr("data-notex")&&r&&r._context.typesetMath&&typeof MathJax!="undefined"&&n.match(EY),o=Jt.select(e.node().parentNode);if(o.empty())return;var i=e.attr("class")?e.attr("class").split(" ")[0]:"text";i+="-math",o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove(),e.style("display",null).attr({"data-unformatted":n,"data-math":"N"});function l(){o.empty()||(i=e.attr("class")+"-math",o.select("svg."+i).remove()),e.text("").style("white-space","pre");var u=HY(e.node(),n);u&&e.style("pointer-events","all"),Fa.positionText(e),t&&t.call(e)}return a?(r&&r._promises||[]).push(new Promise(function(u){e.style("display","none");var s=parseInt(e.node().style.fontSize,10),f={fontSize:s};PY(a[2],f,function(v,g,b){o.selectAll("svg."+i).remove(),o.selectAll("g."+i+"-group").remove();var x=v&&v.select("svg");if(!x||!x.node()){l(),u();return}var T=o.append("g").classed(i+"-group",!0).attr({"pointer-events":"none","data-unformatted":n,"data-math":"Y"});T.node().appendChild(x.node()),g&&g.node()&&x.node().insertBefore(g.node().cloneNode(!0),x.node().firstChild);var A=b.width,m=b.height;x.attr({class:i,height:m,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var w=e.node().style.fill||"black",k=x.select("g");k.attr({fill:w,stroke:w});var y=k.node().getBoundingClientRect(),M=y.width,d=y.height;(M>A||d>m)&&(x.style("overflow","hidden"),y=x.node().getBoundingClientRect(),M=y.width,d=y.height);var _=+e.attr("x"),p=+e.attr("y"),c=s||e.node().getBoundingClientRect().height,S=-c/4;if(i[0]==="y")T.attr({transform:"rotate("+[-90,_,p]+")"+SY(-M/2,S-d/2)});else if(i[0]==="l")p=S-d/2;else if(i[0]==="a"&&i.indexOf("atitle")!==0)_=0,p=S;else{var h=e.attr("text-anchor");_=_-M*(h==="middle"?.5:h==="end"?1:0),p=p+S-d/2}x.attr({x:_,y:p}),t&&t.call(e,T),u(T)})})):l(),e};var LY=/(<|&lt;|&#60;)/g,RY=/(>|&gt;|&#62;)/g;function DY(e){return e.replace(LY,"\\lt ").replace(RY,"\\gt ")}var y7=[["$","$"],["\\(","\\)"]];function PY(e,r,t){var n=parseInt((MathJax.version||"").split(".")[0]);if(n!==2&&n!==3){no.warn("No MathJax version:",MathJax.version);return}var a,o,i,l,u=function(){return o=no.extendDeepAll({},MathJax.Hub.config),i=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:y7},displayAlign:"left"})},s=function(){o=no.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=y7},f=function(){if(a=MathJax.Hub.config.menuSettings.renderer,a!=="SVG")return MathJax.Hub.setRenderer("SVG")},v=function(){a=MathJax.config.startup.output,a!=="svg"&&(MathJax.config.startup.output="svg")},g=function(){var w="math-output-"+no.randstr({},64);l=Jt.select("body").append("div").attr({id:w}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(DY(e));var k=l.node();return n===2?MathJax.Hub.Typeset(k):MathJax.typeset([k])},b=function(){var w=l.select(n===2?".MathJax_SVG":".MathJax"),k=!w.empty()&&l.select("svg").node();if(!k)no.log("There was an error in the tex syntax.",e),t();else{var y=k.getBoundingClientRect(),M;n===2?M=Jt.select("body").select("#MathJax_SVG_glyphs"):M=w.select("defs"),t(w,M,y)}l.remove()},x=function(){if(a!=="SVG")return MathJax.Hub.setRenderer(a)},T=function(){a!=="svg"&&(MathJax.config.startup.output=a)},A=function(){return i!==void 0&&(MathJax.Hub.processSectionDelay=i),MathJax.Hub.Config(o)},m=function(){MathJax.config=o};n===2?MathJax.Hub.Queue(u,f,g,b,x,A):n===3&&(s(),v(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){g(),b(),T(),m()}))}var _7={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},FY={sub:"0.3em",sup:"-0.6em"},IY={sub:"-0.21em",sup:"0.42em"},m7="\u200B",x7=["http:","https:","mailto:","",void 0,":"],w7=Fa.NEWLINES=/(\r\n?|\n)/g,Mg=/(<[^<>]*>)/,Ag=/<(\/?)([^ >]*)(\s+(.*))?>/i,NY=/<br(\s+.*)?>/i;Fa.BR_TAG_ALL=/<br(\s+.*)?>/gi;var T7=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,M7=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,A7=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,zY=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Yl(e,r){if(!e)return null;var t=e.match(r),n=t&&(t[3]||t[4]);return n&&Nv(n)}var OY=/(^|;)\s*color:/;Fa.plainText=function(e,r){r=r||{};for(var t=r.len!==void 0&&r.len!==-1?r.len:1/0,n=r.allowedTags!==void 0?r.allowedTags:["br"],a="...",o=a.length,i=e.split(Mg),l=[],u="",s=0,f=0;f<i.length;f++){var v=i[f],g=v.match(Ag),b=g&&g[2].toLowerCase();if(b)n.indexOf(b)!==-1&&(l.push(v),u=b);else{var x=v.length;if(s+x<t)l.push(v),s+=x;else if(s<t){var T=t-s;u&&(u!=="br"||T<=o||x<=o)&&l.pop(),t>o?l.push(v.substr(0,T-o)+a):l.push(v.substr(0,T));break}u=""}}return l.join("")};var qY={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},BY=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function Nv(e){return e.replace(BY,function(r,t){var n;return t.charAt(0)==="#"?n=UY(t.charAt(1)==="x"?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):n=qY[t],n||r})}Fa.convertEntities=Nv;function UY(e){if(!(e>1114111)){var r=String.fromCodePoint;if(r)return r(e);var t=String.fromCharCode;return e<=65535?t(e):t((e>>10)+55232,e%1024+56320)}}function HY(e,r){r=r.replace(w7," ");var t=!1,n=[],a,o=-1;function i(){o++;var d=document.createElementNS(wg.svg,"tspan");Jt.select(d).attr({class:"line",dy:o*CY+"em"}),e.appendChild(d),a=d;var _=n;if(n=[{node:d}],_.length>1)for(var p=1;p<_.length;p++)l(_[p])}function l(d){var _=d.type,p={},c;if(_==="a"){c="a";var S=d.target,h=d.href,R=d.popup;h&&(p={"xlink:xlink:show":S==="_blank"||S.charAt(0)!=="_"?"new":"replace",target:S,"xlink:xlink:href":h},R&&(p.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+R+'");return false;'))}else c="tspan";d.style&&(p.style=d.style);var E=document.createElementNS(wg.svg,c);if(_==="sup"||_==="sub"){u(a,m7),a.appendChild(E);var D=document.createElementNS(wg.svg,"tspan");u(D,m7),Jt.select(D).attr("dy",IY[_]),p.dy=FY[_],a.appendChild(E),a.appendChild(D)}else a.appendChild(E);Jt.select(E).attr(p),a=d.node=E,n.push(d)}function u(d,_){d.appendChild(document.createTextNode(_))}function s(d){if(n.length===1){no.log("Ignoring unexpected end tag </"+d+">.",r);return}var _=n.pop();d!==_.type&&no.log("Start tag <"+_.type+"> doesnt match end tag <"+d+">. Pretending it did match.",r),a=n[n.length-1].node}var f=NY.test(r);f?i():(a=e,n=[{node:e}]);for(var v=r.split(Mg),g=0;g<v.length;g++){var b=v[g],x=b.match(Ag),T=x&&x[2].toLowerCase(),A=_7[T];if(T==="br")i();else if(A===void 0)u(a,Nv(b));else if(x[1])s(T);else{var m=x[4],w={type:T},k=Yl(m,T7);if(k?(k=k.replace(OY,"$1 fill:"),A&&(k+=";"+A)):A&&(k=A),k&&(w.style=k),T==="a"){t=!0;var y=Yl(m,M7);if(y){var M=k7(y);M&&(w.href=M,w.target=Yl(m,A7)||"_blank",w.popup=Yl(m,zY))}}l(w)}}return t}function k7(e){var r=encodeURI(decodeURI(e)),t=document.createElement("a"),n=document.createElement("a");t.href=e,n.href=r;var a=t.protocol,o=n.protocol;return x7.indexOf(a)!==-1&&x7.indexOf(o)!==-1?r:""}Fa.sanitizeHTML=function(r){r=r.replace(w7," ");for(var t=document.createElement("p"),n=t,a=[],o=r.split(Mg),i=0;i<o.length;i++){var l=o[i],u=l.match(Ag),s=u&&u[2].toLowerCase();if(s in _7)if(u[1])a.length&&(n=a.pop());else{var f=u[4],v=Yl(f,T7),g=v?{style:v}:{};if(s==="a"){var b=Yl(f,M7);if(b){var x=k7(b);if(x){g.href=x;var T=Yl(f,A7);T&&(g.target=T)}}}var A=document.createElement(s);n.appendChild(A),Jt.select(A).attr(g),n=A,a.push(A)}else n.appendChild(document.createTextNode(Nv(l)))}var m="innerHTML";return t[m]};Fa.lineCount=function(r){return r.selectAll("tspan.line").size()||1};Fa.positionText=function(r,t,n){return r.each(function(){var a=Jt.select(this);function o(u,s){return s===void 0?(s=a.attr(u),s===null&&(a.attr(u,0),s=0)):a.attr(u,s),s}var i=o("x",t),l=o("y",n);this.nodeName==="text"&&a.selectAll("tspan.line").attr({x:i,y:l})})};function b7(e,r,t){var n=t.horizontalAlign,a=t.verticalAlign||"top",o=e.node().getBoundingClientRect(),i=r.node().getBoundingClientRect(),l,u,s;return a==="bottom"?u=function(){return o.bottom-l.height}:a==="middle"?u=function(){return o.top+(o.height-l.height)/2}:u=function(){return o.top},n==="right"?s=function(){return o.right-l.width}:n==="center"?s=function(){return o.left+(o.width-l.width)/2}:s=function(){return o.left},function(){l=this.node().getBoundingClientRect();var f=s()-i.left,v=u()-i.top,g=t.gd||{};if(t.gd){g._fullLayout._calcInverseTransform(g);var b=no.apply3DTransform(g._fullLayout._invTransform)(f,v);f=b[0],v=b[1]}return this.style({top:v+"px",left:f+"px","z-index":1e3}),this}}var Tg="1px ";Fa.makeTextShadow=function(e){var r=Tg,t=Tg,n=Tg;return r+t+n+e+", -"+r+"-"+t+n+e+", "+r+"-"+t+n+e+", -"+r+t+n+e};Fa.makeEditable=function(e,r){var t=r.gd,n=r.delegate,a=Jt.dispatch("edit","input","cancel"),o=n||e;if(e.style({"pointer-events":n?"none":"all"}),e.size()!==1)throw new Error("boo");function i(){u(),e.style({opacity:0});var s=o.attr("class"),f;s?f="."+s.split(" ")[0]+"-math-group":f="[class*=-math-group]",f&&Jt.select(e.node().parentNode).select(f).style({opacity:0})}function l(s){var f=s.node(),v=document.createRange();v.selectNodeContents(f);var g=window.getSelection();g.removeAllRanges(),g.addRange(v),f.focus()}function u(){var s=Jt.select(t),f=s.select(".svg-container"),v=f.append("div"),g=e.node().style,b=parseFloat(g.fontSize||12),x=r.text;x===void 0&&(x=e.attr("data-unformatted")),v.classed("plugin-editable editable",!0).style({position:"absolute","font-family":g.fontFamily||"Arial","font-size":b,color:r.fill||g.fill||"black",opacity:1,"background-color":r.background||"transparent",outline:"#ffffff33 1px solid",margin:[-b/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(x).call(b7(e,f,r)).on("blur",function(){t._editing=!1,e.text(this.textContent).style({opacity:1});var T=Jt.select(this).attr("class"),A;T?A="."+T.split(" ")[0]+"-math-group":A="[class*=-math-group]",A&&Jt.select(e.node().parentNode).select(A).style({opacity:0});var m=this.textContent;Jt.select(this).transition().duration(0).remove(),Jt.select(document).on("mouseup",null),a.edit.call(e,m)}).on("focus",function(){var T=this;t._editing=!0,Jt.select(document).on("mouseup",function(){if(Jt.event.target===T)return!1;document.activeElement===v.node()&&v.node().blur()})}).on("keyup",function(){Jt.event.which===27?(t._editing=!1,e.style({opacity:1}),Jt.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),Jt.select(this).call(b7(e,f,r)))}).on("keydown",function(){Jt.event.which===13&&this.blur()}).call(l)}return r.immediate?i():o.on("click",i),Jt.rebind(e,a,"on")}});var Ri=pe((sve,F7)=>{"use strict";var VY=it(),Ov=La(),Hf=rt(),zv=ir(),S7=Kr(),GY=Dl().isValid;function YY(e,r,t){var n=r?zv.nestedProperty(e,r).get()||{}:e,a=n[t||"color"];a&&a._inputArray&&(a=a._inputArray);var o=!1;if(zv.isArrayOrTypedArray(a)){for(var i=0;i<a.length;i++)if(Hf(a[i])){o=!0;break}}return zv.isPlainObject(n)&&(o||n.showscale===!0||Hf(n.cmin)&&Hf(n.cmax)||GY(n.colorscale)||zv.isPlainObject(n.colorbar))}var C7=["showscale","autocolorscale","colorscale","reversescale","colorbar"],Uf=["min","max","mid","auto"];function L7(e){var r=e._colorAx,t=r||e,n={},a,o,i;for(o=0;o<C7.length;o++)i=C7[o],n[i]=t[i];if(r)for(a="c",o=0;o<Uf.length;o++)i=Uf[o],n[i]=t["c"+i];else{var l;for(o=0;o<Uf.length;o++){if(i=Uf[o],l="c"+i,l in t){n[i]=t[l];continue}l="z"+i,l in t&&(n[i]=t[l])}a=l.charAt(0)}return n._sync=function(u,s){var f=Uf.indexOf(u)!==-1?a+u:u;t[f]=t["_"+f]=s},n}function R7(e){for(var r=L7(e),t=r.min,n=r.max,a=r.reversescale?D7(r.colorscale):r.colorscale,o=a.length,i=new Array(o),l=new Array(o),u=0;u<o;u++){var s=a[u];i[u]=t+s[0]*(n-t),l[u]=s[1]}return{domain:i,range:l}}function D7(e){for(var r=e.length,t=new Array(r),n=r-1,a=0;n>=0;n--,a++){var o=e[n];t[a]=[1-o[0],o[1]]}return t}function P7(e,r){r=r||{};for(var t=e.domain,n=e.range,a=n.length,o=new Array(a),i=0;i<a;i++){var l=Ov(n[i]).toRgb();o[i]=[l.r,l.g,l.b,l.a]}var u=VY.scale.linear().domain(t).range(o).clamp(!0),s=r.noNumericCheck,f=r.returnArray,v;return s&&f?v=u:s?v=function(g){return E7(u(g))}:f?v=function(g){return Hf(g)?u(g):Ov(g).isValid()?g:S7.defaultLine}:v=function(g){return Hf(g)?E7(u(g)):Ov(g).isValid()?g:S7.defaultLine},v.domain=u.domain,v.range=function(){return n},v}function WY(e,r){return P7(R7(e),r)}function E7(e){var r={r:e[0],g:e[1],b:e[2],a:e[3]};return Ov(r).toRgbString()}F7.exports={hasColorscale:YY,extractOpts:L7,extractScale:R7,flipScale:D7,makeColorScaleFunc:P7,makeColorScaleFuncFromTrace:WY}});var ao=pe((uve,z7)=>{"use strict";var I7=Wp(),XY=I7.FORMAT_LINK,ZY=I7.DATE_FORMAT_LINK;function JY(e,r){return{valType:"string",dflt:"",editType:"none",description:(r?kg:N7)("hover text",e)+["By default the values are formatted using "+(r?"generic number format":"`"+e+"axis.hoverformat`")+"."].join(" ")}}function kg(e,r){return["Sets the "+e+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+XY+"."].join(" ")}function N7(e,r){return kg(e,r)+[" And for dates see: "+ZY+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}z7.exports={axisHoverFormat:JY,descriptionOnlyNumbers:kg,descriptionWithDates:N7}});var Ia=pe((fve,j7)=>{"use strict";var Sg=Sn(),iu=Si(),$7=Lo().dash,Eg=Mt().extendFlat,O7=gt().templatedArray,q7=ao().descriptionWithDates,KY=Xt().ONEDAY,Di=Tn(),QY=Di.HOUR_PATTERN,$Y=Di.WEEKDAY_PATTERN,Cg={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},jY=Eg({},Cg,{values:Cg.values.slice().concat(["sync"])});function B7(e){return{valType:"integer",min:0,dflt:e?5:0,editType:"ticks"}}var U7={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},H7={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},V7={valType:"data_array",editType:"ticks"},G7={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function Y7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=5),r}function W7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var X7={valType:"color",dflt:iu.defaultLine,editType:"ticks"},Z7={valType:"color",dflt:iu.lightLine,editType:"ticks"};function J7(e){var r={valType:"number",min:0,editType:"ticks"};return e||(r.dflt=1),r}var K7=Eg({},$7,{editType:"ticks"}),Q7={valType:"boolean",editType:"ticks"};j7.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:iu.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:Sg({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[Di.idRegex.x.toString(),Di.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[Di.idRegex.x.toString(),Di.idRegex.y.toString()],editType:"calc"},rangebreaks:O7("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[$Y,QY,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:KY},editType:"calc"}),tickmode:jY,nticks:B7(),tick0:U7,dtick:H7,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:V7,ticktext:{valType:"data_array",editType:"ticks"},ticks:G7,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:Y7(),tickwidth:W7(),tickcolor:X7,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:Eg({},$7,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:Sg({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:q7("tick label")},tickformatstops:O7("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:q7("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:iu.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:Q7,gridcolor:Z7,gridwidth:J7(),griddash:K7,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:iu.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:iu.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",Di.idRegex.x.toString(),Di.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",Di.idRegex.x.toString(),Di.idRegex.y.toString()],editType:"plot"},minor:{tickmode:Cg,nticks:B7("minor"),tick0:U7,dtick:H7,tickvals:V7,ticks:G7,ticklen:Y7("minor"),tickwidth:W7("minor"),tickcolor:X7,gridcolor:Z7,gridwidth:J7("minor"),griddash:K7,showgrid:Q7,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:Sg({editType:"ticks"})}}});var qv=pe((cve,r8)=>{"use strict";var kt=Ia(),Lg=Sn(),e8=Mt().extendFlat,eW=qn().overrideAll;r8.exports=eW({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:kt.linecolor,outlinewidth:kt.linewidth,bordercolor:kt.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:kt.minor.tickmode,nticks:kt.nticks,tick0:kt.tick0,dtick:kt.dtick,tickvals:kt.tickvals,ticktext:kt.ticktext,ticks:e8({},kt.ticks,{dflt:""}),ticklabeloverflow:e8({},kt.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:kt.ticklen,tickwidth:kt.tickwidth,tickcolor:kt.tickcolor,ticklabelstep:kt.ticklabelstep,showticklabels:kt.showticklabels,labelalias:kt.labelalias,tickfont:Lg({}),tickangle:kt.tickangle,tickformat:kt.tickformat,tickformatstops:kt.tickformatstops,tickprefix:kt.tickprefix,showtickprefix:kt.showtickprefix,ticksuffix:kt.ticksuffix,showticksuffix:kt.showticksuffix,separatethousands:kt.separatethousands,exponentformat:kt.exponentformat,minexponent:kt.minexponent,showexponent:kt.showexponent,title:{text:{valType:"string"},font:Lg({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:Lg({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")});var ni=pe((hve,n8)=>{"use strict";var rW=qv(),tW=Gs().counter,nW=mv(),t8=Dl().scales,vve=nW(t8);function Bv(e){return"`"+e+"`"}n8.exports=function(r,t){r=r||"",t=t||{};var n=t.cLetter||"c",a="onlyIfNumerical"in t?t.onlyIfNumerical:!!r,o="noScale"in t?t.noScale:r==="marker.line",i="showScaleDflt"in t?t.showScaleDflt:n==="z",l=typeof t.colorscaleDflt=="string"?t8[t.colorscaleDflt]:null,u=t.editTypeOverride||"",s=r?r+".":"",f,v;"colorAttr"in t?(f=t.colorAttr,v=t.colorAttr):(f={z:"z",c:"color"}[n],v="in "+Bv(s+f));var g=a?" Has an effect only if "+v+" is set to a numerical array.":"",b=n+"auto",x=n+"min",T=n+"max",A=n+"mid",m=Bv(s+b),w=Bv(s+x),k=Bv(s+T),y=w+" and "+k,M={};M[x]=M[T]=void 0;var d={};d[b]=!1;var _={};return f==="color"&&(_.color={valType:"color",arrayOk:!0,editType:u||"style"},t.anim&&(_.color.anim=!0)),_[b]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:M},_[x]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:d},_[T]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:d},_[A]={valType:"number",dflt:null,editType:"calc",impliedEdits:M},_.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},_.autocolorscale={valType:"boolean",dflt:t.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},_.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(_.showscale={valType:"boolean",dflt:i,editType:"calc"},_.colorbar=rW),t.noColorAxis||(_.coloraxis={valType:"subplotid",regex:tW("coloraxis"),dflt:null,editType:"calc"}),_}});var Dg=pe((dve,a8)=>{"use strict";var aW=Mt().extendFlat,iW=ni(),Rg=Dl().scales;a8.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:Rg.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:Rg.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:Rg.RdBu,editType:"calc"}},coloraxis:aW({_isSubplotObj:!0,editType:"calc"},iW("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}});var Pg=pe((pve,i8)=>{"use strict";var oW=ir();i8.exports=function(r){return oW.isPlainObject(r.colorbar)}});var Ng=pe(Ig=>{"use strict";var Fg=rt(),o8=ir(),l8=Xt(),lW=l8.ONEDAY,sW=l8.ONEWEEK;Ig.dtick=function(e,r){var t=r==="log",n=r==="date",a=r==="category",o=n?lW:1;if(!e)return o;if(Fg(e))return e=Number(e),e<=0?o:a?Math.max(1,Math.round(e)):n?Math.max(.1,e):e;if(typeof e!="string"||!(n||t))return o;var i=e.charAt(0),l=e.substr(1);return l=Fg(l)?Number(l):0,l<=0||!(n&&i==="M"&&l===Math.round(l)||t&&i==="L"||t&&i==="D"&&(l===1||l===2))?o:e};Ig.tick0=function(e,r,t,n){if(r==="date")return o8.cleanDate(e,o8.dateTick0(t,n%sW===0?1:0));if(!(n==="D1"||n==="D2"))return Fg(e)?Number(e):0}});var zg=pe((yve,u8)=>{"use strict";var s8=Ng(),uW=ir().isArrayOrTypedArray,fW=ia().isTypedArraySpec,cW=ia().decodeTypedArraySpec;u8.exports=function(r,t,n,a,o){o||(o={});var i=o.isMinor,l=i?r.minor||{}:r,u=i?t.minor:t,s=i?"minor.":"";function f(w){var k=l[w];return fW(k)&&(k=cW(k)),k!==void 0?k:(u._template||{})[w]}var v=f("tick0"),g=f("dtick"),b=f("tickvals"),x=uW(b)?"array":g?"linear":"auto",T=n(s+"tickmode",x);if(T==="auto"||T==="sync")n(s+"nticks");else if(T==="linear"){var A=u.dtick=s8.dtick(g,a);u.tick0=s8.tick0(v,a,t.calendar,A)}else if(a!=="multicategory"){var m=n(s+"tickvals");m===void 0?u.tickmode="auto":i||n("ticktext")}}});var qg=pe((mve,c8)=>{"use strict";var Og=ir(),f8=Ia();c8.exports=function(r,t,n,a){var o=a.isMinor,i=o?r.minor||{}:r,l=o?t.minor:t,u=o?f8.minor:f8,s=o?"minor.":"",f=Og.coerce2(i,l,u,"ticklen",o?(t.ticklen||5)*.6:void 0),v=Og.coerce2(i,l,u,"tickwidth",o?t.tickwidth||1:void 0),g=Og.coerce2(i,l,u,"tickcolor",(o?t.tickcolor:void 0)||l.color),b=n(s+"ticks",!o&&a.outerTicks||f||v||g?"outside":"");b||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}});var Bg=pe((xve,v8)=>{"use strict";v8.exports=function(r){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(o){return r[o]!==void 0}),a=function(o){return r[o]===r[n[0]]};if(n.every(a)||n.length===1)return r[n[0]]}});var ai=pe((bve,h8)=>{"use strict";var Uv=ir(),vW=gt();h8.exports=function(r,t,n){var a=n.name,o=n.inclusionAttr||"visible",i=t[a],l=Uv.isArrayOrTypedArray(r[a])?r[a]:[],u=t[a]=[],s=vW.arrayTemplater(t,a,o),f,v;for(f=0;f<l.length;f++){var g=l[f];Uv.isPlainObject(g)?v=s.newItem(g):(v=s.newItem({}),v[o]=!1),v._index=f,v[o]!==!1&&n.handleItemDefaults(g,v,t,n),u.push(v)}var b=s.defaultItems();for(f=0;f<b.length;f++)v=b[f],v._index=u.length,n.handleItemDefaults({},v,t,n,{}),u.push(v);if(Uv.isArrayOrTypedArray(i)){var x=Math.min(i.length,u.length);for(f=0;f<x;f++)Uv.relinkPrivateKeys(u[f],i[f])}return u}});var Hg=pe((_ve,p8)=>{"use strict";var Ug=ir(),hW=Kr().contrast,d8=Ia(),dW=Bg(),pW=ai();p8.exports=function(r,t,n,a,o){o||(o={});var i=n("labelalias");Ug.isPlainObject(i)||delete t.labelalias;var l=dW(r),u=n("showticklabels");if(u){o.noTicklabelshift||n("ticklabelshift"),o.noTicklabelstandoff||n("ticklabelstandoff");var s=o.font||{},f=t.color,v=t.ticklabelposition||"",g=v.indexOf("inside")!==-1?hW(o.bgColor):f&&f!==d8.color.dflt?f:s.color;if(Ug.coerceFont(n,"tickfont",s,{overrideDflt:{color:g}}),!o.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&n("ticklabelstep"),!o.noAng){var b=n("tickangle");!o.noAutotickangles&&b==="auto"&&n("autotickangles")}if(a!=="category"){var x=n("tickformat");pW(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:gW}),t.tickformatstops.length||delete t.tickformatstops,!o.noExp&&!x&&a!=="date"&&(n("showexponent",l),n("exponentformat"),n("minexponent"),n("separatethousands"))}}};function gW(e,r){function t(a,o){return Ug.coerce(e,r,d8.tickformatstops,a,o)}var n=t("enabled");n&&(t("dtickrange"),t("value"))}});var Vg=pe((wve,g8)=>{"use strict";var yW=Bg();g8.exports=function(r,t,n,a,o){o||(o={});var i=o.tickSuffixDflt,l=yW(r),u=n("tickprefix");u&&n("showtickprefix",l);var s=n("ticksuffix",i);s&&n("showticksuffix",l)}});var Gg=pe((Tve,y8)=>{"use strict";var Ho=ir(),mW=gt(),xW=zg(),bW=qg(),_W=Hg(),wW=Vg(),TW=qv();y8.exports=function(r,t,n){var a=mW.newContainer(t,"colorbar"),o=r.colorbar||{};function i(h,R){return Ho.coerce(o,a,TW,h,R)}var l=n.margin||{t:0,b:0,l:0,r:0},u=n.width-l.l-l.r,s=n.height-l.t-l.b,f=i("orientation"),v=f==="v",g=i("thicknessmode");i("thickness",g==="fraction"?30/(v?u:s):30);var b=i("lenmode");i("len",b==="fraction"?1:v?s:u);var x=i("yref"),T=i("xref"),A=x==="paper",m=T==="paper",w,k,y,M="left";v?(y="middle",M=m?"left":"right",w=m?1.02:1,k=.5):(y=A?"bottom":"top",M="center",w=.5,k=A?1.02:1),Ho.coerce(o,a,{x:{valType:"number",min:m?-2:0,max:m?3:1,dflt:w}},"x"),Ho.coerce(o,a,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:k}},"y"),i("xanchor",M),i("xpad"),i("yanchor",y),i("ypad"),Ho.noneOrAll(o,a,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor");var d=Ho.coerce(o,a,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:v?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");i("ticklabeloverflow",d.indexOf("inside")!==-1?"hide past domain":"hide past div"),xW(o,a,i,"linear");var _=n.font,p={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:_};d.indexOf("inside")!==-1&&(p.bgColor="black"),wW(o,a,i,"linear",p),_W(o,a,i,"linear",p),bW(o,a,i,"linear",p),i("title.text",n._dfltTitle.colorbar);var c=a.showticklabels?a.tickfont:_,S=Ho.extendFlat({},_,{family:c.family,size:Ho.bigFont(c.size)});Ho.coerceFont(i,"title.font",S),i("title.side",v?"top":"right")}});var Pi=pe((Mve,b8)=>{"use strict";var m8=rt(),Wg=ir(),MW=Pg(),AW=Gg(),x8=Dl().isValid,kW=Cr().traceIs;function Yg(e,r){var t=r.slice(0,r.length-1);return r?Wg.nestedProperty(e,t).get()||{}:e}b8.exports=function e(r,t,n,a,o){var i=o.prefix,l=o.cLetter,u="_module"in t,s=Yg(r,i),f=Yg(t,i),v=Yg(t._template||{},i)||{},g=function(){return delete r.coloraxis,delete t.coloraxis,e(r,t,n,a,o)};if(u){var b=n._colorAxes||{},x=a(i+"coloraxis");if(x){var T=kW(t,"contour")&&Wg.nestedProperty(t,"contours.coloring").get()||"heatmap",A=b[x];A?(A[2].push(g),A[0]!==T&&(A[0]=!1,Wg.warn(["Ignoring coloraxis:",x,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[x]=[T,t,[g]];return}}var m=s[l+"min"],w=s[l+"max"],k=m8(m)&&m8(w)&&m<w,y=a(i+l+"auto",!k);y?a(i+l+"mid"):(a(i+l+"min"),a(i+l+"max"));var M=s.colorscale,d=v.colorscale,_;if(M!==void 0&&(_=!x8(M)),d!==void 0&&(_=!x8(d)),a(i+"autocolorscale",_),a(i+"colorscale"),a(i+"reversescale"),i!=="marker.line."){var p;i&&u&&(p=MW(s));var c=a(i+"showscale",p);c&&(i&&v&&(f._template=v),AW(s,f,n))}}});var M8=pe((Ave,T8)=>{"use strict";var _8=ir(),SW=gt(),w8=Dg(),CW=Pi();T8.exports=function(r,t){function n(v,g){return _8.coerce(r,t,w8,v,g)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var a=t._colorAxes,o,i;function l(v,g){return _8.coerce(o,i,w8.coloraxis,v,g)}for(var u in a){var s=a[u];if(s[0])o=r[u]||{},i=SW.newContainer(t,u,"coloraxis"),i._name=u,CW(o,i,t,l,{prefix:"",cLetter:"c"});else{for(var f=0;f<s[2].length;f++)s[2][f]();delete t._colorAxes[u]}}}});var k8=pe((kve,A8)=>{"use strict";var EW=ir(),LW=Ri().hasColorscale,RW=Ri().extractOpts;A8.exports=function(r,t){function n(f,v){var g=f["_"+v];g!==void 0&&(f[v]=g)}function a(f,v){var g=v.container?EW.nestedProperty(f,v.container).get():f;if(g)if(g.coloraxis)g._colorAx=t[g.coloraxis];else{var b=RW(g),x=b.auto;(x||b.min===void 0)&&n(g,v.min),(x||b.max===void 0)&&n(g,v.max),b.autocolorscale&&n(g,"colorscale")}}for(var o=0;o<r.length;o++){var i=r[o],l=i._module.colorbar;if(l)if(Array.isArray(l))for(var u=0;u<l.length;u++)a(i,l[u]);else a(i,l);LW(i,"marker.line")&&a(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in t._colorAxes)a(t[s],{min:"cmin",max:"cmax"})}});var Vo=pe((Sve,C8)=>{"use strict";var S8=rt(),Xg=ir(),DW=Ri().extractOpts;C8.exports=function(r,t,n){var a=r._fullLayout,o=n.vals,i=n.containerStr,l=i?Xg.nestedProperty(t,i).get():t,u=DW(l),s=u.auto!==!1,f=u.min,v=u.max,g=u.mid,b=function(){return Xg.aggNums(Math.min,null,o)},x=function(){return Xg.aggNums(Math.max,null,o)};if(f===void 0?f=b():s&&(l._colorAx&&S8(f)?f=Math.min(f,b()):f=b()),v===void 0?v=x():s&&(l._colorAx&&S8(v)?v=Math.max(v,x()):v=x()),s&&g!==void 0&&(v-g>g-f?f=g-(v-g):v-g<g-f&&(v=g+(g-f))),f===v&&(f-=.5,v+=.5),u._sync("min",f),u._sync("max",v),u.autocolorscale){var T;f*v<0?T=a.colorscale.diverging:f>=0?T=a.colorscale.sequential:T=a.colorscale.sequentialminus,u._sync("colorscale",T)}}});var Fi=pe((Cve,E8)=>{"use strict";var Hv=Dl(),ou=Ri();E8.exports={moduleType:"component",name:"colorscale",attributes:ni(),layoutAttributes:Dg(),supplyLayoutDefaults:M8(),handleDefaults:Pi(),crossTraceDefaults:k8(),calc:Vo(),scales:Hv.scales,defaultScale:Hv.defaultScale,getScale:Hv.get,isValidScale:Hv.isValid,hasColorscale:ou.hasColorscale,extractOpts:ou.extractOpts,extractScale:ou.extractScale,flipScale:ou.flipScale,makeColorScaleFunc:ou.makeColorScaleFunc,makeColorScaleFuncFromTrace:ou.makeColorScaleFuncFromTrace}});var ca=pe((Eve,R8)=>{"use strict";var L8=ir(),PW=ia().isTypedArraySpec;R8.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf("lines")!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf("markers")!==-1||e.type==="splom")},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf("text")!==-1},isBubble:function(e){var r=e.marker;return L8.isPlainObject(r)&&(L8.isArrayOrTypedArray(r.size)||PW(r.size))}}});var Zg=pe((Lve,D8)=>{"use strict";var FW=rt();D8.exports=function(r,t){t||(t=2);var n=r.marker,a=n.sizeref||1,o=n.sizemin||0,i=n.sizemode==="area"?function(l){return Math.sqrt(l/a)}:function(l){return l/a};return function(l){var u=i(l/t);return FW(u)&&u>0?Math.max(u,o):0}}});var io=pe(Ln=>{"use strict";var P8=ir();Ln.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo};Ln.isTraceInSubplots=function(e,r){if(e.type==="splom"){for(var t=e.xaxes||[],n=e.yaxes||[],a=0;a<t.length;a++)for(var o=0;o<n.length;o++)if(r.indexOf(t[a]+n[o])!==-1)return!0;return!1}return r.indexOf(Ln.getSubplot(e))!==-1};Ln.flat=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=r;return t};Ln.p2c=function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].p2c(r);return t};Ln.getDistanceFunction=function(e,r,t,n){return e==="closest"?n||Ln.quadrature(r,t):e.charAt(0)==="x"?r:t};Ln.getClosest=function(e,r,t){if(t.index!==!1)t.index>=0&&t.index<e.length?t.distance=0:t.index=!1;else for(var n=0;n<e.length;n++){var a=r(e[n]);a<=t.distance&&(t.index=n,t.distance=a)}return t};Ln.inbox=function(e,r,t){return e*r<0||e===0?t:1/0};Ln.quadrature=function(e,r){return function(t){var n=e(t),a=r(t);return Math.sqrt(n*n+a*a)}};Ln.makeEventData=function(e,r,t){var n="index"in e?e.index:e.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var o=r._indexToPoints[n];o.length===1?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=n;return r._module.eventData?a=r._module.eventData(a,e,r,t,n):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),e.zLabelVal!==void 0&&(a.z=e.zLabelVal)),Ln.appendArrayPointValue(a,r,n),a};Ln.appendArrayPointValue=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=F8(o);if(e[i]===void 0){var l=P8.nestedProperty(r,o).get(),u=I8(l,t);u!==void 0&&(e[i]=u)}}};Ln.appendArrayMultiPointValues=function(e,r,t){var n=r._arrayAttrs;if(n)for(var a=0;a<n.length;a++){var o=n[a],i=F8(o);if(e[i]===void 0){for(var l=P8.nestedProperty(r,o).get(),u=new Array(t.length),s=0;s<t.length;s++)u[s]=I8(l,t[s]);e[i]=u}}};var IW={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function F8(e){return IW[e]||e}function I8(e,r){if(Array.isArray(r)){if(Array.isArray(e)&&Array.isArray(e[r[0]]))return e[r[0]][r[1]]}else return e[r]}var NW={x:!0,y:!0},zW={"x unified":!0,"y unified":!0};Ln.isUnifiedHover=function(e){return typeof e!="string"?!1:!!zW[e]};Ln.isXYhover=function(e){return typeof e!="string"?!1:!!NW[e]}});var Kg=pe((Dve,N8)=>{N8.exports=qW;var Jg={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},OW=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function qW(e){var r=[];return e.replace(OW,function(t,n,a){var o=n.toLowerCase();for(a=UW(a),o=="m"&&a.length>2&&(r.push([n].concat(a.splice(0,2))),o="l",n=n=="m"?"l":"L");;){if(a.length==Jg[o])return a.unshift(n),r.push(a);if(a.length<Jg[o])throw new Error("malformed path data");r.push([n].concat(a.splice(0,Jg[o])))}}),r}var BW=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function UW(e){var r=e.match(BW);return r?r.map(Number):[]}});var V8=pe((Pve,H8)=>{"use strict";var HW=Kg(),sr=function(e,r){return r?Math.round(e*(r=Math.pow(10,r)))/r:Math.round(e)},Fr="M0,0Z",z8=Math.sqrt(2),Go=Math.sqrt(3),Qg=Math.PI,$g=Math.cos,jg=Math.sin;H8.exports={circle:{n:0,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a="M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z";return t?Nr(r,t,a):a}},square:{n:1,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")}},diamond:{n:2,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.3,2);return Nr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z")}},cross:{n:3,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.4,2),a=sr(e*1.2,2);return Nr(r,t,"M"+a+","+n+"H"+n+"V"+a+"H-"+n+"V"+n+"H-"+a+"V-"+n+"H-"+n+"V-"+a+"H"+n+"V-"+n+"H"+a+"Z")}},x:{n:4,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.8/z8,2),a="l"+n+","+n,o="l"+n+",-"+n,i="l-"+n+",-"+n,l="l-"+n+","+n;return Nr(r,t,"M0,"+n+a+o+i+o+i+l+i+l+a+l+a+"Z")}},"triangle-up":{n:5,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2/Go,2),a=sr(e/2,2),o=sr(e,2);return Nr(r,t,"M-"+n+","+a+"H"+n+"L0,-"+o+"Z")}},"triangle-down":{n:6,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2/Go,2),a=sr(e/2,2),o=sr(e,2);return Nr(r,t,"M-"+n+",-"+a+"H"+n+"L0,"+o+"Z")}},"triangle-left":{n:7,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2/Go,2),a=sr(e/2,2),o=sr(e,2);return Nr(r,t,"M"+a+",-"+n+"V"+n+"L-"+o+",0Z")}},"triangle-right":{n:8,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2/Go,2),a=sr(e/2,2),o=sr(e,2);return Nr(r,t,"M-"+a+",-"+n+"V"+n+"L"+o+",0Z")}},"triangle-ne":{n:9,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.6,2),a=sr(e*1.2,2);return Nr(r,t,"M-"+a+",-"+n+"H"+n+"V"+a+"Z")}},"triangle-se":{n:10,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.6,2),a=sr(e*1.2,2);return Nr(r,t,"M"+n+",-"+a+"V"+n+"H-"+a+"Z")}},"triangle-sw":{n:11,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.6,2),a=sr(e*1.2,2);return Nr(r,t,"M"+a+","+n+"H-"+n+"V-"+a+"Z")}},"triangle-nw":{n:12,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.6,2),a=sr(e*1.2,2);return Nr(r,t,"M-"+n+","+a+"V-"+n+"H"+a+"Z")}},pentagon:{n:13,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.951,2),a=sr(e*.588,2),o=sr(-e,2),i=sr(e*-.309,2),l=sr(e*.809,2);return Nr(r,t,"M"+n+","+i+"L"+a+","+l+"H-"+a+"L-"+n+","+i+"L0,"+o+"Z")}},hexagon:{n:14,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e/2,2),o=sr(e*Go/2,2);return Nr(r,t,"M"+o+",-"+a+"V"+a+"L0,"+n+"L-"+o+","+a+"V-"+a+"L0,-"+n+"Z")}},hexagon2:{n:15,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e/2,2),o=sr(e*Go/2,2);return Nr(r,t,"M-"+a+","+o+"H"+a+"L"+n+",0L"+a+",-"+o+"H-"+a+"L-"+n+",0Z")}},octagon:{n:16,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.924,2),a=sr(e*.383,2);return Nr(r,t,"M-"+a+",-"+n+"H"+a+"L"+n+",-"+a+"V"+a+"L"+a+","+n+"H-"+a+"L-"+n+","+a+"V-"+a+"Z")}},star:{n:17,f:function(e,r,t){if(Ir(r))return Fr;var n=e*1.4,a=sr(n*.225,2),o=sr(n*.951,2),i=sr(n*.363,2),l=sr(n*.588,2),u=sr(-n,2),s=sr(n*-.309,2),f=sr(n*.118,2),v=sr(n*.809,2),g=sr(n*.382,2);return Nr(r,t,"M"+a+","+s+"H"+o+"L"+i+","+f+"L"+l+","+v+"L0,"+g+"L-"+l+","+v+"L-"+i+","+f+"L-"+o+","+s+"H-"+a+"L0,"+u+"Z")}},hexagram:{n:18,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.66,2),a=sr(e*.38,2),o=sr(e*.76,2);return Nr(r,t,"M-"+o+",0l-"+a+",-"+n+"h"+o+"l"+a+",-"+n+"l"+a+","+n+"h"+o+"l-"+a+","+n+"l"+a+","+n+"h-"+o+"l-"+a+","+n+"l-"+a+",-"+n+"h-"+o+"Z")}},"star-triangle-up":{n:19,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*Go*.8,2),a=sr(e*.8,2),o=sr(e*1.6,2),i=sr(e*4,2),l="A "+i+","+i+" 0 0 1 ";return Nr(r,t,"M-"+n+","+a+l+n+","+a+l+"0,-"+o+l+"-"+n+","+a+"Z")}},"star-triangle-down":{n:20,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*Go*.8,2),a=sr(e*.8,2),o=sr(e*1.6,2),i=sr(e*4,2),l="A "+i+","+i+" 0 0 1 ";return Nr(r,t,"M"+n+",-"+a+l+"-"+n+",-"+a+l+"0,"+o+l+n+",-"+a+"Z")}},"star-square":{n:21,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.1,2),a=sr(e*2,2),o="A "+a+","+a+" 0 0 1 ";return Nr(r,t,"M-"+n+",-"+n+o+"-"+n+","+n+o+n+","+n+o+n+",-"+n+o+"-"+n+",-"+n+"Z")}},"star-diamond":{n:22,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2),a=sr(e*1.9,2),o="A "+a+","+a+" 0 0 1 ";return Nr(r,t,"M-"+n+",0"+o+"0,"+n+o+n+",0"+o+"0,-"+n+o+"-"+n+",0Z")}},"diamond-tall":{n:23,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*.7,2),a=sr(e*1.4,2);return Nr(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},"diamond-wide":{n:24,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2),a=sr(e*.7,2);return Nr(r,t,"M0,"+a+"L"+n+",0L0,-"+a+"L-"+n+",0Z")}},hourglass:{n:25,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z")},noDot:!0},bowtie:{n:26,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z")},noDot:!0},"circle-cross":{n:27,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e/z8,2);return Nr(r,t,"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.3,2);return Nr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.3,2),a=sr(e*.65,2);return Nr(r,t,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2);return Nr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*.85,2);return Nr(r,t,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e/2,2),a=sr(e,2);return Nr(r,t,"M"+n+","+a+"V-"+a+"M"+(n-a)+",-"+a+"V"+a+"M"+a+","+n+"H-"+a+"M-"+a+","+(n-a)+"H"+a)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*1.6,2),o=sr(e*.8,2);return Nr(r,t,"M-"+n+","+o+"L0,0M"+n+","+o+"L0,0M0,-"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*1.6,2),o=sr(e*.8,2);return Nr(r,t,"M-"+n+",-"+o+"L0,0M"+n+",-"+o+"L0,0M0,"+a+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*1.6,2),o=sr(e*.8,2);return Nr(r,t,"M"+o+","+n+"L0,0M"+o+",-"+n+"L0,0M-"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.2,2),a=sr(e*1.6,2),o=sr(e*.8,2);return Nr(r,t,"M-"+o+","+n+"L0,0M-"+o+",-"+n+"L0,0M"+a+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2);return Nr(r,t,"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*1.4,2);return Nr(r,t,"M0,"+n+"V-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2);return Nr(r,t,"M"+n+","+n+"L-"+n+",-"+n)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e*2,2);return Nr(r,t,"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e*2,2);return Nr(r,t,"M0,0L-"+n+",-"+a+"H"+n+"Z")},noDot:!0},"arrow-left":{n:47,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2,2),a=sr(e,2);return Nr(r,t,"M0,0L"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-right":{n:48,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2,2),a=sr(e,2);return Nr(r,t,"M0,0L-"+n+",-"+a+"V"+a+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e*2,2);return Nr(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+","+a+"H"+n+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e,2),a=sr(e*2,2);return Nr(r,t,"M-"+n+",0H"+n+"M0,0L-"+n+",-"+a+"H"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2,2),a=sr(e,2);return Nr(r,t,"M0,-"+a+"V"+a+"M0,0L"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e,r,t){if(Ir(r))return Fr;var n=sr(e*2,2),a=sr(e,2);return Nr(r,t,"M0,-"+a+"V"+a+"M0,0L-"+n+",-"+a+"V"+a+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(e,r,t){if(Ir(r))return Fr;var n=Qg/2.5,a=2*e*$g(n),o=2*e*jg(n);return Nr(r,t,"M0,0L"+-a+","+o+"L"+a+","+o+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(e,r,t){if(Ir(r))return Fr;var n=Qg/4,a=2*e*$g(n),o=2*e*jg(n);return Nr(r,t,"M0,0L"+-a+","+o+"A "+2*e+","+2*e+" 0 0 1 "+a+","+o+"Z")},backoff:.4,noDot:!0}};function Ir(e){return e===null}var O8,q8,B8,U8;function Nr(e,r,t){if((!e||e%360===0)&&!r)return t;if(B8===e&&U8===r&&O8===t)return q8;B8=e,U8=r,O8=t;function n(A,m){var w=$g(A),k=jg(A),y=m[0],M=m[1]+(r||0);return[y*w-M*k,y*k+M*w]}for(var a=e/180*Qg,o=0,i=0,l=HW(t),u="",s=0;s<l.length;s++){var f=l[s],v=f[0],g=o,b=i;if(v==="M"||v==="L")o=+f[1],i=+f[2];else if(v==="m"||v==="l")o+=+f[1],i+=+f[2];else if(v==="H")o=+f[1];else if(v==="h")o+=+f[1];else if(v==="V")i=+f[1];else if(v==="v")i+=+f[1];else if(v==="A"){o=+f[1],i=+f[2];var x=n(a,[+f[6],+f[7]]);f[6]=x[0],f[7]=x[1],f[3]=+f[3]+e}(v==="H"||v==="V")&&(v="L"),(v==="h"||v==="v")&&(v="l"),(v==="m"||v==="l")&&(o-=g,i-=b);var T=n(a,[o,i]);(v==="H"||v==="V")&&(v="L"),(v==="M"||v==="L"||v==="m"||v==="l")&&(f[1]=T[0],f[2]=T[1]),f[0]=v,u+=f[0]+f.slice(1).join(",")}return q8=u,u}});var yt=pe((Fve,uT)=>{"use strict";var fn=it(),pt=ir(),VW=pt.numberFormat,Jl=rt(),i2=La(),Gv=Cr(),Mn=Kr(),GW=Fi(),Gf=pt.strTranslate,Yv=Xn(),YW=Uo(),WW=Bn(),XW=WW.LINE_SPACING,j8=tv().DESELECTDIM,ZW=ca(),JW=Zg(),KW=io().appendArrayPointValue,ur=uT.exports={};ur.font=function(e,r){var t=r.variant,n=r.style,a=r.weight,o=r.color,i=r.size,l=r.family,u=r.shadow,s=r.lineposition,f=r.textcase;l&&e.style("font-family",l),i+1&&e.style("font-size",i+"px"),o&&e.call(Mn.fill,o),a&&e.style("font-weight",a),n&&e.style("font-style",n),t&&e.style("font-variant",t),f&&e.style("text-transform",e2($W(f))),u&&e.style("text-shadow",u==="auto"?Yv.makeTextShadow(Mn.contrast(o)):e2(u)),s&&e.style("text-decoration-line",e2(jW(s)))};function e2(e){return e==="none"?void 0:e}var QW={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function $W(e){return QW[e]}function jW(e){return e.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}ur.setPosition=function(e,r,t){e.attr("x",r).attr("y",t)};ur.setSize=function(e,r,t){e.attr("width",r).attr("height",t)};ur.setRect=function(e,r,t,n,a){e.call(ur.setPosition,r,t).call(ur.setSize,n,a)};ur.translatePoint=function(e,r,t,n){var a=t.c2p(e.x),o=n.c2p(e.y);if(Jl(a)&&Jl(o)&&r.node())r.node().nodeName==="text"?r.attr("x",a).attr("y",o):r.attr("transform",Gf(a,o));else return!1;return!0};ur.translatePoints=function(e,r,t){e.each(function(n){var a=fn.select(this);ur.translatePoint(n,a,r,t)})};ur.hideOutsideRangePoint=function(e,r,t,n,a,o){r.attr("display",t.isPtWithinRange(e,a)&&n.isPtWithinRange(e,o)?null:"none")};ur.hideOutsideRangePoints=function(e,r){if(r._hasClipOnAxisFalse){var t=r.xaxis,n=r.yaxis;e.each(function(a){var o=a[0].trace,i=o.xcalendar,l=o.ycalendar,u=Gv.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(u).each(function(s){ur.hideOutsideRangePoint(s,fn.select(this),t,n,i,l)})})}};ur.crispRound=function(e,r,t){return!r||!Jl(r)?t||0:e._context.staticPlot?r:r<1?1:Math.round(r)};ur.singleLineStyle=function(e,r,t,n,a){r.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},i=t||o.width||0,l=a||o.dash||"";Mn.stroke(r,n||o.color),ur.dashLine(r,l,i)};ur.lineGroupStyle=function(e,r,t,n){e.style("fill","none").each(function(a){var o=(((a||[])[0]||{}).trace||{}).line||{},i=r||o.width||0,l=n||o.dash||"";fn.select(this).call(Mn.stroke,t||o.color).call(ur.dashLine,l,i)})};ur.dashLine=function(e,r,t){t=+t||0,r=ur.dashStyle(r,t),e.style({"stroke-dasharray":r,"stroke-width":t+"px"})};ur.dashStyle=function(e,r){r=+r||1;var t=Math.max(r,3);return e==="solid"?e="":e==="dot"?e=t+"px,"+t+"px":e==="dash"?e=3*t+"px,"+3*t+"px":e==="longdash"?e=5*t+"px,"+5*t+"px":e==="dashdot"?e=3*t+"px,"+t+"px,"+t+"px,"+t+"px":e==="longdashdot"&&(e=5*t+"px,"+2*t+"px,"+t+"px,"+2*t+"px"),e};function eT(e,r,t,n){var a=r.fillpattern,o=r.fillgradient,i=a&&ur.getPatternAttr(a.shape,0,"");if(i){var l=ur.getPatternAttr(a.bgcolor,0,null),u=ur.getPatternAttr(a.fgcolor,0,null),s=a.fgopacity,f=ur.getPatternAttr(a.size,0,8),v=ur.getPatternAttr(a.solidity,0,.3),g=r.uid;ur.pattern(e,"point",t,g,i,f,v,void 0,a.fillmode,l,u,s)}else if(o&&o.type!=="none"){var b=o.type,x="scatterfill-"+r.uid;if(n&&(x="legendfill-"+r.uid),!n&&(o.start!==void 0||o.stop!==void 0)){var T,A;b==="horizontal"?(T={x:o.start,y:0},A={x:o.stop,y:0}):b==="vertical"&&(T={x:0,y:o.start},A={x:0,y:o.stop}),T.x=r._xA.c2p(T.x===void 0?r._extremes.x.min[0].val:T.x,!0),T.y=r._yA.c2p(T.y===void 0?r._extremes.y.min[0].val:T.y,!0),A.x=r._xA.c2p(A.x===void 0?r._extremes.x.max[0].val:A.x,!0),A.y=r._yA.c2p(A.y===void 0?r._extremes.y.max[0].val:A.y,!0),e.call(nT,t,x,"linear",o.colorscale,"fill",T,A,!0,!1)}else b==="horizontal"&&(b=b+"reversed"),e.call(ur.gradient,t,x,b,o.colorscale,"fill")}else r.fillcolor&&e.call(Mn.fill,r.fillcolor)}ur.singleFillStyle=function(e,r){var t=fn.select(e.node()),n=t.data(),a=((n[0]||[])[0]||{}).trace||{};eT(e,a,r,!1)};ur.fillGroupStyle=function(e,r,t){e.style("stroke-width",0).each(function(n){var a=fn.select(this);n[0].trace&&eT(a,n[0].trace,r,t)})};var G8=V8();ur.symbolNames=[];ur.symbolFuncs=[];ur.symbolBackOffs=[];ur.symbolNeedLines={};ur.symbolNoDot={};ur.symbolNoFill={};ur.symbolList=[];Object.keys(G8).forEach(function(e){var r=G8[e],t=r.n;ur.symbolList.push(t,String(t),e,t+100,String(t+100),e+"-open"),ur.symbolNames[t]=e,ur.symbolFuncs[t]=r.f,ur.symbolBackOffs[t]=r.backoff||0,r.needLine&&(ur.symbolNeedLines[t]=!0),r.noDot?ur.symbolNoDot[t]=!0:ur.symbolList.push(t+200,String(t+200),e+"-dot",t+300,String(t+300),e+"-open-dot"),r.noFill&&(ur.symbolNoFill[t]=!0)});var eX=ur.symbolNames.length,rX="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";ur.symbolNumber=function(e){if(Jl(e))e=+e;else if(typeof e=="string"){var r=0;e.indexOf("-open")>0&&(r=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(r+=200,e=e.replace("-dot","")),e=ur.symbolNames.indexOf(e),e>=0&&(e+=r)}return e%100>=eX||e>=400?0:Math.floor(Math.max(e,0))};function rT(e,r,t,n){var a=e%100;return ur.symbolFuncs[a](r,t,n)+(e>=200?rX:"")}var Y8=VW("~f"),tT={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};ur.gradient=function(e,r,t,n,a,o){var i=tT[n];return nT(e,r,t,i.type,a,o,i.start,i.stop,!1,i.reversed)};function nT(e,r,t,n,a,o,i,l,u,s){var f=a.length,v;n==="linear"?v={node:"linearGradient",attrs:{x1:i.x,y1:i.y,x2:l.x,y2:l.y,gradientUnits:u?"userSpaceOnUse":"objectBoundingBox"},reversed:s}:n==="radial"&&(v={node:"radialGradient",reversed:s});for(var g=new Array(f),b=0;b<f;b++)v.reversed?g[f-1-b]=[Y8((1-a[b][0])*100),a[b][1]]:g[b]=[Y8(a[b][0]*100),a[b][1]];var x=r._fullLayout,T="g"+x._uid+"-"+t,A=x._defs.select(".gradients").selectAll("#"+T).data([n+g.join(";")],pt.identity);A.exit().remove(),A.enter().append(v.node).each(function(){var m=fn.select(this);v.attrs&&m.attr(v.attrs),m.attr("id",T);var w=m.selectAll("stop").data(g);w.exit().remove(),w.enter().append("stop"),w.each(function(k){var y=i2(k[1]);fn.select(this).attr({offset:k[0]+"%","stop-color":Mn.tinyRGB(y),"stop-opacity":y.getAlpha()})})}),e.style(o,o2(T,r)).style(o+"-opacity",null),e.classed("gradient_filled",!0)}ur.pattern=function(e,r,t,n,a,o,i,l,u,s,f,v){var g=r==="legend";l&&(u==="overlay"?(s=l,f=Mn.contrast(s)):(s=void 0,f=l));var b=t._fullLayout,x="p"+b._uid+"-"+n,T,A,m=function(E,D,N,I,F){return I+(F-I)*(E-D)/(N-D)},w,k,y,M,d={},_=i2(f),p=Mn.tinyRGB(_),c=_.getAlpha(),S=v*c;switch(a){case"/":T=o*Math.sqrt(2),A=o*Math.sqrt(2),w="M-"+T/4+","+A/4+"l"+T/2+",-"+A/2+"M0,"+A+"L"+T+",0M"+T/4*3+","+A/4*5+"l"+T/2+",-"+A/2,k=i*o,M="path",d={d:w,opacity:S,stroke:p,"stroke-width":k+"px"};break;case"\\":T=o*Math.sqrt(2),A=o*Math.sqrt(2),w="M"+T/4*3+",-"+A/4+"l"+T/2+","+A/2+"M0,0L"+T+","+A+"M-"+T/4+","+A/4*3+"l"+T/2+","+A/2,k=i*o,M="path",d={d:w,opacity:S,stroke:p,"stroke-width":k+"px"};break;case"x":T=o*Math.sqrt(2),A=o*Math.sqrt(2),w="M-"+T/4+","+A/4+"l"+T/2+",-"+A/2+"M0,"+A+"L"+T+",0M"+T/4*3+","+A/4*5+"l"+T/2+",-"+A/2+"M"+T/4*3+",-"+A/4+"l"+T/2+","+A/2+"M0,0L"+T+","+A+"M-"+T/4+","+A/4*3+"l"+T/2+","+A/2,k=o-o*Math.sqrt(1-i),M="path",d={d:w,opacity:S,stroke:p,"stroke-width":k+"px"};break;case"|":T=o,A=o,M="path",w="M"+T/2+",0L"+T/2+","+A,k=i*o,M="path",d={d:w,opacity:S,stroke:p,"stroke-width":k+"px"};break;case"-":T=o,A=o,M="path",w="M0,"+A/2+"L"+T+","+A/2,k=i*o,M="path",d={d:w,opacity:S,stroke:p,"stroke-width":k+"px"};break;case"+":T=o,A=o,M="path",w="M"+T/2+",0L"+T/2+","+A+"M0,"+A/2+"L"+T+","+A/2,k=o-o*Math.sqrt(1-i),M="path",d={d:w,opacity:S,stroke:p,"stroke-width":k+"px"};break;case".":T=o,A=o,i<Math.PI/4?y=Math.sqrt(i*o*o/Math.PI):y=m(i,Math.PI/4,1,o/2,o/Math.sqrt(2)),M="circle",d={cx:T/2,cy:A/2,r:y,opacity:S,fill:p};break}var h=[a||"noSh",s||"noBg",f||"noFg",o,i].join(";"),R=b._defs.select(".patterns").selectAll("#"+x).data([h],pt.identity);R.exit().remove(),R.enter().append("pattern").each(function(){var E=fn.select(this);if(E.attr({id:x,width:T+"px",height:A+"px",patternUnits:"userSpaceOnUse",patternTransform:g?"scale(0.8)":""}),s){var D=i2(s),N=Mn.tinyRGB(D),I=D.getAlpha(),F=E.selectAll("rect").data([0]);F.exit().remove(),F.enter().append("rect").attr({width:T+"px",height:A+"px",fill:N,"fill-opacity":I})}var L=E.selectAll(M).data([0]);L.exit().remove(),L.enter().append(M).attr(d)}),e.style("fill",o2(x,t)).style("fill-opacity",null),e.classed("pattern_filled",!0)};ur.initGradients=function(e){var r=e._fullLayout,t=pt.ensureSingle(r._defs,"g","gradients");t.selectAll("linearGradient,radialGradient").remove(),fn.select(e).selectAll(".gradient_filled").classed("gradient_filled",!1)};ur.initPatterns=function(e){var r=e._fullLayout,t=pt.ensureSingle(r._defs,"g","patterns");t.selectAll("pattern").remove(),fn.select(e).selectAll(".pattern_filled").classed("pattern_filled",!1)};ur.getPatternAttr=function(e,r,t){return e&&pt.isArrayOrTypedArray(e)?r<e.length?e[r]:t:e};ur.pointStyle=function(e,r,t,n){if(e.size()){var a=ur.makePointStyleFns(r);e.each(function(o){ur.singlePointStyle(o,fn.select(this),r,a,t,n)})}};ur.singlePointStyle=function(e,r,t,n,a,o){var i=t.marker,l=i.line;if(o&&o.i>=0&&e.i===void 0&&(e.i=o.i),r.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(e):e.mo===void 0?i.opacity:e.mo),n.ms2mrc){var u;e.ms==="various"||i.size==="various"?u=3:u=n.ms2mrc(e.ms),e.mrc=u,n.selectedSizeFn&&(u=e.mrc=n.selectedSizeFn(e));var s=ur.symbolNumber(e.mx||i.symbol)||0;e.om=s%200>=100;var f=s2(e,t),v=l2(e,t);r.attr("d",rT(s,u,f,v))}var g=!1,b,x,T;if(e.so)T=l.outlierwidth,x=l.outliercolor,b=i.outliercolor;else{var A=(l||{}).width;T=(e.mlw+1||A+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in e?x=e.mlcc=n.lineScale(e.mlc):pt.isArrayOrTypedArray(l.color)?x=Mn.defaultLine:x=l.color,pt.isArrayOrTypedArray(i.color)&&(b=Mn.defaultLine,g=!0),"mc"in e?b=e.mcc=n.markerScale(e.mc):b=i.color||i.colors||"rgba(0,0,0,0)",n.selectedColorFn&&(b=n.selectedColorFn(e))}if(e.om)r.call(Mn.stroke,b).style({"stroke-width":(T||1)+"px",fill:"none"});else{r.style("stroke-width",(e.isBlank?0:T)+"px");var m=i.gradient,w=e.mgt;w?g=!0:w=m&&m.type,pt.isArrayOrTypedArray(w)&&(w=w[0],tT[w]||(w=0));var k=i.pattern,y=k&&ur.getPatternAttr(k.shape,e.i,"");if(w&&w!=="none"){var M=e.mgc;M?g=!0:M=m.color;var d=t.uid;g&&(d+="-"+e.i),ur.gradient(r,a,d,w,[[0,M],[1,b]],"fill")}else if(y){var _=!1,p=k.fgcolor;!p&&o&&o.color&&(p=o.color,_=!0);var c=ur.getPatternAttr(p,e.i,o&&o.color||null),S=ur.getPatternAttr(k.bgcolor,e.i,null),h=k.fgopacity,R=ur.getPatternAttr(k.size,e.i,8),E=ur.getPatternAttr(k.solidity,e.i,.3);_=_||e.mcc||pt.isArrayOrTypedArray(k.shape)||pt.isArrayOrTypedArray(k.bgcolor)||pt.isArrayOrTypedArray(k.fgcolor)||pt.isArrayOrTypedArray(k.size)||pt.isArrayOrTypedArray(k.solidity);var D=t.uid;_&&(D+="-"+e.i),ur.pattern(r,"point",a,D,y,R,E,e.mcc,k.fillmode,S,c,h)}else pt.isArrayOrTypedArray(b)?Mn.fill(r,b[e.i]):Mn.fill(r,b);T&&Mn.stroke(r,x)}};ur.makePointStyleFns=function(e){var r={},t=e.marker;return r.markerScale=ur.tryColorscale(t,""),r.lineScale=ur.tryColorscale(t,"line"),Gv.traceIs(e,"symbols")&&(r.ms2mrc=ZW.isBubble(e)?JW(e):function(){return(t.size||6)/2}),e.selectedpoints&&pt.extendFlat(r,ur.makeSelectedPointStyleFns(e)),r};ur.makeSelectedPointStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.marker||{},o=t.marker||{},i=n.marker||{},l=a.opacity,u=o.opacity,s=i.opacity,f=u!==void 0,v=s!==void 0;(pt.isArrayOrTypedArray(l)||f||v)&&(r.selectedOpacityFn=function(y){var M=y.mo===void 0?a.opacity:y.mo;return y.selected?f?u:M:v?s:j8*M});var g=a.color,b=o.color,x=i.color;(b||x)&&(r.selectedColorFn=function(y){var M=y.mcc||g;return y.selected?b||M:x||M});var T=a.size,A=o.size,m=i.size,w=A!==void 0,k=m!==void 0;return Gv.traceIs(e,"symbols")&&(w||k)&&(r.selectedSizeFn=function(y){var M=y.mrc||T/2;return y.selected?w?A/2:M:k?m/2:M}),r};ur.makeSelectedTextStyleFns=function(e){var r={},t=e.selected||{},n=e.unselected||{},a=e.textfont||{},o=t.textfont||{},i=n.textfont||{},l=a.color,u=o.color,s=i.color;return r.selectedTextColorFn=function(f){var v=f.tc||l;return f.selected?u||v:s||(u?v:Mn.addOpacity(v,j8))},r};ur.selectedPointStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=ur.makeSelectedPointStyleFns(r),n=r.marker||{},a=[];t.selectedOpacityFn&&a.push(function(o,i){o.style("opacity",t.selectedOpacityFn(i))}),t.selectedColorFn&&a.push(function(o,i){Mn.fill(o,t.selectedColorFn(i))}),t.selectedSizeFn&&a.push(function(o,i){var l=i.mx||n.symbol||0,u=t.selectedSizeFn(i);o.attr("d",rT(ur.symbolNumber(l),u,s2(i,r),l2(i,r))),i.mrc2=u}),a.length&&e.each(function(o){for(var i=fn.select(this),l=0;l<a.length;l++)a[l](i,o)})}};ur.tryColorscale=function(e,r){var t=r?pt.nestedProperty(e,r).get():e;if(t){var n=t.color;if((t.colorscale||t._colorAx)&&pt.isArrayOrTypedArray(n))return GW.makeColorScaleFuncFromTrace(t)}return pt.identity};var r2={start:1,end:-1,middle:0,bottom:1,top:-1};function aT(e,r,t,n,a){var o=fn.select(e.node().parentNode),i=r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle",l=r.indexOf("left")!==-1?"end":r.indexOf("right")!==-1?"start":"middle",u=n?n/.8+1:0,s=(Yv.lineCount(e)-1)*XW+1,f=r2[l]*u,v=t*.75+r2[i]*u+(r2[i]-1)*s*t/2;e.attr("text-anchor",l),a||o.attr("transform",Gf(f,v))}function iT(e,r){var t=e.ts||r.textfont.size;return Jl(t)&&t>0?t:0}ur.textPointStyle=function(e,r,t){if(e.size()){var n;if(r.selectedpoints){var a=ur.makeSelectedTextStyleFns(r);n=a.selectedTextColorFn}var o=r.texttemplate,i=t._fullLayout;e.each(function(l){var u=fn.select(this),s=o?pt.extractOption(l,r,"txt","texttemplate"):pt.extractOption(l,r,"tx","text");if(!s&&s!==0){u.remove();return}if(o){var f=r._module.formatLabels,v=f?f(l,r,i):{},g={};KW(g,r,l.i);var b=r._meta||{};s=pt.texttemplateString(s,v,i._d3locale,g,l,b)}var x=l.tp||r.textposition,T=iT(l,r),A=n?n(l):l.tc||r.textfont.color;u.call(ur.font,{family:l.tf||r.textfont.family,weight:l.tw||r.textfont.weight,style:l.ty||r.textfont.style,variant:l.tv||r.textfont.variant,textcase:l.tC||r.textfont.textcase,lineposition:l.tE||r.textfont.lineposition,shadow:l.tS||r.textfont.shadow,size:T,color:A}).text(s).call(Yv.convertToTspans,t).call(aT,x,T,l.mrc)})}};ur.selectedTextStyle=function(e,r){if(!(!e.size()||!r.selectedpoints)){var t=ur.makeSelectedTextStyleFns(r);e.each(function(n){var a=fn.select(this),o=t.selectedTextColorFn(n),i=n.tp||r.textposition,l=iT(n,r);Mn.fill(a,o);var u=Gv.traceIs(r,"bar-like");aT(a,i,l,n.mrc2||n.mrc,u)})}};var W8=.5;ur.smoothopen=function(e,r){if(e.length<3)return"M"+e.join("L");var t="M"+e[0],n=[],a;for(a=1;a<e.length-1;a++)n.push(Vv(e[a-1],e[a],e[a+1],r));for(t+="Q"+n[0][0]+" "+e[1],a=2;a<e.length-1;a++)t+="C"+n[a-2][1]+" "+n[a-1][0]+" "+e[a];return t+="Q"+n[e.length-3][1]+" "+e[e.length-1],t};ur.smoothclosed=function(e,r){if(e.length<3)return"M"+e.join("L")+"Z";var t="M"+e[0],n=e.length-1,a=[Vv(e[n],e[0],e[1],r)],o;for(o=1;o<n;o++)a.push(Vv(e[o-1],e[o],e[o+1],r));for(a.push(Vv(e[n-1],e[n],e[0],r)),o=1;o<=n;o++)t+="C"+a[o-1][1]+" "+a[o][0]+" "+e[o];return t+="C"+a[n][1]+" "+a[0][0]+" "+e[0]+"Z",t};var oT,lT;function lu(e,r,t){return t&&(e=sT(e)),r?Zl(e[1]):Xl(e[0])}function Xl(e){var r=fn.round(e,2);return oT=r,r}function Zl(e){var r=fn.round(e,2);return lT=r,r}function Vv(e,r,t,n){var a=e[0]-r[0],o=e[1]-r[1],i=t[0]-r[0],l=t[1]-r[1],u=Math.pow(a*a+o*o,W8/2),s=Math.pow(i*i+l*l,W8/2),f=(s*s*a-u*u*i)*n,v=(s*s*o-u*u*l)*n,g=3*s*(u+s),b=3*u*(u+s);return[[Xl(r[0]+(g&&f/g)),Zl(r[1]+(g&&v/g))],[Xl(r[0]-(b&&f/b)),Zl(r[1]-(b&&v/b))]]}var tX={hv:function(e,r,t){return"H"+Xl(r[0])+"V"+lu(r,1,t)},vh:function(e,r,t){return"V"+Zl(r[1])+"H"+lu(r,0,t)},hvh:function(e,r,t){return"H"+Xl((e[0]+r[0])/2)+"V"+Zl(r[1])+"H"+lu(r,0,t)},vhv:function(e,r,t){return"V"+Zl((e[1]+r[1])/2)+"H"+Xl(r[0])+"V"+lu(r,1,t)}},nX=function(e,r,t){return"L"+lu(r,0,t)+","+lu(r,1,t)};ur.steps=function(e){var r=tX[e]||nX;return function(t){for(var n="M"+Xl(t[0][0])+","+Zl(t[0][1]),a=t.length,o=1;o<a;o++)n+=r(t[o-1],t[o],o===a-1);return n}};function sT(e,r){var t=e.backoff,n=e.trace,a=e.d,o=e.i;if(t&&n&&n.marker&&n.marker.angle%360===0&&n.line&&n.line.shape!=="spline"){var i=pt.isArrayOrTypedArray(t),l=e,u=r?r[0]:oT||0,s=r?r[1]:lT||0,f=l[0],v=l[1],g=f-u,b=v-s,x=Math.atan2(b,g),T=i?t[o]:t;if(T==="auto"){var A=l.i;n.type==="scatter"&&A--;var m=l.marker,w=m.symbol;pt.isArrayOrTypedArray(w)&&(w=w[A]);var k=m.size;pt.isArrayOrTypedArray(k)&&(k=k[A]),T=m?ur.symbolBackOffs[ur.symbolNumber(w)]*k:0,T+=ur.getMarkerStandoff(a[A],n)||0}var y=f-T*Math.cos(x),M=v-T*Math.sin(x);(y<=f&&y>=u||y>=f&&y<=u)&&(M<=v&&M>=s||M>=v&&M<=s)&&(e=[y,M])}return e}ur.applyBackoff=sT;ur.makeTester=function(){var e=pt.ensureSingleById(fn.select("body"),"svg","js-plotly-tester",function(t){t.attr(YW.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),r=pt.ensureSingle(e,"path","js-reference-point",function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});ur.tester=e,ur.testref=r};ur.savedBBoxes={};var t2=0,aX=1e4;ur.bBox=function(e,r,t){t||(t=X8(e));var n;if(t){if(n=ur.savedBBoxes[t],n)return pt.extendFlat({},n)}else if(e.childNodes.length===1){var a=e.childNodes[0];if(t=X8(a),t){var o=+a.getAttribute("x")||0,i=+a.getAttribute("y")||0,l=a.getAttribute("transform");if(!l){var u=ur.bBox(a,!1,t);return o&&(u.left+=o,u.right+=o),i&&(u.top+=i,u.bottom+=i),u}if(t+="~"+o+"~"+i+"~"+l,n=ur.savedBBoxes[t],n)return pt.extendFlat({},n)}}var s,f;r?s=e:(f=ur.tester.node(),s=e.cloneNode(!0),f.appendChild(s)),fn.select(s).attr("transform",null).call(Yv.positionText,0,0);var v=s.getBoundingClientRect(),g=ur.testref.node().getBoundingClientRect();r||f.removeChild(s);var b={height:v.height,width:v.width,left:v.left-g.left,top:v.top-g.top,right:v.right-g.left,bottom:v.bottom-g.top};return t2>=aX&&(ur.savedBBoxes={},t2=0),t&&(ur.savedBBoxes[t]=b),t2++,pt.extendFlat({},b)};function X8(e){var r=e.getAttribute("data-unformatted");if(r!==null)return r+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}ur.setClipUrl=function(e,r,t){e.attr("clip-path",o2(r,t))};function o2(e,r){if(!e)return null;var t=r._context,n=t._exportedPlot?"":t._baseUrl||"";return n?"url('"+n+"#"+e+"')":"url(#"+e+")"}ur.getTranslate=function(e){var r=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}};ur.setTranslate=function(e,r,t){var n=/(\btranslate\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||0,t=t||0,i=i.replace(n,"").trim(),i+=Gf(r,t),i=i.trim(),e[o]("transform",i),i};ur.getScale=function(e){var r=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,t=e.attr?"attr":"getAttribute",n=e[t]("transform")||"",a=n.replace(r,function(o,i,l){return[i,l].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}};ur.setScale=function(e,r,t){var n=/(\bscale\(.*?\);?)/,a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return r=r||1,t=t||1,i=i.replace(n,"").trim(),i+="scale("+r+","+t+")",i=i.trim(),e[o]("transform",i),i};var iX=/\s*sc.*/;ur.setPointGroupScale=function(e,r,t){if(r=r||1,t=t||1,!!e){var n=r===1&&t===1?"":"scale("+r+","+t+")";e.each(function(){var a=(this.getAttribute("transform")||"").replace(iX,"");a+=n,a=a.trim(),this.setAttribute("transform",a)})}};var oX=/translate\([^)]*\)\s*$/;ur.setTextPointsScale=function(e,r,t){e&&e.each(function(){var n,a=fn.select(this),o=a.select("text");if(o.node()){var i=parseFloat(o.attr("x")||0),l=parseFloat(o.attr("y")||0),u=(a.attr("transform")||"").match(oX);r===1&&t===1?n=[]:n=[Gf(i,l),"scale("+r+","+t+")",Gf(-i,-l)],u&&n.push(u),a.attr("transform",n.join(""))}})};function l2(e,r){var t;return e&&(t=e.mf),t===void 0&&(t=r.marker&&r.marker.standoff||0),!r._geo&&!r._xA?-t:t}ur.getMarkerStandoff=l2;var Vf=Math.atan2,Wl=Math.cos,su=Math.sin;function Z8(e,r){var t=r[0],n=r[1];return[t*Wl(e)-n*su(e),t*su(e)+n*Wl(e)]}var J8,K8,Q8,$8,n2,a2;function s2(e,r){var t=e.ma;t===void 0&&(t=r.marker.angle,(!t||pt.isArrayOrTypedArray(t))&&(t=0));var n,a,o=r.marker.angleref;if(o==="previous"||o==="north"){if(r._geo){var i=r._geo.project(e.lonlat);n=i[0],a=i[1]}else{var l=r._xA,u=r._yA;if(l&&u)n=l.c2p(e.x),a=u.c2p(e.y);else return 90}if(r._geo){var s=e.lonlat[0],f=e.lonlat[1],v=r._geo.project([s,f+1e-5]),g=r._geo.project([s+1e-5,f]),b=Vf(g[1]-a,g[0]-n),x=Vf(v[1]-a,v[0]-n),T;if(o==="north")T=t/180*Math.PI;else if(o==="previous"){var A=s/180*Math.PI,m=f/180*Math.PI,w=J8/180*Math.PI,k=K8/180*Math.PI,y=w-A,M=Wl(k)*su(y),d=su(k)*Wl(m)-Wl(k)*su(m)*Wl(y);T=-Vf(M,d)-Math.PI,J8=s,K8=f}var _=Z8(b,[Wl(T),0]),p=Z8(x,[su(T),0]);t=Vf(_[1]+p[1],_[0]+p[0])/Math.PI*180,o==="previous"&&!(a2===r.uid&&e.i===n2+1)&&(t=null)}if(o==="previous"&&!r._geo)if(a2===r.uid&&e.i===n2+1&&Jl(n)&&Jl(a)){var c=n-Q8,S=a-$8,h=r.line&&r.line.shape||"",R=h.slice(h.length-1);R==="h"&&(S=0),R==="v"&&(c=0),t+=Vf(S,c)/Math.PI*180+90}else t=null}return Q8=n,$8=a,n2=e.i,a2=r.uid,t}ur.getMarkerAngle=s2});var Yf=pe((Ive,hT)=>{"use strict";var uu=it(),lX=rt(),sX=nn(),u2=Cr(),Kl=ir(),fT=Kl.strTranslate,Wv=yt(),Xv=Kr(),fu=Xn(),cT=tv(),uX=Bn().OPPOSITE_SIDE,vT=/ [XY][0-9]* /,f2=1.6,c2=1.6;function fX(e,r,t){var n=e._fullLayout,a=t.propContainer,o=t.propName,i=t.placeholder,l=t.traceIndex,u=t.avoid||{},s=t.attributes,f=t.transform,v=t.containerGroup,g=1,b=a.title,x=(b&&b.text?b.text:"").trim(),T=!1,A=b&&b.font?b.font:{},m=A.family,w=A.size,k=A.color,y=A.weight,M=A.style,d=A.variant,_=A.textcase,p=A.lineposition,c=A.shadow,S=t.subtitlePropName,h=!!S,R=t.subtitlePlaceholder,E=(a.title||{}).subtitle||{text:"",font:{}},D=E.text.trim(),N=!1,I=1,F=E.font,L=F.family,P=F.size,q=F.color,U=F.weight,W=F.style,j=F.variant,$=F.textcase,G=F.lineposition,O=F.shadow,Z;o==="title.text"?Z="titleText":o.indexOf("axis")!==-1?Z="axisTitleText":o.indexOf("colorbar"!==-1)&&(Z="colorbarTitleText");var ne=e._context.edits[Z];function Q(Se,De){return Se===void 0||De===void 0?!1:Se.replace(vT," % ")===De.replace(vT," % ")}x===""?g=0:Q(x,i)&&(ne||(x=""),g=.2,T=!0),h&&(D===""?I=0:Q(D,R)&&(ne||(D=""),I=.2,N=!0)),t._meta?x=Kl.templateString(x,t._meta):n._meta&&(x=Kl.templateString(x,n._meta));var ie=x||D||ne,ee;v||(v=Kl.ensureSingle(n._infolayer,"g","g-"+r),ee=n._hColorbarMoveTitle);var V=v.selectAll("text."+r).data(ie?[0]:[]);V.enter().append("text"),V.text(x).attr("class",r),V.exit().remove();var re=null,H=r+"-subtitle",te=D||ne;if(h&&te&&(re=v.selectAll("text."+H).data(te?[0]:[]),re.enter().append("text"),re.text(D).attr("class",H),re.exit().remove()),!ie)return v;function se(Se,De){Kl.syncOrAsync([he,ke],{title:Se,subtitle:De})}function he(Se){var De=Se.title,Ce=Se.subtitle,Oe;!f&&ee&&(f={}),f?(Oe="",f.rotate&&(Oe+="rotate("+[f.rotate,s.x,s.y]+")"),(f.offset||ee)&&(Oe+=fT(0,(f.offset||0)-(ee||0)))):Oe=null,De.attr("transform",Oe);function Be(me){if(me){var de=uu.select(me.node().parentNode).select("."+H);if(!de.empty()){var be=me.node().getBBox();if(be.height){var Ee=be.y+be.height+f2*P;de.attr("y",Ee)}}}}if(De.style("opacity",g*Xv.opacity(k)).call(Wv.font,{color:Xv.rgb(k),size:uu.round(w,2),family:m,weight:y,style:M,variant:d,textcase:_,shadow:c,lineposition:p}).attr(s).call(fu.convertToTspans,e,Be),Ce){var ge=v.select("."+r+"-math-group"),Ae=De.node().getBBox(),ce=ge.node()?ge.node().getBBox():void 0,ye=ce?ce.y+ce.height+f2*P:Ae.y+Ae.height+c2*P,Le=Kl.extendFlat({},s,{y:ye});Ce.attr("transform",Oe),Ce.style("opacity",I*Xv.opacity(q)).call(Wv.font,{color:Xv.rgb(q),size:uu.round(P,2),family:L,weight:U,style:W,variant:j,textcase:$,shadow:O,lineposition:G}).attr(Le).call(fu.convertToTspans,e)}return sX.previousPromises(e)}function ke(Se){var De=Se.title,Ce=uu.select(De.node().parentNode);if(u&&u.selection&&u.side&&x){Ce.attr("transform",null);var Oe=uX[u.side],Be=u.side==="left"||u.side==="top"?-1:1,ge=lX(u.pad)?u.pad:2,Ae=Wv.bBox(Ce.node()),ce={t:0,b:0,l:0,r:0},ye=e._fullLayout._reservedMargin;for(var Le in ye)for(var me in ye[Le]){var de=ye[Le][me];ce[me]=Math.max(ce[me],de)}var be={left:ce.l,top:ce.t,right:n.width-ce.r,bottom:n.height-ce.b},Ee=u.maxShift||Be*(be[u.side]-Ae[u.side]),ze=0;if(Ee<0)ze=Ee;else{var Fe=u.offsetLeft||0,Je=u.offsetTop||0;Ae.left-=Fe,Ae.right-=Fe,Ae.top-=Je,Ae.bottom-=Je,u.selection.each(function(){var Ge=Wv.bBox(this);Kl.bBoxIntersect(Ae,Ge,ge)&&(ze=Math.max(ze,Be*(Ge[u.side]-Ae[Oe])+ge))}),ze=Math.min(Ee,ze),a._titleScoot=Math.abs(ze)}if(ze>0||Ee<0){var Ye={left:[-ze,0],right:[ze,0],top:[0,-ze],bottom:[0,ze]}[u.side];Ce.attr("transform",fT(Ye[0],Ye[1]))}}}V.call(se,re);function we(Se,De){Se.text(De).on("mouseover.opacity",function(){uu.select(this).transition().duration(cT.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){uu.select(this).transition().duration(cT.HIDE_PLACEHOLDER).style("opacity",0)})}if(ne&&(x?V.on(".opacity",null):(we(V,i),T=!0),V.call(fu.makeEditable,{gd:e}).on("edit",function(Se){l!==void 0?u2.call("_guiRestyle",e,o,Se,l):u2.call("_guiRelayout",e,o,Se)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(se)}).on("input",function(Se){this.text(Se||" ").call(fu.positionText,s.x,s.y)}),h)){if(h&&!x){var ve=V.node().getBBox(),Me=ve.y+ve.height+c2*P;re.attr("y",Me)}D?re.on(".opacity",null):(we(re,R),N=!0),re.call(fu.makeEditable,{gd:e}).on("edit",function(Se){u2.call("_guiRelayout",e,"title.subtitle.text",Se)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(se)}).on("input",function(Se){this.text(Se||" ").call(fu.positionText,re.attr("x"),re.attr("y"))})}return V.classed("js-placeholder",T),re&&re.classed("js-placeholder",N),v}hT.exports={draw:fX,SUBTITLE_PADDING_EM:c2,SUBTITLE_PADDING_MATHJAX_EM:f2}});var rh=pe((Nve,mT)=>{"use strict";var cX=it(),vX=Us().utcFormat,mt=ir(),hX=mt.numberFormat,Ii=rt(),Yo=mt.cleanNumber,dX=mt.ms2DateTime,dT=mt.dateTime2ms,Ni=mt.ensureNumber,pT=mt.isArrayOrTypedArray,Wo=Xt(),Zv=Wo.FP_SAFE,ii=Wo.BADNUM,pX=Wo.LOG_CLIP,gX=Wo.ONEWEEK,Jv=Wo.ONEDAY,Kv=Wo.ONEHOUR,gT=Wo.ONEMIN,yT=Wo.ONESEC,Qv=un(),eh=Tn(),$v=eh.HOUR_PATTERN,jv=eh.WEEKDAY_PATTERN;function Wf(e){return Math.pow(10,e)}function v2(e){return e!=null}mT.exports=function(r,t){t=t||{};var n=r._id||"x",a=n.charAt(0);function o(y,M){if(y>0)return Math.log(y)/Math.LN10;if(y<=0&&M&&r.range&&r.range.length===2){var d=r.range[0],_=r.range[1];return .5*(d+_-2*pX*Math.abs(d-_))}else return ii}function i(y,M,d,_){if((_||{}).msUTC&&Ii(y))return+y;var p=dT(y,d||r.calendar);if(p===ii)if(Ii(y)){y=+y;var c=Math.floor(mt.mod(y+.05,1)*10),S=Math.round(y-c/10);p=dT(new Date(S))+c/10}else return ii;return p}function l(y,M,d){return dX(y,M,d||r.calendar)}function u(y){return r._categories[Math.round(y)]}function s(y){if(v2(y)){if(r._categoriesMap===void 0&&(r._categoriesMap={}),r._categoriesMap[y]!==void 0)return r._categoriesMap[y];r._categories.push(typeof y=="number"?String(y):y);var M=r._categories.length-1;return r._categoriesMap[y]=M,M}return ii}function f(y,M){for(var d=new Array(M),_=0;_<M;_++){var p=(y[0]||[])[_],c=(y[1]||[])[_];d[_]=v([p,c])}return d}function v(y){if(r._categoriesMap)return r._categoriesMap[y]}function g(y){var M=v(y);if(M!==void 0)return M;if(Ii(y))return+y}function b(y){return Ii(y)?+y:v(y)}function x(y,M,d){return cX.round(d+M*y,2)}function T(y,M,d){return(y-d)/M}var A=function(M){return Ii(M)?x(M,r._m,r._b):ii},m=function(y){return T(y,r._m,r._b)};if(r.rangebreaks){var w=a==="y";A=function(y){if(!Ii(y))return ii;var M=r._rangebreaks.length;if(!M)return x(y,r._m,r._b);var d=w;r.range[0]>r.range[1]&&(d=!d);for(var _=d?-1:1,p=_*y,c=0,S=0;S<M;S++){var h=_*r._rangebreaks[S].min,R=_*r._rangebreaks[S].max;if(p<h)break;if(p>R)c=S+1;else{c=p<(h+R)/2?S:S+1;break}}var E=r._B[c]||0;return isFinite(E)?x(y,r._m2,E):0},m=function(y){var M=r._rangebreaks.length;if(!M)return T(y,r._m,r._b);for(var d=0,_=0;_<M&&!(y<r._rangebreaks[_].pmin);_++)y>r._rangebreaks[_].pmax&&(d=_+1);return T(y,r._m2,r._B[d])}}r.c2l=r.type==="log"?o:Ni,r.l2c=r.type==="log"?Wf:Ni,r.l2p=A,r.p2l=m,r.c2p=r.type==="log"?function(y,M){return A(o(y,M))}:A,r.p2c=r.type==="log"?function(y){return Wf(m(y))}:m,["linear","-"].indexOf(r.type)!==-1?(r.d2r=r.r2d=r.d2c=r.r2c=r.d2l=r.r2l=Yo,r.c2d=r.c2r=r.l2d=r.l2r=Ni,r.d2p=r.r2p=function(y){return r.l2p(Yo(y))},r.p2d=r.p2r=m,r.cleanPos=Ni):r.type==="log"?(r.d2r=r.d2l=function(y,M){return o(Yo(y),M)},r.r2d=r.r2c=function(y){return Wf(Yo(y))},r.d2c=r.r2l=Yo,r.c2d=r.l2r=Ni,r.c2r=o,r.l2d=Wf,r.d2p=function(y,M){return r.l2p(r.d2r(y,M))},r.p2d=function(y){return Wf(m(y))},r.r2p=function(y){return r.l2p(Yo(y))},r.p2r=m,r.cleanPos=Ni):r.type==="date"?(r.d2r=r.r2d=mt.identity,r.d2c=r.r2c=r.d2l=r.r2l=i,r.c2d=r.c2r=r.l2d=r.l2r=l,r.d2p=r.r2p=function(y,M,d){return r.l2p(i(y,0,d))},r.p2d=r.p2r=function(y,M,d){return l(m(y),M,d)},r.cleanPos=function(y){return mt.cleanDate(y,ii,r.calendar)}):r.type==="category"?(r.d2c=r.d2l=s,r.r2d=r.c2d=r.l2d=u,r.d2r=r.d2l_noadd=g,r.r2c=function(y){var M=b(y);return M!==void 0?M:r.fraction2r(.5)},r.l2r=r.c2r=Ni,r.r2l=b,r.d2p=function(y){return r.l2p(r.r2c(y))},r.p2d=function(y){return u(m(y))},r.r2p=r.d2p,r.p2r=m,r.cleanPos=function(y){return typeof y=="string"&&y!==""?y:Ni(y)}):r.type==="multicategory"&&(r.r2d=r.c2d=r.l2d=u,r.d2r=r.d2l_noadd=g,r.r2c=function(y){var M=g(y);return M!==void 0?M:r.fraction2r(.5)},r.r2c_just_indices=v,r.l2r=r.c2r=Ni,r.r2l=g,r.d2p=function(y){return r.l2p(r.r2c(y))},r.p2d=function(y){return u(m(y))},r.r2p=r.d2p,r.p2r=m,r.cleanPos=function(y){return Array.isArray(y)||typeof y=="string"&&y!==""?y:Ni(y)},r.setupMultiCategory=function(y){var M=r._traceIndices,d,_,p=r._matchGroup;if(p&&r._categories.length===0){for(var c in p)if(c!==n){var S=t[Qv.id2name(c)];M=M.concat(S._traceIndices)}}var h=[[0,{}],[0,{}]],R=[];for(d=0;d<M.length;d++){var E=y[M[d]];if(a in E){var D=E[a],N=E._length||mt.minRowLength(D);if(pT(D[0])&&pT(D[1]))for(_=0;_<N;_++){var I=D[0][_],F=D[1][_];v2(I)&&v2(F)&&(R.push([I,F]),I in h[0][1]||(h[0][1][I]=h[0][0]++),F in h[1][1]||(h[1][1][F]=h[1][0]++))}}}for(R.sort(function(L,P){var q=h[0][1],U=q[L[0]]-q[P[0]];if(U)return U;var W=h[1][1];return W[L[1]]-W[P[1]]}),d=0;d<R.length;d++)s(R[d])}),r.fraction2r=function(y){var M=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return r.l2r(M+y*(d-M))},r.r2fraction=function(y){var M=r.r2l(r.range[0]),d=r.r2l(r.range[1]);return(r.r2l(y)-M)/(d-M)},r.limitRange=function(y){var M=r.minallowed,d=r.maxallowed;if(!(M===void 0&&d===void 0)){y||(y="range");var _=mt.nestedProperty(r,y).get(),p=mt.simpleMap(_,r.r2l),c=p[1]<p[0];c&&p.reverse();var S=mt.simpleMap([M,d],r.r2l);if(M!==void 0&&p[0]<S[0]&&(_[c?1:0]=M),d!==void 0&&p[1]>S[1]&&(_[c?0:1]=d),_[0]===_[1]){var h=r.l2r(M),R=r.l2r(d);if(M!==void 0){var E=h+1;d!==void 0&&(E=Math.min(E,R)),_[c?1:0]=E}if(d!==void 0){var D=R+1;M!==void 0&&(D=Math.max(D,h)),_[c?0:1]=D}}}},r.cleanRange=function(y,M){r._cleanRange(y,M),r.limitRange(y)},r._cleanRange=function(y,M){M||(M={}),y||(y="range");var d=mt.nestedProperty(r,y).get(),_,p;if(r.type==="date"?p=mt.dfltRange(r.calendar):a==="y"?p=eh.DFLTRANGEY:r._name==="realaxis"?p=[0,1]:p=M.dfltRange||eh.DFLTRANGEX,p=p.slice(),(r.rangemode==="tozero"||r.rangemode==="nonnegative")&&(p[0]=0),!d||d.length!==2){mt.nestedProperty(r,y).set(p);return}var c=d[0]===null,S=d[1]===null;for(r.type==="date"&&!r.autorange&&(d[0]=mt.cleanDate(d[0],ii,r.calendar),d[1]=mt.cleanDate(d[1],ii,r.calendar)),_=0;_<2;_++)if(r.type==="date"){if(!mt.isDateTime(d[_],r.calendar)){r[y]=p;break}if(r.r2l(d[0])===r.r2l(d[1])){var h=mt.constrain(r.r2l(d[0]),mt.MIN_MS+1e3,mt.MAX_MS-1e3);d[0]=r.l2r(h-1e3),d[1]=r.l2r(h+1e3);break}}else{if(!Ii(d[_]))if(!(c||S)&&Ii(d[1-_]))d[_]=d[1-_]*(_?10:.1);else{r[y]=p;break}if(d[_]<-Zv?d[_]=-Zv:d[_]>Zv&&(d[_]=Zv),d[0]===d[1]){var R=Math.max(1,Math.abs(d[0]*1e-6));d[0]-=R,d[1]+=R}}},r.setScale=function(y){var M=t._size;if(r.overlaying){var d=Qv.getFromId({_fullLayout:t},r.overlaying);r.domain=d.domain}var _=y&&r._r?"_r":"range",p=r.calendar;r.cleanRange(_);var c=r.r2l(r[_][0],p),S=r.r2l(r[_][1],p),h=a==="y";if(h?(r._offset=M.t+(1-r.domain[1])*M.h,r._length=M.h*(r.domain[1]-r.domain[0]),r._m=r._length/(c-S),r._b=-r._m*S):(r._offset=M.l+r.domain[0]*M.w,r._length=M.w*(r.domain[1]-r.domain[0]),r._m=r._length/(S-c),r._b=-r._m*c),r._rangebreaks=[],r._lBreaks=0,r._m2=0,r._B=[],r.rangebreaks){var R,E;if(r._rangebreaks=r.locateBreaks(Math.min(c,S),Math.max(c,S)),r._rangebreaks.length){for(R=0;R<r._rangebreaks.length;R++)E=r._rangebreaks[R],r._lBreaks+=Math.abs(E.max-E.min);var D=h;c>S&&(D=!D),D&&r._rangebreaks.reverse();var N=D?-1:1;for(r._m2=N*r._length/(Math.abs(S-c)-r._lBreaks),r._B.push(-r._m2*(h?S:c)),R=0;R<r._rangebreaks.length;R++)E=r._rangebreaks[R],r._B.push(r._B[r._B.length-1]-N*r._m2*(E.max-E.min));for(R=0;R<r._rangebreaks.length;R++)E=r._rangebreaks[R],E.pmin=A(E.min),E.pmax=A(E.max)}}if(!isFinite(r._m)||!isFinite(r._b)||r._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},r.maskBreaks=function(y){var M=r.rangebreaks||[],d,_,p,c,S;M._cachedPatterns||(M._cachedPatterns=M.map(function(q){return q.enabled&&q.bounds?mt.simpleMap(q.bounds,q.pattern?Yo:r.d2c):null})),M._cachedValues||(M._cachedValues=M.map(function(q){return q.enabled&&q.values?mt.simpleMap(q.values,r.d2c).sort(mt.sorterAsc):null}));for(var h=0;h<M.length;h++){var R=M[h];if(R.enabled){if(R.bounds){var E=R.pattern;switch(d=M._cachedPatterns[h],_=d[0],p=d[1],E){case jv:S=new Date(y),c=S.getUTCDay(),_>p&&(p+=7,c<_&&(c+=7));break;case $v:S=new Date(y);var D=S.getUTCHours(),N=S.getUTCMinutes(),I=S.getUTCSeconds(),F=S.getUTCMilliseconds();c=D+(N/60+I/3600+F/36e5),_>p&&(p+=24,c<_&&(c+=24));break;case"":c=y;break}if(c>=_&&c<p)return ii}else for(var L=M._cachedValues[h],P=0;P<L.length;P++)if(_=L[P],p=_+R.dvalue,y>=_&&y<p)return ii}}return y},r.locateBreaks=function(y,M){var d,_,p,c,S=[];if(!r.rangebreaks)return S;var h=r.rangebreaks.slice().sort(function(W,j){return W.pattern===jv&&j.pattern===$v?-1:j.pattern===jv&&W.pattern===$v?1:0}),R=function(W,j){if(W=mt.constrain(W,y,M),j=mt.constrain(j,y,M),W!==j){for(var $=!0,G=0;G<S.length;G++){var O=S[G];W<O.max&&j>=O.min&&(W<O.min&&(O.min=W),j>O.max&&(O.max=j),$=!1)}$&&S.push({min:W,max:j})}};for(d=0;d<h.length;d++){var E=h[d];if(E.enabled)if(E.bounds){var D=y,N=M;E.pattern&&(D=Math.floor(D)),_=mt.simpleMap(E.bounds,E.pattern?Yo:r.r2l),p=_[0],c=_[1];var I=new Date(D),F,L;switch(E.pattern){case jv:L=gX,F=((c<p?7:0)+(c-p))*Jv,D+=p*Jv-(I.getUTCDay()*Jv+I.getUTCHours()*Kv+I.getUTCMinutes()*gT+I.getUTCSeconds()*yT+I.getUTCMilliseconds());break;case $v:L=Jv,F=((c<p?24:0)+(c-p))*Kv,D+=p*Kv-(I.getUTCHours()*Kv+I.getUTCMinutes()*gT+I.getUTCSeconds()*yT+I.getUTCMilliseconds());break;default:D=Math.min(_[0],_[1]),N=Math.max(_[0],_[1]),L=N-D,F=L}for(var P=D;P<N;P+=L)R(P,P+F)}else for(var q=mt.simpleMap(E.values,r.d2c),U=0;U<q.length;U++)p=q[U],c=p+E.dvalue,R(p,c)}return S.sort(function(W,j){return W.min-j.min}),S},r.makeCalcdata=function(y,M,d){var _,p,c,S,h=r.type,R=h==="date"&&y[M+"calendar"];if(M in y){if(_=y[M],S=y._length||mt.minRowLength(_),mt.isTypedArray(_)&&(h==="linear"||h==="log")){if(S===_.length)return _;if(_.subarray)return _.subarray(0,S)}if(h==="multicategory")return f(_,S);for(p=new Array(S),c=0;c<S;c++)p[c]=r.d2c(_[c],0,R,d)}else{var E=M+"0"in y?r.d2c(y[M+"0"],0,R):0,D=y["d"+M]?Number(y["d"+M]):1;for(_=y[{x:"y",y:"x"}[M]],S=y._length||_.length,p=new Array(S),c=0;c<S;c++)p[c]=E+c*D}if(r.rangebreaks)for(c=0;c<S;c++)p[c]=r.maskBreaks(p[c]);return p},r.isValidRange=function(y,M){return Array.isArray(y)&&y.length===2&&(M&&y[0]===null||Ii(r.r2l(y[0])))&&(M&&y[1]===null||Ii(r.r2l(y[1])))},r.getAutorangeDflt=function(y,M){var d=!r.isValidRange(y,"nullOk");return d&&M&&M.reverseDflt?d="reversed":y&&(y[0]===null&&y[1]===null?d=!0:y[0]===null&&y[1]!==null?d="min":y[0]!==null&&y[1]===null&&(d="max")),d},r.isReversed=function(){var y=r.autorange;return y==="reversed"||y==="min reversed"||y==="max reversed"},r.isPtWithinRange=function(y,M){var d=r.c2l(y[a],null,M),_=r.r2l(r.range[0]),p=r.r2l(r.range[1]);return _<p?_<=d&&d<=p:p<=d&&d<=_},r._emptyCategories=function(){r._categories=[],r._categoriesMap={}},r.clearCalc=function(){var y=r._matchGroup;if(y){var M=null,d=null;for(var _ in y){var p=t[Qv.id2name(_)];if(p._categories){M=p._categories,d=p._categoriesMap;break}}M&&d?(r._categories=M,r._categoriesMap=d):r._emptyCategories()}else r._emptyCategories();if(r._initialCategories)for(var c=0;c<r._initialCategories.length;c++)s(r._initialCategories[c])},r.sortByInitialCategories=function(){var y=[];if(r._emptyCategories(),r._initialCategories)for(var M=0;M<r._initialCategories.length;M++)s(r._initialCategories[M]);y=y.concat(r._traceIndices);var d=r._matchGroup;for(var _ in d)if(n!==_){var p=t[Qv.id2name(_)];p._categories=r._categories,p._categoriesMap=r._categoriesMap,y=y.concat(p._traceIndices)}return y};var k=t._d3locale;r.type==="date"&&(r._dateFormat=k?k.timeFormat:vX,r._extraFormat=t._extraFormat),r._separators=t.separators,r._numFormat=k?k.numberFormat:hX,delete r._minDtick,delete r._forceTick0}});var d2=pe((zve,wT)=>{"use strict";var xT=rt(),h2=ir(),yX=Xt().BADNUM,th=h2.isArrayOrTypedArray,mX=h2.isDateTime,xX=h2.cleanNumber,bT=Math.round;wT.exports=function(r,t,n){var a=r,o=n.noMultiCategory;if(th(a)&&!a.length)return"-";if(!o&&MX(a))return"multicategory";if(o&&Array.isArray(a[0])){for(var i=[],l=0;l<a.length;l++)if(th(a[l]))for(var u=0;u<a[l].length;u++)i.push(a[l][u]);a=i}if(wX(a,t))return"date";var s=n.autotypenumbers!=="strict";return TX(a,s)?"category":_X(a,s)?"linear":"-"};function bX(e,r){return r?xT(e):typeof e=="number"}function _X(e,r){for(var t=e.length,n=0;n<t;n++)if(bX(e[n],r))return!0;return!1}function wX(e,r){for(var t=e.length,n=_T(t),a=0,o=0,i={},l=0;l<t;l+=n){var u=bT(l),s=e[u],f=String(s);i[f]||(i[f]=1,mX(s,r)&&a++,xT(s)&&o++)}return a>o*2}function _T(e){return Math.max(1,(e-1)/1e3)}function TX(e,r){for(var t=e.length,n=_T(t),a=0,o=0,i={},l=0;l<t;l+=n){var u=bT(l),s=e[u],f=String(s);if(!i[f]){i[f]=1;var v=typeof s;v==="boolean"?o++:(r?xX(s)!==yX:v==="number")?a++:v==="string"&&o++}}return o>a*2}function MX(e){return th(e[0])&&th(e[1])}});var cu=pe((Ove,LT)=>{"use strict";var AX=it(),kT=rt(),Xo=ir(),nh=Xt().FP_SAFE,kX=Cr(),SX=yt(),ST=un(),CX=ST.getFromId,EX=ST.isLinked;LT.exports={applyAutorangeOptions:ET,getAutoRange:p2,makePadFn:g2,doAutoRange:RX,findExtremes:DX,concatExtremes:x2};function p2(e,r){var t,n,a=[],o=e._fullLayout,i=g2(o,r,0),l=g2(o,r,1),u=x2(e,r),s=u.min,f=u.max;if(s.length===0||f.length===0)return Xo.simpleMap(r.range,r.r2l);var v=s[0].val,g=f[0].val;for(t=1;t<s.length&&v===g;t++)v=Math.min(v,s[t].val);for(t=1;t<f.length&&v===g;t++)g=Math.max(g,f[t].val);var b=r.autorange,x=b==="reversed"||b==="min reversed"||b==="max reversed";if(!x&&r.range){var T=Xo.simpleMap(r.range,r.r2l);x=T[1]<T[0]}r.autorange==="reversed"&&(r.autorange=!0);var A=r.rangemode,m=A==="tozero",w=A==="nonnegative",k=r._length,y=k/10,M=0,d,_,p,c,S,h;for(t=0;t<s.length;t++)for(d=s[t],n=0;n<f.length;n++)_=f[n],h=_.val-d.val-TT(r,d.val,_.val),h>0&&(S=k-i(d)-l(_),S>y?h/S>M&&(p=d,c=_,M=h/S):h/k>M&&(p={val:d.val,nopad:1},c={val:_.val,nopad:1},M=h/k));function R(F,L){return Math.max(F,l(L))}if(v===g){var E=v-1,D=v+1;if(m)if(v===0)a=[0,1];else{var N=(v>0?f:s).reduce(R,0),I=v/(1-Math.min(.5,N/k));a=v>0?[0,I]:[I,0]}else w?a=[Math.max(0,E),Math.max(1,D)]:a=[E,D]}else m?(p.val>=0&&(p={val:0,nopad:1}),c.val<=0&&(c={val:0,nopad:1})):w&&(p.val-M*i(p)<0&&(p={val:0,nopad:1}),c.val<=0&&(c={val:1,nopad:1})),M=(c.val-p.val-TT(r,d.val,_.val))/(k-i(p)-l(c)),a=[p.val-M*i(p),c.val+M*l(c)];return a=ET(a,r),r.limitRange&&r.limitRange(),x&&a.reverse(),Xo.simpleMap(a,r.l2r||Number)}function TT(e,r,t){var n=0;if(e.rangebreaks)for(var a=e.locateBreaks(r,t),o=0;o<a.length;o++){var i=a[o];n+=i.max-i.min}return n}function g2(e,r,t){var n=.05*r._length,a=r._anchorAxis||{};if((r.ticklabelposition||"").indexOf("inside")!==-1||(a.ticklabelposition||"").indexOf("inside")!==-1){var o=r.isReversed();if(!o){var i=Xo.simpleMap(r.range,r.r2l);o=i[1]<i[0]}o&&(t=!t)}var l=0;return EX(e,r._id)||(l=LX(e,r,t)),n=Math.max(l,n),r.constrain==="domain"&&r._inputDomain&&(n*=(r._inputDomain[1]-r._inputDomain[0])/(r.domain[1]-r.domain[0])),function(s){return s.nopad?0:s.pad+(s.extrapad?n:l)}}var MT=3;function LX(e,r,t){var n=0,a=r._id.charAt(0)==="x";for(var o in e._plots){var i=e._plots[o];if(!(r._id!==i.xaxis._id&&r._id!==i.yaxis._id)){var l=(a?i.yaxis:i.xaxis)||{};if((l.ticklabelposition||"").indexOf("inside")!==-1&&(!t&&(l.side==="left"||l.side==="bottom")||t&&(l.side==="top"||l.side==="right"))){if(l._vals){var u=Xo.deg2rad(l._tickAngles[l._id+"tick"]||0),s=Math.abs(Math.cos(u)),f=Math.abs(Math.sin(u));if(!l._vals[0].bb){var v=l._id+"tick",g=l._selections[v];g.each(function(w){var k=AX.select(this),y=k.select(".text-math-group");y.empty()&&(w.bb=SX.bBox(k.node()))})}for(var b=0;b<l._vals.length;b++){var x=l._vals[b],T=x.bb;if(T){var A=2*MT+T.width,m=2*MT+T.height;n=Math.max(n,a?Math.max(A*s,m*f):Math.max(m*s,A*f))}}}l.ticks==="inside"&&l.ticklabelposition==="inside"&&(n+=l.ticklen||0)}}}return n}function x2(e,r,t){var n=r._id,a=e._fullData,o=e._fullLayout,i=[],l=[],u,s,f;function v(A,m){for(u=0;u<m.length;u++){var w=A[m[u]],k=(w._extremes||{})[n];if(w.visible===!0&&k){for(s=0;s<k.min.length;s++)f=k.min[s],y2(i,f.val,f.pad,{extrapad:f.extrapad});for(s=0;s<k.max.length;s++)f=k.max[s],m2(l,f.val,f.pad,{extrapad:f.extrapad})}}}if(v(a,r._traceIndices),v(o.annotations||[],r._annIndices||[]),v(o.shapes||[],r._shapeIndices||[]),r._matchGroup&&!t){for(var g in r._matchGroup)if(g!==r._id){var b=CX(e,g),x=x2(e,b,!0),T=r._length/b._length;for(s=0;s<x.min.length;s++)f=x.min[s],y2(i,f.val,f.pad*T,{extrapad:f.extrapad});for(s=0;s<x.max.length;s++)f=x.max[s],m2(l,f.val,f.pad*T,{extrapad:f.extrapad})}}return{min:i,max:l}}function RX(e,r,t){if(r.setScale(),r.autorange){r.range=t?t.slice():p2(e,r),r._r=r.range.slice(),r._rl=Xo.simpleMap(r._r,r.r2l);var n=r._input,a={};a[r._attr+".range"]=r.range,a[r._attr+".autorange"]=r.autorange,kX.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,a),n.range=r.range.slice(),n.autorange=r.autorange}var o=r._anchorAxis;if(o&&o.rangeslider){var i=o.rangeslider[r._name];i&&i.rangemode==="auto"&&(i.range=p2(e,r)),o._input.rangeslider[r._name]=Xo.extendFlat({},i)}}function DX(e,r,t){t||(t={}),e._m||e.setScale();var n=[],a=[],o=r.length,i=t.padded||!1,l=t.tozero&&(e.type==="linear"||e.type==="-"),u=e.type==="log",s=!1,f=t.vpadLinearized||!1,v,g,b,x,T,A,m,w,k;function y(R){if(Array.isArray(R))return s=!0,function(D){return Math.max(Number(R[D]||0),0)};var E=Math.max(Number(R||0),0);return function(){return E}}var M=y((e._m>0?t.ppadplus:t.ppadminus)||t.ppad||0),d=y((e._m>0?t.ppadminus:t.ppadplus)||t.ppad||0),_=y(t.vpadplus||t.vpad),p=y(t.vpadminus||t.vpad);if(!s){if(w=1/0,k=-1/0,u)for(v=0;v<o;v++)g=r[v],g<w&&g>0&&(w=g),g>k&&g<nh&&(k=g);else for(v=0;v<o;v++)g=r[v],g<w&&g>-nh&&(w=g),g>k&&g<nh&&(k=g);r=[w,k],o=2}var c={tozero:l,extrapad:i};function S(R){b=r[R],kT(b)&&(A=M(R),m=d(R),f?(x=e.c2l(b)-p(R),T=e.c2l(b)+_(R)):(w=b-p(R),k=b+_(R),u&&w<k/10&&(w=k/10),x=e.c2l(w),T=e.c2l(k)),l&&(x=Math.min(0,x),T=Math.max(0,T)),AT(x)&&y2(n,x,m,c),AT(T)&&m2(a,T,A,c))}var h=Math.min(6,o);for(v=0;v<h;v++)S(v);for(v=o-1;v>=h;v--)S(v);return{min:n,max:a,opts:t}}function y2(e,r,t,n){CT(e,r,t,n,PX)}function m2(e,r,t,n){CT(e,r,t,n,FX)}function CT(e,r,t,n,a){for(var o=n.tozero,i=n.extrapad,l=!0,u=0;u<e.length&&l;u++){var s=e[u];if(a(s.val,r)&&s.pad>=t&&(s.extrapad||!i)){l=!1;break}else a(r,s.val)&&s.pad<=t&&(i||!s.extrapad)&&(e.splice(u,1),u--)}if(l){var f=o&&r===0;e.push({val:r,pad:f?0:t,extrapad:f?!1:i})}}function AT(e){return kT(e)&&Math.abs(e)<nh}function PX(e,r){return e<=r}function FX(e,r){return e>=r}function IX(e,r){var t=r.autorangeoptions;return t&&t.minallowed!==void 0&&ah(r,t.minallowed,t.maxallowed)?t.minallowed:t&&t.clipmin!==void 0&&ah(r,t.clipmin,t.clipmax)?Math.max(e,r.d2l(t.clipmin)):e}function NX(e,r){var t=r.autorangeoptions;return t&&t.maxallowed!==void 0&&ah(r,t.minallowed,t.maxallowed)?t.maxallowed:t&&t.clipmax!==void 0&&ah(r,t.clipmin,t.clipmax)?Math.min(e,r.d2l(t.clipmax)):e}function ah(e,r,t){return r!==void 0&&t!==void 0?(r=e.d2l(r),t=e.d2l(t),r<t):!0}function ET(e,r){if(!r||!r.autorangeoptions)return e;var t=e[0],n=e[1],a=r.autorangeoptions.include;if(a!==void 0){var o=r.d2l(t),i=r.d2l(n);Xo.isArrayOrTypedArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var u=r.d2l(a[l]);o>=u&&(o=u,t=u),i<=u&&(i=u,n=u)}}return t=IX(t,r),n=NX(n,r),[t,n]}});var wt=pe((qve,$T)=>{"use strict";var Na=it(),Kt=rt(),vu=nn(),Zf=Cr(),Rr=ir(),hu=Rr.strTranslate,Ql=Xn(),zX=Yf(),Jf=Kr(),xa=yt(),OX=Ia(),RT=Ng(),An=Xt(),qX=An.ONEMAXYEAR,lh=An.ONEAVGYEAR,sh=An.ONEMINYEAR,BX=An.ONEMAXQUARTER,T2=An.ONEAVGQUARTER,uh=An.ONEMINQUARTER,UX=An.ONEMAXMONTH,du=An.ONEAVGMONTH,fh=An.ONEMINMONTH,ba=An.ONEWEEK,Un=An.ONEDAY,Zo=Un/2,Oi=An.ONEHOUR,Kf=An.ONEMIN,ch=An.ONESEC,HX=An.ONEMILLI,VX=An.ONEMICROSEC,$l=An.MINUS_SIGN,dh=An.BADNUM,M2={K:"zeroline"},A2={K:"gridline",L:"path"},k2={K:"minor-gridline",L:"path"},HT={K:"tick",L:"path"},DT={K:"tick",L:"text"},PT={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ph=Bn(),Xf=ph.MID_SHIFT,jl=ph.CAP_SHIFT,Qf=ph.LINE_SPACING,GX=ph.OPPOSITE_SIDE,vh=3,lr=$T.exports={};lr.setConvert=rh();var YX=d2(),oo=un(),WX=oo.idSort,XX=oo.isLinked;lr.id2name=oo.id2name;lr.name2id=oo.name2id;lr.cleanId=oo.cleanId;lr.list=oo.list;lr.listIds=oo.listIds;lr.getFromId=oo.getFromId;lr.getFromTrace=oo.getFromTrace;var VT=cu();lr.getAutoRange=VT.getAutoRange;lr.findExtremes=VT.findExtremes;var ZX=1e-4;function L2(e){var r=(e[1]-e[0])*ZX;return[e[0]-r,e[1]+r]}lr.coerceRef=function(e,r,t,n,a,o){var i=n.charAt(n.length-1),l=t._fullLayout._subplots[i+"axis"],u=n+"ref",s={};return a||(a=l[0]||(typeof o=="string"?o:o[0])),o||(o=a),l=l.concat(l.map(function(f){return f+" domain"})),s[u]={valType:"enumerated",values:l.concat(o?typeof o=="string"?[o]:o:[]),dflt:a},Rr.coerce(e,r,s,u)};lr.getRefType=function(e){return e===void 0?e:e==="paper"?"paper":e==="pixel"?"pixel":/( domain)$/.test(e)?"domain":"range"};lr.coercePosition=function(e,r,t,n,a,o){var i,l,u=lr.getRefType(n);if(u!=="range")i=Rr.ensureNumber,l=t(a,o);else{var s=lr.getFromId(r,n);o=s.fraction2r(o),l=t(a,o),i=s.cleanPos}e[a]=i(l)};lr.cleanPosition=function(e,r,t){var n=t==="paper"||t==="pixel"?Rr.ensureNumber:lr.getFromId(r,t).cleanPos;return n(e)};lr.redrawComponents=function(e,r){r=r||lr.listIds(e);var t=e._fullLayout;function n(a,o,i,l){for(var u=Zf.getComponentMethod(a,o),s={},f=0;f<r.length;f++)for(var v=t[lr.id2name(r[f])],g=v[i],b=0;b<g.length;b++){var x=g[b];if(!s[x]&&(u(e,x),s[x]=1,l))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var JX=lr.getDataConversions=function(e,r,t,n){var a,o=t==="x"||t==="y"||t==="z"?t:n;if(Rr.isArrayOrTypedArray(o)){if(a={type:YX(n,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},lr.setConvert(a),a.type==="category")for(var i=0;i<n.length;i++)a.d2c(n[i])}else a=lr.getFromTrace(e,r,o);return a?{d2c:a.d2c,c2d:a.c2d}:o==="ids"?{d2c:IT,c2d:IT}:{d2c:FT,c2d:FT}};function FT(e){return+e}function IT(e){return String(e)}lr.getDataToCoordFunc=function(e,r,t,n){return JX(e,r,t,n).d2c};lr.counterLetter=function(e){var r=e.charAt(0);if(r==="x")return"y";if(r==="y")return"x"};lr.minDtick=function(e,r,t,n){["log","category","multicategory"].indexOf(e.type)!==-1||!n?e._minDtick=0:e._minDtick===void 0?(e._minDtick=r,e._forceTick0=t):e._minDtick&&((e._minDtick/r+1e-6)%1<2e-6&&((t-e._forceTick0)/r%1+1.000001)%1<2e-6?(e._minDtick=r,e._forceTick0=t):((r/e._minDtick+1e-6)%1>2e-6||((t-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))};lr.saveRangeInitial=function(e,r){for(var t=lr.list(e,"",!0),n=!1,a=0;a<t.length;a++){var o=t[a],i=o._rangeInitial0===void 0&&o._rangeInitial1===void 0,l=i||o.range[0]!==o._rangeInitial0||o.range[1]!==o._rangeInitial1,u=o.autorange;(i&&u!==!0||r&&l)&&(o._rangeInitial0=u==="min"||u==="max reversed"?void 0:o.range[0],o._rangeInitial1=u==="max"||u==="min reversed"?void 0:o.range[1],o._autorangeInitial=u,n=!0)}return n};lr.saveShowSpikeInitial=function(e,r){for(var t=lr.list(e,"",!0),n=!1,a="on",o=0;o<t.length;o++){var i=t[o],l=i._showSpikeInitial===void 0,u=l||i.showspikes!==i._showspikes;(l||r&&u)&&(i._showSpikeInitial=i.showspikes,n=!0),a==="on"&&!i.showspikes&&(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,n};lr.autoBin=function(e,r,t,n,a,o){var i=Rr.aggNums(Math.min,null,e),l=Rr.aggNums(Math.max,null,e);if(r.type==="category"||r.type==="multicategory")return{start:i-.5,end:l+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:l-i};a||(a=r.calendar);var u;if(r.type==="log"?u={type:"linear",range:[i,l]}:u={type:r.type,range:Rr.simpleMap([i,l],r.c2r,0,a),calendar:a},lr.setConvert(u),o=o&&RT.dtick(o,u.type),o)u.dtick=o,u.tick0=RT.tick0(void 0,u.type,a);else{var s;if(t)s=(l-i)/t;else{var f=Rr.distinctVals(e),v=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),g=v*Rr.roundUp(f.minDiff/v,[.9,1.9,4.9,9.9],!0);s=Math.max(g,2*Rr.stdev(e)/Math.pow(e.length,n?.25:.4)),Kt(s)||(s=1)}lr.autoTicks(u,s)}var b=u.dtick,x=lr.tickIncrement(lr.tickFirst(u),b,"reverse",a),T,A;if(typeof b=="number")x=KX(x,e,u,i,l),A=1+Math.floor((l-x)/b),T=x+A*b;else for(u.dtick.charAt(0)==="M"&&(x=QX(x,e,b,i,a)),T=x,A=0;T<=l;)T=lr.tickIncrement(T,b,!1,a),A++;return{start:r.c2r(x,0,a),end:r.c2r(T,0,a),size:b,_dataSpan:l-i}};function KX(e,r,t,n,a){var o=0,i=0,l=0,u=0;function s(b){return(1+(b-e)*100/t.dtick)%100<2}for(var f=0;f<r.length;f++)r[f]%1===0?l++:Kt(r[f])||u++,s(r[f])&&o++,s(r[f]+t.dtick/2)&&i++;var v=r.length-u;if(l===v&&t.type!=="date")t.dtick<1?e=n-.5*t.dtick:(e-=.5,e+t.dtick<n&&(e+=t.dtick));else if(i<v*.1&&(o>v*.3||s(n)||s(a))){var g=t.dtick/2;e+=e+g<n?g:-g}return e}function QX(e,r,t,n,a){var o=Rr.findExactDates(r,a),i=.8;if(o.exactDays>i){var l=Number(t.substr(1));o.exactYears>i&&l%12===0?e=lr.tickIncrement(e,"M6","reverse")+Un*1.5:o.exactMonths>i?e=lr.tickIncrement(e,"M1","reverse")+Un*15.5:e-=Zo;var u=lr.tickIncrement(e,t);if(u<=n)return u}return e}lr.prepMinorTicks=function(e,r,t){if(!r.minor.dtick){delete e.dtick;var n=r.dtick&&Kt(r._tmin),a;if(n){var o=lr.tickIncrement(r._tmin,r.dtick,!0);a=[r._tmin,o*.99+r._tmin*.01]}else{var i=Rr.simpleMap(r.range,r.r2l);a=[i[0],.8*i[0]+.2*i[1]]}if(e.range=Rr.simpleMap(a,r.l2r),e._isMinor=!0,lr.prepTicks(e,t),n){var l=Kt(r.dtick),u=Kt(e.dtick),s=l?r.dtick:+r.dtick.substring(1),f=u?e.dtick:+e.dtick.substring(1);l&&u?b2(s,f)?s===2*ba&&f===2*Un&&(e.dtick=ba):s===2*ba&&f===3*Un?e.dtick=ba:s===ba&&!(r._input.minor||{}).nticks?e.dtick=Un:NT(s/f,2.5)?e.dtick=s/2:e.dtick=s:String(r.dtick).charAt(0)==="M"?u?e.dtick="M1":b2(s,f)?s>=12&&f===2&&(e.dtick="M3"):e.dtick=r.dtick:String(e.dtick).charAt(0)==="L"?String(r.dtick).charAt(0)==="L"?b2(s,f)||(e.dtick=NT(s/f,2.5)?r.dtick/2:r.dtick):e.dtick="D1":e.dtick==="D2"&&+r.dtick>1&&(e.dtick=1)}e.range=r.range}r.minor._tick0Init===void 0&&(e.tick0=r.tick0)};function b2(e,r){return Math.abs((e/r+.5)%1-.5)<.001}function NT(e,r){return Math.abs(e/r-1)<.001}lr.prepTicks=function(e,r){var t=Rr.simpleMap(e.range,e.r2l,void 0,void 0,r);if(e.tickmode==="auto"||!e.dtick){var n=e.nticks,a;n||(e.type==="category"||e.type==="multicategory"?(a=e.tickfont?Rr.bigFont(e.tickfont.size||12):15,n=e._length/a):(a=e._id.charAt(0)==="y"?40:80,n=Rr.constrain(e._length/a,4,9)+1),e._name==="radialaxis"&&(n*=2)),e.minor&&e.minor.tickmode!=="array"||e.tickmode==="array"&&(n*=100),e._roughDTick=Math.abs(t[1]-t[0])/n,lr.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode==="period"&&$X(e),e.tick0||(e.tick0=e.type==="date"?"2000-01-01":0),e.type==="date"&&e.dtick<.1&&(e.dtick=.1),XT(e)};function _2(e){return+e.substring(1)}function $X(e){var r;function t(){return!(Kt(e.dtick)||e.dtick.charAt(0)!=="M")}var n=t(),a=lr.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(r=Oi,o&&!n&&e.dtick<Oi&&(e.dtick=Oi)):/%p/.test(a)?(r=Zo,o&&!n&&e.dtick<Zo&&(e.dtick=Zo)):/%[Aadejuwx]/.test(a)?(r=Un,o&&!n&&e.dtick<Un&&(e.dtick=Un)):/%[UVW]/.test(a)?(r=ba,o&&!n&&e.dtick<ba&&(e.dtick=ba)):/%[Bbm]/.test(a)?(r=du,o&&(n?_2(e.dtick)<1:e.dtick<fh)&&(e.dtick="M1")):/%[q]/.test(a)?(r=T2,o&&(n?_2(e.dtick)<3:e.dtick<uh)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(r=lh,o&&(n?_2(e.dtick)<12:e.dtick<sh)&&(e.dtick="M12")))}n=t(),n&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=r}function jX(e,r,t){for(var n=0;n<e.length;n++){var a=e[n].value,o=n,i=n+1;n<e.length-1?(o=n,i=n+1):n>0?(o=n-1,i=n):(o=n,i=n);var l=e[o].value,u=e[i].value,s=Math.abs(u-l),f=t||s,v=0;f>=sh?s>=sh&&s<=qX?v=s:v=lh:t===T2&&f>=uh?s>=uh&&s<=BX?v=s:v=T2:f>=fh?s>=fh&&s<=UX?v=s:v=du:t===ba&&f>=ba?v=ba:f>=Un?v=Un:t===Zo&&f>=Zo?v=Zo:t===Oi&&f>=Oi&&(v=Oi);var g;v>=s&&(v=s,g=!0);var b=a+v;if(r.rangebreaks&&v>0){for(var x=84,T=0,A=0;A<x;A++){var m=(A+.5)/x;r.maskBreaks(a*(1-m)+m*b)!==dh&&T++}v*=T/x,v||(e[n].drop=!0),g&&s>ba&&(v=s)}(v>0||n===0)&&(e[n].periodX=a+v/2)}}lr.calcTicks=function(r,t){for(var n=r.type,a=r.calendar,o=r.ticklabelstep,i=r.ticklabelmode==="period",l=r.range[0]>r.range[1],u=!r.ticklabelindex||Rr.isArrayOrTypedArray(r.ticklabelindex)?r.ticklabelindex:[r.ticklabelindex],s=Rr.simpleMap(r.range,r.r2l,void 0,void 0,t),f=s[1]<s[0],v=Math.min(s[0],s[1]),g=Math.max(s[0],s[1]),b=Math.max(1e3,r._length||0),x=[],T=[],A=[],m=[],w=[],k=r.minor&&(r.minor.ticks||r.minor.showgrid),y=1;y>=(k?0:1);y--){var M=!y;y?(r._dtickInit=r.dtick,r._tick0Init=r.tick0):(r.minor._dtickInit=r.minor.dtick,r.minor._tick0Init=r.minor.tick0);var d=y?r:Rr.extendFlat({},r,r.minor);if(M?lr.prepMinorTicks(d,r,t):lr.prepTicks(d,t),d.tickmode==="array"){y?(A=[],x=zT(r,!M)):(m=[],T=zT(r,!M));continue}if(d.tickmode==="sync"){A=[],x=eZ(r);continue}var _=L2(s),p=_[0],c=_[1],S=Kt(d.dtick),h=n==="log"&&!(S||d.dtick.charAt(0)==="L"),R=lr.tickFirst(d,t);if(y){if(r._tmin=R,R<p!==f)break;(n==="category"||n==="multicategory")&&(c=f?Math.max(-.5,c):Math.min(r._categories.length-.5,c))}var E=null,D=R,N;if(y){var I;S?I=r.dtick:n==="date"?typeof r.dtick=="string"&&r.dtick.charAt(0)==="M"&&(I=du*r.dtick.substring(1)):I=r._roughDTick,N=Math.round((r.r2l(D)-r.r2l(r.tick0))/I)-1}var F=d.dtick;for(d.rangebreaks&&d._tick0Init!==d.tick0&&(D=w2(D,r),f||(D=lr.tickIncrement(D,F,!f,a))),y&&i&&(D=lr.tickIncrement(D,F,!f,a),N--);f?D>=c:D<=c;D=lr.tickIncrement(D,F,f,a)){if(y&&N++,d.rangebreaks&&!f){if(D<p)continue;if(d.maskBreaks(D)===dh&&w2(D,d)>=g)break}if(A.length>b||D===E)break;E=D;var L={value:D};y?(h&&D!==(D|0)&&(L.simpleLabel=!0),o>1&&N%o&&(L.skipLabel=!0),A.push(L)):(L.minor=!0,m.push(L))}}if(!m||m.length<2)u=!1;else{var P=(m[1].value-m[0].value)*(l?-1:1);MZ(P,r.tickformat)||(u=!1)}if(!u)w=A;else{var q=A.concat(m);i&&A.length&&(q=q.slice(1)),q=q.sort(function(Me,Se){return Me.value-Se.value}).filter(function(Me,Se,De){return Se===0||Me.value!==De[Se-1].value});var U=q.map(function(Me,Se){return Me.minor===void 0&&!Me.skipLabel?Se:null}).filter(function(Me){return Me!==null});U.forEach(function(Me){u.map(function(Se){var De=Me+Se;De>=0&&De<q.length&&Rr.pushUnique(w,q[De])})})}if(k){var W=r.minor.ticks==="inside"&&r.ticks==="outside"||r.minor.ticks==="outside"&&r.ticks==="inside";if(!W){for(var j=A.map(function(Me){return Me.value}),$=[],G=0;G<m.length;G++){var O=m[G],Z=O.value;if(j.indexOf(Z)===-1){for(var ne=!1,Q=0;!ne&&Q<A.length;Q++)1e7+A[Q].value===1e7+Z&&(ne=!0);ne||$.push(O)}}m=$}}i&&jX(w,r,r._definedDelta);var ie;if(r.rangebreaks){var ee=r._id.charAt(0)==="y",V=1;r.tickmode==="auto"&&(V=r.tickfont?r.tickfont.size:12);var re=NaN;for(ie=A.length-1;ie>-1;ie--){if(A[ie].drop){A.splice(ie,1);continue}A[ie].value=w2(A[ie].value,r);var H=r.c2p(A[ie].value);(ee?re>H-V:re<H+V)?A.splice(f?ie+1:ie,1):re=H}}P2(r)&&Math.abs(s[1]-s[0])===360&&A.pop(),r._tmax=(A[A.length-1]||{}).value,r._prevDateHead="",r._inCalcTicks=!0;var te,se=function(Me){Me.text="",r._prevDateHead=te};A=A.concat(m);function he(Me,Se){var De=lr.tickText(Me,Se.value,!1,Se.simpleLabel),Ce=Se.periodX;return Ce!==void 0&&(De.periodX=Ce,(Ce>g||Ce<v)&&(Ce>g&&(De.periodX=g),Ce<v&&(De.periodX=v),se(De))),De}var ke;for(ie=0;ie<A.length;ie++){var we=A[ie].minor,ve=A[ie].value;we?(u&&w.indexOf(A[ie])!==-1?ke=he(r,A[ie]):ke={x:ve},ke.minor=!0,T.push(ke)):(te=r._prevDateHead,ke=he(r,A[ie]),(A[ie].skipLabel||u&&w.indexOf(A[ie])===-1)&&se(ke),x.push(ke))}return x=x.concat(T),r._inCalcTicks=!1,i&&x.length&&(x[0].noTick=!0),x};function GT(e,r){return e.rangebreaks&&(r=r.filter(function(t){return e.maskBreaks(t.x)!==dh})),r}function eZ(e){var r=e._mainAxis,t=[];if(r._vals){for(var n=0;n<r._vals.length;n++)if(!r._vals[n].noTick){var a=r.l2p(r._vals[n].x),o=e.p2l(a),i=lr.tickText(e,o);r._vals[n].minor&&(i.minor=!0,i.text=""),t.push(i)}}return t=GT(e,t),t}function zT(e,r){var t=Rr.simpleMap(e.range,e.r2l),n=L2(t),a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),i=e.type==="category"?e.d2l_noadd:e.d2l;e.type==="log"&&String(e.dtick).charAt(0)!=="L"&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var l=[],u=0;u<=1;u++)if(!(r!==void 0&&(r&&u||r===!1&&!u))&&!(u&&!e.minor)){var s=u?e.minor.tickvals:e.tickvals,f=u?[]:e.ticktext;if(s){Rr.isArrayOrTypedArray(f)||(f=[]);for(var v=0;v<s.length;v++){var g=i(s[v]);if(g>a&&g<o){var b=lr.tickText(e,g,!1,String(f[v]));u&&(b.minor=!0,b.text=""),l.push(b)}}}}return l=GT(e,l),l}var ih=[2,5,10],OT=[1,2,3,6,12],qT=[1,2,5,10,15,30],rZ=[1,2,3,7,14],YT=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],WT=[-.301,0,.301,.699,1],tZ=[15,30,45,90,180];function zi(e,r,t){return r*Rr.roundUp(e/r,t)}lr.autoTicks=function(e,r,t){var n;function a(v){return Math.pow(v,Math.floor(Math.log(r)/Math.LN10))}if(e.type==="date"){e.tick0=Rr.dateTick0(e.calendar,0);var o=2*r;if(o>lh)r/=lh,n=a(10),e.dtick="M"+12*zi(r,n,ih);else if(o>du)r/=du,e.dtick="M"+zi(r,1,OT);else if(o>Un){if(e.dtick=zi(r,Un,e._hasDayOfWeekBreaks?[1,2,7,14]:rZ),!t){var i=lr.getTickFormat(e),l=e.ticklabelmode==="period";l&&(e._rawTick0=e.tick0),/%[uVW]/.test(i)?e.tick0=Rr.dateTick0(e.calendar,2):e.tick0=Rr.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}}else o>Oi?e.dtick=zi(r,Oi,OT):o>Kf?e.dtick=zi(r,Kf,qT):o>ch?e.dtick=zi(r,ch,qT):(n=a(10),e.dtick=zi(r,n,ih))}else if(e.type==="log"){e.tick0=0;var u=Rr.simpleMap(e.range,e.r2l);if(e._isMinor&&(r*=1.5),r>.7)e.dtick=Math.ceil(r);else if(Math.abs(u[1]-u[0])<1){var s=1.5*Math.abs((u[1]-u[0])/r);r=Math.abs(Math.pow(10,u[1])-Math.pow(10,u[0]))/s,n=a(10),e.dtick="L"+zi(r,n,ih)}else e.dtick=r>.3?"D2":"D1"}else e.type==="category"||e.type==="multicategory"?(e.tick0=0,e.dtick=Math.ceil(Math.max(r,1))):P2(e)?(e.tick0=0,n=1,e.dtick=zi(r,n,tZ)):(e.tick0=0,n=a(10),e.dtick=zi(r,n,ih));if(e.dtick===0&&(e.dtick=1),!Kt(e.dtick)&&typeof e.dtick!="string"){var f=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(f)}};function XT(e){var r=e.dtick;if(e._tickexponent=0,!Kt(r)&&typeof r!="string"&&(r=1),(e.type==="category"||e.type==="multicategory")&&(e._tickround=null),e.type==="date"){var t=e.r2l(e.tick0),n=e.l2r(t).replace(/(^-|i)/g,""),a=n.length;if(String(r).charAt(0)==="M")a>10||n.substr(5)!=="01-01"?e._tickround="d":e._tickround=+r.substr(1)%12===0?"y":"m";else if(r>=Un&&a<=10||r>=Un*15)e._tickround="d";else if(r>=Kf&&a<=16||r>=Oi)e._tickround="M";else if(r>=ch&&a<=19||r>=Kf)e._tickround="S";else{var o=e.l2r(t+r).replace(/^-/,"").length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(Kt(r)||r.charAt(0)==="L"){var i=e.range.map(e.r2d||Number);Kt(r)||(r=Number(r.substr(1))),e._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01);var l=Math.max(Math.abs(i[0]),Math.abs(i[1])),u=Math.floor(Math.log(l)/Math.LN10+.01),s=e.minexponent===void 0?3:e.minexponent;Math.abs(u)>s&&(hh(e.exponentformat)&&!R2(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}lr.tickIncrement=function(e,r,t,n){var a=t?-1:1;if(Kt(r))return Rr.increment(e,a*r);var o=r.charAt(0),i=a*Number(r.substr(1));if(o==="M")return Rr.incrementMonth(e,i,n);if(o==="L")return Math.log(Math.pow(10,e)+i)/Math.LN10;if(o==="D"){var l=r==="D2"?WT:YT,u=e+a*.01,s=Rr.roundUp(Rr.mod(u,1),l,t);return Math.floor(u)+Math.log(Na.round(Math.pow(10,s),1))/Math.LN10}throw"unrecognized dtick "+String(r)};lr.tickFirst=function(e,r){var t=e.r2l||Number,n=Rr.simpleMap(e.range,t,void 0,void 0,r),a=n[1]<n[0],o=a?Math.floor:Math.ceil,i=L2(n)[0],l=e.dtick,u=t(e.tick0);if(Kt(l)){var s=o((i-u)/l)*l+u;return(e.type==="category"||e.type==="multicategory")&&(s=Rr.constrain(s,0,e._categories.length-1)),s}var f=l.charAt(0),v=Number(l.substr(1));if(f==="M"){for(var g=0,b=u,x,T,A;g<10;){if(x=lr.tickIncrement(b,l,a,e.calendar),(x-i)*(b-i)<=0)return a?Math.min(b,x):Math.max(b,x);T=(i-(b+x)/2)/(x-b),A=f+(Math.abs(Math.round(T))||1)*v,b=lr.tickIncrement(b,A,T<0?!a:a,e.calendar),g++}return Rr.error("tickFirst did not converge",e),b}else{if(f==="L")return Math.log(o((Math.pow(10,i)-u)/v)*v+u)/Math.LN10;if(f==="D"){var m=l==="D2"?WT:YT,w=Rr.roundUp(Rr.mod(i,1),m,a);return Math.floor(i)+Math.log(Na.round(Math.pow(10,w),1))/Math.LN10}else throw"unrecognized dtick "+String(l)}};lr.tickText=function(e,r,t,n){var a=ZT(e,r),o=e.tickmode==="array",i=t||o,l=e.type,u=l==="category"?e.d2l_noadd:e.d2l,s,f=function(A){var m=e.l2p(A);return m>=0&&m<=e._length?A:null};if(o&&Rr.isArrayOrTypedArray(e.ticktext)){var v=Rr.simpleMap(e.range,e.r2l),g=(Math.abs(v[1]-v[0])-(e._lBreaks||0))/1e4;for(s=0;s<e.ticktext.length&&!(Math.abs(r-u(e.tickvals[s]))<g);s++);if(s<e.ticktext.length)return a.text=String(e.ticktext[s]),a.xbnd=[f(a.x-.5),f(a.x+e.dtick-.5)],a}function b(A){if(A===void 0)return!0;if(t)return A==="none";var m={first:e._tmin,last:e._tmax}[A];return A!=="all"&&r!==m}var x=t?"never":e.exponentformat!=="none"&&b(e.showexponent)?"hide":"";if(l==="date"?nZ(e,a,t,i):l==="log"?aZ(e,a,t,i,x):l==="category"?iZ(e,a):l==="multicategory"?oZ(e,a,t):P2(e)?sZ(e,a,t,i,x):lZ(e,a,t,i,x),n||(e.tickprefix&&!b(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!b(e.showticksuffix)&&(a.text+=e.ticksuffix)),e.labelalias&&e.labelalias.hasOwnProperty(a.text)){var T=e.labelalias[a.text];typeof T=="string"&&(a.text=T)}return(e.tickson==="boundaries"||e.showdividers)&&(a.xbnd=[f(a.x-.5),f(a.x+e.dtick-.5)]),a};lr.hoverLabelText=function(e,r,t){t&&(e=Rr.extendFlat({},e,{hoverformat:t}));var n=Rr.isArrayOrTypedArray(r)?r[0]:r,a=Rr.isArrayOrTypedArray(r)?r[1]:void 0;if(a!==void 0&&a!==n)return lr.hoverLabelText(e,n,t)+" - "+lr.hoverLabelText(e,a,t);var o=e.type==="log"&&n<=0,i=lr.tickText(e,e.c2l(o?-n:n),"hover").text;return o?n===0?"0":$l+i:i};function ZT(e,r,t){var n=e.tickfont||{};return{x:r,dx:0,dy:0,text:t||"",fontSize:n.size,font:n.family,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontTextcase:n.textcase,fontLineposition:n.lineposition,fontShadow:n.shadow,fontColor:n.color}}function nZ(e,r,t,n){var a=e._tickround,o=t&&e.hoverformat||lr.getTickFormat(e);n=!o&&n,n&&(Kt(a)?a=4:a={y:"m",m:"d",d:"M",M:"S",S:4}[a]);var i=Rr.formatDate(r.x,o,a,e._dateFormat,e.calendar,e._extraFormat),l,u=i.indexOf(`
`);if(u!==-1&&(l=i.substr(u+1),i=i.substr(0,u)),n&&(l!==void 0&&(i==="00:00:00"||i==="00:00")?(i=l,l=""):i.length===8&&(i=i.replace(/:00$/,""))),l)if(t)a==="d"?i+=", "+l:i=l+(i?", "+i:"");else if(!e._inCalcTicks||e._prevDateHead!==l)e._prevDateHead=l,i+="<br>"+l;else{var s=jf(e),f=e._trueSide||e.side;(!s&&f==="top"||s&&f==="bottom")&&(i+="<br> ")}r.text=i}function aZ(e,r,t,n,a){var o=e.dtick,i=r.x,l=e.tickformat,u=typeof o=="string"&&o.charAt(0);if(a==="never"&&(a=""),n&&u!=="L"&&(o="L3",u="L"),l||u==="L")r.text=$f(Math.pow(10,i),e,a,n);else if(Kt(o)||u==="D"&&Rr.mod(i+.01,1)<.1){var s=Math.round(i),f=Math.abs(s),v=e.exponentformat;v==="power"||hh(v)&&R2(s)?(s===0?r.text=1:s===1?r.text="10":r.text="10<sup>"+(s>1?"":$l)+f+"</sup>",r.fontSize*=1.25):(v==="e"||v==="E")&&f>2?r.text="1"+v+(s>0?"+":$l)+f:(r.text=$f(Math.pow(10,i),e,"","fakehover"),o==="D1"&&e._id.charAt(0)==="y"&&(r.dy-=r.fontSize/6))}else if(u==="D")r.text=String(Math.round(Math.pow(10,Rr.mod(i,1)))),r.fontSize*=.75;else throw"unrecognized dtick "+String(o);if(e.dtick==="D1"){var g=String(r.text).charAt(0);(g==="0"||g==="1")&&(e._id.charAt(0)==="y"?r.dx-=r.fontSize/4:(r.dy+=r.fontSize/2,r.dx+=(e.range[1]>e.range[0]?1:-1)*r.fontSize*(i<0?.5:.25)))}}function iZ(e,r){var t=e._categories[Math.round(r.x)];t===void 0&&(t=""),r.text=String(t)}function oZ(e,r,t){var n=Math.round(r.x),a=e._categories[n]||[],o=a[1]===void 0?"":String(a[1]),i=a[0]===void 0?"":String(a[0]);t?r.text=i+" - "+o:(r.text=o,r.text2=i)}function lZ(e,r,t,n,a){a==="never"?a="":e.showexponent==="all"&&Math.abs(r.x/e.dtick)<1e-6&&(a="hide"),r.text=$f(r.x,e,a,n)}function sZ(e,r,t,n,a){if(e.thetaunit==="radians"&&!t){var o=r.x/180;if(o===0)r.text="0";else{var i=uZ(o);if(i[1]>=100)r.text=$f(Rr.deg2rad(r.x),e,a,n);else{var l=r.x<0;i[1]===1?i[0]===1?r.text="\u03C0":r.text=i[0]+"\u03C0":r.text=["<sup>",i[0],"</sup>","\u2044","<sub>",i[1],"</sub>","\u03C0"].join(""),l&&(r.text=$l+r.text)}}}else r.text=$f(r.x,e,a,n)}function uZ(e){function r(l,u){return Math.abs(l-u)<=1e-6}function t(l,u){return r(u,0)?l:t(u,l%u)}function n(l){for(var u=1;!r(Math.round(l*u)/u,l);)u*=10;return u}var a=n(e),o=e*a,i=Math.abs(t(o,a));return[Math.round(o/i),Math.round(a/i)]}var fZ=["f","p","n","\u03BC","m","","k","M","G","T"];function hh(e){return e==="SI"||e==="B"}function R2(e){return e>14||e<-15}function $f(e,r,t,n){var a=e<0,o=r._tickround,i=t||r.exponentformat||"B",l=r._tickexponent,u=lr.getTickFormat(r),s=r.separatethousands;if(n){var f={exponentformat:i,minexponent:r.minexponent,dtick:r.showexponent==="none"?r.dtick:Kt(e)&&Math.abs(e)||1,range:r.showexponent==="none"?r.range.map(r.r2d):[0,e||1]};XT(f),o=(Number(f._tickround)||0)+4,l=f._tickexponent,r.hoverformat&&(u=r.hoverformat)}if(u)return r._numFormat(u)(e).replace(/-/g,$l);var v=Math.pow(10,-o)/2;if(i==="none"&&(l=0),e=Math.abs(e),e<v)e="0",a=!1;else{if(e+=v,l&&(e*=Math.pow(10,-l),o+=l),o===0)e=String(Math.floor(e));else if(o<0){e=String(Math.round(e)),e=e.substr(0,e.length+o);for(var g=o;g<0;g++)e+="0"}else{e=String(e);var b=e.indexOf(".")+1;b&&(e=e.substr(0,b+o).replace(/\.?0+$/,""))}e=Rr.numSeparate(e,r._separators,s)}if(l&&i!=="hide"){hh(i)&&R2(l)&&(i="power");var x;l<0?x=$l+-l:i!=="power"?x="+"+l:x=String(l),i==="e"||i==="E"?e+=i+x:i==="power"?e+="\xD710<sup>"+x+"</sup>":i==="B"&&l===9?e+="B":hh(i)&&(e+=fZ[l/3+5])}return a?$l+e:e}lr.getTickFormat=function(e){var r;function t(u){return typeof u!="string"?u:Number(u.replace("M",""))*du}function n(u,s){var f=["L","D"];if(typeof u==typeof s){if(typeof u=="number")return u-s;var v=f.indexOf(u.charAt(0)),g=f.indexOf(s.charAt(0));return v===g?Number(u.replace(/(L|D)/g,""))-Number(s.replace(/(L|D)/g,"")):v-g}else return typeof u=="number"?1:-1}function a(u,s,f){var v=f||function(x){return x},g=s[0],b=s[1];return(!g&&typeof g!="number"||v(g)<=v(u))&&(!b&&typeof b!="number"||v(b)>=v(u))}function o(u,s){var f=s[0]===null,v=s[1]===null,g=n(u,s[0])>=0,b=n(u,s[1])<=0;return(f||g)&&(v||b)}var i,l;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&a(e.dtick,l.dtickrange,t)){i=l;break}break}case"log":{for(r=0;r<e.tickformatstops.length;r++)if(l=e.tickformatstops[r],l.enabled&&o(e.dtick,l.dtickrange)){i=l;break}break}default:}return i?i.value:e.tickformat};lr.getSubplots=function(e,r){var t=e._fullLayout._subplots,n=t.cartesian.concat(t.gl2d||[]),a=r?lr.findSubplotsWithAxis(n,r):n;return a.sort(function(o,i){var l=o.substr(1).split("y"),u=i.substr(1).split("y");return l[0]===u[0]?+l[1]-+u[1]:+l[0]-+u[0]}),a};lr.findSubplotsWithAxis=function(e,r){for(var t=new RegExp(r._id.charAt(0)==="x"?"^"+r._id+"y":r._id+"$"),n=[],a=0;a<e.length;a++){var o=e[a];t.test(o)&&n.push(o)}return n};lr.makeClipPaths=function(e){var r=e._fullLayout;if(!r._hasOnlyLargeSploms){var t={_offset:0,_length:r.width,_id:""},n={_offset:0,_length:r.height,_id:""},a=lr.list(e,"x",!0),o=lr.list(e,"y",!0),i=[],l,u;for(l=0;l<a.length;l++)for(i.push({x:a[l],y:n}),u=0;u<o.length;u++)l===0&&i.push({x:t,y:o[u]}),i.push({x:a[l],y:o[u]});var s=r._clips.selectAll(".axesclip").data(i,function(f){return f.x._id+f.y._id});s.enter().append("clipPath").classed("axesclip",!0).attr("id",function(f){return"clip"+r._uid+f.x._id+f.y._id}).append("rect"),s.exit().remove(),s.each(function(f){Na.select(this).select("rect").attr({x:f.x._offset||0,y:f.y._offset||0,width:f.x._length||1,height:f.y._length||1})})}};lr.draw=function(e,r,t){var n=e._fullLayout;r==="redraw"&&n._paper.selectAll("g.subplot").each(function(u){var s=u[0],f=n._plots[s];if(f){var v=f.xaxis,g=f.yaxis;f.xaxislayer.selectAll("."+v._id+"tick").remove(),f.yaxislayer.selectAll("."+g._id+"tick").remove(),f.xaxislayer.selectAll("."+v._id+"tick2").remove(),f.yaxislayer.selectAll("."+g._id+"tick2").remove(),f.xaxislayer.selectAll("."+v._id+"divider").remove(),f.yaxislayer.selectAll("."+g._id+"divider").remove(),f.minorGridlayer&&f.minorGridlayer.selectAll("path").remove(),f.gridlayer&&f.gridlayer.selectAll("path").remove(),f.zerolinelayer&&f.zerolinelayer.selectAll("path").remove(),n._infolayer.select(".g-"+v._id+"title").remove(),n._infolayer.select(".g-"+g._id+"title").remove()}});var a=!r||r==="redraw"?lr.listIds(e):r,o=lr.list(e),i=o.filter(function(u){return u.autoshift}).map(function(u){return u.overlaying});a.map(function(u){var s=lr.getFromId(e,u);if(s.tickmode==="sync"&&s.overlaying){var f=a.findIndex(function(v){return v===s.overlaying});f>=0&&a.unshift(a.splice(f,1).shift())}});var l={false:{left:0,right:0}};return Rr.syncOrAsync(a.map(function(u){return function(){if(u){var s=lr.getFromId(e,u);t||(t={}),t.axShifts=l,t.overlayingShiftedAx=i;var f=lr.drawOne(e,s,t);return s._shiftPusher&&E2(s,s._fullDepth||0,l,!0),s._r=s.range.slice(),s._rl=Rr.simpleMap(s._r,s.r2l),f}}}))};lr.drawOne=function(e,r,t){t=t||{};var n=t.axShifts||{},a=t.overlayingShiftedAx||[],o,i,l;r.setScale();var u=e._fullLayout,s=r._id,f=s.charAt(0),v=lr.counterLetter(s),g=u._plots[r._mainSubplot];if(!g)return;if(r._shiftPusher=r.autoshift||a.indexOf(r._id)!==-1||a.indexOf(r.overlaying)!==-1,r._shiftPusher&r.anchor==="free"){var b=r.linewidth/2||0;r.ticks==="inside"&&(b+=r.ticklen),E2(r,b,n,!0),E2(r,r.shift||0,n,!1)}(t.skipTitle!==!0||r._shift===void 0)&&(r._shift=TZ(r,n));var x=g[f+"axislayer"],T=r._mainLinePosition,A=T+=r._shift,m=r._mainMirrorPosition,w=r._vals=lr.calcTicks(r),k=[r.mirror,A,m].join("_");for(o=0;o<w.length;o++)w[o].axInfo=k;r._selections={},r._tickAngles&&(r._prevTickAngles=r._tickAngles),r._tickAngles={},r._depth=null;var y={};function M(we){var ve=s+(we||"tick");return y[ve]||(y[ve]=dZ(r,ve,A)),y[ve]}if(r.visible){var d=lr.makeTransTickFn(r),_=lr.makeTransTickLabelFn(r),p,c,S=r.ticks==="inside",h=r.ticks==="outside";if(r.tickson==="boundaries"){var R=cZ(r,w);c=lr.clipEnds(r,R),p=S?c:R}else c=lr.clipEnds(r,w),p=S&&r.ticklabelmode!=="period"?c:w;var E=r._gridVals=c,D=hZ(r,w);if(!u._hasOnlyLargeSploms){var N=r._subplotsWith,I={};for(o=0;o<N.length;o++){i=N[o],l=u._plots[i];var F=l[v+"axis"],L=F._mainAxis._id;if(!I[L]){I[L]=1;var P=f==="x"?"M0,"+F._offset+"v"+F._length:"M"+F._offset+",0h"+F._length;lr.drawGrid(e,r,{vals:E,counterAxis:F,layer:l.gridlayer.select("."+s),minorLayer:l.minorGridlayer.select("."+s),path:P,transFn:d}),lr.drawZeroLine(e,r,{counterAxis:F,layer:l.zerolinelayer,path:P,transFn:d})}}}var q,U=lr.getTickSigns(r),W=lr.getTickSigns(r,"minor");if(r.ticks||r.minor&&r.minor.ticks){var j=lr.makeTickPath(r,A,U[2]),$=lr.makeTickPath(r,A,W[2],{minor:!0}),G,O,Z,ne;if(r._anchorAxis&&r.mirror&&r.mirror!==!0?(G=lr.makeTickPath(r,m,U[3]),O=lr.makeTickPath(r,m,W[3],{minor:!0}),Z=j+G,ne=$+O):(G="",O="",Z=j,ne=$),r.showdividers&&h&&r.tickson==="boundaries"){var Q={};for(o=0;o<D.length;o++)Q[D[o].x]=1;q=function(we){return Q[we.x]?G:Z}}else q=function(we){return we.minor?ne:Z}}if(lr.drawTicks(e,r,{vals:p,layer:x,path:q,transFn:d}),r.mirror==="allticks"){var ie=Object.keys(r._linepositions||{});for(o=0;o<ie.length;o++){i=ie[o],l=u._plots[i];var ee=r._linepositions[i]||[],V=ee[0],re=ee[1],H=ee[2],te=lr.makeTickPath(r,V,H?U[0]:W[0],{minor:H})+lr.makeTickPath(r,re,H?U[1]:W[1],{minor:H});lr.drawTicks(e,r,{vals:p,layer:l[f+"axislayer"],path:te,transFn:d})}}var se=[];if(se.push(function(){return lr.drawLabels(e,r,{vals:w,layer:x,plotinfo:l,transFn:_,labelFns:lr.makeLabelFns(r,A)})}),r.type==="multicategory"){var he={x:2,y:10}[f];se.push(function(){var we={x:"height",y:"width"}[f],ve=M()[we]+he+(r._tickAngles[s+"tick"]?r.tickfont.size*Qf:0);return lr.drawLabels(e,r,{vals:vZ(r,w),layer:x,cls:s+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:d,labelFns:lr.makeLabelFns(r,A+ve*U[4])})}),se.push(function(){return r._depth=U[4]*(M("tick2")[r.side]-A),gZ(e,r,{vals:D,layer:x,path:lr.makeTickPath(r,A,U[4],{len:r._depth}),transFn:d})})}else r.title.hasOwnProperty("standoff")&&se.push(function(){r._depth=U[4]*(M()[r.side]-A)});var ke=Zf.getComponentMethod("rangeslider","isVisible")(r);return!t.skipTitle&&!(ke&&r.side==="bottom")&&se.push(function(){return yZ(e,r)}),se.push(function(){var we=r.side.charAt(0),ve=GX[r.side].charAt(0),Me=lr.getPxPosition(e,r),Se=h?r.ticklen:0,De,Ce,Oe,Be;(r.automargin||ke||r._shiftPusher)&&(r.type==="multicategory"?De=M("tick2"):(De=M(),f==="x"&&we==="b"&&(r._depth=Math.max(De.width>0?De.bottom-Me:0,Se))));var ge=0,Ae=0;if(r._shiftPusher&&(ge=Math.max(Se,De.height>0?we==="l"?Me-De.left:De.right-Me:0),r.title.text!==u._dfltTitle[f]&&(Ae=(r._titleStandoff||0)+(r._titleScoot||0),we==="l"&&(Ae+=UT(r))),r._fullDepth=Math.max(ge,Ae)),r.automargin){Ce={x:0,y:0,r:0,l:0,t:0,b:0};var ce=[0,1],ye=typeof r._shift=="number"?r._shift:0;if(f==="x"){if(we==="b"?Ce[we]=r._depth:(Ce[we]=r._depth=Math.max(De.width>0?Me-De.top:0,Se),ce.reverse()),De.width>0){var Le=De.right-(r._offset+r._length);Le>0&&(Ce.xr=1,Ce.r=Le);var me=r._offset-De.left;me>0&&(Ce.xl=0,Ce.l=me)}}else if(we==="l"?(r._depth=Math.max(De.height>0?Me-De.left:0,Se),Ce[we]=r._depth-ye):(r._depth=Math.max(De.height>0?De.right-Me:0,Se),Ce[we]=r._depth+ye,ce.reverse()),De.height>0){var de=De.bottom-(r._offset+r._length);de>0&&(Ce.yb=0,Ce.b=de);var be=r._offset-De.top;be>0&&(Ce.yt=1,Ce.t=be)}Ce[v]=r.anchor==="free"?r.position:r._anchorAxis.domain[ce[0]],r.title.text!==u._dfltTitle[f]&&(Ce[we]+=UT(r)+(r.title.standoff||0)),r.mirror&&r.anchor!=="free"&&(Oe={x:0,y:0,r:0,l:0,t:0,b:0},Oe[ve]=r.linewidth,r.mirror&&r.mirror!==!0&&(Oe[ve]+=Se),r.mirror===!0||r.mirror==="ticks"?Oe[v]=r._anchorAxis.domain[ce[1]]:(r.mirror==="all"||r.mirror==="allticks")&&(Oe[v]=[r._counterDomainMin,r._counterDomainMax][ce[1]]))}ke&&(Be=Zf.getComponentMethod("rangeslider","autoMarginOpts")(e,r)),typeof r.automargin=="string"&&(BT(Ce,r.automargin),BT(Oe,r.automargin)),vu.autoMargin(e,D2(r),Ce),vu.autoMargin(e,KT(r),Oe),vu.autoMargin(e,QT(r),Be)}),Rr.syncOrAsync(se)}};function BT(e,r){if(e){var t=Object.keys(PT).reduce(function(n,a){return r.indexOf(a)!==-1&&PT[a].forEach(function(o){n[o]=1}),n},{});Object.keys(e).forEach(function(n){t[n]||(n.length===1?e[n]=0:delete e[n])})}}function cZ(e,r){var t=[],n,a=function(o,i){var l=o.xbnd[i];l!==null&&t.push(Rr.extendFlat({},o,{x:l}))};if(r.length){for(n=0;n<r.length;n++)a(r[n],0);a(r[n-1],1)}return t}function vZ(e,r){for(var t=[],n={},a=0;a<r.length;a++){var o=r[a];n[o.text2]?n[o.text2].push(o.x):n[o.text2]=[o.x]}for(var i in n)t.push(ZT(e,Rr.interp(n[i],.5),i));return t}function hZ(e,r){var t=[],n,a,o=r.length&&r[r.length-1].x<r[0].x,i=function(u,s){var f=u.xbnd[s];f!==null&&t.push(Rr.extendFlat({},u,{x:f}))};if(e.showdividers&&r.length){for(n=0;n<r.length;n++){var l=r[n];l.text2!==a&&i(l,o?1:0),a=l.text2}i(r[n-1],o?0:1)}return t}function dZ(e,r,t){var n,a,o,i;if(e._selections[r].size())n=1/0,a=-1/0,o=1/0,i=-1/0,e._selections[r].each(function(){var u=C2(this),s=xa.bBox(u.node().parentNode);n=Math.min(n,s.top),a=Math.max(a,s.bottom),o=Math.min(o,s.left),i=Math.max(i,s.right)});else{var l=lr.makeLabelFns(e,t);n=a=l.yFn({dx:0,dy:0,fontSize:0}),o=i=l.xFn({dx:0,dy:0,fontSize:0})}return{top:n,bottom:a,left:o,right:i,height:a-n,width:i-o}}lr.getTickSigns=function(e,r){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],a=e.side===n?1:-1,o=[-1,1,a,-a],i=r?(e.minor||{}).ticks:e.ticks;return i!=="inside"==(t==="x")&&(o=o.map(function(l){return-l})),e.side&&o.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),o};lr.makeTransTickFn=function(e){return e._id.charAt(0)==="x"?function(r){return hu(e._offset+e.l2p(r.x),0)}:function(r){return hu(0,e._offset+e.l2p(r.x))}};lr.makeTransTickLabelFn=function(e){var r=pZ(e),t=e.ticklabelshift||0,n=e.ticklabelstandoff||0,a=r[0],o=r[1],i=e.range[0]>e.range[1],l=e.ticklabelposition&&e.ticklabelposition.indexOf("inside")!==-1,u=!l;if(t){var s=i?-1:1;t=t*s}if(n){var f=e.side,v=l&&(f==="top"||f==="left")||u&&(f==="bottom"||f==="right")?1:-1;n=n*v}return e._id.charAt(0)==="x"?function(g){return hu(a+e._offset+e.l2p(S2(g))+t,o+n)}:function(g){return hu(o+n,a+e._offset+e.l2p(S2(g))+t)}};function S2(e){return e.periodX!==void 0?e.periodX:e.x}function pZ(e){var r=e.ticklabelposition||"",t=function(b){return r.indexOf(b)!==-1},n=t("top"),a=t("left"),o=t("right"),i=t("bottom"),l=t("inside"),u=i||a||n||o;if(!u&&!l)return[0,0];var s=e.side,f=u?(e.tickwidth||0)/2:0,v=vh,g=e.tickfont?e.tickfont.size:12;return(i||n)&&(f+=g*jl,v+=(e.linewidth||0)/2),(a||o)&&(f+=(e.linewidth||0)/2,v+=vh),l&&s==="top"&&(v-=g*(1-jl)),(a||n)&&(f=-f),(s==="bottom"||s==="right")&&(v=-v),[u?f:0,l?v:0]}lr.makeTickPath=function(e,r,t,n){n||(n={});var a=n.minor;if(a&&!e.minor)return"";var o=n.len!==void 0?n.len:a?e.minor.ticklen:e.ticklen,i=e._id.charAt(0),l=(e.linewidth||1)/2;return i==="x"?"M0,"+(r+l*t)+"v"+o*t:"M"+(r+l*t)+",0h"+o*t};lr.makeLabelFns=function(e,r,t){var n=e.ticklabelposition||"",a=function(R){return n.indexOf(R)!==-1},o=a("top"),i=a("left"),l=a("right"),u=a("bottom"),s=u||i||o||l,f=a("inside"),v=n==="inside"&&e.ticks==="inside"||!f&&e.ticks==="outside"&&e.tickson!=="boundaries",g=0,b=0,x=v?e.ticklen:0;if(f?x*=-1:s&&(x=0),v&&(g+=x,t)){var T=Rr.deg2rad(t);g=x*Math.cos(T)+1,b=x*Math.sin(T)}e.showticklabels&&(v||e.showline)&&(g+=.2*e.tickfont.size),g+=(e.linewidth||1)/2*(f?-1:1);var A={labelStandoff:g,labelShift:b},m,w,k,y,M=0,d=e.side,_=e._id.charAt(0),p=e.tickangle,c;if(_==="x")c=!f&&d==="bottom"||f&&d==="top",y=c?1:-1,f&&(y*=-1),m=b*y,w=r+g*y,k=c?1:-.2,Math.abs(p)===90&&(f?k+=Xf:p===-90&&d==="bottom"?k=jl:p===90&&d==="top"?k=Xf:k=.5,M=Xf/2*(p/90)),A.xFn=function(R){return R.dx+m+M*R.fontSize},A.yFn=function(R){return R.dy+w+R.fontSize*k},A.anchorFn=function(R,E){if(s){if(i)return"end";if(l)return"start"}return!Kt(E)||E===0||E===180?"middle":E*y<0!==f?"end":"start"},A.heightFn=function(R,E,D){return E<-60||E>60?-.5*D:e.side==="top"!==f?-D:0};else if(_==="y"){if(c=!f&&d==="left"||f&&d==="right",y=c?1:-1,f&&(y*=-1),m=g,w=b*y,k=0,!f&&Math.abs(p)===90&&(p===-90&&d==="left"||p===90&&d==="right"?k=jl:k=.5),f){var S=Kt(p)?+p:0;if(S!==0){var h=Rr.deg2rad(S);M=Math.abs(Math.sin(h))*jl*y,k=0}}A.xFn=function(R){return R.dx+r-(m+R.fontSize*k)*y+M*R.fontSize},A.yFn=function(R){return R.dy+w+R.fontSize*Xf},A.anchorFn=function(R,E){return Kt(E)&&Math.abs(E)===90?"middle":c?"end":"start"},A.heightFn=function(R,E,D){return e.side==="right"&&(E*=-1),E<-30?-D:E<30?-.5*D:0}}return A};function gh(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}lr.drawTicks=function(e,r,t){t=t||{};var n=r._id+"tick",a=[].concat(r.minor&&r.minor.ticks?t.vals.filter(function(i){return i.minor&&!i.noTick}):[]).concat(r.ticks?t.vals.filter(function(i){return!i.minor&&!i.noTick}):[]),o=t.layer.selectAll("path."+n).data(a,gh);o.exit().remove(),o.enter().append("path").classed(n,1).classed("ticks",1).classed("crisp",t.crisp!==!1).each(function(i){return Jf.stroke(Na.select(this),i.minor?r.minor.tickcolor:r.tickcolor)}).style("stroke-width",function(i){return xa.crispRound(e,i.minor?r.minor.tickwidth:r.tickwidth,1)+"px"}).attr("d",t.path).style("display",null),yh(r,[HT]),o.attr("transform",t.transFn)};lr.drawGrid=function(e,r,t){if(t=t||{},r.tickmode!=="sync"){var n=r._id+"grid",a=r.minor&&r.minor.showgrid,o=a?t.vals.filter(function(m){return m.minor}):[],i=r.showgrid?t.vals.filter(function(m){return!m.minor}):[],l=t.counterAxis;if(l&&lr.shouldShowZeroLine(e,r,l))for(var u=r.tickmode==="array",s=0;s<i.length;s++){var f=i[s].x;if(u?!f:Math.abs(f)<r.dtick/100)if(i=i.slice(0,s).concat(i.slice(s+1)),u)s--;else break}r._gw=xa.crispRound(e,r.gridwidth,1);for(var v=a?xa.crispRound(e,r.minor.gridwidth,1):0,g=t.layer,b=t.minorLayer,x=1;x>=0;x--){var T=x?g:b;if(T){var A=T.selectAll("path."+n).data(x?i:o,gh);A.exit().remove(),A.enter().append("path").classed(n,1).classed("crisp",t.crisp!==!1),A.attr("transform",t.transFn).attr("d",t.path).each(function(m){return Jf.stroke(Na.select(this),m.minor?r.minor.gridcolor:r.gridcolor||"#ddd")}).style("stroke-dasharray",function(m){return xa.dashStyle(m.minor?r.minor.griddash:r.griddash,m.minor?r.minor.gridwidth:r.gridwidth)}).style("stroke-width",function(m){return(m.minor?v:r._gw)+"px"}).style("display",null),typeof t.path=="function"&&A.attr("d",t.path)}}yh(r,[A2,k2])}};lr.drawZeroLine=function(e,r,t){t=t||t;var n=r._id+"zl",a=lr.shouldShowZeroLine(e,r,t.counterAxis),o=t.layer.selectAll("path."+n).data(a?[{x:0,id:r._id}]:[]);o.exit().remove(),o.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",t.crisp!==!1).each(function(){t.layer.selectAll("path").sort(function(i,l){return WX(i.id,l.id)})}),o.attr("transform",t.transFn).attr("d",t.path).call(Jf.stroke,r.zerolinecolor||Jf.defaultLine).style("stroke-width",xa.crispRound(e,r.zerolinewidth,r._gw||1)+"px").style("display",null),yh(r,[M2])};lr.drawLabels=function(e,r,t){t=t||{};var n=e._fullLayout,a=r._id,o=t.cls||a+"tick",i=t.vals.filter(function(L){return L.text}),l=t.labelFns,u=t.secondary?0:r.tickangle,s=(r._prevTickAngles||{})[o],f=t.layer.selectAll("g."+o).data(r.showticklabels?i:[],gh),v=[];f.enter().append("g").classed(o,1).append("text").attr("text-anchor","middle").each(function(L){var P=Na.select(this),q=e._promises.length;P.call(Ql.positionText,l.xFn(L),l.yFn(L)).call(xa.font,{family:L.font,size:L.fontSize,color:L.fontColor,weight:L.fontWeight,style:L.fontStyle,variant:L.fontVariant,textcase:L.fontTextcase,lineposition:L.fontLineposition,shadow:L.fontShadow}).text(L.text).call(Ql.convertToTspans,e),e._promises[q]?v.push(e._promises.pop().then(function(){g(P,u)})):g(P,u)}),yh(r,[DT]),f.exit().remove(),t.repositionOnUpdate&&f.each(function(L){Na.select(this).select("text").call(Ql.positionText,l.xFn(L),l.yFn(L))});function g(L,P){L.each(function(q){var U=Na.select(this),W=U.select(".text-math-group"),j=l.anchorFn(q,P),$=t.transFn.call(U.node(),q)+(Kt(P)&&+P!=0?" rotate("+P+","+l.xFn(q)+","+(l.yFn(q)-q.fontSize/2)+")":""),G=Ql.lineCount(U),O=Qf*q.fontSize,Z=l.heightFn(q,Kt(P)?+P:0,(G-1)*O);if(Z&&($+=hu(0,Z)),W.empty()){var ne=U.select("text");ne.attr({transform:$,"text-anchor":j}),ne.style("opacity",1),r._adjustTickLabelsOverflow&&r._adjustTickLabelsOverflow()}else{var Q=xa.bBox(W.node()).width,ie=Q*{end:-.5,start:.5}[j];W.attr("transform",$+hu(ie,0))}})}r._adjustTickLabelsOverflow=function(){var L=r.ticklabeloverflow;if(!(!L||L==="allow")){var P=L.indexOf("hide")!==-1,q=r._id.charAt(0)==="x",U=0,W=q?e._fullLayout.width:e._fullLayout.height;if(L.indexOf("domain")!==-1){var j=Rr.simpleMap(r.range,r.r2l);U=r.l2p(j[0])+r._offset,W=r.l2p(j[1])+r._offset}var $=Math.min(U,W),G=Math.max(U,W),O=r.side,Z=1/0,ne=-1/0;f.each(function(V){var re=Na.select(this),H=re.select(".text-math-group");if(H.empty()){var te=xa.bBox(re.node()),se=0;q?(te.right>G||te.left<$)&&(se=1):(te.bottom>G||te.top+(r.tickangle?0:V.fontSize/4)<$)&&(se=1);var he=re.select("text");se?P&&he.style("opacity",0):(he.style("opacity",1),O==="bottom"||O==="right"?Z=Math.min(Z,q?te.top:te.left):Z=-1/0,O==="top"||O==="left"?ne=Math.max(ne,q?te.bottom:te.right):ne=1/0)}});for(var Q in n._plots){var ie=n._plots[Q];if(!(r._id!==ie.xaxis._id&&r._id!==ie.yaxis._id)){var ee=q?ie.yaxis:ie.xaxis;ee&&(ee["_visibleLabelMin_"+r._id]=Z,ee["_visibleLabelMax_"+r._id]=ne)}}}},r._hideCounterAxisInsideTickLabels=function(L){var P=r._id.charAt(0)==="x",q=[];for(var U in n._plots){var W=n._plots[U];r._id!==W.xaxis._id&&r._id!==W.yaxis._id||q.push(P?W.yaxis:W.xaxis)}q.forEach(function(j,$){j&&jf(j)&&(L||[M2,k2,A2,HT,DT]).forEach(function(G){var O=G.K==="tick"&&G.L==="text"&&r.ticklabelmode==="period",Z=n._plots[r._mainSubplot],ne;G.K===M2.K?ne=Z.zerolinelayer.selectAll("."+r._id+"zl"):G.K===k2.K?ne=Z.minorGridlayer.selectAll("."+r._id):G.K===A2.K?ne=Z.gridlayer.selectAll("."+r._id):ne=Z[r._id.charAt(0)+"axislayer"],ne.each(function(){var Q=Na.select(this);G.L&&(Q=Q.selectAll(G.L)),Q.each(function(ie){var ee=r.l2p(O?S2(ie):ie.x)+r._offset,V=Na.select(this);ee<r["_visibleLabelMax_"+j._id]&&ee>r["_visibleLabelMin_"+j._id]?V.style("display","none"):G.K==="tick"&&!$&&V.style("display",null)})})})})},g(f,s+1?s:u);function b(){return v.length&&Promise.all(v)}var x=null;function T(){if(g(f,u),i.length&&r.autotickangles&&(r.type!=="log"||String(r.dtick).charAt(0)!=="D")){x=r.autotickangles[0];var L=0,P=[],q,U=1;f.each(function(De){L=Math.max(L,De.fontSize);var Ce=r.l2p(De.x),Oe=C2(this),Be=xa.bBox(Oe.node());U=Math.max(U,Ql.lineCount(Oe)),P.push({top:0,bottom:10,height:10,left:Ce-Be.width/2,right:Ce+Be.width/2+2,width:Be.width+2})});var W=(r.tickson==="boundaries"||r.showdividers)&&!t.secondary,j=i.length,$=Math.abs((i[j-1].x-i[0].x)*r._m)/(j-1),G=W?$/2:$,O=W?r.ticklen:L*1.25*U,Z=Math.sqrt(Math.pow(G,2)+Math.pow(O,2)),ne=G/Z,Q=r.autotickangles.map(function(De){return De*Math.PI/180}),ie=Q.find(function(De){return Math.abs(Math.cos(De))<=ne});ie===void 0&&(ie=Q.reduce(function(De,Ce){return Math.abs(Math.cos(De))<Math.abs(Math.cos(Ce))?De:Ce},Q[0]));var ee=ie*(180/Math.PI);if(W){var V=2;for(r.ticks&&(V+=r.tickwidth/2),q=0;q<P.length;q++){var re=i[q].xbnd,H=P[q];if(re[0]!==null&&H.left-r.l2p(re[0])<V||re[1]!==null&&r.l2p(re[1])-H.right<V){x=ee;break}}}else{var te=r.ticklabelposition||"",se=function(De){return te.indexOf(De)!==-1},he=se("top"),ke=se("left"),we=se("right"),ve=se("bottom"),Me=ve||ke||he||we,Se=Me?(r.tickwidth||0)+2*vh:0;for(q=0;q<P.length-1;q++)if(Rr.bBoxIntersect(P[q],P[q+1],Se)){x=ee;break}}x&&g(f,x)}}r._selections&&(r._selections[o]=f);var A=[b];r.automargin&&n._redrawFromAutoMarginCount&&s===90?(x=s,A.push(function(){g(f,s)})):A.push(T),r._tickAngles&&A.push(function(){r._tickAngles[o]=x===null?Kt(u)?u:0:x});var m=function(){var L=0,P=0;return f.each(function(q,U){var W=C2(this),j=W.select(".text-math-group");if(j.empty()){var $;r._vals[U]&&($=r._vals[U].bb||xa.bBox(W.node()),r._vals[U].bb=$),L=Math.max(L,$.width),P=Math.max(P,$.height)}}),{labelsMaxW:L,labelsMaxH:P}},w=r._anchorAxis;if(w&&(w.autorange||w.insiderange)&&jf(r)&&!XX(n,r._id)&&(n._insideTickLabelsUpdaterange||(n._insideTickLabelsUpdaterange={}),w.autorange&&(n._insideTickLabelsUpdaterange[w._name+".autorange"]=w.autorange,A.push(m)),w.insiderange)){var k=m(),y=r._id.charAt(0)==="y"?k.labelsMaxW:k.labelsMaxH;y+=2*vh,r.ticklabelposition==="inside"&&(y+=r.ticklen||0);var M=r.side==="right"||r.side==="top"?1:-1,d=M===1?1:0,_=M===1?0:1,p=[];p[_]=w.range[_];var c=w.range,S=w.r2p(c[d]),h=w.r2p(c[_]),R=n._insideTickLabelsUpdaterange[w._name+".range"];if(R){var E=w.r2p(R[d]),D=w.r2p(R[_]),N=M*(r._id.charAt(0)==="y"?1:-1);N*S<N*E&&(S=E,p[d]=c[d]=R[d]),N*h>N*D&&(h=D,p[_]=c[_]=R[_])}var I=Math.abs(h-S);I-y>0?(I-=y,y*=1+y/I):y=0,r._id.charAt(0)!=="y"&&(y=-y),p[d]=w.p2r(w.r2p(c[d])+M*y),w.autorange==="min"||w.autorange==="max reversed"?(p[0]=null,w._rangeInitial0=void 0,w._rangeInitial1=void 0):(w.autorange==="max"||w.autorange==="min reversed")&&(p[1]=null,w._rangeInitial0=void 0,w._rangeInitial1=void 0),n._insideTickLabelsUpdaterange[w._name+".range"]=p}var F=Rr.syncOrAsync(A);return F&&F.then&&e._promises.push(F),F};function gZ(e,r,t){var n=r._id+"divider",a=t.vals,o=t.layer.selectAll("path."+n).data(a,gh);o.exit().remove(),o.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(Jf.stroke,r.dividercolor).style("stroke-width",xa.crispRound(e,r.dividerwidth,1)+"px"),o.attr("transform",t.transFn).attr("d",t.path)}lr.getPxPosition=function(e,r){var t=e._fullLayout._size,n=r._id.charAt(0),a=r.side,o;if(r.anchor!=="free"?o=r._anchorAxis:n==="x"?o={_offset:t.t+(1-(r.position||0))*t.h,_length:0}:n==="y"&&(o={_offset:t.l+(r.position||0)*t.w+r._shift,_length:0}),a==="top"||a==="left")return o._offset;if(a==="bottom"||a==="right")return o._offset+o._length};function UT(e){var r=e.title.font.size,t=(e.title.text.match(Ql.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r*(jl+t*Qf):t?r*(t+1)*Qf:r}function yZ(e,r){var t=e._fullLayout,n=r._id,a=n.charAt(0),o=r.title.font.size,i,l=(r.title.text.match(Ql.BR_TAG_ALL)||[]).length;if(r.title.hasOwnProperty("standoff"))r.side==="bottom"||r.side==="right"?i=r._depth+r.title.standoff+o*jl:(r.side==="top"||r.side==="left")&&(i=r._depth+r.title.standoff+o*(Xf+l*Qf));else{var u=jf(r);if(r.type==="multicategory")i=r._depth;else{var s=1.5*o;u&&(s=.5*o,r.ticks==="outside"&&(s+=r.ticklen)),i=10+s+(r.linewidth?r.linewidth-1:0)}u||(a==="x"?i+=r.side==="top"?o*(r.showticklabels?1:0):o*(r.showticklabels?1.5:.5):i+=r.side==="right"?o*(r.showticklabels?1:.5):o*(r.showticklabels?.5:0))}var f=lr.getPxPosition(e,r),v,g,b;a==="x"?(g=r._offset+r._length/2,b=r.side==="top"?f-i:f+i):(b=r._offset+r._length/2,g=r.side==="right"?f+i:f-i,v={rotate:"-90",offset:0});var x;if(r.type!=="multicategory"){var T=r._selections[r._id+"tick"];if(x={selection:T,side:r.side},T&&T.node()&&T.node().parentNode){var A=xa.getTranslate(T.node().parentNode);x.offsetLeft=A.x,x.offsetTop=A.y}r.title.hasOwnProperty("standoff")&&(x.pad=0)}return r._titleStandoff=i,zX.draw(e,n+"title",{propContainer:r,propName:r._name+".title.text",placeholder:t._dfltTitle[a],avoid:x,transform:v,attributes:{x:g,y:b,"text-anchor":"middle"}})}lr.shouldShowZeroLine=function(e,r,t){var n=Rr.simpleMap(r.range,r.r2l);return n[0]*n[1]<=0&&r.zeroline&&(r.type==="linear"||r.type==="-")&&!(r.rangebreaks&&r.maskBreaks(0)===dh)&&(JT(r,0)||!mZ(e,r,t,n)||xZ(e,r))};lr.clipEnds=function(e,r){return r.filter(function(t){return JT(e,t.x)})};function JT(e,r){var t=e.l2p(r);return t>1&&t<e._length-1}function mZ(e,r,t,n){var a=t._mainAxis;if(!a)return;var o=e._fullLayout,i=r._id.charAt(0),l=lr.counterLetter(r._id),u=r._offset+(Math.abs(n[0])<Math.abs(n[1])==(i==="x")?0:r._length);function s(x){if(!x.showline||!x.linewidth)return!1;var T=Math.max((x.linewidth+r.zerolinewidth)/2,1);function A(k){return typeof k=="number"&&Math.abs(k-u)<T}if(A(x._mainLinePosition)||A(x._mainMirrorPosition))return!0;var m=x._linepositions||{};for(var w in m)if(A(m[w][0])||A(m[w][1]))return!0}var f=o._plots[t._mainSubplot];if(!(f.mainplotinfo||f).overlays.length)return s(t,u);for(var v=lr.list(e,l),g=0;g<v.length;g++){var b=v[g];if(b._mainAxis===a&&s(b,u))return!0}}function xZ(e,r){for(var t=e._fullData,n=r._mainSubplot,a=r._id.charAt(0),o=0;o<t.length;o++){var i=t[o];if(i.visible===!0&&i.xaxis+i.yaxis===n&&(Zf.traceIs(i,"bar-like")&&i.orientation==={x:"h",y:"v"}[a]||i.fill&&i.fill.charAt(i.fill.length-1)===a))return!0}return!1}function C2(e){var r=Na.select(e),t=r.select(".text-math-group");return t.empty()?r.select("text"):t}lr.allowAutoMargin=function(e){for(var r=lr.list(e,"",!0),t=0;t<r.length;t++){var n=r[t];n.automargin&&(vu.allowAutoMargin(e,D2(n)),n.mirror&&vu.allowAutoMargin(e,KT(n))),Zf.getComponentMethod("rangeslider","isVisible")(n)&&vu.allowAutoMargin(e,QT(n))}};function D2(e){return e._id+".automargin"}function KT(e){return D2(e)+".mirror"}function QT(e){return e._id+".rangeslider"}lr.swap=function(e,r){for(var t=bZ(e,r),n=0;n<t.length;n++)_Z(e,t[n].x,t[n].y)};function bZ(e,r){var t=[],n,a;for(n=0;n<r.length;n++){var o=[],i=e._fullData[r[n]].xaxis,l=e._fullData[r[n]].yaxis;if(!(!i||!l)){for(a=0;a<t.length;a++)(t[a].x.indexOf(i)!==-1||t[a].y.indexOf(l)!==-1)&&o.push(a);if(!o.length){t.push({x:[i],y:[l]});continue}var u=t[o[0]],s;if(o.length>1)for(a=1;a<o.length;a++)s=t[o[a]],oh(u.x,s.x),oh(u.y,s.y);oh(u.x,[i]),oh(u.y,[l])}}return t}function oh(e,r){for(var t=0;t<r.length;t++)e.indexOf(r[t])===-1&&e.push(r[t])}function _Z(e,r,t){var n=[],a=[],o=e.layout,i,l;for(i=0;i<r.length;i++)n.push(lr.getFromId(e,r[i]));for(i=0;i<t.length;i++)a.push(lr.getFromId(e,t[i]));var u=Object.keys(OX),s=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(i=0;i<u.length;i++){var v=u[i],g=n[0][v],b=a[0][v],x=!0,T=!1,A=!1;if(!(v.charAt(0)==="_"||typeof g=="function"||s.indexOf(v)!==-1)){for(l=1;l<n.length&&x;l++){var m=n[l][v];v==="type"&&f.indexOf(g)!==-1&&f.indexOf(m)!==-1&&g!==m?T=!0:m!==g&&(x=!1)}for(l=1;l<a.length&&x;l++){var w=a[l][v];v==="type"&&f.indexOf(b)!==-1&&f.indexOf(w)!==-1&&b!==w?A=!0:a[l][v]!==b&&(x=!1)}x&&(T&&(o[n[0]._name].type="linear"),A&&(o[a[0]._name].type="linear"),wZ(o,v,n,a,e._fullLayout._dfltTitle))}}for(i=0;i<e._fullLayout.annotations.length;i++){var k=e._fullLayout.annotations[i];r.indexOf(k.xref)!==-1&&t.indexOf(k.yref)!==-1&&Rr.swapAttrs(o.annotations[i],["?"])}}function wZ(e,r,t,n,a){var o=Rr.nestedProperty,i=o(e[t[0]._name],r).get(),l=o(e[n[0]._name],r).get(),u;for(r==="title"&&(i&&i.text===a.x&&(i.text=a.y),l&&l.text===a.y&&(l.text=a.x)),u=0;u<t.length;u++)o(e,t[u]._name+"."+r).set(l);for(u=0;u<n.length;u++)o(e,n[u]._name+"."+r).set(i)}function P2(e){return e._id==="angularaxis"}function w2(e,r){for(var t=r._rangebreaks.length,n=0;n<t;n++){var a=r._rangebreaks[n];if(e>=a.min&&e<a.max)return a.max}return e}function jf(e){return(e.ticklabelposition||"").indexOf("inside")!==-1}function yh(e,r){jf(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(r)}function E2(e,r,t,n){var a=e.anchor!=="free"&&(e.overlaying===void 0||e.overlaying===!1)?e._id:e.overlaying,o;n?o=e.side==="right"?r:-r:o=r,a in t||(t[a]={}),e.side in t[a]||(t[a][e.side]=0),t[a][e.side]+=o}function TZ(e,r){return e.autoshift?r[e.overlaying][e.side]:e.shift||0}function MZ(e,r){return/%f/.test(r)?e>=VX:/%L/.test(r)?e>=HX:/%[SX]/.test(r)?e>=ch:/%M/.test(r)?e>=Kf:/%[HI]/.test(r)?e>=Oi:/%p/.test(r)?e>=Zo:/%[Aadejuwx]/.test(r)?e>=Un:/%[UVW]/.test(r)?e>=ba:/%[Bbm]/.test(r)?e>=fh:/%[q]/.test(r)?e>=uh:/%[Yy]/.test(r)?e>=sh:!0}});var eM=pe((Bve,jT)=>{"use strict";jT.exports=function(r,t,n){var a,o;if(n){var i=t==="reversed"||t==="min reversed"||t==="max reversed";a=n[i?1:0],o=n[i?0:1]}var l=r("autorangeoptions.minallowed",o===null?a:void 0),u=r("autorangeoptions.maxallowed",a===null?o:void 0);l===void 0&&r("autorangeoptions.clipmin"),u===void 0&&r("autorangeoptions.clipmax"),r("autorangeoptions.include")}});var F2=pe((Uve,rM)=>{"use strict";var AZ=eM();rM.exports=function(r,t,n,a){var o=t._template||{},i=t.type||o.type||"-";n("minallowed"),n("maxallowed");var l=n("range");if(!l){var u;!a.noInsiderange&&i!=="log"&&(u=n("insiderange"),u&&(u[0]===null||u[1]===null)&&(t.insiderange=!1,u=void 0),u&&(l=n("range",u)))}var s=t.getAutorangeDflt(l,a),f=n("autorange",s),v;l&&(l[0]===null&&l[1]===null||(l[0]===null||l[1]===null)&&(f==="reversed"||f===!0)||l[0]!==null&&(f==="min"||f==="max reversed")||l[1]!==null&&(f==="max"||f==="min reversed"))&&(l=void 0,delete t.range,t.autorange=!0,v=!0),v||(s=t.getAutorangeDflt(l,a),f=n("autorange",s)),f&&(AZ(n,f,l),(i==="linear"||i==="-")&&n("rangemode")),t.cleanRange()}});var nM=pe((Hve,tM)=>{var kZ={left:0,top:0};tM.exports=SZ;function SZ(e,r,t){r=r||e.currentTarget||e.srcElement,Array.isArray(t)||(t=[0,0]);var n=e.clientX||0,a=e.clientY||0,o=CZ(r);return t[0]=n-o.left,t[1]=a-o.top,t}function CZ(e){return e===window||e===document||e===document.body?kZ:e.getBoundingClientRect()}});var mh=pe((Vve,aM)=>{"use strict";var EZ=sg();function LZ(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(t){e=!1}return e}aM.exports=EZ&&LZ()});var oM=pe((Gve,iM)=>{"use strict";iM.exports=function(r,t,n,a,o){var i=(r-n)/(a-n),l=i+t/(a-n),u=(i+l)/2;return o==="left"||o==="bottom"?i:o==="center"||o==="middle"?u:o==="right"||o==="top"?l:i<2/3-u?i:l>4/3-u?l:u}});var uM=pe((Yve,sM)=>{"use strict";var lM=ir(),RZ=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];sM.exports=function(r,t,n,a){return n==="left"?r=0:n==="center"?r=1:n==="right"?r=2:r=lM.constrain(Math.floor(r*3),0,2),a==="bottom"?t=0:a==="middle"?t=1:a==="top"?t=2:t=lM.constrain(Math.floor(t*3),0,2),RZ[t][r]}});var cM=pe((Wve,fM)=>{"use strict";var DZ=Pf(),PZ=_v(),FZ=Af().getGraphDiv,IZ=Tf(),I2=fM.exports={};I2.wrapped=function(e,r,t){e=FZ(e),e._fullLayout&&PZ.clear(e._fullLayout._uid+IZ.HOVERID),I2.raw(e,r,t)};I2.raw=function(r,t){var n=r._fullLayout,a=r._hoverdata;t||(t={}),!(t.target&&!r._dragged&&DZ.triggerHandler(r,"plotly_beforehover",t)===!1)&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,t.target&&a&&r.emit("plotly_unhover",{event:t,points:a}))}});var oi=pe((Xve,dM)=>{"use strict";var NZ=nM(),N2=fg(),zZ=mh(),OZ=ir().removeElement,qZ=Tn(),es=dM.exports={};es.align=oM();es.getCursor=uM();var vM=cM();es.unhover=vM.wrapped;es.unhoverRaw=vM.raw;es.init=function(r){var t=r.gd,n=1,a=t._context.doubleClickDelay,o=r.element,i,l,u,s,f,v,g,b;t._mouseDownTime||(t._mouseDownTime=0),o.style.pointerEvents="all",o.onmousedown=A,zZ?(o._ontouchstart&&o.removeEventListener("touchstart",o._ontouchstart),o._ontouchstart=A,o.addEventListener("touchstart",A,{passive:!1})):o.ontouchstart=A;function x(k,y,M){return Math.abs(k)<M&&(k=0),Math.abs(y)<M&&(y=0),[k,y]}var T=r.clampFn||x;function A(k){t._dragged=!1,t._dragging=!0;var y=z2(k);i=y[0],l=y[1],g=k.target,v=k,b=k.buttons===2||k.ctrlKey,typeof k.clientX=="undefined"&&typeof k.clientY=="undefined"&&(k.clientX=i,k.clientY=l),u=new Date().getTime(),u-t._mouseDownTime<a?n+=1:(n=1,t._mouseDownTime=u),r.prepFn&&r.prepFn(k,i,l),N2&&!b?(f=hM(),f.style.cursor=window.getComputedStyle(o).cursor):N2||(f=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(o).cursor),document.addEventListener("mouseup",w),document.addEventListener("touchend",w),r.dragmode!==!1&&(k.preventDefault(),document.addEventListener("mousemove",m),document.addEventListener("touchmove",m,{passive:!1}))}function m(k){k.preventDefault();var y=z2(k),M=r.minDrag||qZ.MINDRAG,d=T(y[0]-i,y[1]-l,M),_=d[0],p=d[1];(_||p)&&(t._dragged=!0,es.unhover(t,k)),t._dragged&&r.moveFn&&!b&&(t._dragdata={element:o,dx:_,dy:p},r.moveFn(_,p))}function w(k){if(delete t._dragdata,r.dragmode!==!1&&(k.preventDefault(),document.removeEventListener("mousemove",m),document.removeEventListener("touchmove",m)),document.removeEventListener("mouseup",w),document.removeEventListener("touchend",w),N2?OZ(f):s&&(f.documentElement.style.cursor=s,s=null),!t._dragging){t._dragged=!1;return}if(t._dragging=!1,new Date().getTime()-t._mouseDownTime>a&&(n=Math.max(n-1,1)),t._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(n,v),!b){var y;try{y=new MouseEvent("click",k)}catch(d){var M=z2(k);y=document.createEvent("MouseEvents"),y.initMouseEvent("click",k.bubbles,k.cancelable,k.view,k.detail,k.screenX,k.screenY,M[0],M[1],k.ctrlKey,k.altKey,k.shiftKey,k.metaKey,k.button,k.relatedTarget)}g.dispatchEvent(y)}t._dragging=!1,t._dragged=!1}};function hM(){var e=document.createElement("div");e.className="dragcover";var r=e.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(e),e}es.coverSlip=hM;function z2(e){return NZ(e.changedTouches?e.changedTouches[0]:e,document.body)}});var Jo=pe((Zve,pM)=>{"use strict";pM.exports=function(r,t){(r.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&r.classed(n,!1)}),t&&r.classed("cursor-"+t,!0)}});var mM=pe((Jve,yM)=>{"use strict";var O2=Jo(),e0="data-savedcursor",gM="!!";yM.exports=function(r,t){var n=r.attr(e0);if(t){if(!n){for(var a=(r.attr("class")||"").split(" "),o=0;o<a.length;o++){var i=a[o];i.indexOf("cursor-")===0&&r.attr(e0,i.substr(7)).classed(i,!1)}r.attr(e0)||r.attr(e0,gM)}O2(r,t)}else n&&(r.attr(e0,null),n===gM?O2(r):O2(r,n))}});var B2=pe((Kve,xM)=>{"use strict";var q2=Sn(),BZ=Si();xM.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:BZ.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:q2({editType:"legend"}),grouptitlefont:q2({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:q2({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}});var bh=pe(xh=>{"use strict";xh.isGrouped=function(r){return(r.traceorder||"").indexOf("grouped")!==-1};xh.isVertical=function(r){return r.orientation!=="h"};xh.isReversed=function(r){return(r.traceorder||"").indexOf("reversed")!==-1}});var V2=pe(($ve,bM)=>{"use strict";var U2=Cr(),_a=ir(),UZ=gt(),HZ=Cn(),VZ=B2(),GZ=Xs(),H2=bh();function YZ(e,r,t,n){var a=r[e]||{},o=UZ.newContainer(t,e);function i(F,L){return _a.coerce(a,o,VZ,F,L)}var l=_a.coerceFont(i,"font",t.font);i("bgcolor",t.paper_bgcolor),i("bordercolor");var u=i("visible");if(u){for(var s,f=function(F,L){var P=s._input,q=s;return _a.coerce(P,q,HZ,F,L)},v=t.font||{},g=_a.coerceFont(i,"grouptitlefont",v,{overrideDflt:{size:Math.round(v.size*1.1)}}),b=0,x=!1,T="normal",A=(t.shapes||[]).filter(function(F){return F.showlegend}),m=n.concat(A).filter(function(F){return e===(F.legend||"legend")}),w=0;w<m.length;w++)if(s=m[w],!!s.visible){var k=s._isShape;(s.showlegend||s._dfltShowLegend&&!(s._module&&s._module.attributes&&s._module.attributes.showlegend&&s._module.attributes.showlegend.dflt===!1))&&(b++,s.showlegend&&(x=!0,(!k&&U2.traceIs(s,"pie-like")||s._input.showlegend===!0)&&b++),_a.coerceFont(f,"legendgrouptitle.font",g)),(!k&&U2.traceIs(s,"bar")&&t.barmode==="stack"||["tonextx","tonexty"].indexOf(s.fill)!==-1)&&(T=H2.isGrouped({traceorder:T})?"grouped+reversed":"reversed"),s.legendgroup!==void 0&&s.legendgroup!==""&&(T=H2.isReversed({traceorder:T})?"reversed+grouped":"grouped")}var y=_a.coerce(r,t,GZ,"showlegend",x&&b>(e==="legend"?1:0));if(y===!1&&(t[e]=void 0),!(y===!1&&!a.uirevision)&&(i("uirevision",t.uirevision),y!==!1)){i("borderwidth");var M=i("orientation"),d=i("yref"),_=i("xref"),p=M==="h",c=d==="paper",S=_==="paper",h,R,E,D="left";p?(h=0,U2.getComponentMethod("rangeslider","isVisible")(r.xaxis)?c?(R=1.1,E="bottom"):(R=1,E="top"):c?(R=-.1,E="top"):(R=0,E="bottom")):(R=1,E="auto",S?h=1.02:(h=1,D="right")),_a.coerce(a,o,{x:{valType:"number",editType:"legend",min:S?-2:0,max:S?3:1,dflt:h}},"x"),_a.coerce(a,o,{y:{valType:"number",editType:"legend",min:c?-2:0,max:c?3:1,dflt:R}},"y"),i("traceorder",T),H2.isGrouped(t[e])&&i("tracegroupgap"),i("entrywidth"),i("entrywidthmode"),i("indentation"),i("itemsizing"),i("itemwidth"),i("itemclick"),i("itemdoubleclick"),i("groupclick"),i("xanchor",D),i("yanchor",E),i("valign"),_a.noneOrAll(a,o,["x","y"]);var N=i("title.text");if(N){i("title.side",p?"left":"top");var I=_a.extendFlat({},l,{size:_a.bigFont(l.size)});_a.coerceFont(i,"title.font",I)}}}}bM.exports=function(r,t,n){var a,o=n.slice(),i=t.shapes;if(i)for(a=0;a<i.length;a++){var l=i[a];if(l.showlegend){var u={_input:l._input,visible:l.visible,showlegend:l.showlegend,legend:l.legend};o.push(u)}}var s=["legend"];for(a=0;a<o.length;a++)_a.pushUnique(s,o[a].legend);for(t._legends=[],a=0;a<s.length;a++){var f=s[a];YZ(f,r,t,o),t[f]&&t[f].visible&&(t[f]._id=f),t._legends.push(f)}}});var wM=pe((jve,_M)=>{"use strict";var Ko=Cr(),_h=ir(),WZ=_h.pushUnique,G2=!0;_M.exports=function(r,t,n){var a=t._fullLayout;if(t._dragged||t._editing)return;var o=a.legend.itemclick,i=a.legend.itemdoubleclick,l=a.legend.groupclick;n===1&&o==="toggle"&&i==="toggleothers"&&G2&&t.data&&t._context.showTips&&_h.notifier(_h._(t,"Double-click on legend to isolate one trace"),"long"),G2=!1;var u;if(n===1?u=o:n===2&&(u=i),!u)return;var s=l==="togglegroup",f=a.hiddenlabels?a.hiddenlabels.slice():[],v=r.data()[0][0];if(v.groupTitle&&v.noClick)return;var g=t._fullData,b=(a.shapes||[]).filter(function(Me){return Me.showlegend}),x=g.concat(b),T=v.trace;T._isShape&&(T=T._fullInput);var A=T.legendgroup,m,w,k,y,M,d,_={},p=[],c=[],S=[];function h(Me,Se){var De=p.indexOf(Me),Ce=_.visible;return Ce||(Ce=_.visible=[]),p.indexOf(Me)===-1&&(p.push(Me),De=p.length-1),Ce[De]=Se,De}var R=(a.shapes||[]).map(function(Me){return Me._input}),E=!1;function D(Me,Se){R[Me].visible=Se,E=!0}function N(Me,Se){if(!(v.groupTitle&&!s)){var De=Me._fullInput||Me,Ce=De._isShape,Oe=De.index;if(Oe===void 0&&(Oe=De._index),Ko.hasTransform(De,"groupby")){var Be=c[Oe];if(!Be){var ge=Ko.getTransformIndices(De,"groupby"),Ae=ge[ge.length-1];Be=_h.keyedContainer(De,"transforms["+Ae+"].styles","target","value.visible"),c[Oe]=Be}var ce=Be.get(Me._group);ce===void 0&&(ce=!0),ce!==!1&&Be.set(Me._group,Se),S[Oe]=h(Oe,De.visible!==!1)}else{var ye=De.visible===!1?!1:Se;Ce?D(Oe,ye):h(Oe,ye)}}}var I=T.legend,F=T._fullInput,L=F&&F._isShape;if(!L&&Ko.traceIs(T,"pie-like")){var P=v.label,q=f.indexOf(P);if(u==="toggle")q===-1?f.push(P):f.splice(q,1);else if(u==="toggleothers"){var U=q!==-1,W=[];for(m=0;m<t.calcdata.length;m++){var j=t.calcdata[m];for(w=0;w<j.length;w++){var $=j[w],G=$.label;I===j[0].trace.legend&&P!==G&&(f.indexOf(G)===-1&&(U=!0),WZ(f,G),W.push(G))}}if(!U)for(var O=0;O<W.length;O++){var Z=f.indexOf(W[O]);Z!==-1&&f.splice(Z,1)}}Ko.call("_guiRelayout",t,"hiddenlabels",f)}else{var ne=A&&A.length,Q=[],ie;if(ne)for(m=0;m<x.length;m++)ie=x[m],ie.visible&&ie.legendgroup===A&&Q.push(m);if(u==="toggle"){var ee;switch(T.visible){case!0:ee="legendonly";break;case!1:ee=!1;break;case"legendonly":ee=!0;break}if(ne)if(s)for(m=0;m<x.length;m++){var V=x[m];V.visible!==!1&&V.legendgroup===A&&N(V,ee)}else N(T,ee);else N(T,ee)}else if(u==="toggleothers"){var re,H,te,se,he,ke=!0;for(m=0;m<x.length;m++)if(he=x[m],re=he===T,te=he.showlegend!==!0,!(re||te)&&(H=ne&&he.legendgroup===A,!H&&he.legend===I&&he.visible===!0&&!Ko.traceIs(he,"notLegendIsolatable"))){ke=!1;break}for(m=0;m<x.length;m++)if(he=x[m],!(he.visible===!1||he.legend!==I)&&!Ko.traceIs(he,"notLegendIsolatable"))switch(T.visible){case"legendonly":N(he,!0);break;case!0:se=ke?!0:"legendonly",re=he===T,te=he.showlegend!==!0&&!he.legendgroup,H=re||ne&&he.legendgroup===A,N(he,H||te?!0:se);break}}for(m=0;m<c.length;m++)if(k=c[m],!!k){var we=k.constructUpdate(),ve=Object.keys(we);for(w=0;w<ve.length;w++)y=ve[w],d=_[y]=_[y]||[],d[S[m]]=we[y]}for(M=Object.keys(_),m=0;m<M.length;m++)for(y=M[m],w=0;w<p.length;w++)_[y].hasOwnProperty(w)||(_[y][w]=void 0);E?Ko.call("_guiUpdate",t,_,{shapes:R},p):Ko.call("_guiRestyle",t,_,p)}}});var Y2=pe((ehe,TM)=>{"use strict";TM.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}});var kM=pe((rhe,AM)=>{"use strict";var MM=Cr(),W2=bh();AM.exports=function(r,t,n){var a=t._inHover,o=W2.isGrouped(t),i=W2.isReversed(t),l={},u=[],s=!1,f={},v=0,g=0,b,x;function T(F,L,P){if(t.visible!==!1&&!(n&&F!==t._id))if(L===""||!W2.isGrouped(t)){var q="~~i"+v;u.push(q),l[q]=[P],v++}else u.indexOf(L)===-1?(u.push(L),s=!0,l[L]=[P]):l[L].push(P)}for(b=0;b<r.length;b++){var A=r[b],m=A[0],w=m.trace,k=w.legend,y=w.legendgroup;if(!(!a&&(!w.visible||!w.showlegend)))if(MM.traceIs(w,"pie-like"))for(f[y]||(f[y]={}),x=0;x<A.length;x++){var M=A[x].label;f[y][M]||(T(k,y,{label:M,color:A[x].color,i:A[x].i,trace:w,pts:A[x].pts}),f[y][M]=!0,g=Math.max(g,(M||"").length))}else T(k,y,m),g=Math.max(g,(w.name||"").length)}if(!u.length)return[];var d=!s||!o,_=[];for(b=0;b<u.length;b++){var p=l[u[b]];d?_.push(p[0]):_.push(p)}for(d&&(_=[_]),b=0;b<_.length;b++){var c=1/0;for(x=0;x<_[b].length;x++){var S=_[b][x].trace.legendrank;c>S&&(c=S)}_[b][0]._groupMinRank=c,_[b][0]._preGroupSort=b}var h=function(F,L){return F[0]._groupMinRank-L[0]._groupMinRank||F[0]._preGroupSort-L[0]._preGroupSort},R=function(F,L){return F.trace.legendrank-L.trace.legendrank||F._preSort-L._preSort};for(_.forEach(function(F,L){F[0]._preGroupSort=L}),_.sort(h),b=0;b<_.length;b++){_[b].forEach(function(F,L){F._preSort=L}),_[b].sort(R);var E=_[b][0].trace,D=null;for(x=0;x<_[b].length;x++){var N=_[b][x].trace.legendgrouptitle;if(N&&N.text){D=N,a&&(N.font=t._groupTitleFont);break}}if(i&&_[b].reverse(),D){var I=!1;for(x=0;x<_[b].length;x++)if(MM.traceIs(_[b][x].trace,"pie-like")){I=!0;break}_[b].unshift({i:-1,groupTitle:D,noClick:I,trace:{showlegend:E.showlegend,legendgroup:E.legendgroup,visible:t.groupclick==="toggleitem"?!0:E.visible}})}for(x=0;x<_[b].length;x++)_[b][x]=[_[b][x]]}return t._lgroupsLength=_.length,t._maxNameLength=g,_}});var X2=pe(rs=>{"use strict";var wh=ir();function SM(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}rs.formatPiePercent=function(r,t){var n=SM((r*100).toPrecision(3));return wh.numSeparate(n,t)+"%"};rs.formatPieValue=function(r,t){var n=SM(r.toPrecision(10));return wh.numSeparate(n,t)};rs.getFirstFilled=function(r,t){if(wh.isArrayOrTypedArray(r))for(var n=0;n<t.length;n++){var a=r[t[n]];if(a||a===0||a==="")return a}};rs.castOption=function(r,t){if(wh.isArrayOrTypedArray(r))return rs.getFirstFilled(r,t);if(r)return r};rs.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}});var EM=pe((nhe,CM)=>{"use strict";var XZ=yt(),ZZ=Kr();CM.exports=function(r,t,n,a){var o=n.marker.pattern;o&&o.shape?XZ.pointStyle(r,n,a,t):ZZ.fill(r,t.color)}});var PM=pe((ahe,DM)=>{"use strict";var LM=Kr(),RM=X2().castOption,JZ=EM();DM.exports=function(r,t,n,a){var o=n.marker.line,i=RM(o.color,t.pts)||LM.defaultLine,l=RM(o.width,t.pts)||0;r.call(JZ,t,n,a).style("stroke-width",l).call(LM.stroke,i)}});var Q2=pe((ihe,qM)=>{"use strict";var Hn=it(),Z2=Cr(),Rn=ir(),FM=Rn.strTranslate,Zn=yt(),za=Kr(),J2=Ri().extractOpts,Th=ca(),KZ=PM(),QZ=X2().castOption,$Z=Y2(),IM=12,NM=5,ts=2,jZ=10,pu=5;qM.exports=function(r,t,n){var a=t._fullLayout;n||(n=a.legend);var o=n.itemsizing==="constant",i=n.itemwidth,l=(i+$Z.itemGap*2)/2,u=FM(l,0),s=function(_,p,c,S){var h;if(_+1)h=_;else if(p&&p.width>0)h=p.width;else return 0;return o?S:Math.min(h,c)};r.each(function(_){var p=Hn.select(this),c=Rn.ensureSingle(p,"g","layers");c.style("opacity",_[0].trace.opacity);var S=n.indentation,h=n.valign,R=_[0].lineHeight,E=_[0].height;if(h==="middle"&&S===0||!R||!E)c.attr("transform",null);else{var D={top:1,bottom:-1}[h],N=D*(.5*(R-E+3))||0,I=n.indentation;c.attr("transform",FM(I,N))}var F=c.selectAll("g.legendfill").data([_]);F.enter().append("g").classed("legendfill",!0);var L=c.selectAll("g.legendlines").data([_]);L.enter().append("g").classed("legendlines",!0);var P=c.selectAll("g.legendsymbols").data([_]);P.enter().append("g").classed("legendsymbols",!0),P.selectAll("g.legendpoints").data([_]).enter().append("g").classed("legendpoints",!0)}).each(d).each(g).each(x).each(b).each(A).each(y).each(k).each(f).each(v).each(m).each(w);function f(_){var p=zM(_),c=p.showFill,S=p.showLine,h=p.showGradientLine,R=p.showGradientFill,E=p.anyFill,D=p.anyLine,N=_[0],I=N.trace,F,L,P=J2(I),q=P.colorscale,U=P.reversescale,W=function(Q){if(Q.size())if(c)Zn.fillGroupStyle(Q,t,!0);else{var ie="legendfill-"+I.uid;Zn.gradient(Q,t,ie,K2(U),q,"fill")}},j=function(Q){if(Q.size()){var ie="legendline-"+I.uid;Zn.lineGroupStyle(Q),Zn.gradient(Q,t,ie,K2(U),q,"stroke")}},$=Th.hasMarkers(I)||!E?"M5,0":D?"M5,-2":"M5,-3",G=Hn.select(this),O=G.select(".legendfill").selectAll("path").data(c||R?[_]:[]);if(O.enter().append("path").classed("js-fill",!0),O.exit().remove(),O.attr("d",$+"h"+i+"v6h-"+i+"z").call(W),S||h){var Z=s(void 0,I.line,jZ,NM);L=Rn.minExtend(I,{line:{width:Z}}),F=[Rn.minExtend(N,{trace:L})]}var ne=G.select(".legendlines").selectAll("path").data(S||h?[F]:[]);ne.enter().append("path").classed("js-line",!0),ne.exit().remove(),ne.attr("d",$+(h?"l"+i+",0.0001":"h"+i)).call(S?Zn.lineGroupStyle:j)}function v(_){var p=zM(_),c=p.anyFill,S=p.anyLine,h=p.showLine,R=p.showMarker,E=_[0],D=E.trace,N=!R&&!S&&!c&&Th.hasText(D),I,F;function L(O,Z,ne,Q){var ie=Rn.nestedProperty(D,O).get(),ee=Rn.isArrayOrTypedArray(ie)&&Z?Z(ie):ie;if(o&&ee&&Q!==void 0&&(ee=Q),ne){if(ee<ne[0])return ne[0];if(ee>ne[1])return ne[1]}return ee}function P(O){return E._distinct&&E.index&&O[E.index]?O[E.index]:O[0]}if(R||N||h){var q={},U={};if(R){q.mc=L("marker.color",P),q.mx=L("marker.symbol",P),q.mo=L("marker.opacity",Rn.mean,[.2,1]),q.mlc=L("marker.line.color",P),q.mlw=L("marker.line.width",Rn.mean,[0,5],ts),U.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var W=L("marker.size",Rn.mean,[2,16],IM);q.ms=W,U.marker.size=W}h&&(U.line={width:L("line.width",P,[0,10],NM)}),N&&(q.tx="Aa",q.tp=L("textposition",P),q.ts=10,q.tc=L("textfont.color",P),q.tf=L("textfont.family",P),q.tw=L("textfont.weight",P),q.ty=L("textfont.style",P),q.tv=L("textfont.variant",P),q.tC=L("textfont.textcase",P),q.tE=L("textfont.lineposition",P),q.tS=L("textfont.shadow",P)),I=[Rn.minExtend(E,q)],F=Rn.minExtend(D,U),F.selectedpoints=null,F.texttemplate=null}var j=Hn.select(this).select("g.legendpoints"),$=j.selectAll("path.scatterpts").data(R?I:[]);$.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",u),$.exit().remove(),$.call(Zn.pointStyle,F,t),R&&(I[0].mrc=3);var G=j.selectAll("g.pointtext").data(N?I:[]);G.enter().append("g").classed("pointtext",!0).append("text").attr("transform",u),G.exit().remove(),G.selectAll("text").call(Zn.textPointStyle,F,t)}function g(_){var p=_[0].trace,c=p.type==="waterfall";if(_[0]._distinct&&c){var S=_[0].trace[_[0].dir].marker;return _[0].mc=S.color,_[0].mlw=S.line.width,_[0].mlc=S.line.color,T(_,this,"waterfall")}var h=[];p.visible&&c&&(h=_[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=Hn.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(h);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",u).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(E){var D=Hn.select(this),N=p[E[0]].marker,I=s(void 0,N.line,pu,ts);D.attr("d",E[1]).style("stroke-width",I+"px").call(za.fill,N.color),I&&D.call(za.stroke,N.line.color)})}function b(_){T(_,this)}function x(_){T(_,this,"funnel")}function T(_,p,c){var S=_[0].trace,h=S.marker||{},R=h.line||{},E=h.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",D=c?S.visible&&S.type===c:Z2.traceIs(S,"bar"),N=Hn.select(p).select("g.legendpoints").selectAll("path.legend"+c).data(D?[_]:[]);N.enter().append("path").classed("legend"+c,!0).attr("d",E).attr("transform",u),N.exit().remove(),N.each(function(I){var F=Hn.select(this),L=I[0],P=s(L.mlw,h.line,pu,ts);F.style("stroke-width",P+"px");var q=L.mcc;if(!n._inHover&&"mc"in L){var U=J2(h),W=U.mid;W===void 0&&(W=(U.max+U.min)/2),q=Zn.tryColorscale(h,"")(W)}var j=q||L.mc||h.color,$=h.pattern,G=$&&Zn.getPatternAttr($.shape,0,"");if(G){var O=Zn.getPatternAttr($.bgcolor,0,null),Z=Zn.getPatternAttr($.fgcolor,0,null),ne=$.fgopacity,Q=OM($.size,8,10),ie=OM($.solidity,.5,1),ee="legend-"+S.uid;F.call(Zn.pattern,"legend",t,ee,G,Q,ie,q,$.fillmode,O,Z,ne)}else F.call(za.fill,j);P&&za.stroke(F,L.mlc||R.color)})}function A(_){var p=_[0].trace,c=Hn.select(this).select("g.legendpoints").selectAll("path.legendbox").data(p.visible&&Z2.traceIs(p,"box-violin")?[_]:[]);c.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",u),c.exit().remove(),c.each(function(){var S=Hn.select(this);if((p.boxpoints==="all"||p.points==="all")&&za.opacity(p.fillcolor)===0&&za.opacity((p.line||{}).color)===0){var h=Rn.minExtend(p,{marker:{size:o?IM:Rn.constrain(p.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});c.call(Zn.pointStyle,h,t)}else{var R=s(void 0,p.line,pu,ts);S.style("stroke-width",R+"px").call(za.fill,p.fillcolor),R&&za.stroke(S,p.line.color)}})}function m(_){var p=_[0].trace,c=Hn.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(p.visible&&p.type==="candlestick"?[_,_]:[]);c.enter().append("path").classed("legendcandle",!0).attr("d",function(S,h){return h?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",u).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(S,h){var R=Hn.select(this),E=p[h?"increasing":"decreasing"],D=s(void 0,E.line,pu,ts);R.style("stroke-width",D+"px").call(za.fill,E.fillcolor),D&&za.stroke(R,E.line.color)})}function w(_){var p=_[0].trace,c=Hn.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(p.visible&&p.type==="ohlc"?[_,_]:[]);c.enter().append("path").classed("legendohlc",!0).attr("d",function(S,h){return h?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",u).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(S,h){var R=Hn.select(this),E=p[h?"increasing":"decreasing"],D=s(void 0,E.line,pu,ts);R.style("fill","none").call(Zn.dashLine,E.line.dash,D),D&&za.stroke(R,E.line.color)})}function k(_){M(_,this,"pie")}function y(_){M(_,this,"funnelarea")}function M(_,p,c){var S=_[0],h=S.trace,R=c?h.visible&&h.type===c:Z2.traceIs(h,c),E=Hn.select(p).select("g.legendpoints").selectAll("path.legend"+c).data(R?[_]:[]);if(E.enter().append("path").classed("legend"+c,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",u),E.exit().remove(),E.size()){var D=h.marker||{},N=s(QZ(D.line.width,S.pts),D.line,pu,ts),I="pieLike",F=Rn.minExtend(h,{marker:{line:{width:N}}},I),L=Rn.minExtend(S,{trace:F},I);KZ(E,L,F,t)}}function d(_){var p=_[0].trace,c,S=[];if(p.visible)switch(p.type){case"histogram2d":case"heatmap":S=[["M-15,-2V4H15V-2Z"]],c=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":S=[["M-6,-6V6H6V-6Z"]],c=!0;break;case"densitymapbox":case"densitymap":S=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],c="radial";break;case"cone":S=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],c=!1;break;case"streamtube":S=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],c=!1;break;case"surface":S=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],c=!0;break;case"mesh3d":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!1;break;case"volume":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!0;break;case"isosurface":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],c=!1;break}var h=Hn.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(S);h.enter().append("path").classed("legend3dandfriends",!0).attr("transform",u).style("stroke-miterlimit",1),h.exit().remove(),h.each(function(R,E){var D=Hn.select(this),N=J2(p),I=N.colorscale,F=N.reversescale,L=function(W){if(W.size()){var j="legendfill-"+p.uid;Zn.gradient(W,t,j,K2(F,c==="radial"),I,"fill")}},P;if(I){if(!c){var U=I.length;P=E===0?I[F?U-1:0][1]:E===1?I[F?0:U-1][1]:I[Math.floor((U-1)/2)][1]}}else{var q=p.vertexcolor||p.facecolor||p.color;P=Rn.isArrayOrTypedArray(q)?q[E]||q[0]:q}D.attr("d",R[0]),P?D.call(za.fill,P):D.call(L)})}};function K2(e,r){var t=r?"radial":"horizontal";return t+(e?"":"reversed")}function zM(e){var r=e[0].trace,t=r.contours,n=Th.hasLines(r),a=Th.hasMarkers(r),o=r.visible&&r.fill&&r.fill!=="none",i=!1,l=!1;if(t){var u=t.coloring;u==="lines"?i=!0:n=u==="none"||u==="heatmap"||t.showlines,t.type==="constraint"?o=t._operation!=="=":(u==="fill"||u==="heatmap")&&(l=!0)}return{showMarker:a,showLine:n,showFill:o,showGradientLine:i,showGradientFill:l,anyLine:n||i,anyFill:o||l}}function OM(e,r,t){return e&&Rn.isArrayOrTypedArray(e)?r:e>t?t:e}});var ry=pe((ohe,JM)=>{"use strict";var va=it(),Yt=ir(),j2=nn(),Qo=Cr(),BM=Pf(),$2=oi(),Qt=yt(),Ah=Kr(),ns=Xn(),UM=wM(),an=Y2(),ey=Bn(),XM=ey.LINE_SPACING,yu=ey.FROM_TL,HM=ey.FROM_BR,VM=kM(),eJ=Q2(),GM=bh(),gu=1,rJ=/^legend[0-9]*$/;JM.exports=function(r,t){if(t)YM(r,t);else{var n=r._fullLayout,a=n._legends,o=n._infolayer.selectAll('[class^="legend"]');o.each(function(){var s=va.select(this),f=s.attr("class"),v=f.split(" ")[0];v.match(rJ)&&a.indexOf(v)===-1&&s.remove()});for(var i=0;i<a.length;i++){var l=a[i],u=r._fullLayout[l];YM(r,u)}}};function tJ(e,r,t){if(!(r.title.side!=="top center"&&r.title.side!=="top right")){var n=r.title.font,a=n.size*XM,o=0,i=e.node(),l=Qt.bBox(i).width;r.title.side==="top center"?o=.5*(r._width-2*t-2*an.titlePad-l):r.title.side==="top right"&&(o=r._width-2*t-2*an.titlePad-l),ns.positionText(e,t+an.titlePad+o,t+a)}}function YM(e,r){var t=r||{},n=e._fullLayout,a=Eh(t),o,i,l=t._inHover;if(l?(i=t.layer,o="hover"):(i=n._infolayer,o=a),!!i){o+=n._uid,e._legendMouseDownTime||(e._legendMouseDownTime=0);var u;if(l){if(!t.entries)return;u=VM(t.entries,t)}else{for(var s=(e.calcdata||[]).slice(),f=n.shapes,v=0;v<f.length;v++){var g=f[v];if(g.showlegend){var b={_isShape:!0,_fullInput:g,index:g._index,name:g.name||g.label.text||"shape "+g._index,legend:g.legend,legendgroup:g.legendgroup,legendgrouptitle:g.legendgrouptitle,legendrank:g.legendrank,legendwidth:g.legendwidth,showlegend:g.showlegend,visible:g.visible,opacity:g.opacity,mode:g.type==="line"?"lines":"markers",line:g.line,marker:{line:g.line,color:g.fillcolor,size:12,symbol:g.type==="rect"?"square":g.type==="circle"?"circle":"hexagon2"}};s.push([{trace:b}])}}u=n.showlegend&&VM(s,t,n._legends.length>1)}var x=n.hiddenlabels||[];if(!l&&(!n.showlegend||!u.length))return i.selectAll("."+a).remove(),n._topdefs.select("#"+o).remove(),j2.autoMargin(e,a);var T=Yt.ensureSingle(i,"g",a,function(p){l||p.attr("pointer-events","all")}),A=Yt.ensureSingleById(n._topdefs,"clipPath",o,function(p){p.append("rect")}),m=Yt.ensureSingle(T,"rect","bg",function(p){p.attr("shape-rendering","crispEdges")});m.call(Ah.stroke,t.bordercolor).call(Ah.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var w=Yt.ensureSingle(T,"g","scrollbox"),k=t.title;t._titleWidth=0,t._titleHeight=0;var y;k.text?(y=Yt.ensureSingle(w,"text",a+"titletext"),y.attr("text-anchor","start").call(Qt.font,k.font).text(k.text),kh(y,w,e,t,gu)):w.selectAll("."+a+"titletext").remove();var M=Yt.ensureSingle(T,"rect","scrollbar",function(p){p.attr(an.scrollBarEnterAttrs).call(Ah.fill,an.scrollBarColor)}),d=w.selectAll("g.groups").data(u);d.enter().append("g").attr("class","groups"),d.exit().remove();var _=d.selectAll("g.traces").data(Yt.identity);_.enter().append("g").attr("class","traces"),_.exit().remove(),_.style("opacity",function(p){var c=p[0].trace;return Qo.traceIs(c,"pie-like")?x.indexOf(p[0].label)!==-1?.5:1:c.visible==="legendonly"?.5:1}).each(function(){va.select(this).call(nJ,e,t)}).call(eJ,e,t).each(function(){l||va.select(this).call(aJ,e,a)}),Yt.syncOrAsync([j2.previousPromises,function(){return lJ(e,d,_,t)},function(){var p=n._size,c=t.borderwidth,S=t.xref==="paper",h=t.yref==="paper";if(k.text&&tJ(y,t,c),!l){var R,E;S?R=p.l+p.w*t.x-yu[Sh(t)]*t._width:R=n.width*t.x-yu[Sh(t)]*t._width,h?E=p.t+p.h*(1-t.y)-yu[Ch(t)]*t._effHeight:E=n.height*(1-t.y)-yu[Ch(t)]*t._effHeight;var D=sJ(e,a,R,E);if(D)return;if(n.margin.autoexpand){var N=R,I=E;R=S?Yt.constrain(R,0,n.width-t._width):N,E=h?Yt.constrain(E,0,n.height-t._effHeight):I,R!==N&&Yt.log("Constrain "+a+".x to make legend fit inside graph"),E!==I&&Yt.log("Constrain "+a+".y to make legend fit inside graph")}Qt.setTranslate(T,R,E)}if(M.on(".drag",null),T.on("wheel",null),l||t._height<=t._maxHeight||e._context.staticPlot){var F=t._effHeight;l&&(F=t._height),m.attr({width:t._width-c,height:F-c,x:c/2,y:c/2}),Qt.setTranslate(w,0,0),A.select("rect").attr({width:t._width-2*c,height:F-2*c,x:c,y:c}),Qt.setClipUrl(w,o,e),Qt.setRect(M,0,0,0,0),delete t._scrollY}else{var L=Math.max(an.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),P=t._effHeight-L-2*an.scrollBarMargin,q=t._height-t._effHeight,U=P/q,W=Math.min(t._scrollY||0,q);m.attr({width:t._width-2*c+an.scrollBarWidth+an.scrollBarMargin,height:t._effHeight-c,x:c/2,y:c/2}),A.select("rect").attr({width:t._width-2*c+an.scrollBarWidth+an.scrollBarMargin,height:t._effHeight-2*c,x:c,y:c+W}),Qt.setClipUrl(w,o,e),ie(W,L,U),T.on("wheel",function(){W=Yt.constrain(t._scrollY+va.event.deltaY/P*q,0,q),ie(W,L,U),W!==0&&W!==q&&va.event.preventDefault()});var j,$,G,O=function(te,se,he){var ke=(he-se)/U+te;return Yt.constrain(ke,0,q)},Z=function(te,se,he){var ke=(se-he)/U+te;return Yt.constrain(ke,0,q)},ne=va.behavior.drag().on("dragstart",function(){var te=va.event.sourceEvent;te.type==="touchstart"?j=te.changedTouches[0].clientY:j=te.clientY,G=W}).on("drag",function(){var te=va.event.sourceEvent;te.buttons===2||te.ctrlKey||(te.type==="touchmove"?$=te.changedTouches[0].clientY:$=te.clientY,W=O(G,j,$),ie(W,L,U))});M.call(ne);var Q=va.behavior.drag().on("dragstart",function(){var te=va.event.sourceEvent;te.type==="touchstart"&&(j=te.changedTouches[0].clientY,G=W)}).on("drag",function(){var te=va.event.sourceEvent;te.type==="touchmove"&&($=te.changedTouches[0].clientY,W=Z(G,j,$),ie(W,L,U))});w.call(Q)}function ie(te,se,he){t._scrollY=e._fullLayout[a]._scrollY=te,Qt.setTranslate(w,0,-te),Qt.setRect(M,t._width,an.scrollBarMargin+te*he,an.scrollBarWidth,se),A.select("rect").attr("y",c+te)}if(e._context.edits.legendPosition){var ee,V,re,H;T.classed("cursor-move",!0),$2.init({element:T.node(),gd:e,prepFn:function(te){if(te.target!==M.node()){var se=Qt.getTranslate(T);re=se.x,H=se.y}},moveFn:function(te,se){if(re!==void 0&&H!==void 0){var he=re+te,ke=H+se;Qt.setTranslate(T,he,ke),ee=$2.align(he,t._width,p.l,p.l+p.w,t.xanchor),V=$2.align(ke+t._height,-t._height,p.t+p.h,p.t,t.yanchor)}},doneFn:function(){if(ee!==void 0&&V!==void 0){var te={};te[a+".x"]=ee,te[a+".y"]=V,Qo.call("_guiRelayout",e,te)}},clickFn:function(te,se){var he=i.selectAll("g.traces").filter(function(){var ke=this.getBoundingClientRect();return se.clientX>=ke.left&&se.clientX<=ke.right&&se.clientY>=ke.top&&se.clientY<=ke.bottom});he.size()>0&&ZM(e,T,he,te,se)}})}}],e)}}function Mh(e,r,t){var n=e[0],a=n.width,o=r.entrywidthmode,i=n.trace.legendwidth||r.entrywidth;return o==="fraction"?r._maxWidth*i:t+(i||a)}function ZM(e,r,t,n,a){var o=t.data()[0][0].trace,i={event:a,node:t.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(i.group=o._group),Qo.traceIs(o,"pie-like")&&(i.label=t.datum()[0].label);var l=BM.triggerHandler(e,"plotly_legendclick",i);if(n===1){if(l===!1)return;r._clickTimeout=setTimeout(function(){e._fullLayout&&UM(t,e,n)},e._context.doubleClickDelay)}else if(n===2){r._clickTimeout&&clearTimeout(r._clickTimeout),e._legendMouseDownTime=0;var u=BM.triggerHandler(e,"plotly_legenddoubleclick",i);u!==!1&&l!==!1&&UM(t,e,n)}}function nJ(e,r,t){var n=Eh(t),a=e.data()[0][0],o=a.trace,i=Qo.traceIs(o,"pie-like"),l=!t._inHover&&r._context.edits.legendText&&!i,u=t._maxNameLength,s,f;a.groupTitle?(s=a.groupTitle.text,f=a.groupTitle.font):(f=t.font,t.entries?s=a.text:(s=i?a.label:o.name,o._meta&&(s=Yt.templateString(s,o._meta))));var v=Yt.ensureSingle(e,"text",n+"text");v.attr("text-anchor","start").call(Qt.font,f).text(l?WM(s,u):s);var g=t.indentation+t.itemwidth+an.itemGap*2;ns.positionText(v,g,0),l?v.call(ns.makeEditable,{gd:r,text:s}).call(kh,e,r,t).on("edit",function(b){this.text(WM(b,u)).call(kh,e,r,t);var x=a.trace._fullInput||{},T={};if(Qo.hasTransform(x,"groupby")){var A=Qo.getTransformIndices(x,"groupby"),m=A[A.length-1],w=Yt.keyedContainer(x,"transforms["+m+"].styles","target","value.name");w.set(a.trace._group,b),T=w.constructUpdate()}else T.name=b;return x._isShape?Qo.call("_guiRelayout",r,"shapes["+o.index+"].name",T.name):Qo.call("_guiRestyle",r,T,o.index)}):kh(v,e,r,t)}function WM(e,r){var t=Math.max(4,r);if(e&&e.trim().length>=t/2)return e;e=e||"";for(var n=t-e.length;n>0;n--)e+=" ";return e}function aJ(e,r,t){var n=r._context.doubleClickDelay,a,o=1,i=Yt.ensureSingle(e,"rect",t+"toggle",function(l){r._context.staticPlot||l.style("cursor","pointer").attr("pointer-events","all"),l.call(Ah.fill,"rgba(0,0,0,0)")});r._context.staticPlot||(i.on("mousedown",function(){a=new Date().getTime(),a-r._legendMouseDownTime<n?o+=1:(o=1,r._legendMouseDownTime=a)}),i.on("mouseup",function(){if(!(r._dragged||r._editing)){var l=r._fullLayout[t];new Date().getTime()-r._legendMouseDownTime>n&&(o=Math.max(o-1,1)),ZM(r,l,e,o,va.event)}}))}function kh(e,r,t,n,a){n._inHover&&e.attr("data-notex",!0),ns.convertToTspans(e,t,function(){iJ(r,t,n,a)})}function iJ(e,r,t,n){var a=e.data()[0][0];if(!t._inHover&&a&&!a.trace.showlegend){e.remove();return}var o=e.select("g[class*=math-group]"),i=o.node(),l=Eh(t);t||(t=r._fullLayout[l]);var u=t.borderwidth,s;n===gu?s=t.title.font:a.groupTitle?s=a.groupTitle.font:s=t.font;var f=s.size*XM,v,g;if(i){var b=Qt.bBox(i);v=b.height,g=b.width,n===gu?Qt.setTranslate(o,u,u+v*.75):Qt.setTranslate(o,0,v*.25)}else{var x="."+l+(n===gu?"title":"")+"text",T=e.select(x),A=ns.lineCount(T),m=T.node();if(v=f*A,g=m?Qt.bBox(m).width:0,n===gu)t.title.side==="left"&&(g+=an.itemGap*2),ns.positionText(T,u+an.titlePad,u+f);else{var w=an.itemGap*2+t.indentation+t.itemwidth;a.groupTitle&&(w=an.itemGap,g-=t.indentation+t.itemwidth),ns.positionText(T,w,-f*((A-1)/2-.3))}}n===gu?(t._titleWidth=g,t._titleHeight=v):(a.lineHeight=f,a.height=Math.max(v,16)+3,a.width=g)}function oJ(e){var r=0,t=0,n=e.title.side;return n&&(n.indexOf("left")!==-1&&(r=e._titleWidth),n.indexOf("top")!==-1&&(t=e._titleHeight)),[r,t]}function lJ(e,r,t,n){var a=e._fullLayout,o=Eh(n);n||(n=a[o]);var i=a._size,l=GM.isVertical(n),u=GM.isGrouped(n),s=n.entrywidthmode==="fraction",f=n.borderwidth,v=2*f,g=an.itemGap,b=n.indentation+n.itemwidth+g*2,x=2*(f+g),T=Ch(n),A=n.y<0||n.y===0&&T==="top",m=n.y>1||n.y===1&&T==="bottom",w=n.tracegroupgap,k={};n._maxHeight=Math.max(A||m?a.height/2:i.h,30);var y=0;n._width=0,n._height=0;var M=oJ(n);if(l)t.each(function(G){var O=G[0].height;Qt.setTranslate(this,f+M[0],f+M[1]+n._height+O/2+g),n._height+=O,n._width=Math.max(n._width,G[0].width)}),y=b+n._width,n._width+=g+b+v,n._height+=x,u&&(r.each(function(G,O){Qt.setTranslate(this,0,O*n.tracegroupgap)}),n._height+=(n._lgroupsLength-1)*n.tracegroupgap);else{var d=Sh(n),_=n.x<0||n.x===0&&d==="right",p=n.x>1||n.x===1&&d==="left",c=m||A,S=a.width/2;n._maxWidth=Math.max(_?c&&d==="left"?i.l+i.w:S:p?c&&d==="right"?i.r+i.w:S:i.w,2*b);var h=0,R=0;t.each(function(G){var O=Mh(G,n,b);h=Math.max(h,O),R+=O}),y=null;var E=0;if(u){var D=0,N=0,I=0;r.each(function(){var G=0,O=0;va.select(this).selectAll("g.traces").each(function(ne){var Q=Mh(ne,n,b),ie=ne[0].height;Qt.setTranslate(this,M[0],M[1]+f+g+ie/2+O),O+=ie,G=Math.max(G,Q),k[ne[0].trace.legendgroup]=G});var Z=G+g;N>0&&Z+f+N>n._maxWidth?(E=Math.max(E,N),N=0,I+=D+w,D=O):D=Math.max(D,O),Qt.setTranslate(this,N,I),N+=Z}),n._width=Math.max(E,N)+f,n._height=I+D+x}else{var F=t.size(),L=R+v+(F-1)*g<n._maxWidth,P=0,q=0,U=0,W=0;t.each(function(G){var O=G[0].height,Z=Mh(G,n,b,u),ne=L?Z:h;s||(ne+=g),ne+f+q-g>=n._maxWidth&&(E=Math.max(E,W),q=0,U+=P,n._height+=P,P=0),Qt.setTranslate(this,M[0]+f+q,M[1]+f+U+O/2+g),W=q+Z+g,q+=ne,P=Math.max(P,O)}),L?(n._width=q+v,n._height=P+x):(n._width=Math.max(E,W)+v,n._height+=P+x)}}n._width=Math.ceil(Math.max(n._width+M[0],n._titleWidth+2*(f+an.titlePad))),n._height=Math.ceil(Math.max(n._height+M[1],n._titleHeight+2*(f+an.itemGap))),n._effHeight=Math.min(n._height,n._maxHeight);var j=e._context.edits,$=j.legendText||j.legendPosition;t.each(function(G){var O=va.select(this).select("."+o+"toggle"),Z=G[0].height,ne=G[0].trace.legendgroup,Q=Mh(G,n,b);u&&ne!==""&&(Q=k[ne]);var ie=$?b:y||Q;!l&&!s&&(ie+=g/2),Qt.setRect(O,0,-Z/2,ie,Z)})}function sJ(e,r,t,n){var a=e._fullLayout,o=a[r],i=Sh(o),l=Ch(o),u=o.xref==="paper",s=o.yref==="paper";e._fullLayout._reservedMargin[r]={};var f=o.y<.5?"b":"t",v=o.x<.5?"l":"r",g={r:a.width-t,l:t+o._width,b:a.height-n,t:n+o._effHeight};if(u&&s)return j2.autoMargin(e,r,{x:o.x,y:o.y,l:o._width*yu[i],r:o._width*HM[i],b:o._effHeight*HM[l],t:o._effHeight*yu[l]});u?e._fullLayout._reservedMargin[r][f]=g[f]:s||o.orientation==="v"?e._fullLayout._reservedMargin[r][v]=g[v]:e._fullLayout._reservedMargin[r][f]=g[f]}function Sh(e){return Yt.isRightAnchor(e)?"right":Yt.isCenterAnchor(e)?"center":"left"}function Ch(e){return Yt.isBottomAnchor(e)?"bottom":Yt.isMiddleAnchor(e)?"middle":"top"}function Eh(e){return e._id||"legend"}});var iy=pe(ay=>{"use strict";var as=it(),lo=rt(),KM=La(),It=ir(),uJ=It.pushUnique,ty=It.strTranslate,fJ=It.strRotate,cJ=Pf(),Oa=Xn(),vJ=mM(),qi=yt(),cn=Kr(),Lh=oi(),Bi=wt(),hJ=Tn().zindexSeparator,xu=Cr(),li=io(),is=Tf(),dJ=V2(),pJ=ry(),a9=is.YANGLE,ny=Math.PI*a9/180,gJ=1/Math.sin(ny),yJ=Math.cos(ny),mJ=Math.sin(ny),Ct=is.HOVERARROWSIZE,$r=is.HOVERTEXTPAD,QM={box:!0,ohlc:!0,violin:!0,candlestick:!0},xJ={scatter:!0,scattergl:!0,splom:!0};function $M(e,r){return e.distance-r.distance}ay.hover=function(r,t,n,a){r=It.getGraphDiv(r);var o=t.target;It.throttle(r._fullLayout._uid+is.HOVERID,is.HOVERMINTIME,function(){bJ(r,t,n,a,o)})};ay.loneHover=function(r,t){var n=!0;Array.isArray(r)||(n=!1,r=[r]);var a=t.gd,o=u9(a),i=f9(a),l=r.map(function(A){var m=A._x0||A.x0||A.x||0,w=A._x1||A.x1||A.x||0,k=A._y0||A.y0||A.y||0,y=A._y1||A.y1||A.y||0,M=A.eventData;if(M){var d=Math.min(m,w),_=Math.max(m,w),p=Math.min(k,y),c=Math.max(k,y),S=A.trace;if(xu.traceIs(S,"gl3d")){var h=a._fullLayout[S.scene]._scene.container,R=h.offsetLeft,E=h.offsetTop;d+=R,_+=R,p+=E,c+=E}M.bbox={x0:d+i,x1:_+i,y0:p+o,y1:c+o},t.inOut_bbox&&t.inOut_bbox.push(M.bbox)}else M=!1;return{color:A.color||cn.defaultLine,x0:A.x0||A.x||0,x1:A.x1||A.x||0,y0:A.y0||A.y||0,y1:A.y1||A.y||0,xLabel:A.xLabel,yLabel:A.yLabel,zLabel:A.zLabel,text:A.text,name:A.name,idealAlign:A.idealAlign,borderColor:A.borderColor,fontFamily:A.fontFamily,fontSize:A.fontSize,fontColor:A.fontColor,fontWeight:A.fontWeight,fontStyle:A.fontStyle,fontVariant:A.fontVariant,nameLength:A.nameLength,textAlign:A.textAlign,trace:A.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:A.hovertemplate||!1,hovertemplateLabels:A.hovertemplateLabels||!1,eventData:M}}),u=!1,s=o9(l,{gd:a,hovermode:"closest",rotateLabels:u,bgColor:t.bgColor||cn.background,container:as.select(t.container),outerContainer:t.outerContainer||t.container}),f=s.hoverLabels,v=5,g=0,b=0;f.sort(function(A,m){return A.y0-m.y0}).each(function(A,m){var w=A.y0-A.by/2;w-v<g?A.offset=g-w+v:A.offset=0,g=w+A.by+A.offset,m===t.anchorIndex&&(b=A.offset)}).each(function(A){A.offset-=b});var x=a._fullLayout._invScaleX,T=a._fullLayout._invScaleY;return s9(f,u,x,T),n?f:f.node()};function bJ(e,r,t,n,a){t||(t="xy"),typeof t=="string"&&(t=t.split(hJ)[0]);var o=Array.isArray(t)?t:[t],i,l=e._fullLayout,u=l.hoversubplots,s=l._plots||[],f=s[t],v=l._has("cartesian"),g=r.hovermode||l.hovermode,b=(g||"").charAt(0)==="x",x=(g||"").charAt(0)==="y",T,A;if(v&&(b||x)&&u==="axis"){for(var m=o.length,w=0;w<m;w++)if(i=o[w],s[i]){T=Bi.getFromId(e,i,"x"),A=Bi.getFromId(e,i,"y");var k=(b?T:A)._subplotsWith;if(k&&k.length)for(var y=0;y<k.length;y++)uJ(o,k[y])}}if(f&&u!=="single"){var M=f.overlays.map(function(xr){return xr.id});o=o.concat(M)}for(var d=o.length,_=new Array(d),p=new Array(d),c=!1,S=0;S<d;S++)if(i=o[S],s[i])c=!0,_[S]=s[i].xaxis,p[S]=s[i].yaxis;else if(l[i]&&l[i]._subplot){var h=l[i]._subplot;_[S]=h.xaxis,p[S]=h.yaxis}else{It.warn("Unrecognized subplot: "+i);return}if(g&&!c&&(g="closest"),["x","y","closest","x unified","y unified"].indexOf(g)===-1||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return Lh.unhoverRaw(e,r);var R=l.hoverdistance;R===-1&&(R=1/0);var E=l.spikedistance;E===-1&&(E=1/0);var D=[],N=[],I,F,L,P,q,U,W,j,$,G,O,Z,ne,Q={hLinePoint:null,vLinePoint:null},ie=!1;if(Array.isArray(r))for(g="array",L=0;L<r.length;L++)q=e.calcdata[r[L].curveNumber||0],q&&(U=q[0].trace,q[0].trace.hoverinfo!=="skip"&&(N.push(q),U.orientation==="h"&&(ie=!0)));else{var ee=e.calcdata.slice();for(ee.sort(function(xr,ct){var Sr=xr[0].trace.zorder||0,Hr=ct[0].trace.zorder||0;return Sr-Hr}),P=0;P<ee.length;P++)q=ee[P],U=q[0].trace,U.hoverinfo!=="skip"&&li.isTraceInSubplots(U,o)&&(N.push(q),U.orientation==="h"&&(ie=!0));var V=!a,re,H;if(V)"xpx"in r?re=r.xpx:re=_[0]._length/2,"ypx"in r?H=r.ypx:H=p[0]._length/2;else{if(cJ.triggerHandler(e,"plotly_beforehover",r)===!1)return;var te=a.getBoundingClientRect();re=r.clientX-te.left,H=r.clientY-te.top,l._calcInverseTransform(e);var se=It.apply3DTransform(l._invTransform)(re,H);if(re=se[0],H=se[1],re<0||re>_[0]._length||H<0||H>p[0]._length)return Lh.unhoverRaw(e,r)}if(r.pointerX=re+_[0]._offset,r.pointerY=H+p[0]._offset,"xval"in r?I=li.flat(o,r.xval):I=li.p2c(_,re),"yval"in r?F=li.flat(o,r.yval):F=li.p2c(p,H),!lo(I[0])||!lo(F[0]))return It.warn("Fx.hover failed",r,e),Lh.unhoverRaw(e,r)}var he=1/0;function ke(xr,ct){for(P=0;P<N.length;P++)if(q=N[P],!(!q||!q[0]||!q[0].trace)&&(U=q[0].trace,!(U.visible!==!0||U._length===0)&&["carpet","contourcarpet"].indexOf(U._module.name)===-1)){if($=g,li.isUnifiedHover($)&&($=$.charAt(0)),U.type==="splom"?(j=0,W=o[j]):(W=li.getSubplot(U),j=o.indexOf(W)),Z={cd:q,trace:U,xa:_[j],ya:p[j],maxHoverDistance:R,maxSpikeDistance:E,index:!1,distance:Math.min(he,R),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:cn.defaultLine,name:U.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},l[W]&&(Z.subplot=l[W]._subplot),l._splomScenes&&l._splomScenes[U.uid]&&(Z.scene=l._splomScenes[U.uid]),$==="array"){var Sr=r[P];"pointNumber"in Sr?(Z.index=Sr.pointNumber,$="closest"):($="","xval"in Sr&&(G=Sr.xval,$="x"),"yval"in Sr&&(O=Sr.yval,$=$?"closest":"y"))}else xr!==void 0&&ct!==void 0?(G=xr,O=ct):(G=I[j],O=F[j]);if(ne=D.length,R!==0)if(U._module&&U._module.hoverPoints){var Hr=U._module.hoverPoints(Z,G,O,$,{finiteRange:!0,hoverLayer:l._hoverlayer,hoversubplots:u,gd:e});if(Hr)for(var bt,Or=0;Or<Hr.length;Or++)bt=Hr[Or],lo(bt.x0)&&lo(bt.y0)&&D.push(MJ(bt,g))}else It.log("Unrecognized trace type in hover:",U);if(g==="closest"&&D.length>ne&&(D.splice(0,ne),he=D[0].distance),v&&E!==0&&D.length===0){Z.distance=E,Z.index=!1;var Vr=U._module.hoverPoints(Z,G,O,"closest",{hoverLayer:l._hoverlayer});if(Vr&&(Vr=Vr.filter(function(nt){return nt.spikeDistance<=E})),Vr&&Vr.length){var Bt,Lt=Vr.filter(function(nt){return nt.xa.showspikes&&nt.xa.spikesnap!=="hovered data"});if(Lt.length){var mn=Lt[0];lo(mn.x0)&&lo(mn.y0)&&(Bt=ve(mn),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>Bt.spikeDistance)&&(Q.vLinePoint=Bt))}var Wt=Vr.filter(function(nt){return nt.ya.showspikes&&nt.ya.spikesnap!=="hovered data"});if(Wt.length){var Rt=Wt[0];lo(Rt.x0)&&lo(Rt.y0)&&(Bt=ve(Rt),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>Bt.spikeDistance)&&(Q.hLinePoint=Bt))}}}}}ke();function we(xr,ct,Sr){for(var Hr=null,bt=1/0,Or,Vr=0;Vr<xr.length;Vr++)T&&T._id!==xr[Vr].xa._id||A&&A._id!==xr[Vr].ya._id||(Or=xr[Vr].spikeDistance,Sr&&Vr===0&&(Or=-1/0),Or<=bt&&Or<=ct&&(Hr=xr[Vr],bt=Or));return Hr}function ve(xr){return xr?{xa:xr.xa,ya:xr.ya,x:xr.xSpike!==void 0?xr.xSpike:(xr.x0+xr.x1)/2,y:xr.ySpike!==void 0?xr.ySpike:(xr.y0+xr.y1)/2,distance:xr.distance,spikeDistance:xr.spikeDistance,curveNumber:xr.trace.index,color:xr.color,pointNumber:xr.index}:null}var Me={fullLayout:l,container:l._hoverlayer,event:r},Se=e._spikepoints,De={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};e._spikepoints=De;var Ce=function(){var xr=D.filter(function(Sr){return T&&T._id===Sr.xa._id&&A&&A._id===Sr.ya._id}),ct=D.filter(function(Sr){return!(T&&T._id===Sr.xa._id&&A&&A._id===Sr.ya._id)});xr.sort($M),ct.sort($M),D=xr.concat(ct),D=kJ(D,g)};Ce();var Oe=g.charAt(0),Be=(Oe==="x"||Oe==="y")&&D[0]&&xJ[D[0].trace.type];if(v&&E!==0&&D.length!==0){var ge=D.filter(function(xr){return xr.ya.showspikes}),Ae=we(ge,E,Be);Q.hLinePoint=ve(Ae);var ce=D.filter(function(xr){return xr.xa.showspikes}),ye=we(ce,E,Be);Q.vLinePoint=ve(ye)}if(D.length===0){var Le=Lh.unhoverRaw(e,r);return v&&(Q.hLinePoint!==null||Q.vLinePoint!==null)&&r9(Se)&&e9(e,Q,Me),Le}if(v&&r9(Se)&&e9(e,Q,Me),li.isXYhover($)&&D[0].length!==0&&D[0].trace.type!=="splom"){var me=D[0];QM[me.trace.type]?D=D.filter(function(xr){return xr.trace.index===me.trace.index}):D=[me];var de=D.length,be=n9("x",me,l),Ee=n9("y",me,l);ke(be,Ee);var ze=[],Fe={},Je=0,Ye=function(xr){var ct=QM[xr.trace.type]?i9(xr):xr.trace.index;if(!Fe[ct])Je++,Fe[ct]=Je,ze.push(xr);else{var Sr=Fe[ct]-1,Hr=ze[Sr];Sr>0&&Math.abs(xr.distance)<Math.abs(Hr.distance)&&(ze[Sr]=xr)}},Ge;for(Ge=0;Ge<de;Ge++)Ye(D[Ge]);for(Ge=D.length-1;Ge>de-1;Ge--)Ye(D[Ge]);D=ze,Ce()}var We=e._hoverdata,Te=[],Pe=u9(e),Qe=f9(e);for(L=0;L<D.length;L++){var Ve=D[L],ar=li.makeEventData(Ve,Ve.trace,Ve.cd);if(Ve.hovertemplate!==!1){var ue=!1;Ve.cd[Ve.index]&&Ve.cd[Ve.index].ht&&(ue=Ve.cd[Ve.index].ht),Ve.hovertemplate=ue||Ve.trace.hovertemplate||!1}if(Ve.xa&&Ve.ya){var K=Ve.x0+Ve.xa._offset,ae=Ve.x1+Ve.xa._offset,Re=Ve.y0+Ve.ya._offset,Ue=Ve.y1+Ve.ya._offset,je=Math.min(K,ae),nr=Math.max(K,ae),hr=Math.min(Re,Ue),wr=Math.max(Re,Ue);ar.bbox={x0:je+Qe,x1:nr+Qe,y0:hr+Pe,y1:wr+Pe}}Ve.eventData=[ar],Te.push(ar)}e._hoverdata=Te;var Er=g==="y"&&(N.length>1||D.length>1)||g==="closest"&&ie&&D.length>1,Mr=cn.combine(l.plot_bgcolor||cn.background,l.paper_bgcolor),Ar=o9(D,{gd:e,hovermode:g,rotateLabels:Er,bgColor:Mr,container:l._hoverlayer,outerContainer:l._paper.node(),commonLabelOpts:l.hoverlabel,hoverdistance:l.hoverdistance}),ft=Ar.hoverLabels;if(li.isUnifiedHover(g)||(wJ(ft,Er,l,Ar.commonLabelBoundingBox),s9(ft,Er,l._invScaleX,l._invScaleY)),a&&a.tagName){var Wr=xu.getComponentMethod("annotations","hasClickToShow")(e,Te);vJ(as.select(a),Wr?"pointer":"")}!a||n||!AJ(e,r,We)||(We&&e.emit("plotly_unhover",{event:r,points:We}),e.emit("plotly_hover",{event:r,points:e._hoverdata,xaxes:_,yaxes:p,xvals:I,yvals:F}))}function i9(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}var _J=/<extra>([\s\S]*)<\/extra>/;function o9(e,r){var t=r.gd,n=t._fullLayout,a=r.hovermode,o=r.rotateLabels,i=r.bgColor,l=r.container,u=r.outerContainer,s=r.commonLabelOpts||{};if(e.length===0)return[[]];var f=r.fontFamily||is.HOVERFONT,v=r.fontSize||is.HOVERFONTSIZE,g=r.fontWeight||n.font.weight,b=r.fontStyle||n.font.style,x=r.fontVariant||n.font.variant,T=r.fontTextcase||n.font.textcase,A=r.fontLineposition||n.font.lineposition,m=r.fontShadow||n.font.shadow,w=e[0],k=w.xa,y=w.ya,M=a.charAt(0),d=M+"Label",_=w[d];if(_===void 0&&k.type==="multicategory")for(var p=0;p<e.length&&(_=e[p][d],_===void 0);p++);var c=mu(t,u),S=c.top,h=c.width,R=c.height,E=_!==void 0&&w.distance<=r.hoverdistance&&(a==="x"||a==="y");if(E){var D=!0,N,I;for(N=0;N<e.length;N++)if(D&&e[N].zLabel===void 0&&(D=!1),I=e[N].hoverinfo||e[N].trace.hoverinfo,I){var F=Array.isArray(I)?I:I.split("+");if(F.indexOf("all")===-1&&F.indexOf(a)===-1){E=!1;break}}D&&(E=!1)}var L=l.selectAll("g.axistext").data(E?[0]:[]);L.enter().append("g").classed("axistext",!0),L.exit().remove();var P={minX:0,maxX:0,minY:0,maxY:0};if(L.each(function(){var ce=as.select(this),ye=It.ensureSingle(ce,"path","",function(je){je.style({"stroke-width":"1px"})}),Le=It.ensureSingle(ce,"text","",function(je){je.attr("data-notex",1)}),me=s.bgcolor||cn.defaultLine,de=s.bordercolor||cn.contrast(me),be=cn.contrast(me),Ee=s.font,ze={weight:Ee.weight||g,style:Ee.style||b,variant:Ee.variant||x,textcase:Ee.textcase||T,lineposition:Ee.lineposition||A,shadow:Ee.shadow||m,family:Ee.family||f,size:Ee.size||v,color:Ee.color||be};ye.style({fill:me,stroke:de}),Le.text(_).call(qi.font,ze).call(Oa.positionText,0,0).call(Oa.convertToTspans,t),ce.attr("transform","");var Fe=mu(t,Le.node()),Je,Ye;if(a==="x"){var Ge=k.side==="top"?"-":"";Le.attr("text-anchor","middle").call(Oa.positionText,0,k.side==="top"?S-Fe.bottom-Ct-$r:S-Fe.top+Ct+$r),Je=k._offset+(w.x0+w.x1)/2,Ye=y._offset+(k.side==="top"?0:y._length);var We=Fe.width/2+$r,Te=Je;Je<We?Te=We:Je>n.width-We&&(Te=n.width-We),ye.attr("d","M"+(Je-Te)+",0L"+(Je-Te+Ct)+","+Ge+Ct+"H"+We+"v"+Ge+($r*2+Fe.height)+"H"+-We+"V"+Ge+Ct+"H"+(Je-Te-Ct)+"Z"),Je=Te,P.minX=Je-We,P.maxX=Je+We,k.side==="top"?(P.minY=Ye-($r*2+Fe.height),P.maxY=Ye-$r):(P.minY=Ye+$r,P.maxY=Ye+($r*2+Fe.height))}else{var Pe,Qe,Ve;y.side==="right"?(Pe="start",Qe=1,Ve="",Je=k._offset+k._length):(Pe="end",Qe=-1,Ve="-",Je=k._offset),Ye=y._offset+(w.y0+w.y1)/2,Le.attr("text-anchor",Pe),ye.attr("d","M0,0L"+Ve+Ct+","+Ct+"V"+($r+Fe.height/2)+"h"+Ve+($r*2+Fe.width)+"V-"+($r+Fe.height/2)+"H"+Ve+Ct+"V-"+Ct+"Z"),P.minY=Ye-($r+Fe.height/2),P.maxY=Ye+($r+Fe.height/2),y.side==="right"?(P.minX=Je+Ct,P.maxX=Je+Ct+($r*2+Fe.width)):(P.minX=Je-Ct-($r*2+Fe.width),P.maxX=Je-Ct);var ar=Fe.height/2,ue=S-Fe.top-ar,K="clip"+n._uid+"commonlabel"+y._id,ae;if(Je<Fe.width+2*$r+Ct){ae="M-"+(Ct+$r)+"-"+ar+"h-"+(Fe.width-$r)+"V"+ar+"h"+(Fe.width-$r)+"Z";var Re=Fe.width-Je+$r;Oa.positionText(Le,Re,ue),Pe==="end"&&Le.selectAll("tspan").each(function(){var je=as.select(this),nr=qi.tester.append("text").text(je.text()).call(qi.font,ze),hr=mu(t,nr.node());Math.round(hr.width)<Math.round(Fe.width)&&je.attr("x",Re-hr.width),nr.remove()})}else Oa.positionText(Le,Qe*($r+Ct),ue),ae=null;var Ue=n._topclips.selectAll("#"+K).data(ae?[0]:[]);Ue.enter().append("clipPath").attr("id",K).append("path"),Ue.exit().remove(),Ue.select("path").attr("d",ae),qi.setClipUrl(Le,ae?K:null,t)}ce.attr("transform",ty(Je,Ye))}),li.isUnifiedHover(a)){l.selectAll("g.hovertext").remove();var q=e.filter(function(ce){return ce.hoverinfo!=="none"});if(q.length===0)return[];var U=n.hoverlabel,W=U.font,j={showlegend:!0,legend:{title:{text:_,font:W},font:W,bgcolor:U.bgcolor,bordercolor:U.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},$={font:W};dJ(j,$,t._fullData);var G=$.legend;G.entries=[];for(var O=0;O<q.length;O++){var Z=q[O];if(Z.hoverinfo!=="none"){var ne=jM(Z,!0,a,n,_),Q=ne[0],ie=ne[1];Z.name=ie,ie!==""?Z.text=ie+" : "+Q:Z.text=Q;var ee=Z.cd[Z.index];ee&&(ee.mc&&(Z.mc=ee.mc),ee.mcc&&(Z.mc=ee.mcc),ee.mlc&&(Z.mlc=ee.mlc),ee.mlcc&&(Z.mlc=ee.mlcc),ee.mlw&&(Z.mlw=ee.mlw),ee.mrc&&(Z.mrc=ee.mrc),ee.dir&&(Z.dir=ee.dir)),Z._distinct=!0,G.entries.push([Z])}}G.entries.sort(function(ce,ye){return ce[0].trace.index-ye[0].trace.index}),G.layer=l,G._inHover=!0,G._groupTitleFont=U.grouptitlefont,pJ(t,G);var V=l.select("g.legend"),re=mu(t,V.node()),H=re.width+2*$r,te=re.height+2*$r,se=q[0],he=(se.x0+se.x1)/2,ke=(se.y0+se.y1)/2,we=!(xu.traceIs(se.trace,"bar-like")||xu.traceIs(se.trace,"box-violin")),ve,Me;M==="y"?we?(Me=ke-$r,ve=ke+$r):(Me=Math.min.apply(null,q.map(function(ce){return Math.min(ce.y0,ce.y1)})),ve=Math.max.apply(null,q.map(function(ce){return Math.max(ce.y0,ce.y1)}))):Me=ve=It.mean(q.map(function(ce){return(ce.y0+ce.y1)/2}))-te/2;var Se,De;M==="x"?we?(Se=he+$r,De=he-$r):(Se=Math.max.apply(null,q.map(function(ce){return Math.max(ce.x0,ce.x1)})),De=Math.min.apply(null,q.map(function(ce){return Math.min(ce.x0,ce.x1)}))):Se=De=It.mean(q.map(function(ce){return(ce.x0+ce.x1)/2}))-H/2;var Ce=k._offset,Oe=y._offset;ve+=Oe,Se+=Ce,De+=Ce-H,Me+=Oe-te;var Be,ge;return Se+H<h&&Se>=0?Be=Se:De+H<h&&De>=0?Be=De:Ce+H<h?Be=Ce:Se-he<he-De+H?Be=h-H:Be=0,Be+=$r,ve+te<R&&ve>=0?ge=ve:Me+te<R&&Me>=0?ge=Me:Oe+te<R?ge=Oe:ve-ke<ke-Me+te?ge=R-te:ge=0,ge+=$r,V.attr("transform",ty(Be-1,ge-1)),V}var Ae=l.selectAll("g.hovertext").data(e,function(ce){return i9(ce)});return Ae.enter().append("g").classed("hovertext",!0).each(function(){var ce=as.select(this);ce.append("rect").call(cn.fill,cn.addOpacity(i,.8)),ce.append("text").classed("name",!0),ce.append("path").style("stroke-width","1px"),ce.append("text").classed("nums",!0).call(qi.font,{weight:g,style:b,variant:x,textcase:T,lineposition:A,shadow:m,family:f,size:v})}),Ae.exit().remove(),Ae.each(function(ce){var ye=as.select(this).attr("transform",""),Le=ce.color;Array.isArray(Le)&&(Le=Le[ce.eventData[0].pointNumber]);var me=ce.bgcolor||Le,de=cn.combine(cn.opacity(me)?me:cn.defaultLine,i),be=cn.combine(cn.opacity(Le)?Le:cn.defaultLine,i),Ee=ce.borderColor||cn.contrast(de),ze=jM(ce,E,a,n,_,ye),Fe=ze[0],Je=ze[1],Ye=ye.select("text.nums").call(qi.font,{family:ce.fontFamily||f,size:ce.fontSize||v,color:ce.fontColor||Ee,weight:ce.fontWeight||g,style:ce.fontStyle||b,variant:ce.fontVariant||x,textcase:ce.fontTextcase||T,lineposition:ce.fontLineposition||A,shadow:ce.fontShadow||m}).text(Fe).attr("data-notex",1).call(Oa.positionText,0,0).call(Oa.convertToTspans,t),Ge=ye.select("text.name"),We=0,Te=0;if(Je&&Je!==Fe){Ge.call(qi.font,{family:ce.fontFamily||f,size:ce.fontSize||v,color:be,weight:ce.fontWeight||g,style:ce.fontStyle||b,variant:ce.fontVariant||x,textcase:ce.fontTextcase||T,lineposition:ce.fontLineposition||A,shadow:ce.fontShadow||m}).text(Je).attr("data-notex",1).call(Oa.positionText,0,0).call(Oa.convertToTspans,t);var Pe=mu(t,Ge.node());We=Pe.width+2*$r,Te=Pe.height+2*$r}else Ge.remove(),ye.select("rect").remove();ye.select("path").style({fill:de,stroke:Ee});var Qe=ce.xa._offset+(ce.x0+ce.x1)/2,Ve=ce.ya._offset+(ce.y0+ce.y1)/2,ar=Math.abs(ce.x1-ce.x0),ue=Math.abs(ce.y1-ce.y0),K=mu(t,Ye.node()),ae=K.width/n._invScaleX,Re=K.height/n._invScaleY;ce.ty0=(S-K.top)/n._invScaleY,ce.bx=ae+2*$r,ce.by=Math.max(Re+2*$r,Te),ce.anchor="start",ce.txwidth=ae,ce.tx2width=We,ce.offset=0;var Ue=(ae+Ct+$r+We)*n._invScaleX,je,nr;if(o)ce.pos=Qe,je=Ve+ue/2+Ue<=R,nr=Ve-ue/2-Ue>=0,(ce.idealAlign==="top"||!je)&&nr?(Ve-=ue/2,ce.anchor="end"):je?(Ve+=ue/2,ce.anchor="start"):ce.anchor="middle",ce.crossPos=Ve;else{if(ce.pos=Ve,je=Qe+ar/2+Ue<=h,nr=Qe-ar/2-Ue>=0,(ce.idealAlign==="left"||!je)&&nr)Qe-=ar/2,ce.anchor="end";else if(je)Qe+=ar/2,ce.anchor="start";else{ce.anchor="middle";var hr=Ue/2,wr=Qe+hr-h,Er=Qe-hr;wr>0&&(Qe-=wr),Er<0&&(Qe+=-Er)}ce.crossPos=Qe}Ye.attr("text-anchor",ce.anchor),We&&Ge.attr("text-anchor",ce.anchor),ye.attr("transform",ty(Qe,Ve)+(o?fJ(a9):""))}),{hoverLabels:Ae,commonLabelBoundingBox:P}}function jM(e,r,t,n,a,o){var i="",l="";e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=It.templateString(e.name,e.trace._meta)),i=t9(e.name,e.nameLength));var u=t.charAt(0),s=u==="x"?"y":"x";e.zLabel!==void 0?(e.xLabel!==void 0&&(l+="x: "+e.xLabel+"<br>"),e.yLabel!==void 0&&(l+="y: "+e.yLabel+"<br>"),e.trace.type!=="choropleth"&&e.trace.type!=="choroplethmapbox"&&e.trace.type!=="choroplethmap"&&(l+=(l?"z: ":"")+e.zLabel)):r&&e[u+"Label"]===a?l=e[s+"Label"]||"":e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!=="scattercarpet"&&(l=e.yLabel):e.yLabel===void 0?l=e.xLabel:l="("+e.xLabel+", "+e.yLabel+")",(e.text||e.text===0)&&!Array.isArray(e.text)&&(l+=(l?"<br>":"")+e.text),e.extraText!==void 0&&(l+=(l?"<br>":"")+e.extraText),o&&l===""&&!e.hovertemplate&&(i===""&&o.remove(),l=i);var f=e.hovertemplate||!1;if(f){var v=e.hovertemplateLabels||e;e[u+"Label"]!==a&&(v[u+"other"]=v[u+"Val"],v[u+"otherLabel"]=v[u+"Label"]),l=It.hovertemplateString(f,v,n._d3locale,e.eventData[0]||{},e.trace._meta),l=l.replace(_J,function(g,b){return i=t9(b,e.nameLength),""})}return[l,i]}function wJ(e,r,t,n){var a=r?"xa":"ya",o=r?"ya":"xa",i=0,l=1,u=e.size(),s=new Array(u),f=0,v=n.minX,g=n.maxX,b=n.minY,x=n.maxY,T=function(I){return I*t._invScaleX},A=function(I){return I*t._invScaleY};e.each(function(I){var F=I[a],L=I[o],P=F._id.charAt(0)==="x",q=F.range;f===0&&q&&q[0]>q[1]!==P&&(l=-1);var U=0,W=P?t.width:t.height;if(t.hovermode==="x"||t.hovermode==="y"){var j=l9(I,r),$=I.anchor,G=$==="end"?-1:1,O,Z;if($==="middle")O=I.crossPos+(P?A(j.y-I.by/2):T(I.bx/2+I.tx2width/2)),Z=O+(P?A(I.by):T(I.bx));else if(P)O=I.crossPos+A(Ct+j.y)-A(I.by/2-Ct),Z=O+A(I.by);else{var ne=T(G*Ct+j.x),Q=ne+T(G*I.bx);O=I.crossPos+Math.min(ne,Q),Z=I.crossPos+Math.max(ne,Q)}P?b!==void 0&&x!==void 0&&Math.min(Z,x)-Math.max(O,b)>1&&(L.side==="left"?(U=L._mainLinePosition,W=t.width):W=L._mainLinePosition):v!==void 0&&g!==void 0&&Math.min(Z,g)-Math.max(O,v)>1&&(L.side==="top"?(U=L._mainLinePosition,W=t.height):W=L._mainLinePosition)}s[f++]=[{datum:I,traceIndex:I.trace.index,dp:0,pos:I.pos,posref:I.posref,size:I.by*(P?gJ:1)/2,pmin:U,pmax:W}]}),s.sort(function(I,F){return I[0].posref-F[0].posref||l*(F[0].traceIndex-I[0].traceIndex)});var m,w,k,y,M,d,_;function p(I){var F=I[0],L=I[I.length-1];if(w=F.pmin-F.pos-F.dp+F.size,k=L.pos+L.dp+L.size-F.pmax,w>.01){for(M=I.length-1;M>=0;M--)I[M].dp+=w;m=!1}if(!(k<.01)){if(w<-.01){for(M=I.length-1;M>=0;M--)I[M].dp-=k;m=!1}if(m){var P=0;for(y=0;y<I.length;y++)d=I[y],d.pos+d.dp+d.size>F.pmax&&P++;for(y=I.length-1;y>=0&&!(P<=0);y--)d=I[y],d.pos>F.pmax-1&&(d.del=!0,P--);for(y=0;y<I.length&&!(P<=0);y++)if(d=I[y],d.pos<F.pmin+1)for(d.del=!0,P--,k=d.size*2,M=I.length-1;M>=0;M--)I[M].dp-=k;for(y=I.length-1;y>=0&&!(P<=0);y--)d=I[y],d.pos+d.dp+d.size>F.pmax&&(d.del=!0,P--)}}}for(;!m&&i<=u;){for(i++,m=!0,y=0;y<s.length-1;){var c=s[y],S=s[y+1],h=c[c.length-1],R=S[0];if(w=h.pos+h.dp+h.size-R.pos-R.dp+R.size,w>.01){for(M=S.length-1;M>=0;M--)S[M].dp+=w;for(c.push.apply(c,S),s.splice(y+1,1),_=0,M=c.length-1;M>=0;M--)_+=c[M].dp;for(k=_/c.length,M=c.length-1;M>=0;M--)c[M].dp-=k;m=!1}else y++}s.forEach(p)}for(y=s.length-1;y>=0;y--){var E=s[y];for(M=E.length-1;M>=0;M--){var D=E[M],N=D.datum;N.offset=D.dp,N.del=D.del}}}function l9(e,r){var t=0,n=e.offset;return r&&(n*=-mJ,t=e.offset*yJ),{x:t,y:n}}function TJ(e){var r={start:1,end:-1,middle:0}[e.anchor],t=r*(Ct+$r),n=t+r*(e.txwidth+$r),a=e.anchor==="middle";return a&&(t-=e.tx2width/2,n+=e.txwidth/2+$r),{alignShift:r,textShiftX:t,text2ShiftX:n}}function s9(e,r,t,n){var a=function(i){return i*t},o=function(i){return i*n};e.each(function(i){var l=as.select(this);if(i.del)return l.remove();var u=l.select("text.nums"),s=i.anchor,f=s==="end"?-1:1,v=TJ(i),g=l9(i,r),b=g.x,x=g.y,T=s==="middle";l.select("path").attr("d",T?"M-"+a(i.bx/2+i.tx2width/2)+","+o(x-i.by/2)+"h"+a(i.bx)+"v"+o(i.by)+"h-"+a(i.bx)+"Z":"M0,0L"+a(f*Ct+b)+","+o(Ct+x)+"v"+o(i.by/2-Ct)+"h"+a(f*i.bx)+"v-"+o(i.by)+"H"+a(f*Ct+b)+"V"+o(x-Ct)+"Z");var A=b+v.textShiftX,m=x+i.ty0-i.by/2+$r,w=i.textAlign||"auto";w!=="auto"&&(w==="left"&&s!=="start"?(u.attr("text-anchor","start"),A=T?-i.bx/2-i.tx2width/2+$r:-i.bx-$r):w==="right"&&s!=="end"&&(u.attr("text-anchor","end"),A=T?i.bx/2-i.tx2width/2-$r:i.bx+$r)),u.call(Oa.positionText,a(A),o(m)),i.tx2width&&(l.select("text.name").call(Oa.positionText,a(v.text2ShiftX+v.alignShift*$r+b),o(x+i.ty0-i.by/2+$r)),l.select("rect").call(qi.setRect,a(v.text2ShiftX+(v.alignShift-1)*i.tx2width/2+b),o(x-i.by/2-1),a(i.tx2width),o(i.by+2)))})}function MJ(e,r){var t=e.index,n=e.trace||{},a=e.cd[0],o=e.cd[t]||{};function i(g){return g||lo(g)&&g===0}var l=Array.isArray(t)?function(g,b){var x=It.castOption(a,t,g);return i(x)?x:It.extractOption({},n,"",b)}:function(g,b){return It.extractOption(o,n,g,b)};function u(g,b,x){var T=l(b,x);i(T)&&(e[g]=T)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("fontWeight","htw","hoverlabel.font.weight"),u("fontStyle","hty","hoverlabel.font.style"),u("fontVariant","htv","hoverlabel.font.variant"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),e.posref=r==="y"||r==="closest"&&n.orientation==="h"?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=It.constrain(e.x0,0,e.xa._length),e.x1=It.constrain(e.x1,0,e.xa._length),e.y0=It.constrain(e.y0,0,e.ya._length),e.y1=It.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel="xLabel"in e?e.xLabel:Bi.hoverLabelText(e.xa,e.xLabelVal,n.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel="yLabel"in e?e.yLabel:Bi.hoverLabelText(e.ya,e.yLabelVal,n.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type==="log"&&e.xerr<=0)){var s=Bi.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;e.xerrneg!==void 0?e.xLabel+=" +"+s+" / -"+Bi.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xB1 "+s,r==="x"&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type==="log"&&e.yerr<=0)){var f=Bi.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;e.yerrneg!==void 0?e.yLabel+=" +"+f+" / -"+Bi.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xB1 "+f,r==="y"&&(e.distance+=1)}var v=e.hoverinfo||e.trace.hoverinfo;return v&&v!=="all"&&(v=Array.isArray(v)?v:v.split("+"),v.indexOf("x")===-1&&(e.xLabel=void 0),v.indexOf("y")===-1&&(e.yLabel=void 0),v.indexOf("z")===-1&&(e.zLabel=void 0),v.indexOf("text")===-1&&(e.text=void 0),v.indexOf("name")===-1&&(e.name=void 0)),e}function e9(e,r,t){var n=t.container,a=t.fullLayout,o=a._size,i=t.event,l=!!r.hLinePoint,u=!!r.vLinePoint,s,f;if(n.selectAll(".spikeline").remove(),!!(u||l)){var v=cn.combine(a.plot_bgcolor,a.paper_bgcolor);if(l){var g=r.hLinePoint,b,x;s=g&&g.xa,f=g&&g.ya;var T=f.spikesnap;T==="cursor"?(b=i.pointerX,x=i.pointerY):(b=s._offset+g.x,x=f._offset+g.y);var A=KM.readability(g.color,v)<1.5?cn.contrast(v):g.color,m=f.spikemode,w=f.spikethickness,k=f.spikecolor||A,y=Bi.getPxPosition(e,f),M,d;if(m.indexOf("toaxis")!==-1||m.indexOf("across")!==-1){if(m.indexOf("toaxis")!==-1&&(M=y,d=b),m.indexOf("across")!==-1){var _=f._counterDomainMin,p=f._counterDomainMax;f.anchor==="free"&&(_=Math.min(_,f.position),p=Math.max(p,f.position)),M=o.l+_*o.w,d=o.l+p*o.w}n.insert("line",":first-child").attr({x1:M,x2:d,y1:x,y2:x,"stroke-width":w,stroke:k,"stroke-dasharray":qi.dashStyle(f.spikedash,w)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:M,x2:d,y1:x,y2:x,"stroke-width":w+2,stroke:v}).classed("spikeline",!0).classed("crisp",!0)}m.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:y+(f.side!=="right"?w:-w),cy:x,r:w,fill:k}).classed("spikeline",!0)}if(u){var c=r.vLinePoint,S,h;s=c&&c.xa,f=c&&c.ya;var R=s.spikesnap;R==="cursor"?(S=i.pointerX,h=i.pointerY):(S=s._offset+c.x,h=f._offset+c.y);var E=KM.readability(c.color,v)<1.5?cn.contrast(v):c.color,D=s.spikemode,N=s.spikethickness,I=s.spikecolor||E,F=Bi.getPxPosition(e,s),L,P;if(D.indexOf("toaxis")!==-1||D.indexOf("across")!==-1){if(D.indexOf("toaxis")!==-1&&(L=F,P=h),D.indexOf("across")!==-1){var q=s._counterDomainMin,U=s._counterDomainMax;s.anchor==="free"&&(q=Math.min(q,s.position),U=Math.max(U,s.position)),L=o.t+(1-U)*o.h,P=o.t+(1-q)*o.h}n.insert("line",":first-child").attr({x1:S,x2:S,y1:L,y2:P,"stroke-width":N,stroke:I,"stroke-dasharray":qi.dashStyle(s.spikedash,N)}).classed("spikeline",!0).classed("crisp",!0),n.insert("line",":first-child").attr({x1:S,x2:S,y1:L,y2:P,"stroke-width":N+2,stroke:v}).classed("spikeline",!0).classed("crisp",!0)}D.indexOf("marker")!==-1&&n.insert("circle",":first-child").attr({cx:S,cy:F-(s.side!=="top"?N:-N),r:N,fill:I}).classed("spikeline",!0)}}}function AJ(e,r,t){if(!t||t.length!==e._hoverdata.length)return!0;for(var n=t.length-1;n>=0;n--){var a=t[n],o=e._hoverdata[n];if(a.curveNumber!==o.curveNumber||String(a.pointNumber)!==String(o.pointNumber)||String(a.pointNumbers)!==String(o.pointNumbers))return!0}return!1}function r9(e,r){return!r||r.vLinePoint!==e._spikepoints.vLinePoint||r.hLinePoint!==e._spikepoints.hLinePoint}function t9(e,r){return Oa.plainText(e||"",{len:r,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function kJ(e,r){for(var t=r.charAt(0),n=[],a=[],o=[],i=0;i<e.length;i++){var l=e[i];xu.traceIs(l.trace,"bar-like")||xu.traceIs(l.trace,"box-violin")?o.push(l):l.trace[t+"period"]?a.push(l):n.push(l)}return n.concat(a).concat(o)}function n9(e,r,t){var n=r[e+"a"],a=r[e+"Val"],o=r.cd[0];if(n.type==="category"||n.type==="multicategory")a=n._categoriesMap[a];else if(n.type==="date"){var i=r.trace[e+"periodalignment"];if(i){var l=r.cd[r.index],u=l[e+"Start"];u===void 0&&(u=l[e]);var s=l[e+"End"];s===void 0&&(s=l[e]);var f=s-u;i==="end"?a+=f:i==="middle"&&(a+=f/2)}a=n.d2c(a)}return o&&o.t&&o.t.posLetter===n._id&&(t.boxmode==="group"||t.violinmode==="group")&&(a+=o.t.dPos),a}function u9(e){return e.offsetTop+e.clientTop}function f9(e){return e.offsetLeft+e.clientLeft}function mu(e,r){var t=e._fullLayout,n=r.getBoundingClientRect(),a=n.left,o=n.top,i=a+n.width,l=o+n.height,u=It.apply3DTransform(t._invTransform)(a,o),s=It.apply3DTransform(t._invTransform)(i,l),f=u[0],v=u[1],g=s[0],b=s[1];return{x:f,y:v,width:g-f,height:b-v,top:Math.min(v,b),left:Math.min(f,g),right:Math.max(f,g),bottom:Math.max(v,b)}}});var Rh=pe((she,c9)=>{"use strict";var SJ=ir(),CJ=Kr(),EJ=io().isUnifiedHover;c9.exports=function(r,t,n,a){a=a||{};var o=t.legend;function i(l){a.font[l]||(a.font[l]=o?t.legend.font[l]:t.font[l])}t&&EJ(t.hovermode)&&(a.font||(a.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),o?(a.bgcolor||(a.bgcolor=CJ.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),SJ.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}});var h9=pe((uhe,v9)=>{"use strict";var LJ=ir(),RJ=Rh(),DJ=Rl();v9.exports=function(r,t){function n(a,o){return LJ.coerce(r,t,DJ,a,o)}RJ(r,t,n)}});var g9=pe((fhe,p9)=>{"use strict";var d9=ir(),PJ=jc(),FJ=Rh();p9.exports=function(r,t,n,a){function o(l,u){return d9.coerce(r,t,PJ,l,u)}var i=d9.extendFlat({},a.hoverlabel);t.hovertemplate&&(i.namelength=-1),FJ(r,t,o,i)}});var oy=pe((che,y9)=>{"use strict";var IJ=ir(),NJ=Rl();y9.exports=function(r,t){function n(a,o){return t[a]!==void 0?t[a]:IJ.coerce(r,t,NJ,a,o)}return n("clickmode"),n("hoversubplots"),n("hovermode")}});var b9=pe((vhe,x9)=>{"use strict";var m9=ir(),zJ=Rl(),OJ=oy(),qJ=Rh();x9.exports=function(r,t){function n(f,v){return m9.coerce(r,t,zJ,f,v)}var a=OJ(r,t);a&&(n("hoverdistance"),n("spikedistance"));var o=n("dragmode");o==="select"&&n("selectdirection");var i=t._has("mapbox"),l=t._has("map"),u=t._has("geo"),s=t._basePlotModules.length;t.dragmode==="zoom"&&((i||l||u)&&s===1||(i||l)&&u&&s===2)&&(t.dragmode="pan"),qJ(r,t,n),m9.coerceFont(n,"hoverlabel.grouptitlefont",t.hoverlabel.font)}});var T9=pe((hhe,w9)=>{"use strict";var ly=ir(),_9=Cr();w9.exports=function(r){var t=r.calcdata,n=r._fullLayout;function a(s){return function(f){return ly.coerceHoverinfo({hoverinfo:f},{_module:s._module},n)}}for(var o=0;o<t.length;o++){var i=t[o],l=i[0].trace;if(!_9.traceIs(l,"pie-like")){var u=_9.traceIs(l,"2dMap")?BJ:ly.fillArray;u(l.hoverinfo,i,"hi",a(l)),l.hovertemplate&&u(l.hovertemplate,i,"ht"),l.hoverlabel&&(u(l.hoverlabel.bgcolor,i,"hbg"),u(l.hoverlabel.bordercolor,i,"hbc"),u(l.hoverlabel.font.size,i,"hts"),u(l.hoverlabel.font.color,i,"htc"),u(l.hoverlabel.font.family,i,"htf"),u(l.hoverlabel.font.weight,i,"htw"),u(l.hoverlabel.font.style,i,"hty"),u(l.hoverlabel.font.variant,i,"htv"),u(l.hoverlabel.namelength,i,"hnl"),u(l.hoverlabel.align,i,"hta"))}}};function BJ(e,r,t,n){n=n||ly.identity,Array.isArray(e)&&(r[0][t]=n(e))}});var A9=pe((dhe,M9)=>{"use strict";var UJ=Cr(),HJ=iy().hover;M9.exports=function(r,t,n){var a=UJ.getComponentMethod("annotations","onClick")(r,r._hoverdata);n!==void 0&&HJ(r,t,n,!0);function o(){r.emit("plotly_click",{points:r._hoverdata,event:t})}r._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}});var so=pe((phe,C9)=>{"use strict";var VJ=it(),Dh=ir(),GJ=oi(),r0=io(),k9=Rl(),S9=iy();C9.exports={moduleType:"component",name:"fx",constants:Tf(),schema:{layout:k9},attributes:jc(),layoutAttributes:k9,supplyLayoutGlobalDefaults:h9(),supplyDefaults:g9(),supplyLayoutDefaults:b9(),calc:T9(),getDistanceFunction:r0.getDistanceFunction,getClosest:r0.getClosest,inbox:r0.inbox,quadrature:r0.quadrature,appendArrayPointValue:r0.appendArrayPointValue,castHoverOption:WJ,castHoverinfo:XJ,hover:S9.hover,unhover:GJ.unhover,loneHover:S9.loneHover,loneUnhover:YJ,click:A9()};function YJ(e){var r=Dh.isD3Selection(e)?e:VJ.select(e);r.selectAll("g.hovertext").remove(),r.selectAll(".spikeline").remove()}function WJ(e,r,t){return Dh.castOption(e,r,"hoverlabel."+t)}function XJ(e,r,t){function n(a){return Dh.coerceHoverinfo({hoverinfo:a},{_module:e._module},r)}return Dh.castOption(e,t,"hoverinfo",n)}});var bu=pe(uo=>{"use strict";uo.selectMode=function(e){return e==="lasso"||e==="select"};uo.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"};uo.openMode=function(e){return e==="drawline"||e==="drawopenpath"};uo.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"};uo.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"};uo.selectingOrDrawing=function(e){return uo.freeMode(e)||uo.rectMode(e)}});var Ph=pe((yhe,E9)=>{"use strict";E9.exports=function(r){var t=r._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}});var Fh=pe((mhe,L9)=>{"use strict";L9.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}});var Nh=pe((xhe,R9)=>{"use strict";var Ih=32;R9.exports={CIRCLE_SIDES:Ih,i000:0,i090:Ih/4,i180:Ih/2,i270:Ih/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}});var zh=pe((bhe,P9)=>{"use strict";var ZJ=ir().strTranslate;function D9(e,r){switch(e.type){case"log":return e.p2d(r);case"date":return e.p2r(r,0,e.calendar);default:return e.p2r(r)}}function JJ(e,r){switch(e.type){case"log":return e.d2p(r);case"date":return e.r2p(r,0,e.calendar);default:return e.r2p(r)}}function KJ(e){var r=e._id.charAt(0)==="y"?1:0;return function(t){return D9(e,t[r])}}function QJ(e){return ZJ(e.xaxis._offset,e.yaxis._offset)}P9.exports={p2r:D9,r2p:JJ,axValue:KJ,getTransform:QJ}});var $o=pe(fo=>{"use strict";var $J=Kg(),N9=Nh(),_u=N9.CIRCLE_SIDES,sy=N9.SQRT2,z9=zh(),F9=z9.p2r,I9=z9.r2p,jJ=[0,3,4,5,6,1,2],eK=[0,3,4,1,2];fo.writePaths=function(e){var r=e.length;if(!r)return"M0,0Z";for(var t="",n=0;n<r;n++)for(var a=e[n].length,o=0;o<a;o++){var i=e[n][o][0];if(i==="Z")t+="Z";else for(var l=e[n][o].length,u=0;u<l;u++){var s=u;i==="Q"||i==="S"?s=eK[u]:i==="C"&&(s=jJ[u]),t+=e[n][o][s],u>0&&u<l-1&&(t+=",")}}return t};fo.readPaths=function(e,r,t,n){var a=$J(e),o=[],i=-1,l=function(){i++,o[i]=[]},u,s=0,f=0,v,g,b=function(){v=s,g=f};b();for(var x=0;x<a.length;x++){var T=[],A,m,w,k,y=a[x][0],M=y;switch(y){case"M":l(),s=+a[x][1],f=+a[x][2],T.push([M,s,f]),b();break;case"Q":case"S":A=+a[x][1],w=+a[x][2],s=+a[x][3],f=+a[x][4],T.push([M,s,f,A,w]);break;case"C":A=+a[x][1],w=+a[x][2],m=+a[x][3],k=+a[x][4],s=+a[x][5],f=+a[x][6],T.push([M,s,f,A,w,m,k]);break;case"T":case"L":s=+a[x][1],f=+a[x][2],T.push([M,s,f]);break;case"H":M="L",s=+a[x][1],T.push([M,s,f]);break;case"V":M="L",f=+a[x][1],T.push([M,s,f]);break;case"A":M="L";var d=+a[x][1],_=+a[x][2];+a[x][4]||(d=-d,_=-_);var p=s-d,c=f;for(u=1;u<=_u/2;u++){var S=2*Math.PI*u/_u;T.push([M,p+d*Math.cos(S),c+_*Math.sin(S)])}break;case"Z":(s!==v||f!==g)&&(s=v,f=g,T.push([M,s,f]));break}for(var h=(t||{}).domain,R=r._fullLayout._size,E=t&&t.xsizemode==="pixel",D=t&&t.ysizemode==="pixel",N=n===!1,I=0;I<T.length;I++){for(u=0;u+2<7;u+=2){var F=T[I][u+1],L=T[I][u+2];F===void 0||L===void 0||(s=F,f=L,t&&(t.xaxis&&t.xaxis.p2r?(N&&(F-=t.xaxis._offset),E?F=I9(t.xaxis,t.xanchor)+F:F=F9(t.xaxis,F)):(N&&(F-=R.l),h?F=h.x[0]+F/R.w:F=F/R.w),t.yaxis&&t.yaxis.p2r?(N&&(L-=t.yaxis._offset),D?L=I9(t.yaxis,t.yanchor)-L:L=F9(t.yaxis,L)):(N&&(L-=R.t),h?L=h.y[1]-L/R.h:L=1-L/R.h)),T[I][u+1]=F,T[I][u+2]=L)}o[i].push(T[I].slice())}}return o};function t0(e,r){return Math.abs(e-r)<=1e-6}function Oh(e,r){var t=r[1]-e[1],n=r[2]-e[2];return Math.sqrt(t*t+n*n)}fo.pointsOnRectangle=function(e){var r=e.length;if(r!==5)return!1;for(var t=1;t<3;t++){var n=e[0][t]-e[1][t],a=e[3][t]-e[2][t];if(!t0(n,a))return!1;var o=e[0][t]-e[3][t],i=e[1][t]-e[2][t];if(!t0(o,i))return!1}return!t0(e[0][1],e[1][1])&&!t0(e[0][1],e[3][1])?!1:!!(Oh(e[0],e[1])*Oh(e[0],e[3]))};fo.pointsOnEllipse=function(e){var r=e.length;if(r!==_u+1)return!1;r=_u;for(var t=0;t<r;t++){var n=(r*2-t)%r,a=(r/2+n)%r,o=(r/2+t)%r;if(!t0(Oh(e[t],e[o]),Oh(e[n],e[a])))return!1}return!0};fo.handleEllipse=function(e,r,t){if(!e)return[r,t];var n=fo.ellipseOver({x0:r[0],y0:r[1],x1:t[0],y1:t[1]}),a=(n.x1+n.x0)/2,o=(n.y1+n.y0)/2,i=(n.x1-n.x0)/2,l=(n.y1-n.y0)/2;i||(i=l=l/sy),l||(l=i=i/sy);for(var u=[],s=0;s<_u;s++){var f=s*2*Math.PI/_u;u.push([a+i*Math.cos(f),o+l*Math.sin(f)])}return u};fo.ellipseOver=function(e){var r=e.x0,t=e.y0,n=e.x1,a=e.y1,o=n-r,i=a-t;r-=o,t-=i;var l=(r+n)/2,u=(t+a)/2,s=sy;return o*=s,i*=s,{x0:l-o,y0:u-i,x1:l+o,y1:u+i}};fo.fixDatesForPaths=function(e,r,t){var n=r.type==="date",a=t.type==="date";if(!n&&!a)return e;for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)for(var l=0;l+2<e[o][i].length;l+=2)n&&(e[o][i][l+1]=e[o][i][l+1].replace(" ","_")),a&&(e[o][i][l+2]=e[o][i][l+2].replace(" ","_"));return e}});var Uh=pe((whe,Y9)=>{"use strict";var H9=bu(),rK=H9.drawMode,tK=H9.openMode,wu=Nh(),O9=wu.i000,q9=wu.i090,B9=wu.i180,U9=wu.i270,nK=wu.cos45,aK=wu.sin45,V9=zh(),qh=V9.p2r,jo=V9.r2p,iK=Bo(),oK=iK.clearOutline,Bh=$o(),lK=Bh.readPaths,sK=Bh.writePaths,uK=Bh.ellipseOver,fK=Bh.fixDatesForPaths;function cK(e,r){if(e.length){var t=e[0][0];if(t){var n=r.gd,a=r.isActiveShape,o=r.dragmode,i=(n.layout||{}).shapes||[];if(!rK(o)&&a!==void 0){var l=n._fullLayout._activeShapeIndex;if(l<i.length)switch(n._fullLayout.shapes[l].type){case"rect":o="drawrect";break;case"circle":o="drawcircle";break;case"line":o="drawline";break;case"path":var u=i[l].path||"";u[u.length-1]==="Z"?o="drawclosedpath":o="drawopenpath";break}}var s=G9(e,r,o);oK(n);for(var f=r.editHelpers,v=(f||{}).modifyItem,g=[],b=0;b<i.length;b++){var x=n._fullLayout.shapes[b];if(g[b]=x._input,a!==void 0&&b===n._fullLayout._activeShapeIndex){var T=s;switch(x.type){case"line":case"rect":case"circle":v("x0",T.x0-(x.x0shift||0)),v("x1",T.x1-(x.x1shift||0)),v("y0",T.y0-(x.y0shift||0)),v("y1",T.y1-(x.y1shift||0));break;case"path":v("path",T.path);break}}}return a===void 0?(g.push(s),g):f?f.getUpdateObj():{}}}}function G9(e,r,t){var n=e[0][0],a=r.gd,o=n.getAttribute("d"),i=a._fullLayout.newshape,l=r.plotinfo,u=r.isActiveShape,s=l.xaxis,f=l.yaxis,v=!!l.domain||!l.xaxis,g=!!l.domain||!l.yaxis,b=tK(t),x=lK(o,a,l,u),T={editable:!0,visible:i.visible,name:i.name,showlegend:i.showlegend,legend:i.legend,legendwidth:i.legendwidth,legendgroup:i.legendgroup,legendgrouptitle:{text:i.legendgrouptitle.text,font:i.legendgrouptitle.font},legendrank:i.legendrank,label:i.label,xref:v?"paper":s._id,yref:g?"paper":f._id,layer:i.layer,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}};b||(T.fillcolor=i.fillcolor,T.fillrule=i.fillrule);var A;if(x.length===1&&(A=x[0]),A&&A.length===5&&t==="drawrect")T.type="rect",T.x0=A[0][1],T.y0=A[0][2],T.x1=A[2][1],T.y1=A[2][2];else if(A&&t==="drawline")T.type="line",T.x0=A[0][1],T.y0=A[0][2],T.x1=A[1][1],T.y1=A[1][2];else if(A&&t==="drawcircle"){T.type="circle";var m=A[O9][1],w=A[q9][1],k=A[B9][1],y=A[U9][1],M=A[O9][2],d=A[q9][2],_=A[B9][2],p=A[U9][2],c=l.xaxis&&(l.xaxis.type==="date"||l.xaxis.type==="log"),S=l.yaxis&&(l.yaxis.type==="date"||l.yaxis.type==="log");c&&(m=jo(l.xaxis,m),w=jo(l.xaxis,w),k=jo(l.xaxis,k),y=jo(l.xaxis,y)),S&&(M=jo(l.yaxis,M),d=jo(l.yaxis,d),_=jo(l.yaxis,_),p=jo(l.yaxis,p));var h=(w+y)/2,R=(M+_)/2,E=(y-w+k-m)/2,D=(p-d+_-M)/2,N=uK({x0:h,y0:R,x1:h+E*nK,y1:R+D*aK});c&&(N.x0=qh(l.xaxis,N.x0),N.x1=qh(l.xaxis,N.x1)),S&&(N.y0=qh(l.yaxis,N.y0),N.y1=qh(l.yaxis,N.y1)),T.x0=N.x0,T.y0=N.y0,T.x1=N.x1,T.y1=N.y1}else T.type="path",s&&f&&fK(x,s,f),T.path=sK(x),A=null;return T}Y9.exports={newShapes:cK,createShapeObj:G9}});var fy=pe((The,W9)=>{"use strict";var vK=bu(),hK=vK.selectMode,dK=Bo(),pK=dK.clearOutline,uy=$o(),gK=uy.readPaths,yK=uy.writePaths,mK=uy.fixDatesForPaths;W9.exports=function(r,t){if(r.length){var n=r[0][0];if(n){var a=n.getAttribute("d"),o=t.gd,i=o._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,s=l.yaxis,f=t.isActiveSelection,v=t.dragmode,g=(o.layout||{}).selections||[];if(!hK(v)&&f!==void 0){var b=o._fullLayout._activeSelectionIndex;if(b<g.length)switch(o._fullLayout.selections[b].type){case"rect":v="select";break;case"path":v="lasso";break}}var x=gK(a,o,l,f),T={xref:u._id,yref:s._id,opacity:i.opacity,line:{color:i.line.color,width:i.line.width,dash:i.line.dash}},A;x.length===1&&(A=x[0]),A&&A.length===5&&v==="select"?(T.type="rect",T.x0=A[0][1],T.y0=A[0][2],T.x1=A[2][1],T.y1=A[2][2]):(T.type="path",u&&s&&mK(x,u,s),T.path=yK(x),A=null),pK(o);for(var m=t.editHelpers,w=(m||{}).modifyItem,k=[],y=0;y<g.length;y++){var M=o._fullLayout.selections[y];if(!M){k[y]=M;continue}if(k[y]=M._input,f!==void 0&&y===o._fullLayout._activeSelectionIndex){var d=T;switch(M.type){case"rect":w("x0",d.x0),w("x1",d.x1),w("y0",d.y0),w("y1",d.y1);break;case"path":w("path",d.path);break}}}return f===void 0?(k.push(T),k):m?m.getUpdateObj():{}}}}});var n0=pe((Mhe,X9)=>{"use strict";X9.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}});var el=pe(pn=>{"use strict";var os=n0(),Z9=ir(),Hh=wt();pn.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(r){return r}};pn.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(r){return r}};pn.decodeDate=function(e){return function(r){return r.replace&&(r=r.replace("_"," ")),e(r)}};pn.encodeDate=function(e){return function(r){return e(r).replace(" ","_")}};pn.extractPathCoords=function(e,r,t){var n=[],a=e.match(os.segmentRE);return a.forEach(function(o){var i=r[o.charAt(0)].drawn;if(i!==void 0){var l=o.substr(1).match(os.paramRE);if(!(!l||l.length<i)){var u=l[i],s=t?u:Z9.cleanNumber(u);n.push(s)}}}),n};pn.getDataToPixel=function(e,r,t,n,a){var o=e._fullLayout._size,i;if(r)if(a==="domain")i=function(u){return r._length*(n?1-u:u)+r._offset};else{var l=pn.shapePositionToRange(r);i=function(u){var s=a0(r,t);return r._offset+r.r2p(l(u,!0))+s},r.type==="date"&&(i=pn.decodeDate(i))}else n?i=function(u){return o.t+o.h*(1-u)}:i=function(u){return o.l+o.w*u};return i};pn.getPixelToData=function(e,r,t,n){var a=e._fullLayout._size,o;if(r)if(n==="domain")o=function(l){var u=(l-r._offset)/r._length;return t?1-u:u};else{var i=pn.rangeToShapePosition(r);o=function(l){return i(r.p2r(l-r._offset))}}else t?o=function(l){return 1-(l-a.t)/a.h}:o=function(l){return(l-a.l)/a.w};return o};pn.roundPositionForSharpStrokeRendering=function(e,r){var t=Math.round(r%2)===1,n=Math.round(e);return t?n+.5:n};pn.makeShapesOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.shapes[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&t.xref!=="paper"&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&t.yref!=="paper"&&(n.yaxis=e._fullLayout[t.yref+"axis"])),n.xsizemode=t.xsizemode,n.ysizemode=t.ysizemode,n.xanchor=t.xanchor,n.yanchor=t.yanchor,{options:t,plotinfo:n}};pn.makeSelectionsOptionsAndPlotinfo=function(e,r){var t=e._fullLayout.selections[r]||{},n=e._fullLayout._plots[t.xref+t.yref],a=!!n;return a?n._hadPlotinfo=!0:(n={},t.xref&&(n.xaxis=e._fullLayout[t.xref+"axis"]),t.yref&&(n.yaxis=e._fullLayout[t.yref+"axis"])),{options:t,plotinfo:n}};pn.getPathString=function(e,r){var t=r.type,n=Hh.getRefType(r.xref),a=Hh.getRefType(r.yref),o=Hh.getFromId(e,r.xref),i=Hh.getFromId(e,r.yref),l=e._fullLayout._size,u,s,f,v,g=a0(o,r.x0shift),b=a0(o,r.x1shift),x=a0(i,r.y0shift),T=a0(i,r.y1shift),A,m,w,k;if(o?n==="domain"?s=function(E){return o._offset+o._length*E}:(u=pn.shapePositionToRange(o),s=function(E){return o._offset+o.r2p(u(E,!0))}):s=function(E){return l.l+l.w*E},i?a==="domain"?v=function(E){return i._offset+i._length*(1-E)}:(f=pn.shapePositionToRange(i),v=function(E){return i._offset+i.r2p(f(E,!0))}):v=function(E){return l.t+l.h*(1-E)},t==="path")return o&&o.type==="date"&&(s=pn.decodeDate(s)),i&&i.type==="date"&&(v=pn.decodeDate(v)),xK(r,s,v);if(r.xsizemode==="pixel"){var y=s(r.xanchor);A=y+r.x0+g,m=y+r.x1+b}else A=s(r.x0)+g,m=s(r.x1)+b;if(r.ysizemode==="pixel"){var M=v(r.yanchor);w=M-r.y0+x,k=M-r.y1+T}else w=v(r.y0)+x,k=v(r.y1)+T;if(t==="line")return"M"+A+","+w+"L"+m+","+k;if(t==="rect")return"M"+A+","+w+"H"+m+"V"+k+"H"+A+"Z";var d=(A+m)/2,_=(w+k)/2,p=Math.abs(d-A),c=Math.abs(_-w),S="A"+p+","+c,h=d+p+","+_,R=d+","+(_-c);return"M"+h+S+" 0 1,1 "+R+S+" 0 0,1 "+h+"Z"};function xK(e,r,t){var n=e.path,a=e.xsizemode,o=e.ysizemode,i=e.xanchor,l=e.yanchor;return n.replace(os.segmentRE,function(u){var s=0,f=u.charAt(0),v=os.paramIsX[f],g=os.paramIsY[f],b=os.numParams[f],x=u.substr(1).replace(os.paramRE,function(T){return v[s]?a==="pixel"?T=r(i)+Number(T):T=r(T):g[s]&&(o==="pixel"?T=t(l)-Number(T):T=t(T)),s++,s>b&&(T="X"),T});return s>b&&(x=x.replace(/[\s,]*X.*/,""),Z9.log("Ignoring extra params in segment "+u)),f+x})}function a0(e,r){r=r||0;var t=0;return r&&e&&(e.type==="category"||e.type==="multicategory")&&(t=(e.r2p(1)-e.r2p(0))*r),t}});var vy=pe((khe,$9)=>{"use strict";var bK=ir(),Tu=wt(),J9=Xn(),K9=yt(),_K=$o().readPaths,cy=el(),wK=cy.getPathString,Q9=uv(),TK=Bn().FROM_TL;$9.exports=function(r,t,n,a){if(a.selectAll(".shape-label").remove(),!!(n.label.text||n.label.texttemplate)){var o;if(n.label.texttemplate){var i={};if(n.type!=="path"){var l=Tu.getFromId(r,n.xref),u=Tu.getFromId(r,n.yref);for(var s in Q9){var f=Q9[s](n,l,u);f!==void 0&&(i[s]=f)}}o=bK.texttemplateStringForShapes(n.label.texttemplate,{},r._fullLayout._d3locale,i)}else o=n.label.text;var v={"data-index":t},g=n.label.font,b={"data-notex":1},x=a.append("g").attr(v).classed("shape-label",!0),T=x.append("text").attr(b).classed("shape-label-text",!0).text(o),A,m,w,k;if(n.path){var y=wK(r,n),M=_K(y,r);A=1/0,w=1/0,m=-1/0,k=-1/0;for(var d=0;d<M.length;d++)for(var _=0;_<M[d].length;_++)for(var p=M[d][_],c=1;c<p.length;c+=2){var S=p[c],h=p[c+1];A=Math.min(A,S),m=Math.max(m,S),w=Math.min(w,h),k=Math.max(k,h)}}else{var R=Tu.getFromId(r,n.xref),E=n.x0shift,D=n.x1shift,N=Tu.getRefType(n.xref),I=Tu.getFromId(r,n.yref),F=n.y0shift,L=n.y1shift,P=Tu.getRefType(n.yref),q=function(ne,Q){var ie=cy.getDataToPixel(r,R,Q,!1,N);return ie(ne)},U=function(ne,Q){var ie=cy.getDataToPixel(r,I,Q,!0,P);return ie(ne)};A=q(n.x0,E),m=q(n.x1,D),w=U(n.y0,F),k=U(n.y1,L)}var W=n.label.textangle;W==="auto"&&(n.type==="line"?W=MK(A,w,m,k):W=0),T.call(function(ne){return ne.call(K9.font,g).attr({}),J9.convertToTspans(ne,r),ne});var j=K9.bBox(T.node()),$=AK(A,w,m,k,n,W,j),G=$.textx,O=$.texty,Z=$.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Z],y:O,x:G,transform:"rotate("+W+","+G+","+O+")"}).call(J9.positionText,G,O)}};function MK(e,r,t,n){var a,o;return o=Math.abs(t-e),t>=e?a=r-n:a=n-r,-180/Math.PI*Math.atan2(a,o)}function AK(e,r,t,n,a,o,i){var l=a.label.textposition,u=a.label.textangle,s=a.label.padding,f=a.type,v=Math.PI/180*o,g=Math.sin(v),b=Math.cos(v),x=a.label.xanchor,T=a.label.yanchor,A,m,w,k;if(f==="line"){l==="start"?(A=e,m=r):l==="end"?(A=t,m=n):(A=(e+t)/2,m=(r+n)/2),x==="auto"&&(l==="start"?u==="auto"?t>e?x="left":t<e?x="right":x="center":t>e?x="right":t<e?x="left":x="center":l==="end"?u==="auto"?t>e?x="right":t<e?x="left":x="center":t>e?x="left":t<e?x="right":x="center":x="center");var y={left:1,center:0,right:-1},M={bottom:-1,middle:0,top:1};if(u==="auto"){var d=M[T];w=-s*g*d,k=s*b*d}else{var _=y[x],p=M[T];w=s*_,k=s*p}A=A+w,m=m+k}else w=s+3,l.indexOf("right")!==-1?(A=Math.max(e,t)-w,x==="auto"&&(x="right")):l.indexOf("left")!==-1?(A=Math.min(e,t)+w,x==="auto"&&(x="left")):(A=(e+t)/2,x==="auto"&&(x="center")),l.indexOf("top")!==-1?m=Math.min(r,n):l.indexOf("bottom")!==-1?m=Math.max(r,n):m=(r+n)/2,k=s,T==="bottom"?m=m-k:T==="top"&&(m=m+k);var c=TK[T],S=a.label.font.size,h=i.height,R=(h*c-S)*g,E=-(h*c-S)*b;return{textx:A+R,texty:m+E,xanchor:x}}});var Yh=pe((She,oA)=>{"use strict";var kK=ir(),SK=kK.strTranslate,j9=oi(),tA=bu(),CK=tA.drawMode,nA=tA.selectMode,aA=Cr(),eA=Kr(),Gh=Nh(),EK=Gh.i000,LK=Gh.i090,RK=Gh.i180,DK=Gh.i270,PK=Bo(),iA=PK.clearOutlineControllers,dy=$o(),Vh=dy.pointsOnRectangle,hy=dy.pointsOnEllipse,FK=dy.writePaths,IK=Uh().newShapes,NK=Uh().createShapeObj,zK=fy(),OK=vy();oA.exports=function e(r,t,n,a){a||(a=0);var o=n.gd;function i(){e(r,t,n,a++),(hy(r[0])||n.hasText)&&l({redrawing:!0})}function l(F){var L={};n.isActiveShape!==void 0&&(n.isActiveShape=!1,L=IK(t,n)),n.isActiveSelection!==void 0&&(n.isActiveSelection=!1,L=zK(t,n),o._fullLayout._reselect=!0),Object.keys(L).length&&aA.call((F||{}).redrawing?"relayout":"_guiRelayout",o,L)}var u=o._fullLayout,s=u._zoomlayer,f=n.dragmode,v=CK(f),g=nA(f);(v||g)&&(o._fullLayout._outlining=!0),iA(o),t.attr("d",FK(r));var b,x,T,A,m;if(!a&&(n.isActiveShape||n.isActiveSelection)){m=qK([],r);var w=s.append("g").attr("class","outline-controllers");S(w),I()}if(v&&n.hasText){var k=s.select(".label-temp"),y=NK(t,n,n.dragmode);OK(o,"label-temp",y,k)}function M(F){T=+F.srcElement.getAttribute("data-i"),A=+F.srcElement.getAttribute("data-j"),b[T][A].moveFn=d}function d(F,L){if(r.length){var P=m[T][A][1],q=m[T][A][2],U=r[T],W=U.length;if(Vh(U)){var j=F,$=L;if(n.isActiveSelection){var G=rA(U,A);G[1]===U[A][1]?$=0:j=0}for(var O=0;O<W;O++)if(O!==A){var Z=U[O];Z[1]===U[A][1]&&(Z[1]=P+j),Z[2]===U[A][2]&&(Z[2]=q+$)}if(U[A][1]=P+j,U[A][2]=q+$,!Vh(U))for(var ne=0;ne<W;ne++)for(var Q=0;Q<U[ne].length;Q++)U[ne][Q]=m[T][ne][Q]}else U[A][1]=P+F,U[A][2]=q+L;i()}}function _(){l()}function p(){if(r.length&&r[T]&&r[T].length){for(var F=[],L=0;L<r[T].length;L++)L!==A&&F.push(r[T][L]);F.length>1&&!(F.length===2&&F[1][0]==="Z")&&(A===0&&(F[0][0]="M"),r[T]=F,i(),l())}}function c(F,L){if(F===2){T=+L.srcElement.getAttribute("data-i"),A=+L.srcElement.getAttribute("data-j");var P=r[T];!Vh(P)&&!hy(P)&&p()}}function S(F){b=[];for(var L=0;L<r.length;L++){var P=r[L],q=Vh(P),U=!q&&hy(P);b[L]=[];for(var W=P.length,j=0;j<W;j++)if(P[j][0]!=="Z"&&!(U&&j!==EK&&j!==LK&&j!==RK&&j!==DK)){var $=q&&n.isActiveSelection,G;$&&(G=rA(P,j));var O=P[j][1],Z=P[j][2],ne=F.append($?"rect":"circle").attr("data-i",L).attr("data-j",j).style({fill:eA.background,stroke:eA.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if($){var Q=G[1]-O,ie=G[2]-Z,ee=ie?5:Math.max(Math.min(25,Math.abs(Q)-5),5),V=Q?5:Math.max(Math.min(25,Math.abs(ie)-5),5);ne.classed(ie?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ee).attr("height",V).attr("x",O-ee/2).attr("y",Z-V/2).attr("transform",SK(Q/2,ie/2))}else ne.classed("cursor-grab",!0).attr("r",5).attr("cx",O).attr("cy",Z);b[L][j]={element:ne.node(),gd:o,prepFn:M,doneFn:_,clickFn:c},j9.init(b[L][j])}}}function h(F,L){if(r.length)for(var P=0;P<r.length;P++)for(var q=0;q<r[P].length;q++)for(var U=0;U+2<r[P][q].length;U+=2)r[P][q][U+1]=m[P][q][U+1]+F,r[P][q][U+2]=m[P][q][U+2]+L}function R(F,L){h(F,L),i()}function E(F){T=+F.srcElement.getAttribute("data-i"),T||(T=0),x[T].moveFn=R}function D(){l()}function N(F){F===2&&BK(o)}function I(){if(x=[],!!r.length){var F=0;x[F]={element:t[0][0],gd:o,prepFn:E,doneFn:D,clickFn:N},j9.init(x[F])}}};function qK(e,r){for(var t=0;t<r.length;t++){var n=r[t];e[t]=[];for(var a=0;a<n.length;a++){e[t][a]=[];for(var o=0;o<n[a].length;o++)e[t][a][o]=n[a][o]}}return e}function rA(e,r){var t=e[r][1],n=e[r][2],a=e.length,o,i,l;return o=(r+1)%a,i=e[o][1],l=e[o][2],i===t&&l===n&&(o=(r+2)%a,i=e[o][1],l=e[o][2]),[o,i,l]}function BK(e){if(nA(e._fullLayout.dragmode)){iA(e);var r=e._fullLayout._activeSelectionIndex,t=(e.layout||{}).selections||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);delete e._fullLayout._activeSelectionIndex;var o=e._fullLayout.selections[r];e._fullLayout._deselect={xref:o.xref,yref:o.yref},aA.call("_guiRelayout",e,{selections:n})}}}});var Jh=pe((Che,gA)=>{"use strict";var UK=it(),vA=Cr(),lA=ir(),Mu=wt(),HK=$o().readPaths,VK=Yh(),Xh=vy(),hA=Bo().clearOutlineControllers,py=Kr(),yy=yt(),GK=gt().arrayEditor,sA=oi(),uA=Jo(),ls=n0(),ha=el(),gy=ha.getPathString;gA.exports={draw:my,drawOne:dA,eraseActiveShape:XK,drawLabel:Xh};function my(e){var r=e._fullLayout;r._shapeUpperLayer.selectAll("path").remove(),r._shapeLowerLayer.selectAll("path").remove(),r._shapeUpperLayer.selectAll("text").remove(),r._shapeLowerLayer.selectAll("text").remove();for(var t in r._plots){var n=r._plots[t].shapelayer;n&&(n.selectAll("path").remove(),n.selectAll("text").remove())}for(var a=0;a<r.shapes.length;a++)r.shapes[a].visible===!0&&dA(e,a)}function Wh(e){return!!e._fullLayout._outlining}function Zh(e){return!e._context.edits.shapePosition}function dA(e,r){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+r+'"]').remove();var t=ha.makeShapesOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input||n.visible!==!0)return;if(n.layer==="above")i(e._fullLayout._shapeUpperLayer);else if(n.xref==="paper"||n.yref==="paper")i(e._fullLayout._shapeLowerLayer);else if(n.layer==="between")i(a.shapelayerBetween);else if(a._hadPlotinfo){var o=a.mainplotinfo||a;i(o.shapelayer)}else i(e._fullLayout._shapeLowerLayer);function i(l){var u=gy(e,n),s={"data-index":r,"fill-rule":n.fillrule,d:u},f=n.opacity,v=n.fillcolor,g=n.line.width?n.line.color:"rgba(0,0,0,0)",b=n.line.width,x=n.line.dash;!b&&n.editable===!0&&(b=5,x="solid");var T=u[u.length-1]!=="Z",A=Zh(e)&&n.editable&&e._fullLayout._activeShapeIndex===r;A&&(v=T?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,f=e._fullLayout.activeshape.opacity);var m=l.append("g").classed("shape-group",!0).attr({"data-index":r}),w=m.append("path").attr(s).style("opacity",f).call(py.stroke,g).call(py.fill,v).call(yy.dashLine,x,b);pA(m,e,n),Xh(e,r,n,m);var k;if((A||e._context.edits.shapePosition)&&(k=GK(e.layout,"shapes",n)),A){w.style({cursor:"move"});var y={element:w.node(),plotinfo:a,gd:e,editHelpers:k,hasText:n.label.text||n.label.texttemplate,isActiveShape:!0},M=HK(u,e);VK(M,w,y)}else e._context.edits.shapePosition?YK(e,w,n,r,l,k):n.editable===!0&&w.style("pointer-events",T||py.opacity(v)*f<=.5?"stroke":"all");w.node().addEventListener("click",function(){return WK(e,w)})}}function pA(e,r,t){var n=(t.xref+t.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");yy.setClipUrl(e,n?"clip"+r._fullLayout._uid+n:null,r)}function YK(e,r,t,n,a,o){var i=10,l=10,u=t.xsizemode==="pixel",s=t.ysizemode==="pixel",f=t.type==="line",v=t.type==="path",g=o.modifyItem,b,x,T,A,m,w,k,y,M,d,_,p,c,S,h,R=UK.select(r.node().parentNode),E=Mu.getFromId(e,t.xref),D=Mu.getRefType(t.xref),N=Mu.getFromId(e,t.yref),I=Mu.getRefType(t.yref),F=t.x0shift,L=t.x1shift,P=t.y0shift,q=t.y1shift,U=function(we,ve){var Me=ha.getDataToPixel(e,E,ve,!1,D);return Me(we)},W=function(we,ve){var Me=ha.getDataToPixel(e,N,ve,!0,I);return Me(we)},j=ha.getPixelToData(e,E,!1,D),$=ha.getPixelToData(e,N,!0,I),G=ne(),O={element:G.node(),gd:e,prepFn:ee,doneFn:V,clickFn:re},Z;sA.init(O),G.node().onmousemove=ie;function ne(){return f?Q():r}function Q(){var we=10,ve=Math.max(t.line.width,we),Me=a.append("g").attr("data-index",n).attr("drag-helper",!0);Me.append("path").attr("d",r.attr("d")).style({cursor:"move","stroke-width":ve,"stroke-opacity":"0"});var Se={"fill-opacity":"0"},De=Math.max(ve/2,we);return Me.append("circle").attr({"data-line-point":"start-point",cx:u?U(t.xanchor)+t.x0:U(t.x0,F),cy:s?W(t.yanchor)-t.y0:W(t.y0,P),r:De}).style(Se).classed("cursor-grab",!0),Me.append("circle").attr({"data-line-point":"end-point",cx:u?U(t.xanchor)+t.x1:U(t.x1,L),cy:s?W(t.yanchor)-t.y1:W(t.y1,q),r:De}).style(Se).classed("cursor-grab",!0),Me}function ie(we){if(Wh(e)){Z=null;return}if(f)we.target.tagName==="path"?Z="move":Z=we.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ve=O.element.getBoundingClientRect(),Me=ve.right-ve.left,Se=ve.bottom-ve.top,De=we.clientX-ve.left,Ce=we.clientY-ve.top,Oe=!v&&Me>i&&Se>l&&!we.shiftKey?sA.getCursor(De/Me,1-Ce/Se):"move";uA(r,Oe),Z=Oe.split("-")[0]}}function ee(we){Wh(e)||(u&&(m=U(t.xanchor)),s&&(w=W(t.yanchor)),t.type==="path"?h=t.path:(b=u?t.x0:U(t.x0),x=s?t.y0:W(t.y0),T=u?t.x1:U(t.x1),A=s?t.y1:W(t.y1)),b<T?(M=b,c="x0",d=T,S="x1"):(M=T,c="x1",d=b,S="x0"),!s&&x<A||s&&x>A?(k=x,_="y0",y=A,p="y1"):(k=A,_="y1",y=x,p="y0"),ie(we),se(a,t),ke(r,t,e),O.moveFn=Z==="move"?H:te,O.altKey=we.altKey)}function V(){Wh(e)||(uA(r),he(a),pA(r,e,t),vA.call("_guiRelayout",e,o.getUpdateObj()))}function re(){Wh(e)||he(a)}function H(we,ve){if(t.type==="path"){var Me=function(Ce){return Ce},Se=Me,De=Me;u?g("xanchor",t.xanchor=j(m+we)):(Se=function(Oe){return j(U(Oe)+we)},E&&E.type==="date"&&(Se=ha.encodeDate(Se))),s?g("yanchor",t.yanchor=$(w+ve)):(De=function(Oe){return $(W(Oe)+ve)},N&&N.type==="date"&&(De=ha.encodeDate(De))),g("path",t.path=fA(h,Se,De))}else u?g("xanchor",t.xanchor=j(m+we)):(g("x0",t.x0=j(b+we)),g("x1",t.x1=j(T+we))),s?g("yanchor",t.yanchor=$(w+ve)):(g("y0",t.y0=$(x+ve)),g("y1",t.y1=$(A+ve)));r.attr("d",gy(e,t)),se(a,t),Xh(e,n,t,R)}function te(we,ve){if(v){var Me=function(Fe){return Fe},Se=Me,De=Me;u?g("xanchor",t.xanchor=j(m+we)):(Se=function(Je){return j(U(Je)+we)},E&&E.type==="date"&&(Se=ha.encodeDate(Se))),s?g("yanchor",t.yanchor=$(w+ve)):(De=function(Je){return $(W(Je)+ve)},N&&N.type==="date"&&(De=ha.encodeDate(De))),g("path",t.path=fA(h,Se,De))}else if(f){if(Z==="resize-over-start-point"){var Ce=b+we,Oe=s?x-ve:x+ve;g("x0",t.x0=u?Ce:j(Ce)),g("y0",t.y0=s?Oe:$(Oe))}else if(Z==="resize-over-end-point"){var Be=T+we,ge=s?A-ve:A+ve;g("x1",t.x1=u?Be:j(Be)),g("y1",t.y1=s?ge:$(ge))}}else{var Ae=function(Fe){return Z.indexOf(Fe)!==-1},ce=Ae("n"),ye=Ae("s"),Le=Ae("w"),me=Ae("e"),de=ce?k+ve:k,be=ye?y+ve:y,Ee=Le?M+we:M,ze=me?d+we:d;s&&(ce&&(de=k-ve),ye&&(be=y-ve)),(!s&&be-de>l||s&&de-be>l)&&(g(_,t[_]=s?de:$(de)),g(p,t[p]=s?be:$(be))),ze-Ee>i&&(g(c,t[c]=u?Ee:j(Ee)),g(S,t[S]=u?ze:j(ze)))}r.attr("d",gy(e,t)),se(a,t),Xh(e,n,t,R)}function se(we,ve){(u||s)&&Me();function Me(){var Se=ve.type!=="path",De=we.selectAll(".visual-cue").data([0]),Ce=1;De.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ce}).classed("visual-cue",!0);var Oe=U(u?ve.xanchor:lA.midRange(Se?[ve.x0,ve.x1]:ha.extractPathCoords(ve.path,ls.paramIsX))),Be=W(s?ve.yanchor:lA.midRange(Se?[ve.y0,ve.y1]:ha.extractPathCoords(ve.path,ls.paramIsY)));if(Oe=ha.roundPositionForSharpStrokeRendering(Oe,Ce),Be=ha.roundPositionForSharpStrokeRendering(Be,Ce),u&&s){var ge="M"+(Oe-1-Ce)+","+(Be-1-Ce)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";De.attr("d",ge)}else if(u){var Ae="M"+(Oe-1-Ce)+","+(Be-9-Ce)+"v18 h2 v-18 Z";De.attr("d",Ae)}else{var ce="M"+(Oe-9-Ce)+","+(Be-1-Ce)+"h18 v2 h-18 Z";De.attr("d",ce)}}}function he(we){we.selectAll(".visual-cue").remove()}function ke(we,ve,Me){var Se=ve.xref,De=ve.yref,Ce=Mu.getFromId(Me,Se),Oe=Mu.getFromId(Me,De),Be="";Se!=="paper"&&!Ce.autorange&&(Be+=Se),De!=="paper"&&!Oe.autorange&&(Be+=De),yy.setClipUrl(we,Be?"clip"+Me._fullLayout._uid+Be:null,Me)}}function fA(e,r,t){return e.replace(ls.segmentRE,function(n){var a=0,o=n.charAt(0),i=ls.paramIsX[o],l=ls.paramIsY[o],u=ls.numParams[o],s=n.substr(1).replace(ls.paramRE,function(f){return a>=u||(i[a]?f=r(f):l[a]&&(f=t(f)),a++),f});return o+s})}function WK(e,r){if(Zh(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex){cA(e);return}e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=cA,my(e)}}}function cA(e){if(Zh(e)){var r=e._fullLayout._activeShapeIndex;r>=0&&(hA(e),delete e._fullLayout._activeShapeIndex,my(e))}}function XK(e){if(Zh(e)){hA(e);var r=e._fullLayout._activeShapeIndex,t=(e.layout||{}).shapes||[];if(r<t.length){for(var n=[],a=0;a<t.length;a++)a!==r&&n.push(t[a]);return delete e._fullLayout._activeShapeIndex,vA.call("_guiRelayout",e,{shapes:n})}}}});var wy=pe((Ehe,MA)=>{"use strict";var qa=Cr(),yA=nn(),mA=un(),jr=Fh(),ZK=Jh().eraseActiveShape,Au=ir(),Xr=Au._,et=MA.exports={};et.toImage={name:"toImage",title:function(e){var r=e._context.toImageButtonOptions||{},t=r.format||"png";return t==="png"?Xr(e,"Download plot as a png"):Xr(e,"Download plot")},icon:jr.camera,click:function(e){var r=e._context.toImageButtonOptions,t={format:r.format||"png"};Au.notifier(Xr(e,"Taking snapshot - this may take a few seconds"),"long"),t.format!=="svg"&&Au.isIE()&&(Au.notifier(Xr(e,"IE only supports svg.  Changing format to svg."),"long"),t.format="svg"),["filename","width","height","scale"].forEach(function(n){n in r&&(t[n]=r[n])}),qa.call("downloadImage",e,t).then(function(n){Au.notifier(Xr(e,"Snapshot succeeded")+" - "+n,"long")}).catch(function(){Au.notifier(Xr(e,"Sorry, there was a problem downloading your snapshot!"),"long")})}};et.sendDataToCloud={name:"sendDataToCloud",title:function(e){return Xr(e,"Edit in Chart Studio")},icon:jr.disk,click:function(e){yA.sendDataToCloud(e)}};et.editInChartStudio={name:"editInChartStudio",title:function(e){return Xr(e,"Edit in Chart Studio")},icon:jr.pencil,click:function(e){yA.sendDataToCloud(e)}};et.zoom2d={name:"zoom2d",_cat:"zoom",title:function(e){return Xr(e,"Zoom")},attr:"dragmode",val:"zoom",icon:jr.zoombox,click:Vn};et.pan2d={name:"pan2d",_cat:"pan",title:function(e){return Xr(e,"Pan")},attr:"dragmode",val:"pan",icon:jr.pan,click:Vn};et.select2d={name:"select2d",_cat:"select",title:function(e){return Xr(e,"Box Select")},attr:"dragmode",val:"select",icon:jr.selectbox,click:Vn};et.lasso2d={name:"lasso2d",_cat:"lasso",title:function(e){return Xr(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:jr.lasso,click:Vn};et.drawclosedpath={name:"drawclosedpath",title:function(e){return Xr(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:jr.drawclosedpath,click:Vn};et.drawopenpath={name:"drawopenpath",title:function(e){return Xr(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:jr.drawopenpath,click:Vn};et.drawline={name:"drawline",title:function(e){return Xr(e,"Draw line")},attr:"dragmode",val:"drawline",icon:jr.drawline,click:Vn};et.drawrect={name:"drawrect",title:function(e){return Xr(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:jr.drawrect,click:Vn};et.drawcircle={name:"drawcircle",title:function(e){return Xr(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:jr.drawcircle,click:Vn};et.eraseshape={name:"eraseshape",title:function(e){return Xr(e,"Erase active shape")},icon:jr.eraseshape,click:ZK};et.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(e){return Xr(e,"Zoom in")},attr:"zoom",val:"in",icon:jr.zoom_plus,click:Vn};et.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(e){return Xr(e,"Zoom out")},attr:"zoom",val:"out",icon:jr.zoom_minus,click:Vn};et.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(e){return Xr(e,"Autoscale")},attr:"zoom",val:"auto",icon:jr.autoscale,click:Vn};et.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(e){return Xr(e,"Reset axes")},attr:"zoom",val:"reset",icon:jr.home,click:Vn};et.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(e){return Xr(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:jr.tooltip_basic,gravity:"ne",click:Vn};et.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(e){return Xr(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:jr.tooltip_compare,gravity:"ne",click:Vn};function Vn(e,r){var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i={},l=mA.list(e,null,!0),u=o._cartesianSpikesEnabled,s,f;if(n==="zoom"){var v=a==="in"?.5:2,g=(1+v)/2,b=(1-v)/2,x;for(f=0;f<l.length;f++)if(s=l[f],!s.fixedrange)if(x=s._name,a==="auto")i[x+".autorange"]=!0;else if(a==="reset")s._rangeInitial0===void 0&&s._rangeInitial1===void 0?i[x+".autorange"]=!0:s._rangeInitial0===void 0?(i[x+".autorange"]=s._autorangeInitial,i[x+".range"]=[null,s._rangeInitial1]):s._rangeInitial1===void 0?(i[x+".range"]=[s._rangeInitial0,null],i[x+".autorange"]=s._autorangeInitial):i[x+".range"]=[s._rangeInitial0,s._rangeInitial1],s._showSpikeInitial!==void 0&&(i[x+".showspikes"]=s._showSpikeInitial,u==="on"&&!s._showSpikeInitial&&(u="off"));else{var T=[s.r2l(s.range[0]),s.r2l(s.range[1])],A=[g*T[0]+b*T[1],g*T[1]+b*T[0]];i[x+".range[0]"]=s.l2r(A[0]),i[x+".range[1]"]=s.l2r(A[1])}}else n==="hovermode"&&(a==="x"||a==="y")&&(a=o._isHoriz?"y":"x",t.setAttribute("data-val",a)),i[n]=a;o._cartesianSpikesEnabled=u,qa.call("_guiRelayout",e,i)}et.zoom3d={name:"zoom3d",_cat:"zoom",title:function(e){return Xr(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:jr.zoombox,click:Kh};et.pan3d={name:"pan3d",_cat:"pan",title:function(e){return Xr(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:jr.pan,click:Kh};et.orbitRotation={name:"orbitRotation",title:function(e){return Xr(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:jr["3d_rotate"],click:Kh};et.tableRotation={name:"tableRotation",title:function(e){return Xr(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:jr["z-axis"],click:Kh};function Kh(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout._subplots.gl3d||[],i={},l=n.split("."),u=0;u<o.length;u++)i[o[u]+"."+l[1]]=a;var s=a==="pan"?a:"zoom";i.dragmode=s,qa.call("_guiRelayout",e,i)}et.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(e){return Xr(e,"Reset camera to default")},attr:"resetDefault",icon:jr.home,click:xy};et.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(e){return Xr(e,"Reset camera to last save")},attr:"resetLastSave",icon:jr.movie,click:xy};function xy(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=n==="resetLastSave",o=n==="resetDefault",i=e._fullLayout,l=i._subplots.gl3d||[],u={},s=0;s<l.length;s++){var f=l[s],v=f+".camera",g=f+".aspectratio",b=f+".aspectmode",x=i[f]._scene,T;a?(u[v+".up"]=x.viewInitial.up,u[v+".eye"]=x.viewInitial.eye,u[v+".center"]=x.viewInitial.center,T=!0):o&&(u[v+".up"]=null,u[v+".eye"]=null,u[v+".center"]=null,T=!0),T&&(u[g+".x"]=x.viewInitial.aspectratio.x,u[g+".y"]=x.viewInitial.aspectratio.y,u[g+".z"]=x.viewInitial.aspectratio.z,u[b]=x.viewInitial.aspectmode)}qa.call("_guiRelayout",e,u)}et.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(e){return Xr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:jr.tooltip_basic,gravity:"ne",click:JK};function xA(e,r){var t=r.currentTarget,n=t._previousVal,a=e._fullLayout,o=a._subplots.gl3d||[],i=["xaxis","yaxis","zaxis"],l={},u={};if(n)u=n,t._previousVal=null;else{for(var s=0;s<o.length;s++){var f=o[s],v=a[f],g=f+".hovermode";l[g]=v.hovermode,u[g]=!1;for(var b=0;b<3;b++){var x=i[b],T=f+"."+x+".showspikes";u[T]=!1,l[T]=v[x].showspikes}}t._previousVal=l}return u}function JK(e,r){var t=xA(e,r);qa.call("_guiRelayout",e,t)}et.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(e){return Xr(e,"Zoom in")},attr:"zoom",val:"in",icon:jr.zoom_plus,click:by};et.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(e){return Xr(e,"Zoom out")},attr:"zoom",val:"out",icon:jr.zoom_minus,click:by};et.resetGeo={name:"resetGeo",_cat:"reset",title:function(e){return Xr(e,"Reset")},attr:"reset",val:null,icon:jr.autoscale,click:by};et.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(e){return Xr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:jr.tooltip_basic,gravity:"ne",click:_y};function by(e,r){for(var t=r.currentTarget,n=t.getAttribute("data-attr"),a=t.getAttribute("data-val")||!0,o=e._fullLayout,i=o._subplots.geo||[],l=0;l<i.length;l++){var u=i[l],s=o[u];if(n==="zoom"){var f=s.projection.scale,v=a==="in"?2*f:.5*f;qa.call("_guiRelayout",e,u+".projection.scale",v)}}n==="reset"&&ku(e,"geo")}et.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(e){return Xr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:jr.tooltip_basic,gravity:"ne",click:_y};et.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(e){return Xr(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:jr.tooltip_basic,gravity:"ne",click:_y};function bA(e){var r=e._fullLayout;return r.hovermode?!1:r._has("cartesian")?r._isHoriz?"y":"x":"closest"}function _y(e){var r=bA(e);qa.call("_guiRelayout",e,"hovermode",r)}et.resetViewSankey={name:"resetSankeyGroup",title:function(e){return Xr(e,"Reset view")},icon:jr.home,click:function(e){for(var r={"node.groups":[],"node.x":[],"node.y":[]},t=0;t<e._fullData.length;t++){var n=e._fullData[t]._viewInitial;r["node.groups"].push(n.node.groups.slice()),r["node.x"].push(n.node.x.slice()),r["node.y"].push(n.node.y.slice())}qa.call("restyle",e,r)}};et.toggleHover={name:"toggleHover",title:function(e){return Xr(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:jr.tooltip_basic,gravity:"ne",click:function(e,r){var t=xA(e,r);t.hovermode=bA(e),qa.call("_guiRelayout",e,t)}};et.resetViews={name:"resetViews",title:function(e){return Xr(e,"Reset views")},icon:jr.home,click:function(e,r){var t=r.currentTarget;t.setAttribute("data-attr","zoom"),t.setAttribute("data-val","reset"),Vn(e,r),t.setAttribute("data-attr","resetLastSave"),xy(e,r),ku(e,"geo"),ku(e,"mapbox"),ku(e,"map")}};et.toggleSpikelines={name:"toggleSpikelines",title:function(e){return Xr(e,"Toggle Spike Lines")},icon:jr.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var r=e._fullLayout,t=r._cartesianSpikesEnabled;r._cartesianSpikesEnabled=t==="on"?"off":"on",qa.call("_guiRelayout",e,KK(e))}};function KK(e){for(var r=e._fullLayout,t=r._cartesianSpikesEnabled==="on",n=mA.list(e,null,!0),a={},o=0;o<n.length;o++){var i=n[o];a[i._name+".showspikes"]=t?!0:i._showSpikeInitial}return a}et.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(e){return Xr(e,"Reset view")},attr:"reset",icon:jr.home,click:function(e){ku(e,"mapbox")}};et.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(e){return Xr(e,"Reset view")},attr:"reset",icon:jr.home,click:function(e){ku(e,"map")}};et.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(e){return Xr(e,"Zoom in")},attr:"zoom",val:"in",icon:jr.zoom_plus,click:_A};et.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(e){return Xr(e,"Zoom in")},attr:"zoom",val:"in",icon:jr.zoom_plus,click:wA};et.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(e){return Xr(e,"Zoom out")},attr:"zoom",val:"out",icon:jr.zoom_minus,click:_A};et.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(e){return Xr(e,"Zoom out")},attr:"zoom",val:"out",icon:jr.zoom_minus,click:wA};function _A(e,r){TA(e,r,"mapbox")}function wA(e,r){TA(e,r,"map")}function TA(e,r,t){for(var n=r.currentTarget,a=n.getAttribute("data-val"),o=e._fullLayout,i=o._subplots[t]||[],l=1.05,u={},s=0;s<i.length;s++){var f=i[s],v=o[f].zoom,g=a==="in"?l*v:v/l;u[f+".zoom"]=g}qa.call("_guiRelayout",e,u)}function ku(e,r){for(var t=e._fullLayout,n=t._subplots[r]||[],a={},o=0;o<n.length;o++)for(var i=n[o],l=t[i]._subplot,u=l.viewInitial,s=Object.keys(u),f=0;f<s.length;f++){var v=s[f];a[i+"."+v]=u[v]}qa.call("_guiRelayout",e,a)}});var Ty=pe((Lhe,CA)=>{"use strict";var AA=wy(),QK=Object.keys(AA),kA=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],SA=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(kA),Su=[],$K=function(e){if(SA.indexOf(e._cat||e.name)===-1){var r=e.name,t=(e._cat||e.name).toLowerCase();Su.indexOf(r)===-1&&Su.push(r),Su.indexOf(t)===-1&&Su.push(t)}};QK.forEach(function(e){$K(AA[e])});Su.sort();CA.exports={DRAW_MODES:kA,backButtons:SA,foreButtons:Su}});var My=pe((Dhe,EA)=>{"use strict";var Rhe=Ty();EA.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}});var RA=pe((Phe,LA)=>{"use strict";var jK=ir(),i0=Kr(),eQ=gt(),rQ=My();LA.exports=function(r,t){var n=r.modebar||{},a=eQ.newContainer(t,"modebar");function o(l,u){return jK.coerce(n,a,rQ,l,u)}o("orientation"),o("bgcolor",i0.addOpacity(t.paper_bgcolor,.5));var i=i0.contrast(i0.rgb(t.modebar.bgcolor));o("color",i0.addOpacity(i,.3)),o("activecolor",i0.addOpacity(i,.7)),o("uirevision",t.uirevision),o("add"),o("remove")}});var IA=pe((Fhe,FA)=>{"use strict";var Ay=it(),tQ=rt(),co=ir(),DA=Fh(),nQ=qc().version,aQ=new DOMParser;function PA(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var Ui=PA.prototype;Ui.update=function(e,r){this.graphInfo=e;var t=this.graphInfo._context,n=this.graphInfo._fullLayout,a="modebar-"+n._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar",t.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),n.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var o=n.modebar,i=t.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";co.deleteRelatedStyleRule(a),co.addRelatedStyleRule(a,i+"#"+a+" .modebar-group","background-color: "+o.bgcolor),co.addRelatedStyleRule(a,"#"+a+" .modebar-btn .icon path","fill: "+o.color),co.addRelatedStyleRule(a,"#"+a+" .modebar-btn:hover .icon path","fill: "+o.activecolor),co.addRelatedStyleRule(a,"#"+a+" .modebar-btn.active .icon path","fill: "+o.activecolor);var l=!this.hasButtons(r),u=this.hasLogo!==t.displaylogo,s=this.locale!==t.locale;if(this.locale=t.locale,(l||u||s)&&(this.removeAllButtons(),this.updateButtons(r),t.watermark||t.displaylogo)){var f=this.getLogo();t.watermark&&(f.className=f.className+" watermark"),n.modebar.orientation==="v"?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()};Ui.updateButtons=function(e){var r=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=r.createGroup();t.forEach(function(a){var o=a.name;if(!o)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(o)!==-1)throw new Error("button name '"+o+"' is taken");r.buttonsNames.push(o);var i=r.createButton(a);r.buttonElements.push(i),n.appendChild(i)}),r.element.appendChild(n)})};Ui.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e};Ui.createButton=function(e){var r=this,t=document.createElement("a");t.setAttribute("rel","tooltip"),t.className="modebar-btn";var n=e.title;n===void 0?n=e.name:typeof n=="function"&&(n=n(this.graphInfo)),(n||n===0)&&t.setAttribute("data-title",n),e.attr!==void 0&&t.setAttribute("data-attr",e.attr);var a=e.val;a!==void 0&&(typeof a=="function"&&(a=a(this.graphInfo)),t.setAttribute("data-val",a));var o=e.click;if(typeof o!="function")throw new Error("must provide button 'click' function in button config");t.addEventListener("click",function(l){e.click(r.graphInfo,l),r.updateActiveButton(l.currentTarget)}),t.setAttribute("data-toggle",e.toggle||!1),e.toggle&&Ay.select(t).classed("active",!0);var i=e.icon;return typeof i=="function"?t.appendChild(i()):t.appendChild(this.createIcon(i||DA.question)),t.setAttribute("data-gravity",e.gravity||"n"),t};Ui.createIcon=function(e){var r=tQ(e.height)?Number(e.height):e.ascent-e.descent,t="http://www.w3.org/2000/svg",n;if(e.path){n=document.createElementNS(t,"svg"),n.setAttribute("viewBox",[0,0,e.width,r].join(" ")),n.setAttribute("class","icon");var a=document.createElementNS(t,"path");a.setAttribute("d",e.path),e.transform?a.setAttribute("transform",e.transform):e.ascent!==void 0&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),n.appendChild(a)}if(e.svg){var o=aQ.parseFromString(e.svg,"application/xml");n=o.childNodes[0]}return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n};Ui.updateActiveButton=function(e){var r=this.graphInfo._fullLayout,t=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(n){var a=n.getAttribute("data-val")||!0,o=n.getAttribute("data-attr"),i=n.getAttribute("data-toggle")==="true",l=Ay.select(n);if(i)o===t&&l.classed("active",!l.classed("active"));else{var u=o===null?o:co.nestedProperty(r,o).get();l.classed("active",u===a)}})};Ui.hasButtons=function(e){var r=this.buttons;if(!r||e.length!==r.length)return!1;for(var t=0;t<e.length;++t){if(e[t].length!==r[t].length)return!1;for(var n=0;n<e[t].length;n++)if(e[t][n].name!==r[t][n].name)return!1}return!0};function iQ(e){return e+" (v"+nQ+")"}Ui.getLogo=function(){var e=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",iQ(co._(this.graphInfo,"Produced with Plotly.js"))),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(DA.newplotlylogo)),e.appendChild(r),e};Ui.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};Ui.destroy=function(){co.removeElement(this.container.querySelector(".modebar")),co.deleteRelatedStyleRule(this._uid)};function oQ(e,r){var t=e._fullLayout,n=new PA({graphInfo:e,container:t._modebardiv.node(),buttons:r});return t._privateplot&&Ay.select(n.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),n}FA.exports=oQ});var OA=pe((Ihe,zA)=>{"use strict";var lQ=un(),NA=ca(),ky=Cr(),sQ=io().isUnifiedHover,uQ=IA(),Qh=wy(),fQ=Ty().DRAW_MODES,cQ=ir().extendDeep;zA.exports=function(r){var t=r._fullLayout,n=r._context,a=t._modeBar;if(!n.displayModeBar&&!n.watermark){a&&(a.destroy(),delete t._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o=n.modeBarButtons,i;Array.isArray(o)&&o.length?i=yQ(o):!n.displayModeBar&&n.watermark?i=[]:i=vQ(r),a?a.update(r,i):t._modeBar=uQ(r,i)};function vQ(e){var r=e._fullLayout,t=e._fullData,n=e._context;function a(P,q){if(typeof q=="string"){if(q.toLowerCase()===P.toLowerCase())return!0}else{var U=q.name,W=q._cat||q.name;if(U===P||W===P.toLowerCase())return!0}return!1}var o=r.modebar.add;typeof o=="string"&&(o=[o]);var i=r.modebar.remove;typeof i=="string"&&(i=[i]);var l=n.modeBarButtonsToAdd.concat(o.filter(function(P){for(var q=0;q<n.modeBarButtonsToRemove.length;q++)if(a(P,n.modeBarButtonsToRemove[q]))return!1;return!0})),u=n.modeBarButtonsToRemove.concat(i.filter(function(P){for(var q=0;q<n.modeBarButtonsToAdd.length;q++)if(a(P,n.modeBarButtonsToAdd[q]))return!1;return!0})),s=r._has("cartesian"),f=r._has("gl3d"),v=r._has("geo"),g=r._has("pie"),b=r._has("funnelarea"),x=r._has("gl2d"),T=r._has("ternary"),A=r._has("mapbox"),m=r._has("map"),w=r._has("polar"),k=r._has("smith"),y=r._has("sankey"),M=hQ(r),d=sQ(r.hovermode),_=[];function p(P){if(P.length){for(var q=[],U=0;U<P.length;U++){for(var W=P[U],j=Qh[W],$=j.name.toLowerCase(),G=(j._cat||j.name).toLowerCase(),O=!1,Z=0;Z<u.length;Z++){var ne=u[Z].toLowerCase();if(ne===$||ne===G){O=!0;break}}O||q.push(Qh[W])}_.push(q)}}var c=["toImage"];n.showEditInChartStudio?c.push("editInChartStudio"):n.showSendToCloud&&c.push("sendDataToCloud"),p(c);var S=[],h=[],R=[],E=[];(s||x||g||b||T)+v+f+A+m+w+k>1?(h=["toggleHover"],R=["resetViews"]):v?(S=["zoomInGeo","zoomOutGeo"],h=["hoverClosestGeo"],R=["resetGeo"]):f?(h=["hoverClosest3d"],R=["resetCameraDefault3d","resetCameraLastSave3d"]):A?(S=["zoomInMapbox","zoomOutMapbox"],h=["toggleHover"],R=["resetViewMapbox"]):m?(S=["zoomInMap","zoomOutMap"],h=["toggleHover"],R=["resetViewMap"]):x?h=["hoverClosestGl2d"]:g?h=["hoverClosestPie"]:y?(h=["hoverClosestCartesian","hoverCompareCartesian"],R=["resetViewSankey"]):h=["toggleHover"],s&&h.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(pQ(t)||d)&&(h=[]),(s||x)&&!M&&(S=["zoomIn2d","zoomOut2d","autoScale2d"],R[0]!=="resetViews"&&(R=["resetScale2d"])),f?E=["zoom3d","pan3d","orbitRotation","tableRotation"]:(s||x)&&!M||T?E=["zoom2d","pan2d"]:A||m||v?E=["pan2d"]:w&&(E=["zoom2d"]),dQ(t)&&E.push("select2d","lasso2d");var D=[],N=function(P){D.indexOf(P)===-1&&h.indexOf(P)!==-1&&D.push(P)};if(Array.isArray(l)){for(var I=[],F=0;F<l.length;F++){var L=l[F];typeof L=="string"?(L=L.toLowerCase(),fQ.indexOf(L)!==-1?(r._has("mapbox")||r._has("map")||r._has("cartesian"))&&E.push(L):L==="togglespikelines"?N("toggleSpikelines"):L==="togglehover"?N("toggleHover"):L==="hovercompare"?N("hoverCompareCartesian"):L==="hoverclosest"?(N("hoverClosestCartesian"),N("hoverClosestGeo"),N("hoverClosest3d"),N("hoverClosestGl2d"),N("hoverClosestPie")):L==="v1hovermode"&&(N("hoverClosestCartesian"),N("hoverCompareCartesian"),N("hoverClosestGeo"),N("hoverClosest3d"),N("hoverClosestGl2d"),N("hoverClosestPie"))):I.push(L)}l=I}return p(E),p(S.concat(R)),p(D),gQ(_,l)}function hQ(e){for(var r=lQ.list({_fullLayout:e},null,!0),t=0;t<r.length;t++)if(!r[t].fixedrange)return!1;return!0}function dQ(e){for(var r=!1,t=0;t<e.length&&!r;t++){var n=e[t];!n._module||!n._module.selectPoints||(ky.traceIs(n,"scatter-like")?(NA.hasMarkers(n)||NA.hasText(n))&&(r=!0):ky.traceIs(n,"box-violin")?(n.boxpoints==="all"||n.points==="all")&&(r=!0):r=!0)}return r}function pQ(e){for(var r=0;r<e.length;r++)if(!ky.traceIs(e[r],"noHover"))return!1;return!0}function gQ(e,r){if(r.length)if(Array.isArray(r[0]))for(var t=0;t<r.length;t++)e.push(r[t]);else e.push(r);return e}function yQ(e){for(var r=cQ([],e),t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;a++){var o=n[a];if(typeof o=="string")if(Qh[o]!==void 0)r[t][a]=Qh[o];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return r}});var Sy=pe((Nhe,qA)=>{"use strict";qA.exports={moduleType:"component",name:"modebar",layoutAttributes:My(),supplyLayoutDefaults:RA(),manage:OA()}});var Cy=pe((zhe,BA)=>{"use strict";var mQ=Bn().FROM_BL;BA.exports=function(r,t,n){n===void 0&&(n=mQ[r.constraintoward||"center"]);var a=[r.r2l(r.range[0]),r.r2l(r.range[1])],o=a[0]+(a[1]-a[0])*n;r.range=r._input.range=[r.l2r(o+(a[0]-o)*t),r.l2r(o+(a[1]-o)*t)],r.setScale()}});var l0=pe(o0=>{"use strict";var ss=ir(),Ey=cu(),si=un().id2name,xQ=Ia(),UA=Cy(),bQ=rh(),_Q=Xt().ALMOST_EQUAL,wQ=Bn().FROM_BL;o0.handleDefaults=function(e,r,t){var n=t.axIds,a=t.axHasImage,o=r._axisConstraintGroups=[],i=r._axisMatchGroups=[],l,u,s,f,v,g,b,x;for(l=0;l<n.length;l++)f=si(n[l]),v=e[f],g=r[f],TQ(v,g,{axIds:n,layoutOut:r,hasImage:a[f]});function T(p,c){for(l=0;l<p.length;l++){u=p[l];for(s in u)r[si(s)][c]=u}}for(T(i,"_matchGroup"),l=0;l<o.length;l++){u=o[l];for(s in u)if(g=r[si(s)],g.fixedrange){for(var A in u){var m=si(A);(e[m]||{}).fixedrange===!1&&ss.warn("fixedrange was specified as false for axis "+m+" but was overridden because another axis in its constraint group has fixedrange true"),r[m].fixedrange=!0}break}}for(l=0;l<o.length;){u=o[l];for(s in u){g=r[si(s)],g._matchGroup&&Object.keys(g._matchGroup).length===Object.keys(u).length&&(o.splice(l,1),l--);break}l++}T(o,"_constraintGroup");var w=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],k=!1,y=!1;function M(){x=g[b],b==="rangebreaks"&&(y=g._hasDayOfWeekBreaks)}for(l=0;l<i.length;l++){u=i[l];for(var d=0;d<w.length;d++){b=w[d],x=null;var _;for(s in u)if(f=si(s),v=e[f],g=r[f],b in g){if(!g.matches&&(_=g,b in v)){M();break}x===null&&b in v&&M()}if(b==="range"&&x&&v.range&&v.range.length===2&&v.range[0]!==null&&v.range[1]!==null&&(k=!0),b==="autorange"&&x===null&&k&&(x=!1),x===null&&b in _&&(x=_[b]),x!==null)for(s in u)g=r[si(s)],g[b]=b==="range"?x.slice():x,b==="rangebreaks"&&(g._hasDayOfWeekBreaks=y,bQ(g,r))}}};function TQ(e,r,t){var n=t.axIds,a=t.layoutOut,o=t.hasImage,i=a._axisConstraintGroups,l=a._axisMatchGroups,u=r._id,s=u.charAt(0),f=((a._splomAxes||{})[s]||{})[u]||{},v=r._id,g=v.charAt(0)==="x";r._matchGroup=null,r._constraintGroup=null;function b(R,E){return ss.coerce(e,r,xQ,R,E)}b("constrain",o?"domain":"range"),ss.coerce(e,r,{constraintoward:{valType:"enumerated",values:g?["left","center","right"]:["bottom","middle","top"],dflt:g?"center":"middle"}},"constraintoward");var x=r.type,T,A,m=[];for(T=0;T<n.length;T++)if(A=n[T],A!==v){var w=a[si(A)];w.type===x&&m.push(A)}var k=GA(i,v);if(k){var y=[];for(T=0;T<m.length;T++)A=m[T],k[A]||y.push(A);m=y}var M=m.length,d,_;M&&(e.matches||f.matches)&&(d=ss.coerce(e,r,{matches:{valType:"enumerated",values:m,dflt:m.indexOf(f.matches)!==-1?f.matches:void 0}},"matches"));var p=o&&!g?r.anchor:void 0;if(M&&!d&&(e.scaleanchor||p)&&(_=ss.coerce(e,r,{scaleanchor:{valType:"enumerated",values:m.concat([!1])}},"scaleanchor",p)),d){r._matchGroup=Ly(l,v,d,1);var c=a[si(d)],S=HA(a,r)/HA(a,c);g!==(d.charAt(0)==="x")&&(S=(g?"x":"y")+S),Ly(i,v,d,S)}else e.matches&&n.indexOf(e.matches)!==-1&&ss.warn("ignored "+r._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(_){var h=b("scaleratio");h||(h=r.scaleratio=1),Ly(i,v,_,h)}else e.scaleanchor&&n.indexOf(e.scaleanchor)!==-1&&ss.warn("ignored "+r._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function HA(e,r){var t=r.domain;return t||(t=e[si(r.overlaying)].domain),t[1]-t[0]}function GA(e,r){for(var t=0;t<e.length;t++)if(e[t][r])return e[t];return null}function Ly(e,r,t,n){var a,o,i,l,u,s=GA(e,r);s===null?(s={},s[r]=1,u=e.length,e.push(s)):u=e.indexOf(s);var f=Object.keys(s);for(a=0;a<e.length;a++)if(i=e[a],a!==u&&i[t]){var v=i[t];for(o=0;o<f.length;o++)l=f[o],i[l]=Ry(v,Ry(n,s[l]));e.splice(u,1);return}if(n!==1)for(o=0;o<f.length;o++){var g=f[o];s[g]=Ry(n,s[g])}s[t]=1}function Ry(e,r){var t="",n="",a,o;typeof e=="string"&&(t=e.match(/^[xy]*/)[0],a=t.length,e=+e.substr(a)),typeof r=="string"&&(n=r.match(/^[xy]*/)[0],o=n.length,r=+r.substr(o));var i=e*r;return!a&&!o?i:!a||!o||t.charAt(0)===n.charAt(0)?t+n+e*r:a===o?i:(a>o?t.substr(o):n.substr(a))+i}function MQ(e,r){for(var t=r._size,n=t.h/t.w,a={},o=Object.keys(e),i=0;i<o.length;i++){var l=o[i],u=e[l];if(typeof u=="string"){var s=u.match(/^[xy]*/)[0],f=s.length;u=+u.substr(f);for(var v=s.charAt(0)==="y"?n:1/n,g=0;g<f;g++)u*=v}a[l]=u}return a}o0.enforce=function(r){var t=r._fullLayout,n=t._axisConstraintGroups||[],a,o,i,l,u,s,f,v;for(a=0;a<n.length;a++){i=MQ(n[a],t);var g=Object.keys(i),b=1/0,x=0,T=1/0,A={},m={},w=!1;for(o=0;o<g.length;o++)l=g[o],m[l]=u=t[si(l)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),A[l]=s=Math.abs(u._m)/i[l],b=Math.min(b,s),(u.constrain==="domain"||!u._constraintShrinkable)&&(T=Math.min(T,s)),delete u._constraintShrinkable,x=Math.max(x,s),u.constrain==="domain"&&(w=!0);if(!(b>_Q*x&&!w)){for(o=0;o<g.length;o++)if(l=g[o],s=A[l],u=m[l],f=u.constrain,s!==T||f==="domain")if(v=s/T,f==="range")UA(u,v);else{var k=u._inputDomain,y=(u.domain[1]-u.domain[0])/(k[1]-k[0]),M=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if(v/=y,v*M<1){u.domain=u._input.domain=k.slice(),UA(u,v);continue}if(M<1&&(u.range=u._input.range=u._inputRange.slice(),v*=M),u.autorange){var d=u.r2l(u.range[0]),_=u.r2l(u.range[1]),p=(d+_)/2,c=p,S=p,h=Math.abs(_-p),R=p-h*v*1.0001,E=p+h*v*1.0001,D=Ey.makePadFn(t,u,0),N=Ey.makePadFn(t,u,1);VA(u,v);var I=Math.abs(u._m),F=Ey.concatExtremes(r,u),L=F.min,P=F.max,q,U;for(U=0;U<L.length;U++)q=L[U].val-D(L[U])/I,q>R&&q<c&&(c=q);for(U=0;U<P.length;U++)q=P[U].val+N(P[U])/I,q<E&&q>S&&(S=q);var W=(S-c)/(2*h);v/=W,c=u.l2r(c),S=u.l2r(S),u.range=u._input.range=d<_?[c,S]:[S,c]}VA(u,v)}}}};o0.getAxisGroup=function(r,t){for(var n=r._axisMatchGroups,a=0;a<n.length;a++){var o=n[a];if(o[t])return"g"+a}return t};o0.clean=function(r,t){if(t._inputDomain){for(var n=!1,a=t._id,o=r._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][a]){n=!0;break}(!n||t.constrain!=="domain")&&(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}};function VA(e,r){var t=e._inputDomain,n=wQ[e.constraintoward],a=t[0]+(t[1]-t[0])*n;e.domain=e._input.domain=[a+(t[0]-a)/r,a+(t[1]-a)/r],e.setScale()}});var e1=pe(vn=>{"use strict";var jh=it(),Gn=Cr(),wa=nn(),Ba=ir(),Dy=Xn(),Py=Ph(),s0=Kr(),Cu=yt(),YA=Yf(),KA=Sy(),u0=wt(),vo=Bn(),QA=l0(),AQ=QA.enforce,kQ=QA.clean,WA=cu().doAutoRange,$A="start",SQ="middle",jA="end",CQ=Tn().zindexSeparator;vn.layoutStyles=function(e){return Ba.syncOrAsync([wa.doAutoMargin,LQ],e)};function EQ(e,r,t){for(var n=0;n<t.length;n++){var a=t[n][0],o=t[n][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&o[0]<r[1]&&o[1]>r[0])return!0}return!1}function LQ(e){var r=e._fullLayout,t=r._size,n=t.p,a=u0.list(e,"",!0),o,i,l,u,s,f;if(r._paperdiv.style({width:e._context.responsive&&r.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":r.width+"px",height:e._context.responsive&&r.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":r.height+"px"}).selectAll(".main-svg").call(Cu.setSize,r.width,r.height),e._context.setBackground(e,r.paper_bgcolor),vn.drawMainTitle(e),KA.manage(e),!r._has("cartesian"))return wa.previousPromises(e);function v(ee,V,re){var H=ee._lw/2;if(ee._id.charAt(0)==="x"){if(V){if(re==="top")return V._offset-n-H}else return t.t+t.h*(1-(ee.position||0))+H%1;return V._offset+V._length+n+H}if(V){if(re==="right")return V._offset+V._length+n+H}else return t.l+t.w*(ee.position||0)+H%1;return V._offset-n-H}for(o=0;o<a.length;o++){u=a[o];var g=u._anchorAxis;u._linepositions={},u._lw=Cu.crispRound(e,u.linewidth,1),u._mainLinePosition=v(u,g,u.side),u._mainMirrorPosition=u.mirror&&g?v(u,g,vo.OPPOSITE_SIDE[u.side]):null}var b=[],x=[],T=[],A=s0.opacity(r.paper_bgcolor)===1&&s0.opacity(r.plot_bgcolor)===1&&r.paper_bgcolor===r.plot_bgcolor;for(i in r._plots)if(l=r._plots[i],l.mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var m=l.xaxis.domain,w=l.yaxis.domain,k=l.plotgroup;if(EQ(m,w,T)&&i.indexOf(CQ)===-1){var y=k.node(),M=l.bg=Ba.ensureSingle(k,"rect","bg");y.insertBefore(M.node(),y.childNodes[0]),x.push(i)}else k.select("rect.bg").remove(),T.push([m,w]),A||(b.push(i),x.push(i))}var d=r._bgLayer.selectAll(".bg").data(b);for(d.enter().append("rect").classed("bg",!0),d.exit().remove(),d.each(function(ee){r._plots[ee].bg=jh.select(this)}),o=0;o<x.length;o++)l=r._plots[x[o]],s=l.xaxis,f=l.yaxis,l.bg&&s._offset!==void 0&&f._offset!==void 0&&l.bg.call(Cu.setRect,s._offset-n,f._offset-n,s._length+2*n,f._length+2*n).call(s0.fill,r.plot_bgcolor).style("stroke-width",0);if(!r._hasOnlyLargeSploms)for(i in r._plots){l=r._plots[i],s=l.xaxis,f=l.yaxis;var _=l.clipId="clip"+r._uid+i+"plot",p=Ba.ensureSingleById(r._clips,"clipPath",_,function(ee){ee.classed("plotclip",!0).append("rect")});l.clipRect=p.select("rect").attr({width:s._length,height:f._length}),Cu.setTranslate(l.plot,s._offset,f._offset);var c,S;l._hasClipOnAxisFalse?(c=null,S=_):(c=_,S=null),Cu.setClipUrl(l.plot,c,e),l.layerClipId=S}var h,R,E,D,N,I,F,L,P,q,U,W,j;function $(ee){return"M"+h+","+ee+"H"+R}function G(ee){return"M"+s._offset+","+ee+"h"+s._length}function O(ee){return"M"+ee+","+L+"V"+F}function Z(ee){return f._shift!==void 0&&(ee+=f._shift),"M"+ee+","+f._offset+"v"+f._length}function ne(ee,V,re){if(!ee.showline||i!==ee._mainSubplot)return"";if(!ee._anchorAxis)return re(ee._mainLinePosition);var H=V(ee._mainLinePosition);return ee.mirror&&(H+=V(ee._mainMirrorPosition)),H}for(i in r._plots){l=r._plots[i],s=l.xaxis,f=l.yaxis;var Q="M0,0";XA(s,i)&&(N=$h(s,"left",f,a),h=s._offset-(N?n+N:0),I=$h(s,"right",f,a),R=s._offset+s._length+(I?n+I:0),E=v(s,f,"bottom"),D=v(s,f,"top"),j=!s._anchorAxis||i!==s._mainSubplot,j&&(s.mirror==="allticks"||s.mirror==="all")&&(s._linepositions[i]=[E,D]),Q=ne(s,$,G),j&&s.showline&&(s.mirror==="all"||s.mirror==="allticks")&&(Q+=$(E)+$(D)),l.xlines.style("stroke-width",s._lw+"px").call(s0.stroke,s.showline?s.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",Q);var ie="M0,0";XA(f,i)&&(U=$h(f,"bottom",s,a),F=f._offset+f._length+(U?n:0),W=$h(f,"top",s,a),L=f._offset-(W?n:0),P=v(f,s,"left"),q=v(f,s,"right"),j=!f._anchorAxis||i!==f._mainSubplot,j&&(f.mirror==="allticks"||f.mirror==="all")&&(f._linepositions[i]=[P,q]),ie=ne(f,O,Z),j&&f.showline&&(f.mirror==="all"||f.mirror==="allticks")&&(ie+=O(P)+O(q)),l.ylines.style("stroke-width",f._lw+"px").call(s0.stroke,f.showline?f.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",ie)}return u0.makeClipPaths(e),wa.previousPromises(e)}function XA(e,r){return(e.ticks||e.showline)&&(r===e._mainSubplot||e.mirror==="all"||e.mirror==="allticks")}function ZA(e,r,t){if(!t.showline||!t._lw)return!1;if(t.mirror==="all"||t.mirror==="allticks")return!0;var n=t._anchorAxis;if(!n)return!1;var a=vo.FROM_BL[r];return t.side===r?n.domain[a]===e.domain[a]:t.mirror&&n.domain[1-a]===e.domain[1-a]}function $h(e,r,t,n){if(ZA(e,r,t))return t._lw;for(var a=0;a<n.length;a++){var o=n[a];if(o._mainAxis===t._mainAxis&&ZA(e,r,o))return o._lw}return 0}vn.drawMainTitle=function(e){var r=e._fullLayout.title,t=e._fullLayout,n=zQ(t),a=OQ(t),o=NQ(t,a),i=IQ(t,n);if(YA.draw(e,"gtitle",{propContainer:t,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:t._dfltTitle.plot,subtitlePlaceholder:t._dfltTitle.subtitle,attributes:{x:i,y:o,"text-anchor":n,dy:a}}),r.text&&r.automargin){var l=jh.selectAll(".gtitle"),u=Cu.bBox(jh.selectAll(".g-gtitle").node()).height,s=PQ(e,r,u);if(s>0){FQ(e,o,s,u),l.attr({x:i,y:o,"text-anchor":n,dy:JA(r.yanchor)}).call(Dy.positionText,i,o);var f=(r.text.match(Dy.BR_TAG_ALL)||[]).length;if(f){var v=vo.LINE_SPACING*f+vo.MID_SHIFT;r.y===0&&(v=-v),l.selectAll(".line").each(function(){var A=+this.getAttribute("dy").slice(0,-2)-v+"em";this.setAttribute("dy",A)})}var g=jh.selectAll(".gtitle-subtitle");if(g.node()){var b=l.node().getBBox(),x=b.y+b.height,T=x+YA.SUBTITLE_PADDING_EM*r.subtitle.font.size;g.attr({x:i,y:T,"text-anchor":n,dy:JA(r.yanchor)}).call(Dy.positionText,i,T)}}}};function RQ(e,r,t,n,a){var o=r.yref==="paper"?e._fullLayout._size.h:e._fullLayout.height,i=Ba.isTopAnchor(r)?n:n-a,l=t==="b"?o-i:i;return Ba.isTopAnchor(r)&&t==="t"||Ba.isBottomAnchor(r)&&t==="b"?!1:l<a}function DQ(e,r,t,n,a){var o=0;return t==="middle"&&(o+=a/2),e==="t"?(t==="top"&&(o+=a),o+=n-r*n):(t==="bottom"&&(o+=a),o+=r*n),o}function PQ(e,r,t){var n=r.y,a=r.yanchor,o=n>.5?"t":"b",i=e._fullLayout.margin[o],l=0;return r.yref==="paper"?l=t+r.pad.t+r.pad.b:r.yref==="container"&&(l=DQ(o,n,a,e._fullLayout.height,t)+r.pad.t+r.pad.b),l>i?l:0}function FQ(e,r,t,n){var a="title.automargin",o=e._fullLayout.title,i=o.y>.5?"t":"b",l={x:o.x,y:o.y,t:0,b:0},u={};o.yref==="paper"&&RQ(e,o,i,r,n)?l[i]=t:o.yref==="container"&&(u[i]=t,e._fullLayout._reservedMargin[a]=u),wa.allowAutoMargin(e,a),wa.autoMargin(e,a,l)}function IQ(e,r){var t=e.title,n=e._size,a=0;switch(r===$A?a=t.pad.l:r===jA&&(a=-t.pad.r),t.xref){case"paper":return n.l+n.w*t.x+a;case"container":default:return e.width*t.x+a}}function NQ(e,r){var t=e.title,n=e._size,a=0;if(r==="0em"||!r?a=-t.pad.b:r===vo.CAP_SHIFT+"em"&&(a=t.pad.t),t.y==="auto")return n.t/2;switch(t.yref){case"paper":return n.t+n.h-n.h*t.y+a;case"container":default:return e.height-e.height*t.y+a}}function JA(e){return e==="top"?vo.CAP_SHIFT+.3+"em":e==="bottom"?"-0.3em":vo.MID_SHIFT+"em"}function zQ(e){var r=e.title,t=SQ;return Ba.isRightAnchor(r)?t=jA:Ba.isLeftAnchor(r)&&(t=$A),t}function OQ(e){var r=e.title,t="0em";return Ba.isTopAnchor(r)?t=vo.CAP_SHIFT+"em":Ba.isMiddleAnchor(r)&&(t=vo.MID_SHIFT+"em"),t}vn.doTraceStyle=function(e){var r=e.calcdata,t=[],n;for(n=0;n<r.length;n++){var a=r[n],o=a[0]||{},i=o.trace||{},l=i._module||{},u=l.arraysToCalcdata;u&&u(a,i);var s=l.editStyle;s&&t.push({fn:s,cd0:o})}if(t.length){for(n=0;n<t.length;n++){var f=t[n];f.fn(e,f.cd0)}Py(e),vn.redrawReglTraces(e)}return wa.style(e),Gn.getComponentMethod("legend","draw")(e),wa.previousPromises(e)};vn.doColorBars=function(e){return Gn.getComponentMethod("colorbar","draw")(e),wa.previousPromises(e)};vn.layoutReplot=function(e){var r=e.layout;return e.layout=void 0,Gn.call("_doPlot",e,"",r)};vn.doLegend=function(e){return Gn.getComponentMethod("legend","draw")(e),wa.previousPromises(e)};vn.doTicksRelayout=function(e){return u0.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(Gn.subplotsRegistry.splom.updateGrid(e),Py(e),vn.redrawReglTraces(e)),vn.drawMainTitle(e),wa.previousPromises(e)};vn.doModeBar=function(e){var r=e._fullLayout;KA.manage(e);for(var t=0;t<r._basePlotModules.length;t++){var n=r._basePlotModules[t].updateFx;n&&n(e)}return wa.previousPromises(e)};vn.doCamera=function(e){for(var r=e._fullLayout,t=r._subplots.gl3d,n=0;n<t.length;n++){var a=r[t[n]],o=a._scene;o.setViewport(a)}};vn.drawData=function(e){var r=e._fullLayout;Py(e);for(var t=r._basePlotModules,n=0;n<t.length;n++)t[n].plot(e);return vn.redrawReglTraces(e),wa.style(e),Gn.getComponentMethod("selections","draw")(e),Gn.getComponentMethod("shapes","draw")(e),Gn.getComponentMethod("annotations","draw")(e),Gn.getComponentMethod("images","draw")(e),r._replotting=!1,wa.previousPromises(e)};vn.redrawReglTraces=function(e){var r=e._fullLayout;if(r._has("regl")){var t=e._fullData,n=[],a=[],o,i;for(r._hasOnlyLargeSploms&&r._splomGrid.draw(),o=0;o<t.length;o++){var l=t[o];l.visible===!0&&l._length!==0&&(l.type==="splom"?r._splomScenes[l.uid].draw():l.type==="scattergl"?Ba.pushUnique(n,l.xaxis+l.yaxis):l.type==="scatterpolargl"&&Ba.pushUnique(a,l.subplot))}for(o=0;o<n.length;o++)i=r._plots[n[o]],i._scene&&i._scene.draw();for(o=0;o<a.length;o++)i=r[a[o]]._subplot,i._scene&&i._scene.draw()}};vn.doAutoRangeAndConstraints=function(e){for(var r=u0.list(e,"",!0),t,n={},a=0;a<r.length;a++)if(t=r[a],!n[t._id]){n[t._id]=1,kQ(e,t),WA(e,t);var o=t._matchGroup;if(o)for(var i in o){var l=u0.getFromId(e,i);WA(e,l,t.range),n[i]=1}}AQ(e)};vn.finalDraw=function(e){Gn.getComponentMethod("rangeslider","draw")(e),Gn.getComponentMethod("rangeselector","draw")(e)};vn.drawMarginPushers=function(e){Gn.getComponentMethod("legend","draw")(e),Gn.getComponentMethod("rangeselector","draw")(e),Gn.getComponentMethod("sliders","draw")(e),Gn.getComponentMethod("updatemenus","draw")(e),Gn.getComponentMethod("colorbar","draw")(e)}});var Ny=pe((Bhe,ak)=>{"use strict";var qQ=$o().readPaths,BQ=Yh(),ek=Bo().clearOutlineControllers,Fy=Kr(),rk=yt(),UQ=gt().arrayEditor,tk=el(),HQ=tk.getPathString;ak.exports={draw:r1,drawOne:nk,activateLastSelection:YQ};function r1(e){var r=e._fullLayout;ek(e),r._selectionLayer.selectAll("path").remove();for(var t in r._plots){var n=r._plots[t].selectionLayer;n&&n.selectAll("path").remove()}for(var a=0;a<r.selections.length;a++)nk(e,a)}function t1(e){return e._context.editSelection}function nk(e,r){e._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+r+'"]').remove();var t=tk.makeSelectionsOptionsAndPlotinfo(e,r),n=t.options,a=t.plotinfo;if(!n._input)return;o(e._fullLayout._selectionLayer);function o(i){var l=HQ(e,n),u={"data-index":r,"fill-rule":"evenodd",d:l},s=n.opacity,f="rgba(0,0,0,0)",v=n.line.color||Fy.contrast(e._fullLayout.plot_bgcolor),g=n.line.width,b=n.line.dash;g||(g=5,b="solid");var x=t1(e)&&e._fullLayout._activeSelectionIndex===r;x&&(f=e._fullLayout.activeselection.fillcolor,s=e._fullLayout.activeselection.opacity);for(var T=[],A=1;A>=0;A--){var m=i.append("path").attr(u).style("opacity",A?.1:s).call(Fy.stroke,v).call(Fy.fill,f).call(rk.dashLine,A?"solid":b,A?4+g:g);if(VQ(m,e,n),x){var w=UQ(e.layout,"selections",n);m.style({cursor:"move"});var k={element:m.node(),plotinfo:a,gd:e,editHelpers:w,isActiveSelection:!0},y=qQ(l,e);BQ(y,m,k)}else m.style("pointer-events",A?"all":"none");T[A]=m}var M=T[0],d=T[1];d.node().addEventListener("click",function(){return GQ(e,M)})}}function VQ(e,r,t){var n=t.xref+t.yref;rk.setClipUrl(e,"clip"+r._fullLayout._uid+n,r)}function GQ(e,r){if(t1(e)){var t=r.node(),n=+t.getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeSelectionIndex){Iy(e);return}e._fullLayout._activeSelectionIndex=n,e._fullLayout._deactivateSelection=Iy,r1(e)}}}function YQ(e){if(t1(e)){var r=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=r,e._fullLayout._deactivateSelection=Iy,r1(e)}}function Iy(e){if(t1(e)){var r=e._fullLayout._activeSelectionIndex;r>=0&&(ek(e),delete e._fullLayout._activeSelectionIndex,r1(e))}}});var ok=pe((Uhe,ik)=>{function WQ(){var e,r=0,t=!1;function n(a,o){return e.list.push({type:a,data:o?JSON.parse(JSON.stringify(o)):void 0}),e}return e={list:[],segmentId:function(){return r++},checkIntersection:function(a,o){return n("check",{seg1:a,seg2:o})},segmentChop:function(a,o){return n("div_seg",{seg:a,pt:o}),n("chop",{seg:a,pt:o})},statusRemove:function(a){return n("pop_seg",{seg:a})},segmentUpdate:function(a){return n("seg_update",{seg:a})},segmentNew:function(a,o){return n("new_seg",{seg:a,primary:o})},segmentRemove:function(a){return n("rem_seg",{seg:a})},tempStatus:function(a,o,i){return n("temp_status",{seg:a,above:o,below:i})},rewind:function(a){return n("rewind",{seg:a})},status:function(a,o,i){return n("status",{seg:a,above:o,below:i})},vert:function(a){return a===t?e:(t=a,n("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),n("log",{txt:a})},reset:function(){return n("reset")},selected:function(a){return n("selected",{segs:a})},chainStart:function(a){return n("chain_start",{seg:a})},chainRemoveHead:function(a,o){return n("chain_rem_head",{index:a,pt:o})},chainRemoveTail:function(a,o){return n("chain_rem_tail",{index:a,pt:o})},chainNew:function(a,o){return n("chain_new",{pt1:a,pt2:o})},chainMatch:function(a){return n("chain_match",{index:a})},chainClose:function(a){return n("chain_close",{index:a})},chainAddHead:function(a,o){return n("chain_add_head",{index:a,pt:o})},chainAddTail:function(a,o){return n("chain_add_tail",{index:a,pt:o})},chainConnect:function(a,o){return n("chain_con",{index1:a,index2:o})},chainReverse:function(a){return n("chain_rev",{index:a})},chainJoin:function(a,o){return n("chain_join",{index1:a,index2:o})},done:function(){return n("done")}},e}ik.exports=WQ});var sk=pe((Hhe,lk)=>{function XQ(e){typeof e!="number"&&(e=1e-10);var r={epsilon:function(t){return typeof t=="number"&&(e=t),e},pointAboveOrOnLine:function(t,n,a){var o=n[0],i=n[1],l=a[0],u=a[1],s=t[0],f=t[1];return(l-o)*(f-i)-(u-i)*(s-o)>=-e},pointBetween:function(t,n,a){var o=t[1]-n[1],i=a[0]-n[0],l=t[0]-n[0],u=a[1]-n[1],s=l*i+o*u;if(s<e)return!1;var f=i*i+u*u;return!(s-f>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(t,n){return r.pointsSameX(t,n)&&r.pointsSameY(t,n)},pointsCompare:function(t,n){return r.pointsSameX(t,n)?r.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(t,n,a){var o=t[0]-n[0],i=t[1]-n[1],l=n[0]-a[0],u=n[1]-a[1];return Math.abs(o*u-l*i)<e},linesIntersect:function(t,n,a,o){var i=n[0]-t[0],l=n[1]-t[1],u=o[0]-a[0],s=o[1]-a[1],f=i*s-l*u;if(Math.abs(f)<e)return!1;var v=t[0]-a[0],g=t[1]-a[1],b=(u*g-s*v)/f,x=(i*g-l*v)/f,T={alongA:0,alongB:0,pt:[t[0]+b*i,t[1]+b*l]};return b<=-e?T.alongA=-2:b<e?T.alongA=-1:b-1<=-e?T.alongA=0:b-1<e?T.alongA=1:T.alongA=2,x<=-e?T.alongB=-2:x<e?T.alongB=-1:x-1<=-e?T.alongB=0:x-1<e?T.alongB=1:T.alongB=2,T},pointInsideRegion:function(t,n){for(var a=t[0],o=t[1],i=n[n.length-1][0],l=n[n.length-1][1],u=!1,s=0;s<n.length;s++){var f=n[s][0],v=n[s][1];v-o>e!=l-o>e&&(i-f)*(o-v)/(l-v)+f-a>e&&(u=!u),i=f,l=v}return u}};return r}lk.exports=XQ});var fk=pe((Vhe,uk)=>{var ZQ={create:function(){var e={root:{root:!0,next:null},exists:function(r){return!(r===null||r===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(r,t){for(var n=e.root,a=e.root.next;a!==null;){if(t(a)){r.prev=a.prev,r.next=a,a.prev.next=r,a.prev=r;return}n=a,a=a.next}n.next=r,r.prev=n,r.next=null},findTransition:function(r){for(var t=e.root,n=e.root.next;n!==null&&!r(n);)t=n,n=n.next;return{before:t===e.root?null:t,after:n,insert:function(a){return a.prev=t,a.next=n,t.next=a,n!==null&&(n.prev=a),a}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};uk.exports=ZQ});var vk=pe((Ghe,ck)=>{var f0=fk();function JQ(e,r,t){function n(x,T){return{id:t?t.segmentId():-1,start:x,end:T,myFill:{above:null,below:null},otherFill:null}}function a(x,T,A){return{id:t?t.segmentId():-1,start:x,end:T,myFill:{above:A.myFill.above,below:A.myFill.below},otherFill:null}}var o=f0.create();function i(x,T,A,m,w,k){var y=r.pointsCompare(T,w);return y!==0?y:r.pointsSame(A,k)?0:x!==m?x?1:-1:r.pointAboveOrOnLine(A,m?w:k,m?k:w)?1:-1}function l(x,T){o.insertBefore(x,function(A){var m=i(x.isStart,x.pt,T,A.isStart,A.pt,A.other.pt);return m<0})}function u(x,T){var A=f0.node({isStart:!0,pt:x.start,seg:x,primary:T,other:null,status:null});return l(A,x.end),A}function s(x,T,A){var m=f0.node({isStart:!1,pt:T.end,seg:T,primary:A,other:x,status:null});x.other=m,l(m,x.pt)}function f(x,T){var A=u(x,T);return s(A,x,T),A}function v(x,T){t&&t.segmentChop(x.seg,T),x.other.remove(),x.seg.end=T,x.other.pt=T,l(x.other,x.pt)}function g(x,T){var A=a(T,x.seg.end,x.seg);return v(x,T),f(A,x.primary)}function b(x,T){var A=f0.create();function m(N,I){var F=N.seg.start,L=N.seg.end,P=I.seg.start,q=I.seg.end;return r.pointsCollinear(F,P,q)?r.pointsCollinear(L,P,q)||r.pointAboveOrOnLine(L,P,q)?1:-1:r.pointAboveOrOnLine(F,P,q)?1:-1}function w(N){return A.findTransition(function(I){var F=m(N,I.ev);return F>0})}function k(N,I){var F=N.seg,L=I.seg,P=F.start,q=F.end,U=L.start,W=L.end;t&&t.checkIntersection(F,L);var j=r.linesIntersect(P,q,U,W);if(j===!1){if(!r.pointsCollinear(P,q,U)||r.pointsSame(P,W)||r.pointsSame(q,U))return!1;var $=r.pointsSame(P,U),G=r.pointsSame(q,W);if($&&G)return I;var O=!$&&r.pointBetween(P,U,W),Z=!G&&r.pointBetween(q,U,W);if($)return Z?g(I,q):g(N,W),I;O&&(G||(Z?g(I,q):g(N,W)),g(I,P))}else j.alongA===0&&(j.alongB===-1?g(N,U):j.alongB===0?g(N,j.pt):j.alongB===1&&g(N,W)),j.alongB===0&&(j.alongA===-1?g(I,P):j.alongA===0?g(I,j.pt):j.alongA===1&&g(I,q));return!1}for(var y=[];!o.isEmpty();){var M=o.getHead();if(t&&t.vert(M.pt[0]),M.isStart){let N=function(){if(_){var I=k(M,_);if(I)return I}return p?k(M,p):!1};var D=N;t&&t.segmentNew(M.seg,M.primary);var d=w(M),_=d.before?d.before.ev:null,p=d.after?d.after.ev:null;t&&t.tempStatus(M.seg,_?_.seg:!1,p?p.seg:!1);var c=N();if(c){if(e){var S;M.seg.myFill.below===null?S=!0:S=M.seg.myFill.above!==M.seg.myFill.below,S&&(c.seg.myFill.above=!c.seg.myFill.above)}else c.seg.otherFill=M.seg.myFill;t&&t.segmentUpdate(c.seg),M.other.remove(),M.remove()}if(o.getHead()!==M){t&&t.rewind(M.seg);continue}if(e){var S;M.seg.myFill.below===null?S=!0:S=M.seg.myFill.above!==M.seg.myFill.below,p?M.seg.myFill.below=p.seg.myFill.above:M.seg.myFill.below=x,S?M.seg.myFill.above=!M.seg.myFill.below:M.seg.myFill.above=M.seg.myFill.below}else if(M.seg.otherFill===null){var h;p?M.primary===p.primary?h=p.seg.otherFill.above:h=p.seg.myFill.above:h=M.primary?T:x,M.seg.otherFill={above:h,below:h}}t&&t.status(M.seg,_?_.seg:!1,p?p.seg:!1),M.other.status=d.insert(f0.node({ev:M}))}else{var R=M.status;if(R===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(A.exists(R.prev)&&A.exists(R.next)&&k(R.prev.ev,R.next.ev),t&&t.statusRemove(R.ev.seg),R.remove(),!M.primary){var E=M.seg.myFill;M.seg.myFill=M.seg.otherFill,M.seg.otherFill=E}y.push(M.seg)}o.getHead().remove()}return t&&t.done(),y}return e?{addRegion:function(x){for(var T,A=x[x.length-1],m=0;m<x.length;m++){T=A,A=x[m];var w=r.pointsCompare(T,A);w!==0&&f(n(w<0?T:A,w<0?A:T),!0)}},calculate:function(x){return b(x,!1)}}:{calculate:function(x,T,A,m){return x.forEach(function(w){f(a(w.start,w.end,w),!0)}),A.forEach(function(w){f(a(w.start,w.end,w),!1)}),b(T,m)}}}ck.exports=JQ});var dk=pe((Yhe,hk)=>{function KQ(e,r,t){var n=[],a=[];return e.forEach(function(o){var i=o.start,l=o.end;if(r.pointsSame(i,l)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}t&&t.chainStart(o);var u={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},f=u;function v(D,N,I){return f.index=D,f.matches_head=N,f.matches_pt1=I,f===u?(f=s,!1):(f=null,!0)}for(var g=0;g<n.length;g++){var b=n[g],x=b[0],T=b[1],A=b[b.length-1],m=b[b.length-2];if(r.pointsSame(x,i)){if(v(g,!0,!0))break}else if(r.pointsSame(x,l)){if(v(g,!0,!1))break}else if(r.pointsSame(A,i)){if(v(g,!1,!0))break}else if(r.pointsSame(A,l)&&v(g,!1,!1))break}if(f===u){n.push([i,l]),t&&t.chainNew(i,l);return}if(f===s){t&&t.chainMatch(u.index);var w=u.index,k=u.matches_pt1?l:i,y=u.matches_head,b=n[w],M=y?b[0]:b[b.length-1],d=y?b[1]:b[b.length-2],_=y?b[b.length-1]:b[0],p=y?b[b.length-2]:b[1];if(r.pointsCollinear(d,M,k)&&(y?(t&&t.chainRemoveHead(u.index,k),b.shift()):(t&&t.chainRemoveTail(u.index,k),b.pop()),M=d),r.pointsSame(_,k)){n.splice(w,1),r.pointsCollinear(p,_,M)&&(y?(t&&t.chainRemoveTail(u.index,M),b.pop()):(t&&t.chainRemoveHead(u.index,M),b.shift())),t&&t.chainClose(u.index),a.push(b);return}y?(t&&t.chainAddHead(u.index,k),b.unshift(k)):(t&&t.chainAddTail(u.index,k),b.push(k));return}function c(D){t&&t.chainReverse(D),n[D].reverse()}function S(D,N){var I=n[D],F=n[N],L=I[I.length-1],P=I[I.length-2],q=F[0],U=F[1];r.pointsCollinear(P,L,q)&&(t&&t.chainRemoveTail(D,L),I.pop(),L=P),r.pointsCollinear(L,q,U)&&(t&&t.chainRemoveHead(N,q),F.shift()),t&&t.chainJoin(D,N),n[D]=I.concat(F),n.splice(N,1)}var h=u.index,R=s.index;t&&t.chainConnect(h,R);var E=n[h].length<n[R].length;u.matches_head?s.matches_head?E?(c(h),S(h,R)):(c(R),S(R,h)):S(R,h):s.matches_head?S(h,R):E?(c(h),S(R,h)):(c(R),S(h,R))}),a}hk.exports=KQ});var gk=pe((Whe,pk)=>{function c0(e,r,t){var n=[];return e.forEach(function(a){var o=(a.myFill.above?8:0)+(a.myFill.below?4:0)+(a.otherFill&&a.otherFill.above?2:0)+(a.otherFill&&a.otherFill.below?1:0);r[o]!==0&&n.push({id:t?t.segmentId():-1,start:a.start,end:a.end,myFill:{above:r[o]===1,below:r[o]===2},otherFill:null})}),t&&t.selected(n),n}var QQ={union:function(e,r){return c0(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(e,r){return c0(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(e,r){return c0(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(e,r){return c0(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(e,r){return c0(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};pk.exports=QQ});var mk=pe((Xhe,yk)=>{var $Q={toPolygon:function(e,r){function t(o){if(o.length<=0)return e.segments({inverted:!1,regions:[]});function i(s){var f=s.slice(0,s.length-1);return e.segments({inverted:!1,regions:[f]})}for(var l=i(o[0]),u=1;u<o.length;u++)l=e.selectDifference(e.combine(l,i(o[u])));return l}if(r.type==="Polygon")return e.polygon(t(r.coordinates));if(r.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),a=0;a<r.coordinates.length;a++)n=e.selectUnion(e.combine(n,t(r.coordinates[a])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,r,t){t=e.polygon(e.segments(t));function n(b,x){return r.pointInsideRegion([(b[0][0]+b[1][0])*.5,(b[0][1]+b[1][1])*.5],x)}function a(b){return{region:b,children:[]}}var o=a(null);function i(b,x){for(var T=0;T<b.children.length;T++){var A=b.children[T];if(n(x,A.region)){i(A,x);return}}for(var m=a(x),T=0;T<b.children.length;T++){var A=b.children[T];n(A.region,x)&&(m.children.push(A),b.children.splice(T,1),T--)}b.children.push(m)}for(var l=0;l<t.regions.length;l++){var u=t.regions[l];u.length<3||i(o,u)}function s(b,x){for(var T=0,A=b[b.length-1][0],m=b[b.length-1][1],w=[],k=0;k<b.length;k++){var y=b[k][0],M=b[k][1];w.push([y,M]),T+=M*A-y*m,A=y,m=M}var d=T<0;return d!==x&&w.reverse(),w.push([w[0][0],w[0][1]]),w}var f=[];function v(b){var x=[s(b.region,!1)];f.push(x);for(var T=0;T<b.children.length;T++)x.push(g(b.children[T]))}function g(b){for(var x=0;x<b.children.length;x++)v(b.children[x]);return s(b.region,!0)}for(var l=0;l<o.children.length;l++)v(o.children[l]);return f.length<=0?{type:"Polygon",coordinates:[]}:f.length==1?{type:"Polygon",coordinates:f[0]}:{type:"MultiPolygon",coordinates:f}}};yk.exports=$Q});var wk=pe((Zhe,_k)=>{var jQ=ok(),e$=sk(),xk=vk(),r$=dk(),v0=gk(),bk=mk(),Ua=!1,h0=e$(),da;da={buildLog:function(e){return e===!0?Ua=jQ():e===!1&&(Ua=!1),Ua===!1?!1:Ua.list},epsilon:function(e){return h0.epsilon(e)},segments:function(e){var r=xk(!0,h0,Ua);return e.regions.forEach(r.addRegion),{segments:r.calculate(e.inverted),inverted:e.inverted}},combine:function(e,r){var t=xk(!1,h0,Ua);return{combined:t.calculate(e.segments,e.inverted,r.segments,r.inverted),inverted1:e.inverted,inverted2:r.inverted}},selectUnion:function(e){return{segments:v0.union(e.combined,Ua),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:v0.intersect(e.combined,Ua),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:v0.difference(e.combined,Ua),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:v0.differenceRev(e.combined,Ua),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:v0.xor(e.combined,Ua),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:r$(e.segments,h0,Ua),inverted:e.inverted}},polygonFromGeoJSON:function(e){return bk.toPolygon(da,e)},polygonToGeoJSON:function(e){return bk.fromPolygon(da,h0,e)},union:function(e,r){return d0(e,r,da.selectUnion)},intersect:function(e,r){return d0(e,r,da.selectIntersect)},difference:function(e,r){return d0(e,r,da.selectDifference)},differenceRev:function(e,r){return d0(e,r,da.selectDifferenceRev)},xor:function(e,r){return d0(e,r,da.selectXor)}};function d0(e,r,t){var n=da.segments(e),a=da.segments(r),o=da.combine(n,a),i=t(o);return da.polygon(i)}typeof window=="object"&&(window.PolyBool=da);_k.exports=da});var Mk=pe((Jhe,Tk)=>{Tk.exports=function(r,t,n,a){var o=r[0],i=r[1],l=!1;n===void 0&&(n=0),a===void 0&&(a=t.length);for(var u=a-n,s=0,f=u-1;s<u;f=s++){var v=t[s+n][0],g=t[s+n][1],b=t[f+n][0],x=t[f+n][1],T=g>i!=x>i&&o<(b-v)*(i-g)/(x-g)+v;T&&(l=!l)}return l}});var Oy=pe((Khe,Ak)=>{"use strict";var zy=iv().dot,n1=Xt().BADNUM,a1=Ak.exports={};a1.tester=function(r){var t=r.slice(),n=t[0][0],a=n,o=t[0][1],i=o,l;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),l=1;l<t.length;l++)n=Math.min(n,t[l][0]),a=Math.max(a,t[l][0]),o=Math.min(o,t[l][1]),i=Math.max(i,t[l][1]);var u=!1,s;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(u=!0,s=function(x){return x[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(u=!0,s=function(x){return x[1]===t[0][1]}));function f(x,T){var A=x[0],m=x[1];return!(A===n1||A<n||A>a||m===n1||m<o||m>i||T&&s(x))}function v(x,T){var A=x[0],m=x[1];if(A===n1||A<n||A>a||m===n1||m<o||m>i)return!1;var w=t.length,k=t[0][0],y=t[0][1],M=0,d,_,p,c,S;for(d=1;d<w;d++)if(_=k,p=y,k=t[d][0],y=t[d][1],c=Math.min(_,k),!(A<c||A>Math.max(_,k)||m>Math.max(p,y)))if(m<Math.min(p,y))A!==c&&M++;else{if(k===_?S=m:S=p+(A-_)*(y-p)/(k-_),m===S)return!(d===1&&T);m<=S&&A!==c&&M++}return M%2===1}var g=!0,b=t[0];for(l=1;l<t.length;l++)if(b[0]!==t[l][0]||b[1]!==t[l][1]){g=!1;break}return{xmin:n,xmax:a,ymin:o,ymax:i,pts:t,contains:u?f:v,isRect:u,degenerate:g}};a1.isSegmentBent=function(r,t,n,a){var o=r[t],i=[r[n][0]-o[0],r[n][1]-o[1]],l=zy(i,i),u=Math.sqrt(l),s=[-i[1]/u,i[0]/u],f,v,g;for(f=t+1;f<n;f++)if(v=[r[f][0]-o[0],r[f][1]-o[1]],g=zy(v,i),g<0||g>l||Math.abs(zy(v,s))>a)return!0;return!1};a1.filter=function(r,t){var n=[r[0]],a=0,o=0;function i(u){r.push(u);var s=n.length,f=a;n.splice(o+1);for(var v=f+1;v<r.length;v++)(v===r.length-1||a1.isSegmentBent(r,f,v+1,t))&&(n.push(r[v]),n.length<s-2&&(a=v,o=n.length-1),f=v)}if(r.length>1){var l=r.pop();i(l)}return{addPt:i,raw:r,filtered:n}}});var Sk=pe((Qhe,kk)=>{"use strict";kk.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}});var Jk=pe(($he,Zk)=>{"use strict";var Ck=wk(),t$=Mk(),y0=Cr(),n$=yt().dashStyle,p0=Kr(),a$=so(),i$=io().makeEventData,w0=bu(),o$=w0.freeMode,l$=w0.rectMode,m0=w0.drawMode,Hy=w0.openMode,Vy=w0.selectMode,Ek=el(),Lk=n0(),Ik=Yh(),Nk=Bo().clearOutline,zk=$o(),qy=zk.handleEllipse,s$=zk.readPaths,u$=Uh().newShapes,f$=fy(),c$=Ny().activateLastSelection,o1=ir(),v$=o1.sorterAsc,Ok=Oy(),g0=_v(),Ha=un().getFromId,h$=Ph(),d$=e1().redrawReglTraces,l1=Sk(),Hi=l1.MINSELECT,p$=Ok.filter,Gy=Ok.tester,Yy=zh(),Rk=Yy.p2r,g$=Yy.axValue,y$=Yy.getTransform;function Wy(e){return e.subplot!==void 0}function m$(e,r,t,n,a){var o=!Wy(n),i=o$(a),l=l$(a),u=Hy(a),s=m0(a),f=Vy(a),v=a==="drawline",g=a==="drawcircle",b=v||g,x=n.gd,T=x._fullLayout,A=f&&T.newselection.mode==="immediate"&&o,m=T._zoomlayer,w=n.element.getBoundingClientRect(),k=n.plotinfo,y=y$(k),M=r-w.left,d=t-w.top;T._calcInverseTransform(x);var _=o1.apply3DTransform(T._invTransform)(M,d);M=_[0],d=_[1];var p=T._invScaleX,c=T._invScaleY,S=M,h=d,R="M"+M+","+d,E=n.xaxes[0],D=n.yaxes[0],N=E._length,I=D._length,F=e.altKey&&!(m0(a)&&u),L,P,q,U,W,j,$;Bk(e,x,n),i&&(L=p$([[M,d]],l1.BENDPX));var G=m.selectAll("path.select-outline-"+k.id).data([1]),O=s?T.newshape:T.newselection;s&&(n.hasText=O.label.text||O.label.texttemplate);var Z=s&&!u?O.fillcolor:"rgba(0,0,0,0)",ne=O.line.color||(o?p0.contrast(x._fullLayout.plot_bgcolor):"#7f7f7f");G.enter().append("path").attr("class","select-outline select-outline-"+k.id).style({opacity:s?O.opacity/2:1,"stroke-dasharray":n$(O.line.dash,O.line.width),"stroke-width":O.line.width+"px","shape-rendering":"crispEdges"}).call(p0.stroke,ne).call(p0.fill,Z).attr("fill-rule","evenodd").classed("cursor-move",!!s).attr("transform",y).attr("d",R+"Z");var Q=m.append("path").attr("class","zoombox-corners").style({fill:p0.background,stroke:p0.defaultLine,"stroke-width":1}).attr("transform",y).attr("d","M0,0Z");if(s&&n.hasText){var ie=m.select(".label-temp");ie.empty()&&(ie=m.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var ee=T._uid+l1.SELECTID,V=[],re=s1(x,n.xaxes,n.yaxes,n.subplot);A&&!e.shiftKey&&(n._clearSubplotSelections=function(){if(o){var te=E._id,se=D._id;Yk(x,te,se,re);for(var he=(x.layout||{}).selections||[],ke=[],we=!1,ve=0;ve<he.length;ve++){var Me=T.selections[ve];Me.xref!==te||Me.yref!==se?ke.push(he[ve]):we=!0}we&&(x._fullLayout._noEmitSelectedAtStart=!0,y0.call("_guiRelayout",x,{selections:ke}))}});var H=D$(n);n.moveFn=function(te,se){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),S=Math.max(0,Math.min(N,p*te+M)),h=Math.max(0,Math.min(I,c*se+d));var he=Math.abs(S-M),ke=Math.abs(h-d);if(l){var we,ve,Me;if(f){var Se=T.selectdirection;switch(Se==="any"?ke<Math.min(he*.6,Hi)?we="h":he<Math.min(ke*.6,Hi)?we="v":we="d":we=Se,we){case"h":ve=g?I/2:0,Me=I;break;case"v":ve=g?N/2:0,Me=N;break}}if(s)switch(T.newshape.drawdirection){case"vertical":we="h",ve=g?I/2:0,Me=I;break;case"horizontal":we="v",ve=g?N/2:0,Me=N;break;case"ortho":he<ke?(we="h",ve=d,Me=h):(we="v",ve=M,Me=S);break;default:we="d"}we==="h"?(U=b?qy(g,[S,ve],[S,Me]):[[M,ve],[M,Me],[S,Me],[S,ve]],U.xmin=b?S:Math.min(M,S),U.xmax=b?S:Math.max(M,S),U.ymin=Math.min(ve,Me),U.ymax=Math.max(ve,Me),Q.attr("d","M"+U.xmin+","+(d-Hi)+"h-4v"+2*Hi+"h4ZM"+(U.xmax-1)+","+(d-Hi)+"h4v"+2*Hi+"h-4Z")):we==="v"?(U=b?qy(g,[ve,h],[Me,h]):[[ve,d],[ve,h],[Me,h],[Me,d]],U.xmin=Math.min(ve,Me),U.xmax=Math.max(ve,Me),U.ymin=b?h:Math.min(d,h),U.ymax=b?h:Math.max(d,h),Q.attr("d","M"+(M-Hi)+","+U.ymin+"v-4h"+2*Hi+"v4ZM"+(M-Hi)+","+(U.ymax-1)+"v4h"+2*Hi+"v-4Z")):we==="d"&&(U=b?qy(g,[M,d],[S,h]):[[M,d],[M,h],[S,h],[S,d]],U.xmin=Math.min(M,S),U.xmax=Math.max(M,S),U.ymin=Math.min(d,h),U.ymax=Math.max(d,h),Q.attr("d","M0,0Z"))}else i&&(L.addPt([S,h]),U=L.filtered);if(n.selectionDefs&&n.selectionDefs.length?(q=Uk(n.mergedPolygons,U,F),U.subtract=F,P=Xy(n.selectionDefs.concat([U]))):(q=[U],P=Gy(U)),Ik(Vk(q,u),G,n),f){var De=Uy(x,!1),Ce=De.eventData?De.eventData.points.slice():[];De=Uy(x,!1,P,re,n),P=De.selectionTesters,$=De.eventData;var Oe;L?Oe=L.filtered:Oe=Wk(q),g0.throttle(ee,l1.SELECTDELAY,function(){V=Gk(P,re);for(var Be=V.slice(),ge=0;ge<Ce.length;ge++){for(var Ae=Ce[ge],ce=!1,ye=0;ye<Be.length;ye++)if(Be[ye].curveNumber===Ae.curveNumber&&Be[ye].pointNumber===Ae.pointNumber){ce=!0;break}ce||Be.push(Ae)}Be.length&&($||($={}),$.points=Be),H($,Oe),P$(x,$)})}},n.clickFn=function(te,se){if(Q.remove(),x._fullLayout._activeShapeIndex>=0){x._fullLayout._deactivateShape(x);return}if(!s){var he=T.clickmode;g0.done(ee).then(function(){if(g0.clear(ee),te===2){for(G.remove(),W=0;W<re.length;W++)j=re[W],j._module.selectPoints(j,!1);if(b0(x,re),x0(n),Jy(x),re.length){var ke=re[0].xaxis,we=re[0].yaxis;if(ke&&we){for(var ve=[],Me=x._fullLayout.selections,Se=0;Se<Me.length;Se++){var De=Me[Se];De&&(De.xref!==ke._id||De.yref!==we._id)&&ve.push(De)}ve.length<Me.length&&(x._fullLayout._noEmitSelectedAtStart=!0,y0.call("_guiRelayout",x,{selections:ve}))}}}else he.indexOf("select")>-1&&qk(se,x,n.xaxes,n.yaxes,n.subplot,n,G),he==="event"&&_0(x,void 0);a$.click(x,se,k.id)}).catch(o1.error)}},n.doneFn=function(){Q.remove(),g0.done(ee).then(function(){g0.clear(ee),!A&&U&&n.selectionDefs&&(U.subtract=F,n.selectionDefs.push(U),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,q)),(A||s)&&x0(n,A),n.doneFnCompleted&&n.doneFnCompleted(V),f&&_0(x,$)}).catch(o1.error)}}function qk(e,r,t,n,a,o,i){var l=r._hoverdata,u=r._fullLayout,s=u.clickmode,f=s.indexOf("event")>-1,v=[],g,b,x,T,A,m,w,k,y,M;if(T$(l)){Bk(e,r,o),g=s1(r,t,n,a);var d=M$(l,g),_=d.pointNumbers.length>0;if(_?A$(g,d):k$(g)&&(w=Pk(d))){for(i&&i.remove(),M=0;M<g.length;M++)b=g[M],b._module.selectPoints(b,!1);b0(r,g),x0(o),f&&Jy(r)}else{k=e.shiftKey&&(w!==void 0?w:Pk(d)),x=x$(d.pointNumber,d.searchInfo,k);var p=o.selectionDefs.concat([x]);for(T=Xy(p,T),M=0;M<g.length;M++)if(A=g[M]._module.selectPoints(g[M],T),m=Hk(A,g[M]),v.length)for(var c=0;c<m.length;c++)v.push(m[c]);else v=m;if(y={points:v},b0(r,g,y),x&&o&&o.selectionDefs.push(x),i){var S=o.mergedPolygons,h=Hy(o.dragmode);Ik(Vk(S,h),i,o)}f&&_0(r,y)}}}function x$(e,r,t){return{pointNumber:e,searchInfo:r,subtract:!!t}}function By(e){return"pointNumber"in e&&"searchInfo"in e}function b$(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(r,t,n,a){var o=e.searchInfo.cd[0].trace._expandedIndex,i=a.cd[0].trace._expandedIndex;return i===o&&n===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function Xy(e){if(!e.length)return;for(var r=[],t=By(e[0])?0:e[0][0][0],n=t,a=By(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(By(e[i]))r.push(b$(e[i]));else{var l=Gy(e[i]);l.subtract=!!e[i].subtract,r.push(l),t=Math.min(t,l.xmin),n=Math.max(n,l.xmax),a=Math.min(a,l.ymin),o=Math.max(o,l.ymax)}function u(s,f,v,g){for(var b=!1,x=0;x<r.length;x++)r[x].contains(s,f,v,g)&&(b=!r[x].subtract);return b}return{xmin:t,xmax:n,ymin:a,ymax:o,pts:[],contains:u,isRect:!1,degenerate:!1}}function Bk(e,r,t){var n=r._fullLayout,a=t.plotinfo,o=t.dragmode,i=n._lastSelectedSubplot&&n._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(m0(o)&&Hy(o));i&&l&&a.selection&&a.selection.selectionDefs&&!t.selectionDefs?(t.selectionDefs=a.selection.selectionDefs,t.mergedPolygons=a.selection.mergedPolygons):(!l||!a.selection)&&x0(t),i||(Nk(r),n._lastSelectedSubplot=a.id)}function _$(e){return e._fullLayout._activeShapeIndex>=0}function w$(e){return e._fullLayout._activeSelectionIndex>=0}function x0(e,r){var t=e.dragmode,n=e.plotinfo,a=e.gd;_$(a)&&a._fullLayout._deactivateShape(a),w$(a)&&a._fullLayout._deactivateSelection(a);var o=a._fullLayout,i=o._zoomlayer,l=m0(t),u=Vy(t);if(l||u){var s=i.selectAll(".select-outline-"+n.id);if(s&&a._fullLayout._outlining){var f;l&&(f=u$(s,e)),f&&y0.call("_guiRelayout",a,{shapes:f});var v;u&&!Wy(e)&&(v=f$(s,e)),v&&(a._fullLayout._noEmitSelectedAtStart=!0,y0.call("_guiRelayout",a,{selections:v}).then(function(){r&&c$(a)})),a._fullLayout._outlining=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function Dk(e){return e._id}function s1(e,r,t,n){if(!e.calcdata)return[];var a=[],o=r.map(Dk),i=t.map(Dk),l,u,s;for(s=0;s<e.calcdata.length;s++)if(l=e.calcdata[s],u=l[0].trace,!(u.visible!==!0||!u._module||!u._module.selectPoints))if(Wy({subplot:n})&&(u.subplot===n||u.geo===n))a.push(i1(u._module,l,r[0],t[0]));else if(u.type==="splom"){if(u._xaxes[o[0]]&&u._yaxes[i[0]]){var f=i1(u._module,l,r[0],t[0]);f.scene=e._fullLayout._splomScenes[u.uid],a.push(f)}}else if(u.type==="sankey"){var v=i1(u._module,l,r[0],t[0]);a.push(v)}else{if(o.indexOf(u.xaxis)===-1&&(!u._xA||!u._xA.overlaying)||i.indexOf(u.yaxis)===-1&&(!u._yA||!u._yA.overlaying))continue;a.push(i1(u._module,l,Ha(e,u.xaxis),Ha(e,u.yaxis)))}return a}function i1(e,r,t,n){return{_module:e,cd:r,xaxis:t,yaxis:n}}function T$(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function M$(e,r){var t=e[0],n=-1,a=[],o,i;for(i=0;i<r.length;i++)if(o=r[i],t.fullData._expandedIndex===o.cd[0].trace._expandedIndex){if(t.hoverOnBox===!0)break;t.pointNumber!==void 0?n=t.pointNumber:t.binNumber!==void 0&&(n=t.binNumber,a=t.pointNumbers);break}return{pointNumber:n,pointNumbers:a,searchInfo:o}}function Pk(e){var r=e.searchInfo.cd[0].trace,t=e.pointNumber,n=e.pointNumbers,a=n.length>0,o=a?n[0]:t;return r.selectedpoints?r.selectedpoints.indexOf(o)>-1:!1}function A$(e,r){var t=[],n,a,o,i;for(i=0;i<e.length;i++)n=e[i],n.cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&t.push(n);if(t.length===1&&(o=t[0]===r.searchInfo,o&&(a=r.searchInfo.cd[0].trace,a.selectedpoints.length===r.pointNumbers.length))){for(i=0;i<r.pointNumbers.length;i++)if(a.selectedpoints.indexOf(r.pointNumbers[i])<0)return!1;return!0}return!1}function k$(e){var r=0,t,n,a;for(a=0;a<e.length;a++)if(t=e[a],n=t.cd[0].trace,n.selectedpoints&&(n.selectedpoints.length>1||(r+=n.selectedpoints.length,r>1)))return!1;return r===1}function b0(e,r,t){var n;for(n=0;n<r.length;n++){var a=r[n].cd[0].trace._fullInput,o=e._fullLayout._tracePreGUI[a.uid]||{};o.selectedpoints===void 0&&(o.selectedpoints=a._input.selectedpoints||null)}var i;if(t){var l=t.points||[];for(n=0;n<r.length;n++)i=r[n].cd[0].trace,i._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(var u=0;u<l.length;u++){var s=l[u],f=s.data,v=s.fullData,g=s.pointIndex,b=s.pointIndices;b?([].push.apply(f.selectedpoints,b),i._fullInput!==i&&[].push.apply(v.selectedpoints,b)):(f.selectedpoints.push(g),i._fullInput!==i&&v.selectedpoints.push(g))}}else for(n=0;n<r.length;n++)i=r[n].cd[0].trace,delete i.selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;S$(e,r)}function S$(e,r){for(var t=!1,n=0;n<r.length;n++){var a=r[n],o=a.cd;y0.traceIs(o[0].trace,"regl")&&(t=!0);var i=a._module,l=i.styleOnSelect||i.style;l&&(l(e,o,o[0].node3),o[0].nodeRangePlot3&&l(e,o,o[0].nodeRangePlot3))}t&&(h$(e),d$(e))}function Uk(e,r,t){for(var n=t?Ck.difference:Ck.union,a=n({regions:e},{regions:[r]}),o=a.regions.reverse(),i=0;i<o.length;i++){var l=o[i];l.subtract=Zy(l,o.slice(0,i))}return o}function Hk(e,r){if(Array.isArray(e))for(var t=r.cd,n=r.cd[0].trace,a=0;a<e.length;a++)e[a]=i$(e[a],n,t);return e}function Vk(e,r){for(var t=[],n=0;n<e.length;n++){t[n]=[];for(var a=0;a<e[n].length;a++){t[n][a]=[],t[n][a][0]=a?"L":"M";for(var o=0;o<e[n][a].length;o++)t[n][a].push(e[n][a][o])}r||t[n].push(["Z",t[n][0][1],t[n][0][2]])}return t}function Gk(e,r){for(var t=[],n,a=[],o,i=0;i<r.length;i++){var l=r[i];o=l._module.selectPoints(l,e),a.push(o),n=Hk(o,l),t=t.concat(n)}return t}function Uy(e,r,t,n,a){var o=!!n,i,l,u;a&&(i=a.plotinfo,l=a.xaxes[0]._id,u=a.yaxes[0]._id);var s=[],f=[],v=Fk(e),g=e._fullLayout;if(i){var b=g._zoomlayer,x=g.dragmode,T=m0(x),A=Vy(x);if(T||A){var m=Ha(e,l,"x"),w=Ha(e,u,"y");if(m&&w){var k=b.selectAll(".select-outline-"+i.id);if(k&&e._fullLayout._outlining&&k.length){for(var y=k[0][0],M=y.getAttribute("d"),d=s$(M,e,i),_=[],p=0;p<d.length;p++){for(var c=d[p],S=[],h=0;h<c.length;h++)S.push([rl(m,c[h][1]),rl(w,c[h][2])]);S.xref=l,S.yref=u,S.subtract=Zy(S,_),_.push(S)}v=v.concat(_)}}}}var R=l&&u?[l+u]:g._subplots.cartesian;C$(e);for(var E={},D=0;D<R.length;D++){var N=R[D],I=N.indexOf("y"),F=N.slice(0,I),L=N.slice(I),P=l&&u?t:void 0;if(P=L$(v,F,L,P),P){var q=n;if(!o){var U=Ha(e,F,"x"),W=Ha(e,L,"y");q=s1(e,[U],[W],N);for(var j=0;j<q.length;j++){var $=q[j],G=$.cd[0],O=G.trace;if($._module.name==="scattergl"&&!G.t.xpx){var Z=O.x,ne=O.y,Q=O._length;G.t.xpx=[],G.t.ypx=[];for(var ie=0;ie<Q;ie++)G.t.xpx[ie]=U.c2p(Z[ie]),G.t.ypx[ie]=W.c2p(ne[ie])}$._module.name==="splom"&&(E[O.uid]||(E[O.uid]=!0))}}var ee=Gk(P,q);s=s.concat(ee),f=f.concat(q)}}var V={points:s};b0(e,f,V);var re=g.clickmode,H=re.indexOf("event")>-1&&r;if(!i&&r){var te=Fk(e,!0);if(te.length){var se=te[0].xref,he=te[0].yref;if(se&&he){var ke=Wk(te),we=Xk([Ha(e,se,"x"),Ha(e,he,"y")]);we(V,ke)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:H&&_0(e,V),g._reselect=!1}if(!i&&g._deselect){var ve=g._deselect;l=ve.xref,u=ve.yref,E$(l,u,f)||Yk(e,l,u,n),H&&(V.points.length?_0(e,V):Jy(e)),g._deselect=!1}return{eventData:V,selectionTesters:t}}function C$(e){var r=e.calcdata;if(r)for(var t=0;t<r.length;t++){var n=r[t][0],a=n.trace,o=e._fullLayout._splomScenes;if(o){var i=o[a.uid];i&&(i.selectBatch=[])}}}function E$(e,r,t){for(var n=0;n<t.length;n++){var a=t[n];if(a.xaxis&&a.xaxis._id===e&&a.yaxis&&a.yaxis._id===r)return!0}return!1}function Yk(e,r,t,n){n=s1(e,[Ha(e,r,"x")],[Ha(e,t,"y")],r+t);for(var a=0;a<n.length;a++){var o=n[a];o._module.selectPoints(o,!1)}b0(e,n)}function L$(e,r,t,n){for(var a,o=0;o<e.length;o++){var i=e[o];if(!(r!==i.xref||t!==i.yref))if(a){var l=!!i.subtract;a=Uk(a,i,l),n=Xy(a)}else a=[i],n=Gy(i)}return n}function Fk(e,r){for(var t=[],n=e._fullLayout,a=n.selections,o=a.length,i=0;i<o;i++)if(!(r&&i!==n._activeSelectionIndex)){var l=a[i];if(l){var u=l.xref,s=l.yref,f=Ha(e,u,"x"),v=Ha(e,s,"y"),g,b,x,T,A;if(l.type==="rect"){A=[];var m=rl(f,l.x0),w=rl(f,l.x1),k=rl(v,l.y0),y=rl(v,l.y1);A=[[m,k],[m,y],[w,y],[w,k]],g=Math.min(m,w),b=Math.max(m,w),x=Math.min(k,y),T=Math.max(k,y),A.xmin=g,A.xmax=b,A.ymin=x,A.ymax=T,A.xref=u,A.yref=s,A.subtract=!1,A.isRect=!0,t.push(A)}else if(l.type==="path")for(var M=l.path.split("Z"),d=[],_=0;_<M.length;_++){var p=M[_];if(p){p+="Z";var c=Ek.extractPathCoords(p,Lk.paramIsX,"raw"),S=Ek.extractPathCoords(p,Lk.paramIsY,"raw");g=1/0,b=-1/0,x=1/0,T=-1/0,A=[];for(var h=0;h<c.length;h++){var R=rl(f,c[h]),E=rl(v,S[h]);A.push([R,E]),g=Math.min(R,g),b=Math.max(R,b),x=Math.min(E,x),T=Math.max(E,T)}A.xmin=g,A.xmax=b,A.ymin=x,A.ymax=T,A.xref=u,A.yref=s,A.subtract=Zy(A,d),d.push(A),t.push(A)}}}}return t}function Zy(e,r){for(var t=!1,n=0;n<r.length;n++)for(var a=r[n],o=0;o<e.length;o++)if(t$(e[o],a)){t=!t;break}return t}function rl(e,r){return e.type==="date"&&(r=r.replace("_"," ")),e.type==="log"?e.c2p(r):e.r2p(r,null,e.calendar)}function Wk(e){for(var r=e.length,t=[],n=0;n<r;n++){var a=e[n];t=t.concat(a),t=t.concat([a[0]])}return R$(t)}function R$(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function Xk(e){return function(r,t){for(var n,a,o=0;o<e.length;o++){var i=e[o],l=i._id,u=l.charAt(0);if(t.isRect){n||(n={});var s=t[u+"min"],f=t[u+"max"];s!==void 0&&f!==void 0&&(n[l]=[Rk(i,s),Rk(i,f)].sort(v$))}else a||(a={}),a[l]=t.map(g$(i))}n&&(r.range=n),a&&(r.lassoPoints=a)}}function D$(e){var r=e.plotinfo;return r.fillRangeItems||Xk(e.xaxes.concat(e.yaxes))}function P$(e,r){e.emit("plotly_selecting",r)}function _0(e,r){r&&(r.selections=(e.layout||{}).selections||[]),e.emit("plotly_selected",r)}function Jy(e){e.emit("plotly_deselect",null)}Zk.exports={reselect:Uy,prepSelect:m$,clearOutline:Nk,clearSelectionsCache:x0,selectOnClick:qk}});var Ky=pe((jhe,Kk)=>{"use strict";Kk.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]});var T0=pe((e1e,Qk)=>{"use strict";Qk.exports={axisRefDescription:function(e,r,t){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+t+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",r,"and the",t,"of the domain of the","second",e,"axis."].join(" ")}}});var Eu=pe((t1e,eS)=>{"use strict";var $k=Ky(),jk=Sn(),u1=Tn(),F$=gt().templatedArray,r1e=T0();eS.exports=F$("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:jk({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:$k.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:$k.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",u1.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",u1.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",u1.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",u1.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:jk({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})});var f1=pe((n1e,rS)=>{"use strict";rS.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}});var nS=pe((a1e,tS)=>{"use strict";tS.exports=function(r){return{valType:"color",editType:"style",anim:!0}}});var us=pe((i1e,uS)=>{"use strict";var aS=ao().axisHoverFormat,I$=Ra().texttemplateAttrs,N$=Ra().hovertemplateAttrs,iS=ni(),z$=Sn(),O$=Lo().dash,q$=Lo().pattern,B$=yt(),U$=f1(),c1=Mt().extendFlat,H$=nS();function oS(e){return{valType:"any",dflt:0,editType:"calc"}}function lS(e){return{valType:"any",editType:"calc"}}function sS(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}uS.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:oS("x"),yperiod:oS("y"),xperiod0:lS("x0"),yperiod0:lS("y0"),xperiodalignment:sS("x"),yperiodalignment:sS("y"),xhoverformat:aS("x"),yhoverformat:aS("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:I$({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:N$({},{keys:U$.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:c1({},O$,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:H$(!0),fillgradient:c1({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:q$,marker:c1({symbol:{valType:"enumerated",values:B$.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:c1({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},iS("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},iS("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:z$({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}});var Qy=pe((l1e,vS)=>{"use strict";var fS=Eu(),cS=us().line,V$=Lo().dash,v1=Mt().extendFlat,G$=qn().overrideAll,Y$=gt().templatedArray,o1e=T0();vS.exports=G$(Y$("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:v1({},fS.xref,{}),yref:v1({},fS.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:cS.color,width:v1({},cS.width,{min:1,dflt:1}),dash:v1({},V$,{dflt:"dot"})}}),"arraydraw","from-root")});var gS=pe((s1e,pS)=>{"use strict";var hS=ir(),h1=wt(),W$=ai(),X$=Qy(),dS=el();pS.exports=function(r,t){W$(r,t,{name:"selections",handleItemDefaults:Z$});for(var n=t.selections,a=0;a<n.length;a++){var o=n[a];o&&o.path===void 0&&(o.x0===void 0||o.x1===void 0||o.y0===void 0||o.y1===void 0)&&(t.selections[a]=null)}};function Z$(e,r,t){function n(d,_){return hS.coerce(e,r,X$,d,_)}var a=n("path"),o=a?"path":"rect",i=n("type",o),l=i!=="path";l&&delete r.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var u=["x","y"],s=0;s<2;s++){var f=u[s],v={_fullLayout:t},g,b,x,T=h1.coerceRef(e,r,v,f);if(g=h1.getFromId(v,T),g._selectionIndices.push(r._index),x=dS.rangeToShapePosition(g),b=dS.shapePositionToRange(g),l){var A=f+"0",m=f+"1",w=e[A],k=e[m];e[A]=b(e[A],!0),e[m]=b(e[m],!0),h1.coercePosition(r,v,n,T,A),h1.coercePosition(r,v,n,T,m);var y=r[A],M=r[m];y!==void 0&&M!==void 0&&(r[A]=x(y),r[m]=x(M),e[A]=w,e[m]=k)}}l&&hS.noneOrAll(e,r,["x0","x1","y0","y1"])}});var mS=pe((u1e,yS)=>{"use strict";yS.exports=function(r,t,n){n("newselection.mode");var a=n("newselection.line.width");a&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}});var M0=pe((f1e,_S)=>{"use strict";var J$=Cr(),xS=ir(),bS=un();_S.exports=function(r){return function(n,a){var o=n[r];if(Array.isArray(o))for(var i=J$.subplotsRegistry.cartesian,l=i.idRegex,u=a._subplots,s=u.xaxis,f=u.yaxis,v=u.cartesian,g=a._has("cartesian")||a._has("gl2d"),b=0;b<o.length;b++){var x=o[b];if(xS.isPlainObject(x)){var T=bS.cleanId(x.xref,"x",!1),A=bS.cleanId(x.yref,"y",!1),m=l.x.test(T),w=l.y.test(A);if(m||w){g||xS.pushUnique(a._basePlotModules,i);var k=!1;m&&s.indexOf(T)===-1&&(s.push(T),k=!0),w&&f.indexOf(A)===-1&&(f.push(A),k=!0),k&&m&&w&&v.push(T+A)}}}}}});var Lu=pe((c1e,TS)=>{"use strict";var wS=Ny(),A0=Jk();TS.exports={moduleType:"component",name:"selections",layoutAttributes:Qy(),supplyLayoutDefaults:gS(),supplyDrawNewSelectionDefaults:mS(),includeBasePlot:M0()("selections"),draw:wS.draw,drawOne:wS.drawOne,reselect:A0.reselect,prepSelect:A0.prepSelect,clearOutline:A0.clearOutline,clearSelectionsCache:A0.clearSelectionsCache,selectOnClick:A0.selectOnClick}});var GS=pe((v1e,VS)=>{"use strict";var tm=it(),Va=ir(),MS=Va.numberFormat,K$=La(),Q$=mh(),d1=Cr(),PS=Va.strTranslate,$$=Xn(),AS=Kr(),tl=yt(),j$=so(),kS=wt(),ej=Jo(),rj=oi(),FS=bu(),p1=FS.selectingOrDrawing,tj=FS.freeMode,nj=Bn().FROM_TL,aj=Ph(),ij=e1().redrawReglTraces,oj=nn(),jy=un().getFromId,lj=Lu().prepSelect,sj=Lu().clearOutline,uj=Lu().selectOnClick,$y=Cy(),nm=Tn(),SS=nm.MINDRAG,Jn=nm.MINZOOM,CS=!0;function fj(e,r,t,n,a,o,i,l){var u=e._fullLayout._zoomlayer,s=i+l==="nsew",f=(i+l).length===1,v,g,b,x,T,A,m,w,k,y,M,d,_,p,c,S,h,R,E,D,N,I,F;t+=r.yaxis._shift;function L(){if(v=r.xaxis,g=r.yaxis,k=v._length,y=g._length,m=v._offset,w=g._offset,b={},b[v._id]=v,x={},x[g._id]=g,i&&l)for(var me=r.overlays,de=0;de<me.length;de++){var be=me[de].xaxis;b[be._id]=be;var Ee=me[de].yaxis;x[Ee._id]=Ee}T=DS(b),A=DS(x),_=ES(T,l),p=ES(A,i),c=!p&&!_,d=RS(e,e._fullLayout._axisMatchGroups,b,x),M=RS(e,e._fullLayout._axisConstraintGroups,b,x,d);var ze=M.isSubplotConstrained||d.isSubplotConstrained;S=l||ze,h=i||ze;var Fe=e._fullLayout;R=Fe._has("scattergl"),E=Fe._has("splom"),D=Fe._has("svg")}L();var P=hj(p+_,e._fullLayout.dragmode,s),q=NS(r,i+l+"drag",P,t,n,a,o);if(c&&!s)return q.onmousedown=null,q.style.pointerEvents="none",q;var U={element:q,gd:e,plotinfo:r};U.prepFn=function(me,de,be){var Ee=U.dragmode,ze=e._fullLayout.dragmode;ze!==Ee&&(U.dragmode=ze),L(),I=e._fullLayout._invScaleX,F=e._fullLayout._invScaleY,c||(s?me.shiftKey?ze==="pan"?ze="zoom":p1(ze)||(ze="pan"):me.ctrlKey&&(ze="pan"):ze="pan"),tj(ze)?U.minDrag=1:U.minDrag=void 0,p1(ze)?(U.xaxes=T,U.yaxes=A,lj(me,de,be,U,ze)):(U.clickFn=j,p1(Ee)&&W(),c||(ze==="zoom"?(U.moveFn=te,U.doneFn=he,U.minDrag=1,H(me,de,be)):ze==="pan"&&(U.moveFn=De,U.doneFn=ge))),e._fullLayout._redrag=function(){var Fe=e._dragdata;if(Fe&&Fe.element===q){var Je=e._fullLayout.dragmode;p1(Je)||(L(),Ae([0,0,k,y]),U.moveFn(Fe.dx,Fe.dy))}}};function W(){U.plotinfo.selection=!1,sj(e)}function j(me,de){var be=U.gd;if(be._fullLayout._activeShapeIndex>=0){be._fullLayout._deactivateShape(be);return}var Ee=be._fullLayout.clickmode;if(rm(be),me===2&&!f&&Be(),s)Ee.indexOf("select")>-1&&uj(de,be,T,A,r.id,U),Ee.indexOf("event")>-1&&j$.click(be,de,r.id);else if(me===1&&f){var ze=i?g:v,Fe=i==="s"||l==="w"?0:1,Je=ze._name+".range["+Fe+"]",Ye=cj(ze,Fe),Ge="left",We="middle";if(ze.fixedrange)return;i?(We=i==="n"?"top":"bottom",ze.side==="right"&&(Ge="right")):l==="e"&&(Ge="right"),be._context.showAxisRangeEntryBoxes&&tm.select(q).call($$.makeEditable,{gd:be,immediate:!0,background:be._fullLayout.paper_bgcolor,text:String(Ye),fill:ze.tickfont?ze.tickfont.color:"#444",horizontalAlign:Ge,verticalAlign:We}).on("edit",function(Te){var Pe=ze.d2r(Te);Pe!==void 0&&d1.call("_guiRelayout",be,Je,Pe)})}}rj.init(U);var $,G,O,Z,ne,Q,ie,ee,V,re;function H(me,de,be){var Ee=q.getBoundingClientRect();$=de-Ee.left,G=be-Ee.top,e._fullLayout._calcInverseTransform(e);var ze=Va.apply3DTransform(e._fullLayout._invTransform)($,G);$=ze[0],G=ze[1],O={l:$,r:$,w:0,t:G,b:G,h:0},Z=e._hmpixcount?e._hmlumcount/e._hmpixcount:K$(e._fullLayout.plot_bgcolor).getLuminance(),ne="M0,0H"+k+"V"+y+"H0V0",Q=!1,ie="xy",re=!1,ee=zS(u,Z,m,w,ne),V=OS(u,m,w)}function te(me,de){if(e._transitioningWithDuration)return!1;var be=Math.max(0,Math.min(k,I*me+$)),Ee=Math.max(0,Math.min(y,F*de+G)),ze=Math.abs(be-$),Fe=Math.abs(Ee-G);O.l=Math.min($,be),O.r=Math.max($,be),O.t=Math.min(G,Ee),O.b=Math.max(G,Ee);function Je(){ie="",O.r=O.l,O.t=O.b,V.attr("d","M0,0Z")}if(M.isSubplotConstrained)ze>Jn||Fe>Jn?(ie="xy",ze/k>Fe/y?(Fe=ze*y/k,G>Ee?O.t=G-Fe:O.b=G+Fe):(ze=Fe*k/y,$>be?O.l=$-ze:O.r=$+ze),V.attr("d",g1(O))):Je();else if(d.isSubplotConstrained)if(ze>Jn||Fe>Jn){ie="xy";var Ye=Math.min(O.l/k,(y-O.b)/y),Ge=Math.max(O.r/k,(y-O.t)/y);O.l=Ye*k,O.r=Ge*k,O.b=(1-Ye)*y,O.t=(1-Ge)*y,V.attr("d",g1(O))}else Je();else!p||Fe<Math.min(Math.max(ze*.6,SS),Jn)?ze<SS||!_?Je():(O.t=0,O.b=y,ie="x",V.attr("d",dj(O,G))):!_||ze<Math.min(Fe*.6,Jn)?(O.l=0,O.r=k,ie="y",V.attr("d",pj(O,$))):(ie="xy",V.attr("d",g1(O)));O.w=O.r-O.l,O.h=O.b-O.t,ie&&(re=!0),e._dragged=re,qS(ee,V,O,ne,Q,Z),se(),e.emit("plotly_relayouting",N),Q=!0}function se(){N={},(ie==="xy"||ie==="x")&&(em(T,O.l/k,O.r/k,N,M.xaxes),Ce("x",N)),(ie==="xy"||ie==="y")&&(em(A,(y-O.b)/y,(y-O.t)/y,N,M.yaxes),Ce("y",N))}function he(){se(),rm(e),ge(),US(e)}var ke=[0,0,k,y],we=null,ve=nm.REDRAWDELAY,Me=r.mainplot?e._fullLayout._plots[r.mainplot]:r;function Se(me){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(W(),e._transitioningWithDuration){me.preventDefault(),me.stopPropagation();return}L(),clearTimeout(we);var de=-me.deltaY;if(isFinite(de)||(de=me.wheelDelta/10),!isFinite(de)){Va.log("Did not find wheel motion attributes: ",me);return}var be=Math.exp(-Math.min(Math.max(de,-20),20)/200),Ee=Me.draglayer.select(".nsewdrag").node().getBoundingClientRect(),ze=(me.clientX-Ee.left)/Ee.width,Fe=(Ee.bottom-me.clientY)/Ee.height,Je;function Ye(Ge,We,Te){if(Ge.fixedrange)return;var Pe=Va.simpleMap(Ge.range,Ge.r2l),Qe=Pe[0]+(Pe[1]-Pe[0])*We;function Ve(ar){return Ge.l2r(Qe+(ar-Qe)*Te)}Ge.range=Pe.map(Ve)}if(S){for(l||(ze=.5),Je=0;Je<T.length;Je++)Ye(T[Je],ze,be);Ce("x"),ke[2]*=be,ke[0]+=ke[2]*ze*(1/be-1)}if(h){for(i||(Fe=.5),Je=0;Je<A.length;Je++)Ye(A[Je],Fe,be);Ce("y"),ke[3]*=be,ke[1]+=ke[3]*(1-Fe)*(1/be-1)}Ae(ke),Oe(),e.emit("plotly_relayouting",N),we=setTimeout(function(){e._fullLayout&&(ke=[0,0,k,y],ge())},ve),me.preventDefault()}i.length*l.length!==1&&HS(q,Se);function De(me,de){if(me=me*I,de=de*F,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,_==="ew"||p==="ns"){var be=_?-me:0,Ee=p?-de:0;if(d.isSubplotConstrained){if(_&&p){var ze=(me/k-de/y)/2;me=ze*k,de=-ze*y,be=-me,Ee=-de}p?be=-Ee*k/y:Ee=-be*y/k}_&&(LS(T,me),Ce("x")),p&&(LS(A,de),Ce("y")),Ae([be,Ee,k,y]),Oe(),e.emit("plotly_relayouting",N);return}function Fe(Ve,ar,ue){for(var K=1-ar,ae,Re,Ue=0;Ue<Ve.length;Ue++){var je=Ve[Ue];if(!je.fixedrange){ae=je,Re=je._rl[K]+(je._rl[ar]-je._rl[K])/vj(ue/je._length);var nr=je.l2r(Re);nr!==!1&&nr!==void 0&&(je.range[ar]=nr)}}return ae._length*(ae._rl[ar]-Re)/(ae._rl[ar]-ae._rl[K])}var Je=_==="w"==(p==="n")?1:-1;if(_&&p&&(M.isSubplotConstrained||d.isSubplotConstrained)){var Ye=(me/k+Je*de/y)/2;me=Ye*k,de=Je*Ye*y}var Ge,We;if(_==="w"?me=Fe(T,0,me):_==="e"?me=Fe(T,1,-me):_||(me=0),p==="n"?de=Fe(A,1,de):p==="s"?de=Fe(A,0,-de):p||(de=0),Ge=_==="w"?me:0,We=p==="n"?de:0,M.isSubplotConstrained&&!d.isSubplotConstrained||d.isSubplotConstrained&&_&&p&&Je>0){var Te;if(d.isSubplotConstrained||!_&&p.length===1){for(Te=0;Te<T.length;Te++)T[Te].range=T[Te]._r.slice(),$y(T[Te],1-de/y);me=de*k/y,Ge=me/2}if(d.isSubplotConstrained||!p&&_.length===1){for(Te=0;Te<A.length;Te++)A[Te].range=A[Te]._r.slice(),$y(A[Te],1-me/k);de=me*y/k,We=de/2}}(!d.isSubplotConstrained||!p)&&Ce("x"),(!d.isSubplotConstrained||!_)&&Ce("y");var Pe=k-me,Qe=y-de;d.isSubplotConstrained&&!(_&&p)&&(_?(We=Ge?0:me*y/k,Qe=Pe*y/k):(Ge=We?0:de*k/y,Pe=Qe*k/y)),Ae([Ge,We,Pe,Qe]),Oe(),e.emit("plotly_relayouting",N)}function Ce(me,de){for(var be=d.isSubplotConstrained?{x:A,y:T}[me]:d[me+"axes"],Ee=d.isSubplotConstrained?{x:T,y:A}[me]:[],ze=0;ze<be.length;ze++){var Fe=be[ze],Je=Fe._id,Ye=d.xLinks[Je]||d.yLinks[Je],Ge=Ee[0]||b[Ye]||x[Ye];Ge&&(de?(de[Fe._name+".range[0]"]=de[Ge._name+".range[0]"],de[Fe._name+".range[1]"]=de[Ge._name+".range[1]"]):Fe.range=Ge.range.slice())}}function Oe(){var me=[],de;function be(Je){for(de=0;de<Je.length;de++)Je[de].fixedrange||me.push(Je[de]._id)}function Ee(Je,Ye){for(de=0;de<Je.length;de++){var Ge=Je[de],We=Ge[Ye];!Ge.fixedrange&&We.tickmode==="sync"&&me.push(We._id)}}for(S&&(be(T),be(M.xaxes),be(d.xaxes),Ee(r.overlays,"xaxis")),h&&(be(A),be(M.yaxes),be(d.yaxes),Ee(r.overlays,"yaxis")),N={},de=0;de<me.length;de++){var ze=me[de],Fe=jy(e,ze);kS.drawOne(e,Fe,{skipTitle:!0}),N[Fe._name+".range[0]"]=Fe.range[0],N[Fe._name+".range[1]"]=Fe.range[1]}kS.redrawComponents(e,me)}function Be(){if(!e._transitioningWithDuration){var me=e._context.doubleClick,de=[];_&&(de=de.concat(T)),p&&(de=de.concat(A)),d.xaxes&&(de=de.concat(d.xaxes)),d.yaxes&&(de=de.concat(d.yaxes));var be={},Ee,ze;if(me==="reset+autosize")for(me="autosize",ze=0;ze<de.length;ze++){Ee=de[ze];var Fe=Ee._rangeInitial0,Je=Ee._rangeInitial1,Ye=Fe!==void 0||Je!==void 0;if(Ye&&(Fe!==void 0&&Fe!==Ee.range[0]||Je!==void 0&&Je!==Ee.range[1])||!Ye&&Ee.autorange!==!0){me="reset";break}}if(me==="autosize")for(ze=0;ze<de.length;ze++)Ee=de[ze],Ee.fixedrange||(be[Ee._name+".autorange"]=!0);else if(me==="reset"){for((_||M.isSubplotConstrained)&&(de=de.concat(M.xaxes)),p&&!M.isSubplotConstrained&&(de=de.concat(M.yaxes)),M.isSubplotConstrained&&(_?p||(de=de.concat(A)):de=de.concat(T)),ze=0;ze<de.length;ze++)if(Ee=de[ze],!Ee.fixedrange){var Ge=Ee._name,We=Ee._autorangeInitial;Ee._rangeInitial0===void 0&&Ee._rangeInitial1===void 0?be[Ge+".autorange"]=!0:Ee._rangeInitial0===void 0?(be[Ge+".autorange"]=We,be[Ge+".range"]=[null,Ee._rangeInitial1]):Ee._rangeInitial1===void 0?(be[Ge+".range"]=[Ee._rangeInitial0,null],be[Ge+".autorange"]=We):be[Ge+".range"]=[Ee._rangeInitial0,Ee._rangeInitial1]}}e.emit("plotly_doubleclick",null),d1.call("_guiRelayout",e,be)}}function ge(){Ae([0,0,k,y]),Va.syncOrAsync([oj.previousPromises,function(){e._fullLayout._replotting=!1,d1.call("_guiRelayout",e,N)}],e)}function Ae(me){var de=e._fullLayout,be=de._plots,Ee=de._subplots.cartesian,ze,Fe,Je,Ye;if(E&&d1.subplotsRegistry.splom.drag(e),R){for(ze=0;ze<Ee.length;ze++)if(Fe=be[Ee[ze]],Je=Fe.xaxis,Ye=Fe.yaxis,Fe._scene){Je.limitRange&&Je.limitRange(),Ye.limitRange&&Ye.limitRange();var Ge=Va.simpleMap(Je.range,Je.r2l),We=Va.simpleMap(Ye.range,Ye.r2l);Fe._scene.update({range:[Ge[0],We[0],Ge[1],We[1]]})}}if((E||R)&&(aj(e),ij(e)),D){var Te=me[2]/v._length,Pe=me[3]/g._length;for(ze=0;ze<Ee.length;ze++){Fe=be[Ee[ze]],Je=Fe.xaxis,Ye=Fe.yaxis;var Qe=(S||d.isSubplotConstrained)&&!Je.fixedrange&&b[Je._id],Ve=(h||d.isSubplotConstrained)&&!Ye.fixedrange&&x[Ye._id],ar,ue,K,ae;if(Qe?(ar=Te,K=l||d.isSubplotConstrained?me[0]:Le(Je,ar)):d.xaHash[Je._id]?(ar=Te,K=me[0]*Je._length/v._length):d.yaHash[Je._id]?(ar=Pe,K=p==="ns"?-me[1]*Je._length/g._length:Le(Je,ar,{n:"top",s:"bottom"}[p])):(ar=ce(Je,Te,Pe),K=ye(Je,ar)),ar>1&&(Je.maxallowed!==void 0&&S===(Je.range[0]<Je.range[1]?"e":"w")||Je.minallowed!==void 0&&S===(Je.range[0]<Je.range[1]?"w":"e"))&&(ar=1,K=0),Ve?(ue=Pe,ae=i||d.isSubplotConstrained?me[1]:Le(Ye,ue)):d.yaHash[Ye._id]?(ue=Pe,ae=me[1]*Ye._length/g._length):d.xaHash[Ye._id]?(ue=Te,ae=_==="ew"?-me[0]*Ye._length/v._length:Le(Ye,ue,{e:"right",w:"left"}[_])):(ue=ce(Ye,Te,Pe),ae=ye(Ye,ue)),ue>1&&(Ye.maxallowed!==void 0&&h===(Ye.range[0]<Ye.range[1]?"n":"s")||Ye.minallowed!==void 0&&h===(Ye.range[0]<Ye.range[1]?"s":"n"))&&(ue=1,ae=0),!(!ar&&!ue)){ar||(ar=1),ue||(ue=1);var Re=Je._offset-K/ar,Ue=Ye._offset-ae/ue;Fe.clipRect.call(tl.setTranslate,K,ae).call(tl.setScale,ar,ue),Fe.plot.call(tl.setTranslate,Re,Ue).call(tl.setScale,1/ar,1/ue),(ar!==Fe.xScaleFactor||ue!==Fe.yScaleFactor)&&(tl.setPointGroupScale(Fe.zoomScalePts,ar,ue),tl.setTextPointsScale(Fe.zoomScaleTxt,ar,ue)),tl.hideOutsideRangePoints(Fe.clipOnAxisFalseTraces,Fe),Fe.xScaleFactor=ar,Fe.yScaleFactor=ue}}}}function ce(me,de,be){return me.fixedrange?0:S&&M.xaHash[me._id]?de:h&&(M.isSubplotConstrained?M.xaHash:M.yaHash)[me._id]?be:0}function ye(me,de){return de?(me.range=me._r.slice(),$y(me,de),Le(me,de)):0}function Le(me,de,be){return me._length*(1-de)*nj[be||me.constraintoward||"middle"]}return q}function IS(e,r,t,n){var a=Va.ensureSingle(e.draglayer,r,t,function(o){o.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)});return a.call(ej,n),a.node()}function NS(e,r,t,n,a,o,i){var l=IS(e,"rect",r,t);return tm.select(l).call(tl.setRect,n,a,o,i),l}function ES(e,r){for(var t=0;t<e.length;t++)if(!e[t].fixedrange)return r;return""}function cj(e,r){var t=e.range[r],n=Math.abs(t-e.range[1-r]),a;return e.type==="date"?t:e.type==="log"?(a=Math.ceil(Math.max(0,-Math.log(n)/Math.LN10))+3,MS("."+a+"g")(Math.pow(10,t))):(a=Math.floor(Math.log(Math.abs(t))/Math.LN10)-Math.floor(Math.log(n)/Math.LN10)+4,MS("."+String(a)+"g")(t))}function em(e,r,t,n,a){for(var o=0;o<e.length;o++){var i=e[o];if(!i.fixedrange)if(i.rangebreaks){var l=i._id.charAt(0)==="y",u=l?1-r:r,s=l?1-t:t;n[i._name+".range[0]"]=i.l2r(i.p2l(u*i._length)),n[i._name+".range[1]"]=i.l2r(i.p2l(s*i._length))}else{var f=i._rl[0],v=i._rl[1]-f;n[i._name+".range[0]"]=i.l2r(f+v*r),n[i._name+".range[1]"]=i.l2r(f+v*t)}}if(a&&a.length){var g=(r+(1-t))/2;em(a,g,1-g,n,[])}}function LS(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(!n.fixedrange){if(n.rangebreaks){var a=0,o=n._length,i=n.p2l(a+r)-n.p2l(a),l=n.p2l(o+r)-n.p2l(o),u=(i+l)/2;n.range=[n.l2r(n._rl[0]-u),n.l2r(n._rl[1]-u)]}else n.range=[n.l2r(n._rl[0]-r/n._m),n.l2r(n._rl[1]-r/n._m)];n.limitRange&&n.limitRange()}}}function vj(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function hj(e,r,t){return e?e==="nsew"?t?"":r==="pan"?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function zS(e,r,t,n,a){return e.append("path").attr("class","zoombox").style({fill:r>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",PS(t,n)).attr("d",a+"Z")}function OS(e,r,t){return e.append("path").attr("class","zoombox-corners").style({fill:AS.background,stroke:AS.defaultLine,"stroke-width":1,opacity:0}).attr("transform",PS(r,t)).attr("d","M0,0Z")}function qS(e,r,t,n,a,o){e.attr("d",n+"M"+t.l+","+t.t+"v"+t.h+"h"+t.w+"v-"+t.h+"h-"+t.w+"Z"),BS(e,r,a,o)}function BS(e,r,t,n){t||(e.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),r.transition().style("opacity",1).duration(200))}function rm(e){tm.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function US(e){CS&&e.data&&e._context.showTips&&(Va.notifier(Va._(e,"Double-click to zoom back out"),"long"),CS=!1)}function dj(e,r){return"M"+(e.l-.5)+","+(r-Jn-.5)+"h-3v"+(2*Jn+1)+"h3ZM"+(e.r+.5)+","+(r-Jn-.5)+"h3v"+(2*Jn+1)+"h-3Z"}function pj(e,r){return"M"+(r-Jn-.5)+","+(e.t-.5)+"v-3h"+(2*Jn+1)+"v3ZM"+(r-Jn-.5)+","+(e.b+.5)+"v3h"+(2*Jn+1)+"v-3Z"}function g1(e){var r=Math.floor(Math.min(e.b-e.t,e.r-e.l,Jn)/2);return"M"+(e.l-3.5)+","+(e.t-.5+r)+"h3v"+-r+"h"+r+"v-3h-"+(r+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+r)+"h-3v"+-r+"h"+-r+"v-3h"+(r+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-r)+"h-3v"+r+"h"+-r+"v3h"+(r+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-r)+"h3v"+r+"h"+r+"v3h-"+(r+3)+"Z"}function RS(e,r,t,n,a){for(var o=!1,i={},l={},u,s,f,v,g=(a||{}).xaHash,b=(a||{}).yaHash,x=0;x<r.length;x++){var T=r[x];for(u in t)if(T[u]){for(f in T)!(a&&(g[f]||b[f]))&&!(f.charAt(0)==="x"?t:n)[f]&&(i[f]=u);for(s in n)!(a&&(g[s]||b[s]))&&T[s]&&(o=!0)}for(s in n)if(T[s])for(v in T)!(a&&(g[v]||b[v]))&&!(v.charAt(0)==="x"?t:n)[v]&&(l[v]=s)}o&&(Va.extendFlat(i,l),l={});var A={},m=[];for(f in i){var w=jy(e,f);m.push(w),A[w._id]=w}var k={},y=[];for(v in l){var M=jy(e,v);y.push(M),k[M._id]=M}return{xaHash:A,yaHash:k,xaxes:m,yaxes:y,xLinks:i,yLinks:l,isSubplotConstrained:o}}function HS(e,r){if(!Q$)e.onwheel!==void 0?e.onwheel=r:e.onmousewheel!==void 0?e.onmousewheel=r:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",r,{passive:!1}));else{var t=e.onwheel!==void 0?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(t,e._onwheel),e._onwheel=r,e.addEventListener(t,r,{passive:!1})}}function DS(e){var r=[];for(var t in e)r.push(e[t]);return r}VS.exports={makeDragBox:fj,makeDragger:IS,makeRectDragger:NS,makeZoombox:zS,makeCorners:OS,updateZoombox:qS,xyCorners:g1,transitionZoombox:BS,removeZoombox:rm,showDoubleClickNotifier:US,attachWheelEventHandler:HS}});var am=pe(m1=>{"use strict";var gj=it(),y1=so(),yj=oi(),mj=Jo(),ui=GS().makeDragBox,hn=Tn().DRAGGERSIZE;m1.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){gj.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var n=Object.keys(t._plots||{}).sort(function(o,i){if((t._plots[o].mainplot&&!0)===(t._plots[i].mainplot&&!0)){var l=o.split("y"),u=i.split("y");return l[0]===u[0]?Number(l[1]||1)-Number(u[1]||1):Number(l[0]||1)-Number(u[0]||1)}return t._plots[o].mainplot?1:-1});n.forEach(function(o){var i=t._plots[o],l=i.xaxis,u=i.yaxis;if(!i.mainplot){var s=ui(r,i,l._offset,u._offset,l._length,u._length,"ns","ew");s.onmousemove=function(g){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===o&&r._fullLayout._plots[o]&&y1.hover(r,g,o)},y1.hover(r,g,o),r._fullLayout._lasthover=s,r._fullLayout._hoversubplot=o},s.onmouseout=function(g){r._dragging||(r._fullLayout._hoversubplot=null,yj.unhover(r,g))},r._context.showAxisDragHandles&&(ui(r,i,l._offset-hn,u._offset-hn,hn,hn,"n","w"),ui(r,i,l._offset+l._length,u._offset-hn,hn,hn,"n","e"),ui(r,i,l._offset-hn,u._offset+u._length,hn,hn,"s","w"),ui(r,i,l._offset+l._length,u._offset+u._length,hn,hn,"s","e"))}if(r._context.showAxisDragHandles){if(o===l._mainSubplot){var f=l._mainLinePosition;l.side==="top"&&(f-=hn),ui(r,i,l._offset+l._length*.1,f,l._length*.8,hn,"","ew"),ui(r,i,l._offset,f,l._length*.1,hn,"","w"),ui(r,i,l._offset+l._length*.9,f,l._length*.1,hn,"","e")}if(o===u._mainSubplot){var v=u._mainLinePosition;u.side!=="right"&&(v-=hn),ui(r,i,v,u._offset+u._length*.1,hn,u._length*.8,"ns",""),ui(r,i,v,u._offset+u._length*.9,hn,u._length*.1,"s",""),ui(r,i,v,u._offset,hn,u._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(o){o.target=r._fullLayout._lasthover,y1.hover(r,o,t._hoversubplot)},a.onclick=function(o){o.target=r._fullLayout._lasthover,y1.click(r,o)},a.onmousedown=function(o){r._fullLayout._lasthover.onmousedown(o)},m1.updateFx(r)}};m1.updateFx=function(e){var r=e._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";mj(r._draggers,t)}});var XS=pe((d1e,WS)=>{"use strict";var YS=Cr();WS.exports=function(r){for(var t=YS.layoutArrayContainers,n=YS.layoutArrayRegexes,a=r.split("[")[0],o,i,l=0;l<n.length;l++)if(i=r.match(n[l]),i&&i.index===0){o=i[0];break}if(o||(o=t[t.indexOf(a)]),!o)return!1;var u=r.substr(o.length);return u?(i=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),i?{array:o,index:Number(i[1]),property:i[3]||""}:!1):{array:o,index:"",property:""}}});var JS=pe(S0=>{"use strict";var xj=So(),im=av(),k0=Il(),bj=Qp().sorterAsc,om=Cr();S0.containerArrayMatch=XS();var _j=S0.isAddVal=function(r){return r==="add"||xj(r)},ZS=S0.isRemoveVal=function(r){return r===null||r==="remove"};S0.applyContainerArrayChanges=function(r,t,n,a,o){var i=t.astr,l=om.getComponentMethod(i,"supplyLayoutDefaults"),u=om.getComponentMethod(i,"draw"),s=om.getComponentMethod(i,"drawOne"),f=a.replot||a.recalc||l===im||u===im,v=r.layout,g=r._fullLayout;if(n[""]){Object.keys(n).length>1&&k0.warn("Full array edits are incompatible with other edits",i);var b=n[""][""];if(ZS(b))t.set(null);else if(Array.isArray(b))t.set(b);else return k0.warn("Unrecognized full array edit value",i,b),!0;return f?!1:(l(v,g),u(r),!0)}var x=Object.keys(n).map(Number).sort(bj),T=t.get(),A=T||[],m=o(g,i).get(),w=[],k=-1,y=A.length,M,d,_,p,c,S,h,R;for(M=0;M<x.length;M++){if(_=x[M],p=n[_],c=Object.keys(p),S=p[""],h=_j(S),_<0||_>A.length-(h?0:1)){k0.warn("index out of range",i,_);continue}if(S!==void 0)c.length>1&&k0.warn("Insertion & removal are incompatible with edits to the same index.",i,_),ZS(S)?w.push(_):h?(S==="add"&&(S={}),A.splice(_,0,S),m&&m.splice(_,0,{})):k0.warn("Unrecognized full object edit value",i,_,S),k===-1&&(k=_);else for(d=0;d<c.length;d++)R=i+"["+_+"].",o(A[_],c[d],R).set(p[c[d]])}for(M=w.length-1;M>=0;M--)A.splice(w[M],1),m&&m.splice(w[M],1);if(A.length?T||t.set(A):t.set(null),f)return!1;if(l(v,g),s!==im){var E;if(k===-1)E=x;else{for(y=Math.max(A.length,y),E=[],M=0;M<x.length&&(_=x[M],!(_>=k));M++)E.push(_);for(M=k;M<y;M++)E.push(M)}for(M=0;M<E.length;M++)s(r,E[M])}else u(r);return!0}});var tC=pe(Ga=>{"use strict";var jS=rt(),wj=Vp(),eC=Cr(),Qn=ir(),E0=nn(),rC=un(),fs=Kr(),L0=rC.cleanId,Tj=rC.getFromTrace,C0=eC.traceIs;Ga.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&Qn.log("Clearing previous rejected promises from queue."),e._promises=[]};Ga.cleanLayout=function(e){var r,t;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var n=(E0.subplotsRegistry.cartesian||{}).attrRegex,a=(E0.subplotsRegistry.polar||{}).attrRegex,o=(E0.subplotsRegistry.ternary||{}).attrRegex,i=(E0.subplotsRegistry.gl3d||{}).attrRegex,l=Object.keys(e);for(r=0;r<l.length;r++){var u=l[r];if(n&&n.test(u)){var s=e[u];s.anchor&&s.anchor!=="free"&&(s.anchor=L0(s.anchor)),s.overlaying&&(s.overlaying=L0(s.overlaying)),s.type||(s.isdate?s.type="date":s.islog?s.type="log":s.isdate===!1&&s.islog===!1&&(s.type="linear")),(s.autorange==="withzero"||s.autorange==="tozero")&&(s.autorange=!0,s.rangemode="tozero"),s.insiderange&&delete s.range,delete s.islog,delete s.isdate,delete s.categories,x1(s,"domain")&&delete s.domain,s.autotick!==void 0&&(s.tickmode===void 0&&(s.tickmode=s.autotick?"auto":"linear"),delete s.autotick),Kn(s)}else if(a&&a.test(u)){var f=e[u];Kn(f.radialaxis)}else if(o&&o.test(u)){var v=e[u];Kn(v.aaxis),Kn(v.baxis),Kn(v.caxis)}else if(i&&i.test(u)){var g=e[u],b=g.cameraposition;if(Array.isArray(b)&&b[0].length===4){var x=b[0],T=b[1],A=b[2],m=wj([],x),w=[];for(t=0;t<3;++t)w[t]=T[t]+A*m[2+4*t];g.camera={eye:{x:w[0],y:w[1],z:w[2]},center:{x:T[0],y:T[1],z:T[2]},up:{x:0,y:0,z:1}},delete g.cameraposition}Kn(g.xaxis),Kn(g.yaxis),Kn(g.zaxis)}}var k=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<k;r++){var y=e.annotations[r];Qn.isPlainObject(y)&&(y.ref&&(y.ref==="paper"?(y.xref="paper",y.yref="paper"):y.ref==="data"&&(y.xref="x",y.yref="y"),delete y.ref),Ru(y,"xref"),Ru(y,"yref"))}var M=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<M;r++){var d=e.shapes[r];Qn.isPlainObject(d)&&(Ru(d,"xref"),Ru(d,"yref"))}var _=Array.isArray(e.images)?e.images.length:0;for(r=0;r<_;r++){var p=e.images[r];Qn.isPlainObject(p)&&(Ru(p,"xref"),Ru(p,"yref"))}var c=e.legend;return c&&(c.x>3?(c.x=1.02,c.xanchor="left"):c.x<-2&&(c.x=-.02,c.xanchor="right"),c.y>3?(c.y=1.02,c.yanchor="bottom"):c.y<-2&&(c.y=-.02,c.yanchor="top")),Kn(e),e.dragmode==="rotate"&&(e.dragmode="orbit"),fs.clean(e),e.template&&e.template.layout&&Ga.cleanLayout(e.template.layout),e};function Ru(e,r){var t=e[r],n=r.charAt(0);t&&t!=="paper"&&(e[r]=L0(t,n,!0))}function Kn(e){e&&((typeof e.title=="string"||typeof e.title=="number")&&(e.title={text:e.title}),r("titlefont","font"),r("titleposition","position"),r("titleside","side"),r("titleoffset","offset"));function r(t,n){var a=e[t],o=e.title&&e.title[n];a&&!o&&(e.title||(e.title={}),e.title[n]=e[t],delete e[t])}}Ga.cleanData=function(e){for(var r=0;r<e.length;r++){var t=e[r],n;if(t.type==="histogramy"&&"xbins"in t&&!("ybins"in t)&&(t.ybins=t.xbins,delete t.xbins),t.error_y&&"opacity"in t.error_y){var a=fs.defaults,o=t.error_y.color||(C0(t,"bar")?fs.defaultLine:a[r%a.length]);t.error_y.color=fs.addOpacity(fs.rgb(o),fs.opacity(o)*t.error_y.opacity),delete t.error_y.opacity}if("bardir"in t&&(t.bardir==="h"&&(C0(t,"bar")||t.type.substr(0,9)==="histogram")&&(t.orientation="h",Ga.swapXYData(t)),delete t.bardir),t.type==="histogramy"&&Ga.swapXYData(t),(t.type==="histogramx"||t.type==="histogramy")&&(t.type="histogram"),"scl"in t&&!("colorscale"in t)&&(t.colorscale=t.scl,delete t.scl),"reversescl"in t&&!("reversescale"in t)&&(t.reversescale=t.reversescl,delete t.reversescl),t.xaxis&&(t.xaxis=L0(t.xaxis,"x")),t.yaxis&&(t.yaxis=L0(t.yaxis,"y")),C0(t,"gl3d")&&t.scene&&(t.scene=E0.subplotsRegistry.gl3d.cleanId(t.scene)),!C0(t,"pie-like")&&!C0(t,"bar-like"))if(Array.isArray(t.textposition))for(n=0;n<t.textposition.length;n++)t.textposition[n]=QS(t.textposition[n]);else t.textposition&&(t.textposition=QS(t.textposition));var i=eC.getModule(t);if(i&&i.colorbar){var l=i.colorbar.container,u=l?t[l]:t;u&&u.colorscale&&(u.colorscale==="YIGnBu"&&(u.colorscale="YlGnBu"),u.colorscale==="YIOrRd"&&(u.colorscale="YlOrRd"))}if(t.type==="surface"&&Qn.isPlainObject(t.contours)){var s=["x","y","z"];for(n=0;n<s.length;n++){var f=t.contours[s[n]];Qn.isPlainObject(f)&&(f.highlightColor&&(f.highlightcolor=f.highlightColor,delete f.highlightColor),f.highlightWidth&&(f.highlightwidth=f.highlightWidth,delete f.highlightWidth))}}if(t.type==="candlestick"||t.type==="ohlc"){var v=(t.increasing||{}).showlegend!==!1,g=(t.decreasing||{}).showlegend!==!1,b=KS(t.increasing),x=KS(t.decreasing);if(b!==!1&&x!==!1){var T=Mj(b,x,v,g);T&&(t.name=T)}else(b||x)&&!t.name&&(t.name=b||x)}if(Array.isArray(t.transforms)){var A=t.transforms;for(n=0;n<A.length;n++){var m=A[n];if(Qn.isPlainObject(m))switch(m.type){case"filter":m.filtersrc&&(m.target=m.filtersrc,delete m.filtersrc),m.calendar&&(m.valuecalendar||(m.valuecalendar=m.calendar),delete m.calendar);break;case"groupby":if(m.styles=m.styles||m.style,m.styles&&!Array.isArray(m.styles)){var w=m.styles,k=Object.keys(w);m.styles=[];for(var y=0;y<k.length;y++)m.styles.push({target:k[y],value:w[k[y]]})}break}}}x1(t,"line")&&delete t.line,"marker"in t&&(x1(t.marker,"line")&&delete t.marker.line,x1(t,"marker")&&delete t.marker),fs.clean(t),t.autobinx&&(delete t.autobinx,delete t.xbins),t.autobiny&&(delete t.autobiny,delete t.ybins),Kn(t),t.colorbar&&Kn(t.colorbar),t.marker&&t.marker.colorbar&&Kn(t.marker.colorbar),t.line&&t.line.colorbar&&Kn(t.line.colorbar),t.aaxis&&Kn(t.aaxis),t.baxis&&Kn(t.baxis)}};function KS(e){if(!Qn.isPlainObject(e))return!1;var r=e.name;return delete e.name,delete e.showlegend,(typeof r=="string"||typeof r=="number")&&String(r)}function Mj(e,r,t,n){if(t&&!n)return e;if(n&&!t||!e.trim())return r;if(!r.trim())return e;var a=Math.min(e.length,r.length),o;for(o=0;o<a&&e.charAt(o)===r.charAt(o);o++);var i=e.substr(0,o);return i.trim()}function QS(e){var r="middle",t="center";return typeof e=="string"&&(e.indexOf("top")!==-1?r="top":e.indexOf("bottom")!==-1&&(r="bottom"),e.indexOf("left")!==-1?t="left":e.indexOf("right")!==-1&&(t="right")),r+" "+t}function x1(e,r){return r in e&&typeof e[r]=="object"&&Object.keys(e[r]).length===0}Ga.swapXYData=function(e){var r;if(Qn.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var t=e.error_y,n="copy_ystyle"in t?t.copy_ystyle:!(t.color||t.thickness||t.width);Qn.swapAttrs(e,["error_?.copy_ystyle"]),n&&Qn.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if(typeof e.hoverinfo=="string"){var a=e.hoverinfo.split("+");for(r=0;r<a.length;r++)a[r]==="x"?a[r]="y":a[r]==="y"&&(a[r]="x");e.hoverinfo=a.join("+")}};Ga.coerceTraceIndices=function(e,r){if(jS(r))return[r];if(!Array.isArray(r)||!r.length)return e.data.map(function(a,o){return o});if(Array.isArray(r)){for(var t=[],n=0;n<r.length;n++)Qn.isIndex(r[n],e.data.length)?t.push(r[n]):Qn.warn("trace index (",r[n],") is not a number or is out of bounds");return t}return r};Ga.manageArrayContainers=function(e,r,t){var n=e.obj,a=e.parts,o=a.length,i=a[o-1],l=jS(i);if(l&&r===null){var u=a.slice(0,o-1).join("."),s=Qn.nestedProperty(n,u).get();s.splice(i,1)}else l&&e.get()===void 0&&e.get()===void 0&&(t[e.astr]=null),e.set(r)};var Aj=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function $S(e){var r=e.search(Aj);if(r>0)return e.substr(0,r)}Ga.hasParent=function(e,r){for(var t=$S(r);t;){if(t in e)return!0;t=$S(t)}return!1};var kj=["x","y","z"];Ga.clearAxisTypes=function(e,r,t){for(var n=0;n<r.length;n++)for(var a=e._fullData[n],o=0;o<3;o++){var i=Tj(e,a,kj[o]);if(i&&i.type!=="log"){var l=i._name,u=i._id.substr(1);if(u.substr(0,5)==="scene"){if(t[u]!==void 0)continue;l=u+"."+l}var s=l+".type";t[l]===void 0&&t[s]===void 0&&Qn.nestedProperty(e.layout,s).set(null)}}}});var hm=pe(tt=>{"use strict";var w1=it(),Sj=rt(),Cj=fg(),cr=ir(),xt=cr.nestedProperty,um=Pf(),$n=qw(),Ya=Cr(),E1=Oo(),Lr=nn(),Yn=wt(),Ej=F2(),Lj=Ia(),lm=yt(),Rj=Kr(),Dj=am().initInteractions,Pj=Uo(),Fj=Lu().clearOutline,lC=Fl().dfltConfig,b1=JS(),$t=tC(),ht=e1(),nl=qn(),Ij=Tn().AX_NAME_PATTERN,sm=0,nC=5;function Nj(e,r,t,n){var a;if(e=cr.getGraphDiv(e),um.init(e),cr.isPlainObject(r)){var o=r;r=o.data,t=o.layout,n=o.config,a=o.frames}var i=um.triggerHandler(e,"plotly_beforeplot",[r,t,n]);if(i===!1)return Promise.reject();!r&&!t&&!cr.isPlotDiv(e)&&cr.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",e);function l(){if(a)return tt.addFrames(e,a)}uC(e,n),t||(t={}),w1.select(e).classed("js-plotly-plot",!0),lm.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var u=(e.data||[]).length===0&&Array.isArray(r);Array.isArray(r)&&($t.cleanData(r),u?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),(!e.layout||u)&&(e.layout=$t.cleanLayout(t)),Lr.supplyDefaults(e);var s=e._fullLayout,f=s._has("cartesian");s._replotting=!0,(u||s._shouldCreateBgLayer)&&(aee(e),s._shouldCreateBgLayer&&delete s._shouldCreateBgLayer),lm.initGradients(e),lm.initPatterns(e),u&&Yn.saveShowSpikeInitial(e);var v=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;v&&Lr.doCalcdata(e);for(var g=0;g<e.calcdata.length;g++)e.calcdata[g][0].trace=e._fullData[g];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){cr.isHidden(e)||Lr.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):cr.clearResponsive(e);var b=cr.extendFlat({},s._size),x=0;function T(){for(var _=s._basePlotModules,p=0;p<_.length;p++)_[p].drawFramework&&_[p].drawFramework(e);!s._glcanvas&&s._has("gl")&&(s._glcanvas=s._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(R){return R.key}),s._glcanvas.enter().append("canvas").attr("class",function(R){return"gl-canvas gl-canvas-"+R.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var c=e._context.plotGlPixelRatio;if(s._glcanvas){s._glcanvas.attr("width",s.width*c).attr("height",s.height*c).style("width",s.width+"px").style("height",s.height+"px");var S=s._glcanvas.data()[0].regl;if(S&&(Math.floor(s.width*c)!==S._gl.drawingBufferWidth||Math.floor(s.height*c)!==S._gl.drawingBufferHeight)){var h="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(x)cr.error(h);else return cr.log(h+" Clearing graph and plotting again."),Lr.cleanPlot([],{},e._fullData,s),Lr.supplyDefaults(e),s=e._fullLayout,Lr.doCalcdata(e),x++,T()}}return s.modebar.orientation==="h"?s._modebardiv.style("height",null).style("width","100%"):s._modebardiv.style("width",null).style("height",s.height+"px"),Lr.previousPromises(e)}function A(){if(Lr.clearAutoMarginIds(e),ht.drawMarginPushers(e),Yn.allowAutoMargin(e),e._fullLayout.title.text&&e._fullLayout.title.automargin&&Lr.allowAutoMargin(e,"title.automargin"),s._has("pie"))for(var _=e._fullData,p=0;p<_.length;p++){var c=_[p];c.type==="pie"&&c.automargin&&Lr.allowAutoMargin(e,"pie."+c.uid+".automargin")}return Lr.doAutoMargin(e),Lr.previousPromises(e)}function m(){if(Lr.didMarginChange(b,s._size))return cr.syncOrAsync([A,ht.layoutStyles],e)}function w(){if(!v){k();return}return cr.syncOrAsync([Ya.getComponentMethod("shapes","calcAutorange"),Ya.getComponentMethod("annotations","calcAutorange"),k],e)}function k(){e._transitioning||(ht.doAutoRangeAndConstraints(e),u&&Yn.saveRangeInitial(e),Ya.getComponentMethod("rangeslider","calcAutorange")(e))}function y(){return Yn.draw(e,u?"":"redraw")}var M=[Lr.previousPromises,l,T,A,m];f&&M.push(w),M.push(ht.layoutStyles),f&&M.push(y,function(p){var c=p._fullLayout._insideTickLabelsUpdaterange;if(c)return p._fullLayout._insideTickLabelsUpdaterange=void 0,R0(p,c).then(function(){Yn.saveRangeInitial(p,!0)})}),M.push(ht.drawData,ht.finalDraw,Dj,Lr.addLinks,Lr.rehover,Lr.redrag,Lr.reselect,Lr.doAutoMargin,Lr.previousPromises);var d=cr.syncOrAsync(M,e);return(!d||!d.then)&&(d=Promise.resolve()),d.then(function(){return D0(e),e})}function D0(e){var r=e._fullLayout;r._redrawFromAutoMarginCount?r._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function zj(e){return cr.extendFlat(lC,e)}function sC(e,r){try{e._fullLayout._paper.style("background",r)}catch(t){cr.error(t)}}function Oj(e,r){var t=Rj.combine(r,"white");sC(e,t)}function uC(e,r){if(!e._context){e._context=cr.extendDeep({},lC);var t=w1.select("base");e._context._baseUrl=t.size()&&t.attr("href")?window.location.href.split("#")[0]:""}var n=e._context,a,o,i;if(r){for(o=Object.keys(r),a=0;a<o.length;a++)i=o[a],!(i==="editable"||i==="edits")&&i in n&&(i==="setBackground"&&r[i]==="opaque"?n[i]=Oj:n[i]=r[i]);r.plot3dPixelRatio&&!n.plotGlPixelRatio&&(n.plotGlPixelRatio=n.plot3dPixelRatio);var l=r.editable;if(l!==void 0)for(n.editable=l,o=Object.keys(n.edits),a=0;a<o.length;a++)n.edits[o[a]]=l;if(r.edits)for(o=Object.keys(r.edits),a=0;a<o.length;a++)i=o[a],i in n.edits&&(n.edits[i]=r.edits[i]);n._exportedPlot=r._exportedPlot}n.staticPlot&&(n.editable=!1,n.edits={},n.autosizable=!1,n.scrollZoom=!1,n.doubleClick=!1,n.showTips=!1,n.showLink=!1,n.displayModeBar=!1),n.displayModeBar==="hover"&&!Cj&&(n.displayModeBar=!0),(n.setBackground==="transparent"||typeof n.setBackground!="function")&&(n.setBackground=sC),n._hasZeroHeight=n._hasZeroHeight||e.clientHeight===0,n._hasZeroWidth=n._hasZeroWidth||e.clientWidth===0;var u=n.scrollZoom,s=n._scrollZoom={};if(u===!0)s.cartesian=1,s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1;else if(typeof u=="string"){var f=u.split("+");for(a=0;a<f.length;a++)s[f[a]]=1}else u!==!1&&(s.gl3d=1,s.geo=1,s.mapbox=1,s.map=1)}function qj(e){if(e=cr.getGraphDiv(e),!cr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return $t.cleanData(e.data),$t.cleanLayout(e.layout),e.calcdata=void 0,tt._doPlot(e).then(function(){return e.emit("plotly_redraw"),e})}function Bj(e,r,t,n){return e=cr.getGraphDiv(e),Lr.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),Lr.purge(e),tt._doPlot(e,r,t,n)}function T1(e,r){var t=r+1,n=[],a,o;for(a=0;a<e.length;a++)o=e[a],o<0?n.push(t+o):n.push(o);return n}function M1(e,r,t){var n,a;for(n=0;n<r.length;n++){if(a=r[n],a!==parseInt(a,10))throw new Error("all values in "+t+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(t+" must be valid indices for gd.data.");if(r.indexOf(a,n+1)>-1||a>=0&&r.indexOf(-e.data.length+a)>-1||a<0&&r.indexOf(e.data.length+a)>-1)throw new Error("each index in "+t+" must be unique.")}}function fC(e,r,t){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(r)||(r=[r]),M1(e,r,"currentIndices"),typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&M1(e,t,"newIndices"),typeof t!="undefined"&&r.length!==t.length)throw new Error("current and new indices must be of equal length.")}function Uj(e,r,t){var n,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(typeof r=="undefined")throw new Error("traces must be defined.");for(Array.isArray(r)||(r=[r]),n=0;n<r.length;n++)if(a=r[n],typeof a!="object"||Array.isArray(a)||a===null)throw new Error("all values in traces array must be non-array objects");if(typeof t!="undefined"&&!Array.isArray(t)&&(t=[t]),typeof t!="undefined"&&t.length!==r.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Hj(e,r,t,n){var a=cr.isPlainObject(n);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!cr.isPlainObject(r))throw new Error("update must be a key:value object");if(typeof t=="undefined")throw new Error("indices must be an integer or array of integers");M1(e,t,"indices");for(var o in r){if(!Array.isArray(r[o])||r[o].length!==t.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in n)||!Array.isArray(n[o])||n[o].length!==r[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function Vj(e,r,t,n){var a=cr.isPlainObject(n),o=[],i,l,u,s,f;Array.isArray(t)||(t=[t]),t=T1(t,e.data.length-1);for(var v in r)for(var g=0;g<t.length;g++){if(i=e.data[t[g]],u=xt(i,v),l=u.get(),s=r[v][g],!cr.isArrayOrTypedArray(s))throw new Error("attribute: "+v+" index: "+g+" must be an array");if(!cr.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+v);if(l.constructor!==s.constructor)throw new Error("cannot extend array with an array of a different type: "+v);f=a?n[v][g]:n,Sj(f)||(f=-1),o.push({prop:u,target:l,insert:s,maxp:Math.floor(f)})}return o}function cC(e,r,t,n,a){Hj(e,r,t,n);for(var o=Vj(e,r,t,n),i={},l={},u=0;u<o.length;u++){var s=o[u].prop,f=o[u].maxp,v=a(o[u].target,o[u].insert,f);s.set(v[0]),Array.isArray(i[s.astr])||(i[s.astr]=[]),i[s.astr].push(v[1]),Array.isArray(l[s.astr])||(l[s.astr]=[]),l[s.astr].push(o[u].target.length)}return{update:i,maxPoints:l}}function vC(e,r){var t=new e.constructor(e.length+r.length);return t.set(e),t.set(r,e.length),t}function hC(e,r,t,n){e=cr.getGraphDiv(e);function a(u,s,f){var v,g;if(cr.isTypedArray(u))if(f<0){var b=new u.constructor(0),x=vC(u,s);f<0?(v=x,g=b):(v=b,g=x)}else if(v=new u.constructor(f),g=new u.constructor(u.length+s.length-f),f===s.length)v.set(s),g.set(u);else if(f<s.length){var T=s.length-f;v.set(s.subarray(T)),g.set(u),g.set(s.subarray(0,T),u.length)}else{var A=f-s.length,m=u.length-A;v.set(u.subarray(m)),v.set(s,A),g.set(u.subarray(0,m))}else v=u.concat(s),g=f>=0&&f<v.length?v.splice(0,v.length-f):[];return[v,g]}var o=cC(e,r,t,n,a),i=tt.redraw(e),l=[e,o.update,t,o.maxPoints];return $n.add(e,tt.prependTraces,l,hC,arguments),i}function dC(e,r,t,n){e=cr.getGraphDiv(e);function a(u,s,f){var v,g;if(cr.isTypedArray(u))if(f<=0){var b=new u.constructor(0),x=vC(s,u);f<0?(v=x,g=b):(v=b,g=x)}else if(v=new u.constructor(f),g=new u.constructor(u.length+s.length-f),f===s.length)v.set(s),g.set(u);else if(f<s.length){var T=s.length-f;v.set(s.subarray(0,T)),g.set(s.subarray(T)),g.set(u,T)}else{var A=f-s.length;v.set(s),v.set(u.subarray(0,A),s.length),g.set(u.subarray(A))}else v=s.concat(u),g=f>=0&&f<v.length?v.splice(f,v.length):[];return[v,g]}var o=cC(e,r,t,n,a),i=tt.redraw(e),l=[e,o.update,t,o.maxPoints];return $n.add(e,tt.extendTraces,l,dC,arguments),i}function pC(e,r,t){e=cr.getGraphDiv(e);var n=[],a=tt.deleteTraces,o=pC,i=[e,n],l=[e,r],u,s;for(Uj(e,r,t),Array.isArray(r)||(r=[r]),r=r.map(function(f){return cr.extendFlat({},f)}),$t.cleanData(r),u=0;u<r.length;u++)e.data.push(r[u]);for(u=0;u<r.length;u++)n.push(-r.length+u);if(typeof t=="undefined")return s=tt.redraw(e),$n.add(e,a,i,o,l),s;Array.isArray(t)||(t=[t]);try{fC(e,n,t)}catch(f){throw e.data.splice(e.data.length-r.length,r.length),f}return $n.startSequence(e),$n.add(e,a,i,o,l),s=tt.moveTraces(e,n,t),$n.stopSequence(e),s}function gC(e,r){e=cr.getGraphDiv(e);var t=[],n=tt.addTraces,a=gC,o=[e,t,r],i=[e,r],l,u;if(typeof r=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),M1(e,r,"indices"),r=T1(r,e.data.length-1),r.sort(cr.sorterDes),l=0;l<r.length;l+=1)u=e.data.splice(r[l],1)[0],t.push(u);var s=tt.redraw(e);return $n.add(e,n,o,a,i),s}function fm(e,r,t){e=cr.getGraphDiv(e);var n=[],a=[],o=fm,i=fm,l=[e,t,r],u=[e,r,t],s;if(fC(e,r,t),r=Array.isArray(r)?r:[r],typeof t=="undefined")for(t=[],s=0;s<r.length;s++)t.push(-r.length+s);for(t=Array.isArray(t)?t:[t],r=T1(r,e.data.length-1),t=T1(t,e.data.length-1),s=0;s<e.data.length;s++)r.indexOf(s)===-1&&n.push(e.data[s]);for(s=0;s<r.length;s++)a.push({newIndex:t[s],trace:e.data[r[s]]});for(a.sort(function(v,g){return v.newIndex-g.newIndex}),s=0;s<a.length;s+=1)n.splice(a[s].newIndex,0,a[s].trace);e.data=n;var f=tt.redraw(e);return $n.add(e,o,l,i,u),f}function A1(e,r,t,n){e=cr.getGraphDiv(e),$t.clearPromiseQueue(e);var a={};if(typeof r=="string")a[r]=t;else if(cr.isPlainObject(r))a=cr.extendFlat({},r),n===void 0&&(n=t);else return cr.warn("Restyle fail.",r,t,n),Promise.reject();Object.keys(a).length&&(e.changed=!0);var o=$t.coerceTraceIndices(e,n),i=yC(e,a,o),l=i.flags;l.calc&&(e.calcdata=void 0),l.clearAxisTypes&&$t.clearAxisTypes(e,o,{});var u=[];l.fullReplot?u.push(tt._doPlot):(u.push(Lr.previousPromises),Lr.supplyDefaults(e),l.markerSize&&(Lr.doCalcdata(e),L1(u)),l.style&&u.push(ht.doTraceStyle),l.colorbars&&u.push(ht.doColorBars),u.push(D0)),u.push(Lr.rehover,Lr.redrag,Lr.reselect),$n.add(e,A1,[e,i.undoit,i.traces],A1,[e,i.redoit,i.traces]);var s=cr.syncOrAsync(u,e);return(!s||!s.then)&&(s=Promise.resolve()),s.then(function(){return e.emit("plotly_restyle",i.eventData),e})}function ho(e){return e===void 0?null:e}function _1(e,r){return r?function(t,n,a){var o=xt(t,n),i=o.set;return o.set=function(l){var u=(a||"")+n;k1(u,o.get(),l,e),i(l)},o}:xt}function k1(e,r,t,n){if(Array.isArray(r)||Array.isArray(t))for(var a=Array.isArray(r)?r:[],o=Array.isArray(t)?t:[],i=Math.max(a.length,o.length),l=0;l<i;l++)k1(e+"["+l+"]",a[l],o[l],n);else if(cr.isPlainObject(r)||cr.isPlainObject(t)){var u=cr.isPlainObject(r)?r:{},s=cr.isPlainObject(t)?t:{},f=cr.extendFlat({},u,s);for(var v in f)k1(e+"."+v,u[v],s[v],n)}else n[e]===void 0&&(n[e]=ho(r))}function Gj(e,r,t){for(var n in t){var a=xt(e,n);k1(n,a.get(),t[n],r)}}function yC(e,r,t){var n=e._fullLayout,a=e._fullData,o=e.data,i=n._guiEditing,l=_1(n._preGUI,i),u=cr.extendDeepAll({},r),s;mC(r);var f=nl.traceFlags(),v={},g={},b;function x(){return t.map(function(){})}function T(V){var re=Yn.id2name(V);b.indexOf(re)===-1&&b.push(re)}function A(V){return"LAYOUT"+V+".autorange"}function m(V){return"LAYOUT"+V+".range"}function w(V){for(var re=V;re<a.length;re++)if(a[re]._input===o[V])return a[re]}function k(V,re,H){if(Array.isArray(V)){V.forEach(function(ke){k(ke,re,H)});return}if(!(V in r||$t.hasParent(r,V))){var te;if(V.substr(0,6)==="LAYOUT")te=l(e.layout,V.replace("LAYOUT",""));else{var se=t[H],he=n._tracePreGUI[w(se)._fullInput.uid];te=_1(he,i)(o[se],V)}V in g||(g[V]=x()),g[V][H]===void 0&&(g[V][H]=ho(te.get())),re!==void 0&&te.set(re)}}function y(V){return function(re){return a[re][V]}}function M(V){return function(re,H){return re===!1?a[t[H]][V]:null}}for(var d in r){if($t.hasParent(r,d))throw new Error("cannot set "+d+" and a parent attribute simultaneously");var _=r[d],p,c,S,h,R,E;if((d==="autobinx"||d==="autobiny")&&(d=d.charAt(d.length-1)+"bins",Array.isArray(_)?_=_.map(M(d)):_===!1?_=t.map(y(d)):_=null),v[d]=_,d.substr(0,6)==="LAYOUT"){S=l(e.layout,d.replace("LAYOUT","")),g[d]=[ho(S.get())],S.set(Array.isArray(_)?_[0]:_),f.calc=!0;continue}for(g[d]=x(),s=0;s<t.length;s++){p=o[t[s]],c=w(t[s]);var D=n._tracePreGUI[c._fullInput.uid];if(S=_1(D,i)(p,d),h=S.get(),R=Array.isArray(_)?_[s%_.length]:_,R!==void 0){var N=S.parts[S.parts.length-1],I=d.substr(0,d.length-N.length-1),F=I?I+".":"",L=I?xt(c,I).get():c;if(E=E1.getTraceValObject(c,S.parts),E&&E.impliedEdits&&R!==null)for(var P in E.impliedEdits)k(cr.relativeAttr(d,P),E.impliedEdits[P],s);else if((N==="thicknessmode"||N==="lenmode")&&h!==R&&(R==="fraction"||R==="pixels")&&L){var q=n._size,U=L.orient,W=U==="top"||U==="bottom";if(N==="thicknessmode"){var j=W?q.h:q.w;k(F+"thickness",L.thickness*(R==="fraction"?1/j:j),s)}else{var $=W?q.w:q.h;k(F+"len",L.len*(R==="fraction"?1/$:$),s)}}else if(d==="type"&&(R==="pie"!=(h==="pie")||R==="funnelarea"!=(h==="funnelarea"))){var G="x",O="y";(R==="bar"||h==="bar")&&p.orientation==="h"&&(G="y",O="x"),cr.swapAttrs(p,["?","?src"],"labels",G),cr.swapAttrs(p,["d?","?0"],"label",G),cr.swapAttrs(p,["?","?src"],"values",O),h==="pie"||h==="funnelarea"?(xt(p,"marker.color").set(xt(p,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):Ya.traceIs(p,"cartesian")&&xt(p,"marker.colors").set(xt(p,"marker.color").get())}g[d][s]=ho(h);var Z=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Z.indexOf(d)!==-1){if(d==="orientation"){S.set(R);var ne=p.x&&!p.y?"h":"v";if((S.get()||ne)===c.orientation)continue}else d==="orientationaxes"&&(p.orientation={v:"h",h:"v"}[c.orientation]);$t.swapXYData(p),f.calc=f.clearAxisTypes=!0}else Lr.dataArrayContainers.indexOf(S.parts[0])!==-1?($t.manageArrayContainers(S,R,g),f.calc=!0):(E?E.arrayOk&&!Ya.traceIs(c,"regl")&&(cr.isArrayOrTypedArray(R)||cr.isArrayOrTypedArray(h))?f.calc=!0:nl.update(f,E):f.calc=!0,S.set(R))}}if(["swapxyaxes","orientationaxes"].indexOf(d)!==-1&&Yn.swap(e,t),d==="orientationaxes"){var Q=xt(e.layout,"hovermode"),ie=Q.get();ie==="x"?Q.set("y"):ie==="y"?Q.set("x"):ie==="x unified"?Q.set("y unified"):ie==="y unified"&&Q.set("x unified")}if(["orientation","type"].indexOf(d)!==-1){for(b=[],s=0;s<t.length;s++){var ee=o[t[s]];Ya.traceIs(ee,"cartesian")&&(T(ee.xaxis||"x"),T(ee.yaxis||"y"))}k(b.map(A),!0,0),k(b.map(m),[0,1],0)}}return(f.calc||f.plot)&&(f.fullReplot=!0),{flags:f,undoit:g,redoit:v,traces:t,eventData:cr.extendDeepNoArrays([],[u,t])}}function mC(e){var r=cr.counterRegex("axis",".title",!1,!1),t=/colorbar\.title$/,n=Object.keys(e),a,o,i;for(a=0;a<n.length;a++)o=n[a],i=e[o],(o==="title"||r.test(o)||t.test(o))&&(typeof i=="string"||typeof i=="number")?l(o,o.replace("title","title.text")):o.indexOf("titlefont")>-1&&o.indexOf("grouptitlefont")===-1?l(o,o.replace("titlefont","title.font")):o.indexOf("titleposition")>-1?l(o,o.replace("titleposition","title.position")):o.indexOf("titleside")>-1?l(o,o.replace("titleside","title.side")):o.indexOf("titleoffset")>-1&&l(o,o.replace("titleoffset","title.offset"));function l(u,s){e[s]=e[u],delete e[u]}}function R0(e,r,t){e=cr.getGraphDiv(e),$t.clearPromiseQueue(e);var n={};if(typeof r=="string")n[r]=t;else if(cr.isPlainObject(r))n=cr.extendFlat({},r);else return cr.warn("Relayout fail.",r,t),Promise.reject();Object.keys(n).length&&(e.changed=!0);var a=TC(e,n),o=a.flags;o.calc&&(e.calcdata=void 0);var i=[Lr.previousPromises];o.layoutReplot?i.push(ht.layoutReplot):Object.keys(n).length&&(xC(e,o,a)||Lr.supplyDefaults(e),o.legend&&i.push(ht.doLegend),o.layoutstyle&&i.push(ht.layoutStyles),o.axrange&&L1(i,a.rangesAltered),o.ticks&&i.push(ht.doTicksRelayout),o.modebar&&i.push(ht.doModeBar),o.camera&&i.push(ht.doCamera),o.colorbars&&i.push(ht.doColorBars),i.push(D0)),i.push(Lr.rehover,Lr.redrag,Lr.reselect),$n.add(e,R0,[e,a.undoit],R0,[e,a.redoit]);var l=cr.syncOrAsync(i,e);return(!l||!l.then)&&(l=Promise.resolve(e)),l.then(function(){return e.emit("plotly_relayout",a.eventData),e})}function xC(e,r,t){var n=e._fullLayout;if(!r.axrange)return!1;for(var a in r)if(a!=="axrange"&&r[a])return!1;var o,i,l=function(b,x){return cr.coerce(o,i,Lj,b,x)},u={};for(var s in t.rangesAltered){var f=Yn.id2name(s);if(o=e.layout[f],i=n[f],Ej(o,i,l,u),i._matchGroup){for(var v in i._matchGroup)if(v!==s){var g=n[Yn.id2name(v)];g.autorange=i.autorange,g.range=i.range.slice(),g._input.range=i.range.slice()}}}return!0}function L1(e,r){var t=r?function(n){var a=[],o=!0;for(var i in r){var l=Yn.getFromId(n,i);if(a.push(i),(l.ticklabelposition||"").indexOf("inside")!==-1&&l._anchorAxis&&a.push(l._anchorAxis._id),l._matchGroup)for(var u in l._matchGroup)r[u]||a.push(u)}return Yn.draw(n,a,{skipTitle:o})}:function(n){return Yn.draw(n,"redraw")};e.push(Fj,ht.doAutoRangeAndConstraints,t,ht.drawData,ht.finalDraw)}var bC=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,_C=/^[xyz]axis[0-9]*\.autorange$/,wC=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function TC(e,r){var t=e.layout,n=e._fullLayout,a=n._guiEditing,o=_1(n._preGUI,a),i=Object.keys(r),l=Yn.list(e),u=cr.extendDeepAll({},r),s={},f,v,g;for(mC(r),i=Object.keys(r),v=0;v<i.length;v++)if(i[v].indexOf("allaxes")===0){for(g=0;g<l.length;g++){var b=l[g]._id.substr(1),x=b.indexOf("scene")!==-1?b+".":"",T=i[v].replace("allaxes",x+l[g]._name);r[T]||(r[T]=r[i[v]])}delete r[i[v]]}var A=nl.layoutFlags(),m={},w={};function k(he,ke){if(Array.isArray(he)){he.forEach(function(ve){k(ve,ke)});return}if(!(he in r||$t.hasParent(r,he))){var we=o(t,he);he in w||(w[he]=ho(we.get())),ke!==void 0&&we.set(ke)}}var y={},M;function d(he){var ke=Yn.name2id(he.split(".")[0]);return y[ke]=1,ke}for(var _ in r){if($t.hasParent(r,_))throw new Error("cannot set "+_+" and a parent attribute simultaneously");for(var p=o(t,_),c=r[_],S=p.parts.length,h=S-1;h>0&&typeof p.parts[h]!="string";)h--;var R=p.parts[h],E=p.parts[h-1]+"."+R,D=p.parts.slice(0,h).join("."),N=xt(e.layout,D).get(),I=xt(n,D).get(),F=p.get();if(c!==void 0){m[_]=c,w[_]=R==="reverse"?c:ho(F);var L=E1.getLayoutValObject(n,p.parts);if(L&&L.impliedEdits&&c!==null)for(var P in L.impliedEdits)k(cr.relativeAttr(_,P),L.impliedEdits[P]);if(["width","height"].indexOf(_)!==-1)if(c){k("autosize",null);var q=_==="height"?"width":"height";k(q,n[q])}else n[_]=e._initialAutoSize[_];else if(_==="autosize")k("width",c?null:n.width),k("height",c?null:n.height);else if(E.match(bC))d(E),xt(n,D+"._inputRange").set(null);else if(E.match(_C)){d(E),xt(n,D+"._inputRange").set(null);var U=xt(n,D).get();U._inputDomain&&(U._input.domain=U._inputDomain.slice())}else E.match(wC)&&xt(n,D+"._inputDomain").set(null);if(R==="type"){M=N;var W=I.type==="linear"&&c==="log",j=I.type==="log"&&c==="linear";if(W||j){if(!M||!M.range)k(D+".autorange",!0);else if(I.autorange)W&&(M.range=M.range[1]>M.range[0]?[1,2]:[2,1]);else{var $=M.range[0],G=M.range[1];W?($<=0&&G<=0&&k(D+".autorange",!0),$<=0?$=G/1e6:G<=0&&(G=$/1e6),k(D+".range[0]",Math.log($)/Math.LN10),k(D+".range[1]",Math.log(G)/Math.LN10)):(k(D+".range[0]",Math.pow(10,$)),k(D+".range[1]",Math.pow(10,G)))}Array.isArray(n._subplots.polar)&&n._subplots.polar.length&&n[p.parts[0]]&&p.parts[1]==="radialaxis"&&delete n[p.parts[0]]._subplot.viewInitial["radialaxis.range"],Ya.getComponentMethod("annotations","convertCoords")(e,I,c,k),Ya.getComponentMethod("images","convertCoords")(e,I,c,k)}else k(D+".autorange",!0),k(D+".range",null);xt(n,D+"._inputRange").set(null)}else if(R.match(Ij)){var O=xt(n,_).get(),Z=(c||{}).type;(!Z||Z==="-")&&(Z="linear"),Ya.getComponentMethod("annotations","convertCoords")(e,O,Z,k),Ya.getComponentMethod("images","convertCoords")(e,O,Z,k)}var ne=b1.containerArrayMatch(_);if(ne){f=ne.array,v=ne.index;var Q=ne.property,ie=L||{editType:"calc"};v!==""&&Q===""&&(b1.isAddVal(c)?w[_]=null:b1.isRemoveVal(c)?w[_]=(xt(t,f).get()||[])[v]:cr.warn("unrecognized full object value",r)),nl.update(A,ie),s[f]||(s[f]={});var ee=s[f][v];ee||(ee=s[f][v]={}),ee[Q]=c,delete r[_]}else R==="reverse"?(N.range?N.range.reverse():(k(D+".autorange",!0),N.range=[1,0]),I.autorange?A.calc=!0:A.plot=!0):(_==="dragmode"&&(c===!1&&F!==!1||c!==!1&&F===!1)||n._has("scatter-like")&&n._has("regl")&&_==="dragmode"&&(c==="lasso"||c==="select")&&!(F==="lasso"||F==="select")||n._has("gl2d")?A.plot=!0:L?nl.update(A,L):A.calc=!0,p.set(c))}}for(f in s){var V=b1.applyContainerArrayChanges(e,o(t,f),s[f],A,o);V||(A.plot=!0)}for(var re in y){M=Yn.getFromId(e,re);var H=M&&M._constraintGroup;if(H){A.calc=!0;for(var te in H)y[te]||(Yn.getFromId(e,te)._constraintShrinkable=!0)}}(MC(e)||r.height||r.width)&&(A.plot=!0);var se=n.shapes;for(v=0;v<se.length;v++)if(se[v].showlegend){A.calc=!0;break}return(A.plot||A.calc)&&(A.layoutReplot=!0),{flags:A,rangesAltered:y,undoit:w,redoit:m,eventData:u}}function MC(e){var r=e._fullLayout,t=r.width,n=r.height;return e.layout.autosize&&Lr.plotAutoSize(e,e.layout,r),r.width!==t||r.height!==n}function S1(e,r,t,n){e=cr.getGraphDiv(e),$t.clearPromiseQueue(e),cr.isPlainObject(r)||(r={}),cr.isPlainObject(t)||(t={}),Object.keys(r).length&&(e.changed=!0),Object.keys(t).length&&(e.changed=!0);var a=$t.coerceTraceIndices(e,n),o=yC(e,cr.extendFlat({},r),a),i=o.flags,l=TC(e,cr.extendFlat({},t)),u=l.flags;(i.calc||u.calc)&&(e.calcdata=void 0),i.clearAxisTypes&&$t.clearAxisTypes(e,a,t);var s=[];u.layoutReplot?s.push(ht.layoutReplot):i.fullReplot?s.push(tt._doPlot):(s.push(Lr.previousPromises),xC(e,u,l)||Lr.supplyDefaults(e),i.style&&s.push(ht.doTraceStyle),(i.colorbars||u.colorbars)&&s.push(ht.doColorBars),u.legend&&s.push(ht.doLegend),u.layoutstyle&&s.push(ht.layoutStyles),u.axrange&&L1(s,l.rangesAltered),u.ticks&&s.push(ht.doTicksRelayout),u.modebar&&s.push(ht.doModeBar),u.camera&&s.push(ht.doCamera),s.push(D0)),s.push(Lr.rehover,Lr.redrag,Lr.reselect),$n.add(e,S1,[e,o.undoit,l.undoit,o.traces],S1,[e,o.redoit,l.redoit,o.traces]);var f=cr.syncOrAsync(s,e);return(!f||!f.then)&&(f=Promise.resolve(e)),f.then(function(){return e.emit("plotly_update",{data:o.eventData,layout:l.eventData}),e})}function vm(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var Yj=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Wj=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function aC(e,r){for(var t=0;t<r.length;t++){var n=r[t],a=e.match(n.pattern);if(a){var o=a[1]||"";return{head:o,tail:e.substr(o.length+1),attr:n.attr}}}}function iC(e,r){var t=xt(r,e).get();if(t!==void 0)return t;var n=e.split(".");for(n.pop();n.length>1;)if(n.pop(),t=xt(r,n.join(".")+".uirevision").get(),t!==void 0)return t;return r.uirevision}function Xj(e,r){for(var t=0;t<r.length;t++)if(r[t]._fullInput.uid===e)return t;return-1}function Zj(e,r,t){for(var n=0;n<r.length;n++)if(r[n].uid===e)return n;return!r[t]||r[t].uid?-1:t}function oC(e,r){var t=cr.isPlainObject(e),n=Array.isArray(e);return t||n?(t&&cr.isPlainObject(r)||n&&Array.isArray(r))&&JSON.stringify(e)===JSON.stringify(r):e===r}function Jj(e,r,t,n){var a=n._preGUI,o,i,l,u,s,f,v,g,b,x,T=[],A={},m={};for(o in a){if(s=aC(o,Yj),s){if(b=s.head,x=s.tail,i=s.attr||b+".uirevision",l=xt(n,i).get(),u=l&&iC(i,r),u&&u===l){if(f=a[o],f===null&&(f=void 0),v=xt(r,o),g=v.get(),oC(g,f)){g===void 0&&x==="autorange"&&T.push(b),v.set(ho(xt(n,o).get()));continue}else if(x==="autorange"||x.substr(0,6)==="range["){var w=a[b+".range[0]"],k=a[b+".range[1]"],y=a[b+".autorange"];if(y||y===null&&w===null&&k===null){if(!(b in A)){var M=xt(r,b).get();A[b]=M&&(M.autorange||M.autorange!==!1&&(!M.range||M.range.length!==2))}if(A[b]){v.set(ho(xt(n,o).get()));continue}}}}}else cr.warn("unrecognized GUI edit: "+o);delete a[o],s&&s.tail.substr(0,6)==="range["&&(m[s.head]=1)}for(var d=0;d<T.length;d++){var _=T[d];if(m[_]){var p=xt(r,_).get();p&&delete p.autorange}}var c=n._tracePreGUI;for(var S in c){var h=c[S],R=null,E;for(o in h){if(!R){var D=Xj(S,t);if(D<0){delete c[S];break}var N=t[D];E=N._fullInput;var I=Zj(S,e,E.index);if(I<0){delete c[S];break}R=e[I]}if(s=aC(o,Wj),s){if(s.attr?(l=xt(n,s.attr).get(),u=l&&iC(s.attr,r)):(l=E.uirevision,u=R.uirevision,u===void 0&&(u=r.uirevision)),u&&u===l&&(f=h[o],f===null&&(f=void 0),v=xt(R,o),g=v.get(),oC(g,f))){v.set(ho(xt(E,o).get()));continue}}else cr.warn("unrecognized GUI edit: "+o+" in trace uid "+S);delete h[o]}}}function Kj(e,r,t,n){var a,o;function i(){return tt.addFrames(e,a)}e=cr.getGraphDiv(e),$t.clearPromiseQueue(e);var l=e._fullData,u=e._fullLayout;if(!cr.isPlotDiv(e)||!l||!u)o=tt.newPlot(e,r,t,n);else{if(cr.isPlainObject(r)){var s=r;r=s.data,t=s.layout,n=s.config,a=s.frames}var f=!1;if(n){var v=cr.extendDeep({},e._context);e._context=void 0,uC(e,n),f=cm(v,e._context)}e.data=r||[],$t.cleanData(e.data),e.layout=t||{},$t.cleanLayout(e.layout),Jj(e.data,e.layout,l,u),Lr.supplyDefaults(e,{skipUpdateCalc:!0});var g=e._fullData,b=e._fullLayout,x=b.datarevision===void 0,T=b.transition,A=$j(e,u,b,x,T),m=A.newDataRevision,w=Qj(e,l,g,x,T,m);if(MC(e)&&(A.layoutReplot=!0),w.calc||A.calc){e.calcdata=void 0;for(var k=Object.getOwnPropertyNames(b),y=0;y<k.length;y++){var M=k[y],d=M.substring(0,5);if(d==="xaxis"||d==="yaxis"){var _=b[M]._emptyCategories;_&&_()}}}else Lr.supplyDefaultsUpdateCalc(e.calcdata,g);var p=[];if(a&&(e._transitionData={},Lr.createTransitionData(e),p.push(i)),b.transition&&!f&&(w.anim||A.anim))A.ticks&&p.push(ht.doTicksRelayout),Lr.doCalcdata(e),ht.doAutoRangeAndConstraints(e),p.push(function(){return Lr.transitionFromReact(e,w,A,u)});else if(w.fullReplot||A.layoutReplot||f)e._fullLayout._skipDefaults=!0,p.push(tt._doPlot);else{for(var c in A.arrays){var S=A.arrays[c];if(S.length){var h=Ya.getComponentMethod(c,"drawOne");if(h!==cr.noop)for(var R=0;R<S.length;R++)h(e,S[R]);else{var E=Ya.getComponentMethod(c,"draw");if(E===cr.noop)throw new Error("cannot draw components: "+c);E(e)}}}p.push(Lr.previousPromises),w.style&&p.push(ht.doTraceStyle),(w.colorbars||A.colorbars)&&p.push(ht.doColorBars),A.legend&&p.push(ht.doLegend),A.layoutstyle&&p.push(ht.layoutStyles),A.axrange&&L1(p),A.ticks&&p.push(ht.doTicksRelayout),A.modebar&&p.push(ht.doModeBar),A.camera&&p.push(ht.doCamera),p.push(D0)}p.push(Lr.rehover,Lr.redrag,Lr.reselect),o=cr.syncOrAsync(p,e),(!o||!o.then)&&(o=Promise.resolve(e))}return o.then(function(){return e.emit("plotly_react",{data:r,layout:t}),e})}function Qj(e,r,t,n,a,o){var i=r.length===t.length;if(!a&&!i)return{fullReplot:!0,calc:!0};var l=nl.traceFlags();l.arrays={},l.nChanges=0,l.nChangesAnim=0;var u,s;function f(b){var x=E1.getTraceValObject(s,b);return!s._module.animatable&&x.anim&&(x.anim=!1),x}var v={getValObject:f,flags:l,immutable:n,transition:a,newDataRevision:o,gd:e},g={};for(u=0;u<r.length;u++)if(t[u]){if(s=t[u]._fullInput,Lr.hasMakesDataTransform(s)&&(s=t[u]),g[s.uid])continue;g[s.uid]=1,C1(r[u]._fullInput,s,[],v)}return(l.calc||l.plot)&&(l.fullReplot=!0),a&&l.nChanges&&l.nChangesAnim&&(l.anim=l.nChanges===l.nChangesAnim&&i?"all":"some"),l}function $j(e,r,t,n,a){var o=nl.layoutFlags();o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0;function i(u){return E1.getLayoutValObject(t,u)}var l={getValObject:i,flags:o,immutable:n,transition:a,gd:e};return C1(r,t,[],l),(o.plot||o.calc)&&(o.layoutReplot=!0),a&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}function C1(e,r,t,n){var a,o,i,l=n.getValObject,u=n.flags,s=n.immutable,f=n.inArray,v=n.arrayIndex;function g(){var D=a.editType;if(f&&D.indexOf("arraydraw")!==-1){cr.pushUnique(u.arrays[f],v);return}nl.update(u,a),D!=="none"&&u.nChanges++,n.transition&&a.anim&&u.nChangesAnim++,(bC.test(i)||_C.test(i))&&(u.rangesAltered[t[0]]=1),wC.test(i)&&xt(r,"_inputDomain").set(null),o==="datarevision"&&(u.newDataRevision=1)}function b(D){return D.valType==="data_array"||D.arrayOk}for(o in e){if(u.calc&&!n.transition)return;var x=e[o],T=r[o],A=t.concat(o);if(i=A.join("."),!(o.charAt(0)==="_"||typeof x=="function"||x===T)){if((o==="tick0"||o==="dtick")&&t[0]!=="geo"){var m=r.tickmode;if(m==="auto"||m==="array"||!m)continue}if(!(o==="range"&&r.autorange)&&!((o==="zmin"||o==="zmax")&&r.type==="contourcarpet")&&(a=l(A),!!a&&!(a._compareAsJSON&&JSON.stringify(x)===JSON.stringify(T)))){var w=a.valType,k,y=b(a),M=Array.isArray(x),d=Array.isArray(T);if(M&&d){var _="_input_"+o,p=e[_],c=r[_];if(Array.isArray(p)&&p===c)continue}if(T===void 0)y&&M?u.calc=!0:g();else if(a._isLinkedToArray){var S=[],h=!1;f||(u.arrays[o]=S);var R=Math.min(x.length,T.length),E=Math.max(x.length,T.length);if(R!==E)if(a.editType==="arraydraw")h=!0;else{g();continue}for(k=0;k<R;k++)C1(x[k],T[k],A.concat(k),cr.extendFlat({inArray:o,arrayIndex:k},n));if(h)for(k=R;k<E;k++)S.push(k)}else!w&&cr.isPlainObject(x)?C1(x,T,A,n):y?M&&d?(s&&(u.calc=!0),(s||n.newDataRevision)&&g()):M!==d?u.calc=!0:g():M&&d?(x.length!==T.length||String(x)!==String(T))&&g():g()}}}for(o in r)if(!(o in e||o.charAt(0)==="_"||typeof r[o]=="function"))if(a=l(t.concat(o)),b(a)&&Array.isArray(r[o])){u.calc=!0;return}else g()}function cm(e,r){var t;for(t in e)if(t.charAt(0)!=="_"){var n=e[t],a=r[t];if(n!==a)if(cr.isPlainObject(n)&&cr.isPlainObject(a)){if(cm(n,a))return!0}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!0;for(var o=0;o<n.length;o++)if(n[o]!==a[o])if(cr.isPlainObject(n[o])&&cr.isPlainObject(a[o])){if(cm(n[o],a[o]))return!0}else return!0}else return!0}}function jj(e,r,t){if(e=cr.getGraphDiv(e),!cr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=e._transitionData;n._frameQueue||(n._frameQueue=[]),t=Lr.supplyAnimationDefaults(t);var a=t.transition,o=t.frame;n._frameWaitingCnt===void 0&&(n._frameWaitingCnt=0);function i(s){return Array.isArray(a)?s>=a.length?a[0]:a[s]:a}function l(s){return Array.isArray(o)?s>=o.length?o[0]:o[s]:o}function u(s,f){var v=0;return function(){if(s&&++v===f)return s()}}return new Promise(function(s,f){function v(){if(n._frameQueue.length!==0){for(;n._frameQueue.length;){var R=n._frameQueue.pop();R.onInterrupt&&R.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}function g(R){if(R.length!==0){for(var E=0;E<R.length;E++){var D;R[E].type==="byname"?D=Lr.computeFrame(e,R[E].name):D=R[E].data;var N=l(E),I=i(E);I.duration=Math.min(I.duration,N.duration);var F={frame:D,name:R[E].name,frameOpts:N,transitionOpts:I};E===R.length-1&&(F.onComplete=u(s,2),F.onInterrupt=f),n._frameQueue.push(F)}t.mode==="immediate"&&(n._lastFrameAt=-1/0),n._animationRaf||T()}}function b(){e.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}function x(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var R=n._currentFrame=n._frameQueue.shift();if(R){var E=R.name?R.name.toString():null;e._fullLayout._currentFrame=E,n._lastFrameAt=Date.now(),n._timeToNext=R.frameOpts.duration,Lr.transition(e,R.frame.data,R.frame.layout,$t.coerceTraceIndices(e,R.frame.traces),R.frameOpts,R.transitionOpts).then(function(){R.onComplete&&R.onComplete()}),e.emit("plotly_animatingframe",{name:E,frame:R.frame,animation:{frame:R.frameOpts,transition:R.transitionOpts}})}else b()}function T(){e.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var R=function(){n._animationRaf=window.requestAnimationFrame(R),Date.now()-n._lastFrameAt>n._timeToNext&&x()};R()}var A=0;function m(R){return Array.isArray(a)?A>=a.length?R.transitionOpts=a[A]:R.transitionOpts=a[0]:R.transitionOpts=a,A++,R}var w,k,y=[],M=r==null,d=Array.isArray(r),_=!M&&!d&&cr.isPlainObject(r);if(_)y.push({type:"object",data:m(cr.extendFlat({},r))});else if(M||["string","number"].indexOf(typeof r)!==-1)for(w=0;w<n._frames.length;w++)k=n._frames[w],k&&(M||String(k.group)===String(r))&&y.push({type:"byname",name:String(k.name),data:m({name:k.name})});else if(d)for(w=0;w<r.length;w++){var p=r[w];["number","string"].indexOf(typeof p)!==-1?(p=String(p),y.push({type:"byname",name:p,data:m({name:p})})):cr.isPlainObject(p)&&y.push({type:"object",data:m(cr.extendFlat({},p))})}for(w=0;w<y.length;w++)if(k=y[w],k.type==="byname"&&!n._frameHash[k.data.name]){cr.warn('animate failure: frame not found: "'+k.data.name+'"'),f();return}["next","immediate"].indexOf(t.mode)!==-1&&v(),t.direction==="reverse"&&y.reverse();var c=e._fullLayout._currentFrame;if(c&&t.fromcurrent){var S=-1;for(w=0;w<y.length;w++)if(k=y[w],k.type==="byname"&&k.name===c){S=w;break}if(S>0&&S<y.length-1){var h=[];for(w=0;w<y.length;w++)k=y[w],(y[w].type!=="byname"||w>S)&&h.push(k);y=h}}y.length>0?g(y):(e.emit("plotly_animated"),s())})}function eee(e,r,t){if(e=cr.getGraphDiv(e),r==null)return Promise.resolve();if(!cr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,a,o,i,l=e._transitionData._frames,u=e._transitionData._frameHash;if(!Array.isArray(r))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+r);var s=l.length+r.length*2,f=[],v={};for(n=r.length-1;n>=0;n--)if(cr.isPlainObject(r[n])){var g=r[n].name,b=(u[g]||v[g]||{}).name,x=r[n].name,T=u[b]||v[b];b&&x&&typeof x=="number"&&T&&sm<nC&&(sm++,cr.warn('addFrames: overwriting frame "'+(u[b]||v[b]).name+'" with a frame whose name of type "number" also equates to "'+b+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),sm===nC&&cr.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),v[g]={name:g},f.push({frame:Lr.supplyFrameDefaults(r[n]),index:t&&t[n]!==void 0&&t[n]!==null?t[n]:s+n})}f.sort(function(_,p){return _.index>p.index?-1:_.index<p.index?1:0});var A=[],m=[],w=l.length;for(n=f.length-1;n>=0;n--){if(a=f[n].frame,typeof a.name=="number"&&cr.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;u[a.name="frame "+e._transitionData._counter++];);if(u[a.name]){for(o=0;o<l.length&&(l[o]||{}).name!==a.name;o++);A.push({type:"replace",index:o,value:a}),m.unshift({type:"replace",index:o,value:l[o]})}else i=Math.max(0,Math.min(f[n].index,w)),A.push({type:"insert",index:i,value:a}),m.unshift({type:"delete",index:i}),w++}var k=Lr.modifyFrames,y=Lr.modifyFrames,M=[e,m],d=[e,A];return $n&&$n.add(e,k,M,y,d),Lr.modifyFrames(e,A)}function ree(e,r){if(e=cr.getGraphDiv(e),!cr.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var t,n,a=e._transitionData._frames,o=[],i=[];if(!r)for(r=[],t=0;t<a.length;t++)r.push(t);for(r=r.slice(),r.sort(),t=r.length-1;t>=0;t--)n=r[t],o.push({type:"delete",index:n}),i.unshift({type:"insert",index:n,value:a[n]});var l=Lr.modifyFrames,u=Lr.modifyFrames,s=[e,i],f=[e,o];return $n&&$n.add(e,l,s,u,f),Lr.modifyFrames(e,o)}function tee(e){e=cr.getGraphDiv(e);var r=e._fullLayout||{},t=e._fullData||[];return Lr.cleanPlot([],{},t,r),Lr.purge(e),um.purge(e),r._container&&r._container.remove(),delete e._context,e}function nee(e){var r=e._fullLayout,t=e.getBoundingClientRect();if(!cr.equalDomRects(t,r._lastBBox)){var n=r._invTransform=cr.inverseTransformMatrix(cr.getFullTransformMatrix(e));r._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),r._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),r._lastBBox=t}}function aee(e){var r=w1.select(e),t=e._fullLayout;if(t._calcInverseTransform=nee,t._calcInverseTransform(e),t._container=r.selectAll(".plot-container").data([0]),t._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),t._paperdiv=t._container.selectAll(".svg-container").data([0]),t._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),t._glcontainer=t._paperdiv.selectAll(".gl-container").data([{}]),t._glcontainer.enter().append("div").classed("gl-container",!0),t._paperdiv.selectAll(".main-svg").remove(),t._paperdiv.select(".modebar-container").remove(),t._paper=t._paperdiv.insert("svg",":first-child").classed("main-svg",!0),t._toppaper=t._paperdiv.append("svg").classed("main-svg",!0),t._modebardiv=t._paperdiv.append("div"),delete t._modeBar,t._hoverpaper=t._paperdiv.append("svg").classed("main-svg",!0),!t._uid){var n={};w1.selectAll("defs").each(function(){this.id&&(n[this.id.split("-")[1]]=1)}),t._uid=cr.randstr(n)}t._paperdiv.selectAll(".main-svg").attr(Pj.svgAttrs),t._defs=t._paper.append("defs").attr("id","defs-"+t._uid),t._clips=t._defs.append("g").classed("clips",!0),t._topdefs=t._toppaper.append("defs").attr("id","topdefs-"+t._uid),t._topclips=t._topdefs.append("g").classed("clips",!0),t._bgLayer=t._paper.append("g").classed("bglayer",!0),t._draggers=t._paper.append("g").classed("draglayer",!0);var a=t._paper.append("g").classed("layer-below",!0);t._imageLowerLayer=a.append("g").classed("imagelayer",!0),t._shapeLowerLayer=a.append("g").classed("shapelayer",!0),t._cartesianlayer=t._paper.append("g").classed("cartesianlayer",!0),t._polarlayer=t._paper.append("g").classed("polarlayer",!0),t._smithlayer=t._paper.append("g").classed("smithlayer",!0),t._ternarylayer=t._paper.append("g").classed("ternarylayer",!0),t._geolayer=t._paper.append("g").classed("geolayer",!0),t._funnelarealayer=t._paper.append("g").classed("funnelarealayer",!0),t._pielayer=t._paper.append("g").classed("pielayer",!0),t._iciclelayer=t._paper.append("g").classed("iciclelayer",!0),t._treemaplayer=t._paper.append("g").classed("treemaplayer",!0),t._sunburstlayer=t._paper.append("g").classed("sunburstlayer",!0),t._indicatorlayer=t._toppaper.append("g").classed("indicatorlayer",!0),t._glimages=t._paper.append("g").classed("glimages",!0);var o=t._toppaper.append("g").classed("layer-above",!0);t._imageUpperLayer=o.append("g").classed("imagelayer",!0),t._shapeUpperLayer=o.append("g").classed("shapelayer",!0),t._selectionLayer=t._toppaper.append("g").classed("selectionlayer",!0),t._infolayer=t._toppaper.append("g").classed("infolayer",!0),t._menulayer=t._toppaper.append("g").classed("menulayer",!0),t._zoomlayer=t._toppaper.append("g").classed("zoomlayer",!0),t._hoverlayer=t._hoverpaper.append("g").classed("hoverlayer",!0),t._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}tt.animate=jj;tt.addFrames=eee;tt.deleteFrames=ree;tt.addTraces=pC;tt.deleteTraces=gC;tt.extendTraces=hC;tt.moveTraces=fm;tt.prependTraces=dC;tt.newPlot=Bj;tt._doPlot=Nj;tt.purge=tee;tt.react=Kj;tt.redraw=qj;tt.relayout=R0;tt.restyle=A1;tt.setPlotConfig=zj;tt.update=S1;tt._guiRelayout=vm(R0);tt._guiRestyle=vm(A1);tt._guiUpdate=vm(S1);tt._storeDirectGUIEdit=Gj});var cs=pe(fi=>{"use strict";var iee=Cr();fi.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox")||e._has("map"))?500:0};fi.getRedrawFunc=function(e){return function(){iee.getComponentMethod("colorbar","draw")(e)}};fi.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};fi.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var AC=window.URL||window.webkitURL;fi.createObjectURL=function(e){return AC.createObjectURL(e)};fi.revokeObjectURL=function(e){return AC.revokeObjectURL(e)};fi.createBlob=function(e,r){if(r==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var t=oee(window.atob(e));return new window.Blob([t],{type:"image/"+r})};fi.octetStream=function(e){document.location.href="data:application/octet-stream"+e};function oee(e){for(var r=e.length,t=new ArrayBuffer(r),n=new Uint8Array(t),a=0;a<r;a++)n[a]=e.charCodeAt(a);return t}fi.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/;fi.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."});var D1=pe((x1e,kC)=>{"use strict";var pm=it(),lee=ir(),see=yt(),uee=Kr(),R1=Uo(),dm=/"/g,P0="TOBESTRIPPED",fee=new RegExp('("'+P0+")|("+P0+'")',"g");function cee(e){var r=pm.select("body").append("div").style({display:"none"}).html(""),t=e.replace(/(&[^;]*;)/gi,function(n){return n==="&lt;"?"&#60;":n==="&rt;"?"&#62;":n.indexOf("<")!==-1||n.indexOf(">")!==-1?"":r.html(n).text()});return r.remove(),t}function vee(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}kC.exports=function(r,t,n){var a=r._fullLayout,o=a._paper,i=a._toppaper,l=a.width,u=a.height,s;o.insert("rect",":first-child").call(see.setRect,0,0,l,u).call(uee.fill,a.paper_bgcolor);var f=a._basePlotModules||[];for(s=0;s<f.length;s++){var v=f[s];v.toSVG&&v.toSVG(r)}if(i){var g=i.node().childNodes,b=Array.prototype.slice.call(g);for(s=0;s<b.length;s++){var x=b[s];x.childNodes.length&&o.node().appendChild(x)}}a._draggers&&a._draggers.remove(),o.node().style.background="",o.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var A=pm.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){A.remove();return}else A.style({visibility:null,display:null});var m=this.style.fontFamily;m&&m.indexOf('"')!==-1&&A.style("font-family",m.replace(dm,P0));var w=this.style.fontWeight;w&&(w==="normal"||w==="400")&&A.style("font-weight",void 0);var k=this.style.fontStyle;k&&k==="normal"&&A.style("font-style",void 0);var y=this.style.fontVariant;y&&y==="normal"&&A.style("font-variant",void 0)}),o.selectAll(".gradient_filled,.pattern_filled").each(function(){var A=pm.select(this),m=this.style.fill;m&&m.indexOf("url(")!==-1&&A.style("fill",m.replace(dm,P0));var w=this.style.stroke;w&&w.indexOf("url(")!==-1&&A.style("stroke",w.replace(dm,P0))}),(t==="pdf"||t==="eps")&&o.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),o.node().setAttributeNS(R1.xmlns,"xmlns",R1.svg),o.node().setAttributeNS(R1.xmlns,"xmlns:xlink",R1.xlink),t==="svg"&&n&&(o.attr("width",n*l),o.attr("height",n*u),o.attr("viewBox","0 0 "+l+" "+u));var T=new window.XMLSerializer().serializeToString(o.node());return T=cee(T),T=vee(T),T=T.replace(fee,"'"),lee.isIE()&&(T=T.replace(/"/gi,"'"),T=T.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),T=T.replace(/(\\')/gi,'"')),T}});var P1=pe((b1e,CC)=>{"use strict";var SC=ir(),hee=Cv().EventEmitter,Du=cs();function dee(e){var r=e.emitter||new hee,t=new Promise(function(n,a){var o=window.Image,i=e.svg,l=e.format||"png";if(SC.isIE()&&l!=="svg"){var u=new Error(Du.MSG_IE_BAD_FORMAT);return a(u),e.promise?t:r.emit("error",u)}var s=e.canvas,f=e.scale||1,v=e.width||300,g=e.height||150,b=f*v,x=f*g,T=s.getContext("2d",{willReadFrequently:!0}),A=new o,m,w;l==="svg"||SC.isSafari()?w=Du.encodeSVG(i):(m=Du.createBlob(i,"svg"),w=Du.createObjectURL(m)),s.width=b,s.height=x,A.onload=function(){var k;switch(m=null,Du.revokeObjectURL(w),l!=="svg"&&T.drawImage(A,0,0,b,x),l){case"jpeg":k=s.toDataURL("image/jpeg");break;case"png":k=s.toDataURL("image/png");break;case"webp":k=s.toDataURL("image/webp");break;case"svg":k=w;break;default:var y="Image format is not jpeg, png, svg or webp.";if(a(new Error(y)),!e.promise)return r.emit("error",y)}n(k),e.promise||r.emit("success",k)},A.onerror=function(k){if(m=null,Du.revokeObjectURL(w),a(k),!e.promise)return r.emit("error",k)},A.src=w});return e.promise?t:r}CC.exports=dee});var ym=pe((_1e,RC)=>{"use strict";var EC=rt(),LC=hm(),pee=nn(),Vi=ir(),F0=cs(),gee=D1(),yee=P1(),mee=qc().version,gm={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function xee(e,r){r=r||{};var t,n,a,o;Vi.isPlainObject(e)?(t=e.data||[],n=e.layout||{},a=e.config||{},o={}):(e=Vi.getGraphDiv(e),t=Vi.extendDeep([],e.data),n=Vi.extendDeep({},e.layout),a=e._context,o=e._fullLayout||{});function i(d){return!(d in r)||Vi.validate(r[d],gm[d])}if(!i("width")&&r.width!==null||!i("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!i("format"))throw new Error("Export format is not "+Vi.join2(gm.format.values,", "," or ")+".");var l={};function u(d,_){return Vi.coerce(r,l,gm,d,_)}var s=u("format"),f=u("width"),v=u("height"),g=u("scale"),b=u("setBackground"),x=u("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var A=Vi.extendFlat({},n);f?A.width=f:r.width===null&&EC(o.width)&&(A.width=o.width),v?A.height=v:r.height===null&&EC(o.height)&&(A.height=o.height);var m=Vi.extendFlat({},a,{_exportedPlot:!0,staticPlot:!0,setBackground:b}),w=F0.getRedrawFunc(T);function k(){return new Promise(function(d){setTimeout(d,F0.getDelay(T._fullLayout))})}function y(){return new Promise(function(d,_){var p=gee(T,s,g),c=T._fullLayout.width,S=T._fullLayout.height;function h(){LC.purge(T),document.body.removeChild(T)}if(s==="full-json"){var R=pee.graphJson(T,!1,"keepdata","object",!0,!0);return R.version=mee,R=JSON.stringify(R),h(),d(x?R:F0.encodeJSON(R))}if(h(),s==="svg")return d(x?p:F0.encodeSVG(p));var E=document.createElement("canvas");E.id=Vi.randstr(),yee({format:s,width:c,height:S,scale:g,canvas:E,svg:p,promise:!0}).then(d).catch(_)})}function M(d){return x?d.replace(F0.IMAGE_URL_PREFIX,""):d}return new Promise(function(d,_){LC.newPlot(T,t,A,m).then(w).then(k).then(y).then(function(p){d(M(p))}).catch(function(p){_(p)})})}RC.exports=xee});var IC=pe((w1e,FC)=>{"use strict";var Xa=ir(),bee=nn(),_ee=Oo(),wee=Fl().dfltConfig,Wa=Xa.isPlainObject,al=Array.isArray,DC=Xa.isArrayOrTypedArray;FC.exports=function(r,t){r===void 0&&(r=[]),t===void 0&&(t={});var n=_ee.get(),a=[],o={_context:Xa.extendFlat({},wee)},i,l;al(r)?(o.data=Xa.extendDeep([],r),i=r):(o.data=[],i=[],a.push(jt("array","data"))),Wa(t)?(o.layout=Xa.extendDeep({},t),l=t):(o.layout={},l={},arguments.length>1&&a.push(jt("object","layout"))),bee.supplyDefaults(o);for(var u=o._fullData,s=i.length,f=0;f<s;f++){var v=i[f],g=["data",f];if(!Wa(v)){a.push(jt("object",g));continue}var b=u[f],x=b.type,T=n.traces[x].attributes;T.type={valType:"enumerated",values:[x]},b.visible===!1&&v.visible!==!1&&a.push(jt("invisible",g)),I0(v,b,T,a,g);var A=v.transforms,m=b.transforms;if(A){al(A)||a.push(jt("array",g,["transforms"])),g.push("transforms");for(var w=0;w<A.length;w++){var k=["transforms",w],y=A[w].type;if(!Wa(A[w])){a.push(jt("object",g,k));continue}var M=n.transforms[y]?n.transforms[y].attributes:{};M.type={valType:"enumerated",values:Object.keys(n.transforms)},I0(A[w],m[w],M,a,g,k)}}}var d=o._fullLayout,_=Tee(n,u);return I0(l,d,_,a,"layout"),a.length===0?void 0:a};function I0(e,r,t,n,a,o){o=o||[];for(var i=Object.keys(e),l=0;l<i.length;l++){var u=i[l];if(u!=="transforms"){var s=o.slice();s.push(u);var f=e[u],v=r[u],g=kee(t,u),b=(g||{}).valType,x=b==="info_array",T=b==="colorscale",A=(g||{}).items;if(!Aee(t,u))n.push(jt("schema",a,s));else if(Wa(f)&&Wa(v)&&b!=="any")I0(f,v,g,n,a,s);else if(x&&al(f)){f.length>v.length&&n.push(jt("unused",a,s.concat(v.length)));var m=v.length,w=Array.isArray(A);w&&(m=Math.min(m,A.length));var k,y,M,d,_;if(g.dimensions===2)for(y=0;y<m;y++)if(al(f[y])){f[y].length>v[y].length&&n.push(jt("unused",a,s.concat(y,v[y].length)));var p=v[y].length;for(k=0;k<(w?Math.min(p,A[y].length):p);k++)M=w?A[y][k]:A,d=f[y][k],_=v[y][k],Xa.validate(d,M)?_!==d&&_!==+d&&n.push(jt("dynamic",a,s.concat(y,k),d,_)):n.push(jt("value",a,s.concat(y,k),d))}else n.push(jt("array",a,s.concat(y),f[y]));else for(y=0;y<m;y++)M=w?A[y]:A,d=f[y],_=v[y],Xa.validate(d,M)?_!==d&&_!==+d&&n.push(jt("dynamic",a,s.concat(y),d,_)):n.push(jt("value",a,s.concat(y),d))}else if(g.items&&!x&&al(f)){var c=A[Object.keys(A)[0]],S=[],h,R;for(h=0;h<v.length;h++){var E=v[h]._index||h;if(R=s.slice(),R.push(E),Wa(f[E])&&Wa(v[h])){S.push(E);var D=f[E],N=v[h];Wa(D)&&D.visible!==!1&&N.visible===!1?n.push(jt("invisible",a,R)):I0(D,N,c,n,a,R)}}for(h=0;h<f.length;h++)R=s.slice(),R.push(h),Wa(f[h])?S.indexOf(h)===-1&&n.push(jt("unused",a,R)):n.push(jt("object",a,R,f[h]))}else!Wa(f)&&Wa(v)?n.push(jt("object",a,s,f)):!DC(f)&&DC(v)&&!x&&!T?n.push(jt("array",a,s,f)):u in r?Xa.validate(f,g)?g.valType==="enumerated"&&(g.coerceNumber&&f!==+v||f!==v)&&n.push(jt("dynamic",a,s,f,v)):n.push(jt("value",a,s,f)):n.push(jt("unused",a,s,f))}}return n}function Tee(e,r){for(var t=e.layout.layoutAttributes,n=0;n<r.length;n++){var a=r[n],o=e.traces[a.type],i=o.layoutAttributes;i&&(a.subplot?Xa.extendFlat(t[o.attributes.subplot.dflt],i):Xa.extendFlat(t,i))}return t}var Mee={object:function(e,r){var t;return e==="layout"&&r===""?t="The layout argument":e[0]==="data"&&r===""?t="Trace "+e[1]+" in the data argument":t=vs(e)+"key "+r,t+" must be linked to an object container"},array:function(e,r){var t;return e==="data"?t="The data argument":t=vs(e)+"key "+r,t+" must be linked to an array container"},schema:function(e,r){return vs(e)+"key "+r+" is not part of the schema"},unused:function(e,r,t){var n=Wa(t)?"container":"key";return vs(e)+n+" "+r+" did not get coerced"},dynamic:function(e,r,t,n){return[vs(e)+"key",r,"(set to '"+t+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(e,r){return(r?vs(e)+"item "+r:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,r,t){return[vs(e)+"key "+r,"is set to an invalid value ("+t+")"].join(" ")}};function vs(e){return al(e)?"In data trace "+e[1]+", ":"In "+e+", "}function jt(e,r,t,n,a){t=t||"";var o,i;al(r)?(o=r[0],i=r[1]):(o=r,i=null);var l=Cee(t),u=Mee[e](r,l,n,a);return Xa.log(u),{code:e,container:o,trace:i,path:t,astr:l,msg:u}}function Aee(e,r){var t=PC(r),n=t.keyMinusId,a=t.id;return n in e&&e[n]._isSubplotObj&&a?!0:r in e}function kee(e,r){if(r in e)return e[r];var t=PC(r);return e[t.keyMinusId]}var See=Xa.counterRegex("([a-z]+)");function PC(e){var r=e.match(See);return{keyMinusId:r&&r[1],id:r&&r[2]}}function Cee(e){if(!al(e))return String(e);for(var r="",t=0;t<e.length;t++){var n=e[t];typeof n=="number"?r=r.substr(0,r.length-1)+"["+n+"]":r+=n,t<e.length-1&&(r+=".")}return r}});var OC=pe((T1e,zC)=>{"use strict";var NC=ir(),N0=cs();function Eee(e,r,t){var n=document.createElement("a"),a="download"in n,o=new Promise(function(i,l){var u,s;if(NC.isIE())return u=N0.createBlob(e,"svg"),window.navigator.msSaveBlob(u,r),u=null,i(r);if(a)return u=N0.createBlob(e,t),s=N0.createObjectURL(u),n.href=s,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),N0.revokeObjectURL(s),u=null,i(r);if(NC.isSafari()){var f=t==="svg"?",":";base64,";return N0.octetStream(f+encodeURIComponent(e)),i(r)}l(new Error("download error"))});return o}zC.exports=Eee});var xm=pe((M1e,qC)=>{"use strict";var mm=ir(),Lee=ym(),Ree=OC(),Dee=cs();function Pee(e,r){var t;return mm.isPlainObject(e)||(t=mm.getGraphDiv(e)),r=r||{},r.format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(n,a){t&&t._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),mm.isIE()&&r.format!=="svg"&&a(new Error(Dee.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var o=Lee(e,r),i=r.filename||e.fn||"newplot";i+="."+r.format.replace("-","."),o.then(function(l){return t&&(t._snapshotInProgress=!1),Ree(l,i,r.format)}).then(function(l){n(l)}).catch(function(l){t&&(t._snapshotInProgress=!1),a(l)})})}qC.exports=Pee});var GC=pe(bm=>{"use strict";var pa=ir(),ga=pa.isPlainObject,BC=Oo(),UC=nn(),Fee=Cn(),HC=gt(),VC=Fl().dfltConfig;bm.makeTemplate=function(e){e=pa.isPlainObject(e)?e:pa.getGraphDiv(e),e=pa.extendDeep({_context:VC},{data:e.data,layout:e.layout}),UC.supplyDefaults(e);var r=e.data||[],t=e.layout||{};t._basePlotModules=e._fullLayout._basePlotModules,t._modules=e._fullLayout._modules;var n={data:{},layout:{}};r.forEach(function(b){var x={};z0(b,x,Nee.bind(null,b));var T=pa.coerce(b,{},Fee,"type"),A=n.data[T];A||(A=n.data[T]=[]),A.push(x)}),z0(t,n.layout,Iee.bind(null,t)),delete n.layout.template;var a=t.template;if(ga(a)){var o=a.layout,i,l,u,s,f,v;ga(o)&&F1(o,n.layout);var g=a.data;if(ga(g)){for(l in n.data)if(u=g[l],Array.isArray(u)){for(f=n.data[l],v=f.length,s=u.length,i=0;i<v;i++)F1(u[i%s],f[i]);for(i=v;i<s;i++)f.push(pa.extendDeep({},u[i]))}for(l in g)l in n.data||(n.data[l]=pa.extendDeep([],g[l]))}}return n};function F1(e,r){e=pa.extendDeep({},e);var t=Object.keys(e).sort(),n,a;function o(f,v,g){if(ga(v)&&ga(f))F1(f,v);else if(Array.isArray(v)&&Array.isArray(f)){var b=HC.arrayTemplater({_template:e},g);for(a=0;a<v.length;a++){var x=v[a],T=b.newItem(x)._template;T&&F1(T,x)}var A=b.defaultItems();for(a=0;a<A.length;a++)v.push(A[a]._template);for(a=0;a<v.length;a++)delete v[a].templateitemname}}for(n=0;n<t.length;n++){var i=t[n],l=e[i];if(i in r?o(l,r[i],i):r[i]=l,I1(i)===i)for(var u in r){var s=I1(u);u!==s&&s===i&&!(u in e)&&o(l,r[u],i)}}}function I1(e){return e.replace(/[0-9]+$/,"")}function z0(e,r,t,n,a){var o=a&&t(a);for(var i in e){var l=e[i],u=Za(e,i,n),s=Za(e,i,a),f=t(s);if(!f){var v=I1(i);v!==i&&(s=Za(e,v,a),f=t(s))}if(!(o&&o===f)&&!(!f||f._noTemplating||f.valType==="data_array"||f.arrayOk&&Array.isArray(l)))if(!f.valType&&ga(l))z0(l,r,t,u,s);else if(f._isLinkedToArray&&Array.isArray(l))for(var g=!1,b=0,x={},T=0;T<l.length;T++){var A=l[T];if(ga(A)){var m=A.name;if(m)x[m]||(z0(A,r,t,Za(l,b,u),Za(l,b,s)),b++,x[m]=1);else if(!g){var w=HC.arrayDefaultKey(i),k=Za(e,w,n),y=Za(l,b,u);z0(A,r,t,y,Za(l,b,s));var M=pa.nestedProperty(r,y),d=pa.nestedProperty(r,k);d.set(M.get()),M.set(null),g=!0}}}else{var _=pa.nestedProperty(r,u);_.set(l)}}}function Iee(e,r){return BC.getLayoutValObject(e,pa.nestedProperty({},r).parts)}function Nee(e,r){return BC.getTraceValObject(e,pa.nestedProperty({},r).parts)}function Za(e,r,t){var n;return t?Array.isArray(e)?n=t+"["+r+"]":n=t+"."+r:n=r,n}bm.validateTemplate=function(e,r){var t=pa.extendDeep({},{_context:VC,data:e.data,layout:e.layout}),n=t.layout||{};ga(r)||(r=n.template||{});var a=r.layout,o=r.data,i=[];t.layout=n,t.layout.template=r,UC.supplyDefaults(t);var l=t._fullLayout,u=t._fullData,s={};function f(k,y){for(var M in k)if(M.charAt(0)!=="_"&&ga(k[M])){var d=I1(M),_=[],p;for(p=0;p<y.length;p++)_.push(Za(k,M,y[p])),d!==M&&_.push(Za(k,d,y[p]));for(p=0;p<_.length;p++)s[_[p]]=1;f(k[M],_)}}function v(k,y){for(var M in k)if(M.indexOf("defaults")===-1&&ga(k[M])){var d=Za(k,M,y);s[d]?v(k[M],d):i.push({code:"unused",path:d})}}if(ga(a)?(f(l,["layout"]),v(a,"layout")):i.push({code:"layout"}),!ga(o))i.push({code:"data"});else{for(var g={},b,x=0;x<u.length;x++){var T=u[x];b=T.type,g[b]=(g[b]||0)+1,T._fullInput._template||i.push({code:"missing",index:T._fullInput.index,traceType:b})}for(b in o){var A=o[b].length,m=g[b]||0;A>m?i.push({code:"unused",traceType:b,templateCount:A,dataCount:m}):m>A&&i.push({code:"reused",traceType:b,templateCount:A,dataCount:m})}}function w(k,y){for(var M in k)if(M.charAt(0)!=="_"){var d=k[M],_=Za(k,M,y);ga(d)?(Array.isArray(k)&&d._template===!1&&d.templateitemname&&i.push({code:"missing",path:_,templateitemname:d.templateitemname}),w(d,_)):Array.isArray(d)&&zee(d)&&w(d,_)}}if(w({data:u,layout:l},""),i.length)return i.map(Oee)};function zee(e){for(var r=0;r<e.length;r++)if(ga(e[r]))return!0}function Oee(e){var r;switch(e.code){case"data":r="The template has no key data.";break;case"layout":r="The template has no key layout.";break;case"missing":e.path?r="There are no templates for item "+e.path+" with name "+e.templateitemname:r="There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":e.path?r="The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?r="Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":r="The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":r="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type.";break}return e.msg=r,e}});var WC=pe(St=>{"use strict";var on=hm();St._doPlot=on._doPlot;St.newPlot=on.newPlot;St.restyle=on.restyle;St.relayout=on.relayout;St.redraw=on.redraw;St.update=on.update;St._guiRestyle=on._guiRestyle;St._guiRelayout=on._guiRelayout;St._guiUpdate=on._guiUpdate;St._storeDirectGUIEdit=on._storeDirectGUIEdit;St.react=on.react;St.extendTraces=on.extendTraces;St.prependTraces=on.prependTraces;St.addTraces=on.addTraces;St.deleteTraces=on.deleteTraces;St.moveTraces=on.moveTraces;St.purge=on.purge;St.addFrames=on.addFrames;St.deleteFrames=on.deleteFrames;St.animate=on.animate;St.setPlotConfig=on.setPlotConfig;var qee=Af().getGraphDiv,Bee=Jh().eraseActiveShape;St.deleteActiveShape=function(e){return Bee(qee(e))};St.toImage=ym();St.validate=IC();St.downloadImage=xm();var YC=GC();St.makeTemplate=YC.makeTemplate;St.validateTemplate=YC.validateTemplate});var ZC=pe((S1e,XC)=>{"use strict";var _m=ir(),Uee=Cr();XC.exports=function(r,t,n,a){var o=a("x"),i=a("y"),l,u=Uee.getComponentMethod("calendars","handleTraceDefaults");if(u(r,t,["x","y"],n),o){var s=_m.minRowLength(o);i?l=Math.min(s,_m.minRowLength(i)):(l=s,a("y0"),a("dy"))}else{if(!i)return 0;l=_m.minRowLength(i),a("x0"),a("dx")}return t._length=l,l}});var $C=pe((C1e,QC)=>{"use strict";var JC=ir().dateTick0,Hee=Xt(),Vee=Hee.ONEWEEK;function KC(e,r){return e%Vee===0?JC(r,1):JC(r,0)}QC.exports=function(r,t,n,a,o){if(o||(o={x:!0,y:!0}),o.x){var i=a("xperiod");i&&(a("xperiod0",KC(i,t.xcalendar)),a("xperiodalignment"))}if(o.y){var l=a("yperiod");l&&(a("yperiod0",KC(l,t.ycalendar)),a("yperiodalignment"))}}});var rE=pe((E1e,eE)=>{"use strict";var jC=["orientation","groupnorm","stackgaps"];eE.exports=function(r,t,n,a){var o=n._scatterStackOpts,i=a("stackgroup");if(i){var l=t.xaxis+t.yaxis,u=o[l];u||(u=o[l]={});var s=u[i],f=!1;s?s.traces.push(t):(s=u[i]={traceIndices:[],traces:[t]},f=!0);for(var v={orientation:t.x&&!t.y?"h":"v"},g=0;g<jC.length;g++){var b=jC[g],x=b+"Found";if(!s[x]){var T=r[b]!==void 0,A=b==="orientation";if((T||f)&&(s[b]=a(b,v[b]),A&&(s.fillDflt=s[b]==="h"?"tonextx":"tonexty"),T&&(s[x]=!0,!f&&(delete s.traces[0][b],A))))for(var m=0;m<s.traces.length-1;m++){var w=s.traces[m];w._input.fill!==w.fill&&(w.fill=s.fillDflt)}}}return s}}});var wm=pe((L1e,iE)=>{"use strict";var tE=Kr(),nE=Ri().hasColorscale,aE=Pi(),Gee=ca();iE.exports=function(r,t,n,a,o,i){var l=Gee.isBubble(r),u=(r.line||{}).color,s;if(i=i||{},u&&(n=u),o("marker.symbol"),o("marker.opacity",l?.7:1),o("marker.size"),i.noAngle||(o("marker.angle"),i.noAngleRef||o("marker.angleref"),i.noStandOff||o("marker.standoff")),o("marker.color",n),nE(r,"marker")&&aE(r,t,a,o,{prefix:"marker.",cLetter:"c"}),i.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),i.noLine||(u&&!Array.isArray(u)&&t.marker.color!==u?s=u:l?s=tE.background:s=tE.defaultLine,o("marker.line.color",s),nE(r,"marker.line")&&aE(r,t,a,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",l?1:0)),l&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),i.gradient){var f=o("marker.gradient.type");f!=="none"&&o("marker.gradient.color")}}});var Tm=pe((R1e,oE)=>{"use strict";var Yee=ir().isArrayOrTypedArray,Wee=Ri().hasColorscale,Xee=Pi();oE.exports=function(r,t,n,a,o,i){i||(i={});var l=(r.marker||{}).color;if(l&&l._inputArray&&(l=l._inputArray),o("line.color",n),Wee(r,"line"))Xee(r,t,a,o,{prefix:"line.",cLetter:"c"});else{var u=(Yee(l)?!1:l)||n;o("line.color",u)}o("line.width"),i.noDash||o("line.dash"),i.backoff&&o("line.backoff")}});var sE=pe((D1e,lE)=>{"use strict";lE.exports=function(r,t,n){var a=n("line.shape");a==="spline"&&n("line.smoothing")}});var Mm=pe((P1e,uE)=>{"use strict";var Zee=ir();uE.exports=function(e,r,t,n,a){a=a||{},n("textposition"),Zee.coerceFont(n,"textfont",a.font||t.font,a),a.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}});var vE=pe((F1e,cE)=>{"use strict";var N1=Kr(),fE=ir().isArrayOrTypedArray;function Jee(e){for(var r=N1.interpolate(e[0][1],e[1][1],.5),t=2;t<e.length;t++){var n=N1.interpolate(e[t-1][1],e[t][1],.5);r=N1.interpolate(r,n,e[t-1][0]/e[t][0])}return r}cE.exports=function(r,t,n,a,o){o||(o={});var i=!1;if(t.marker){var l=t.marker.color,u=(t.marker.line||{}).color;l&&!fE(l)?i=l:u&&!fE(u)&&(i=u)}var s;if(o.moduleHasFillgradient){var f=a("fillgradient.type");if(f!=="none"){a("fillgradient.start"),a("fillgradient.stop");var v=a("fillgradient.colorscale");v&&(s=Jee(v))}}a("fillcolor",N1.addOpacity((t.line||{}).color||i||s||n,.5))}});var gE=pe((I1e,pE)=>{"use strict";var hE=ir(),Kee=Cr(),Qee=us(),$ee=f1(),Pu=ca(),jee=ZC(),ere=$C(),rre=rE(),tre=wm(),nre=Tm(),dE=sE(),are=Mm(),ire=vE(),ore=ir().coercePattern;pE.exports=function(r,t,n,a){function o(b,x){return hE.coerce(r,t,Qee,b,x)}var i=jee(r,t,a,o);if(i||(t.visible=!1),!!t.visible){ere(r,t,a,o),o("xhoverformat"),o("yhoverformat"),o("zorder");var l=rre(r,t,a,o);a.scattermode==="group"&&t.orientation===void 0&&o("orientation","v");var u=!l&&i<$ee.PTS_LINESONLY?"lines+markers":"lines";o("text"),o("hovertext"),o("mode",u),Pu.hasMarkers(t)&&tre(r,t,n,a,o,{gradient:!0}),Pu.hasLines(t)&&(nre(r,t,n,a,o,{backoff:!0}),dE(r,t,o),o("connectgaps"),o("line.simplify")),Pu.hasText(t)&&(o("texttemplate"),are(r,t,a,o));var s=[];(Pu.hasMarkers(t)||Pu.hasText(t))&&(o("cliponaxis"),o("marker.maxdisplayed"),s.push("points")),o("fill",l?l.fillDflt:"none"),t.fill!=="none"&&(ire(r,t,n,o,{moduleHasFillgradient:!0}),Pu.hasLines(t)||dE(r,t,o),ore(o,"fillpattern",t.fillcolor,!1));var f=(t.line||{}).color,v=(t.marker||{}).color;(t.fill==="tonext"||t.fill==="toself")&&s.push("fills"),o("hoveron",s.join("+")||"points"),t.hoveron!=="fills"&&o("hovertemplate");var g=Kee.getComponentMethod("errorbars","supplyDefaults");g(r,t,f||v||n,{axis:"y"}),g(r,t,f||v||n,{axis:"x",inherit:"y"}),hE.coerceSelectionMarkerOpacity(t,o)}}});var mE=pe((N1e,yE)=>{"use strict";var lre=l0().getAxisGroup;yE.exports=function(r,t,n,a){var o=t.orientation,i=t[{v:"x",h:"y"}[o]+"axis"],l=lre(n,i)+o,u=n._alignmentOpts||{},s=a("alignmentgroup"),f=u[l];f||(f=u[l]={});var v=f[s];v?v.traces.push(t):v=f[s]={traces:[t],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var g=a("offsetgroup"),b=v.offsetGroups,x=b[g];g&&(x||(x=b[g]={offsetIndex:Object.keys(b).length}),t._offsetIndex=x.offsetIndex)}});var bE=pe((z1e,xE)=>{"use strict";var sre=ir(),ure=mE(),fre=us();xE.exports=function(r,t){var n,a,o;function i(v){return sre.coerce(a._input,a,fre,v)}if(t.scattermode==="group")for(o=0;o<r.length;o++)a=r[o],a.type==="scatter"&&(n=a._input,ure(n,a,t,i));for(o=0;o<r.length;o++){var l=r[o];if(l.type==="scatter"){var u=l.fill;if(!(u==="none"||u==="toself")&&(l.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var s=o-1;s>=0;s--){var f=r[s];if(f.type==="scatter"&&f.xaxis===l.xaxis&&f.yaxis===l.yaxis){f.opacity=void 0;break}}}}}});var wE=pe((O1e,_E)=>{"use strict";var cre=ir(),vre=Rv();_E.exports=function(e,r){function t(a,o){return cre.coerce(e,r,vre,a,o)}var n=r.barmode==="group";r.scattermode==="group"&&t("scattergap",n?r.bargap:.2)}});var AE=pe((q1e,ME)=>{"use strict";var hre=rt(),TE=ir(),dre=TE.dateTime2ms,z1=TE.incrementMonth,pre=Xt(),gre=pre.ONEAVGMONTH;ME.exports=function(r,t,n,a){if(t.type!=="date")return{vals:a};var o=r[n+"periodalignment"];if(!o)return{vals:a};var i=r[n+"period"],l;if(hre(i)){if(i=+i,i<=0)return{vals:a}}else if(typeof i=="string"&&i.charAt(0)==="M"){var u=+i.substring(1);if(u>0&&Math.round(u)===u)l=u;else return{vals:a}}for(var s=t.calendar,f=o==="start",v=o==="end",g=r[n+"period0"],b=dre(g,s)||0,x=[],T=[],A=[],m=a.length,w=0;w<m;w++){var k=a[w],y,M,d;if(l){for(y=Math.round((k-b)/(l*gre)),d=z1(b,l*y,s);d>k;)d=z1(d,-l,s);for(;d<=k;)d=z1(d,l,s);M=z1(d,-l,s)}else{for(y=Math.round((k-b)/i),d=b+y*i;d>k;)d-=i;for(;d<=k;)d+=i;M=d-i}x[w]=f?M:v?d:(M+d)/2,T[w]=M,A[w]=d}return{vals:x,starts:T,ends:A}}});var Sm=pe((B1e,SE)=>{"use strict";var Am=Ri().hasColorscale,km=Vo(),kE=ca();SE.exports=function(r,t){kE.hasLines(t)&&Am(t,"line")&&km(r,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),kE.hasMarkers(t)&&(Am(t,"marker")&&km(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),Am(t,"marker.line")&&km(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}});var O1=pe((U1e,CE)=>{"use strict";var Nt=ir();CE.exports=function(r,t){for(var n=0;n<r.length;n++)r[n].i=n;Nt.mergeArray(t.text,r,"tx"),Nt.mergeArray(t.texttemplate,r,"txt"),Nt.mergeArray(t.hovertext,r,"htx"),Nt.mergeArray(t.customdata,r,"data"),Nt.mergeArray(t.textposition,r,"tp"),t.textfont&&(Nt.mergeArrayCastPositive(t.textfont.size,r,"ts"),Nt.mergeArray(t.textfont.color,r,"tc"),Nt.mergeArray(t.textfont.family,r,"tf"),Nt.mergeArray(t.textfont.weight,r,"tw"),Nt.mergeArray(t.textfont.style,r,"ty"),Nt.mergeArray(t.textfont.variant,r,"tv"),Nt.mergeArray(t.textfont.textcase,r,"tC"),Nt.mergeArray(t.textfont.lineposition,r,"tE"),Nt.mergeArray(t.textfont.shadow,r,"tS"));var a=t.marker;if(a){Nt.mergeArrayCastPositive(a.size,r,"ms"),Nt.mergeArrayCastPositive(a.opacity,r,"mo"),Nt.mergeArray(a.symbol,r,"mx"),Nt.mergeArray(a.angle,r,"ma"),Nt.mergeArray(a.standoff,r,"mf"),Nt.mergeArray(a.color,r,"mc");var o=a.line;a.line&&(Nt.mergeArray(o.color,r,"mlc"),Nt.mergeArrayCastPositive(o.width,r,"mlw"));var i=a.gradient;i&&i.type!=="none"&&(Nt.mergeArray(i.type,r,"mgt"),Nt.mergeArray(i.color,r,"mgc"))}}});var RE=pe((H1e,LE)=>{"use strict";var EE=ir();LE.exports=function(r,t){EE.isArrayOrTypedArray(t.selectedpoints)&&EE.tagSelected(r,t)}});var Dm=pe((V1e,OE)=>{"use strict";var DE=rt(),Em=ir(),O0=wt(),PE=AE(),Cm=Xt().BADNUM,Lm=ca(),yre=Sm(),mre=O1(),xre=RE();function bre(e,r){var t=e._fullLayout,n=r._xA=O0.getFromId(e,r.xaxis||"x","x"),a=r._yA=O0.getFromId(e,r.yaxis||"y","y"),o=n.makeCalcdata(r,"x"),i=a.makeCalcdata(r,"y"),l=PE(r,n,"x",o),u=PE(r,a,"y",i),s=l.vals,f=u.vals,v=r._length,g=new Array(v),b=r.ids,x=Rm(r,t,n,a),T=!1,A,m,w,k,y,M;NE(t,r);var d="x",_="y",p;if(x)Em.pushUnique(x.traceIndices,r._expandedIndex),A=x.orientation==="v",A?(_="s",p="x"):(d="s",p="y"),y=x.stackgaps==="interpolate";else{var c=IE(r,v);FE(e,r,n,a,s,f,c)}var S=!!r.xperiodalignment,h=!!r.yperiodalignment;for(m=0;m<v;m++){var R=g[m]={},E=DE(s[m]),D=DE(f[m]);E&&D?(R[d]=s[m],R[_]=f[m],S&&(R.orig_x=o[m],R.xEnd=l.ends[m],R.xStart=l.starts[m]),h&&(R.orig_y=i[m],R.yEnd=u.ends[m],R.yStart=u.starts[m])):x&&(A?E:D)?(R[p]=A?s[m]:f[m],R.gap=!0,y?(R.s=Cm,T=!0):R.s=0):R[d]=R[_]=Cm,b&&(R.id=String(b[m]))}if(mre(g,r),yre(e,r),xre(g,r),x){for(m=0;m<g.length;)g[m][p]===Cm?g.splice(m,1):m++;if(Em.sort(g,function(L,P){return L[p]-P[p]||L.i-P.i}),T){for(m=0;m<g.length-1&&g[m].gap;)m++;for(M=g[m].s,M||(M=g[m].s=0),w=0;w<m;w++)g[w].s=M;for(k=g.length-1;k>m&&g[k].gap;)k--;for(M=g[k].s,w=g.length-1;w>k;w--)g[w].s=M;for(;m<k;)if(m++,g[m].gap){for(w=m+1;g[w].gap;)w++;for(var N=g[m-1][p],I=g[m-1].s,F=(g[w].s-I)/(g[w][p]-N);m<w;)g[m].s=I+(g[m][p]-N)*F,m++}}}return g}function FE(e,r,t,n,a,o,i){var l=r._length,u=e._fullLayout,s=t._id,f=n._id,v=u._firstScatter[zE(r)]===r.uid,g=(Rm(r,u,t,n)||{}).orientation,b=r.fill;t._minDtick=0,n._minDtick=0;var x={padded:!0},T={padded:!0};i&&(x.ppad=T.ppad=i);var A=l<2||a[0]!==a[l-1]||o[0]!==o[l-1];A&&(b==="tozerox"||b==="tonextx"&&(v||g==="h"))?x.tozero=!0:!(r.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!Lm.hasMarkers(r)&&!Lm.hasText(r))&&(x.padded=!1,x.ppad=0),A&&(b==="tozeroy"||b==="tonexty"&&(v||g==="v"))?T.tozero=!0:(b==="tonextx"||b==="tozerox")&&(T.padded=!1),s&&(r._extremes[s]=O0.findExtremes(t,a,x)),f&&(r._extremes[f]=O0.findExtremes(n,o,T))}function IE(e,r){if(Lm.hasMarkers(e)){var t=e.marker,n=1.6*(e.marker.sizeref||1),a;if(e.marker.sizemode==="area"?a=function(s){return Math.max(Math.sqrt((s||0)/n),3)}:a=function(s){return Math.max((s||0)/n,3)},Em.isArrayOrTypedArray(t.size)){var o={type:"linear"};O0.setConvert(o);for(var i=o.makeCalcdata(e.marker,"size"),l=new Array(r),u=0;u<r;u++)l[u]=a(i[u]);return l}else return a(t.size)}}function NE(e,r){var t=zE(r),n=e._firstScatter;n[t]||(n[t]=r.uid)}function zE(e){var r=e.stackgroup;return e.xaxis+e.yaxis+e.type+(r?"-"+r:"")}function Rm(e,r,t,n){var a=e.stackgroup;if(a){var o=r._scatterStackOpts[t._id+n._id][a],i=o.orientation==="v"?n:t;if(i.type==="linear"||i.type==="log")return o}}OE.exports={calc:bre,calcMarkerSize:IE,calcAxisExpansion:FE,setFirstScatter:NE,getStackOpts:Rm}});var BE=pe((G1e,qE)=>{"use strict";qE.exports=q1;var _re=ir().distinctVals;function q1(e,r){this.traces=e,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var t=1/0,n=r.posAxis._id.charAt(0),a=[],o=0;o<e.length;o++){for(var i=e[o],l=0;l<i.length;l++){var u=i[l],s=u.p;s===void 0&&(s=u[n]),s!==void 0&&a.push(s)}i[0]&&i[0].width1&&(t=Math.min(i[0].width1,t))}this.positions=a;var f=_re(a);this.distinctPositions=f.vals,f.vals.length===1&&t!==1/0?this.minDiff=t:this.minDiff=Math.min(f.minDiff,t);var v=(r.posAxis||{}).type;(v==="category"||v==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}q1.prototype.put=function(r,t){var n=this.getLabel(r,t),a=this.bins[n]||0;return this.bins[n]=a+t,a};q1.prototype.get=function(r,t){var n=this.getLabel(r,t);return this.bins[n]||0};q1.prototype.getLabel=function(r,t){var n=t<0&&this.sepNegVal?"v":"^",a=this.overlapNoMerge?r:Math.round(r/this.binWidth);return n+a}});var ZE=pe((Y1e,XE)=>{"use strict";var Ja=rt(),il=ir().isArrayOrTypedArray,Fu=Xt().BADNUM,wre=Cr(),q0=wt(),Tre=l0().getAxisGroup,B1=BE();function Mre(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],u=[],s=0;s<o.length;s++){var f=o[s];if(f.visible===!0&&wre.traceIs(f,"bar")&&f.xaxis===t._id&&f.yaxis===n._id&&(f.orientation==="h"?l.push(i[s]):u.push(i[s]),f._computePh))for(var v=e.calcdata[s],g=0;g<v.length;g++)typeof v[g].ph0=="function"&&(v[g].ph0=v[g].ph0()),typeof v[g].ph1=="function"&&(v[g].ph1=v[g].ph1())}var b={xCat:t.type==="category"||t.type==="multicategory",yCat:n.type==="category"||n.type==="multicategory",mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap};Fm(e,t,n,u,b),Fm(e,n,t,l,b)}function Fm(e,r,t,n,a){if(n.length){var o,i,l,u,s;switch(Sre(t,n),a.mode){case"overlay":Pm(r,t,n,a);break;case"group":for(o=[],i=[],l=0;l<n.length;l++)u=n[l],s=u[0].trace,s.offset===void 0?i.push(u):o.push(u);i.length&&Cre(e,r,t,i,a),o.length&&Pm(r,t,o,a);break;case"stack":case"relative":for(o=[],i=[],l=0;l<n.length;l++)u=n[l],s=u[0].trace,s.base===void 0?i.push(u):o.push(u);kre(i),i.length&&Ere(e,r,t,i,a),o.length&&Pm(r,t,o,a);break}Are(n),Fre(n,r)}}function Are(e){var r,t,n,a,o,i,l;for(r=0;r<e.length;r++)t=e[r],n=t[0].trace,a=t[0].t,a.cornerradiusvalue===void 0&&(o=n.marker?n.marker.cornerradius:void 0,o!==void 0&&(i=Ja(o)?+o:+o.slice(0,-1),l=Ja(o)?"px":"%",a.cornerradiusvalue=i,a.cornerradiusform=l))}function kre(e){if(!(e.length<2)){var r,t,n,a,o,i,l;for(r=0;r<e.length&&(t=e[r],n=t[0].trace,o=n.marker?n.marker.cornerradius:void 0,o===void 0);r++);if(o!==void 0)for(i=Ja(o)?+o:+o.slice(0,-1),l=Ja(o)?"px":"%",r=0;r<e.length;r++)t=e[r],a=t[0].t,a.cornerradiusvalue=i,a.cornerradiusform=l}}function Sre(e,r){var t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0].trace,i=o.type==="funnel"?o._base:o.base,l,u=o.orientation==="h"?o.xcalendar:o.ycalendar,s=e.type==="category"||e.type==="multicategory"?function(){return null}:e.d2c;if(il(i)){for(n=0;n<Math.min(i.length,a.length);n++)l=s(i[n],0,u),Ja(l)?(a[n].b=+l,a[n].hasB=1):a[n].b=0;for(;n<a.length;n++)a[n].b=0}else{l=s(i,0,u);var f=Ja(l);for(l=f?l:0,n=0;n<a.length;n++)a[n].b=l,f&&(a[n].hasB=1)}}}function Pm(e,r,t,n){for(var a=0;a<t.length;a++){var o=t[a],i=new B1([o],{posAxis:e,sepNegVal:!1,overlapNoMerge:!n.norm});UE(e,i,n),n.norm?(WE(i),Im(r,i,n)):YE(r,i)}}function Cre(e,r,t,n,a){var o=new B1(n,{posAxis:r,sepNegVal:!1,overlapNoMerge:!a.norm});Lre(e,r,o,a),Dre(o,r),a.norm?(WE(o),Im(t,o,a)):YE(t,o)}function Ere(e,r,t,n,a){var o=new B1(n,{posAxis:r,sepNegVal:a.mode==="relative",overlapNoMerge:!(a.norm||a.mode==="stack"||a.mode==="relative")});UE(r,o,a),Rre(t,o,a);for(var i=0;i<n.length;i++)for(var l=n[i],u=0;u<l.length;u++){var s=l[u];if(s.s!==Fu){var f=s.b+s.s===o.get(s.p,s.s);f&&(s._outmost=!0)}}a.norm&&Im(t,o,a)}function UE(e,r,t){for(var n=r.minDiff,a=r.traces,o=n*(1-t.gap),i=o,l=i*(1-(t.groupgap||0)),u=-l/2,s=0;s<a.length;s++){var f=a[s],v=f[0].t;v.barwidth=l,v.poffset=u,v.bargroupwidth=o,v.bardelta=n}r.binWidth=a[0][0].t.barwidth/100,HE(r),VE(e,r),GE(e,r)}function Lre(e,r,t,n){for(var a=e._fullLayout,o=t.positions,i=t.distinctPositions,l=t.minDiff,u=t.traces,s=u.length,f=o.length!==i.length,v=l*(1-n.gap),g=Tre(a,r._id)+u[0][0].trace.orientation,b=a._alignmentOpts[g]||{},x=0;x<s;x++){var T=u[x],A=T[0].trace,m=b[A.alignmentgroup]||{},w=Object.keys(m.offsetGroups||{}).length,k;w?k=v/w:k=f?v/s:v;var y=k*(1-(n.groupgap||0)),M;w?M=((2*A._offsetIndex+1-w)*k-y)/2:M=f?((2*x+1-s)*k-y)/2:-y/2;var d=T[0].t;d.barwidth=y,d.poffset=M,d.bargroupwidth=v,d.bardelta=l}t.binWidth=u[0][0].t.barwidth/100,HE(t),VE(r,t),GE(r,t,f)}function HE(e){var r=e.traces,t,n;for(t=0;t<r.length;t++){var a=r[t],o=a[0],i=o.trace,l=o.t,u=i._offset||i.offset,s=l.poffset,f;if(il(u)){for(f=Array.prototype.slice.call(u,0,a.length),n=0;n<f.length;n++)Ja(f[n])||(f[n]=s);for(n=f.length;n<a.length;n++)f.push(s);l.poffset=f}else u!==void 0&&(l.poffset=u);var v=i._width||i.width,g=l.barwidth;if(il(v)){var b=Array.prototype.slice.call(v,0,a.length);for(n=0;n<b.length;n++)Ja(b[n])||(b[n]=g);for(n=b.length;n<a.length;n++)b.push(g);if(l.barwidth=b,u===void 0){for(f=[],n=0;n<a.length;n++)f.push(s+(g-b[n])/2);l.poffset=f}}else v!==void 0&&(l.barwidth=v,u===void 0&&(l.poffset=s+(g-v)/2))}}function VE(e,r){for(var t=r.traces,n=Iu(e),a=0;a<t.length;a++)for(var o=t[a],i=o[0].t,l=i.poffset,u=il(l),s=i.barwidth,f=il(s),v=0;v<o.length;v++){var g=o[v],b=g.w=f?s[v]:s;g.p===void 0&&(g.p=g[n],g["orig_"+n]=g[n]);var x=(u?l[v]:l)+b/2;g[n]=g.p+x}}function GE(e,r,t){var n=r.traces,a=r.minDiff,o=a/2;q0.minDtick(e,r.minDiff,r.distinctPositions[0],t);for(var i=0;i<n.length;i++){var l=n[i],u=l[0],s=u.trace,f=[],v,g,b,x;for(x=0;x<l.length;x++)v=l[x],g=v.p-o,b=v.p+o,f.push(g,b);if(s.width||s.offset){var T=u.t,A=T.poffset,m=T.barwidth,w=il(A),k=il(m);for(x=0;x<l.length;x++){v=l[x];var y=w?A[x]:A,M=k?m[x]:m;g=v.p+y,b=g+M,f.push(g,b)}}s._extremes[e._id]=q0.findExtremes(e,f,{padded:!1})}}function YE(e,r){for(var t=r.traces,n=Iu(e),a=0;a<t.length;a++){for(var o=t[a],i=o[0].trace,l=i.type==="scatter",u=i.orientation==="v",s=[],f=!1,v=0;v<o.length;v++){var g=o[v],b=l?0:g.b,x=l?u?g.y:g.x:b+g.s;g[n]=x,s.push(x),g.hasB&&s.push(b),(!g.hasB||!g.b)&&(f=!0)}i._extremes[e._id]=q0.findExtremes(e,s,{tozero:f,padded:!0})}}function Rre(e,r,t){var n=Iu(e),a=r.traces,o,i,l,u,s,f;for(u=0;u<a.length;u++)if(o=a[u],i=o[0].trace,i.type==="funnel")for(s=0;s<o.length;s++)f=o[s],f.s!==Fu&&r.put(f.p,-.5*f.s);for(u=0;u<a.length;u++){o=a[u],i=o[0].trace,l=i.type==="funnel";var v=[];for(s=0;s<o.length;s++)if(f=o[s],f.s!==Fu){var g;l?g=f.s:g=f.s+f.b;var b=r.put(f.p,g),x=b+g;f.b=b,f[n]=x,t.norm||(v.push(x),f.hasB&&v.push(b))}t.norm||(i._extremes[e._id]=q0.findExtremes(e,v,{tozero:!0,padded:!0}))}}function WE(e){for(var r=e.traces,t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;a++){var o=n[a];o.s!==Fu&&e.put(o.p,o.b+o.s)}}function Dre(e,r){for(var t=e.traces,n=0;n<t.length;n++){var a=t[n],o=a[0].trace;if(o.base===void 0)for(var i=new B1([a],{posAxis:r,sepNegVal:!0,overlapNoMerge:!0}),l=0;l<a.length;l++){var u=a[l];if(u.p!==Fu){var s=i.put(u.p,u.b+u.s);s&&(u.b=s)}}}}function Im(e,r,t){var n=r.traces,a=Iu(e),o=t.norm==="fraction"?1:100,i=o/1e9,l=e.l2c(e.c2l(0)),u=t.mode==="stack"?o:l;function s(M){return Ja(e.c2l(M))&&(M<l-i||M>u+i||!Ja(l))}for(var f=0;f<n.length;f++){for(var v=n[f],g=v[0].trace,b=[],x=!1,T=!1,A=0;A<v.length;A++){var m=v[A];if(m.s!==Fu){var w=Math.abs(o/r.get(m.p,m.s));m.b*=w,m.s*=w;var k=m.b,y=k+m.s;m[a]=y,b.push(y),T=T||s(y),m.hasB&&(b.push(k),T=T||s(k)),(!m.hasB||!m.b)&&(x=!0)}}g._extremes[e._id]=q0.findExtremes(e,b,{tozero:x,padded:T})}}function Pre(e,r,t,n){for(var a=Iu(n),o=0;o<e.length;o++)for(var i=e[o],l=0;l<i.length;l++){var u=i[l],s=u[a];u._sMin=r[s],u._sMax=t[s]}}function Fre(e,r){var t=Iu(r),n={},a,o,i,l=1/0,u=-1/0;for(a=0;a<e.length;a++)for(i=e[a],o=0;o<i.length;o++){var s=i[o].p;Ja(s)&&(l=Math.min(l,s),u=Math.max(u,s))}var f=1e4/(u-l),v=n.round=function(p){return String(Math.round(f*(p-l)))},g={},b={},x=e.some(function(p){var c=p[0].trace;return"marker"in c&&c.marker.cornerradius});for(a=0;a<e.length;a++){i=e[a],i[0].t.extents=n;var T=i[0].t.poffset,A=il(T);for(o=0;o<i.length;o++){var m=i[o],w=m[t]-m.w/2;if(Ja(w)){var k=m[t]+m.w/2,y=v(m.p);n[y]?n[y]=[Math.min(w,n[y][0]),Math.max(k,n[y][1])]:n[y]=[w,k]}if(m.p0=m.p+(A?T[o]:T),m.p1=m.p0+m.w,m.s0=m.b,m.s1=m.s0+m.s,x){var M=Math.min(m.s0,m.s1)||0,d=Math.max(m.s0,m.s1)||0,_=m[t];g[_]=_ in g?Math.min(g[_],M):M,b[_]=_ in b?Math.max(b[_],d):d}}}x&&Pre(e,g,b,r)}function Iu(e){return e._id.charAt(0)}XE.exports={crossTraceCalc:Mre,setGroupPositions:Fm}});var $E=pe((W1e,QE)=>{"use strict";var JE=Dm(),KE=ZE().setGroupPositions;function Ire(e,r){for(var t=r.xaxis,n=r.yaxis,a=e._fullLayout,o=e._fullData,i=e.calcdata,l=[],u=[],s=0;s<o.length;s++){var f=o[s];f.visible===!0&&f.type==="scatter"&&f.xaxis===t._id&&f.yaxis===n._id&&(f.orientation==="h"?l.push(i[s]):f.orientation==="v"&&u.push(i[s]))}var v={mode:a.scattermode,gap:a.scattergap};KE(e,t,n,u,v),KE(e,n,t,l,v)}QE.exports=function(r,t){r._fullLayout.scattermode==="group"&&Ire(r,t);var n=t.xaxis,a=t.yaxis,o=n._id+a._id,i=r._fullLayout._scatterStackOpts[o];if(i){var l=r.calcdata,u,s,f,v,g,b,x,T,A,m,w,k,y,M,d;for(var _ in i){m=i[_];var p=m.traceIndices;if(p.length){for(w=m.stackgaps==="interpolate",k=m.groupnorm,m.orientation==="v"?(y="x",M="y"):(y="y",M="x"),d=new Array(p.length),u=0;u<d.length;u++)d[u]=!1;b=l[p[0]];var c=new Array(b.length);for(u=0;u<b.length;u++)c[u]=b[u][y];for(u=1;u<p.length;u++){for(g=l[p[u]],s=f=0;s<g.length;s++){for(x=g[s][y];x>c[f]&&f<c.length;f++)Nm(g,s,c[f],u,d,w,y),s++;if(x!==c[f]){for(v=0;v<u;v++)Nm(l[p[v]],f,x,v,d,w,y);c.splice(f,0,x)}f++}for(;f<c.length;f++)Nm(g,s,c[f],u,d,w,y),s++}var S=c.length;for(s=0;s<b.length;s++){for(T=b[s][M]=b[s].s,u=1;u<p.length;u++)g=l[p[u]],g[0].trace._rawLength=g[0].trace._length,g[0].trace._length=S,T+=g[s].s,g[s][M]=T;if(k)for(A=(k==="fraction"?T:T/100)||1,u=0;u<p.length;u++){var h=l[p[u]][s];h[M]/=A,h.sNorm=h.s/A}}for(u=0;u<p.length;u++){g=l[p[u]];var R=g[0].trace,E=JE.calcMarkerSize(R,R._rawLength),D=Array.isArray(E);if(E&&d[u]||D){var N=E;for(E=new Array(S),s=0;s<S;s++)E[s]=g[s].gap?0:D?N[g[s].i]:N}var I=new Array(S),F=new Array(S);for(s=0;s<S;s++)I[s]=g[s].x,F[s]=g[s].y;JE.calcAxisExpansion(r,R,n,a,I,F,E),g[0].t.orientation=m.orientation}}}}};function Nm(e,r,t,n,a,o,i){a[n]=!0;var l={i:null,gap:!0,s:0};if(l[i]=t,e.splice(r,0,l),r&&t===e[r-1][i]){var u=e[r-1];l.s=u.s,l.i=u.i,l.gap=u.gap}else o&&(l.s=Nre(e,r,t,i));r||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function Nre(e,r,t,n){var a=e[r-1],o=e[r+1];return o?a?a.s+(o.s-a.s)*(t-a[n])/(o[n]-a[n]):o.s:a.s}});var iL=pe((X1e,aL)=>{"use strict";var zre=yt(),tL=Xt(),B0=tL.BADNUM,nL=tL.LOG_CLIP,jE=nL+.5,eL=nL-.5,U1=ir(),Ore=U1.segmentsIntersect,rL=U1.constrain,zm=f1();aL.exports=function(r,t){var n=t.trace||{},a=t.xaxis,o=t.yaxis,i=a.type==="log",l=o.type==="log",u=a._length,s=o._length,f=t.backoff,v=n.marker,g=t.connectGaps,b=t.baseTolerance,x=t.shape,T=x==="linear",A=n.fill&&n.fill!=="none",m=[],w=zm.minTolerance,k=r.length,y=new Array(k),M=0,d,_,p,c,S,h,R,E,D,N,I,F,L,P,q,U;function W(We){var Te=r[We];if(!Te)return!1;var Pe=t.linearized?a.l2p(Te.x):a.c2p(Te.x),Qe=t.linearized?o.l2p(Te.y):o.c2p(Te.y);if(Pe===B0){if(i&&(Pe=a.c2p(Te.x,!0)),Pe===B0)return!1;l&&Qe===B0&&(Pe*=Math.abs(a._m*s*(a._m>0?jE:eL)/(o._m*u*(o._m>0?jE:eL)))),Pe*=1e3}if(Qe===B0){if(l&&(Qe=o.c2p(Te.y,!0)),Qe===B0)return!1;Qe*=1e3}return[Pe,Qe]}function j(We,Te,Pe,Qe){var Ve=Pe-We,ar=Qe-Te,ue=.5-We,K=.5-Te,ae=Ve*Ve+ar*ar,Re=Ve*ue+ar*K;if(Re>0&&Re<ae){var Ue=ue*ar-K*Ve;if(Ue*Ue<ae)return!0}}var $,G;function O(We,Te){var Pe=We[0]/u,Qe=We[1]/s,Ve=Math.max(0,-Pe,Pe-1,-Qe,Qe-1);return Ve&&$!==void 0&&j(Pe,Qe,$,G)&&(Ve=0),Ve&&Te&&j(Pe,Qe,Te[0]/u,Te[1]/s)&&(Ve=0),(1+zm.toleranceGrowth*Ve)*b}function Z(We,Te){var Pe=We[0]-Te[0],Qe=We[1]-Te[1];return Math.sqrt(Pe*Pe+Qe*Qe)}var ne=zm.maxScreensAway,Q=-u*ne,ie=u*(1+ne),ee=-s*ne,V=s*(1+ne),re=[[Q,ee,ie,ee],[ie,ee,ie,V],[ie,V,Q,V],[Q,V,Q,ee]],H,te,se,he,ke,we;function ve(We,Te){for(var Pe=[],Qe=0,Ve=0;Ve<4;Ve++){var ar=re[Ve],ue=Ore(We[0],We[1],Te[0],Te[1],ar[0],ar[1],ar[2],ar[3]);ue&&(!Qe||Math.abs(ue.x-Pe[0][0])>1||Math.abs(ue.y-Pe[0][1])>1)&&(ue=[ue.x,ue.y],Qe&&Z(ue,We)<Z(Pe[0],We)?Pe.unshift(ue):Pe.push(ue),Qe++)}return Pe}function Me(We){if(We[0]<Q||We[0]>ie||We[1]<ee||We[1]>V)return[rL(We[0],Q,ie),rL(We[1],ee,V)]}function Se(We,Te){if(We[0]===Te[0]&&(We[0]===Q||We[0]===ie)||We[1]===Te[1]&&(We[1]===ee||We[1]===V))return!0}function De(We,Te){var Pe=[],Qe=Me(We),Ve=Me(Te);return Qe&&Ve&&Se(Qe,Ve)||(Qe&&Pe.push(Qe),Ve&&Pe.push(Ve)),Pe}function Ce(We,Te,Pe){return function(Qe,Ve){var ar=Me(Qe),ue=Me(Ve),K=[];if(ar&&ue&&Se(ar,ue))return K;ar&&K.push(ar),ue&&K.push(ue);var ae=2*U1.constrain((Qe[We]+Ve[We])/2,Te,Pe)-((ar||Qe)[We]+(ue||Ve)[We]);if(ae){var Re;ar&&ue?Re=ae>0==ar[We]>ue[We]?ar:ue:Re=ar||ue,Re[We]+=ae}return K}}var Oe;x==="linear"||x==="spline"?Oe=ve:x==="hv"||x==="vh"?Oe=De:x==="hvh"?Oe=Ce(0,Q,ie):x==="vhv"&&(Oe=Ce(1,ee,V));function Be(We,Te){var Pe=Te[0]-We[0],Qe=(Te[1]-We[1])/Pe,Ve=(We[1]*Te[0]-Te[1]*We[0])/Pe;return Ve>0?[Qe>0?Q:ie,V]:[Qe>0?ie:Q,ee]}function ge(We){var Te=We[0],Pe=We[1],Qe=Te===y[M-1][0],Ve=Pe===y[M-1][1];if(!(Qe&&Ve))if(M>1){var ar=Te===y[M-2][0],ue=Pe===y[M-2][1];Qe&&(Te===Q||Te===ie)&&ar?ue?M--:y[M-1]=We:Ve&&(Pe===ee||Pe===V)&&ue?ar?M--:y[M-1]=We:y[M++]=We}else y[M++]=We}function Ae(We){y[M-1][0]!==We[0]&&y[M-1][1]!==We[1]&&ge([se,he]),ge(We),ke=null,se=he=0}var ce=U1.isArrayOrTypedArray(v);function ye(We){if(We&&f&&(We.i=d,We.d=r,We.trace=n,We.marker=ce?v[We.i]:v,We.backoff=f),$=We[0]/u,G=We[1]/s,H=We[0]<Q?Q:We[0]>ie?ie:0,te=We[1]<ee?ee:We[1]>V?V:0,H||te){if(!M)y[M++]=[H||We[0],te||We[1]];else if(ke){var Te=Oe(ke,We);Te.length>1&&(Ae(Te[0]),y[M++]=Te[1])}else we=Oe(y[M-1],We)[0],y[M++]=we;var Pe=y[M-1];H&&te&&(Pe[0]!==H||Pe[1]!==te)?(ke&&(se!==H&&he!==te?ge(se&&he?Be(ke,We):[se||H,he||te]):se&&he&&ge([se,he])),ge([H,te])):se-H&&he-te&&ge([H||se,te||he]),ke=We,se=H,he=te}else ke&&Ae(Oe(ke,We)[0]),y[M++]=We}for(d=0;d<k;d++)if(_=W(d),!!_){for(M=0,ke=null,ye(_),d++;d<k;d++){if(c=W(d),!c){if(g)continue;break}if(!T||!t.simplify){ye(c);continue}var Le=W(d+1);if(N=Z(c,_),!(!(A&&(M===0||M===k-1))&&N<O(c,Le)*w)){for(E=[(c[0]-_[0])/N,(c[1]-_[1])/N],S=_,I=N,F=P=q=0,R=!1,p=c,d++;d<r.length;d++){if(h=Le,Le=W(d+1),!h){if(g)continue;break}if(D=[h[0]-_[0],h[1]-_[1]],U=D[0]*E[1]-D[1]*E[0],P=Math.min(P,U),q=Math.max(q,U),q-P>O(h,Le))break;p=h,L=D[0]*E[0]+D[1]*E[1],L>I?(I=L,c=h,R=!1):L<F&&(F=L,S=h,R=!0)}if(R?(ye(c),p!==S&&ye(S)):(S!==_&&ye(S),p!==c&&ye(c)),ye(p),d>=r.length||!h)break;ye(h),_=h}}ke&&ge([se||ke[0],he||ke[1]]),m.push(y.slice(0,M))}var me=x.slice(x.length-1);if(f&&me!=="h"&&me!=="v"){for(var de=!1,be=-1,Ee=[],ze=0;ze<m.length;ze++)for(var Fe=0;Fe<m[ze].length-1;Fe++){var Je=m[ze][Fe],Ye=m[ze][Fe+1],Ge=zre.applyBackoff(Ye,Je);(Ge[0]!==Ye[0]||Ge[1]!==Ye[1])&&(de=!0),Ee[be+1]||(be++,Ee[be]=[Je,[Ge[0],Ge[1]]])}return de?Ee:m}return m}});var sL=pe((Z1e,lL)=>{"use strict";var oL={tonextx:1,tonexty:1,tonext:1};lL.exports=function(r,t,n){var a,o,i,l,u,s={},f=!1,v=-1,g=0,b=-1;for(o=0;o<n.length;o++)a=n[o][0].trace,i=a.stackgroup||"",i?i in s?u=s[i]:(u=s[i]=g,g++):a.fill in oL&&b>=0?u=b:(u=b=g,g++),u<v&&(f=!0),a._groupIndex=v=u;var x=n.slice();f&&x.sort(function(A,m){var w=A[0].trace,k=m[0].trace;return w._groupIndex-k._groupIndex||w.index-k.index});var T={};for(o=0;o<x.length;o++)a=x[o][0].trace,i=a.stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in oL&&(l=T[i],a._prevtrace=l||null,l&&(l._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),T[i]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return x}});var vL=pe((J1e,cL)=>{"use strict";var ci=it(),qre=Cr(),U0=ir(),Nu=U0.ensureSingle,fL=U0.identity,zt=yt(),zu=ca(),Bre=iL(),Ure=sL(),H1=Oy().tester;cL.exports=function(r,t,n,a,o,i){var l,u,s=!o,f=!!o&&o.duration>0,v=Ure(r,t,n);if(l=a.selectAll("g.trace").data(v,function(b){return b[0].trace.uid}),l.enter().append("g").attr("class",function(b){return"trace scatter trace"+b[0].trace.uid}).style("stroke-miterlimit",2),l.order(),Hre(r,l,t),f){i&&(u=i());var g=ci.transition().duration(o.duration).ease(o.easing).each("end",function(){u&&u()}).each("interrupt",function(){u&&u()});g.each(function(){a.selectAll("g.trace").each(function(b,x){uL(r,x,t,b,v,this,o)})})}else l.each(function(b,x){uL(r,x,t,b,v,this,o)});s&&l.exit().remove(),a.selectAll("path:not([d])").remove()};function Hre(e,r,t){r.each(function(n){var a=Nu(ci.select(this),"g","fills");zt.setClipUrl(a,t.layerClipId,e);var o=n[0].trace,i=[];o._ownfill&&i.push("_ownFill"),o._nexttrace&&i.push("_nextFill");var l=a.selectAll("g").data(i,fL);l.enter().append("g"),l.exit().each(function(u){o[u]=null}).remove(),l.order().each(function(u){o[u]=Nu(ci.select(this),"path","js-fill")})})}function uL(e,r,t,n,a,o,i){var l=e._context.staticPlot,u;Vre(e,r,t,n,a);var s=!!i&&i.duration>0;function f(Ce){return s?Ce.transition():Ce}var v=t.xaxis,g=t.yaxis,b=n[0].trace,x=b.line,T=ci.select(o),A=Nu(T,"g","errorbars"),m=Nu(T,"g","lines"),w=Nu(T,"g","points"),k=Nu(T,"g","text");if(qre.getComponentMethod("errorbars","plot")(e,A,t,i),b.visible!==!0)return;f(T).style("opacity",b.opacity);var y,M,d=b.fill.charAt(b.fill.length-1);d!=="x"&&d!=="y"&&(d="");var _,p;d==="y"?(_=1,p=g.c2p(0,!0)):d==="x"&&(_=0,p=v.c2p(0,!0)),n[0][t.isRangePlot?"nodeRangePlot3":"node3"]=T;var c="",S=[],h=b._prevtrace,R=null,E=null;h&&(c=h._prevRevpath||"",M=h._nextFill,S=h._ownPolygons,R=h._fillsegments,E=h._fillElement);var D,N,I="",F="",L,P,q,U,W,j,$=[];b._polygons=[];var G=[],O=[],Z=U0.noop;if(y=b._ownFill,zu.hasLines(b)||b.fill!=="none"){M&&M.datum(n),["hv","vh","hvh","vhv"].indexOf(x.shape)!==-1?(L=zt.steps(x.shape),P=zt.steps(x.shape.split("").reverse().join(""))):x.shape==="spline"?L=P=function(Ce){var Oe=Ce[Ce.length-1];return Ce.length>1&&Ce[0][0]===Oe[0]&&Ce[0][1]===Oe[1]?zt.smoothclosed(Ce.slice(1),x.smoothing):zt.smoothopen(Ce,x.smoothing)}:L=P=function(Ce){return"M"+Ce.join("L")},q=function(Ce){return P(Ce.reverse())},O=Bre(n,{xaxis:v,yaxis:g,trace:b,connectGaps:b.connectgaps,baseTolerance:Math.max(x.width||1,3)/4,shape:x.shape,backoff:x.backoff,simplify:x.simplify,fill:b.fill}),G=new Array(O.length);var ne=0;for(u=0;u<O.length;u++){var Q,ie=O[u];!Q||!d?(Q=ie.slice(),G[ne]=Q,ne++):Q.push.apply(Q,ie)}b._fillElement=null,b._fillExclusionElement=E,b._fillsegments=G.slice(0,ne),G=b._fillsegments,O.length&&(U=O[0][0].slice(),W=O[O.length-1],j=W[W.length-1].slice()),Z=function(Ce){return function(Oe){if(D=L(Oe),N=q(Oe),I?d?(I+="L"+D.substr(1),F=N+("L"+F.substr(1))):(I+="Z"+D,F=N+"Z"+F):(I=D,F=N),zu.hasLines(b)){var Be=ci.select(this);if(Be.datum(n),Ce)f(Be.style("opacity",0).attr("d",D).call(zt.lineGroupStyle)).style("opacity",1);else{var ge=f(Be);ge.attr("d",D),zt.singleLineStyle(n,ge)}}}}}var ee=m.selectAll(".js-line").data(O);f(ee.exit()).style("opacity",0).remove(),ee.each(Z(!1)),ee.enter().append("path").classed("js-line",!0).style("vector-effect",l?"none":"non-scaling-stroke").call(zt.lineGroupStyle).each(Z(!0)),zt.setClipUrl(ee,t.layerClipId,e);function V(Ce){f(Ce).attr("d","M0,0Z")}var re=function(){var Ce=new Array(G.length);for(u=0;u<G.length;u++)Ce[u]=H1(G[u]);return Ce},H=function(Ce){var Oe,Be;if(!Ce||Ce.length===0)for(Oe=new Array(G.length),Be=0;Be<G.length;Be++){var ge=G[Be][0].slice(),Ae=G[Be][G[Be].length-1].slice();ge[_]=Ae[_]=p;var ce=[Ae,ge],ye=ce.concat(G[Be]);Oe[Be]=H1(ye)}else{for(Oe=new Array(Ce.length-1+G.length),Be=0;Be<Ce.length-1;Be++)Oe[Be]=H1(Ce[Be]);var Le=Ce[Ce.length-1].slice();for(Le.reverse(),Be=0;Be<G.length;Be++)Oe[Ce.length-1+Be]=H1(G[Be].concat(Le))}return Oe};O.length?(y?(y.datum(n),U&&j&&(d?(U[_]=j[_]=p,f(y).attr("d","M"+j+"L"+U+"L"+I.substr(1)).call(zt.singleFillStyle,e),$=H(null)):(f(y).attr("d",I+"Z").call(zt.singleFillStyle,e),$=re())),b._polygons=$,b._fillElement=y):M&&(b.fill.substr(0,6)==="tonext"&&I&&c?(b.fill==="tonext"?(f(M).attr("d",I+"Z"+c+"Z").call(zt.singleFillStyle,e),$=re(),b._polygons=$.concat(S)):(f(M).attr("d",I+"L"+c.substr(1)+"Z").call(zt.singleFillStyle,e),$=H(R),b._polygons=$),b._fillElement=M):V(M)),b._prevRevpath=F):(y?V(y):M&&V(M),b._prevRevpath=null),b._ownPolygons=$;function te(Ce){return Ce.filter(function(Oe){return!Oe.gap&&Oe.vis})}function se(Ce){return Ce.filter(function(Oe){return Oe.vis})}function he(Ce){return Ce.filter(function(Oe){return!Oe.gap})}function ke(Ce){return Ce.id}function we(Ce){if(Ce.ids)return ke}function ve(){return!1}function Me(Ce,Oe,Be){var ge,Ae,ce,ye=Be[0].trace,Le=zu.hasMarkers(ye),me=zu.hasText(ye),de=we(ye),be=ve,Ee=ve;if(Le||me){var ze=fL,Fe=ye.stackgroup,Je=Fe&&e._fullLayout._scatterStackOpts[v._id+g._id][Fe].stackgaps==="infer zero";ye.marker.maxdisplayed||ye._needsCull?ze=Je?se:te:Fe&&!Je&&(ze=he),Le&&(be=ze),me&&(Ee=ze)}Ae=Ce.selectAll("path.point"),ge=Ae.data(be,de);var Ye=ge.enter().append("path").classed("point",!0);s&&Ye.call(zt.pointStyle,ye,e).call(zt.translatePoints,v,g).style("opacity",0).transition().style("opacity",1),ge.order();var Ge;Le&&(Ge=zt.makePointStyleFns(ye)),ge.each(function(We){var Te=ci.select(this),Pe=f(Te);ce=zt.translatePoint(We,Pe,v,g),ce?(zt.singlePointStyle(We,Pe,ye,Ge,e),t.layerClipId&&zt.hideOutsideRangePoint(We,Pe,v,g,ye.xcalendar,ye.ycalendar),ye.customdata&&Te.classed("plotly-customdata",We.data!==null&&We.data!==void 0)):Pe.remove()}),s?ge.exit().transition().style("opacity",0).remove():ge.exit().remove(),Ae=Oe.selectAll("g"),ge=Ae.data(Ee,de),ge.enter().append("g").classed("textpoint",!0).append("text"),ge.order(),ge.each(function(We){var Te=ci.select(this),Pe=f(Te.select("text"));ce=zt.translatePoint(We,Pe,v,g),ce?t.layerClipId&&zt.hideOutsideRangePoint(We,Te,v,g,ye.xcalendar,ye.ycalendar):Te.remove()}),ge.selectAll("text").call(zt.textPointStyle,ye,e).each(function(We){var Te=v.c2p(We.x),Pe=g.c2p(We.y);ci.select(this).selectAll("tspan.line").each(function(){f(ci.select(this)).attr({x:Te,y:Pe})})}),ge.exit().remove()}w.datum(n),k.datum(n),Me(w,k,n);var Se=b.cliponaxis===!1,De=Se?null:t.layerClipId;zt.setClipUrl(w,De,e),zt.setClipUrl(k,De,e)}function Vre(e,r,t,n,a){var o=t.xaxis,i=t.yaxis,l=ci.extent(U0.simpleMap(o.range,o.r2c)),u=ci.extent(U0.simpleMap(i.range,i.r2c)),s=n[0].trace;if(zu.hasMarkers(s)){var f=s.marker.maxdisplayed;if(f!==0){var v=n.filter(function(T){return T.x>=l[0]&&T.x<=l[1]&&T.y>=u[0]&&T.y<=u[1]}),g=Math.ceil(v.length/f),b=0;a.forEach(function(T,A){var m=T[0].trace;zu.hasMarkers(m)&&m.marker.maxdisplayed>0&&A<r&&b++});var x=Math.round(b*g/3+Math.floor(b/3)*g/7.1);n.forEach(function(T){delete T.vis}),v.forEach(function(T,A){Math.round((A+x)%g)===0&&(T.vis=!0)})}}}});var dL=pe((K1e,hL)=>{"use strict";hL.exports={container:"marker",min:"cmin",max:"cmax"}});var gL=pe((Q1e,pL)=>{"use strict";var V1=wt();pL.exports=function(r,t,n){var a={},o={_fullLayout:n},i=V1.getFromTrace(o,t,"x"),l=V1.getFromTrace(o,t,"y"),u=r.orig_x;u===void 0&&(u=r.x);var s=r.orig_y;return s===void 0&&(s=r.y),a.xLabel=V1.tickText(i,i.c2l(u),!0).text,a.yLabel=V1.tickText(l,l.c2l(s),!0).text,a}});var Um=pe(($1e,yL)=>{"use strict";var Om=it(),Ou=yt(),Gre=Cr();function Yre(e){var r=Om.select(e).selectAll("g.trace.scatter");r.style("opacity",function(t){return t[0].trace.opacity}),r.selectAll("g.points").each(function(t){var n=Om.select(this),a=t.trace||t[0].trace;qm(n,a,e)}),r.selectAll("g.text").each(function(t){var n=Om.select(this),a=t.trace||t[0].trace;Bm(n,a,e)}),r.selectAll("g.trace path.js-line").call(Ou.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(Ou.fillGroupStyle,e,!1),Gre.getComponentMethod("errorbars","style")(r)}function qm(e,r,t){Ou.pointStyle(e.selectAll("path.point"),r,t)}function Bm(e,r,t){Ou.textPointStyle(e.selectAll("text"),r,t)}function Wre(e,r,t){var n=r[0].trace;n.selectedpoints?(Ou.selectedPointStyle(t.selectAll("path.point"),n),Ou.selectedTextStyle(t.selectAll("text"),n)):(qm(t,n,e),Bm(t,n,e))}yL.exports={style:Yre,stylePoints:qm,styleText:Bm,styleOnSelect:Wre}});var xL=pe((j1e,mL)=>{"use strict";var qu=Kr(),Xre=ca();mL.exports=function(r,t){var n,a;if(r.mode==="lines")return n=r.line.color,n&&qu.opacity(n)?n:r.fillcolor;if(r.mode==="none")return r.fill?r.fillcolor:"";var o=t.mcc||(r.marker||{}).color,i=t.mlcc||((r.marker||{}).line||{}).color;return a=o&&qu.opacity(o)?o:i&&qu.opacity(i)&&(t.mlw||((r.marker||{}).line||{}).width)?i:"",a?qu.opacity(a)<.3?qu.addOpacity(a,.3):a:(n=(r.line||{}).color,n&&qu.opacity(n)&&Xre.hasLines(r)&&r.line.width?n:r.fillcolor)}});var wL=pe((ede,_L)=>{"use strict";var G1=ir(),bL=so(),Zre=Cr(),Jre=xL(),Hm=Kr(),Kre=G1.fillText;_L.exports=function(r,t,n,a){var o=r.cd,i=o[0].trace,l=r.xa,u=r.ya,s=l.c2p(t),f=u.c2p(n),v=[s,f],g=i.hoveron||"",b=i.mode.indexOf("markers")!==-1?3:.5,x=!!i.xperiodalignment,T=!!i.yperiodalignment;if(g.indexOf("points")!==-1){var A=function(F){if(x){var L=l.c2p(F.xStart),P=l.c2p(F.xEnd);return s>=Math.min(L,P)&&s<=Math.max(L,P)?0:1/0}var q=Math.max(3,F.mrc||0),U=1-1/q,W=Math.abs(l.c2p(F.x)-s);return W<q?U*W/q:W-q+U},m=function(F){if(T){var L=u.c2p(F.yStart),P=u.c2p(F.yEnd);return f>=Math.min(L,P)&&f<=Math.max(L,P)?0:1/0}var q=Math.max(3,F.mrc||0),U=1-1/q,W=Math.abs(u.c2p(F.y)-f);return W<q?U*W/q:W-q+U},w=function(F){var L=Math.max(b,F.mrc||0),P=l.c2p(F.x)-s,q=u.c2p(F.y)-f;return Math.max(Math.sqrt(P*P+q*q)-L,1-b/L)},k=bL.getDistanceFunction(a,A,m,w);if(bL.getClosest(o,k,r),r.index!==!1){var y=o[r.index],M=l.c2p(y.x,!0),d=u.c2p(y.y,!0),_=y.mrc||1;r.index=y.i;var p=o[0].t.orientation,c=p&&(y.sNorm||y.s),S=p==="h"?c:y.orig_x!==void 0?y.orig_x:y.x,h=p==="v"?c:y.orig_y!==void 0?y.orig_y:y.y;return G1.extendFlat(r,{color:Jre(i,y),x0:M-_,x1:M+_,xLabelVal:S,y0:d-_,y1:d+_,yLabelVal:h,spikeDistance:w(y),hovertemplate:i.hovertemplate}),Kre(y,i,r),Zre.getComponentMethod("errorbars","hoverInfo")(y,i,r),[r]}}function R(F){if(!F)return!1;var L=F.node();try{var P=new DOMPoint(v[0],v[1]);return L.isPointInFill(P)}catch(U){var q=L.ownerSVGElement.createSVGPoint();return q.x=v[0],q.y=v[1],L.isPointInFill(q)}}function E(F){var L,P=[],q=1/0,U=-1/0,W=1/0,j=-1/0,$;for(L=0;L<F.length;L++){var G=F[L];G.contains(v)&&(P.push(G),W=Math.min(W,G.ymin),j=Math.max(j,G.ymax))}if(P.length===0)return null;W=Math.max(W,0),j=Math.min(j,u._length),$=(W+j)/2;var O,Z,ne,Q,ie,ee,V;for(L=0;L<P.length;L++)for(Z=P[L].pts,O=1;O<Z.length;O++)ee=Z[O-1][1],V=Z[O][1],ee>$!=V>=$&&(Q=Z[O-1][0],ie=Z[O][0],V-ee&&(ne=Q+(ie-Q)*($-ee)/(V-ee),q=Math.min(q,ne),U=Math.max(U,ne)));return q=Math.max(q,0),U=Math.min(U,l._length),{x0:q,x1:U,y0:$,y1:$}}if(g.indexOf("fills")!==-1&&i._fillElement){var D=R(i._fillElement)&&!R(i._fillExclusionElement);if(D){var N=E(i._polygons);N===null&&(N={x0:v[0],x1:v[0],y0:v[1],y1:v[1]});var I=Hm.defaultLine;return Hm.opacity(i.fillcolor)?I=i.fillcolor:Hm.opacity((i.line||{}).color)&&(I=i.line.color),G1.extendFlat(r,{distance:r.maxHoverDistance,x0:N.x0,x1:N.x1,y0:N.y0,y1:N.y1,color:I,hovertemplate:!1}),delete r.index,i.text&&!G1.isArrayOrTypedArray(i.text)?r.text=String(i.text):r.text=i.name,[r]}}}});var AL=pe((rde,ML)=>{"use strict";var TL=ca();ML.exports=function(r,t){var n=r.cd,a=r.xaxis,o=r.yaxis,i=[],l=n[0].trace,u,s,f,v,g=!TL.hasMarkers(l)&&!TL.hasText(l);if(g)return[];if(t===!1)for(u=0;u<n.length;u++)n[u].selected=0;else for(u=0;u<n.length;u++)s=n[u],f=a.c2p(s.x),v=o.c2p(s.y),s.i!==null&&t.contains([f,v],!1,u,r)?(i.push({pointNumber:s.i,x:a.c2d(s.x),y:o.c2d(s.y)}),s.selected=1):s.selected=0;return i}});var SL=pe((tde,kL)=>{"use strict";kL.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}});var Gm=pe((nde,LL)=>{"use strict";var H0=Cr().traceIs,Vm=d2();LL.exports=function(r,t,n,a){n("autotypenumbers",a.autotypenumbersDflt);var o=n("type",(a.splomStash||{}).type);o==="-"&&(Qre(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function Qre(e,r){if(e.type==="-"){var t=e._id,n=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=n);var o=$re(r,t,n);if(o){if(o.type==="histogram"&&n==={v:"y",h:"x"}[o.orientation||"v"]){e.type="linear";return}var i=n+"calendar",l=o[i],u={noMultiCategory:!H0(o,"cartesian")||H0(o,"noMultiCategory")};if(o.type==="box"&&o._hasPreCompStats&&n==={h:"x",v:"y"}[o.orientation||"v"]&&(u.noMultiCategory=!0),u.autotypenumbers=e.autotypenumbers,EL(o,n)){var s=CL(o),f=[];for(a=0;a<r.length;a++){var v=r[a];!H0(v,"box-violin")||(v[n+"axis"]||n)!==t||(v[s]!==void 0?f.push(v[s][0]):v.name!==void 0?f.push(v.name):f.push("text"),v[i]!==l&&(l=void 0))}e.type=Vm(f,l,u)}else if(o.type==="splom"){var g=o.dimensions,b=g[o._axesDim[t]];b.visible&&(e.type=Vm(b.values,l,u))}else e.type=Vm(o[n]||[o[n+"0"]],l,u)}}}function $re(e,r,t){for(var n=0;n<e.length;n++){var a=e[n];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(EL(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function CL(e){return{v:"x",h:"y"}[e.orientation||"v"]}function EL(e,r){var t=CL(e),n=H0(e,"box-violin"),a=H0(e._fullInput||{},"candlestick");return n&&!a&&r===t&&e[t]===void 0&&e[t+"0"]===void 0}});var DL=pe((ade,RL)=>{"use strict";var jre=ia().isTypedArraySpec;function ete(e,r){var t=r.dataAttr||e._id.charAt(0),n={},a,o,i;if(r.axData)a=r.axData;else for(a=[],o=0;o<r.data.length;o++){var l=r.data[o];l[t+"axis"]===e._id&&a.push(l)}for(o=0;o<a.length;o++){var u=a[o][t];for(i=0;i<u.length;i++){var s=u[i];s!=null&&(n[s]=1)}}return Object.keys(n)}RL.exports=function(r,t,n,a){if(t.type==="category"){var o=r.categoryarray,i=Array.isArray(o)&&o.length>0||jre(o),l;i&&(l="array");var u=n("categoryorder",l),s;u==="array"&&(s=n("categoryarray")),!i&&u==="array"&&(u=t.categoryorder="trace"),u==="trace"?t._initialCategories=[]:u==="array"?t._initialCategories=s.slice():(s=ete(t,a).sort(),u==="category ascending"?t._initialCategories=s:u==="category descending"&&(t._initialCategories=s.reverse()))}}});var IL=pe((ide,FL)=>{"use strict";var PL=La().mix,rte=Si(),tte=ir();FL.exports=function(r,t,n,a){a=a||{};var o=a.dfltColor;function i(_,p){return tte.coerce2(r,t,a.attributes,_,p)}var l=i("linecolor",o),u=i("linewidth"),s=n("showline",a.showLine||!!l||!!u);s||(delete t.linecolor,delete t.linewidth);var f=PL(o,a.bgColor,a.blend||rte.lightFraction).toRgbString(),v=i("gridcolor",f),g=i("gridwidth"),b=i("griddash"),x=n("showgrid",a.showGrid||!!v||!!g||!!b);if(x||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),a.hasMinor){var T=PL(t.gridcolor,a.bgColor,67).toRgbString(),A=i("minor.gridcolor",T),m=i("minor.gridwidth",t.gridwidth||1),w=i("minor.griddash",t.griddash||"solid"),k=n("minor.showgrid",!!A||!!m||!!w);k||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!a.noZeroLine){var y=i("zerolinecolor",o),M=i("zerolinewidth"),d=n("zeroline",a.showGrid||!!y||!!M);d||(delete t.zerolinecolor,delete t.zerolinewidth)}}});var W1=pe((ode,UL)=>{"use strict";var NL=rt(),nte=Cr(),V0=ir(),ate=gt(),ite=ai(),Ym=Ia(),zL=zg(),OL=qg(),ote=Hg(),lte=Vg(),ste=DL(),ute=IL(),fte=F2(),qL=rh(),Y1=Tn().WEEKDAY_PATTERN,cte=Tn().HOUR_PATTERN;UL.exports=function(r,t,n,a,o){var i=a.letter,l=a.font||{},u=a.splomStash||{},s=n("visible",!a.visibleDflt),f=t._template||{},v=t.type||f.type||"-",g;if(v==="date"){var b=nte.getComponentMethod("calendars","handleDefaults");b(r,t,"calendar",a.calendar),a.noTicklabelmode||(g=n("ticklabelmode"))}!a.noTicklabelindex&&(v==="date"||v==="linear")&&n("ticklabelindex");var x="";(!a.noTicklabelposition||v==="multicategory")&&(x=V0.coerce(r,t,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:g==="period"?["outside","inside"]:i==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),a.noTicklabeloverflow||n("ticklabeloverflow",x.indexOf("inside")!==-1?"hide past domain":v==="category"||v==="multicategory"?"allow":"hide past div"),qL(t,o),fte(r,t,n,a),ste(r,t,n,a),v!=="category"&&!a.noHover&&n("hoverformat");var T=n("color"),A=T!==Ym.color.dflt?T:l.color,m=u.label||o._dfltTitle[i];if(lte(r,t,n,v,a),!s)return t;n("title.text",m),V0.coerceFont(n,"title.font",l,{overrideDflt:{size:V0.bigFont(l.size),color:A}}),zL(r,t,n,v);var w=a.hasMinor;if(w&&(ate.newContainer(t,"minor"),zL(r,t,n,v,{isMinor:!0})),ote(r,t,n,v,a),OL(r,t,n,a),w){var k=a.isMinor;a.isMinor=!0,OL(r,t,n,a),a.isMinor=k}ute(r,t,n,{dfltColor:T,bgColor:a.bgColor,showGrid:a.showGrid,hasMinor:w,attributes:Ym}),w&&!t.minor.ticks&&!t.minor.showgrid&&delete t.minor,(t.showline||t.ticks)&&n("mirror");var y=v==="multicategory";if(!a.noTickson&&(v==="category"||y)&&(t.ticks||t.showgrid)){var M;y&&(M="boundaries");var d=n("tickson",M);d==="boundaries"&&delete t.ticklabelposition}if(y){var _=n("showdividers");_&&(n("dividercolor"),n("dividerwidth"))}if(v==="date")if(ite(r,t,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:vte}),!t.rangebreaks.length)delete t.rangebreaks;else{for(var p=0;p<t.rangebreaks.length;p++)if(t.rangebreaks[p].pattern===Y1){t._hasDayOfWeekBreaks=!0;break}if(qL(t,o),o._has("scattergl")||o._has("splom"))for(var c=0;c<a.data.length;c++){var S=a.data[c];(S.type==="scattergl"||S.type==="splom")&&(S.visible=!1,V0.warn(S.type+" traces do not work on axes with rangebreaks. Setting trace "+S.index+" to `visible: false`."))}}return t};function vte(e,r,t){function n(g,b){return V0.coerce(e,r,Ym.rangebreaks,g,b)}var a=n("enabled");if(a){var o=n("bounds");if(o&&o.length>=2){var i="",l,u;if(o.length===2){for(l=0;l<2;l++)if(u=BL(o[l]),u){i=Y1;break}}var s=n("pattern",i);if(s===Y1)for(l=0;l<2;l++)u=BL(o[l]),u&&(r.bounds[l]=o[l]=u-1);if(s)for(l=0;l<2;l++)switch(u=o[l],s){case Y1:if(!NL(u)){r.enabled=!1;return}if(u=+u,u!==Math.floor(u)||u<0||u>=7){r.enabled=!1;return}r.bounds[l]=o[l]=u;break;case cte:if(!NL(u)){r.enabled=!1;return}if(u=+u,u<0||u>24){r.enabled=!1;return}r.bounds[l]=o[l]=u;break}if(t.autorange===!1){var f=t.range;if(f[0]<f[1]){if(o[0]<f[0]&&o[1]>f[1]){r.enabled=!1;return}}else if(o[0]>f[0]&&o[1]<f[1]){r.enabled=!1;return}}}else{var v=n("values");if(v&&v.length)n("dvalue");else{r.enabled=!1;return}}}}var hte={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function BL(e){if(typeof e=="string")return hte[e.substr(0,3).toLowerCase()]}});var Wm=pe((lde,HL)=>{"use strict";var dte=rt(),X1=ir();HL.exports=function(r,t,n,a){var o=a.counterAxes||[],i=a.overlayableAxes||[],l=a.letter,u=a.grid,s=a.overlayingDomain,f,v,g,b,x,T;u&&(v=u._domains[l][u._axisMap[t._id]],f=u._anchors[t._id],v&&(g=u[l+"side"].split(" ")[0],b=u.domain[l][g==="right"||g==="top"?1:0])),v=v||[0,1],f=f||(dte(r.position)?"free":o[0]||"free"),g=g||(l==="x"?"bottom":"left"),b=b||0,x=0,T=!1;var A=X1.coerce(r,t,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:f}},"anchor"),m=X1.coerce(r,t,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");if(A==="free"){if(l==="y"){var w=n("autoshift");w&&(b=m==="left"?s[0]:s[1],T=t.automargin?t.automargin:!0,x=m==="left"?-3:3),n("shift",x)}n("position",b)}n("automargin",T);var k=!1;if(i.length&&(k=X1.coerce(r,t,{overlaying:{valType:"enumerated",values:[!1].concat(i),dflt:!1}},"overlaying")),!k){var y=n("domain",v);y[0]>y[1]-1/4096&&(t.domain=v),X1.noneOrAll(r.domain,t.domain,v),t.tickmode==="sync"&&(t.tickmode="auto")}return n("layer"),t}});var QL=pe((sde,KL)=>{"use strict";var hs=ir(),VL=Kr(),pte=io().isUnifiedHover,gte=oy(),GL=gt(),yte=Xs(),YL=Ia(),mte=Gm(),WL=W1(),xte=l0(),XL=Wm(),Zm=un(),Gi=Zm.id2name,ZL=Zm.name2id,bte=Tn().AX_ID_PATTERN,JL=Cr(),G0=JL.traceIs,Xm=JL.getComponentMethod;function Z1(e,r,t){Array.isArray(e[r])?e[r].push(t):e[r]=[t]}KL.exports=function(r,t,n){var a=t.autotypenumbers,o={},i={},l={},u={},s={},f={},v={},g={},b={},x={},T,A;for(T=0;T<n.length;T++){var m=n[T];if(!(!G0(m,"cartesian")&&!G0(m,"gl2d"))){var w;if(m.xaxis)w=Gi(m.xaxis),Z1(o,w,m);else if(m.xaxes)for(A=0;A<m.xaxes.length;A++)Z1(o,Gi(m.xaxes[A]),m);var k;if(m.yaxis)k=Gi(m.yaxis),Z1(o,k,m);else if(m.yaxes)for(A=0;A<m.yaxes.length;A++)Z1(o,Gi(m.yaxes[A]),m);if(m.type==="funnel"?m.orientation==="h"?(w&&(i[w]=!0),k&&(v[k]=!0)):k&&(l[k]=!0):m.type==="image"?(k&&(g[k]=!0),w&&(g[w]=!0)):(k&&(s[k]=!0,f[k]=!0),(!G0(m,"carpet")||m.type==="carpet"&&!m._cheater)&&w&&(u[w]=!0)),m.type==="carpet"&&m._cheater&&w&&(i[w]=!0),G0(m,"2dMap")&&(b[w]=!0,b[k]=!0),G0(m,"oriented")){var y=m.orientation==="h"?k:w;x[y]=!0}}}var M=t._subplots,d=M.xaxis,_=M.yaxis,p=hs.simpleMap(d,Gi),c=hs.simpleMap(_,Gi),S=p.concat(c),h=VL.background;d.length&&_.length&&(h=hs.coerce(r,t,yte,"plot_bgcolor"));var R=VL.combine(h,t.paper_bgcolor),E,D,N,I,F;function L(){var Ae=o[E]||[];F._traceIndices=Ae.map(function(ce){return ce._expandedIndex}),F._annIndices=[],F._shapeIndices=[],F._selectionIndices=[],F._imgIndices=[],F._subplotsWith=[],F._counterAxes=[],F._name=F._attr=E,F._id=D}function P(Ae,ce){return hs.coerce(I,F,YL,Ae,ce)}function q(Ae,ce){return hs.coerce2(I,F,YL,Ae,ce)}function U(Ae){return Ae==="x"?_:d}function W(Ae,ce){for(var ye=Ae==="x"?p:c,Le=[],me=0;me<ye.length;me++){var de=ye[me];de!==ce&&!(r[de]||{}).overlaying&&Le.push(ZL(de))}return Le}var j={x:U("x"),y:U("y")},$=j.x.concat(j.y),G={},O=[];function Z(){var Ae=I.matches;bte.test(Ae)&&$.indexOf(Ae)===-1&&(G[Ae]=I.type,O=Object.keys(G))}var ne=gte(r,t),Q=pte(ne);for(T=0;T<S.length;T++){E=S[T],D=ZL(E),N=E.charAt(0),hs.isPlainObject(r[E])||(r[E]={}),I=r[E],F=GL.newContainer(t,E,N+"axis"),L();var ie=N==="x"&&!u[E]&&i[E]||N==="y"&&!s[E]&&l[E],ee=N==="y"&&(!f[E]&&v[E]||g[E]),V={hasMinor:!0,letter:N,font:t.font,outerTicks:b[E],showGrid:!x[E],data:o[E]||[],bgColor:R,calendar:t.calendar,automargin:!0,visibleDflt:ie,reverseDflt:ee,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[N]||{})[D],noAutotickangles:N==="y"};P("uirevision",t.uirevision),mte(I,F,P,V),WL(I,F,P,V,t);var re=Q&&N===ne.charAt(0),H=q("spikecolor",Q?F.color:void 0),te=q("spikethickness",Q?1.5:void 0),se=q("spikedash",Q?"dot":void 0),he=q("spikemode",Q?"across":void 0),ke=q("spikesnap"),we=P("showspikes",!!re||!!H||!!te||!!se||!!he||!!ke);we||(delete F.spikecolor,delete F.spikethickness,delete F.spikedash,delete F.spikemode,delete F.spikesnap);var ve=Gi(I.overlaying),Me=[0,1];if(t[ve]!==void 0){var Se=Gi(t[ve].anchor);t[Se]!==void 0&&(Me=t[Se].domain)}XL(I,F,P,{letter:N,counterAxes:j[N],overlayableAxes:W(N,E),grid:t.grid,overlayingDomain:Me}),P("title.standoff"),Z(),F._input=I}for(T=0;T<O.length;){D=O[T++],E=Gi(D),N=E.charAt(0),hs.isPlainObject(r[E])||(r[E]={}),I=r[E],F=GL.newContainer(t,E,N+"axis"),L();var De={letter:N,font:t.font,outerTicks:b[E],showGrid:!x[E],data:[],bgColor:R,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:a,splomStash:((t._splomAxes||{})[N]||{})[D]};P("uirevision",t.uirevision),F.type=G[D]||"linear",WL(I,F,P,De,t),XL(I,F,P,{letter:N,counterAxes:j[N],overlayableAxes:W(N,E),grid:t.grid}),P("fixedrange"),Z(),F._input=I}var Ce=Xm("rangeslider","handleDefaults"),Oe=Xm("rangeselector","handleDefaults");for(T=0;T<p.length;T++)E=p[T],I=r[E],F=t[E],Ce(r,t,E),F.type==="date"&&Oe(I,F,t,c,F.calendar),P("fixedrange");for(T=0;T<c.length;T++){E=c[T],I=r[E],F=t[E];var Be=t[Gi(F.anchor)],ge=Xm("rangeslider","isVisible")(Be);P("fixedrange",ge)}xte.handleDefaults(r,t,{axIds:$.concat(O).sort(Zm.idSort),axHasImage:g})}});var eR=pe((ude,jL)=>{"use strict";var _te=it(),$L=Cr(),J1=ir(),Ta=yt(),K1=wt();jL.exports=function(r,t,n,a){var o=r._fullLayout;if(t.length===0){K1.redrawComponents(r);return}function i(A){var m=A.xaxis,w=A.yaxis;o._defs.select("#"+A.clipId+"> rect").call(Ta.setTranslate,0,0).call(Ta.setScale,1,1),A.plot.call(Ta.setTranslate,m._offset,w._offset).call(Ta.setScale,1,1);var k=A.plot.selectAll(".scatterlayer .trace");k.selectAll(".point").call(Ta.setPointGroupScale,1,1),k.selectAll(".textpoint").call(Ta.setTextPointsScale,1,1),k.call(Ta.hideOutsideRangePoints,A)}function l(A,m){var w=A.plotinfo,k=w.xaxis,y=w.yaxis,M=k._length,d=y._length,_=!!A.xr1,p=!!A.yr1,c=[];if(_){var S=J1.simpleMap(A.xr0,k.r2l),h=J1.simpleMap(A.xr1,k.r2l),R=S[1]-S[0],E=h[1]-h[0];c[0]=(S[0]*(1-m)+m*h[0]-S[0])/(S[1]-S[0])*M,c[2]=M*(1-m+m*E/R),k.range[0]=k.l2r(S[0]*(1-m)+m*h[0]),k.range[1]=k.l2r(S[1]*(1-m)+m*h[1])}else c[0]=0,c[2]=M;if(p){var D=J1.simpleMap(A.yr0,y.r2l),N=J1.simpleMap(A.yr1,y.r2l),I=D[1]-D[0],F=N[1]-N[0];c[1]=(D[1]*(1-m)+m*N[1]-D[1])/(D[0]-D[1])*d,c[3]=d*(1-m+m*F/I),y.range[0]=k.l2r(D[0]*(1-m)+m*N[0]),y.range[1]=y.l2r(D[1]*(1-m)+m*N[1])}else c[1]=0,c[3]=d;K1.drawOne(r,k,{skipTitle:!0}),K1.drawOne(r,y,{skipTitle:!0}),K1.redrawComponents(r,[k._id,y._id]);var L=_?M/c[2]:1,P=p?d/c[3]:1,q=_?c[0]:0,U=p?c[1]:0,W=_?c[0]/c[2]*M:0,j=p?c[1]/c[3]*d:0,$=k._offset-W,G=y._offset-j;w.clipRect.call(Ta.setTranslate,q,U).call(Ta.setScale,1/L,1/P),w.plot.call(Ta.setTranslate,$,G).call(Ta.setScale,L,P),Ta.setPointGroupScale(w.zoomScalePts,1/L,1/P),Ta.setTextPointsScale(w.zoomScaleTxt,1/L,1/P)}var u;a&&(u=a());function s(){for(var A={},m=0;m<t.length;m++){var w=t[m],k=w.plotinfo.xaxis,y=w.plotinfo.yaxis;w.xr1&&(A[k._name+".range"]=w.xr1.slice()),w.yr1&&(A[y._name+".range"]=w.yr1.slice())}return u&&u(),$L.call("relayout",r,A).then(function(){for(var M=0;M<t.length;M++)i(t[M].plotinfo)})}function f(){for(var A={},m=0;m<t.length;m++){var w=t[m],k=w.plotinfo.xaxis,y=w.plotinfo.yaxis;w.xr0&&(A[k._name+".range"]=w.xr0.slice()),w.yr0&&(A[y._name+".range"]=w.yr0.slice())}return $L.call("relayout",r,A).then(function(){for(var M=0;M<t.length;M++)i(t[M].plotinfo)})}var v,g,b,x=_te.ease(n.easing);r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(b),b=null,f()});function T(){g=Date.now();for(var A=Math.min(1,(g-v)/n.duration),m=x(A),w=0;w<t.length;w++)l(t[w],m);g-v>n.duration?(s(),b=window.cancelAnimationFrame(T)):b=window.requestAnimationFrame(T)}return v=Date.now(),b=window.requestAnimationFrame(T),Promise.resolve()}});var Jm=pe(Dn=>{"use strict";var $1=it(),rR=Cr(),ds=ir(),wte=nn(),Tte=yt(),tR=qf().getModuleCalcData,ol=un(),vi=Tn(),Mte=Uo(),ut=ds.ensureSingle;function Q1(e,r,t){return ds.ensureSingle(e,r,t,function(n){n.datum(t)})}var ps=vi.zindexSeparator;Dn.name="cartesian";Dn.attr=["xaxis","yaxis"];Dn.idRoot=["x","y"];Dn.idRegex=vi.idRegex;Dn.attrRegex=vi.attrRegex;Dn.attributes=SL();Dn.layoutAttributes=Ia();Dn.supplyLayoutDefaults=QL();Dn.transitionAxes=eR();Dn.finalizeSubplots=function(e,r){var t=r._subplots,n=t.xaxis,a=t.yaxis,o=t.cartesian,i=o.concat(t.gl2d||[]),l={},u={},s,f,v;for(s=0;s<i.length;s++){var g=i[s].split("y");l[g[0]]=1,u["y"+g[1]]=1}for(s=0;s<n.length;s++)f=n[s],l[f]||(v=(e[ol.id2name(f)]||{}).anchor,vi.idRegex.y.test(v)||(v="y"),o.push(f+v),i.push(f+v),u[v]||(u[v]=1,ds.pushUnique(a,v)));for(s=0;s<a.length;s++)v=a[s],u[v]||(f=(e[ol.id2name(v)]||{}).anchor,vi.idRegex.x.test(f)||(f="x"),o.push(f+v),i.push(f+v),l[f]||(l[f]=1,ds.pushUnique(n,f)));if(!i.length){f="",v="";for(var b in e)if(vi.attrRegex.test(b)){var x=b.charAt(0);x==="x"?(!f||+b.substr(5)<+f.substr(5))&&(f=b):(!v||+b.substr(5)<+v.substr(5))&&(v=b)}f=f?ol.name2id(f):"x",v=v?ol.name2id(v):"y",n.push(f),a.push(v),o.push(f+v)}};Dn.plot=function(e,r,t,n){var a=e._fullLayout,o=a._subplots.cartesian,i=e.calcdata,l;if(!Array.isArray(r))for(r=[],l=0;l<i.length;l++)r.push(l);for(var u=a._zindices,s=0;s<u.length;s++){var f=u[s];for(l=0;l<o.length;l++){var v=o[l],g=a._plots[v];if(s>0){var b=g.id;if(b.indexOf(ps)!==-1)continue;b+=ps+(s+1),g=ds.extendFlat({},g,{id:b,plot:a._cartesianlayer.selectAll(".subplot").select("."+b)})}for(var x=[],T,A=0;A<i.length;A++){var m=i[A],w=m[0].trace;f===(w.zorder||0)&&w.xaxis+w.yaxis===v&&((r.indexOf(w.index)!==-1||w.carpet)&&(T&&T[0].trace.xaxis+T[0].trace.yaxis===v&&["tonextx","tonexty","tonext"].indexOf(w.fill)!==-1&&x.indexOf(T)===-1&&x.push(T),x.push(m)),T=m)}nR(e,g,x,t,n)}}};function nR(e,r,t,n,a){for(var o=vi.traceLayerClasses,i=e._fullLayout,l=i._zindices,u=i._modules,s,f,v,g=[],b=[],x=0;x<l.length;x++)for(var T=l[x],A=0;A<u.length;A++){s=u[A];var m=s.name,w=rR.modules[m].categories;if(w.svg){var k=s.layerName||m+"layer",y=k+(x?Number(x)+1:""),M=s.plot;f=tR(t,M,T),v=f[0],t=f[1],v.length&&g.push({i:o.indexOf(k),zindex:x,className:y,plotMethod:M,cdModule:v}),w.zoomScale&&b.push("."+y)}}g.sort(function(p,c){return(p.zindex||0)-(c.zindex||0)||p.i-c.i});var d=r.plot.selectAll("g.mlayer").data(g,function(p){return p.className});if(d.enter().append("g").attr("class",function(p){return p.className}).classed("mlayer",!0).classed("rangeplot",r.isRangePlot),d.exit().remove(),d.order(),d.each(function(p){var c=$1.select(this),S=p.className;p.plotMethod(e,r,p.cdModule,c,n,a),vi.clipOnAxisFalseQuery.indexOf("."+S)===-1&&Tte.setClipUrl(c,r.layerClipId,e)}),i._has("scattergl")&&(s=rR.getModule("scattergl"),v=tR(t,s)[0],s.plot(e,r,v)),!e._context.staticPlot&&(r._hasClipOnAxisFalse&&(r.clipOnAxisFalseTraces=r.plot.selectAll(vi.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),b.length)){var _=r.plot.selectAll(b.join(",")).selectAll(".trace");r.zoomScalePts=_.selectAll("path.point"),r.zoomScaleTxt=_.selectAll(".textpoint")}}Dn.clean=function(e,r,t,n){var a=n._plots||{},o=r._plots||{},i=n._subplots||{},l,u,s;if(n._hasOnlyLargeSploms&&!r._hasOnlyLargeSploms)for(s in a)l=a[s],l.plotgroup&&l.plotgroup.remove();var f=n._has&&n._has("gl"),v=r._has&&r._has("gl");if(f&&!v)for(s in a)l=a[s],l._scene&&l._scene.destroy();if(i.xaxis&&i.yaxis){var g=ol.listIds({_fullLayout:n});for(u=0;u<g.length;u++){var b=g[u];r[ol.id2name(b)]||n._infolayer.selectAll(".g-"+b+"title").remove()}}var x=n._has&&n._has("cartesian"),T=r._has&&r._has("cartesian");if(x&&!T)iR(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(i.cartesian)for(u=0;u<i.cartesian.length;u++){var A=i.cartesian[u];if(A.indexOf(ps)===-1&&!o[A]){var m="."+A+",."+A+"-x,."+A+"-y";n._cartesianlayer.selectAll(m).remove(),oR(A,n)}}};Dn.drawFramework=function(e){var r=e._fullLayout,t=e.calcdata,n,a={};for(n=0;n<t.length;n++){var o=t[n][0],i=o.trace,l=i.zorder||0;a[l]||(a[l]=[]),a[l].push(o)}var u=Object.keys(a).map(Number).sort(ds.sorterAsc);u.length||(u=[0]),r._zindices=u;var s=Ate(e),f=s.length,v=[];for(n=0;n<f;n++)v[n]=s[n].slice();for(var g=1;g<u.length;g++){var b=[];for(n=0;n<f;n++)b[n]=s[n].slice(),b[n][0]+=ps+(g+1);v=v.concat(b)}var x=r._cartesianlayer.selectAll(".subplot").data(v,String);x.enter().append("g").attr("class",function(T){return"subplot "+T[0]}),x.order(),x.exit().call(iR,r),x.each(function(T){var A=T[0],m=A.indexOf(ps),w=m!==-1,k=w?A.slice(0,m):A,y=r._plots[A];y||(y=ds.extendFlat({},r._plots[k]),y&&(y.id=A,r._plots[A]=y,r._subplots.cartesian.push(A))),y&&(y.plotgroup=$1.select(this),aR(e,y),w||(y.draglayer=ut(r._draggers,"g",A)))})};Dn.rangePlot=function(e,r,t){aR(e,r),nR(e,r,t),wte.style(e)};function Ate(e){var r=e._fullLayout,t=r._zindices.length,n=r._subplots.cartesian,a=n.length,o,i,l,u,s,f,v=[],g=[];for(o=0;o<a;o++){l=n[o],u=r._plots[l],s=u.xaxis,f=u.yaxis;var b=s._mainAxis,x=f._mainAxis,T=b._id+x._id,A=r._plots[T];u.overlays=[],T!==l&&A?(u.mainplot=T,u.mainplotinfo=A,g.push(l)):(u.mainplot=void 0,u.mainplotinfo=void 0,v.push(l))}for(o=0;o<g.length;o++)l=g[o],u=r._plots[l],u.mainplotinfo.overlays.push(u);var m=v.concat(g),w=[];for(o=0;o<a;o++){l=m[o],u=r._plots[l],s=u.xaxis,f=u.yaxis;for(var k=[],y=1;y<=t;y++){var M="";for(y>1&&(M+=ps+y),k.push(l+M),i=0;i<u.overlays.length;i++)k.push(u.overlays[i].id+M)}k=k.concat([s.layer,f.layer,s.overlaying||"",f.overlaying||""]),w.push(k)}return w}function aR(e,r){var t=e._fullLayout,n=r.plotgroup,a=r.id,o=a.indexOf(ps),i=o!==-1,l=vi.layerValue2layerClass[r.xaxis.layer],u=vi.layerValue2layerClass[r.yaxis.layer],s=t._hasOnlyLargeSploms;if(!r.mainplot||t._zindices.length>1)if(s)r.xlines=ut(n,"path","xlines-above"),r.ylines=ut(n,"path","ylines-above"),r.xaxislayer=ut(n,"g","xaxislayer-above"),r.yaxislayer=ut(n,"g","yaxislayer-above");else{if(!i){var f=ut(n,"g","layer-subplot");r.shapelayer=ut(f,"g","shapelayer"),r.imagelayer=ut(f,"g","imagelayer"),r.minorGridlayer=ut(n,"g","minor-gridlayer"),r.gridlayer=ut(n,"g","gridlayer"),r.zerolinelayer=ut(n,"g","zerolinelayer");var v=ut(n,"g","layer-between");r.shapelayerBetween=ut(v,"g","shapelayer"),r.imagelayerBetween=ut(v,"g","imagelayer"),ut(n,"path","xlines-below"),ut(n,"path","ylines-below"),r.overlinesBelow=ut(n,"g","overlines-below"),ut(n,"g","xaxislayer-below"),ut(n,"g","yaxislayer-below"),r.overaxesBelow=ut(n,"g","overaxes-below")}r.overplot=ut(n,"g","overplot"),r.plot=ut(r.overplot,"g",a),i||(r.xlines=ut(n,"path","xlines-above"),r.ylines=ut(n,"path","ylines-above"),r.overlinesAbove=ut(n,"g","overlines-above"),ut(n,"g","xaxislayer-above"),ut(n,"g","yaxislayer-above"),r.overaxesAbove=ut(n,"g","overaxes-above"),r.xlines=n.select(".xlines-"+l),r.ylines=n.select(".ylines-"+u),r.xaxislayer=n.select(".xaxislayer-"+l),r.yaxislayer=n.select(".yaxislayer-"+u))}else{var g=r.mainplotinfo,b=g.plotgroup,x=a+"-x",T=a+"-y";r.minorGridlayer=g.minorGridlayer,r.gridlayer=g.gridlayer,r.zerolinelayer=g.zerolinelayer,ut(g.overlinesBelow,"path",x),ut(g.overlinesBelow,"path",T),ut(g.overaxesBelow,"g",x),ut(g.overaxesBelow,"g",T),r.plot=ut(g.overplot,"g",a),ut(g.overlinesAbove,"path",x),ut(g.overlinesAbove,"path",T),ut(g.overaxesAbove,"g",x),ut(g.overaxesAbove,"g",T),r.xlines=b.select(".overlines-"+l).select("."+x),r.ylines=b.select(".overlines-"+u).select("."+T),r.xaxislayer=b.select(".overaxes-"+l).select("."+x),r.yaxislayer=b.select(".overaxes-"+u).select("."+T)}i||(s||(Q1(r.minorGridlayer,"g",r.xaxis._id),Q1(r.minorGridlayer,"g",r.yaxis._id),r.minorGridlayer.selectAll("g").map(function(A){return A[0]}).sort(ol.idSort),Q1(r.gridlayer,"g",r.xaxis._id),Q1(r.gridlayer,"g",r.yaxis._id),r.gridlayer.selectAll("g").map(function(A){return A[0]}).sort(ol.idSort)),r.xlines.style("fill","none").classed("crisp",!0),r.ylines.style("fill","none").classed("crisp",!0))}function iR(e,r){if(e){var t={};e.each(function(u){var s=u[0],f=$1.select(this);f.remove(),oR(s,r),t[s]=!0});for(var n in r._plots)for(var a=r._plots[n],o=a.overlays||[],i=0;i<o.length;i++){var l=o[i];t[l.id]&&l.plot.selectAll(".trace").remove()}}}function oR(e,r){r._draggers.selectAll("g."+e).remove(),r._defs.select("#clip"+r._uid+e+"plot").remove()}Dn.toSVG=function(e){var r=e._fullLayout._glimages,t=$1.select(e).selectAll(".svg-container"),n=t.filter(function(o,i){return i===t.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function a(){var o=this,i=o.toDataURL("image/png"),l=r.append("svg:image");l.attr({xmlns:Mte.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:o.style.width,height:o.style.height})}n.each(a)};Dn.updateFx=am().updateFx});var sR=pe((cde,lR)=>{"use strict";var j1=ca();lR.exports={hasLines:j1.hasLines,hasMarkers:j1.hasMarkers,hasText:j1.hasText,isBubble:j1.isBubble,attributes:us(),layoutAttributes:Rv(),supplyDefaults:gE(),crossTraceDefaults:bE(),supplyLayoutDefaults:wE(),calc:Dm().calc,crossTraceCalc:$E(),arraysToCalcdata:O1(),plot:vL(),colorbar:dL(),formatLabels:gL(),style:Um().style,styleOnSelect:Um().styleOnSelect,hoverPoints:wL(),selectPoints:AL(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:Jm(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}});var cR=pe((vde,fR)=>{"use strict";var kte=it(),Ste=Kr(),uR=Ky(),Km=ir(),Cte=Km.strScale,Ete=Km.strRotate,Lte=Km.strTranslate;fR.exports=function(r,t,n){var a=r.node(),o=uR[n.arrowhead||0],i=uR[n.startarrowhead||0],l=(n.arrowwidth||1)*(n.arrowsize||1),u=(n.arrowwidth||1)*(n.startarrowsize||1),s=t.indexOf("start")>=0,f=t.indexOf("end")>=0,v=o.backoff*l+n.standoff,g=i.backoff*u+n.startstandoff,b,x,T,A;if(a.nodeName==="line"){b={x:+r.attr("x1"),y:+r.attr("y1")},x={x:+r.attr("x2"),y:+r.attr("y2")};var m=b.x-x.x,w=b.y-x.y;if(T=Math.atan2(w,m),A=T+Math.PI,v&&g&&v+g>Math.sqrt(m*m+w*w)){D();return}if(v){if(v*v>m*m+w*w){D();return}var k=v*Math.cos(T),y=v*Math.sin(T);x.x+=k,x.y+=y,r.attr({x2:x.x,y2:x.y})}if(g){if(g*g>m*m+w*w){D();return}var M=g*Math.cos(T),d=g*Math.sin(T);b.x-=M,b.y-=d,r.attr({x1:b.x,y1:b.y})}}else if(a.nodeName==="path"){var _=a.getTotalLength(),p="";if(_<v+g){D();return}var c=a.getPointAtLength(0),S=a.getPointAtLength(.1);T=Math.atan2(c.y-S.y,c.x-S.x),b=a.getPointAtLength(Math.min(g,_)),p="0px,"+g+"px,";var h=a.getPointAtLength(_),R=a.getPointAtLength(_-.1);A=Math.atan2(h.y-R.y,h.x-R.x),x=a.getPointAtLength(Math.max(0,_-v));var E=p?g+v:v;p+=_-E+"px,"+_+"px",r.style("stroke-dasharray",p)}function D(){r.style("stroke-dasharray","0px,100px")}function N(I,F,L,P){I.path&&(I.noRotate&&(L=0),kte.select(a.parentNode).append("path").attr({class:r.attr("class"),d:I.path,transform:Lte(F.x,F.y)+Ete(L*180/Math.PI)+Cte(P)}).style({fill:Ste.rgb(n.arrowcolor),"stroke-width":0}))}s&&N(i,b,T,u),f&&N(o,x,A,l)}});var ed=pe((hde,gR)=>{"use strict";var vR=it(),Qm=Cr(),Rte=nn(),sl=ir(),$m=sl.strTranslate,W0=wt(),gs=Kr(),po=yt(),hR=so(),jm=Xn(),e3=Jo(),Y0=oi(),Dte=gt().arrayEditor,Pte=cR();gR.exports={draw:Fte,drawOne:dR,drawRaw:pR};function Fte(e){var r=e._fullLayout;r._infolayer.selectAll(".annotation").remove();for(var t=0;t<r.annotations.length;t++)r.annotations[t].visible&&dR(e,t);return Rte.previousPromises(e)}function dR(e,r){var t=e._fullLayout,n=t.annotations[r]||{},a=W0.getFromId(e,n.xref),o=W0.getFromId(e,n.yref);a&&a.setScale(),o&&o.setScale(),pR(e,n,r,!1,a,o)}function ll(e,r,t,n,a){var o=a[t],i=a[t+"ref"],l=t.indexOf("y")!==-1,u=W0.getRefType(i)==="domain",s=l?n.h:n.w;return e?u?o+(l?-r:r)/e._length:e.p2r(e.r2p(o)+r):o+(l?-r:r)/s}function pR(e,r,t,n,a,o){var i=e._fullLayout,l=e._fullLayout._size,u=e._context.edits,s,f;n?(s="annotation-"+n,f=n+".annotations"):(s="annotation",f="annotations");var v=Dte(e.layout,f,r),g=v.modifyBase,b=v.modifyItem,x=v.getUpdateObj;i._infolayer.selectAll("."+s+'[data-index="'+t+'"]').remove();var T="clip"+i._uid+"_ann"+t;if(!r._input||r.visible===!1){vR.selectAll("#"+T).remove();return}var A={x:{},y:{}},m=+r.textangle||0,w=i._infolayer.append("g").classed(s,!0).attr("data-index",String(t)).style("opacity",r.opacity),k=w.append("g").classed("annotation-text-g",!0),y=u[r.showarrow?"annotationTail":"annotationPosition"],M=r.captureevents||u.annotationText||y;function d(P){var q={index:t,annotation:r._input,fullAnnotation:r,event:P};return n&&(q.subplotId=n),q}var _=k.append("g").style("pointer-events",M?"all":null).call(e3,"pointer").on("click",function(){e._dragging=!1,e.emit("plotly_clickannotation",d(vR.event))});r.hovertext&&_.on("mouseover",function(){var P=r.hoverlabel,q=P.font,U=this.getBoundingClientRect(),W=e.getBoundingClientRect();hR.loneHover({x0:U.left-W.left,x1:U.right-W.left,y:(U.top+U.bottom)/2-W.top,text:r.hovertext,color:P.bgcolor,borderColor:P.bordercolor,fontFamily:q.family,fontSize:q.size,fontColor:q.color,fontWeight:q.weight,fontStyle:q.style,fontVariant:q.variant,fontShadow:q.fontShadow,fontLineposition:q.fontLineposition,fontTextcase:q.fontTextcase},{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:e})}).on("mouseout",function(){hR.loneUnhover(i._hoverlayer.node())});var p=r.borderwidth,c=r.borderpad,S=p+c,h=_.append("rect").attr("class","bg").style("stroke-width",p+"px").call(gs.stroke,r.bordercolor).call(gs.fill,r.bgcolor),R=r.width||r.height,E=i._topclips.selectAll("#"+T).data(R?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",T).append("rect"),E.exit().remove();var D=r.font,N=i._meta?sl.templateString(r.text,i._meta):r.text,I=_.append("text").classed("annotation-text",!0).text(N);function F(P){return P.call(po.font,D).attr({"text-anchor":{left:"start",right:"end"}[r.align]||"middle"}),jm.convertToTspans(P,e,L),P}function L(){var P=I.selectAll("a");if(P.size()===1&&P.text()===I.text()){var q=_.insert("a",":first-child").attr({"xlink:xlink:href":P.attr("xlink:href"),"xlink:xlink:show":P.attr("xlink:show")}).style({cursor:"pointer"});q.node().appendChild(h.node())}var U=_.select(".annotation-text-math-group"),W=!U.empty(),j=po.bBox((W?U:I).node()),$=j.width,G=j.height,O=r.width||$,Z=r.height||G,ne=Math.round(O+2*S),Q=Math.round(Z+2*S);function ie(Qe,Ve){return Ve==="auto"&&(Qe<1/3?Ve="left":Qe>2/3?Ve="right":Ve="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ve]}for(var ee=!1,V=["x","y"],re=0;re<V.length;re++){var H=V[re],te=r[H+"ref"]||H,se=r["a"+H+"ref"],he={x:a,y:o}[H],ke=(m+(H==="x"?0:-90))*Math.PI/180,we=ne*Math.cos(ke),ve=Q*Math.sin(ke),Me=Math.abs(we)+Math.abs(ve),Se=r[H+"anchor"],De=r[H+"shift"]*(H==="x"?1:-1),Ce=A[H],Oe,Be,ge,Ae,ce,ye=W0.getRefType(te);if(he&&ye!=="domain"){var Le=he.r2fraction(r[H]);(Le<0||Le>1)&&(se===te?(Le=he.r2fraction(r["a"+H]),(Le<0||Le>1)&&(ee=!0)):ee=!0),Oe=he._offset+he.r2p(r[H]),Ae=.5}else{var me=ye==="domain";H==="x"?(ge=r[H],Oe=me?he._offset+he._length*ge:Oe=l.l+l.w*ge):(ge=1-r[H],Oe=me?he._offset+he._length*ge:Oe=l.t+l.h*ge),Ae=r.showarrow?.5:ge}if(r.showarrow){Ce.head=Oe;var de=r["a"+H];if(ce=we*ie(.5,r.xanchor)-ve*ie(.5,r.yanchor),se===te){var be=W0.getRefType(se);be==="domain"?(H==="y"&&(de=1-de),Ce.tail=he._offset+he._length*de):be==="paper"?H==="y"?(de=1-de,Ce.tail=l.t+l.h*de):Ce.tail=l.l+l.w*de:Ce.tail=he._offset+he.r2p(de),Be=ce}else Ce.tail=Oe+de,Be=ce+de;Ce.text=Ce.tail+ce;var Ee=i[H==="x"?"width":"height"];if(te==="paper"&&(Ce.head=sl.constrain(Ce.head,1,Ee-1)),se==="pixel"){var ze=-Math.max(Ce.tail-3,Ce.text),Fe=Math.min(Ce.tail+3,Ce.text)-Ee;ze>0?(Ce.tail+=ze,Ce.text+=ze):Fe>0&&(Ce.tail-=Fe,Ce.text-=Fe)}Ce.tail+=De,Ce.head+=De}else ce=Me*ie(Ae,Se),Be=ce,Ce.text=Oe+ce;Ce.text+=De,ce+=De,Be+=De,r["_"+H+"padplus"]=Me/2+Be,r["_"+H+"padminus"]=Me/2-Be,r["_"+H+"size"]=Me,r["_"+H+"shift"]=ce}if(ee){_.remove();return}var Je=0,Ye=0;if(r.align!=="left"&&(Je=(O-$)*(r.align==="center"?.5:1)),r.valign!=="top"&&(Ye=(Z-G)*(r.valign==="middle"?.5:1)),W)U.select("svg").attr({x:S+Je-1,y:S+Ye}).call(po.setClipUrl,R?T:null,e);else{var Ge=S+Ye-j.top,We=S+Je-j.left;I.call(jm.positionText,We,Ge).call(po.setClipUrl,R?T:null,e)}E.select("rect").call(po.setRect,S,S,O,Z),h.call(po.setRect,p/2,p/2,ne-p,Q-p),_.call(po.setTranslate,Math.round(A.x.text-ne/2),Math.round(A.y.text-Q/2)),k.attr({transform:"rotate("+m+","+A.x.text+","+A.y.text+")"});var Te=function(Qe,Ve){w.selectAll(".annotation-arrow-g").remove();var ar=A.x.head,ue=A.y.head,K=A.x.tail+Qe,ae=A.y.tail+Ve,Re=A.x.text+Qe,Ue=A.y.text+Ve,je=sl.rotationXYMatrix(m,Re,Ue),nr=sl.apply2DTransform(je),hr=sl.apply2DTransform2(je),wr=+h.attr("width"),Er=+h.attr("height"),Mr=Re-.5*wr,Ar=Mr+wr,ft=Ue-.5*Er,Wr=ft+Er,xr=[[Mr,ft,Mr,Wr],[Mr,Wr,Ar,Wr],[Ar,Wr,Ar,ft],[Ar,ft,Mr,ft]].map(hr);if(!xr.reduce(function(nt,Ft){return nt^!!sl.segmentsIntersect(ar,ue,ar+1e6,ue+1e6,Ft[0],Ft[1],Ft[2],Ft[3])},!1)){xr.forEach(function(nt){var Ft=sl.segmentsIntersect(K,ae,ar,ue,nt[0],nt[1],nt[2],nt[3]);Ft&&(K=Ft.x,ae=Ft.y)});var ct=r.arrowwidth,Sr=r.arrowcolor,Hr=r.arrowside,bt=w.append("g").style({opacity:gs.opacity(Sr)}).classed("annotation-arrow-g",!0),Or=bt.append("path").attr("d","M"+K+","+ae+"L"+ar+","+ue).style("stroke-width",ct+"px").call(gs.stroke,gs.rgb(Sr));if(Pte(Or,Hr,r),u.annotationPosition&&Or.node().parentNode&&!n){var Vr=ar,Bt=ue;if(r.standoff){var Lt=Math.sqrt(Math.pow(ar-K,2)+Math.pow(ue-ae,2));Vr+=r.standoff*(K-ar)/Lt,Bt+=r.standoff*(ae-ue)/Lt}var mn=bt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(K-Vr)+","+(ae-Bt),transform:$m(Vr,Bt)}).style("stroke-width",ct+6+"px").call(gs.stroke,"rgba(0,0,0,0)").call(gs.fill,"rgba(0,0,0,0)"),Wt,Rt;Y0.init({element:mn.node(),gd:e,prepFn:function(){var nt=po.getTranslate(_);Wt=nt.x,Rt=nt.y,a&&a.autorange&&g(a._name+".autorange",!0),o&&o.autorange&&g(o._name+".autorange",!0)},moveFn:function(nt,Ft){var ya=nr(Wt,Rt),ta=ya[0]+nt,Nn=ya[1]+Ft;_.call(po.setTranslate,ta,Nn),b("x",ll(a,nt,"x",l,r)),b("y",ll(o,Ft,"y",l,r)),r.axref===r.xref&&b("ax",ll(a,nt,"ax",l,r)),r.ayref===r.yref&&b("ay",ll(o,Ft,"ay",l,r)),bt.attr("transform",$m(nt,Ft)),k.attr({transform:"rotate("+m+","+ta+","+Nn+")"})},doneFn:function(){Qm.call("_guiRelayout",e,x());var nt=document.querySelector(".js-notes-box-panel");nt&&nt.redraw(nt.selectedObj)}})}}};if(r.showarrow&&Te(0,0),y){var Pe;Y0.init({element:_.node(),gd:e,prepFn:function(){Pe=k.attr("transform")},moveFn:function(Qe,Ve){var ar="pointer";if(r.showarrow)r.axref===r.xref?b("ax",ll(a,Qe,"ax",l,r)):b("ax",r.ax+Qe),r.ayref===r.yref?b("ay",ll(o,Ve,"ay",l.w,r)):b("ay",r.ay+Ve),Te(Qe,Ve);else{if(n)return;var ue,K;if(a)ue=ll(a,Qe,"x",l,r);else{var ae=r._xsize/l.w,Re=r.x+(r._xshift-r.xshift)/l.w-ae/2;ue=Y0.align(Re+Qe/l.w,ae,0,1,r.xanchor)}if(o)K=ll(o,Ve,"y",l,r);else{var Ue=r._ysize/l.h,je=r.y-(r._yshift+r.yshift)/l.h-Ue/2;K=Y0.align(je-Ve/l.h,Ue,0,1,r.yanchor)}b("x",ue),b("y",K),(!a||!o)&&(ar=Y0.getCursor(a?.5:ue,o?.5:K,r.xanchor,r.yanchor))}k.attr({transform:$m(Qe,Ve)+Pe}),e3(_,ar)},clickFn:function(Qe,Ve){r.captureevents&&e.emit("plotly_clickannotation",d(Ve))},doneFn:function(){e3(_),Qm.call("_guiRelayout",e,x());var Qe=document.querySelector(".js-notes-box-panel");Qe&&Qe.redraw(Qe.selectedObj)}})}}u.annotationText?I.call(jm.makeEditable,{delegate:_,gd:e}).call(F).on("edit",function(P){r.text=P,this.call(F),b("text",P),a&&a.autorange&&g(a._name+".autorange",!0),o&&o.autorange&&g(o._name+".autorange",!0),Qm.call("_guiRelayout",e,x())}):I.call(F)}});var wR=pe((dde,_R)=>{"use strict";var yR=ir(),Ite=Cr(),mR=gt().arrayEditor;_R.exports={hasClickToShow:Nte,onClick:zte};function Nte(e,r){var t=bR(e,r);return t.on.length>0||t.explicitOff.length>0}function zte(e,r){var t=bR(e,r),n=t.on,a=t.off.concat(t.explicitOff),o={},i=e._fullLayout.annotations,l,u;if(n.length||a.length){for(l=0;l<n.length;l++)u=mR(e.layout,"annotations",i[n[l]]),u.modifyItem("visible",!0),yR.extendFlat(o,u.getUpdateObj());for(l=0;l<a.length;l++)u=mR(e.layout,"annotations",i[a[l]]),u.modifyItem("visible",!1),yR.extendFlat(o,u.getUpdateObj());return Ite.call("update",e,{},o)}}function bR(e,r){var t=e._fullLayout.annotations,n=[],a=[],o=[],i=(r||[]).length,l,u,s,f,v,g,b,x;for(l=0;l<t.length;l++)if(s=t[l],f=s.clicktoshow,f){for(u=0;u<i;u++)if(v=r[u],g=v.xaxis,b=v.yaxis,g._id===s.xref&&b._id===s.yref&&g.d2r(v.x)===xR(s._xclick,g)&&b.d2r(v.y)===xR(s._yclick,b)){s.visible?f==="onout"?x=a:x=o:x=n,x.push(l);break}u===i&&s.visible&&f==="onout"&&a.push(l)}return{on:n,off:a,explicitOff:o}}function xR(e,r){return r.type==="log"?r.l2r(e):r.d2r(e)}});var t3=pe((pde,TR)=>{"use strict";var r3=ir(),Bu=Kr();TR.exports=function(r,t,n,a){a("opacity");var o=a("bgcolor"),i=a("bordercolor"),l=Bu.opacity(i);a("borderpad");var u=a("borderwidth"),s=a("showarrow");a("text",s?" ":n._dfltTitle.annotation),a("textangle"),r3.coerceFont(a,"font",n.font),a("width"),a("align");var f=a("height");if(f&&a("valign"),s){var v=a("arrowside"),g,b;v.indexOf("end")!==-1&&(g=a("arrowhead"),b=a("arrowsize")),v.indexOf("start")!==-1&&(a("startarrowhead",g),a("startarrowsize",b)),a("arrowcolor",l?t.bordercolor:Bu.defaultLine),a("arrowwidth",(l&&u||1)*2),a("standoff"),a("startstandoff")}var x=a("hovertext"),T=n.hoverlabel||{};if(x){var A=a("hoverlabel.bgcolor",T.bgcolor||(Bu.opacity(o)?Bu.rgb(o):Bu.defaultLine)),m=a("hoverlabel.bordercolor",T.bordercolor||Bu.contrast(A)),w=r3.extendFlat({},T.font);w.color||(w.color=m),r3.coerceFont(a,"hoverlabel.font",w)}a("captureevents",!!x)}});var AR=pe((gde,MR)=>{"use strict";var n3=ir(),ys=wt(),Ote=ai(),qte=t3(),Bte=Eu();MR.exports=function(r,t){Ote(r,t,{name:"annotations",handleItemDefaults:Ute})};function Ute(e,r,t){function n(k,y){return n3.coerce(e,r,Bte,k,y)}var a=n("visible"),o=n("clicktoshow");if(a||o){qte(e,r,t,n);for(var i=r.showarrow,l=["x","y"],u=[-10,-30],s={_fullLayout:t},f=0;f<2;f++){var v=l[f],g=ys.coerceRef(e,r,s,v,"","paper");if(g!=="paper"){var b=ys.getFromId(s,g);b._annIndices.push(r._index)}if(ys.coercePosition(r,s,n,g,v,.5),i){var x="a"+v,T=ys.coerceRef(e,r,s,x,"pixel",["pixel","paper"]);T!=="pixel"&&T!==g&&(T=r[x]="pixel");var A=T==="pixel"?u[f]:.4;ys.coercePosition(r,s,n,T,x,A)}n(v+"anchor"),n(v+"shift")}if(n3.noneOrAll(e,r,["x","y"]),i&&n3.noneOrAll(e,r,["ax","ay"]),o){var m=n("xclick"),w=n("yclick");r._xclick=m===void 0?r.x:ys.cleanPosition(m,s,r.xref),r._yclick=w===void 0?r.y:ys.cleanPosition(w,s,r.yref)}}}});var CR=pe((yde,SR)=>{"use strict";var a3=ir(),ms=wt(),Hte=ed().draw;SR.exports=function(r){var t=r._fullLayout,n=a3.filterVisible(t.annotations);if(n.length&&r._fullData.length)return a3.syncOrAsync([Hte,Vte],r)};function Vte(e){var r=e._fullLayout;a3.filterVisible(r.annotations).forEach(function(t){var n=ms.getFromId(e,t.xref),a=ms.getFromId(e,t.yref),o=ms.getRefType(t.xref),i=ms.getRefType(t.yref);t._extremes={},o==="range"&&kR(t,n),i==="range"&&kR(t,a)})}function kR(e,r){var t=r._id,n=t.charAt(0),a=e[n],o=e["a"+n],i=e[n+"ref"],l=e["a"+n+"ref"],u=e["_"+n+"padplus"],s=e["_"+n+"padminus"],f={x:1,y:-1}[n]*e[n+"shift"],v=3*e.arrowsize*e.arrowwidth||0,g=v+f,b=v-f,x=3*e.startarrowsize*e.arrowwidth||0,T=x+f,A=x-f,m;if(l===i){var w=ms.findExtremes(r,[r.r2c(a)],{ppadplus:g,ppadminus:b}),k=ms.findExtremes(r,[r.r2c(o)],{ppadplus:Math.max(u,T),ppadminus:Math.max(s,A)});m={min:[w.min[0],k.min[0]],max:[w.max[0],k.max[0]]}}else T=o?T+o:T,A=o?A-o:A,m=ms.findExtremes(r,[r.r2c(a)],{ppadplus:Math.max(u,g,T),ppadminus:Math.max(s,b,A)});e._extremes[t]=m}});var LR=pe((mde,ER)=>{"use strict";var Gte=rt(),Yte=Jc();ER.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(!(o||i))return;var l=r._fullLayout.annotations,u=t._id.charAt(0),s,f;function v(b){var x=s[b],T=null;o?T=Yte(x,t.range):T=Math.pow(10,x),Gte(T)||(T=null),a(f+b,T)}for(var g=0;g<l.length;g++)s=l[g],f="annotations["+g+"].",s[u+"ref"]===t._id&&v(u),s["a"+u+"ref"]===t._id&&v("a"+u)}});var PR=pe((xde,DR)=>{"use strict";var i3=ed(),RR=wR();DR.exports={moduleType:"component",name:"annotations",layoutAttributes:Eu(),supplyLayoutDefaults:AR(),includeBasePlot:M0()("annotations"),calcAutorange:CR(),draw:i3.draw,drawOne:i3.drawOne,drawRaw:i3.drawRaw,hasClickToShow:RR.hasClickToShow,onClick:RR.onClick,convertCoords:LR()}});var rd=pe((bde,FR)=>{"use strict";var Tt=Eu(),Wte=qn().overrideAll,Xte=gt().templatedArray;FR.exports=Wte(Xte("annotation",{visible:Tt.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:Tt.xanchor,xshift:Tt.xshift,yanchor:Tt.yanchor,yshift:Tt.yshift,text:Tt.text,textangle:Tt.textangle,font:Tt.font,width:Tt.width,height:Tt.height,opacity:Tt.opacity,align:Tt.align,valign:Tt.valign,bgcolor:Tt.bgcolor,bordercolor:Tt.bordercolor,borderpad:Tt.borderpad,borderwidth:Tt.borderwidth,showarrow:Tt.showarrow,arrowcolor:Tt.arrowcolor,arrowhead:Tt.arrowhead,startarrowhead:Tt.startarrowhead,arrowside:Tt.arrowside,arrowsize:Tt.arrowsize,startarrowsize:Tt.startarrowsize,arrowwidth:Tt.arrowwidth,standoff:Tt.standoff,startstandoff:Tt.startstandoff,hovertext:Tt.hovertext,hoverlabel:Tt.hoverlabel,captureevents:Tt.captureevents}),"calc","from-root")});var NR=pe((_de,IR)=>{"use strict";var o3=ir(),Zte=wt(),Jte=ai(),Kte=t3(),Qte=rd();IR.exports=function(r,t,n){Jte(r,t,{name:"annotations",handleItemDefaults:$te,fullLayout:n.fullLayout})};function $te(e,r,t,n){function a(l,u){return o3.coerce(e,r,Qte,l,u)}function o(l){var u=l+"axis",s={_fullLayout:{}};return s._fullLayout[u]=t[u],Zte.coercePosition(r,s,a,l,l,.5)}var i=a("visible");i&&(Kte(e,r,n.fullLayout,a),o("x"),o("y"),o("z"),o3.noneOrAll(e,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),o3.noneOrAll(e,r,["ax","ay"])))}});var BR=pe((wde,qR)=>{"use strict";var zR=ir(),OR=wt();qR.exports=function(r){for(var t=r.fullSceneLayout,n=t.annotations,a=0;a<n.length;a++)jte(n[a],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function jte(e,r){var t=r.fullSceneLayout,n=t.domain,a=r.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},zR.extendFlat(e._xa,o),OR.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},zR.extendFlat(e._ya,o),OR.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}});var s3=pe((Tde,UR)=>{"use strict";function l3(e,r){var t=[0,0,0,0],n,a;for(n=0;n<4;++n)for(a=0;a<4;++a)t[a]+=e[4*n+a]*r[n];return t}function ene(e,r){var t=l3(e.projection,l3(e.view,l3(e.model,[r[0],r[1],r[2],1])));return t}UR.exports=ene});var VR=pe((Mde,HR)=>{"use strict";var rne=ed().drawRaw,tne=s3(),nne=["x","y","z"];HR.exports=function(r){for(var t=r.fullSceneLayout,n=r.dataScale,a=t.annotations,o=0;o<a.length;o++){for(var i=a[o],l=!1,u=0;u<3;u++){var s=nne[u],f=i[s],v=t[s+"axis"],g=v.r2fraction(f);if(g<0||g>1){l=!0;break}}l?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+o+'"]').remove():(i._pdata=tne(r.glplot.cameraParams,[t.xaxis.r2l(i.x)*n[0],t.yaxis.r2l(i.y)*n[1],t.zaxis.r2l(i.z)*n[2]]),rne(r.graphDiv,i,o,r.id,i._xa,i._ya))}}});var WR=pe((Ade,YR)=>{"use strict";var ane=Cr(),GR=ir();YR.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:rd()}}},layoutAttributes:rd(),handleDefaults:NR(),includeBasePlot:ine,convert:BR(),draw:VR()};function ine(e,r){var t=ane.subplotsRegistry.gl3d;if(t)for(var n=t.attrRegex,a=Object.keys(e),o=0;o<a.length;o++){var i=a[o];n.test(i)&&(e[i].annotations||[]).length&&(GR.pushUnique(r._basePlotModules,t),GR.pushUnique(r._subplots.gl3d,i))}}});var u3=pe((Sde,KR)=>{"use strict";var XR=Eu(),ZR=Sn(),JR=us().line,one=Lo().dash,hi=Mt().extendFlat,lne=gt().templatedArray,kde=T0(),Uu=Cn(),sne=Ra().shapeTexttemplateAttrs,une=uv();KR.exports=lne("shape",{visible:hi({},Uu.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:hi({},Uu.legend,{editType:"calc+arraydraw"}),legendgroup:hi({},Uu.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:hi({},Uu.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:ZR({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:hi({},Uu.legendrank,{editType:"calc+arraydraw"}),legendwidth:hi({},Uu.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:hi({},XR.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:hi({},XR.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:hi({},JR.color,{editType:"arraydraw"}),width:hi({},JR.width,{editType:"calc+arraydraw"}),dash:hi({},one,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:sne({},{keys:Object.keys(une)}),font:ZR({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})});var jR=pe((Cde,$R)=>{"use strict";var X0=ir(),Hu=wt(),fne=ai(),cne=u3(),QR=el();$R.exports=function(r,t){fne(r,t,{name:"shapes",handleItemDefaults:hne})};function vne(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function hne(e,r,t){function n(P,q){return X0.coerce(e,r,cne,P,q)}r._isShape=!0;var a=n("visible");if(a){var o=n("showlegend");o&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),X0.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var i=n("path"),l=i?"path":"rect",u=n("type",l),s=u!=="path";s&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var f=n("line.width");f&&(n("line.color"),n("line.dash"));for(var v=n("xsizemode"),g=n("ysizemode"),b=["x","y"],x=0;x<2;x++){var T=b[x],A=T+"anchor",m=T==="x"?v:g,w={_fullLayout:t},k,y,M,d=Hu.coerceRef(e,r,w,T,void 0,"paper"),_=Hu.getRefType(d);if(_==="range"?(k=Hu.getFromId(w,d),k._shapeIndices.push(r._index),M=QR.rangeToShapePosition(k),y=QR.shapePositionToRange(k),(k.type==="category"||k.type==="multicategory")&&(n(T+"0shift"),n(T+"1shift"))):y=M=X0.identity,s){var p=.25,c=.75,S=T+"0",h=T+"1",R=e[S],E=e[h];e[S]=y(e[S],!0),e[h]=y(e[h],!0),m==="pixel"?(n(S,0),n(h,10)):(Hu.coercePosition(r,w,n,d,S,p),Hu.coercePosition(r,w,n,d,h,c)),r[S]=M(r[S]),r[h]=M(r[h]),e[S]=R,e[h]=E}if(m==="pixel"){var D=e[A];e[A]=y(e[A],!0),Hu.coercePosition(r,w,n,d,A,.25),r[A]=M(r[A]),e[A]=D}}s&&X0.noneOrAll(e,r,["x0","x1","y0","y1"]);var N=u==="line",I,F;if(s&&(I=n("label.texttemplate")),I||(F=n("label.text")),F||I){n("label.textangle");var L=n("label.textposition",N?"middle":"middle center");n("label.xanchor"),n("label.yanchor",vne(N,L)),n("label.padding"),X0.coerceFont(n,"label.font",t.font)}}}});var tD=pe((Ede,rD)=>{"use strict";var dne=Kr(),eD=ir();function pne(e,r){return e?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}rD.exports=function(r,t,n){n("newshape.visible"),n("newshape.name"),n("newshape.showlegend"),n("newshape.legend"),n("newshape.legendwidth"),n("newshape.legendgroup"),n("newshape.legendgrouptitle.text"),eD.coerceFont(n,"newshape.legendgrouptitle.font"),n("newshape.legendrank"),n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity");var a=n("newshape.line.width");if(a){var o=(r||{}).plot_bgcolor||"#FFF";n("newshape.line.color",dne.contrast(o)),n("newshape.line.dash")}var i=r.dragmode==="drawline",l=n("newshape.label.text"),u=n("newshape.label.texttemplate");if(l||u){n("newshape.label.textangle");var s=n("newshape.label.textposition",i?"middle":"middle center");n("newshape.label.xanchor"),n("newshape.label.yanchor",pne(i,s)),n("newshape.label.padding"),eD.coerceFont(n,"newshape.label.font",t.font)}n("activeshape.fillcolor"),n("activeshape.opacity")}});var lD=pe((Lde,oD)=>{"use strict";var f3=ir(),Vu=wt(),Gu=n0(),aD=el();oD.exports=function(r){var t=r._fullLayout,n=f3.filterVisible(t.shapes);if(!(!n.length||!r._fullData.length))for(var a=0;a<n.length;a++){var o=n[a];o._extremes={};var i,l,u=Vu.getRefType(o.xref),s=Vu.getRefType(o.yref);o.xref!=="paper"&&u!=="domain"&&(i=Vu.getFromId(r,o.xref),l=nD(i,o,Gu.paramIsX),l&&(o._extremes[i._id]=Vu.findExtremes(i,l,gne(o)))),o.yref!=="paper"&&s!=="domain"&&(i=Vu.getFromId(r,o.yref),l=nD(i,o,Gu.paramIsY),l&&(o._extremes[i._id]=Vu.findExtremes(i,l,yne(o))))}};function gne(e){return iD(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function yne(e){return iD(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function iD(e,r,t,n,a,o){var i=e/2,l=o;if(r==="pixel"){var u=a?aD.extractPathCoords(a,o?Gu.paramIsY:Gu.paramIsX):[t,n],s=f3.aggNums(Math.max,null,u),f=f3.aggNums(Math.min,null,u),v=f<0?Math.abs(f)+i:i,g=s>0?s+i:i;return{ppad:i,ppadplus:l?v:g,ppadminus:l?g:v}}else return{ppad:i}}function nD(e,r,t){var n=e._id.charAt(0)==="x"?"x":"y",a=e.type==="category"||e.type==="multicategory",o,i,l=0,u=0,s=a?e.r2c:e.d2c,f=r[n+"sizemode"]==="scaled";if(f?(o=r[n+"0"],i=r[n+"1"],a&&(l=r[n+"0shift"],u=r[n+"1shift"])):(o=r[n+"anchor"],i=r[n+"anchor"]),o!==void 0)return[s(o)+l,s(i)+u];if(r.path){var v=1/0,g=-1/0,b=r.path.match(Gu.segmentRE),x,T,A,m,w;for(e.type==="date"&&(s=aD.decodeDate(s)),x=0;x<b.length;x++)T=b[x],A=t[T.charAt(0)].drawn,A!==void 0&&(m=b[x].substr(1).match(Gu.paramRE),!(!m||m.length<A)&&(w=s(m[A]),w<v&&(v=w),w>g&&(g=w)));if(g>=v)return[v,g]}}});var fD=pe((Rde,uD)=>{"use strict";var sD=Jh();uD.exports={moduleType:"component",name:"shapes",layoutAttributes:u3(),supplyLayoutDefaults:jR(),supplyDrawNewShapeDefaults:tD(),includeBasePlot:M0()("shapes"),calcAutorange:lD(),draw:sD.draw,drawOne:sD.drawOne}});var c3=pe((Pde,vD)=>{"use strict";var cD=Tn(),mne=gt().templatedArray,Dde=T0();vD.exports=mne("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",cD.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",cD.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})});var dD=pe((Fde,hD)=>{"use strict";var xne=ir(),v3=wt(),bne=ai(),_ne=c3(),wne="images";hD.exports=function(r,t){var n={name:wne,handleItemDefaults:Tne};bne(r,t,n)};function Tne(e,r,t){function n(g,b){return xne.coerce(e,r,_ne,g,b)}var a=n("source"),o=n("visible",!!a);if(!o)return r;n("layer"),n("xanchor"),n("yanchor"),n("sizex"),n("sizey"),n("sizing"),n("opacity");for(var i={_fullLayout:t},l=["x","y"],u=0;u<2;u++){var s=l[u],f=v3.coerceRef(e,r,i,s,"paper",void 0);if(f!=="paper"){var v=v3.getFromId(i,f);v._imgIndices.push(r._index)}v3.coercePosition(r,i,n,f,s,0)}return r}});var mD=pe((Ide,yD)=>{"use strict";var pD=it(),Mne=yt(),Yu=wt(),gD=un(),Ane=Uo();yD.exports=function(r){var t=r._fullLayout,n=[],a={},o=[],i,l;for(l=0;l<t.images.length;l++){var u=t.images[l];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){i=gD.ref2id(u.xref)+gD.ref2id(u.yref);var s=t._plots[i];if(!s){o.push(u);continue}s.mainplot&&(i=s.mainplot.id),a[i]||(a[i]=[]),a[i].push(u)}else u.layer==="above"?n.push(u):o.push(u)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function v(w){var k=pD.select(this);if(this._imgSrc!==w.source)if(k.attr("xmlns",Ane.svg),w.source&&w.source.slice(0,5)==="data:")k.attr("xlink:href",w.source),this._imgSrc=w.source;else{var y=new Promise(function(M){var d=new Image;this.img=d,d.setAttribute("crossOrigin","anonymous"),d.onerror=_,d.onload=function(){var p=document.createElement("canvas");p.width=this.width,p.height=this.height;var c=p.getContext("2d",{willReadFrequently:!0});c.drawImage(this,0,0);var S=p.toDataURL("image/png");k.attr("xlink:href",S),M()},k.on("error",_),d.src=w.source,this._imgSrc=w.source;function _(){k.remove(),M()}}.bind(this));r._promises.push(y)}}function g(w){var k=pD.select(this),y=Yu.getFromId(r,w.xref),M=Yu.getFromId(r,w.yref),d=Yu.getRefType(w.xref)==="domain",_=Yu.getRefType(w.yref)==="domain",p=t._size,c,S;y!==void 0?c=typeof w.xref=="string"&&d?y._length*w.sizex:Math.abs(y.l2p(w.sizex)-y.l2p(0)):c=w.sizex*p.w,M!==void 0?S=typeof w.yref=="string"&&_?M._length*w.sizey:Math.abs(M.l2p(w.sizey)-M.l2p(0)):S=w.sizey*p.h;var h=c*f.x[w.xanchor].offset,R=S*f.y[w.yanchor].offset,E=f.x[w.xanchor].sizing+f.y[w.yanchor].sizing,D,N;switch(y!==void 0?D=typeof w.xref=="string"&&d?y._length*w.x+y._offset:y.r2p(w.x)+y._offset:D=w.x*p.w+p.l,D+=h,M!==void 0?N=typeof w.yref=="string"&&_?M._length*(1-w.y)+M._offset:M.r2p(w.y)+M._offset:N=p.h-w.y*p.h+p.t,N+=R,w.sizing){case"fill":E+=" slice";break;case"stretch":E="none";break}k.attr({x:D,y:N,width:c,height:S,preserveAspectRatio:E,opacity:w.opacity});var I=y&&Yu.getRefType(w.xref)!=="domain"?y._id:"",F=M&&Yu.getRefType(w.yref)!=="domain"?M._id:"",L=I+F;Mne.setClipUrl(k,L?"clip"+t._uid+L:null,r)}var b=t._imageLowerLayer.selectAll("image").data(o),x=t._imageUpperLayer.selectAll("image").data(n);b.enter().append("image"),x.enter().append("image"),b.exit().remove(),x.exit().remove(),b.each(function(w){v.bind(this)(w),g.bind(this)(w)}),x.each(function(w){v.bind(this)(w),g.bind(this)(w)});var T=Object.keys(t._plots);for(l=0;l<T.length;l++){i=T[l];var A=t._plots[i];if(A.imagelayer){var m=A.imagelayer.selectAll("image").data(a[i]||[]);m.enter().append("image"),m.exit().remove(),m.each(function(w){v.bind(this)(w),g.bind(this)(w)})}}}});var _D=pe((Nde,bD)=>{"use strict";var xD=rt(),kne=Jc();bD.exports=function(r,t,n,a){t=t||{};var o=n==="log"&&t.type==="linear",i=n==="linear"&&t.type==="log";if(o||i){for(var l=r._fullLayout.images,u=t._id.charAt(0),s,f,v=0;v<l.length;v++)if(s=l[v],f="images["+v+"].",s[u+"ref"]===t._id){var g=s[u],b=s["size"+u],x=null,T=null;if(o){x=kne(g,t.range);var A=b/Math.pow(10,x)/2;T=2*Math.log(A+Math.sqrt(1+A*A))/Math.LN10}else x=Math.pow(10,g),T=x*(Math.pow(10,b/2)-Math.pow(10,-b/2));xD(x)?xD(T)||(T=null):(x=null,T=null),a(f+u,x),a(f+"size"+u,T)}}}});var TD=pe((zde,wD)=>{"use strict";wD.exports={moduleType:"component",name:"images",layoutAttributes:c3(),supplyLayoutDefaults:dD(),includeBasePlot:M0()("images"),draw:mD(),convertCoords:_D()}});var td=pe((Ode,MD)=>{"use strict";MD.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}});var h3=pe((qde,kD)=>{"use strict";var Sne=Sn(),Cne=Si(),Ene=Mt().extendFlat,Lne=qn().overrideAll,Rne=fv(),AD=gt().templatedArray,Dne=AD("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});kD.exports=Lne(AD("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:Dne,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:Ene(Rne({editType:"arraydraw"}),{}),font:Sne({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:Cne.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")});var LD=pe((Bde,ED)=>{"use strict";var nd=ir(),SD=ai(),CD=h3(),Pne=td(),Fne=Pne.name,Ine=CD.buttons;ED.exports=function(r,t){var n={name:Fne,handleItemDefaults:Nne};SD(r,t,n)};function Nne(e,r,t){function n(i,l){return nd.coerce(e,r,CD,i,l)}var a=SD(e,r,{name:"buttons",handleItemDefaults:zne}),o=n("visible",a.length>0);o&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),nd.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),nd.coerceFont(n,"font",t.font),n("bgcolor",t.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function zne(e,r){function t(a,o){return nd.coerce(e,r,Ine,a,o)}var n=t("visible",e.method==="skip"||Array.isArray(e.args));n&&(t("method"),t("args"),t("args2"),t("label"),t("execute"))}});var PD=pe((Ude,DD)=>{"use strict";DD.exports=Dt;var di=it(),RD=Kr(),Wu=yt(),ad=ir();function Dt(e,r,t){this.gd=e,this.container=r,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Dt.barWidth=2;Dt.barLength=20;Dt.barRadius=2;Dt.barPad=1;Dt.barColor="#808BA4";Dt.prototype.enable=function(r,t,n){var a=this.gd._fullLayout,o=a.width,i=a.height;this.position=r;var l=this.position.l,u=this.position.w,s=this.position.t,f=this.position.h,v=this.position.direction,g=v==="down",b=v==="left",x=v==="right",T=v==="up",A=u,m=f,w,k,y,M;!g&&!b&&!x&&!T&&(this.position.direction="down",g=!0);var d=g||T;d?(w=l,k=w+A,g?(y=s,M=Math.min(y+m,i),m=M-y):(M=s+m,y=Math.max(M-m,0),m=M-y)):(y=s,M=y+m,b?(k=l+A,w=Math.max(k-A,0),A=k-w):(w=l,k=Math.min(w+A,o),A=k-w)),this._box={l:w,t:y,w:A,h:m};var _=u>A,p=Dt.barLength+2*Dt.barPad,c=Dt.barWidth+2*Dt.barPad,S=l,h=s+f;h+c>i&&(h=i-c);var R=this.container.selectAll("rect.scrollbar-horizontal").data(_?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(RD.fill,Dt.barColor),_?(this.hbar=R.attr({rx:Dt.barRadius,ry:Dt.barRadius,x:S,y:h,width:p,height:c}),this._hbarXMin=S+p/2,this._hbarTranslateMax=A-p):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var E=f>m,D=Dt.barWidth+2*Dt.barPad,N=Dt.barLength+2*Dt.barPad,I=l+u,F=s;I+D>o&&(I=o-D);var L=this.container.selectAll("rect.scrollbar-vertical").data(E?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(RD.fill,Dt.barColor),E?(this.vbar=L.attr({rx:Dt.barRadius,ry:Dt.barRadius,x:I,y:F,width:D,height:N}),this._vbarYMin=F+N/2,this._vbarTranslateMax=m-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var P=this.id,q=w-.5,U=E?k+D+.5:k+.5,W=y-.5,j=_?M+c+.5:M+.5,$=a._topdefs.selectAll("#"+P).data(_||E?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",P).append("rect"),_||E?(this._clipRect=$.select("rect").attr({x:Math.floor(q),y:Math.floor(W),width:Math.ceil(U)-Math.floor(q),height:Math.ceil(j)-Math.floor(W)}),this.container.call(Wu.setClipUrl,P,this.gd),this.bg.attr({x:l,y:s,width:u,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Wu.setClipUrl,null),delete this._clipRect),_||E){var G=di.behavior.drag().on("dragstart",function(){di.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(G);var O=di.behavior.drag().on("dragstart",function(){di.event.sourceEvent.preventDefault(),di.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));_&&this.hbar.on(".drag",null).call(O),E&&this.vbar.on(".drag",null).call(O)}this.setTranslate(t,n)};Dt.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Wu.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)};Dt.prototype._onBoxDrag=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r-=di.event.dx),this.vbar&&(t-=di.event.dy),this.setTranslate(r,t)};Dt.prototype._onBoxWheel=function(){var r=this.translateX,t=this.translateY;this.hbar&&(r+=di.event.deltaY),this.vbar&&(t+=di.event.deltaY),this.setTranslate(r,t)};Dt.prototype._onBarDrag=function(){var r=this.translateX,t=this.translateY;if(this.hbar){var n=r+this._hbarXMin,a=n+this._hbarTranslateMax,o=ad.constrain(di.event.x,n,a),i=(o-n)/(a-n),l=this.position.w-this._box.w;r=i*l}if(this.vbar){var u=t+this._vbarYMin,s=u+this._vbarTranslateMax,f=ad.constrain(di.event.y,u,s),v=(f-u)/(s-u),g=this.position.h-this._box.h;t=v*g}this.setTranslate(r,t)};Dt.prototype.setTranslate=function(r,t){var n=this.position.w-this._box.w,a=this.position.h-this._box.h;if(r=ad.constrain(r||0,0,n),t=ad.constrain(t||0,0,a),this.translateX=r,this.translateY=t,this.container.call(Wu.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var o=r/n;this.hbar.call(Wu.setTranslate,r+o*this._hbarTranslateMax,t)}if(this.vbar){var i=t/a;this.vbar.call(Wu.setTranslate,r,t+i*this._vbarTranslateMax)}}});var VD=pe((Hde,HD)=>{"use strict";var Xu=it(),Z0=nn(),J0=Kr(),Zu=yt(),Ma=ir(),id=Xn(),One=gt().arrayEditor,ID=Bn().LINE_SPACING,Dr=td(),qne=PD();HD.exports=function(r){var t=r._fullLayout,n=Ma.filterVisible(t[Dr.name]);function a(g){Z0.autoMargin(r,BD(g))}var o=t._menulayer.selectAll("g."+Dr.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append("g").classed(Dr.containerClassName,!0).style("cursor","pointer"),o.exit().each(function(){Xu.select(this).selectAll("g."+Dr.headerGroupClassName).each(a)}).remove(),n.length!==0){var i=o.selectAll("g."+Dr.headerGroupClassName).data(n,Bne);i.enter().append("g").classed(Dr.headerGroupClassName,!0);for(var l=Ma.ensureSingle(o,"g",Dr.dropdownButtonGroupClassName,function(g){g.style("pointer-events","all")}),u=0;u<n.length;u++){var s=n[u];Wne(r,s)}var f="updatemenus"+t._uid,v=new qne(r,l,f);i.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call(p3)),i.exit().each(function(g){l.call(p3),a(g)}).remove(),i.each(function(g){var b=Xu.select(this),x=g.type==="dropdown"?l:null;Z0.manageCommandObserver(r,g,g.buttons,function(T){d3(r,g,g.buttons[T.index],b,x,v,T.index,!0)}),g.type==="dropdown"?(zD(r,b,l,v,g),ND(l,g)&&K0(r,b,l,v,g)):K0(r,b,null,null,g)})}};function Bne(e){return e._index}function Une(e){return+e.attr(Dr.menuIndexAttrName)==-1}function ND(e,r){return+e.attr(Dr.menuIndexAttrName)===r._index}function d3(e,r,t,n,a,o,i,l){r.active=i,One(e.layout,Dr.name,r).applyUpdate("active",i),r.type==="buttons"?K0(e,n,null,null,r):r.type==="dropdown"&&(a.attr(Dr.menuIndexAttrName,"-1"),zD(e,n,a,o,r),l||K0(e,n,a,o,r))}function zD(e,r,t,n,a){var o=Ma.ensureSingle(r,"g",Dr.headerClassName,function(g){g.style("pointer-events","all")}),i=a._dims,l=a.active,u=a.buttons[l]||Dr.blankHeaderOpts,s={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},f={width:i.headerWidth,height:i.headerHeight};o.call(g3,a,u,e).call(UD,a,s,f);var v=Ma.ensureSingle(r,"text",Dr.headerArrowClassName,function(g){g.attr("text-anchor","end").call(Zu.font,a.font).text(Dr.arrowSymbol[a.direction])});v.attr({x:i.headerWidth-Dr.arrowOffsetX+a.pad.l,y:i.headerHeight/2+Dr.textOffsetY+a.pad.t}),o.on("click",function(){t.call(p3,String(ND(t,a)?-1:a._index)),K0(e,r,t,n,a)}),o.on("mouseover",function(){o.call(OD)}),o.on("mouseout",function(){o.call(qD,a)}),Zu.setTranslate(r,i.lx,i.ly)}function K0(e,r,t,n,a){t||(t=r,t.attr("pointer-events","all"));var o=!Une(t)||a.type==="buttons"?a.buttons:[],i=a.type==="dropdown"?Dr.dropdownButtonClassName:Dr.buttonClassName,l=t.selectAll("g."+i).data(Ma.filterVisible(o)),u=l.enter().append("g").classed(i,!0),s=l.exit();a.type==="dropdown"?(u.attr("opacity","0").transition().attr("opacity","1"),s.transition().attr("opacity","0").remove()):s.remove();var f=0,v=0,g=a._dims,b=["up","down"].indexOf(a.direction)!==-1;a.type==="dropdown"&&(b?v=g.headerHeight+Dr.gapButtonHeader:f=g.headerWidth+Dr.gapButtonHeader),a.type==="dropdown"&&a.direction==="up"&&(v=-Dr.gapButtonHeader+Dr.gapButton-g.openHeight),a.type==="dropdown"&&a.direction==="left"&&(f=-Dr.gapButtonHeader+Dr.gapButton-g.openWidth);var x={x:g.lx+f+a.pad.l,y:g.ly+v+a.pad.t,yPad:Dr.gapButton,xPad:Dr.gapButton,index:0},T={l:x.x+a.borderwidth,t:x.y+a.borderwidth};l.each(function(A,m){var w=Xu.select(this);w.call(g3,a,A,e).call(UD,a,x),w.on("click",function(){Xu.event.defaultPrevented||(A.execute&&(A.args2&&a.active===m?(d3(e,a,A,r,t,n,-1),Z0.executeAPICommand(e,A.method,A.args2)):(d3(e,a,A,r,t,n,m),Z0.executeAPICommand(e,A.method,A.args))),e.emit("plotly_buttonclicked",{menu:a,button:A,active:a.active}))}),w.on("mouseover",function(){w.call(OD)}),w.on("mouseout",function(){w.call(qD,a),l.call(FD,a)})}),l.call(FD,a),b?(T.w=Math.max(g.openWidth,g.headerWidth),T.h=x.y-T.t):(T.w=x.x-T.l,T.h=Math.max(g.openHeight,g.headerHeight)),T.direction=a.direction,n&&(l.size()?Hne(e,r,t,n,a,T):Vne(n))}function Hne(e,r,t,n,a,o){var i=a.direction,l=i==="up"||i==="down",u=a._dims,s=a.active,f,v,g;if(l)for(v=0,g=0;g<s;g++)v+=u.heights[g]+Dr.gapButton;else for(f=0,g=0;g<s;g++)f+=u.widths[g]+Dr.gapButton;n.enable(o,f,v),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}function Vne(e){var r=!!e.hbar,t=!!e.vbar;r&&e.hbar.transition().attr("opacity","0").each("end",function(){r=!1,t||e.disable()}),t&&e.vbar.transition().attr("opacity","0").each("end",function(){t=!1,r||e.disable()})}function g3(e,r,t,n){e.call(Gne,r).call(Yne,r,t,n)}function Gne(e,r){var t=Ma.ensureSingle(e,"rect",Dr.itemRectClassName,function(n){n.attr({rx:Dr.rx,ry:Dr.ry,"shape-rendering":"crispEdges"})});t.call(J0.stroke,r.bordercolor).call(J0.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function Yne(e,r,t,n){var a=Ma.ensureSingle(e,"text",Dr.itemTextClassName,function(l){l.attr({"text-anchor":"start","data-notex":1})}),o=t.label,i=n._fullLayout._meta;i&&(o=Ma.templateString(o,i)),a.call(Zu.font,r.font).text(o).call(id.convertToTspans,n)}function FD(e,r){var t=r.active;e.each(function(n,a){var o=Xu.select(this);a===t&&r.showactive&&o.select("rect."+Dr.itemRectClassName).call(J0.fill,Dr.activeColor)})}function OD(e){e.select("rect."+Dr.itemRectClassName).call(J0.fill,Dr.hoverColor)}function qD(e,r){e.select("rect."+Dr.itemRectClassName).call(J0.fill,r.bgcolor)}function Wne(e,r){var t=r._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},n=Zu.tester.selectAll("g."+Dr.dropdownButtonClassName).data(Ma.filterVisible(r.buttons));n.enter().append("g").classed(Dr.dropdownButtonClassName,!0);var a=["up","down"].indexOf(r.direction)!==-1;n.each(function(f,v){var g=Xu.select(this);g.call(g3,r,f,e);var b=g.select("."+Dr.itemTextClassName),x=b.node()&&Zu.bBox(b.node()).width,T=Math.max(x+Dr.textPadX,Dr.minWidth),A=r.font.size*ID,m=id.lineCount(b),w=Math.max(A*m,Dr.minHeight)+Dr.textOffsetY;w=Math.ceil(w),T=Math.ceil(T),t.widths[v]=T,t.heights[v]=w,t.height1=Math.max(t.height1,w),t.width1=Math.max(t.width1,T),a?(t.totalWidth=Math.max(t.totalWidth,T),t.openWidth=t.totalWidth,t.totalHeight+=w+Dr.gapButton,t.openHeight+=w+Dr.gapButton):(t.totalWidth+=T+Dr.gapButton,t.openWidth+=T+Dr.gapButton,t.totalHeight=Math.max(t.totalHeight,w),t.openHeight=t.totalHeight)}),a?t.totalHeight-=Dr.gapButton:t.totalWidth-=Dr.gapButton,t.headerWidth=t.width1+Dr.arrowPadX,t.headerHeight=t.height1,r.type==="dropdown"&&(a?(t.width1+=Dr.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=Dr.arrowPadX),n.remove();var o=t.totalWidth+r.pad.l+r.pad.r,i=t.totalHeight+r.pad.t+r.pad.b,l=e._fullLayout._size;t.lx=l.l+l.w*r.x,t.ly=l.t+l.h*(1-r.y);var u="left";Ma.isRightAnchor(r)&&(t.lx-=o,u="right"),Ma.isCenterAnchor(r)&&(t.lx-=o/2,u="center");var s="top";Ma.isBottomAnchor(r)&&(t.ly-=i,s="bottom"),Ma.isMiddleAnchor(r)&&(t.ly-=i/2,s="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),Z0.autoMargin(e,BD(r),{x:r.x,y:r.y,l:o*({right:1,center:.5}[u]||0),r:o*({left:1,center:.5}[u]||0),b:i*({top:1,middle:.5}[s]||0),t:i*({bottom:1,middle:.5}[s]||0)})}function BD(e){return Dr.autoMarginIdRoot+e._index}function UD(e,r,t,n){n=n||{};var a=e.select("."+Dr.itemRectClassName),o=e.select("."+Dr.itemTextClassName),i=r.borderwidth,l=t.index,u=r._dims;Zu.setTranslate(e,i+t.x,i+t.y);var s=["up","down"].indexOf(r.direction)!==-1,f=n.height||(s?u.heights[l]:u.height1);a.attr({x:0,y:0,width:n.width||(s?u.width1:u.widths[l]),height:f});var v=r.font.size*ID,g=id.lineCount(o),b=(g-1)*v/2;id.positionText(o,Dr.textOffsetX,f/2-b+Dr.textOffsetY),s?t.y+=u.heights[l]+t.yPad:t.x+=u.widths[l]+t.xPad,t.index++}function p3(e,r){e.attr(Dr.menuIndexAttrName,r||"-1").selectAll("g."+Dr.dropdownButtonClassName).remove()}});var YD=pe((Vde,GD)=>{"use strict";var Xne=td();GD.exports={moduleType:"component",name:Xne.name,layoutAttributes:h3(),supplyLayoutDefaults:LD(),draw:VD()}});var Q0=pe((Gde,WD)=>{"use strict";WD.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}});var y3=pe((Yde,JD)=>{"use strict";var XD=Sn(),Zne=fv(),Jne=Mt().extendDeepAll,Kne=qn().overrideAll,Qne=kf(),ZD=gt().templatedArray,xs=Q0(),$ne=ZD("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});JD.exports=Kne(ZD("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:$ne,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:Jne(Zne({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:Qne.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:XD({})},font:XD({}),activebgcolor:{valType:"color",dflt:xs.gripBgActiveColor},bgcolor:{valType:"color",dflt:xs.railBgColor},bordercolor:{valType:"color",dflt:xs.railBorderColor},borderwidth:{valType:"number",min:0,dflt:xs.railBorderWidth},ticklen:{valType:"number",min:0,dflt:xs.tickLength},tickcolor:{valType:"color",dflt:xs.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:xs.minorTickLength}}),"arraydraw","from-root")});var jD=pe((Wde,$D)=>{"use strict";var Ju=ir(),KD=ai(),QD=y3(),jne=Q0(),eae=jne.name,rae=QD.steps;$D.exports=function(r,t){KD(r,t,{name:eae,handleItemDefaults:tae})};function tae(e,r,t){function n(v,g){return Ju.coerce(e,r,QD,v,g)}for(var a=KD(e,r,{name:"steps",handleItemDefaults:nae}),o=0,i=0;i<a.length;i++)a[i].visible&&o++;var l;if(o<2?l=r.visible=!1:l=n("visible"),!!l){r._stepCount=o;var u=r._visibleSteps=Ju.filterVisible(a),s=n("active");(a[s]||{}).visible||(r.active=u[0]._index),n("x"),n("y"),Ju.noneOrAll(e,r,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),Ju.coerceFont(n,"font",t.font);var f=n("currentvalue.visible");f&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),Ju.coerceFont(n,"currentvalue.font",r.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function nae(e,r){function t(o,i){return Ju.coerce(e,r,rae,o,i)}var n;if(e.method!=="skip"&&!Array.isArray(e.args)?n=r.visible=!1:n=t("visible"),n){t("method"),t("args");var a=t("label","step-"+r._index);t("value",a),t("execute")}}});var uP=pe((Xde,sP)=>{"use strict";var pi=it(),od=nn(),ul=Kr(),gi=yt(),Aa=ir(),aae=Aa.strTranslate,$0=Xn(),iae=gt().arrayEditor,Yr=Q0(),b3=Bn(),tP=b3.LINE_SPACING,m3=b3.FROM_TL,x3=b3.FROM_BR;sP.exports=function(r){var t=r._context.staticPlot,n=r._fullLayout,a=oae(n,r),o=n._infolayer.selectAll("g."+Yr.containerClassName).data(a.length>0?[0]:[]);o.enter().append("g").classed(Yr.containerClassName,!0).style("cursor",t?null:"ew-resize");function i(f){f._commandObserver&&(f._commandObserver.remove(),delete f._commandObserver),od.autoMargin(r,nP(f))}if(o.exit().each(function(){pi.select(this).selectAll("g."+Yr.groupClassName).each(i)}).remove(),a.length!==0){var l=o.selectAll("g."+Yr.groupClassName).data(a,lae);l.enter().append("g").classed(Yr.groupClassName,!0),l.exit().each(i).remove();for(var u=0;u<a.length;u++){var s=a[u];sae(r,s)}l.each(function(f){var v=pi.select(this);hae(f),od.manageCommandObserver(r,f,f._visibleSteps,function(g){var b=v.data()[0];b.active!==g.index&&(b._dragging||iP(r,v,b,g.index,!1,!0))}),uae(r,pi.select(this),f)})}};function nP(e){return Yr.autoMarginIdRoot+e._index}function oae(e,r){for(var t=e[Yr.name],n=[],a=0;a<t.length;a++){var o=t[a];o.visible&&(o._gd=r,n.push(o))}return n}function lae(e){return e._index}function sae(e,r){var t=gi.tester.selectAll("g."+Yr.labelGroupClass).data(r._visibleSteps);t.enter().append("g").classed(Yr.labelGroupClass,!0);var n=0,a=0;t.each(function(x){var T=pi.select(this),A=aP(T,{step:x},r),m=A.node();if(m){var w=gi.bBox(m);a=Math.max(a,w.height),n=Math.max(n,w.width)}}),t.remove();var o=r._dims={};o.inputAreaWidth=Math.max(Yr.railWidth,Yr.gripHeight);var i=e._fullLayout._size;o.lx=i.l+i.w*r.x,o.ly=i.t+i.h*(1-r.y),r.lenmode==="fraction"?o.outerLength=Math.round(i.w*r.len):o.outerLength=r.len,o.inputAreaStart=0,o.inputAreaLength=Math.round(o.outerLength-r.pad.l-r.pad.r);var l=o.inputAreaLength-2*Yr.stepInset,u=l/(r._stepCount-1),s=n+Yr.labelPadding;if(o.labelStride=Math.max(1,Math.ceil(s/u)),o.labelHeight=a,o.currentValueMaxWidth=0,o.currentValueHeight=0,o.currentValueTotalHeight=0,o.currentValueMaxLines=1,r.currentvalue.visible){var f=gi.tester.append("g");t.each(function(x){var T=ld(f,r,x.label),A=T.node()&&gi.bBox(T.node())||{width:0,height:0},m=$0.lineCount(T);o.currentValueMaxWidth=Math.max(o.currentValueMaxWidth,Math.ceil(A.width)),o.currentValueHeight=Math.max(o.currentValueHeight,Math.ceil(A.height)),o.currentValueMaxLines=Math.max(o.currentValueMaxLines,m)}),o.currentValueTotalHeight=o.currentValueHeight+r.currentvalue.offset,f.remove()}o.height=o.currentValueTotalHeight+Yr.tickOffset+r.ticklen+Yr.labelOffset+o.labelHeight+r.pad.t+r.pad.b;var v="left";Aa.isRightAnchor(r)&&(o.lx-=o.outerLength,v="right"),Aa.isCenterAnchor(r)&&(o.lx-=o.outerLength/2,v="center");var g="top";Aa.isBottomAnchor(r)&&(o.ly-=o.height,g="bottom"),Aa.isMiddleAnchor(r)&&(o.ly-=o.height/2,g="middle"),o.outerLength=Math.ceil(o.outerLength),o.height=Math.ceil(o.height),o.lx=Math.round(o.lx),o.ly=Math.round(o.ly);var b={y:r.y,b:o.height*x3[g],t:o.height*m3[g]};r.lenmode==="fraction"?(b.l=0,b.xl=r.x-r.len*m3[v],b.r=0,b.xr=r.x+r.len*x3[v]):(b.x=r.x,b.l=o.outerLength*m3[v],b.r=o.outerLength*x3[v]),od.autoMargin(e,nP(r),b)}function uae(e,r,t){(t.steps[t.active]||{}).visible||(t.active=t._visibleSteps[0]._index),r.call(ld,t).call(pae,t).call(cae,t).call(vae,t).call(dae,e,t).call(fae,e,t);var n=t._dims;gi.setTranslate(r,n.lx+t.pad.l,n.ly+t.pad.t),r.call(lP,t,!1),r.call(ld,t)}function ld(e,r,t){if(r.currentvalue.visible){var n=r._dims,a,o;switch(r.currentvalue.xanchor){case"right":a=n.inputAreaLength-Yr.currentValueInset-n.currentValueMaxWidth,o="left";break;case"center":a=n.inputAreaLength*.5,o="middle";break;default:a=Yr.currentValueInset,o="left"}var i=Aa.ensureSingle(e,"text",Yr.labelClass,function(g){g.attr({"text-anchor":o,"data-notex":1})}),l=r.currentvalue.prefix?r.currentvalue.prefix:"";if(typeof t=="string")l+=t;else{var u=r.steps[r.active].label,s=r._gd._fullLayout._meta;s&&(u=Aa.templateString(u,s)),l+=u}r.currentvalue.suffix&&(l+=r.currentvalue.suffix),i.call(gi.font,r.currentvalue.font).text(l).call($0.convertToTspans,r._gd);var f=$0.lineCount(i),v=(n.currentValueMaxLines+1-f)*r.currentvalue.font.size*tP;return $0.positionText(i,a,v),i}}function fae(e,r,t){var n=Aa.ensureSingle(e,"rect",Yr.gripRectClass,function(a){a.call(oP,r,e,t).style("pointer-events","all")});n.attr({width:Yr.gripWidth,height:Yr.gripHeight,rx:Yr.gripRadius,ry:Yr.gripRadius}).call(ul.stroke,t.bordercolor).call(ul.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function aP(e,r,t){var n=Aa.ensureSingle(e,"text",Yr.labelClass,function(i){i.attr({"text-anchor":"middle","data-notex":1})}),a=r.step.label,o=t._gd._fullLayout._meta;return o&&(a=Aa.templateString(a,o)),n.call(gi.font,t.font).text(a).call($0.convertToTspans,t._gd),n}function cae(e,r){var t=Aa.ensureSingle(e,"g",Yr.labelsClass),n=r._dims,a=t.selectAll("g."+Yr.labelGroupClass).data(n.labelSteps);a.enter().append("g").classed(Yr.labelGroupClass,!0),a.exit().remove(),a.each(function(o){var i=pi.select(this);i.call(aP,o,r),gi.setTranslate(i,_3(r,o.fraction),Yr.tickOffset+r.ticklen+r.font.size*tP+Yr.labelOffset+n.currentValueTotalHeight)})}function eP(e,r,t,n,a){var o=Math.round(n*(t._stepCount-1)),i=t._visibleSteps[o]._index;i!==t.active&&iP(e,r,t,i,!0,a)}function iP(e,r,t,n,a,o){var i=t.active;t.active=n,iae(e.layout,Yr.name,t).applyUpdate("active",n);var l=t.steps[t.active];r.call(lP,t,o),r.call(ld,t),e.emit("plotly_sliderchange",{slider:t,step:t.steps[t.active],interaction:a,previousActive:i}),l&&l.method&&a&&(r._nextMethod?(r._nextMethod.step=l,r._nextMethod.doCallback=a,r._nextMethod.doTransition=o):(r._nextMethod={step:l,doCallback:a,doTransition:o},r._nextMethodRaf=window.requestAnimationFrame(function(){var u=r._nextMethod.step;u.method&&(u.execute&&od.executeAPICommand(e,u.method,u.args),r._nextMethod=null,r._nextMethodRaf=null)})))}function oP(e,r,t){if(r._context.staticPlot)return;var n=t.node(),a=pi.select(r);function o(){return t.data()[0]}function i(){var l=o();r.emit("plotly_sliderstart",{slider:l});var u=t.select("."+Yr.gripRectClass);pi.event.stopPropagation(),pi.event.preventDefault(),u.call(ul.fill,l.activebgcolor);var s=rP(l,pi.mouse(n)[0]);eP(r,t,l,s,!0),l._dragging=!0;function f(){var g=o(),b=rP(g,pi.mouse(n)[0]);eP(r,t,g,b,!1)}a.on("mousemove",f),a.on("touchmove",f);function v(){var g=o();g._dragging=!1,u.call(ul.fill,g.bgcolor),a.on("mouseup",null),a.on("mousemove",null),a.on("touchend",null),a.on("touchmove",null),r.emit("plotly_sliderend",{slider:g,step:g.steps[g.active]})}a.on("mouseup",v),a.on("touchend",v)}e.on("mousedown",i),e.on("touchstart",i)}function vae(e,r){var t=e.selectAll("rect."+Yr.tickRectClass).data(r._visibleSteps),n=r._dims;t.enter().append("rect").classed(Yr.tickRectClass,!0),t.exit().remove(),t.attr({width:r.tickwidth+"px","shape-rendering":"crispEdges"}),t.each(function(a,o){var i=o%n.labelStride===0,l=pi.select(this);l.attr({height:i?r.ticklen:r.minorticklen}).call(ul.fill,r.tickcolor),gi.setTranslate(l,_3(r,o/(r._stepCount-1))-.5*r.tickwidth,(i?Yr.tickOffset:Yr.minorTickOffset)+n.currentValueTotalHeight)})}function hae(e){var r=e._dims;r.labelSteps=[];for(var t=e._stepCount,n=0;n<t;n+=r.labelStride)r.labelSteps.push({fraction:n/(t-1),step:e._visibleSteps[n]})}function lP(e,r,t){for(var n=e.select("rect."+Yr.gripRectClass),a=0,o=0;o<r._stepCount;o++)if(r._visibleSteps[o]._index===r.active){a=o;break}var i=_3(r,a/(r._stepCount-1));if(!r._invokingCommand){var l=n;t&&r.transition.duration>0&&(l=l.transition().duration(r.transition.duration).ease(r.transition.easing)),l.attr("transform",aae(i-Yr.gripWidth*.5,r._dims.currentValueTotalHeight))}}function _3(e,r){var t=e._dims;return t.inputAreaStart+Yr.stepInset+(t.inputAreaLength-2*Yr.stepInset)*Math.min(1,Math.max(0,r))}function rP(e,r){var t=e._dims;return Math.min(1,Math.max(0,(r-Yr.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*Yr.stepInset-2*t.inputAreaStart)))}function dae(e,r,t){var n=t._dims,a=Aa.ensureSingle(e,"rect",Yr.railTouchRectClass,function(o){o.call(oP,r,e,t).style("pointer-events","all")});a.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,Yr.tickOffset+t.ticklen+n.labelHeight)}).call(ul.fill,t.bgcolor).attr("opacity",0),gi.setTranslate(a,0,n.currentValueTotalHeight)}function pae(e,r){var t=r._dims,n=t.inputAreaLength-Yr.railInset*2,a=Aa.ensureSingle(e,"rect",Yr.railRectClass);a.attr({width:n,height:Yr.railWidth,rx:Yr.railRadius,ry:Yr.railRadius,"shape-rendering":"crispEdges"}).call(ul.stroke,r.bordercolor).call(ul.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px"),gi.setTranslate(a,Yr.railInset,(t.inputAreaWidth-Yr.railWidth)*.5+t.currentValueTotalHeight)}});var cP=pe((Zde,fP)=>{"use strict";var gae=Q0();fP.exports={moduleType:"component",name:gae.name,layoutAttributes:y3(),supplyLayoutDefaults:jD(),draw:uP()}});var sd=pe((Jde,hP)=>{"use strict";var vP=Si();hP.exports={bgcolor:{valType:"color",dflt:vP.background,editType:"plot"},bordercolor:{valType:"color",dflt:vP.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}});var w3=pe((Kde,dP)=>{"use strict";dP.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}});var ud=pe((Qde,pP)=>{"use strict";pP.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}});var mP=pe(cd=>{"use strict";var yae=un(),mae=Xn(),gP=ud(),xae=Bn().LINE_SPACING,fd=gP.name;function yP(e){var r=e&&e[fd];return r&&r.visible}cd.isVisible=yP;cd.makeData=function(e){var r=yae.list({_fullLayout:e},"x",!0),t=e.margin,n=[];if(!e._has("gl2d"))for(var a=0;a<r.length;a++){var o=r[a];if(yP(o)){n.push(o);var i=o[fd];i._id=fd+o._id,i._height=(e.height-t.b-t.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2)}}e._rangeSliderData=n};cd.autoMarginOpts=function(e,r){var t=e._fullLayout,n=r[fd],a=r._id.charAt(0),o=0,i=0;if(r.side==="bottom"&&(o=r._depth,r.title.text!==t._dfltTitle[a])){i=1.5*r.title.font.size+10+n._offsetShift;var l=(r.title.text.match(mae.BR_TAG_ALL)||[]).length;i+=l*r.title.font.size*xae}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:n._height+o+Math.max(t.margin.b,i),pad:gP.extraPad+n._offsetShift*2}}});var wP=pe((jde,_P)=>{"use strict";var vd=ir(),xP=gt(),bP=un(),bae=sd(),_ae=w3();_P.exports=function(r,t,n){var a=r[n],o=t[n];if(!(a.rangeslider||t._requestRangeslider[o._id]))return;vd.isPlainObject(a.rangeslider)||(a.rangeslider={});var i=a.rangeslider,l=xP.newContainer(o,"rangeslider");function u(M,d){return vd.coerce(i,l,bae,M,d)}var s,f;function v(M,d){return vd.coerce(s,f,_ae,M,d)}var g=u("visible");if(g){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!o.isValidRange(i.range)),u("range");var b=t._subplots;if(b)for(var x=b.cartesian.filter(function(M){return M.substr(0,M.indexOf("y"))===bP.name2id(n)}).map(function(M){return M.substr(M.indexOf("y"),M.length)}),T=vd.simpleMap(x,bP.id2name),A=0;A<T.length;A++){var m=T[A];s=i[m]||{},f=xP.newContainer(l,m,"yaxis");var w=t[m],k;s.range&&w.isValidRange(s.range)&&(k="fixed");var y=v("rangemode",k);y!=="match"&&v("range",w.range.slice())}l._input=i}}});var MP=pe((epe,TP)=>{"use strict";var wae=un().list,Tae=cu().getAutoRange,Mae=ud();TP.exports=function(r){for(var t=wae(r,"x",!0),n=0;n<t.length;n++){var a=t[n],o=a[Mae.name];o&&o.visible&&o.autorange&&(o._input.autorange=!0,o._input.range=o.range=Tae(r,a))}}});var CP=pe((rpe,SP)=>{"use strict";var hd=it(),Aae=Cr(),kae=nn(),Ot=ir(),dd=Ot.strTranslate,kP=yt(),fl=Kr(),Sae=Yf(),Cae=Jm(),T3=un(),Eae=oi(),Lae=Jo(),Qr=ud();SP.exports=function(e){for(var r=e._fullLayout,t=r._rangeSliderData,n=0;n<t.length;n++){var a=t[n][Qr.name];a._clipId=a._id+"-"+r._uid}function o(l){return l._name}var i=r._infolayer.selectAll("g."+Qr.containerClassName).data(t,o);i.exit().each(function(l){var u=l[Qr.name];r._topdefs.select("#"+u._clipId).remove()}).remove(),t.length!==0&&(i.enter().append("g").classed(Qr.containerClassName,!0).attr("pointer-events","all"),i.each(function(l){var u=hd.select(this),s=l[Qr.name],f=r[T3.id2name(l.anchor)],v=s[T3.id2name(l.anchor)];if(s.range){var g=Ot.simpleMap(s.range,l.r2l),b=Ot.simpleMap(l.range,l.r2l),x;b[0]<b[1]?x=[Math.min(g[0],b[0]),Math.max(g[1],b[1])]:x=[Math.max(g[0],b[0]),Math.min(g[1],b[1])],s.range=s._input.range=Ot.simpleMap(x,l.l2r)}l.cleanRange("rangeslider.range");var T=r._size,A=l.domain;s._width=T.w*(A[1]-A[0]);var m=Math.round(T.l+T.w*A[0]),w=Math.round(T.t+T.h*(1-l._counterDomainMin)+(l.side==="bottom"?l._depth:0)+s._offsetShift+Qr.extraPad);u.attr("transform",dd(m,w)),s._rl=Ot.simpleMap(s.range,l.r2l);var k=s._rl[0],y=s._rl[1],M=y-k;if(s.p2d=function(N){return N/s._width*M+k},s.d2p=function(N){return(N-k)/M*s._width},l.rangebreaks){var d=l.locateBreaks(k,y);if(d.length){var _,p,c=0;for(_=0;_<d.length;_++)p=d[_],c+=p.max-p.min;var S=s._width/(y-k-c),h=[-S*k];for(_=0;_<d.length;_++)p=d[_],h.push(h[h.length-1]-S*(p.max-p.min));for(s.d2p=function(N){for(var I=h[0],F=0;F<d.length;F++){var L=d[F];if(N>=L.max)I=h[F+1];else if(N<L.min)break}return I+S*N},_=0;_<d.length;_++)p=d[_],p.pmin=s.d2p(p.min),p.pmax=s.d2p(p.max);s.p2d=function(N){for(var I=h[0],F=0;F<d.length;F++){var L=d[F];if(N>=L.pmax)I=h[F+1];else if(N<L.pmin)break}return(N-I)/S}}}if(v.rangemode!=="match"){var R=f.r2l(v.range[0]),E=f.r2l(v.range[1]),D=E-R;s.d2pOppAxis=function(N){return(N-R)/D*s._height}}u.call(Fae,e,l,s).call(Iae,e,l,s).call(Nae,e,l,s).call(Oae,e,l,s,v).call(qae,e,l,s).call(Bae,e,l,s),Rae(u,e,l,s),Pae(u,e,l,s,f,v),l.side==="bottom"&&Sae.draw(e,l._id+"title",{propContainer:l,propName:l._name+".title",placeholder:r._dfltTitle.x,attributes:{x:l._offset+l._length/2,y:w+s._height+s._offsetShift+10+1.5*l.title.font.size,"text-anchor":"middle"}})}))};function AP(e){return typeof e.clientX=="number"?e.clientX:e.touches&&e.touches.length>0?e.touches[0].clientX:0}function Rae(e,r,t,n){if(r._context.staticPlot)return;var a=e.select("rect."+Qr.slideBoxClassName).node(),o=e.select("rect."+Qr.grabAreaMinClassName).node(),i=e.select("rect."+Qr.grabAreaMaxClassName).node();function l(){var u=hd.event,s=u.target,f=AP(u),v=f-e.node().getBoundingClientRect().left,g=n.d2p(t._rl[0]),b=n.d2p(t._rl[1]),x=Eae.coverSlip();this.addEventListener("touchmove",T),this.addEventListener("touchend",A),x.addEventListener("mousemove",T),x.addEventListener("mouseup",A);function T(m){var w=AP(m),k=+w-f,y,M,d;switch(s){case a:if(d="ew-resize",g+k>t._length||b+k<0)return;y=g+k,M=b+k;break;case o:if(d="col-resize",g+k>t._length)return;y=g+k,M=b;break;case i:if(d="col-resize",b+k<0)return;y=g,M=b+k;break;default:d="ew-resize",y=v,M=v+k;break}if(M<y){var _=M;M=y,y=_}n._pixelMin=y,n._pixelMax=M,Lae(hd.select(x),d),Dae(e,r,t,n)}function A(){x.removeEventListener("mousemove",T),x.removeEventListener("mouseup",A),this.removeEventListener("touchmove",T),this.removeEventListener("touchend",A),Ot.removeElement(x)}}e.on("mousedown",l),e.on("touchstart",l)}function Dae(e,r,t,n){function a(l){return t.l2r(Ot.constrain(l,n._rl[0],n._rl[1]))}var o=a(n.p2d(n._pixelMin)),i=a(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){Aae.call("_guiRelayout",r,t._name+".range",[o,i])})}function Pae(e,r,t,n,a,o){var i=Qr.handleWidth/2;function l(m){return Ot.constrain(m,0,n._width)}function u(m){return Ot.constrain(m,0,n._height)}function s(m){return Ot.constrain(m,-i,n._width+i)}var f=l(n.d2p(t._rl[0])),v=l(n.d2p(t._rl[1]));if(e.select("rect."+Qr.slideBoxClassName).attr("x",f).attr("width",v-f),e.select("rect."+Qr.maskMinClassName).attr("width",f),e.select("rect."+Qr.maskMaxClassName).attr("x",v).attr("width",n._width-v),o.rangemode!=="match"){var g=n._height-u(n.d2pOppAxis(a._rl[1])),b=n._height-u(n.d2pOppAxis(a._rl[0]));e.select("rect."+Qr.maskMinOppAxisClassName).attr("x",f).attr("height",g).attr("width",v-f),e.select("rect."+Qr.maskMaxOppAxisClassName).attr("x",f).attr("y",b).attr("height",n._height-b).attr("width",v-f),e.select("rect."+Qr.slideBoxClassName).attr("y",g).attr("height",b-g)}var x=.5,T=Math.round(s(f-i))-x,A=Math.round(s(v-i))+x;e.select("g."+Qr.grabberMinClassName).attr("transform",dd(T,x)),e.select("g."+Qr.grabberMaxClassName).attr("transform",dd(A,x))}function Fae(e,r,t,n){var a=Ot.ensureSingle(e,"rect",Qr.bgClassName,function(u){u.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),o=n.borderwidth%2===0?n.borderwidth:n.borderwidth-1,i=-n._offsetShift,l=kP.crispRound(r,n.borderwidth);a.attr({width:n._width+o,height:n._height+o,transform:dd(i,i),"stroke-width":l}).call(fl.stroke,n.bordercolor).call(fl.fill,n.bgcolor)}function Iae(e,r,t,n){var a=r._fullLayout,o=Ot.ensureSingleById(a._topdefs,"clipPath",n._clipId,function(i){i.append("rect").attr({x:0,y:0})});o.select("rect").attr({width:n._width,height:n._height})}function Nae(e,r,t,n){var a=r.calcdata,o=e.selectAll("g."+Qr.rangePlotClassName).data(t._subplotsWith,Ot.identity);o.enter().append("g").attr("class",function(l){return Qr.rangePlotClassName+" "+l}).call(kP.setClipUrl,n._clipId,r),o.order(),o.exit().remove();var i;o.each(function(l,u){var s=hd.select(this),f=u===0,v=T3.getFromId(r,l,"y"),g=v._name,b=n[g],x={data:[],layout:{xaxis:{type:t.type,domain:[0,1],range:n.range.slice(),calendar:t.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:r._context};t.rangebreaks&&(x.layout.xaxis.rangebreaks=t.rangebreaks),x.layout[g]={type:v.type,domain:[0,1],range:b.rangemode!=="match"?b.range.slice():v.range.slice(),calendar:v.calendar},v.rangebreaks&&(x.layout[g].rangebreaks=v.rangebreaks),kae.supplyDefaults(x);var T=x._fullLayout.xaxis,A=x._fullLayout[g];T.clearCalc(),T.setScale(),A.clearCalc(),A.setScale();var m={id:l,plotgroup:s,xaxis:T,yaxis:A,isRangePlot:!0};f?i=m:(m.mainplot="xy",m.mainplotinfo=i),Cae.rangePlot(r,m,zae(a,l))})}function zae(e,r){for(var t=[],n=0;n<e.length;n++){var a=e[n],o=a[0].trace;o.xaxis+o.yaxis===r&&t.push(a)}return t}function Oae(e,r,t,n,a){var o=Ot.ensureSingle(e,"rect",Qr.maskMinClassName,function(s){s.attr({x:0,y:0,"shape-rendering":"crispEdges"})});o.attr("height",n._height).call(fl.fill,Qr.maskColor);var i=Ot.ensureSingle(e,"rect",Qr.maskMaxClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});if(i.attr("height",n._height).call(fl.fill,Qr.maskColor),a.rangemode!=="match"){var l=Ot.ensureSingle(e,"rect",Qr.maskMinOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});l.attr("width",n._width).call(fl.fill,Qr.maskOppAxisColor);var u=Ot.ensureSingle(e,"rect",Qr.maskMaxOppAxisClassName,function(s){s.attr({y:0,"shape-rendering":"crispEdges"})});u.attr("width",n._width).style("border-top",Qr.maskOppBorder).call(fl.fill,Qr.maskOppAxisColor)}}function qae(e,r,t,n){if(!r._context.staticPlot){var a=Ot.ensureSingle(e,"rect",Qr.slideBoxClassName,function(o){o.attr({y:0,cursor:Qr.slideBoxCursor,"shape-rendering":"crispEdges"})});a.attr({height:n._height,fill:Qr.slideBoxFill})}}function Bae(e,r,t,n){var a=Ot.ensureSingle(e,"g",Qr.grabberMinClassName),o=Ot.ensureSingle(e,"g",Qr.grabberMaxClassName),i={x:0,width:Qr.handleWidth,rx:Qr.handleRadius,fill:fl.background,stroke:fl.defaultLine,"stroke-width":Qr.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(n._height/4),height:Math.round(n._height/2)},u=Ot.ensureSingle(a,"rect",Qr.handleMinClassName,function(b){b.attr(i)});u.attr(l);var s=Ot.ensureSingle(o,"rect",Qr.handleMaxClassName,function(b){b.attr(i)});s.attr(l);var f={width:Qr.grabAreaWidth,x:0,y:0,fill:Qr.grabAreaFill,cursor:r._context.staticPlot?void 0:Qr.grabAreaCursor},v=Ot.ensureSingle(a,"rect",Qr.grabAreaMinClassName,function(b){b.attr(f)});v.attr("height",n._height);var g=Ot.ensureSingle(o,"rect",Qr.grabAreaMaxClassName,function(b){b.attr(f)});g.attr("height",n._height)}});var LP=pe((tpe,EP)=>{"use strict";var Uae=ir(),Hae=sd(),Vae=w3(),M3=mP();EP.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:Uae.extendFlat({},Hae,{yaxis:Vae})}}},layoutAttributes:sd(),handleDefaults:wP(),calcAutorange:MP(),draw:CP(),isVisible:M3.isVisible,makeData:M3.makeData,autoMarginOpts:M3.autoMarginOpts}});var pd=pe((npe,DP)=>{"use strict";var Gae=Sn(),RP=Si(),Yae=gt().templatedArray,Wae=Yae("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});DP.exports={visible:{valType:"boolean",editType:"plot"},buttons:Wae,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:Gae({editType:"plot"}),bgcolor:{valType:"color",dflt:RP.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:RP.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}});var A3=pe((ape,PP)=>{"use strict";PP.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}});var NP=pe((ipe,IP)=>{"use strict";var gd=ir(),Xae=Kr(),Zae=gt(),Jae=ai(),FP=pd(),k3=A3();IP.exports=function(r,t,n,a,o){var i=r.rangeselector||{},l=Zae.newContainer(t,"rangeselector");function u(b,x){return gd.coerce(i,l,FP,b,x)}var s=Jae(i,l,{name:"buttons",handleItemDefaults:Kae,calendar:o}),f=u("visible",s.length>0);if(f){var v=Qae(t,n,a);u("x",v[0]),u("y",v[1]),gd.noneOrAll(r,t,["x","y"]),u("xanchor"),u("yanchor"),gd.coerceFont(u,"font",n.font);var g=u("bgcolor");u("activecolor",Xae.contrast(g,k3.lightAmount,k3.darkAmount)),u("bordercolor"),u("borderwidth")}};function Kae(e,r,t,n){var a=n.calendar;function o(u,s){return gd.coerce(e,r,FP.buttons,u,s)}var i=o("visible");if(i){var l=o("step");l!=="all"&&(a&&a!=="gregorian"&&(l==="month"||l==="year")?r.stepmode="backward":o("stepmode"),o("count")),o("label")}}function Qae(e,r,t){for(var n=t.filter(function(l){return r[l].anchor===e._id}),a=0,o=0;o<n.length;o++){var i=r[n[o]].domain;i&&(a=Math.max(i[1],a))}return[e.domain[0],a+k3.yPad]}});var OP=pe((ope,zP)=>{"use strict";var $ae=kp(),jae=ir().titleCase;zP.exports=function(r,t){var n=r._name,a={};if(t.step==="all")a[n+".autorange"]=!0;else{var o=eie(r,t);a[n+".range[0]"]=o[0],a[n+".range[1]"]=o[1]}return a};function eie(e,r){var t=e.range,n=new Date(e.r2l(t[1])),a=r.step,o=$ae["utc"+jae(a)],i=r.count,l;switch(r.stepmode){case"backward":l=e.l2r(+o.offset(n,-i));break;case"todate":var u=o.offset(n,-i);l=e.l2r(+o.ceil(u));break}var s=t[1];return[l,s]}});var WP=pe((lpe,YP)=>{"use strict";var md=it(),rie=Cr(),tie=nn(),qP=Kr(),GP=yt(),go=ir(),BP=go.strTranslate,yd=Xn(),nie=un(),E3=Bn(),UP=E3.LINE_SPACING,HP=E3.FROM_TL,VP=E3.FROM_BR,C3=A3(),aie=OP();YP.exports=function(r){var t=r._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(iie(r),oie);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(a){var o=md.select(this),i=a,l=i.rangeselector,u=o.selectAll("g.button").data(go.filterVisible(l.buttons));u.enter().append("g").classed("button",!0),u.exit().remove(),u.each(function(s){var f=md.select(this),v=aie(i,s);s._isActive=lie(i,s,v),f.call(S3,l,s),f.call(uie,l,s,r),f.on("click",function(){r._dragged||rie.call("_guiRelayout",r,v)}),f.on("mouseover",function(){s._isHovered=!0,f.call(S3,l,s)}),f.on("mouseout",function(){s._isHovered=!1,f.call(S3,l,s)})}),cie(r,u,l,i._name,o)})};function iie(e){for(var r=nie.list(e,"x",!0),t=[],n=0;n<r.length;n++){var a=r[n];a.rangeselector&&a.rangeselector.visible&&t.push(a)}return t}function oie(e){return e._id}function lie(e,r,t){if(r.step==="all")return e.autorange===!0;var n=Object.keys(t);return e.range[0]===t[n[0]]&&e.range[1]===t[n[1]]}function S3(e,r,t){var n=go.ensureSingle(e,"rect","selector-rect",function(a){a.attr("shape-rendering","crispEdges")});n.attr({rx:C3.rx,ry:C3.ry}),n.call(qP.stroke,r.bordercolor).call(qP.fill,sie(r,t)).style("stroke-width",r.borderwidth+"px")}function sie(e,r){return r._isActive||r._isHovered?e.activecolor:e.bgcolor}function uie(e,r,t,n){function a(i){yd.convertToTspans(i,n)}var o=go.ensureSingle(e,"text","selector-text",function(i){i.attr("text-anchor","middle")});o.call(GP.font,r.font).text(fie(t,n._fullLayout._meta)).call(a)}function fie(e,r){return e.label?r?go.templateString(e.label,r):e.label:e.step==="all"?"all":e.count+e.step.charAt(0)}function cie(e,r,t,n,a){var o=0,i=0,l=t.borderwidth;r.each(function(){var b=md.select(this),x=b.select(".selector-text"),T=t.font.size*UP,A=Math.max(T*yd.lineCount(x),16)+3;i=Math.max(i,A)}),r.each(function(){var b=md.select(this),x=b.select(".selector-rect"),T=b.select(".selector-text"),A=T.node()&&GP.bBox(T.node()).width,m=t.font.size*UP,w=yd.lineCount(T),k=Math.max(A+10,C3.minButtonWidth);b.attr("transform",BP(l+o,l)),x.attr({x:0,y:0,width:k,height:i}),yd.positionText(T,k/2,i/2-(w-1)*m/2+3),o+=k+5});var u=e._fullLayout._size,s=u.l+u.w*t.x,f=u.t+u.h*(1-t.y),v="left";go.isRightAnchor(t)&&(s-=o,v="right"),go.isCenterAnchor(t)&&(s-=o/2,v="center");var g="top";go.isBottomAnchor(t)&&(f-=i,g="bottom"),go.isMiddleAnchor(t)&&(f-=i/2,g="middle"),o=Math.ceil(o),i=Math.ceil(i),s=Math.round(s),f=Math.round(f),tie.autoMargin(e,n+"-range-selector",{x:t.x,y:t.y,l:o*HP[v],r:o*VP[v],b:i*VP[g],t:i*HP[g]}),a.attr("transform",BP(s,f))}});var ZP=pe((spe,XP)=>{"use strict";XP.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:pd()}}},layoutAttributes:pd(),handleDefaults:NP(),draw:WP()}});var xd=pe(L3=>{"use strict";var JP=Mt().extendFlat;L3.attributes=function(e,r){e=e||{},r=r||{};var t={valType:"info_array",editType:e.editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",a=e.trace?"trace ":"subplot ",o=r.description?" "+r.description:"",i={x:JP({},t,{}),y:JP({},t,{}),editType:e.editType};return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i};L3.defaults=function(e,r,t,n){var a=n&&n.x||[0,1],o=n&&n.y||[0,1],i=r.grid;if(i){var l=t("domain.column");l!==void 0&&(l<i.columns?a=i._domains.x[l]:delete e.domain.column);var u=t("domain.row");u!==void 0&&(u<i.rows?o=i._domains.y[u]:delete e.domain.row)}var s=t("domain.x",a),f=t("domain.y",o);s[0]<s[1]||(e.domain.x=a.slice()),f[0]<f[1]||(e.domain.y=o.slice())}});var eF=pe((fpe,jP)=>{"use strict";var vie=ir(),hie=Gs().counter,die=xd().attributes,KP=Tn().idRegex,pie=gt(),R3={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[hie("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[KP.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[KP.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:die({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function bd(e,r,t){var n=r[t+"axes"],a=Object.keys((e._splomAxes||{})[t]||{});if(Array.isArray(n))return n;if(a.length)return a}function gie(e,r){var t=e.grid||{},n=bd(r,t,"x"),a=bd(r,t,"y");if(!e.grid&&!n&&!a)return;var o=Array.isArray(t.subplots)&&Array.isArray(t.subplots[0]),i=Array.isArray(n),l=Array.isArray(a),u=i&&n!==t.xaxes&&l&&a!==t.yaxes,s,f;o?(s=t.subplots.length,f=t.subplots[0].length):(l&&(s=a.length),i&&(f=n.length));var v=pie.newContainer(r,"grid");function g(d,_){return vie.coerce(t,v,R3,d,_)}var b=g("rows",s),x=g("columns",f);if(!(b*x>1)){delete r.grid;return}if(!o&&!i&&!l){var T=g("pattern")==="independent";T&&(o=!0)}v._hasSubplotGrid=o;var A=g("roworder"),m=A==="top to bottom",w=o?.2:.1,k=o?.3:.1,y,M;u&&r._splomGridDflt&&(y=r._splomGridDflt.xside,M=r._splomGridDflt.yside),v._domains={x:QP("x",g,w,y,x),y:QP("y",g,k,M,b,m)}}function QP(e,r,t,n,a,o){var i=r(e+"gap",t),l=r("domain."+e);r(e+"side",n);for(var u=new Array(a),s=l[0],f=(l[1]-s)/(a-i),v=f*(1-i),g=0;g<a;g++){var b=s+f*g;u[o?a-1-g:g]=[b,b+v]}return u}function yie(e,r){var t=r.grid;if(!(!t||!t._domains)){var n=e.grid||{},a=r._subplots,o=t._hasSubplotGrid,i=t.rows,l=t.columns,u=t.pattern==="independent",s,f,v,g,b,x,T,A=t._axisMap={};if(o){var m=n.subplots||[];x=t.subplots=new Array(i);var w=1;for(s=0;s<i;s++){var k=x[s]=new Array(l),y=m[s]||[];for(f=0;f<l;f++)if(u?(b=w===1?"xy":"x"+w+"y"+w,w++):b=y[f],k[f]="",a.cartesian.indexOf(b)!==-1){if(T=b.indexOf("y"),v=b.slice(0,T),g=b.slice(T),A[v]!==void 0&&A[v]!==f||A[g]!==void 0&&A[g]!==s)continue;k[f]=b,A[v]=f,A[g]=s}}}else{var M=bd(r,n,"x"),d=bd(r,n,"y");t.xaxes=$P(M,a.xaxis,l,A,"x"),t.yaxes=$P(d,a.yaxis,i,A,"y")}var _=t._anchors={},p=t.roworder==="top to bottom";for(var c in A){var S=c.charAt(0),h=t[S+"side"],R,E,D;if(h.length<8)_[c]="free";else if(S==="x"){if(h.charAt(0)==="t"===p?(R=0,E=1,D=i):(R=i-1,E=-1,D=-1),o){var N=A[c];for(s=R;s!==D;s+=E)if(b=x[s][N],!!b&&(T=b.indexOf("y"),b.slice(0,T)===c)){_[c]=b.slice(T);break}}else for(s=R;s!==D;s+=E)if(g=t.yaxes[s],a.cartesian.indexOf(c+g)!==-1){_[c]=g;break}}else if(h.charAt(0)==="l"?(R=0,E=1,D=l):(R=l-1,E=-1,D=-1),o){var I=A[c];for(s=R;s!==D;s+=E)if(b=x[I][s],!!b&&(T=b.indexOf("y"),b.slice(T)===c)){_[c]=b.slice(0,T);break}}else for(s=R;s!==D;s+=E)if(v=t.xaxes[s],a.cartesian.indexOf(v+c)!==-1){_[c]=v;break}}}}function $P(e,r,t,n,a){var o=new Array(t),i;function l(u,s){r.indexOf(s)!==-1&&n[s]===void 0?(o[u]=s,n[s]=u):o[u]=""}if(Array.isArray(e))for(i=0;i<t;i++)l(i,e[i]);else for(l(0,a),i=1;i<t;i++)l(i,a+(i+1));return o}jP.exports={moduleType:"component",name:"grid",schema:{layout:{grid:R3}},layoutAttributes:R3,sizeDefaults:gie,contentDefaults:yie}});var D3=pe((cpe,rF)=>{"use strict";rF.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}});var aF=pe((vpe,nF)=>{"use strict";var tF=rt(),mie=Cr(),xie=ir(),bie=gt(),_ie=D3();nF.exports=function(e,r,t,n){var a="error_"+n.axis,o=bie.newContainer(r,a),i=e[a]||{};function l(x,T){return xie.coerce(i,o,_ie,x,T)}var u=i.array!==void 0||i.value!==void 0||i.type==="sqrt",s=l("visible",u);if(s!==!1){var f=l("type","array"in i?"data":"percent"),v=!0;f!=="sqrt"&&(v=l("symmetric",!((f==="data"?"arrayminus":"valueminus")in i))),f==="data"?(l("array"),l("traceref"),v||(l("arrayminus"),l("tracerefminus"))):(f==="percent"||f==="constant")&&(l("value"),v||l("valueminus"));var g="copy_"+n.inherit+"style";if(n.inherit){var b=r["error_"+n.inherit];(b||{}).visible&&l(g,!(i.color||tF(i.thickness)||tF(i.width)))}(!n.inherit||!o[g])&&(l("color",t),l("thickness"),l("width",mie.traceIs(r,"gl3d")?0:4))}}});var P3=pe((hpe,oF)=>{"use strict";oF.exports=function(r){var t=r.type,n=r.symmetric;if(t==="data"){var a=r.array||[];if(n)return function(s,f){var v=+a[f];return[v,v]};var o=r.arrayminus||[];return function(s,f){var v=+a[f],g=+o[f];return!isNaN(v)||!isNaN(g)?[g||0,v||0]:[NaN,NaN]}}else{var i=iF(t,r.value),l=iF(t,r.valueminus);return n||r.valueminus===void 0?function(s){var f=i(s);return[f,f]}:function(s){return[l(s),i(s)]}}};function iF(e,r){if(e==="percent")return function(t){return Math.abs(t*r/100)};if(e==="constant")return function(){return Math.abs(r)};if(e==="sqrt")return function(t){return Math.sqrt(Math.abs(t))}}});var uF=pe((dpe,sF)=>{"use strict";var F3=rt(),wie=Cr(),I3=wt(),Tie=ir(),Mie=P3();sF.exports=function(r){for(var t=r.calcdata,n=0;n<t.length;n++){var a=t[n],o=a[0].trace;if(o.visible===!0&&wie.traceIs(o,"errorBarsOK")){var i=I3.getFromId(r,o.xaxis),l=I3.getFromId(r,o.yaxis);lF(a,o,i,"x"),lF(a,o,l,"y")}}};function lF(e,r,t,n){var a=r["error_"+n]||{},o=a.visible&&["linear","log"].indexOf(t.type)!==-1,i=[];if(o){for(var l=Mie(a),u=0;u<e.length;u++){var s=e[u],f=s.i;if(f===void 0)f=u;else if(f===null)continue;var v=s[n];if(F3(t.c2l(v))){var g=l(v,f);if(F3(g[0])&&F3(g[1])){var b=s[n+"s"]=v-g[0],x=s[n+"h"]=v+g[1];i.push(b,x)}}}var T=t._id,A=r._extremes[T],m=I3.findExtremes(t,i,Tie.extendFlat({tozero:A.opts.tozero},{padded:!0}));A.min=A.min.concat(m.min),A.max=A.max.concat(m.max)}}});var vF=pe((ppe,cF)=>{"use strict";var fF=it(),cl=rt(),Aie=yt(),kie=ca();cF.exports=function(r,t,n,a){var o,i=n.xaxis,l=n.yaxis,u=a&&a.duration>0,s=r._context.staticPlot;t.each(function(f){var v=f[0].trace,g=v.error_x||{},b=v.error_y||{},x;v.ids&&(x=function(w){return w.id});var T=kie.hasMarkers(v)&&v.marker.maxdisplayed>0;!b.visible&&!g.visible&&(f=[]);var A=fF.select(this).selectAll("g.errorbar").data(f,x);if(A.exit().remove(),!!f.length){g.visible||A.selectAll("path.xerror").remove(),b.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var m=A.enter().append("g").classed("errorbar",!0);u&&m.style("opacity",0).transition().duration(a.duration).style("opacity",1),Aie.setClipUrl(A,n.layerClipId,r),A.each(function(w){var k=fF.select(this),y=Sie(w,i,l);if(!(T&&!w.vis)){var M,d=k.select("path.yerror");if(b.visible&&cl(y.x)&&cl(y.yh)&&cl(y.ys)){var _=b.width;M="M"+(y.x-_)+","+y.yh+"h"+2*_+"m-"+_+",0V"+y.ys,y.noYS||(M+="m-"+_+",0h"+2*_),o=!d.size(),o?d=k.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("yerror",!0):u&&(d=d.transition().duration(a.duration).ease(a.easing)),d.attr("d",M)}else d.remove();var p=k.select("path.xerror");if(g.visible&&cl(y.y)&&cl(y.xh)&&cl(y.xs)){var c=(g.copy_ystyle?b:g).width;M="M"+y.xh+","+(y.y-c)+"v"+2*c+"m0,-"+c+"H"+y.xs,y.noXS||(M+="m0,-"+c+"v"+2*c),o=!p.size(),o?p=k.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("xerror",!0):u&&(p=p.transition().duration(a.duration).ease(a.easing)),p.attr("d",M)}else p.remove()}})}})};function Sie(e,r,t){var n={x:r.c2p(e.x),y:t.c2p(e.y)};return e.yh!==void 0&&(n.yh=t.c2p(e.yh),n.ys=t.c2p(e.ys),cl(n.ys)||(n.noYS=!0,n.ys=t.c2p(e.ys,!0))),e.xh!==void 0&&(n.xh=r.c2p(e.xh),n.xs=r.c2p(e.xs),cl(n.xs)||(n.noXS=!0,n.xs=r.c2p(e.xs,!0))),n}});var pF=pe((gpe,dF)=>{"use strict";var Cie=it(),hF=Kr();dF.exports=function(r){r.each(function(t){var n=t[0].trace,a=n.error_y||{},o=n.error_x||{},i=Cie.select(this);i.selectAll("path.yerror").style("stroke-width",a.thickness+"px").call(hF.stroke,a.color),o.copy_ystyle&&(o=a),i.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(hF.stroke,o.color)})}});var mF=pe((ype,yF)=>{"use strict";var j0=ir(),gF=qn().overrideAll,ec=D3(),bs={error_x:j0.extendFlat({},ec),error_y:j0.extendFlat({},ec)};delete bs.error_x.copy_zstyle;delete bs.error_y.copy_zstyle;delete bs.error_y.copy_ystyle;var rc={error_x:j0.extendFlat({},ec),error_y:j0.extendFlat({},ec),error_z:j0.extendFlat({},ec)};delete rc.error_x.copy_ystyle;delete rc.error_y.copy_ystyle;delete rc.error_z.copy_ystyle;delete rc.error_z.copy_zstyle;yF.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:bs,bar:bs,histogram:bs,scatter3d:gF(rc,"calc","nested"),scattergl:gF(bs,"calc","nested")}},supplyDefaults:aF(),calc:uF(),makeComputeError:P3(),plot:vF(),style:pF(),hoverInfo:Eie};function Eie(e,r,t){(r.error_y||{}).visible&&(t.yerr=e.yh-e.y,r.error_y.symmetric||(t.yerrneg=e.y-e.ys)),(r.error_x||{}).visible&&(t.xerr=e.xh-e.x,r.error_x.symmetric||(t.xerrneg=e.x-e.xs))}});var bF=pe((mpe,xF)=>{"use strict";xF.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}});var SF=pe((xpe,kF)=>{"use strict";var vl=it(),N3=La(),wd=nn(),_F=Cr(),yo=wt(),_d=oi(),Ka=ir(),mi=Ka.strTranslate,AF=Mt().extendFlat,z3=Jo(),yi=yt(),O3=Kr(),Lie=Yf(),Rie=Xn(),Die=Ri().flipScale,Pie=W1(),Fie=Wm(),Iie=Ia(),q3=Bn(),wF=q3.LINE_SPACING,TF=q3.FROM_TL,MF=q3.FROM_BR,Et=bF().cn;function Nie(e){var r=e._fullLayout,t=r._infolayer.selectAll("g."+Et.colorbar).data(zie(e),function(n){return n._id});t.enter().append("g").attr("class",function(n){return n._id}).classed(Et.colorbar,!0),t.each(function(n){var a=vl.select(this);Ka.ensureSingle(a,"rect",Et.cbbg),Ka.ensureSingle(a,"g",Et.cbfills),Ka.ensureSingle(a,"g",Et.cblines),Ka.ensureSingle(a,"g",Et.cbaxis,function(i){i.classed(Et.crisp,!0)}),Ka.ensureSingle(a,"g",Et.cbtitleunshift,function(i){i.append("g").classed(Et.cbtitle,!0)}),Ka.ensureSingle(a,"rect",Et.cboutline);var o=Oie(a,n,e);o&&o.then&&(e._promises||[]).push(o),e._context.edits.colorbarPosition&&qie(a,n,e)}),t.exit().each(function(n){wd.autoMargin(e,n._id)}).remove(),t.order()}function zie(e){var r=e._fullLayout,t=e.calcdata,n=[],a,o,i,l;function u(k){return AF(k,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function s(){typeof l.calc=="function"?l.calc(e,i,a):(a._fillgradient=o.reversescale?Die(o.colorscale):o.colorscale,a._zrange=[o[l.min],o[l.max]])}for(var f=0;f<t.length;f++){var v=t[f];if(i=v[0].trace,!!i._module){var g=i._module.colorbar;if(i.visible===!0&&g)for(var b=Array.isArray(g),x=b?g:[g],T=0;T<x.length;T++){l=x[T];var A=l.container;o=A?i[A]:i,o&&o.showscale&&(a=u(o.colorbar),a._id="cb"+i.uid+(b&&A?"-"+A:""),a._traceIndex=i.index,a._propPrefix=(A?A+".":"")+"colorbar.",a._meta=i._meta,s(),n.push(a))}}}for(var m in r._colorAxes)if(o=r[m],o.showscale){var w=r._colorAxes[m];a=u(o.colorbar),a._id="cb"+m,a._propPrefix=m+".colorbar.",a._meta=r._meta,l={min:"cmin",max:"cmax"},w[0]!=="heatmap"&&(i=w[1],l.calc=i._module.colorbar.calc),s(),n.push(a)}return n}function Oie(e,r,t){var n=r.orientation==="v",a=r.len,o=r.lenmode,i=r.thickness,l=r.thicknessmode,u=r.outlinewidth,s=r.borderwidth,f=r.bgcolor,v=r.xanchor,g=r.yanchor,b=r.xpad,x=r.ypad,T=r.x,A=n?r.y:1-r.y,m=r.yref==="paper",w=r.xref==="paper",k=t._fullLayout,y=k._size,M=r._fillcolor,d=r._line,_=r.title,p=_.side,c=r._zrange||vl.extent((typeof M=="function"?M:d.color).domain()),S=typeof d.color=="function"?d.color:function(){return d.color},h=typeof M=="function"?M:function(){return M},R=r._levels,E=Bie(t,r,c),D=E.fill,N=E.line,I=Math.round(i*(l==="fraction"?n?y.w:y.h:1)),F=I/(n?y.w:y.h),L=Math.round(a*(o==="fraction"?n?y.h:y.w:1)),P=L/(n?y.h:y.w),q=w?y.w:t._fullLayout.width,U=m?y.h:t._fullLayout.height,W=Math.round(n?T*q+b:A*U+x),j={center:.5,right:1}[v]||0,$={top:1,middle:.5}[g]||0,G=n?T-j*F:A-$*F,O=n?A-$*P:T-j*P,Z=Math.round(n?U*(1-O):q*O);r._lenFrac=P,r._thickFrac=F,r._uFrac=G,r._vFrac=O;var ne=r._axis=Uie(t,r,c);ne.position=F+(n?T+b/y.w:A+x/y.h);var Q=["top","bottom"].indexOf(p)!==-1;if(n&&Q&&(ne.title.side=p,ne.titlex=T+b/y.w,ne.titley=O+(_.side==="top"?P-x/y.h:x/y.h)),!n&&!Q&&(ne.title.side=p,ne.titley=A+x/y.h,ne.titlex=O+b/y.w),d.color&&r.tickmode==="auto"){ne.tickmode="linear",ne.tick0=R.start;var ie=R.size,ee=Ka.constrain(L/50,4,15)+1,V=(c[1]-c[0])/((r.nticks||ee)*ie);if(V>1){var re=Math.pow(10,Math.floor(Math.log(V)/Math.LN10));ie*=re*Ka.roundUp(V/re,[2,5,10]),(Math.abs(R.start)/R.size+1e-6)%1<2e-6&&(ne.tick0=0)}ne.dtick=ie}ne.domain=n?[O+x/y.h,O+P-x/y.h]:[O+b/y.w,O+P-b/y.w],ne.setScale(),e.attr("transform",mi(Math.round(y.l),Math.round(y.t)));var H=e.select("."+Et.cbtitleunshift).attr("transform",mi(-Math.round(y.l),-Math.round(y.t))),te=ne.ticklabelposition,se=ne.title.font.size,he=e.select("."+Et.cbaxis),ke,we=0,ve=0;function Me(Be,ge){var Ae={propContainer:ne,propName:r._propPrefix+"title",traceIndex:r._traceIndex,_meta:r._meta,placeholder:k._dfltTitle.colorbar,containerGroup:e.select("."+Et.cbtitle)},ce=Be.charAt(0)==="h"?Be.substr(1):"h"+Be;e.selectAll("."+ce+",."+ce+"-math-group").remove(),Lie.draw(t,Be,AF(Ae,ge||{}))}function Se(){if(n&&Q||!n&&!Q){var Be,ge;p==="top"&&(Be=b+y.l+q*T,ge=x+y.t+U*(1-O-P)+3+se*.75),p==="bottom"&&(Be=b+y.l+q*T,ge=x+y.t+U*(1-O)-3-se*.25),p==="right"&&(ge=x+y.t+U*A+3+se*.75,Be=b+y.l+q*O),Me(ne._id+"title",{attributes:{x:Be,y:ge,"text-anchor":n?"start":"middle"}})}}function De(){if(n&&!Q||!n&&Q){var Be=ne.position||0,ge=ne._offset+ne._length/2,Ae,ce;if(p==="right")ce=ge,Ae=y.l+q*Be+10+se*(ne.showticklabels?1:.5);else if(Ae=ge,p==="bottom"&&(ce=y.t+U*Be+10+(te.indexOf("inside")===-1?ne.tickfont.size:0)+(ne.ticks!=="intside"&&r.ticklen||0)),p==="top"){var ye=_.text.split("<br>").length;ce=y.t+U*Be+10-I-wF*se*ye}Me((n?"h":"v")+ne._id+"title",{avoid:{selection:vl.select(t).selectAll("g."+ne._id+"tick"),side:p,offsetTop:n?0:y.t,offsetLeft:n?y.l:0,maxShift:n?k.width:k.height},attributes:{x:Ae,y:ce,"text-anchor":"middle"},transform:{rotate:n?-90:0,offset:0}})}}function Ce(){if(!n&&!Q||n&&Q){var Be=e.select("."+Et.cbtitle),ge=Be.select("text"),Ae=[-u/2,u/2],ce=Be.select(".h"+ne._id+"title-math-group").node(),ye=15.6;ge.node()&&(ye=parseInt(ge.node().style.fontSize,10)*wF);var Le;if(ce?(Le=yi.bBox(ce),ve=Le.width,we=Le.height,we>ye&&(Ae[1]-=(we-ye)/2)):ge.node()&&!ge.classed(Et.jsPlaceholder)&&(Le=yi.bBox(ge.node()),ve=Le.width,we=Le.height),n){if(we){if(we+=5,p==="top")ne.domain[1]-=we/y.h,Ae[1]*=-1;else{ne.domain[0]+=we/y.h;var me=Rie.lineCount(ge);Ae[1]+=(1-me)*ye}Be.attr("transform",mi(Ae[0],Ae[1])),ne.setScale()}}else ve&&(p==="right"&&(ne.domain[0]+=(ve+se/2)/y.w),Be.attr("transform",mi(Ae[0],Ae[1])),ne.setScale())}e.selectAll("."+Et.cbfills+",."+Et.cblines).attr("transform",n?mi(0,Math.round(y.h*(1-ne.domain[1]))):mi(Math.round(y.w*ne.domain[0]),0)),he.attr("transform",n?mi(0,Math.round(-y.t)):mi(Math.round(-y.l),0));var de=e.select("."+Et.cbfills).selectAll("rect."+Et.cbfill).attr("style","").data(D);de.enter().append("rect").classed(Et.cbfill,!0).attr("style",""),de.exit().remove();var be=c.map(ne.c2p).map(Math.round).sort(function(Ye,Ge){return Ye-Ge});de.each(function(Ye,Ge){var We=[Ge===0?c[0]:(D[Ge]+D[Ge-1])/2,Ge===D.length-1?c[1]:(D[Ge]+D[Ge+1])/2].map(ne.c2p).map(Math.round);n&&(We[1]=Ka.constrain(We[1]+(We[1]>We[0])?1:-1,be[0],be[1]));var Te=vl.select(this).attr(n?"x":"y",W).attr(n?"y":"x",vl.min(We)).attr(n?"width":"height",Math.max(I,2)).attr(n?"height":"width",Math.max(vl.max(We)-vl.min(We),2));if(r._fillgradient)yi.gradient(Te,t,r._id,n?"vertical":"horizontalreversed",r._fillgradient,"fill");else{var Pe=h(Ye).replace("e-","");Te.attr("fill",N3(Pe).toHexString())}});var Ee=e.select("."+Et.cblines).selectAll("path."+Et.cbline).data(d.color&&d.width?N:[]);Ee.enter().append("path").classed(Et.cbline,!0),Ee.exit().remove(),Ee.each(function(Ye){var Ge=W,We=Math.round(ne.c2p(Ye))+d.width/2%1;vl.select(this).attr("d","M"+(n?Ge+","+We:We+","+Ge)+(n?"h":"v")+I).call(yi.lineGroupStyle,d.width,S(Ye),d.dash)}),he.selectAll("g."+ne._id+"tick,path").remove();var ze=W+I+(u||0)/2-(r.ticks==="outside"?1:0),Fe=yo.calcTicks(ne),Je=yo.getTickSigns(ne)[2];return yo.drawTicks(t,ne,{vals:ne.ticks==="inside"?yo.clipEnds(ne,Fe):Fe,layer:he,path:yo.makeTickPath(ne,ze,Je),transFn:yo.makeTransTickFn(ne)}),yo.drawLabels(t,ne,{vals:Fe,layer:he,transFn:yo.makeTransTickLabelFn(ne),labelFns:yo.makeLabelFns(ne,ze)})}function Oe(){var Be,ge=I+u/2;te.indexOf("inside")===-1&&(Be=yi.bBox(he.node()),ge+=n?Be.width:Be.height),ke=H.select("text");var Ae=0,ce=n&&p==="top",ye=!n&&p==="right",Le=0;if(ke.node()&&!ke.classed(Et.jsPlaceholder)){var me,de=H.select(".h"+ne._id+"title-math-group").node();de&&(n&&Q||!n&&!Q)?(Be=yi.bBox(de),Ae=Be.width,me=Be.height):(Be=yi.bBox(H.node()),Ae=Be.right-y.l-(n?W:Z),me=Be.bottom-y.t-(n?Z:W),!n&&p==="top"&&(ge+=Be.height,Le=Be.height)),ye&&(ke.attr("transform",mi(Ae/2+se/2,0)),Ae*=2),ge=Math.max(ge,n?Ae:me)}var be=(n?b:x)*2+ge+s+u/2,Ee=0;!n&&_.text&&g==="bottom"&&A<=0&&(Ee=be/2,be+=Ee,Le+=Ee),k._hColorbarMoveTitle=Ee,k._hColorbarMoveCBTitle=Le;var ze=s+u,Fe=(n?W:Z)-ze/2-(n?b:0),Je=(n?Z:W)-(n?L:x+Le-Ee);e.select("."+Et.cbbg).attr("x",Fe).attr("y",Je).attr(n?"width":"height",Math.max(be-Ee,2)).attr(n?"height":"width",Math.max(L+ze,2)).call(O3.fill,f).call(O3.stroke,r.bordercolor).style("stroke-width",s);var Ye=ye?Math.max(Ae-10,0):0;e.selectAll("."+Et.cboutline).attr("x",(n?W:Z+b)+Ye).attr("y",(n?Z+x-L:W)+(ce?we:0)).attr(n?"width":"height",Math.max(I,2)).attr(n?"height":"width",Math.max(L-(n?2*x+we:2*b+Ye),2)).call(O3.stroke,r.outlinecolor).style({fill:"none","stroke-width":u});var Ge=n?j*be:0,We=n?0:(1-$)*be-Le;if(Ge=w?y.l-Ge:-Ge,We=m?y.t-We:-We,e.attr("transform",mi(Ge,We)),!n&&(s||N3(f).getAlpha()&&!N3.equals(k.paper_bgcolor,f))){var Te=he.selectAll("text"),Pe=Te[0].length,Qe=e.select("."+Et.cbbg).node(),Ve=yi.bBox(Qe),ar=yi.getTranslate(e),ue=2;Te.each(function(Mr,Ar){var ft=0,Wr=Pe-1;if(Ar===ft||Ar===Wr){var xr=yi.bBox(this),ct=yi.getTranslate(this),Sr;if(Ar===Wr){var Hr=xr.right+ct.x,bt=Ve.right+ar.x+Z-s-ue+T;Sr=bt-Hr,Sr>0&&(Sr=0)}else if(Ar===ft){var Or=xr.left+ct.x,Vr=Ve.left+ar.x+Z+s+ue;Sr=Vr-Or,Sr<0&&(Sr=0)}Sr&&(Pe<3?this.setAttribute("transform","translate("+Sr+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var K={},ae=TF[v],Re=MF[v],Ue=TF[g],je=MF[g],nr=be-I;n?(o==="pixels"?(K.y=A,K.t=L*Ue,K.b=L*je):(K.t=K.b=0,K.yt=A+a*Ue,K.yb=A-a*je),l==="pixels"?(K.x=T,K.l=be*ae,K.r=be*Re):(K.l=nr*ae,K.r=nr*Re,K.xl=T-i*ae,K.xr=T+i*Re)):(o==="pixels"?(K.x=T,K.l=L*ae,K.r=L*Re):(K.l=K.r=0,K.xl=T+a*ae,K.xr=T-a*Re),l==="pixels"?(K.y=1-A,K.t=be*Ue,K.b=be*je):(K.t=nr*Ue,K.b=nr*je,K.yt=A-i*Ue,K.yb=A+i*je));var hr=r.y<.5?"b":"t",wr=r.x<.5?"l":"r";t._fullLayout._reservedMargin[r._id]={};var Er={r:k.width-Fe-Ge,l:Fe+K.r,b:k.height-Je-We,t:Je+K.b};w&&m?wd.autoMargin(t,r._id,K):w?t._fullLayout._reservedMargin[r._id][hr]=Er[hr]:m||n?t._fullLayout._reservedMargin[r._id][wr]=Er[wr]:t._fullLayout._reservedMargin[r._id][hr]=Er[hr]}return Ka.syncOrAsync([wd.previousPromises,Se,Ce,De,wd.previousPromises,Oe],t)}function qie(e,r,t){var n=r.orientation==="v",a=t._fullLayout,o=a._size,i,l,u;_d.init({element:e.node(),gd:t,prepFn:function(){i=e.attr("transform"),z3(e)},moveFn:function(s,f){e.attr("transform",i+mi(s,f)),l=_d.align((n?r._uFrac:r._vFrac)+s/o.w,n?r._thickFrac:r._lenFrac,0,1,r.xanchor),u=_d.align((n?r._vFrac:1-r._uFrac)-f/o.h,n?r._lenFrac:r._thickFrac,0,1,r.yanchor);var v=_d.getCursor(l,u,r.xanchor,r.yanchor);z3(e,v)},doneFn:function(){if(z3(e),l!==void 0&&u!==void 0){var s={};s[r._propPrefix+"x"]=l,s[r._propPrefix+"y"]=u,r._traceIndex!==void 0?_F.call("_guiRestyle",t,s,r._traceIndex):_F.call("_guiRelayout",t,s)}}})}function Bie(e,r,t){var n=r._levels,a=[],o=[],i,l,u=n.end+n.size/100,s=n.size,f=1.001*t[0]-.001*t[1],v=1.001*t[1]-.001*t[0];for(l=0;l<1e5&&(i=n.start+l*s,!(s>0?i>=u:i<=u));l++)i>f&&i<v&&a.push(i);if(r._fillgradient)o=[0];else if(typeof r._fillcolor=="function"){var g=r._filllevels;if(g)for(u=g.end+g.size/100,s=g.size,l=0;l<1e5&&(i=g.start+l*s,!(s>0?i>=u:i<=u));l++)i>t[0]&&i<t[1]&&o.push(i);else o=a.map(function(b){return b-n.size/2}),o.push(o[o.length-1]+n.size)}else r._fillcolor&&typeof r._fillcolor=="string"&&(o=[0]);return n.size<0&&(a.reverse(),o.reverse()),{line:a,fill:o}}function Uie(e,r,t){var n=e._fullLayout,a=r.orientation==="v",o={type:"linear",range:t,tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:r.ticks,ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,labelalias:r.labelalias,ticklabelposition:r.ticklabelposition,ticklabeloverflow:r.ticklabeloverflow,ticklabelstep:r.ticklabelstep,tickfont:r.tickfont,tickangle:r.tickangle,tickformat:r.tickformat,exponentformat:r.exponentformat,minexponent:r.minexponent,separatethousands:r.separatethousands,showexponent:r.showexponent,showtickprefix:r.showtickprefix,tickprefix:r.tickprefix,showticksuffix:r.showticksuffix,ticksuffix:r.ticksuffix,title:r.title,showline:!0,anchor:"free",side:a?"right":"bottom",position:1},i=a?"y":"x",l={type:"linear",_id:i+r._id},u={letter:i,font:n.font,noAutotickangles:i==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:n.calendar};function s(f,v){return Ka.coerce(o,l,Iie,f,v)}return Pie(o,l,s,u,n),Fie(o,l,s,u),l}kF.exports={draw:Nie}});var EF=pe((bpe,CF)=>{"use strict";CF.exports={moduleType:"component",name:"colorbar",attributes:qv(),supplyDefaults:Gg(),draw:SF().draw,hasColorbar:Pg()}});var RF=pe((_pe,LF)=>{"use strict";LF.exports={moduleType:"component",name:"legend",layoutAttributes:B2(),supplyLayoutDefaults:V2(),draw:ry(),style:Q2()}});var PF=pe((wpe,DF)=>{"use strict";DF.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}});var IF=pe((Tpe,FF)=>{"use strict";FF.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}});var U3=pe((Mpe,qF)=>{"use strict";var Hie=Cr(),OF=ir(),B3=OF.extendFlat,NF=OF.extendDeep;function zF(e){var r;switch(e){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function Vie(e){var r=["xaxis","yaxis","zaxis"];return r.indexOf(e.slice(0,5))>-1}qF.exports=function(r,t){var n,a=r.data,o=r.layout,i=NF([],a),l=NF({},o,zF(t.tileClass)),u=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var s=Object.keys(l);for(n=0;n<s.length;n++)Vie(s[n])&&(l[s[n]].title={text:""});for(n=0;n<i.length;n++){var f=i[n];f.showscale=!1,f.marker&&(f.marker.showscale=!1),Hie.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)l.annotations.push(t.annotations[n]);var v=Object.keys(l).filter(function(A){return A.match(/^scene\d*$/)});if(v.length){var g={};for(t.tileClass==="thumbnail"&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<v.length;n++){var b=l[v[n]];b.xaxis||(b.xaxis={}),b.yaxis||(b.yaxis={}),b.zaxis||(b.zaxis={}),B3(b.xaxis,g),B3(b.yaxis,g),B3(b.zaxis,g),b._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var T={gd:x,td:x,layout:l,data:i,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return t.setBackground!=="transparent"&&(T.config.setBackground=t.setBackground||"opaque"),T.gd.defaultLayout=zF(t.tileClass),T}});var HF=pe((Ape,UF)=>{"use strict";var Gie=Cv().EventEmitter,Yie=Cr(),Wie=ir(),BF=cs(),Xie=U3(),Zie=D1(),Jie=P1();function Kie(e,r){var t=new Gie,n=Xie(e,{format:"png"}),a=n.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);function o(){var l=BF.getDelay(a._fullLayout);setTimeout(function(){var u=Zie(a),s=document.createElement("canvas");s.id=Wie.randstr(),t=Jie({format:r.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:s,emitter:t,svg:u}),t.clean=function(){a&&document.body.removeChild(a)}},l)}var i=BF.getRedrawFunc(a);return Yie.call("_doPlot",a,n.data,n.layout,n.config).then(i).then(o).catch(function(l){t.emit("error",l)}),t}UF.exports=Kie});var YF=pe((kpe,GF)=>{"use strict";var VF=cs(),Qie={getDelay:VF.getDelay,getRedrawFunc:VF.getRedrawFunc,clone:U3(),toSVG:D1(),svgToImg:P1(),toImage:HF(),downloadImage:xm()};GF.exports=Qie});var XF=pe(mo=>{"use strict";mo.version=qc().version;Pb();Tw();var $ie=Cr(),tc=mo.register=$ie.register,V3=WC(),WF=Object.keys(V3);for(Td=0;Td<WF.length;Td++)Ku=WF[Td],Ku.charAt(0)!=="_"&&(mo[Ku]=V3[Ku]),tc({moduleType:"apiMethod",name:Ku,fn:V3[Ku]});var Ku,Td;tc(sR());tc([PR(),WR(),Lu(),fD(),TD(),YD(),cP(),LP(),ZP(),eF(),mF(),Fi(),EF(),RF(),so(),Sy()]);tc([PF(),IF()]);window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(tc(window.PlotlyLocales),delete window.PlotlyLocales);mo.Icons=Fh();var Md=so(),H3=nn();mo.Plots={resize:H3.resize,graphJson:H3.graphJson,sendDataToCloud:H3.sendDataToCloud};mo.Fx={hover:Md.hover,unhover:Md.unhover,loneHover:Md.loneHover,loneUnhover:Md.loneUnhover};mo.Snapshot=YF();mo.PlotSchema=Oo()});var JF=pe((Cpe,ZF)=>{"use strict";ZF.exports=XF()});var gn=pe((Epe,KF)=>{"use strict";(function(){var e={1964:function(a,o,i){a.exports={alpha_shape:i(3502),convex_hull:i(7352),delaunay_triangulate:i(7642),gl_cone3d:i(6405),gl_error3d:i(9165),gl_heatmap2d:i(2510),gl_line3d:i(5714),gl_mesh3d:i(7201),gl_plot2d:i(1850),gl_plot3d:i(4100),gl_pointcloud2d:i(4696),gl_scatter3d:i(8418),gl_select_box:i(3161),gl_spikes2d:i(4098),gl_streamtube3d:i(7815),gl_surface3d:i(9499),ndarray:i(9618),ndarray_linear_interpolate:i(4317)}},4793:function(a,o,i){"use strict";var l;function u(ue,K){if(!(ue instanceof K))throw new TypeError("Cannot call a class as a function")}function s(ue,K){for(var ae=0;ae<K.length;ae++){var Re=K[ae];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(ue,v(Re.key),Re)}}function f(ue,K,ae){return K&&s(ue.prototype,K),ae&&s(ue,ae),Object.defineProperty(ue,"prototype",{writable:!1}),ue}function v(ue){var K=g(ue,"string");return y(K)=="symbol"?K:K+""}function g(ue,K){if(y(ue)!="object"||!ue)return ue;var ae=ue[Symbol.toPrimitive];if(ae!==void 0){var Re=ae.call(ue,K||"default");if(y(Re)!="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(ue)}function b(ue,K,ae){return K=m(K),x(ue,A()?Reflect.construct(K,ae||[],m(ue).constructor):K.apply(ue,ae))}function x(ue,K){if(K&&(y(K)=="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(ue)}function T(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function A(){try{var ue=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(K){}return(A=function(){return!!ue})()}function m(ue){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},m(ue)}function w(ue,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(K&&K.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),K&&k(ue,K)}function k(ue,K){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,Re){return ae.__proto__=Re,ae},k(ue,K)}function y(ue){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},y(ue)}var M=i(7507),d=i(3778),_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.hp=h,l=W,o.IS=50;var p=2147483647;l=p,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var ue=new Uint8Array(1),K={foo:function(){return 42}};return Object.setPrototypeOf(K,Uint8Array.prototype),Object.setPrototypeOf(ue,K),ue.foo()===42}catch(ae){return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function S(ue){if(ue>p)throw new RangeError('The value "'+ue+'" is invalid for option "size"');var K=new Uint8Array(ue);return Object.setPrototypeOf(K,h.prototype),K}function h(ue,K,ae){if(typeof ue=="number"){if(typeof K=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(ue)}return R(ue,K,ae)}h.poolSize=8192;function R(ue,K,ae){if(typeof ue=="string")return I(ue,K);if(ArrayBuffer.isView(ue))return L(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+y(ue));if(Te(ue,ArrayBuffer)||ue&&Te(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Te(ue,SharedArrayBuffer)||ue&&Te(ue.buffer,SharedArrayBuffer)))return P(ue,K,ae);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=ue.valueOf&&ue.valueOf();if(Re!=null&&Re!==ue)return h.from(Re,K,ae);var Ue=q(ue);if(Ue)return Ue;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return h.from(ue[Symbol.toPrimitive]("string"),K,ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+y(ue))}h.from=function(ue,K,ae){return R(ue,K,ae)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function E(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function D(ue,K,ae){return E(ue),ue<=0?S(ue):K!==void 0?typeof ae=="string"?S(ue).fill(K,ae):S(ue).fill(K):S(ue)}h.alloc=function(ue,K,ae){return D(ue,K,ae)};function N(ue){return E(ue),S(ue<0?0:U(ue)|0)}h.allocUnsafe=function(ue){return N(ue)},h.allocUnsafeSlow=function(ue){return N(ue)};function I(ue,K){if((typeof K!="string"||K==="")&&(K="utf8"),!h.isEncoding(K))throw new TypeError("Unknown encoding: "+K);var ae=j(ue,K)|0,Re=S(ae),Ue=Re.write(ue,K);return Ue!==ae&&(Re=Re.slice(0,Ue)),Re}function F(ue){for(var K=ue.length<0?0:U(ue.length)|0,ae=S(K),Re=0;Re<K;Re+=1)ae[Re]=ue[Re]&255;return ae}function L(ue){if(Te(ue,Uint8Array)){var K=new Uint8Array(ue);return P(K.buffer,K.byteOffset,K.byteLength)}return F(ue)}function P(ue,K,ae){if(K<0||ue.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<K+(ae||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return K===void 0&&ae===void 0?Re=new Uint8Array(ue):ae===void 0?Re=new Uint8Array(ue,K):Re=new Uint8Array(ue,K,ae),Object.setPrototypeOf(Re,h.prototype),Re}function q(ue){if(h.isBuffer(ue)){var K=U(ue.length)|0,ae=S(K);return ae.length===0||ue.copy(ae,0,0,K),ae}if(ue.length!==void 0)return typeof ue.length!="number"||Pe(ue.length)?S(0):F(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return F(ue.data)}function U(ue){if(ue>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return ue|0}function W(ue){return+ue!=ue&&(ue=0),h.alloc(+ue)}h.isBuffer=function(K){return K!=null&&K._isBuffer===!0&&K!==h.prototype},h.compare=function(K,ae){if(Te(K,Uint8Array)&&(K=h.from(K,K.offset,K.byteLength)),Te(ae,Uint8Array)&&(ae=h.from(ae,ae.offset,ae.byteLength)),!h.isBuffer(K)||!h.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===ae)return 0;for(var Re=K.length,Ue=ae.length,je=0,nr=Math.min(Re,Ue);je<nr;++je)if(K[je]!==ae[je]){Re=K[je],Ue=ae[je];break}return Re<Ue?-1:Ue<Re?1:0},h.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(K,ae){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(K.length===0)return h.alloc(0);var Re;if(ae===void 0)for(ae=0,Re=0;Re<K.length;++Re)ae+=K[Re].length;var Ue=h.allocUnsafe(ae),je=0;for(Re=0;Re<K.length;++Re){var nr=K[Re];if(Te(nr,Uint8Array))je+nr.length>Ue.length?(h.isBuffer(nr)||(nr=h.from(nr)),nr.copy(Ue,je)):Uint8Array.prototype.set.call(Ue,nr,je);else if(h.isBuffer(nr))nr.copy(Ue,je);else throw new TypeError('"list" argument must be an Array of Buffers');je+=nr.length}return Ue};function j(ue,K){if(h.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||Te(ue,ArrayBuffer))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+y(ue));var ae=ue.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&ae===0)return 0;for(var Ue=!1;;)switch(K){case"ascii":case"latin1":case"binary":return ae;case"utf8":case"utf-8":return Fe(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae*2;case"hex":return ae>>>1;case"base64":return Ge(ue).length;default:if(Ue)return Re?-1:Fe(ue).length;K=(""+K).toLowerCase(),Ue=!0}}h.byteLength=j;function $(ue,K,ae){var Re=!1;if((K===void 0||K<0)&&(K=0),K>this.length||((ae===void 0||ae>this.length)&&(ae=this.length),ae<=0)||(ae>>>=0,K>>>=0,ae<=K))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return we(this,K,ae);case"utf8":case"utf-8":return H(this,K,ae);case"ascii":return he(this,K,ae);case"latin1":case"binary":return ke(this,K,ae);case"base64":return re(this,K,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,K,ae);default:if(Re)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),Re=!0}}h.prototype._isBuffer=!0;function G(ue,K,ae){var Re=ue[K];ue[K]=ue[ae],ue[ae]=Re}h.prototype.swap16=function(){var K=this.length;if(K%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<K;ae+=2)G(this,ae,ae+1);return this},h.prototype.swap32=function(){var K=this.length;if(K%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<K;ae+=4)G(this,ae,ae+3),G(this,ae+1,ae+2);return this},h.prototype.swap64=function(){var K=this.length;if(K%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<K;ae+=8)G(this,ae,ae+7),G(this,ae+1,ae+6),G(this,ae+2,ae+5),G(this,ae+3,ae+4);return this},h.prototype.toString=function(){var K=this.length;return K===0?"":arguments.length===0?H(this,0,K):$.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(K){if(!h.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K?!0:h.compare(this,K)===0},h.prototype.inspect=function(){var K="",ae=o.IS;return K=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(K+=" ... "),"<Buffer "+K+">"},_&&(h.prototype[_]=h.prototype.inspect),h.prototype.compare=function(K,ae,Re,Ue,je){if(Te(K,Uint8Array)&&(K=h.from(K,K.offset,K.byteLength)),!h.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+y(K));if(ae===void 0&&(ae=0),Re===void 0&&(Re=K?K.length:0),Ue===void 0&&(Ue=0),je===void 0&&(je=this.length),ae<0||Re>K.length||Ue<0||je>this.length)throw new RangeError("out of range index");if(Ue>=je&&ae>=Re)return 0;if(Ue>=je)return-1;if(ae>=Re)return 1;if(ae>>>=0,Re>>>=0,Ue>>>=0,je>>>=0,this===K)return 0;for(var nr=je-Ue,hr=Re-ae,wr=Math.min(nr,hr),Er=this.slice(Ue,je),Mr=K.slice(ae,Re),Ar=0;Ar<wr;++Ar)if(Er[Ar]!==Mr[Ar]){nr=Er[Ar],hr=Mr[Ar];break}return nr<hr?-1:hr<nr?1:0};function O(ue,K,ae,Re,Ue){if(ue.length===0)return-1;if(typeof ae=="string"?(Re=ae,ae=0):ae>2147483647?ae=2147483647:ae<-2147483648&&(ae=-2147483648),ae=+ae,Pe(ae)&&(ae=Ue?0:ue.length-1),ae<0&&(ae=ue.length+ae),ae>=ue.length){if(Ue)return-1;ae=ue.length-1}else if(ae<0)if(Ue)ae=0;else return-1;if(typeof K=="string"&&(K=h.from(K,Re)),h.isBuffer(K))return K.length===0?-1:Z(ue,K,ae,Re,Ue);if(typeof K=="number")return K=K&255,typeof Uint8Array.prototype.indexOf=="function"?Ue?Uint8Array.prototype.indexOf.call(ue,K,ae):Uint8Array.prototype.lastIndexOf.call(ue,K,ae):Z(ue,[K],ae,Re,Ue);throw new TypeError("val must be string, number or Buffer")}function Z(ue,K,ae,Re,Ue){var je=1,nr=ue.length,hr=K.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(ue.length<2||K.length<2)return-1;je=2,nr/=2,hr/=2,ae/=2}function wr(Wr,xr){return je===1?Wr[xr]:Wr.readUInt16BE(xr*je)}var Er;if(Ue){var Mr=-1;for(Er=ae;Er<nr;Er++)if(wr(ue,Er)===wr(K,Mr===-1?0:Er-Mr)){if(Mr===-1&&(Mr=Er),Er-Mr+1===hr)return Mr*je}else Mr!==-1&&(Er-=Er-Mr),Mr=-1}else for(ae+hr>nr&&(ae=nr-hr),Er=ae;Er>=0;Er--){for(var Ar=!0,ft=0;ft<hr;ft++)if(wr(ue,Er+ft)!==wr(K,ft)){Ar=!1;break}if(Ar)return Er}return-1}h.prototype.includes=function(K,ae,Re){return this.indexOf(K,ae,Re)!==-1},h.prototype.indexOf=function(K,ae,Re){return O(this,K,ae,Re,!0)},h.prototype.lastIndexOf=function(K,ae,Re){return O(this,K,ae,Re,!1)};function ne(ue,K,ae,Re){ae=Number(ae)||0;var Ue=ue.length-ae;Re?(Re=Number(Re),Re>Ue&&(Re=Ue)):Re=Ue;var je=K.length;Re>je/2&&(Re=je/2);var nr;for(nr=0;nr<Re;++nr){var hr=parseInt(K.substr(nr*2,2),16);if(Pe(hr))return nr;ue[ae+nr]=hr}return nr}function Q(ue,K,ae,Re){return We(Fe(K,ue.length-ae),ue,ae,Re)}function ie(ue,K,ae,Re){return We(Je(K),ue,ae,Re)}function ee(ue,K,ae,Re){return We(Ge(K),ue,ae,Re)}function V(ue,K,ae,Re){return We(Ye(K,ue.length-ae),ue,ae,Re)}h.prototype.write=function(K,ae,Re,Ue){if(ae===void 0)Ue="utf8",Re=this.length,ae=0;else if(Re===void 0&&typeof ae=="string")Ue=ae,Re=this.length,ae=0;else if(isFinite(ae))ae=ae>>>0,isFinite(Re)?(Re=Re>>>0,Ue===void 0&&(Ue="utf8")):(Ue=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var je=this.length-ae;if((Re===void 0||Re>je)&&(Re=je),K.length>0&&(Re<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var nr=!1;;)switch(Ue){case"hex":return ne(this,K,ae,Re);case"utf8":case"utf-8":return Q(this,K,ae,Re);case"ascii":case"latin1":case"binary":return ie(this,K,ae,Re);case"base64":return ee(this,K,ae,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,K,ae,Re);default:if(nr)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),nr=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(ue,K,ae){return K===0&&ae===ue.length?M.fromByteArray(ue):M.fromByteArray(ue.slice(K,ae))}function H(ue,K,ae){ae=Math.min(ue.length,ae);for(var Re=[],Ue=K;Ue<ae;){var je=ue[Ue],nr=null,hr=je>239?4:je>223?3:je>191?2:1;if(Ue+hr<=ae){var wr=void 0,Er=void 0,Mr=void 0,Ar=void 0;switch(hr){case 1:je<128&&(nr=je);break;case 2:wr=ue[Ue+1],(wr&192)===128&&(Ar=(je&31)<<6|wr&63,Ar>127&&(nr=Ar));break;case 3:wr=ue[Ue+1],Er=ue[Ue+2],(wr&192)===128&&(Er&192)===128&&(Ar=(je&15)<<12|(wr&63)<<6|Er&63,Ar>2047&&(Ar<55296||Ar>57343)&&(nr=Ar));break;case 4:wr=ue[Ue+1],Er=ue[Ue+2],Mr=ue[Ue+3],(wr&192)===128&&(Er&192)===128&&(Mr&192)===128&&(Ar=(je&15)<<18|(wr&63)<<12|(Er&63)<<6|Mr&63,Ar>65535&&Ar<1114112&&(nr=Ar))}}nr===null?(nr=65533,hr=1):nr>65535&&(nr-=65536,Re.push(nr>>>10&1023|55296),nr=56320|nr&1023),Re.push(nr),Ue+=hr}return se(Re)}var te=4096;function se(ue){var K=ue.length;if(K<=te)return String.fromCharCode.apply(String,ue);for(var ae="",Re=0;Re<K;)ae+=String.fromCharCode.apply(String,ue.slice(Re,Re+=te));return ae}function he(ue,K,ae){var Re="";ae=Math.min(ue.length,ae);for(var Ue=K;Ue<ae;++Ue)Re+=String.fromCharCode(ue[Ue]&127);return Re}function ke(ue,K,ae){var Re="";ae=Math.min(ue.length,ae);for(var Ue=K;Ue<ae;++Ue)Re+=String.fromCharCode(ue[Ue]);return Re}function we(ue,K,ae){var Re=ue.length;(!K||K<0)&&(K=0),(!ae||ae<0||ae>Re)&&(ae=Re);for(var Ue="",je=K;je<ae;++je)Ue+=Qe[ue[je]];return Ue}function ve(ue,K,ae){for(var Re=ue.slice(K,ae),Ue="",je=0;je<Re.length-1;je+=2)Ue+=String.fromCharCode(Re[je]+Re[je+1]*256);return Ue}h.prototype.slice=function(K,ae){var Re=this.length;K=~~K,ae=ae===void 0?Re:~~ae,K<0?(K+=Re,K<0&&(K=0)):K>Re&&(K=Re),ae<0?(ae+=Re,ae<0&&(ae=0)):ae>Re&&(ae=Re),ae<K&&(ae=K);var Ue=this.subarray(K,ae);return Object.setPrototypeOf(Ue,h.prototype),Ue};function Me(ue,K,ae){if(ue%1!==0||ue<0)throw new RangeError("offset is not uint");if(ue+K>ae)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(K,ae,Re){K=K>>>0,ae=ae>>>0,Re||Me(K,ae,this.length);for(var Ue=this[K],je=1,nr=0;++nr<ae&&(je*=256);)Ue+=this[K+nr]*je;return Ue},h.prototype.readUintBE=h.prototype.readUIntBE=function(K,ae,Re){K=K>>>0,ae=ae>>>0,Re||Me(K,ae,this.length);for(var Ue=this[K+--ae],je=1;ae>0&&(je*=256);)Ue+=this[K+--ae]*je;return Ue},h.prototype.readUint8=h.prototype.readUInt8=function(K,ae){return K=K>>>0,ae||Me(K,1,this.length),this[K]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(K,ae){return K=K>>>0,ae||Me(K,2,this.length),this[K]|this[K+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(K,ae){return K=K>>>0,ae||Me(K,2,this.length),this[K]<<8|this[K+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(K,ae){return K=K>>>0,ae||Me(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+this[K+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(K,ae){return K=K>>>0,ae||Me(K,4,this.length),this[K]*16777216+(this[K+1]<<16|this[K+2]<<8|this[K+3])},h.prototype.readBigUInt64LE=Ve(function(K){K=K>>>0,de(K,"offset");var ae=this[K],Re=this[K+7];(ae===void 0||Re===void 0)&&be(K,this.length-8);var Ue=ae+this[++K]*Math.pow(2,8)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,24),je=this[++K]+this[++K]*Math.pow(2,8)+this[++K]*Math.pow(2,16)+Re*Math.pow(2,24);return BigInt(Ue)+(BigInt(je)<<BigInt(32))}),h.prototype.readBigUInt64BE=Ve(function(K){K=K>>>0,de(K,"offset");var ae=this[K],Re=this[K+7];(ae===void 0||Re===void 0)&&be(K,this.length-8);var Ue=ae*Math.pow(2,24)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,8)+this[++K],je=this[++K]*Math.pow(2,24)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,8)+Re;return(BigInt(Ue)<<BigInt(32))+BigInt(je)}),h.prototype.readIntLE=function(K,ae,Re){K=K>>>0,ae=ae>>>0,Re||Me(K,ae,this.length);for(var Ue=this[K],je=1,nr=0;++nr<ae&&(je*=256);)Ue+=this[K+nr]*je;return je*=128,Ue>=je&&(Ue-=Math.pow(2,8*ae)),Ue},h.prototype.readIntBE=function(K,ae,Re){K=K>>>0,ae=ae>>>0,Re||Me(K,ae,this.length);for(var Ue=ae,je=1,nr=this[K+--Ue];Ue>0&&(je*=256);)nr+=this[K+--Ue]*je;return je*=128,nr>=je&&(nr-=Math.pow(2,8*ae)),nr},h.prototype.readInt8=function(K,ae){return K=K>>>0,ae||Me(K,1,this.length),this[K]&128?(255-this[K]+1)*-1:this[K]},h.prototype.readInt16LE=function(K,ae){K=K>>>0,ae||Me(K,2,this.length);var Re=this[K]|this[K+1]<<8;return Re&32768?Re|4294901760:Re},h.prototype.readInt16BE=function(K,ae){K=K>>>0,ae||Me(K,2,this.length);var Re=this[K+1]|this[K]<<8;return Re&32768?Re|4294901760:Re},h.prototype.readInt32LE=function(K,ae){return K=K>>>0,ae||Me(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},h.prototype.readInt32BE=function(K,ae){return K=K>>>0,ae||Me(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},h.prototype.readBigInt64LE=Ve(function(K){K=K>>>0,de(K,"offset");var ae=this[K],Re=this[K+7];(ae===void 0||Re===void 0)&&be(K,this.length-8);var Ue=this[K+4]+this[K+5]*Math.pow(2,8)+this[K+6]*Math.pow(2,16)+(Re<<24);return(BigInt(Ue)<<BigInt(32))+BigInt(ae+this[++K]*Math.pow(2,8)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,24))}),h.prototype.readBigInt64BE=Ve(function(K){K=K>>>0,de(K,"offset");var ae=this[K],Re=this[K+7];(ae===void 0||Re===void 0)&&be(K,this.length-8);var Ue=(ae<<24)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,8)+this[++K];return(BigInt(Ue)<<BigInt(32))+BigInt(this[++K]*Math.pow(2,24)+this[++K]*Math.pow(2,16)+this[++K]*Math.pow(2,8)+Re)}),h.prototype.readFloatLE=function(K,ae){return K=K>>>0,ae||Me(K,4,this.length),d.read(this,K,!0,23,4)},h.prototype.readFloatBE=function(K,ae){return K=K>>>0,ae||Me(K,4,this.length),d.read(this,K,!1,23,4)},h.prototype.readDoubleLE=function(K,ae){return K=K>>>0,ae||Me(K,8,this.length),d.read(this,K,!0,52,8)},h.prototype.readDoubleBE=function(K,ae){return K=K>>>0,ae||Me(K,8,this.length),d.read(this,K,!1,52,8)};function Se(ue,K,ae,Re,Ue,je){if(!h.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>Ue||K<je)throw new RangeError('"value" argument is out of bounds');if(ae+Re>ue.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(K,ae,Re,Ue){if(K=+K,ae=ae>>>0,Re=Re>>>0,!Ue){var je=Math.pow(2,8*Re)-1;Se(this,K,ae,Re,je,0)}var nr=1,hr=0;for(this[ae]=K&255;++hr<Re&&(nr*=256);)this[ae+hr]=K/nr&255;return ae+Re},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(K,ae,Re,Ue){if(K=+K,ae=ae>>>0,Re=Re>>>0,!Ue){var je=Math.pow(2,8*Re)-1;Se(this,K,ae,Re,je,0)}var nr=Re-1,hr=1;for(this[ae+nr]=K&255;--nr>=0&&(hr*=256);)this[ae+nr]=K/hr&255;return ae+Re},h.prototype.writeUint8=h.prototype.writeUInt8=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,1,255,0),this[ae]=K&255,ae+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,2,65535,0),this[ae]=K&255,this[ae+1]=K>>>8,ae+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,2,65535,0),this[ae]=K>>>8,this[ae+1]=K&255,ae+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,4,4294967295,0),this[ae+3]=K>>>24,this[ae+2]=K>>>16,this[ae+1]=K>>>8,this[ae]=K&255,ae+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,4,4294967295,0),this[ae]=K>>>24,this[ae+1]=K>>>16,this[ae+2]=K>>>8,this[ae+3]=K&255,ae+4};function De(ue,K,ae,Re,Ue){me(K,Re,Ue,ue,ae,7);var je=Number(K&BigInt(4294967295));ue[ae++]=je,je=je>>8,ue[ae++]=je,je=je>>8,ue[ae++]=je,je=je>>8,ue[ae++]=je;var nr=Number(K>>BigInt(32)&BigInt(4294967295));return ue[ae++]=nr,nr=nr>>8,ue[ae++]=nr,nr=nr>>8,ue[ae++]=nr,nr=nr>>8,ue[ae++]=nr,ae}function Ce(ue,K,ae,Re,Ue){me(K,Re,Ue,ue,ae,7);var je=Number(K&BigInt(4294967295));ue[ae+7]=je,je=je>>8,ue[ae+6]=je,je=je>>8,ue[ae+5]=je,je=je>>8,ue[ae+4]=je;var nr=Number(K>>BigInt(32)&BigInt(4294967295));return ue[ae+3]=nr,nr=nr>>8,ue[ae+2]=nr,nr=nr>>8,ue[ae+1]=nr,nr=nr>>8,ue[ae]=nr,ae+8}h.prototype.writeBigUInt64LE=Ve(function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return De(this,K,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Ve(function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ce(this,K,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(K,ae,Re,Ue){if(K=+K,ae=ae>>>0,!Ue){var je=Math.pow(2,8*Re-1);Se(this,K,ae,Re,je-1,-je)}var nr=0,hr=1,wr=0;for(this[ae]=K&255;++nr<Re&&(hr*=256);)K<0&&wr===0&&this[ae+nr-1]!==0&&(wr=1),this[ae+nr]=(K/hr>>0)-wr&255;return ae+Re},h.prototype.writeIntBE=function(K,ae,Re,Ue){if(K=+K,ae=ae>>>0,!Ue){var je=Math.pow(2,8*Re-1);Se(this,K,ae,Re,je-1,-je)}var nr=Re-1,hr=1,wr=0;for(this[ae+nr]=K&255;--nr>=0&&(hr*=256);)K<0&&wr===0&&this[ae+nr+1]!==0&&(wr=1),this[ae+nr]=(K/hr>>0)-wr&255;return ae+Re},h.prototype.writeInt8=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,1,127,-128),K<0&&(K=255+K+1),this[ae]=K&255,ae+1},h.prototype.writeInt16LE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,2,32767,-32768),this[ae]=K&255,this[ae+1]=K>>>8,ae+2},h.prototype.writeInt16BE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,2,32767,-32768),this[ae]=K>>>8,this[ae+1]=K&255,ae+2},h.prototype.writeInt32LE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,4,2147483647,-2147483648),this[ae]=K&255,this[ae+1]=K>>>8,this[ae+2]=K>>>16,this[ae+3]=K>>>24,ae+4},h.prototype.writeInt32BE=function(K,ae,Re){return K=+K,ae=ae>>>0,Re||Se(this,K,ae,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),this[ae]=K>>>24,this[ae+1]=K>>>16,this[ae+2]=K>>>8,this[ae+3]=K&255,ae+4},h.prototype.writeBigInt64LE=Ve(function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return De(this,K,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Ve(function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ce(this,K,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Oe(ue,K,ae,Re,Ue,je){if(ae+Re>ue.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("Index out of range")}function Be(ue,K,ae,Re,Ue){return K=+K,ae=ae>>>0,Ue||Oe(ue,K,ae,4,34028234663852886e22,-34028234663852886e22),d.write(ue,K,ae,Re,23,4),ae+4}h.prototype.writeFloatLE=function(K,ae,Re){return Be(this,K,ae,!0,Re)},h.prototype.writeFloatBE=function(K,ae,Re){return Be(this,K,ae,!1,Re)};function ge(ue,K,ae,Re,Ue){return K=+K,ae=ae>>>0,Ue||Oe(ue,K,ae,8,17976931348623157e292,-17976931348623157e292),d.write(ue,K,ae,Re,52,8),ae+8}h.prototype.writeDoubleLE=function(K,ae,Re){return ge(this,K,ae,!0,Re)},h.prototype.writeDoubleBE=function(K,ae,Re){return ge(this,K,ae,!1,Re)},h.prototype.copy=function(K,ae,Re,Ue){if(!h.isBuffer(K))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!Ue&&Ue!==0&&(Ue=this.length),ae>=K.length&&(ae=K.length),ae||(ae=0),Ue>0&&Ue<Re&&(Ue=Re),Ue===Re||K.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),K.length-ae<Ue-Re&&(Ue=K.length-ae+Re);var je=Ue-Re;return this===K&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ae,Re,Ue):Uint8Array.prototype.set.call(K,this.subarray(Re,Ue),ae),je},h.prototype.fill=function(K,ae,Re,Ue){if(typeof K=="string"){if(typeof ae=="string"?(Ue=ae,ae=0,Re=this.length):typeof Re=="string"&&(Ue=Re,Re=this.length),Ue!==void 0&&typeof Ue!="string")throw new TypeError("encoding must be a string");if(typeof Ue=="string"&&!h.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);if(K.length===1){var je=K.charCodeAt(0);(Ue==="utf8"&&je<128||Ue==="latin1")&&(K=je)}}else typeof K=="number"?K=K&255:typeof K=="boolean"&&(K=Number(K));if(ae<0||this.length<ae||this.length<Re)throw new RangeError("Out of range index");if(Re<=ae)return this;ae=ae>>>0,Re=Re===void 0?this.length:Re>>>0,K||(K=0);var nr;if(typeof K=="number")for(nr=ae;nr<Re;++nr)this[nr]=K;else{var hr=h.isBuffer(K)?K:h.from(K,Ue),wr=hr.length;if(wr===0)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(nr=0;nr<Re-ae;++nr)this[nr+ae]=hr[nr%wr]}return this};var Ae={};function ce(ue,K,ae){Ae[ue]=function(Re){function Ue(){var je;return u(this,Ue),je=b(this,Ue),Object.defineProperty(je,"message",{value:K.apply(je,arguments),writable:!0,configurable:!0}),je.name="".concat(je.name," [").concat(ue,"]"),je.stack,delete je.name,je}return w(Ue,Re),f(Ue,[{key:"code",get:function(){return ue},set:function(nr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:nr,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ue,"]: ").concat(this.message)}}])}(ae)}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?"".concat(ue," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(ue,K){return'The "'.concat(ue,'" argument must be of type number. Received type ').concat(y(K))},TypeError),ce("ERR_OUT_OF_RANGE",function(ue,K,ae){var Re='The value of "'.concat(ue,'" is out of range.'),Ue=ae;return Number.isInteger(ae)&&Math.abs(ae)>Math.pow(2,32)?Ue=ye(String(ae)):typeof ae=="bigint"&&(Ue=String(ae),(ae>Math.pow(BigInt(2),BigInt(32))||ae<-Math.pow(BigInt(2),BigInt(32)))&&(Ue=ye(Ue)),Ue+="n"),Re+=" It must be ".concat(K,". Received ").concat(Ue),Re},RangeError);function ye(ue){for(var K="",ae=ue.length,Re=ue[0]==="-"?1:0;ae>=Re+4;ae-=3)K="_".concat(ue.slice(ae-3,ae)).concat(K);return"".concat(ue.slice(0,ae)).concat(K)}function Le(ue,K,ae){de(K,"offset"),(ue[K]===void 0||ue[K+ae]===void 0)&&be(K,ue.length-(ae+1))}function me(ue,K,ae,Re,Ue,je){if(ue>ae||ue<K){var nr=typeof K=="bigint"?"n":"",hr;throw je>3?K===0||K===BigInt(0)?hr=">= 0".concat(nr," and < 2").concat(nr," ** ").concat((je+1)*8).concat(nr):hr=">= -(2".concat(nr," ** ").concat((je+1)*8-1).concat(nr,") and < 2 ** ")+"".concat((je+1)*8-1).concat(nr):hr=">= ".concat(K).concat(nr," and <= ").concat(ae).concat(nr),new Ae.ERR_OUT_OF_RANGE("value",hr,ue)}Le(Re,Ue,je)}function de(ue,K){if(typeof ue!="number")throw new Ae.ERR_INVALID_ARG_TYPE(K,"number",ue)}function be(ue,K,ae){throw Math.floor(ue)!==ue?(de(ue,ae),new Ae.ERR_OUT_OF_RANGE(ae||"offset","an integer",ue)):K<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(ae||"offset",">= ".concat(ae?1:0," and <= ").concat(K),ue)}var Ee=/[^+/0-9A-Za-z-_]/g;function ze(ue){if(ue=ue.split("=")[0],ue=ue.trim().replace(Ee,""),ue.length<2)return"";for(;ue.length%4!==0;)ue=ue+"=";return ue}function Fe(ue,K){K=K||1/0;for(var ae,Re=ue.length,Ue=null,je=[],nr=0;nr<Re;++nr){if(ae=ue.charCodeAt(nr),ae>55295&&ae<57344){if(!Ue){if(ae>56319){(K-=3)>-1&&je.push(239,191,189);continue}else if(nr+1===Re){(K-=3)>-1&&je.push(239,191,189);continue}Ue=ae;continue}if(ae<56320){(K-=3)>-1&&je.push(239,191,189),Ue=ae;continue}ae=(Ue-55296<<10|ae-56320)+65536}else Ue&&(K-=3)>-1&&je.push(239,191,189);if(Ue=null,ae<128){if((K-=1)<0)break;je.push(ae)}else if(ae<2048){if((K-=2)<0)break;je.push(ae>>6|192,ae&63|128)}else if(ae<65536){if((K-=3)<0)break;je.push(ae>>12|224,ae>>6&63|128,ae&63|128)}else if(ae<1114112){if((K-=4)<0)break;je.push(ae>>18|240,ae>>12&63|128,ae>>6&63|128,ae&63|128)}else throw new Error("Invalid code point")}return je}function Je(ue){for(var K=[],ae=0;ae<ue.length;++ae)K.push(ue.charCodeAt(ae)&255);return K}function Ye(ue,K){for(var ae,Re,Ue,je=[],nr=0;nr<ue.length&&!((K-=2)<0);++nr)ae=ue.charCodeAt(nr),Re=ae>>8,Ue=ae%256,je.push(Ue),je.push(Re);return je}function Ge(ue){return M.toByteArray(ze(ue))}function We(ue,K,ae,Re){var Ue;for(Ue=0;Ue<Re&&!(Ue+ae>=K.length||Ue>=ue.length);++Ue)K[Ue+ae]=ue[Ue];return Ue}function Te(ue,K){return ue instanceof K||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===K.name}function Pe(ue){return ue!==ue}var Qe=function(){for(var ue="0123456789abcdef",K=new Array(256),ae=0;ae<16;++ae)for(var Re=ae*16,Ue=0;Ue<16;++Ue)K[Re+Ue]=ue[ae]+ue[Ue];return K}();function Ve(ue){return typeof BigInt=="undefined"?ar:ue}function ar(){throw new Error("BigInt not supported")}},9216:function(a){"use strict";a.exports=u,a.exports.isMobile=u,a.exports.default=u;var o=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,l=/android|ipad|playbook|silk/i;function u(s){s||(s={});var f=s.ua;if(!f&&typeof navigator!="undefined"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var v=o.test(f)&&!i.test(f)||!!s.tablet&&l.test(f);return!v&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(v=!0),v}},6296:function(a,o,i){"use strict";a.exports=g;var l=i(7261),u=i(9977),s=i(4192);function f(b,x){this._controllerNames=Object.keys(b),this._controllerList=this._controllerNames.map(function(T){return b[T]}),this._mode=x,this._active=b[x],this._active||(this._mode="turntable",this._active=b.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var v=f.prototype;v.flush=function(b){for(var x=this._controllerList,T=0;T<x.length;++T)x[T].flush(b)},v.idle=function(b){for(var x=this._controllerList,T=0;T<x.length;++T)x[T].idle(b)},v.lookAt=function(b,x,T,A){for(var m=this._controllerList,w=0;w<m.length;++w)m[w].lookAt(b,x,T,A)},v.rotate=function(b,x,T,A){for(var m=this._controllerList,w=0;w<m.length;++w)m[w].rotate(b,x,T,A)},v.pan=function(b,x,T,A){for(var m=this._controllerList,w=0;w<m.length;++w)m[w].pan(b,x,T,A)},v.translate=function(b,x,T,A){for(var m=this._controllerList,w=0;w<m.length;++w)m[w].translate(b,x,T,A)},v.setMatrix=function(b,x){for(var T=this._controllerList,A=0;A<T.length;++A)T[A].setMatrix(b,x)},v.setDistanceLimits=function(b,x){for(var T=this._controllerList,A=0;A<T.length;++A)T[A].setDistanceLimits(b,x)},v.setDistance=function(b,x){for(var T=this._controllerList,A=0;A<T.length;++A)T[A].setDistance(b,x)},v.recalcMatrix=function(b){this._active.recalcMatrix(b)},v.getDistance=function(b){return this._active.getDistance(b)},v.getDistanceLimits=function(b){return this._active.getDistanceLimits(b)},v.lastT=function(){return this._active.lastT()},v.setMode=function(b){if(b!==this._mode){var x=this._controllerNames.indexOf(b);if(!(x<0)){var T=this._active,A=this._controllerList[x],m=Math.max(T.lastT(),A.lastT());T.recalcMatrix(m),A.setMatrix(m,T.computedMatrix),this._active=A,this._mode=b,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},v.getMode=function(){return this._mode};function g(b){b=b||{};var x=b.eye||[0,0,1],T=b.center||[0,0,0],A=b.up||[0,1,0],m=b.distanceLimits||[0,1/0],w=b.mode||"turntable",k=l(),y=u(),M=s();return k.setDistanceLimits(m[0],m[1]),k.lookAt(0,x,T,A),y.setDistanceLimits(m[0],m[1]),y.lookAt(0,x,T,A),M.setDistanceLimits(m[0],m[1]),M.lookAt(0,x,T,A),new f({turntable:k,orbit:y,matrix:M},w)}},7169:function(a,o,i){"use strict";var l=typeof WeakMap=="undefined"?i(1538):WeakMap,u=i(2762),s=i(8116),f=new l;function v(g){var b=f.get(g),x=b&&(b._triangleBuffer.handle||b._triangleBuffer.buffer);if(!x||!g.isBuffer(x)){var T=u(g,new Float32Array([-1,-1,-1,4,4,-1]));b=s(g,[{buffer:T,type:g.FLOAT,size:2}]),b._triangleBuffer=T,f.set(g,b)}b.bind(),g.drawArrays(g.TRIANGLES,0,3),b.unbind()}a.exports=v},1085:function(a,o,i){var l=i(1371);a.exports=u;function u(s,f,v){f=typeof f=="number"?f:1,v=v||": ";var g=s.split(/\r?\n/),b=String(g.length+f-1).length;return g.map(function(x,T){var A=T+f,m=String(A).length,w=l(A,b-m);return w+v+x}).join(`
`)}},3952:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function u(f,v){for(var g=new Array(v+1),b=0;b<f.length;++b)g[b]=f[b];for(var b=0;b<=f.length;++b){for(var x=f.length;x<=v;++x){for(var T=new Array(v),A=0;A<v;++A)T[A]=Math.pow(x+1-b,A);g[x]=T}var m=l.apply(void 0,g);if(m)return!0}return!1}function s(f){var v=f.length;if(v===0)return[];if(v===1)return[0];for(var g=f[0].length,b=[f[0]],x=[0],T=1;T<v;++T){if(b.push(f[T]),!u(b,g)){b.pop();continue}if(x.push(T),x.length===g+1)return x}return x}},5995:function(a,o,i){"use strict";a.exports=s;var l=i(7642),u=i(6037);function s(f,v){return l(v).filter(function(g){for(var b=new Array(g.length),x=0;x<g.length;++x)b[x]=v[g[x]];return u(b)*f<1})}},3502:function(a,o,i){a.exports=s;var l=i(5995),u=i(9127);function s(f,v){return u(l(f,v))}},6468:function(a){a.exports=function(i){return atob(i)}},2642:function(a,o,i){"use strict";a.exports=s;var l=i(727);function u(f){for(var v=0,g=0;g<f.length;++g)v+=f[g];return v}function s(f,v){for(var g=v.length,b=new Array(g+1),x=0;x<g;++x){for(var T=new Array(g+1),A=0;A<=g;++A)T[A]=f[A][x];b[x]=T}b[g]=new Array(g+1);for(var x=0;x<=g;++x)b[g][x]=1;for(var m=new Array(g+1),x=0;x<g;++x)m[x]=v[x];m[g]=1;var w=l(b,m),k=u(w[g+1]);k===0&&(k=1);for(var y=new Array(g+1),x=0;x<=g;++x)y[x]=u(w[x])/k;return y}},7507:function(a,o){"use strict";o.byteLength=b,o.toByteArray=T,o.fromByteArray=w;for(var i=[],l=[],u=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,v=s.length;f<v;++f)i[f]=s[f],l[s.charCodeAt(f)]=f;l[45]=62,l[95]=63;function g(k){var y=k.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=k.indexOf("=");M===-1&&(M=y);var d=M===y?0:4-M%4;return[M,d]}function b(k){var y=g(k),M=y[0],d=y[1];return(M+d)*3/4-d}function x(k,y,M){return(y+M)*3/4-M}function T(k){var y,M=g(k),d=M[0],_=M[1],p=new u(x(k,d,_)),c=0,S=_>0?d-4:d,h;for(h=0;h<S;h+=4)y=l[k.charCodeAt(h)]<<18|l[k.charCodeAt(h+1)]<<12|l[k.charCodeAt(h+2)]<<6|l[k.charCodeAt(h+3)],p[c++]=y>>16&255,p[c++]=y>>8&255,p[c++]=y&255;return _===2&&(y=l[k.charCodeAt(h)]<<2|l[k.charCodeAt(h+1)]>>4,p[c++]=y&255),_===1&&(y=l[k.charCodeAt(h)]<<10|l[k.charCodeAt(h+1)]<<4|l[k.charCodeAt(h+2)]>>2,p[c++]=y>>8&255,p[c++]=y&255),p}function A(k){return i[k>>18&63]+i[k>>12&63]+i[k>>6&63]+i[k&63]}function m(k,y,M){for(var d,_=[],p=y;p<M;p+=3)d=(k[p]<<16&16711680)+(k[p+1]<<8&65280)+(k[p+2]&255),_.push(A(d));return _.join("")}function w(k){for(var y,M=k.length,d=M%3,_=[],p=16383,c=0,S=M-d;c<S;c+=p)_.push(m(k,c,c+p>S?S:c+p));return d===1?(y=k[M-1],_.push(i[y>>2]+i[y<<4&63]+"==")):d===2&&(y=(k[M-2]<<8)+k[M-1],_.push(i[y>>10]+i[y>>4&63]+i[y<<2&63]+"=")),_.join("")}},3865:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]).add(f[0].mul(s[1])),s[1].mul(f[1]))}},1318:function(a){"use strict";a.exports=o;function o(i,l){return i[0].mul(l[1]).cmp(l[0].mul(i[1]))}},8697:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]),s[1].mul(f[0]))}},7842:function(a,o,i){"use strict";var l=i(6330),u=i(1533),s=i(2651),f=i(4387),v=i(869),g=i(8697);a.exports=b;function b(x,T){if(l(x))return T?g(x,b(T)):[x[0].clone(),x[1].clone()];var A=0,m,w;if(u(x))m=x.clone();else if(typeof x=="string")m=f(x);else{if(x===0)return[s(0),s(1)];if(x===Math.floor(x))m=s(x);else{for(;x!==Math.floor(x);)x=x*Math.pow(2,256),A-=256;m=s(x)}}if(l(T))m.mul(T[1]),w=T[0].clone();else if(u(T))w=T.clone();else if(typeof T=="string")w=f(T);else if(!T)w=s(1);else if(T===Math.floor(T))w=s(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),A+=256;w=s(T)}return A>0?m=m.ushln(A):A<0&&(w=w.ushln(-A)),v(m,w)}},6330:function(a,o,i){"use strict";var l=i(1533);a.exports=u;function u(s){return Array.isArray(s)&&s.length===2&&l(s[0])&&l(s[1])}},5716:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return s.cmp(new l(0))}},1369:function(a,o,i){"use strict";var l=i(5716);a.exports=u;function u(s){var f=s.length,v=s.words,g=0;if(f===1)g=v[0];else if(f===2)g=v[0]+v[1]*67108864;else for(var b=0;b<f;b++){var x=v[b];g+=x*Math.pow(67108864,b)}return l(s)*g}},4025:function(a,o,i){"use strict";var l=i(2361),u=i(8828).countTrailingZeros;a.exports=s;function s(f){var v=u(l.lo(f));if(v<32)return v;var g=u(l.hi(f));return g>20?52:g+32}},1533:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return s&&typeof s=="object"&&!!s.words}},2651:function(a,o,i){"use strict";var l=i(6859),u=i(2361);a.exports=s;function s(f){var v=u.exponent(f);return v<52?new l(f):new l(f*Math.pow(2,52-v)).ushln(v-52)}},869:function(a,o,i){"use strict";var l=i(2651),u=i(5716);a.exports=s;function s(f,v){var g=u(f),b=u(v);if(g===0)return[l(0),l(1)];if(b===0)return[l(0),l(0)];b<0&&(f=f.neg(),v=v.neg());var x=f.gcd(v);return x.cmpn(1)?[f.div(x),v.div(x)]:[f,v]}},4387:function(a,o,i){"use strict";var l=i(6859);a.exports=u;function u(s){return new l(s)}},6504:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[0]),s[1].mul(f[1]))}},7721:function(a,o,i){"use strict";var l=i(5716);a.exports=u;function u(s){return l(s[0])*l(s[1])}},5572:function(a,o,i){"use strict";var l=i(869);a.exports=u;function u(s,f){return l(s[0].mul(f[1]).sub(s[1].mul(f[0])),s[1].mul(f[1]))}},946:function(a,o,i){"use strict";var l=i(1369),u=i(4025);a.exports=s;function s(f){var v=f[0],g=f[1];if(v.cmpn(0)===0)return 0;var b=v.abs().divmod(g.abs()),x=b.div,T=l(x),A=b.mod,m=v.negative!==g.negative?-1:1;if(A.cmpn(0)===0)return m*T;if(T){var w=u(T)+4,k=l(A.ushln(w).divRound(g));return m*(T+k*Math.pow(2,-w))}else{var y=g.bitLength()-A.bitLength()+53,k=l(A.ushln(y).divRound(g));return y<1023?m*k*Math.pow(2,-y):(k*=Math.pow(2,-1023),m*k*Math.pow(2,1023-y))}}},2478:function(a){"use strict";function o(v,g,b,x,T){for(var A=T+1;x<=T;){var m=x+T>>>1,w=v[m],k=b!==void 0?b(w,g):w-g;k>=0?(A=m,T=m-1):x=m+1}return A}function i(v,g,b,x,T){for(var A=T+1;x<=T;){var m=x+T>>>1,w=v[m],k=b!==void 0?b(w,g):w-g;k>0?(A=m,T=m-1):x=m+1}return A}function l(v,g,b,x,T){for(var A=x-1;x<=T;){var m=x+T>>>1,w=v[m],k=b!==void 0?b(w,g):w-g;k<0?(A=m,x=m+1):T=m-1}return A}function u(v,g,b,x,T){for(var A=x-1;x<=T;){var m=x+T>>>1,w=v[m],k=b!==void 0?b(w,g):w-g;k<=0?(A=m,x=m+1):T=m-1}return A}function s(v,g,b,x,T){for(;x<=T;){var A=x+T>>>1,m=v[A],w=b!==void 0?b(m,g):m-g;if(w===0)return A;w<=0?x=A+1:T=A-1}return-1}function f(v,g,b,x,T,A){return typeof b=="function"?A(v,g,b,x===void 0?0:x|0,T===void 0?v.length-1:T|0):A(v,g,void 0,b===void 0?0:b|0,x===void 0?v.length-1:x|0)}a.exports={ge:function(v,g,b,x,T){return f(v,g,b,x,T,o)},gt:function(v,g,b,x,T){return f(v,g,b,x,T,i)},lt:function(v,g,b,x,T){return f(v,g,b,x,T,l)},le:function(v,g,b,x,T){return f(v,g,b,x,T,u)},eq:function(v,g,b,x,T){return f(v,g,b,x,T,s)}}},8828:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var f=s>>i-1;return(s^f)-f},o.min=function(s,f){return f^(s^f)&-(s<f)},o.max=function(s,f){return s^(s^f)&-(s<f)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var f,v;return f=(s>65535)<<4,s>>>=f,v=(s>255)<<3,s>>>=v,f|=v,v=(s>15)<<2,s>>>=v,f|=v,v=(s>3)<<1,s>>>=v,f|=v,f|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var f=32;return s&=-s,s&&f--,s&65535&&(f-=16),s&16711935&&(f-=8),s&252645135&&(f-=4),s&858993459&&(f-=2),s&1431655765&&(f-=1),f}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var u=new Array(256);(function(s){for(var f=0;f<256;++f){var v=f,g=f,b=7;for(v>>>=1;v;v>>>=1)g<<=1,g|=v&1,--b;s[f]=g<<b&255}})(u),o.reverse=function(s){return u[s&255]<<24|u[s>>>8&255]<<16|u[s>>>16&255]<<8|u[s>>>24&255]},o.interleave2=function(s,f){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,s|f<<1},o.deinterleave2=function(s,f){return s=s>>>f&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,f,v){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,s|=f<<1,v&=1023,v=(v|v<<16)&4278190335,v=(v|v<<8)&251719695,v=(v|v<<4)&3272356035,v=(v|v<<2)&1227133513,s|v<<2},o.deinterleave3=function(s,f){return s=s>>>f&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var f=s|s-1;return f+1|(~f&-~f)-1>>>l(s)+1}},6859:function(a,o,i){a=i.nmd(a),function(l,u){"use strict";function s(F,L){if(!F)throw new Error(L||"Assertion failed")}function f(F,L){F.super_=L;var P=function(){};P.prototype=L.prototype,F.prototype=new P,F.prototype.constructor=F}function v(F,L,P){if(v.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((L==="le"||L==="be")&&(P=L,L=10),this._init(F||0,L||10,P||"be"))}typeof l=="object"?l.exports=v:u.BN=v,v.BN=v,v.wordSize=26;var g;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?g=window.Buffer:g=i(7790).Buffer}catch(F){}v.isBN=function(L){return L instanceof v?!0:L!==null&&typeof L=="object"&&L.constructor.wordSize===v.wordSize&&Array.isArray(L.words)},v.max=function(L,P){return L.cmp(P)>0?L:P},v.min=function(L,P){return L.cmp(P)<0?L:P},v.prototype._init=function(L,P,q){if(typeof L=="number")return this._initNumber(L,P,q);if(typeof L=="object")return this._initArray(L,P,q);P==="hex"&&(P=16),s(P===(P|0)&&P>=2&&P<=36),L=L.toString().replace(/\s+/g,"");var U=0;L[0]==="-"&&(U++,this.negative=1),U<L.length&&(P===16?this._parseHex(L,U,q):(this._parseBase(L,P,U),q==="le"&&this._initArray(this.toArray(),P,q)))},v.prototype._initNumber=function(L,P,q){L<0&&(this.negative=1,L=-L),L<67108864?(this.words=[L&67108863],this.length=1):L<4503599627370496?(this.words=[L&67108863,L/67108864&67108863],this.length=2):(s(L<9007199254740992),this.words=[L&67108863,L/67108864&67108863,1],this.length=3),q==="le"&&this._initArray(this.toArray(),P,q)},v.prototype._initArray=function(L,P,q){if(s(typeof L.length=="number"),L.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(L.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var W,j,$=0;if(q==="be")for(U=L.length-1,W=0;U>=0;U-=3)j=L[U]|L[U-1]<<8|L[U-2]<<16,this.words[W]|=j<<$&67108863,this.words[W+1]=j>>>26-$&67108863,$+=24,$>=26&&($-=26,W++);else if(q==="le")for(U=0,W=0;U<L.length;U+=3)j=L[U]|L[U+1]<<8|L[U+2]<<16,this.words[W]|=j<<$&67108863,this.words[W+1]=j>>>26-$&67108863,$+=24,$>=26&&($-=26,W++);return this.strip()};function b(F,L){var P=F.charCodeAt(L);return P>=65&&P<=70?P-55:P>=97&&P<=102?P-87:P-48&15}function x(F,L,P){var q=b(F,P);return P-1>=L&&(q|=b(F,P-1)<<4),q}v.prototype._parseHex=function(L,P,q){this.length=Math.ceil((L.length-P)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var W=0,j=0,$;if(q==="be")for(U=L.length-1;U>=P;U-=2)$=x(L,P,U)<<W,this.words[j]|=$&67108863,W>=18?(W-=18,j+=1,this.words[j]|=$>>>26):W+=8;else{var G=L.length-P;for(U=G%2===0?P+1:P;U<L.length;U+=2)$=x(L,P,U)<<W,this.words[j]|=$&67108863,W>=18?(W-=18,j+=1,this.words[j]|=$>>>26):W+=8}this.strip()};function T(F,L,P,q){for(var U=0,W=Math.min(F.length,P),j=L;j<W;j++){var $=F.charCodeAt(j)-48;U*=q,$>=49?U+=$-49+10:$>=17?U+=$-17+10:U+=$}return U}v.prototype._parseBase=function(L,P,q){this.words=[0],this.length=1;for(var U=0,W=1;W<=67108863;W*=P)U++;U--,W=W/P|0;for(var j=L.length-q,$=j%U,G=Math.min(j,j-$)+q,O=0,Z=q;Z<G;Z+=U)O=T(L,Z,Z+U,P),this.imuln(W),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if($!==0){var ne=1;for(O=T(L,Z,L.length,P),Z=0;Z<$;Z++)ne*=P;this.imuln(ne),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this.strip()},v.prototype.copy=function(L){L.words=new Array(this.length);for(var P=0;P<this.length;P++)L.words[P]=this.words[P];L.length=this.length,L.negative=this.negative,L.red=this.red},v.prototype.clone=function(){var L=new v(null);return this.copy(L),L},v.prototype._expand=function(L){for(;this.length<L;)this.words[this.length++]=0;return this},v.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},v.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},v.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];v.prototype.toString=function(L,P){L=L||10,P=P|0||1;var q;if(L===16||L==="hex"){q="";for(var U=0,W=0,j=0;j<this.length;j++){var $=this.words[j],G=(($<<U|W)&16777215).toString(16);W=$>>>24-U&16777215,W!==0||j!==this.length-1?q=A[6-G.length]+G+q:q=G+q,U+=2,U>=26&&(U-=26,j--)}for(W!==0&&(q=W.toString(16)+q);q.length%P!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}if(L===(L|0)&&L>=2&&L<=36){var O=m[L],Z=w[L];q="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var Q=ne.modn(Z).toString(L);ne=ne.idivn(Z),ne.isZero()?q=Q+q:q=A[O-Q.length]+Q+q}for(this.isZero()&&(q="0"+q);q.length%P!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}s(!1,"Base should be between 2 and 36")},v.prototype.toNumber=function(){var L=this.words[0];return this.length===2?L+=this.words[1]*67108864:this.length===3&&this.words[2]===1?L+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-L:L},v.prototype.toJSON=function(){return this.toString(16)},v.prototype.toBuffer=function(L,P){return s(typeof g!="undefined"),this.toArrayLike(g,L,P)},v.prototype.toArray=function(L,P){return this.toArrayLike(Array,L,P)},v.prototype.toArrayLike=function(L,P,q){var U=this.byteLength(),W=q||Math.max(1,U);s(U<=W,"byte array longer than desired length"),s(W>0,"Requested array length <= 0"),this.strip();var j=P==="le",$=new L(W),G,O,Z=this.clone();if(j){for(O=0;!Z.isZero();O++)G=Z.andln(255),Z.iushrn(8),$[O]=G;for(;O<W;O++)$[O]=0}else{for(O=0;O<W-U;O++)$[O]=0;for(O=0;!Z.isZero();O++)G=Z.andln(255),Z.iushrn(8),$[W-O-1]=G}return $},Math.clz32?v.prototype._countBits=function(L){return 32-Math.clz32(L)}:v.prototype._countBits=function(L){var P=L,q=0;return P>=4096&&(q+=13,P>>>=13),P>=64&&(q+=7,P>>>=7),P>=8&&(q+=4,P>>>=4),P>=2&&(q+=2,P>>>=2),q+P},v.prototype._zeroBits=function(L){if(L===0)return 26;var P=L,q=0;return P&8191||(q+=13,P>>>=13),P&127||(q+=7,P>>>=7),P&15||(q+=4,P>>>=4),P&3||(q+=2,P>>>=2),P&1||q++,q},v.prototype.bitLength=function(){var L=this.words[this.length-1],P=this._countBits(L);return(this.length-1)*26+P};function k(F){for(var L=new Array(F.bitLength()),P=0;P<L.length;P++){var q=P/26|0,U=P%26;L[P]=(F.words[q]&1<<U)>>>U}return L}v.prototype.zeroBits=function(){if(this.isZero())return 0;for(var L=0,P=0;P<this.length;P++){var q=this._zeroBits(this.words[P]);if(L+=q,q!==26)break}return L},v.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},v.prototype.toTwos=function(L){return this.negative!==0?this.abs().inotn(L).iaddn(1):this.clone()},v.prototype.fromTwos=function(L){return this.testn(L-1)?this.notn(L).iaddn(1).ineg():this.clone()},v.prototype.isNeg=function(){return this.negative!==0},v.prototype.neg=function(){return this.clone().ineg()},v.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},v.prototype.iuor=function(L){for(;this.length<L.length;)this.words[this.length++]=0;for(var P=0;P<L.length;P++)this.words[P]=this.words[P]|L.words[P];return this.strip()},v.prototype.ior=function(L){return s((this.negative|L.negative)===0),this.iuor(L)},v.prototype.or=function(L){return this.length>L.length?this.clone().ior(L):L.clone().ior(this)},v.prototype.uor=function(L){return this.length>L.length?this.clone().iuor(L):L.clone().iuor(this)},v.prototype.iuand=function(L){var P;this.length>L.length?P=L:P=this;for(var q=0;q<P.length;q++)this.words[q]=this.words[q]&L.words[q];return this.length=P.length,this.strip()},v.prototype.iand=function(L){return s((this.negative|L.negative)===0),this.iuand(L)},v.prototype.and=function(L){return this.length>L.length?this.clone().iand(L):L.clone().iand(this)},v.prototype.uand=function(L){return this.length>L.length?this.clone().iuand(L):L.clone().iuand(this)},v.prototype.iuxor=function(L){var P,q;this.length>L.length?(P=this,q=L):(P=L,q=this);for(var U=0;U<q.length;U++)this.words[U]=P.words[U]^q.words[U];if(this!==P)for(;U<P.length;U++)this.words[U]=P.words[U];return this.length=P.length,this.strip()},v.prototype.ixor=function(L){return s((this.negative|L.negative)===0),this.iuxor(L)},v.prototype.xor=function(L){return this.length>L.length?this.clone().ixor(L):L.clone().ixor(this)},v.prototype.uxor=function(L){return this.length>L.length?this.clone().iuxor(L):L.clone().iuxor(this)},v.prototype.inotn=function(L){s(typeof L=="number"&&L>=0);var P=Math.ceil(L/26)|0,q=L%26;this._expand(P),q>0&&P--;for(var U=0;U<P;U++)this.words[U]=~this.words[U]&67108863;return q>0&&(this.words[U]=~this.words[U]&67108863>>26-q),this.strip()},v.prototype.notn=function(L){return this.clone().inotn(L)},v.prototype.setn=function(L,P){s(typeof L=="number"&&L>=0);var q=L/26|0,U=L%26;return this._expand(q+1),P?this.words[q]=this.words[q]|1<<U:this.words[q]=this.words[q]&~(1<<U),this.strip()},v.prototype.iadd=function(L){var P;if(this.negative!==0&&L.negative===0)return this.negative=0,P=this.isub(L),this.negative^=1,this._normSign();if(this.negative===0&&L.negative!==0)return L.negative=0,P=this.isub(L),L.negative=1,P._normSign();var q,U;this.length>L.length?(q=this,U=L):(q=L,U=this);for(var W=0,j=0;j<U.length;j++)P=(q.words[j]|0)+(U.words[j]|0)+W,this.words[j]=P&67108863,W=P>>>26;for(;W!==0&&j<q.length;j++)P=(q.words[j]|0)+W,this.words[j]=P&67108863,W=P>>>26;if(this.length=q.length,W!==0)this.words[this.length]=W,this.length++;else if(q!==this)for(;j<q.length;j++)this.words[j]=q.words[j];return this},v.prototype.add=function(L){var P;return L.negative!==0&&this.negative===0?(L.negative=0,P=this.sub(L),L.negative^=1,P):L.negative===0&&this.negative!==0?(this.negative=0,P=L.sub(this),this.negative=1,P):this.length>L.length?this.clone().iadd(L):L.clone().iadd(this)},v.prototype.isub=function(L){if(L.negative!==0){L.negative=0;var P=this.iadd(L);return L.negative=1,P._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(L),this.negative=1,this._normSign();var q=this.cmp(L);if(q===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,W;q>0?(U=this,W=L):(U=L,W=this);for(var j=0,$=0;$<W.length;$++)P=(U.words[$]|0)-(W.words[$]|0)+j,j=P>>26,this.words[$]=P&67108863;for(;j!==0&&$<U.length;$++)P=(U.words[$]|0)+j,j=P>>26,this.words[$]=P&67108863;if(j===0&&$<U.length&&U!==this)for(;$<U.length;$++)this.words[$]=U.words[$];return this.length=Math.max(this.length,$),U!==this&&(this.negative=1),this.strip()},v.prototype.sub=function(L){return this.clone().isub(L)};function y(F,L,P){P.negative=L.negative^F.negative;var q=F.length+L.length|0;P.length=q,q=q-1|0;var U=F.words[0]|0,W=L.words[0]|0,j=U*W,$=j&67108863,G=j/67108864|0;P.words[0]=$;for(var O=1;O<q;O++){for(var Z=G>>>26,ne=G&67108863,Q=Math.min(O,L.length-1),ie=Math.max(0,O-F.length+1);ie<=Q;ie++){var ee=O-ie|0;U=F.words[ee]|0,W=L.words[ie]|0,j=U*W+ne,Z+=j/67108864|0,ne=j&67108863}P.words[O]=ne|0,G=Z|0}return G!==0?P.words[O]=G|0:P.length--,P.strip()}var M=function(L,P,q){var U=L.words,W=P.words,j=q.words,$=0,G,O,Z,ne=U[0]|0,Q=ne&8191,ie=ne>>>13,ee=U[1]|0,V=ee&8191,re=ee>>>13,H=U[2]|0,te=H&8191,se=H>>>13,he=U[3]|0,ke=he&8191,we=he>>>13,ve=U[4]|0,Me=ve&8191,Se=ve>>>13,De=U[5]|0,Ce=De&8191,Oe=De>>>13,Be=U[6]|0,ge=Be&8191,Ae=Be>>>13,ce=U[7]|0,ye=ce&8191,Le=ce>>>13,me=U[8]|0,de=me&8191,be=me>>>13,Ee=U[9]|0,ze=Ee&8191,Fe=Ee>>>13,Je=W[0]|0,Ye=Je&8191,Ge=Je>>>13,We=W[1]|0,Te=We&8191,Pe=We>>>13,Qe=W[2]|0,Ve=Qe&8191,ar=Qe>>>13,ue=W[3]|0,K=ue&8191,ae=ue>>>13,Re=W[4]|0,Ue=Re&8191,je=Re>>>13,nr=W[5]|0,hr=nr&8191,wr=nr>>>13,Er=W[6]|0,Mr=Er&8191,Ar=Er>>>13,ft=W[7]|0,Wr=ft&8191,xr=ft>>>13,ct=W[8]|0,Sr=ct&8191,Hr=ct>>>13,bt=W[9]|0,Or=bt&8191,Vr=bt>>>13;q.negative=L.negative^P.negative,q.length=19,G=Math.imul(Q,Ye),O=Math.imul(Q,Ge),O=O+Math.imul(ie,Ye)|0,Z=Math.imul(ie,Ge);var Bt=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,G=Math.imul(V,Ye),O=Math.imul(V,Ge),O=O+Math.imul(re,Ye)|0,Z=Math.imul(re,Ge),G=G+Math.imul(Q,Te)|0,O=O+Math.imul(Q,Pe)|0,O=O+Math.imul(ie,Te)|0,Z=Z+Math.imul(ie,Pe)|0;var Lt=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,G=Math.imul(te,Ye),O=Math.imul(te,Ge),O=O+Math.imul(se,Ye)|0,Z=Math.imul(se,Ge),G=G+Math.imul(V,Te)|0,O=O+Math.imul(V,Pe)|0,O=O+Math.imul(re,Te)|0,Z=Z+Math.imul(re,Pe)|0,G=G+Math.imul(Q,Ve)|0,O=O+Math.imul(Q,ar)|0,O=O+Math.imul(ie,Ve)|0,Z=Z+Math.imul(ie,ar)|0;var mn=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(mn>>>26)|0,mn&=67108863,G=Math.imul(ke,Ye),O=Math.imul(ke,Ge),O=O+Math.imul(we,Ye)|0,Z=Math.imul(we,Ge),G=G+Math.imul(te,Te)|0,O=O+Math.imul(te,Pe)|0,O=O+Math.imul(se,Te)|0,Z=Z+Math.imul(se,Pe)|0,G=G+Math.imul(V,Ve)|0,O=O+Math.imul(V,ar)|0,O=O+Math.imul(re,Ve)|0,Z=Z+Math.imul(re,ar)|0,G=G+Math.imul(Q,K)|0,O=O+Math.imul(Q,ae)|0,O=O+Math.imul(ie,K)|0,Z=Z+Math.imul(ie,ae)|0;var Wt=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,G=Math.imul(Me,Ye),O=Math.imul(Me,Ge),O=O+Math.imul(Se,Ye)|0,Z=Math.imul(Se,Ge),G=G+Math.imul(ke,Te)|0,O=O+Math.imul(ke,Pe)|0,O=O+Math.imul(we,Te)|0,Z=Z+Math.imul(we,Pe)|0,G=G+Math.imul(te,Ve)|0,O=O+Math.imul(te,ar)|0,O=O+Math.imul(se,Ve)|0,Z=Z+Math.imul(se,ar)|0,G=G+Math.imul(V,K)|0,O=O+Math.imul(V,ae)|0,O=O+Math.imul(re,K)|0,Z=Z+Math.imul(re,ae)|0,G=G+Math.imul(Q,Ue)|0,O=O+Math.imul(Q,je)|0,O=O+Math.imul(ie,Ue)|0,Z=Z+Math.imul(ie,je)|0;var Rt=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,G=Math.imul(Ce,Ye),O=Math.imul(Ce,Ge),O=O+Math.imul(Oe,Ye)|0,Z=Math.imul(Oe,Ge),G=G+Math.imul(Me,Te)|0,O=O+Math.imul(Me,Pe)|0,O=O+Math.imul(Se,Te)|0,Z=Z+Math.imul(Se,Pe)|0,G=G+Math.imul(ke,Ve)|0,O=O+Math.imul(ke,ar)|0,O=O+Math.imul(we,Ve)|0,Z=Z+Math.imul(we,ar)|0,G=G+Math.imul(te,K)|0,O=O+Math.imul(te,ae)|0,O=O+Math.imul(se,K)|0,Z=Z+Math.imul(se,ae)|0,G=G+Math.imul(V,Ue)|0,O=O+Math.imul(V,je)|0,O=O+Math.imul(re,Ue)|0,Z=Z+Math.imul(re,je)|0,G=G+Math.imul(Q,hr)|0,O=O+Math.imul(Q,wr)|0,O=O+Math.imul(ie,hr)|0,Z=Z+Math.imul(ie,wr)|0;var nt=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(nt>>>26)|0,nt&=67108863,G=Math.imul(ge,Ye),O=Math.imul(ge,Ge),O=O+Math.imul(Ae,Ye)|0,Z=Math.imul(Ae,Ge),G=G+Math.imul(Ce,Te)|0,O=O+Math.imul(Ce,Pe)|0,O=O+Math.imul(Oe,Te)|0,Z=Z+Math.imul(Oe,Pe)|0,G=G+Math.imul(Me,Ve)|0,O=O+Math.imul(Me,ar)|0,O=O+Math.imul(Se,Ve)|0,Z=Z+Math.imul(Se,ar)|0,G=G+Math.imul(ke,K)|0,O=O+Math.imul(ke,ae)|0,O=O+Math.imul(we,K)|0,Z=Z+Math.imul(we,ae)|0,G=G+Math.imul(te,Ue)|0,O=O+Math.imul(te,je)|0,O=O+Math.imul(se,Ue)|0,Z=Z+Math.imul(se,je)|0,G=G+Math.imul(V,hr)|0,O=O+Math.imul(V,wr)|0,O=O+Math.imul(re,hr)|0,Z=Z+Math.imul(re,wr)|0,G=G+Math.imul(Q,Mr)|0,O=O+Math.imul(Q,Ar)|0,O=O+Math.imul(ie,Mr)|0,Z=Z+Math.imul(ie,Ar)|0;var Ft=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,G=Math.imul(ye,Ye),O=Math.imul(ye,Ge),O=O+Math.imul(Le,Ye)|0,Z=Math.imul(Le,Ge),G=G+Math.imul(ge,Te)|0,O=O+Math.imul(ge,Pe)|0,O=O+Math.imul(Ae,Te)|0,Z=Z+Math.imul(Ae,Pe)|0,G=G+Math.imul(Ce,Ve)|0,O=O+Math.imul(Ce,ar)|0,O=O+Math.imul(Oe,Ve)|0,Z=Z+Math.imul(Oe,ar)|0,G=G+Math.imul(Me,K)|0,O=O+Math.imul(Me,ae)|0,O=O+Math.imul(Se,K)|0,Z=Z+Math.imul(Se,ae)|0,G=G+Math.imul(ke,Ue)|0,O=O+Math.imul(ke,je)|0,O=O+Math.imul(we,Ue)|0,Z=Z+Math.imul(we,je)|0,G=G+Math.imul(te,hr)|0,O=O+Math.imul(te,wr)|0,O=O+Math.imul(se,hr)|0,Z=Z+Math.imul(se,wr)|0,G=G+Math.imul(V,Mr)|0,O=O+Math.imul(V,Ar)|0,O=O+Math.imul(re,Mr)|0,Z=Z+Math.imul(re,Ar)|0,G=G+Math.imul(Q,Wr)|0,O=O+Math.imul(Q,xr)|0,O=O+Math.imul(ie,Wr)|0,Z=Z+Math.imul(ie,xr)|0;var ya=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(ya>>>26)|0,ya&=67108863,G=Math.imul(de,Ye),O=Math.imul(de,Ge),O=O+Math.imul(be,Ye)|0,Z=Math.imul(be,Ge),G=G+Math.imul(ye,Te)|0,O=O+Math.imul(ye,Pe)|0,O=O+Math.imul(Le,Te)|0,Z=Z+Math.imul(Le,Pe)|0,G=G+Math.imul(ge,Ve)|0,O=O+Math.imul(ge,ar)|0,O=O+Math.imul(Ae,Ve)|0,Z=Z+Math.imul(Ae,ar)|0,G=G+Math.imul(Ce,K)|0,O=O+Math.imul(Ce,ae)|0,O=O+Math.imul(Oe,K)|0,Z=Z+Math.imul(Oe,ae)|0,G=G+Math.imul(Me,Ue)|0,O=O+Math.imul(Me,je)|0,O=O+Math.imul(Se,Ue)|0,Z=Z+Math.imul(Se,je)|0,G=G+Math.imul(ke,hr)|0,O=O+Math.imul(ke,wr)|0,O=O+Math.imul(we,hr)|0,Z=Z+Math.imul(we,wr)|0,G=G+Math.imul(te,Mr)|0,O=O+Math.imul(te,Ar)|0,O=O+Math.imul(se,Mr)|0,Z=Z+Math.imul(se,Ar)|0,G=G+Math.imul(V,Wr)|0,O=O+Math.imul(V,xr)|0,O=O+Math.imul(re,Wr)|0,Z=Z+Math.imul(re,xr)|0,G=G+Math.imul(Q,Sr)|0,O=O+Math.imul(Q,Hr)|0,O=O+Math.imul(ie,Sr)|0,Z=Z+Math.imul(ie,Hr)|0;var ta=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(ta>>>26)|0,ta&=67108863,G=Math.imul(ze,Ye),O=Math.imul(ze,Ge),O=O+Math.imul(Fe,Ye)|0,Z=Math.imul(Fe,Ge),G=G+Math.imul(de,Te)|0,O=O+Math.imul(de,Pe)|0,O=O+Math.imul(be,Te)|0,Z=Z+Math.imul(be,Pe)|0,G=G+Math.imul(ye,Ve)|0,O=O+Math.imul(ye,ar)|0,O=O+Math.imul(Le,Ve)|0,Z=Z+Math.imul(Le,ar)|0,G=G+Math.imul(ge,K)|0,O=O+Math.imul(ge,ae)|0,O=O+Math.imul(Ae,K)|0,Z=Z+Math.imul(Ae,ae)|0,G=G+Math.imul(Ce,Ue)|0,O=O+Math.imul(Ce,je)|0,O=O+Math.imul(Oe,Ue)|0,Z=Z+Math.imul(Oe,je)|0,G=G+Math.imul(Me,hr)|0,O=O+Math.imul(Me,wr)|0,O=O+Math.imul(Se,hr)|0,Z=Z+Math.imul(Se,wr)|0,G=G+Math.imul(ke,Mr)|0,O=O+Math.imul(ke,Ar)|0,O=O+Math.imul(we,Mr)|0,Z=Z+Math.imul(we,Ar)|0,G=G+Math.imul(te,Wr)|0,O=O+Math.imul(te,xr)|0,O=O+Math.imul(se,Wr)|0,Z=Z+Math.imul(se,xr)|0,G=G+Math.imul(V,Sr)|0,O=O+Math.imul(V,Hr)|0,O=O+Math.imul(re,Sr)|0,Z=Z+Math.imul(re,Hr)|0,G=G+Math.imul(Q,Or)|0,O=O+Math.imul(Q,Vr)|0,O=O+Math.imul(ie,Or)|0,Z=Z+Math.imul(ie,Vr)|0;var Nn=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,G=Math.imul(ze,Te),O=Math.imul(ze,Pe),O=O+Math.imul(Fe,Te)|0,Z=Math.imul(Fe,Pe),G=G+Math.imul(de,Ve)|0,O=O+Math.imul(de,ar)|0,O=O+Math.imul(be,Ve)|0,Z=Z+Math.imul(be,ar)|0,G=G+Math.imul(ye,K)|0,O=O+Math.imul(ye,ae)|0,O=O+Math.imul(Le,K)|0,Z=Z+Math.imul(Le,ae)|0,G=G+Math.imul(ge,Ue)|0,O=O+Math.imul(ge,je)|0,O=O+Math.imul(Ae,Ue)|0,Z=Z+Math.imul(Ae,je)|0,G=G+Math.imul(Ce,hr)|0,O=O+Math.imul(Ce,wr)|0,O=O+Math.imul(Oe,hr)|0,Z=Z+Math.imul(Oe,wr)|0,G=G+Math.imul(Me,Mr)|0,O=O+Math.imul(Me,Ar)|0,O=O+Math.imul(Se,Mr)|0,Z=Z+Math.imul(Se,Ar)|0,G=G+Math.imul(ke,Wr)|0,O=O+Math.imul(ke,xr)|0,O=O+Math.imul(we,Wr)|0,Z=Z+Math.imul(we,xr)|0,G=G+Math.imul(te,Sr)|0,O=O+Math.imul(te,Hr)|0,O=O+Math.imul(se,Sr)|0,Z=Z+Math.imul(se,Hr)|0,G=G+Math.imul(V,Or)|0,O=O+Math.imul(V,Vr)|0,O=O+Math.imul(re,Or)|0,Z=Z+Math.imul(re,Vr)|0;var ka=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(ka>>>26)|0,ka&=67108863,G=Math.imul(ze,Ve),O=Math.imul(ze,ar),O=O+Math.imul(Fe,Ve)|0,Z=Math.imul(Fe,ar),G=G+Math.imul(de,K)|0,O=O+Math.imul(de,ae)|0,O=O+Math.imul(be,K)|0,Z=Z+Math.imul(be,ae)|0,G=G+Math.imul(ye,Ue)|0,O=O+Math.imul(ye,je)|0,O=O+Math.imul(Le,Ue)|0,Z=Z+Math.imul(Le,je)|0,G=G+Math.imul(ge,hr)|0,O=O+Math.imul(ge,wr)|0,O=O+Math.imul(Ae,hr)|0,Z=Z+Math.imul(Ae,wr)|0,G=G+Math.imul(Ce,Mr)|0,O=O+Math.imul(Ce,Ar)|0,O=O+Math.imul(Oe,Mr)|0,Z=Z+Math.imul(Oe,Ar)|0,G=G+Math.imul(Me,Wr)|0,O=O+Math.imul(Me,xr)|0,O=O+Math.imul(Se,Wr)|0,Z=Z+Math.imul(Se,xr)|0,G=G+Math.imul(ke,Sr)|0,O=O+Math.imul(ke,Hr)|0,O=O+Math.imul(we,Sr)|0,Z=Z+Math.imul(we,Hr)|0,G=G+Math.imul(te,Or)|0,O=O+Math.imul(te,Vr)|0,O=O+Math.imul(se,Or)|0,Z=Z+Math.imul(se,Vr)|0;var wi=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(wi>>>26)|0,wi&=67108863,G=Math.imul(ze,K),O=Math.imul(ze,ae),O=O+Math.imul(Fe,K)|0,Z=Math.imul(Fe,ae),G=G+Math.imul(de,Ue)|0,O=O+Math.imul(de,je)|0,O=O+Math.imul(be,Ue)|0,Z=Z+Math.imul(be,je)|0,G=G+Math.imul(ye,hr)|0,O=O+Math.imul(ye,wr)|0,O=O+Math.imul(Le,hr)|0,Z=Z+Math.imul(Le,wr)|0,G=G+Math.imul(ge,Mr)|0,O=O+Math.imul(ge,Ar)|0,O=O+Math.imul(Ae,Mr)|0,Z=Z+Math.imul(Ae,Ar)|0,G=G+Math.imul(Ce,Wr)|0,O=O+Math.imul(Ce,xr)|0,O=O+Math.imul(Oe,Wr)|0,Z=Z+Math.imul(Oe,xr)|0,G=G+Math.imul(Me,Sr)|0,O=O+Math.imul(Me,Hr)|0,O=O+Math.imul(Se,Sr)|0,Z=Z+Math.imul(Se,Hr)|0,G=G+Math.imul(ke,Or)|0,O=O+Math.imul(ke,Vr)|0,O=O+Math.imul(we,Or)|0,Z=Z+Math.imul(we,Vr)|0;var Xi=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Xi>>>26)|0,Xi&=67108863,G=Math.imul(ze,Ue),O=Math.imul(ze,je),O=O+Math.imul(Fe,Ue)|0,Z=Math.imul(Fe,je),G=G+Math.imul(de,hr)|0,O=O+Math.imul(de,wr)|0,O=O+Math.imul(be,hr)|0,Z=Z+Math.imul(be,wr)|0,G=G+Math.imul(ye,Mr)|0,O=O+Math.imul(ye,Ar)|0,O=O+Math.imul(Le,Mr)|0,Z=Z+Math.imul(Le,Ar)|0,G=G+Math.imul(ge,Wr)|0,O=O+Math.imul(ge,xr)|0,O=O+Math.imul(Ae,Wr)|0,Z=Z+Math.imul(Ae,xr)|0,G=G+Math.imul(Ce,Sr)|0,O=O+Math.imul(Ce,Hr)|0,O=O+Math.imul(Oe,Sr)|0,Z=Z+Math.imul(Oe,Hr)|0,G=G+Math.imul(Me,Or)|0,O=O+Math.imul(Me,Vr)|0,O=O+Math.imul(Se,Or)|0,Z=Z+Math.imul(Se,Vr)|0;var Zi=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Zi>>>26)|0,Zi&=67108863,G=Math.imul(ze,hr),O=Math.imul(ze,wr),O=O+Math.imul(Fe,hr)|0,Z=Math.imul(Fe,wr),G=G+Math.imul(de,Mr)|0,O=O+Math.imul(de,Ar)|0,O=O+Math.imul(be,Mr)|0,Z=Z+Math.imul(be,Ar)|0,G=G+Math.imul(ye,Wr)|0,O=O+Math.imul(ye,xr)|0,O=O+Math.imul(Le,Wr)|0,Z=Z+Math.imul(Le,xr)|0,G=G+Math.imul(ge,Sr)|0,O=O+Math.imul(ge,Hr)|0,O=O+Math.imul(Ae,Sr)|0,Z=Z+Math.imul(Ae,Hr)|0,G=G+Math.imul(Ce,Or)|0,O=O+Math.imul(Ce,Vr)|0,O=O+Math.imul(Oe,Or)|0,Z=Z+Math.imul(Oe,Vr)|0;var Ji=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,G=Math.imul(ze,Mr),O=Math.imul(ze,Ar),O=O+Math.imul(Fe,Mr)|0,Z=Math.imul(Fe,Ar),G=G+Math.imul(de,Wr)|0,O=O+Math.imul(de,xr)|0,O=O+Math.imul(be,Wr)|0,Z=Z+Math.imul(be,xr)|0,G=G+Math.imul(ye,Sr)|0,O=O+Math.imul(ye,Hr)|0,O=O+Math.imul(Le,Sr)|0,Z=Z+Math.imul(Le,Hr)|0,G=G+Math.imul(ge,Or)|0,O=O+Math.imul(ge,Vr)|0,O=O+Math.imul(Ae,Or)|0,Z=Z+Math.imul(Ae,Vr)|0;var ln=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(ln>>>26)|0,ln&=67108863,G=Math.imul(ze,Wr),O=Math.imul(ze,xr),O=O+Math.imul(Fe,Wr)|0,Z=Math.imul(Fe,xr),G=G+Math.imul(de,Sr)|0,O=O+Math.imul(de,Hr)|0,O=O+Math.imul(be,Sr)|0,Z=Z+Math.imul(be,Hr)|0,G=G+Math.imul(ye,Or)|0,O=O+Math.imul(ye,Vr)|0,O=O+Math.imul(Le,Or)|0,Z=Z+Math.imul(Le,Vr)|0;var Mo=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,G=Math.imul(ze,Sr),O=Math.imul(ze,Hr),O=O+Math.imul(Fe,Sr)|0,Z=Math.imul(Fe,Hr),G=G+Math.imul(de,Or)|0,O=O+Math.imul(de,Vr)|0,O=O+Math.imul(be,Or)|0,Z=Z+Math.imul(be,Vr)|0;var Ti=($+G|0)+((O&8191)<<13)|0;$=(Z+(O>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,G=Math.imul(ze,Or),O=Math.imul(ze,Vr),O=O+Math.imul(Fe,Or)|0,Z=Math.imul(Fe,Vr);var Mi=($+G|0)+((O&8191)<<13)|0;return $=(Z+(O>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,j[0]=Bt,j[1]=Lt,j[2]=mn,j[3]=Wt,j[4]=Rt,j[5]=nt,j[6]=Ft,j[7]=ya,j[8]=ta,j[9]=Nn,j[10]=ka,j[11]=wi,j[12]=Xi,j[13]=Zi,j[14]=Ji,j[15]=ln,j[16]=Mo,j[17]=Ti,j[18]=Mi,$!==0&&(j[19]=$,q.length++),q};Math.imul||(M=y);function d(F,L,P){P.negative=L.negative^F.negative,P.length=F.length+L.length;for(var q=0,U=0,W=0;W<P.length-1;W++){var j=U;U=0;for(var $=q&67108863,G=Math.min(W,L.length-1),O=Math.max(0,W-F.length+1);O<=G;O++){var Z=W-O,ne=F.words[Z]|0,Q=L.words[O]|0,ie=ne*Q,ee=ie&67108863;j=j+(ie/67108864|0)|0,ee=ee+$|0,$=ee&67108863,j=j+(ee>>>26)|0,U+=j>>>26,j&=67108863}P.words[W]=$,q=j,j=U}return q!==0?P.words[W]=q:P.length--,P.strip()}function _(F,L,P){var q=new p;return q.mulp(F,L,P)}v.prototype.mulTo=function(L,P){var q,U=this.length+L.length;return this.length===10&&L.length===10?q=M(this,L,P):U<63?q=y(this,L,P):U<1024?q=d(this,L,P):q=_(this,L,P),q};function p(F,L){this.x=F,this.y=L}p.prototype.makeRBT=function(L){for(var P=new Array(L),q=v.prototype._countBits(L)-1,U=0;U<L;U++)P[U]=this.revBin(U,q,L);return P},p.prototype.revBin=function(L,P,q){if(L===0||L===q-1)return L;for(var U=0,W=0;W<P;W++)U|=(L&1)<<P-W-1,L>>=1;return U},p.prototype.permute=function(L,P,q,U,W,j){for(var $=0;$<j;$++)U[$]=P[L[$]],W[$]=q[L[$]]},p.prototype.transform=function(L,P,q,U,W,j){this.permute(j,L,P,q,U,W);for(var $=1;$<W;$<<=1)for(var G=$<<1,O=Math.cos(2*Math.PI/G),Z=Math.sin(2*Math.PI/G),ne=0;ne<W;ne+=G)for(var Q=O,ie=Z,ee=0;ee<$;ee++){var V=q[ne+ee],re=U[ne+ee],H=q[ne+ee+$],te=U[ne+ee+$],se=Q*H-ie*te;te=Q*te+ie*H,H=se,q[ne+ee]=V+H,U[ne+ee]=re+te,q[ne+ee+$]=V-H,U[ne+ee+$]=re-te,ee!==G&&(se=O*Q-Z*ie,ie=O*ie+Z*Q,Q=se)}},p.prototype.guessLen13b=function(L,P){var q=Math.max(P,L)|1,U=q&1,W=0;for(q=q/2|0;q;q=q>>>1)W++;return 1<<W+1+U},p.prototype.conjugate=function(L,P,q){if(!(q<=1))for(var U=0;U<q/2;U++){var W=L[U];L[U]=L[q-U-1],L[q-U-1]=W,W=P[U],P[U]=-P[q-U-1],P[q-U-1]=-W}},p.prototype.normalize13b=function(L,P){for(var q=0,U=0;U<P/2;U++){var W=Math.round(L[2*U+1]/P)*8192+Math.round(L[2*U]/P)+q;L[U]=W&67108863,W<67108864?q=0:q=W/67108864|0}return L},p.prototype.convert13b=function(L,P,q,U){for(var W=0,j=0;j<P;j++)W=W+(L[j]|0),q[2*j]=W&8191,W=W>>>13,q[2*j+1]=W&8191,W=W>>>13;for(j=2*P;j<U;++j)q[j]=0;s(W===0),s((W&-8192)===0)},p.prototype.stub=function(L){for(var P=new Array(L),q=0;q<L;q++)P[q]=0;return P},p.prototype.mulp=function(L,P,q){var U=2*this.guessLen13b(L.length,P.length),W=this.makeRBT(U),j=this.stub(U),$=new Array(U),G=new Array(U),O=new Array(U),Z=new Array(U),ne=new Array(U),Q=new Array(U),ie=q.words;ie.length=U,this.convert13b(L.words,L.length,$,U),this.convert13b(P.words,P.length,Z,U),this.transform($,j,G,O,U,W),this.transform(Z,j,ne,Q,U,W);for(var ee=0;ee<U;ee++){var V=G[ee]*ne[ee]-O[ee]*Q[ee];O[ee]=G[ee]*Q[ee]+O[ee]*ne[ee],G[ee]=V}return this.conjugate(G,O,U),this.transform(G,O,ie,j,U,W),this.conjugate(ie,j,U),this.normalize13b(ie,U),q.negative=L.negative^P.negative,q.length=L.length+P.length,q.strip()},v.prototype.mul=function(L){var P=new v(null);return P.words=new Array(this.length+L.length),this.mulTo(L,P)},v.prototype.mulf=function(L){var P=new v(null);return P.words=new Array(this.length+L.length),_(this,L,P)},v.prototype.imul=function(L){return this.clone().mulTo(L,this)},v.prototype.imuln=function(L){s(typeof L=="number"),s(L<67108864);for(var P=0,q=0;q<this.length;q++){var U=(this.words[q]|0)*L,W=(U&67108863)+(P&67108863);P>>=26,P+=U/67108864|0,P+=W>>>26,this.words[q]=W&67108863}return P!==0&&(this.words[q]=P,this.length++),this},v.prototype.muln=function(L){return this.clone().imuln(L)},v.prototype.sqr=function(){return this.mul(this)},v.prototype.isqr=function(){return this.imul(this.clone())},v.prototype.pow=function(L){var P=k(L);if(P.length===0)return new v(1);for(var q=this,U=0;U<P.length&&P[U]===0;U++,q=q.sqr());if(++U<P.length)for(var W=q.sqr();U<P.length;U++,W=W.sqr())P[U]!==0&&(q=q.mul(W));return q},v.prototype.iushln=function(L){s(typeof L=="number"&&L>=0);var P=L%26,q=(L-P)/26,U=67108863>>>26-P<<26-P,W;if(P!==0){var j=0;for(W=0;W<this.length;W++){var $=this.words[W]&U,G=(this.words[W]|0)-$<<P;this.words[W]=G|j,j=$>>>26-P}j&&(this.words[W]=j,this.length++)}if(q!==0){for(W=this.length-1;W>=0;W--)this.words[W+q]=this.words[W];for(W=0;W<q;W++)this.words[W]=0;this.length+=q}return this.strip()},v.prototype.ishln=function(L){return s(this.negative===0),this.iushln(L)},v.prototype.iushrn=function(L,P,q){s(typeof L=="number"&&L>=0);var U;P?U=(P-P%26)/26:U=0;var W=L%26,j=Math.min((L-W)/26,this.length),$=67108863^67108863>>>W<<W,G=q;if(U-=j,U=Math.max(0,U),G){for(var O=0;O<j;O++)G.words[O]=this.words[O];G.length=j}if(j!==0)if(this.length>j)for(this.length-=j,O=0;O<this.length;O++)this.words[O]=this.words[O+j];else this.words[0]=0,this.length=1;var Z=0;for(O=this.length-1;O>=0&&(Z!==0||O>=U);O--){var ne=this.words[O]|0;this.words[O]=Z<<26-W|ne>>>W,Z=ne&$}return G&&Z!==0&&(G.words[G.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},v.prototype.ishrn=function(L,P,q){return s(this.negative===0),this.iushrn(L,P,q)},v.prototype.shln=function(L){return this.clone().ishln(L)},v.prototype.ushln=function(L){return this.clone().iushln(L)},v.prototype.shrn=function(L){return this.clone().ishrn(L)},v.prototype.ushrn=function(L){return this.clone().iushrn(L)},v.prototype.testn=function(L){s(typeof L=="number"&&L>=0);var P=L%26,q=(L-P)/26,U=1<<P;if(this.length<=q)return!1;var W=this.words[q];return!!(W&U)},v.prototype.imaskn=function(L){s(typeof L=="number"&&L>=0);var P=L%26,q=(L-P)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=q)return this;if(P!==0&&q++,this.length=Math.min(q,this.length),P!==0){var U=67108863^67108863>>>P<<P;this.words[this.length-1]&=U}return this.strip()},v.prototype.maskn=function(L){return this.clone().imaskn(L)},v.prototype.iaddn=function(L){return s(typeof L=="number"),s(L<67108864),L<0?this.isubn(-L):this.negative!==0?this.length===1&&(this.words[0]|0)<L?(this.words[0]=L-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(L),this.negative=1,this):this._iaddn(L)},v.prototype._iaddn=function(L){this.words[0]+=L;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},v.prototype.isubn=function(L){if(s(typeof L=="number"),s(L<67108864),L<0)return this.iaddn(-L);if(this.negative!==0)return this.negative=0,this.iaddn(L),this.negative=1,this;if(this.words[0]-=L,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},v.prototype.addn=function(L){return this.clone().iaddn(L)},v.prototype.subn=function(L){return this.clone().isubn(L)},v.prototype.iabs=function(){return this.negative=0,this},v.prototype.abs=function(){return this.clone().iabs()},v.prototype._ishlnsubmul=function(L,P,q){var U=L.length+q,W;this._expand(U);var j,$=0;for(W=0;W<L.length;W++){j=(this.words[W+q]|0)+$;var G=(L.words[W]|0)*P;j-=G&67108863,$=(j>>26)-(G/67108864|0),this.words[W+q]=j&67108863}for(;W<this.length-q;W++)j=(this.words[W+q]|0)+$,$=j>>26,this.words[W+q]=j&67108863;if($===0)return this.strip();for(s($===-1),$=0,W=0;W<this.length;W++)j=-(this.words[W]|0)+$,$=j>>26,this.words[W]=j&67108863;return this.negative=1,this.strip()},v.prototype._wordDiv=function(L,P){var q=this.length-L.length,U=this.clone(),W=L,j=W.words[W.length-1]|0,$=this._countBits(j);q=26-$,q!==0&&(W=W.ushln(q),U.iushln(q),j=W.words[W.length-1]|0);var G=U.length-W.length,O;if(P!=="mod"){O=new v(null),O.length=G+1,O.words=new Array(O.length);for(var Z=0;Z<O.length;Z++)O.words[Z]=0}var ne=U.clone()._ishlnsubmul(W,1,G);ne.negative===0&&(U=ne,O&&(O.words[G]=1));for(var Q=G-1;Q>=0;Q--){var ie=(U.words[W.length+Q]|0)*67108864+(U.words[W.length+Q-1]|0);for(ie=Math.min(ie/j|0,67108863),U._ishlnsubmul(W,ie,Q);U.negative!==0;)ie--,U.negative=0,U._ishlnsubmul(W,1,Q),U.isZero()||(U.negative^=1);O&&(O.words[Q]=ie)}return O&&O.strip(),U.strip(),P!=="div"&&q!==0&&U.iushrn(q),{div:O||null,mod:U}},v.prototype.divmod=function(L,P,q){if(s(!L.isZero()),this.isZero())return{div:new v(0),mod:new v(0)};var U,W,j;return this.negative!==0&&L.negative===0?(j=this.neg().divmod(L,P),P!=="mod"&&(U=j.div.neg()),P!=="div"&&(W=j.mod.neg(),q&&W.negative!==0&&W.iadd(L)),{div:U,mod:W}):this.negative===0&&L.negative!==0?(j=this.divmod(L.neg(),P),P!=="mod"&&(U=j.div.neg()),{div:U,mod:j.mod}):this.negative&L.negative?(j=this.neg().divmod(L.neg(),P),P!=="div"&&(W=j.mod.neg(),q&&W.negative!==0&&W.isub(L)),{div:j.div,mod:W}):L.length>this.length||this.cmp(L)<0?{div:new v(0),mod:this}:L.length===1?P==="div"?{div:this.divn(L.words[0]),mod:null}:P==="mod"?{div:null,mod:new v(this.modn(L.words[0]))}:{div:this.divn(L.words[0]),mod:new v(this.modn(L.words[0]))}:this._wordDiv(L,P)},v.prototype.div=function(L){return this.divmod(L,"div",!1).div},v.prototype.mod=function(L){return this.divmod(L,"mod",!1).mod},v.prototype.umod=function(L){return this.divmod(L,"mod",!0).mod},v.prototype.divRound=function(L){var P=this.divmod(L);if(P.mod.isZero())return P.div;var q=P.div.negative!==0?P.mod.isub(L):P.mod,U=L.ushrn(1),W=L.andln(1),j=q.cmp(U);return j<0||W===1&&j===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},v.prototype.modn=function(L){s(L<=67108863);for(var P=(1<<26)%L,q=0,U=this.length-1;U>=0;U--)q=(P*q+(this.words[U]|0))%L;return q},v.prototype.idivn=function(L){s(L<=67108863);for(var P=0,q=this.length-1;q>=0;q--){var U=(this.words[q]|0)+P*67108864;this.words[q]=U/L|0,P=U%L}return this.strip()},v.prototype.divn=function(L){return this.clone().idivn(L)},v.prototype.egcd=function(L){s(L.negative===0),s(!L.isZero());var P=this,q=L.clone();P.negative!==0?P=P.umod(L):P=P.clone();for(var U=new v(1),W=new v(0),j=new v(0),$=new v(1),G=0;P.isEven()&&q.isEven();)P.iushrn(1),q.iushrn(1),++G;for(var O=q.clone(),Z=P.clone();!P.isZero();){for(var ne=0,Q=1;!(P.words[0]&Q)&&ne<26;++ne,Q<<=1);if(ne>0)for(P.iushrn(ne);ne-- >0;)(U.isOdd()||W.isOdd())&&(U.iadd(O),W.isub(Z)),U.iushrn(1),W.iushrn(1);for(var ie=0,ee=1;!(q.words[0]&ee)&&ie<26;++ie,ee<<=1);if(ie>0)for(q.iushrn(ie);ie-- >0;)(j.isOdd()||$.isOdd())&&(j.iadd(O),$.isub(Z)),j.iushrn(1),$.iushrn(1);P.cmp(q)>=0?(P.isub(q),U.isub(j),W.isub($)):(q.isub(P),j.isub(U),$.isub(W))}return{a:j,b:$,gcd:q.iushln(G)}},v.prototype._invmp=function(L){s(L.negative===0),s(!L.isZero());var P=this,q=L.clone();P.negative!==0?P=P.umod(L):P=P.clone();for(var U=new v(1),W=new v(0),j=q.clone();P.cmpn(1)>0&&q.cmpn(1)>0;){for(var $=0,G=1;!(P.words[0]&G)&&$<26;++$,G<<=1);if($>0)for(P.iushrn($);$-- >0;)U.isOdd()&&U.iadd(j),U.iushrn(1);for(var O=0,Z=1;!(q.words[0]&Z)&&O<26;++O,Z<<=1);if(O>0)for(q.iushrn(O);O-- >0;)W.isOdd()&&W.iadd(j),W.iushrn(1);P.cmp(q)>=0?(P.isub(q),U.isub(W)):(q.isub(P),W.isub(U))}var ne;return P.cmpn(1)===0?ne=U:ne=W,ne.cmpn(0)<0&&ne.iadd(L),ne},v.prototype.gcd=function(L){if(this.isZero())return L.abs();if(L.isZero())return this.abs();var P=this.clone(),q=L.clone();P.negative=0,q.negative=0;for(var U=0;P.isEven()&&q.isEven();U++)P.iushrn(1),q.iushrn(1);do{for(;P.isEven();)P.iushrn(1);for(;q.isEven();)q.iushrn(1);var W=P.cmp(q);if(W<0){var j=P;P=q,q=j}else if(W===0||q.cmpn(1)===0)break;P.isub(q)}while(!0);return q.iushln(U)},v.prototype.invm=function(L){return this.egcd(L).a.umod(L)},v.prototype.isEven=function(){return(this.words[0]&1)===0},v.prototype.isOdd=function(){return(this.words[0]&1)===1},v.prototype.andln=function(L){return this.words[0]&L},v.prototype.bincn=function(L){s(typeof L=="number");var P=L%26,q=(L-P)/26,U=1<<P;if(this.length<=q)return this._expand(q+1),this.words[q]|=U,this;for(var W=U,j=q;W!==0&&j<this.length;j++){var $=this.words[j]|0;$+=W,W=$>>>26,$&=67108863,this.words[j]=$}return W!==0&&(this.words[j]=W,this.length++),this},v.prototype.isZero=function(){return this.length===1&&this.words[0]===0},v.prototype.cmpn=function(L){var P=L<0;if(this.negative!==0&&!P)return-1;if(this.negative===0&&P)return 1;this.strip();var q;if(this.length>1)q=1;else{P&&(L=-L),s(L<=67108863,"Number is too big");var U=this.words[0]|0;q=U===L?0:U<L?-1:1}return this.negative!==0?-q|0:q},v.prototype.cmp=function(L){if(this.negative!==0&&L.negative===0)return-1;if(this.negative===0&&L.negative!==0)return 1;var P=this.ucmp(L);return this.negative!==0?-P|0:P},v.prototype.ucmp=function(L){if(this.length>L.length)return 1;if(this.length<L.length)return-1;for(var P=0,q=this.length-1;q>=0;q--){var U=this.words[q]|0,W=L.words[q]|0;if(U!==W){U<W?P=-1:U>W&&(P=1);break}}return P},v.prototype.gtn=function(L){return this.cmpn(L)===1},v.prototype.gt=function(L){return this.cmp(L)===1},v.prototype.gten=function(L){return this.cmpn(L)>=0},v.prototype.gte=function(L){return this.cmp(L)>=0},v.prototype.ltn=function(L){return this.cmpn(L)===-1},v.prototype.lt=function(L){return this.cmp(L)===-1},v.prototype.lten=function(L){return this.cmpn(L)<=0},v.prototype.lte=function(L){return this.cmp(L)<=0},v.prototype.eqn=function(L){return this.cmpn(L)===0},v.prototype.eq=function(L){return this.cmp(L)===0},v.red=function(L){return new N(L)},v.prototype.toRed=function(L){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),L.convertTo(this)._forceRed(L)},v.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},v.prototype._forceRed=function(L){return this.red=L,this},v.prototype.forceRed=function(L){return s(!this.red,"Already a number in reduction context"),this._forceRed(L)},v.prototype.redAdd=function(L){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,L)},v.prototype.redIAdd=function(L){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,L)},v.prototype.redSub=function(L){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,L)},v.prototype.redISub=function(L){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,L)},v.prototype.redShl=function(L){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,L)},v.prototype.redMul=function(L){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.mul(this,L)},v.prototype.redIMul=function(L){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.imul(this,L)},v.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},v.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},v.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},v.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},v.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},v.prototype.redPow=function(L){return s(this.red&&!L.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,L)};var c={k256:null,p224:null,p192:null,p25519:null};function S(F,L){this.name=F,this.p=new v(L,16),this.n=this.p.bitLength(),this.k=new v(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}S.prototype._tmp=function(){var L=new v(null);return L.words=new Array(Math.ceil(this.n/13)),L},S.prototype.ireduce=function(L){var P=L,q;do this.split(P,this.tmp),P=this.imulK(P),P=P.iadd(this.tmp),q=P.bitLength();while(q>this.n);var U=q<this.n?-1:P.ucmp(this.p);return U===0?(P.words[0]=0,P.length=1):U>0?P.isub(this.p):P.strip!==void 0?P.strip():P._strip(),P},S.prototype.split=function(L,P){L.iushrn(this.n,0,P)},S.prototype.imulK=function(L){return L.imul(this.k)};function h(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(h,S),h.prototype.split=function(L,P){for(var q=4194303,U=Math.min(L.length,9),W=0;W<U;W++)P.words[W]=L.words[W];if(P.length=U,L.length<=9){L.words[0]=0,L.length=1;return}var j=L.words[9];for(P.words[P.length++]=j&q,W=10;W<L.length;W++){var $=L.words[W]|0;L.words[W-10]=($&q)<<4|j>>>22,j=$}j>>>=22,L.words[W-10]=j,j===0&&L.length>10?L.length-=10:L.length-=9},h.prototype.imulK=function(L){L.words[L.length]=0,L.words[L.length+1]=0,L.length+=2;for(var P=0,q=0;q<L.length;q++){var U=L.words[q]|0;P+=U*977,L.words[q]=P&67108863,P=U*64+(P/67108864|0)}return L.words[L.length-1]===0&&(L.length--,L.words[L.length-1]===0&&L.length--),L};function R(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(R,S);function E(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(E,S);function D(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(D,S),D.prototype.imulK=function(L){for(var P=0,q=0;q<L.length;q++){var U=(L.words[q]|0)*19+P,W=U&67108863;U>>>=26,L.words[q]=W,P=U}return P!==0&&(L.words[L.length++]=P),L},v._prime=function(L){if(c[L])return c[L];var P;if(L==="k256")P=new h;else if(L==="p224")P=new R;else if(L==="p192")P=new E;else if(L==="p25519")P=new D;else throw new Error("Unknown prime "+L);return c[L]=P,P};function N(F){if(typeof F=="string"){var L=v._prime(F);this.m=L.p,this.prime=L}else s(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}N.prototype._verify1=function(L){s(L.negative===0,"red works only with positives"),s(L.red,"red works only with red numbers")},N.prototype._verify2=function(L,P){s((L.negative|P.negative)===0,"red works only with positives"),s(L.red&&L.red===P.red,"red works only with red numbers")},N.prototype.imod=function(L){return this.prime?this.prime.ireduce(L)._forceRed(this):L.umod(this.m)._forceRed(this)},N.prototype.neg=function(L){return L.isZero()?L.clone():this.m.sub(L)._forceRed(this)},N.prototype.add=function(L,P){this._verify2(L,P);var q=L.add(P);return q.cmp(this.m)>=0&&q.isub(this.m),q._forceRed(this)},N.prototype.iadd=function(L,P){this._verify2(L,P);var q=L.iadd(P);return q.cmp(this.m)>=0&&q.isub(this.m),q},N.prototype.sub=function(L,P){this._verify2(L,P);var q=L.sub(P);return q.cmpn(0)<0&&q.iadd(this.m),q._forceRed(this)},N.prototype.isub=function(L,P){this._verify2(L,P);var q=L.isub(P);return q.cmpn(0)<0&&q.iadd(this.m),q},N.prototype.shl=function(L,P){return this._verify1(L),this.imod(L.ushln(P))},N.prototype.imul=function(L,P){return this._verify2(L,P),this.imod(L.imul(P))},N.prototype.mul=function(L,P){return this._verify2(L,P),this.imod(L.mul(P))},N.prototype.isqr=function(L){return this.imul(L,L.clone())},N.prototype.sqr=function(L){return this.mul(L,L)},N.prototype.sqrt=function(L){if(L.isZero())return L.clone();var P=this.m.andln(3);if(s(P%2===1),P===3){var q=this.m.add(new v(1)).iushrn(2);return this.pow(L,q)}for(var U=this.m.subn(1),W=0;!U.isZero()&&U.andln(1)===0;)W++,U.iushrn(1);s(!U.isZero());var j=new v(1).toRed(this),$=j.redNeg(),G=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new v(2*O*O).toRed(this);this.pow(O,G).cmp($)!==0;)O.redIAdd($);for(var Z=this.pow(O,U),ne=this.pow(L,U.addn(1).iushrn(1)),Q=this.pow(L,U),ie=W;Q.cmp(j)!==0;){for(var ee=Q,V=0;ee.cmp(j)!==0;V++)ee=ee.redSqr();s(V<ie);var re=this.pow(Z,new v(1).iushln(ie-V-1));ne=ne.redMul(re),Z=re.redSqr(),Q=Q.redMul(Z),ie=V}return ne},N.prototype.invm=function(L){var P=L._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},N.prototype.pow=function(L,P){if(P.isZero())return new v(1).toRed(this);if(P.cmpn(1)===0)return L.clone();var q=4,U=new Array(1<<q);U[0]=new v(1).toRed(this),U[1]=L;for(var W=2;W<U.length;W++)U[W]=this.mul(U[W-1],L);var j=U[0],$=0,G=0,O=P.bitLength()%26;for(O===0&&(O=26),W=P.length-1;W>=0;W--){for(var Z=P.words[W],ne=O-1;ne>=0;ne--){var Q=Z>>ne&1;if(j!==U[0]&&(j=this.sqr(j)),Q===0&&$===0){G=0;continue}$<<=1,$|=Q,G++,!(G!==q&&(W!==0||ne!==0))&&(j=this.mul(j,U[$]),G=0,$=0)}O=26}return j},N.prototype.convertTo=function(L){var P=L.umod(this.m);return P===L?P.clone():P},N.prototype.convertFrom=function(L){var P=L.clone();return P.red=null,P},v.mont=function(L){return new I(L)};function I(F){N.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new v(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(I,N),I.prototype.convertTo=function(L){return this.imod(L.ushln(this.shift))},I.prototype.convertFrom=function(L){var P=this.imod(L.mul(this.rinv));return P.red=null,P},I.prototype.imul=function(L,P){if(L.isZero()||P.isZero())return L.words[0]=0,L.length=1,L;var q=L.imul(P),U=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),W=q.isub(U).iushrn(this.shift),j=W;return W.cmp(this.m)>=0?j=W.isub(this.m):W.cmpn(0)<0&&(j=W.iadd(this.m)),j._forceRed(this)},I.prototype.mul=function(L,P){if(L.isZero()||P.isZero())return new v(0)._forceRed(this);var q=L.mul(P),U=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),W=q.isub(U).iushrn(this.shift),j=W;return W.cmp(this.m)>=0?j=W.isub(this.m):W.cmpn(0)<0&&(j=W.iadd(this.m)),j._forceRed(this)},I.prototype.invm=function(L){var P=this.imod(L._invmp(this.m).mul(this.r2));return P._forceRed(this)}}(a,this)},6204:function(a){"use strict";a.exports=o;function o(i){var l,u,s,f=i.length,v=0;for(l=0;l<f;++l)v+=i[l].length;var g=new Array(v),b=0;for(l=0;l<f;++l){var x=i[l],T=x.length;for(u=0;u<T;++u){var A=g[b++]=new Array(T-1),m=0;for(s=0;s<T;++s)s!==u&&(A[m++]=x[s]);if(u&1){var w=A[1];A[1]=A[0],A[0]=w}}}return g}},6867:function(a,o,i){"use strict";a.exports=m;var l=i(1888),u=i(855),s=i(7150);function f(w,k){for(var y=0;y<w;++y)if(!(k[y]<=k[y+w]))return!0;return!1}function v(w,k,y,M){for(var d=0,_=0,p=0,c=w.length;p<c;++p){var S=w[p];if(!f(k,S)){for(var h=0;h<2*k;++h)y[d++]=S[h];M[_++]=p}}return _}function g(w,k,y,M){var d=w.length,_=k.length;if(!(d<=0||_<=0)){var p=w[0].length>>>1;if(!(p<=0)){var c,S=l.mallocDouble(2*p*d),h=l.mallocInt32(d);if(d=v(w,p,S,h),d>0){if(p===1&&M)u.init(d),c=u.sweepComplete(p,y,0,d,S,h,0,d,S,h);else{var R=l.mallocDouble(2*p*_),E=l.mallocInt32(_);_=v(k,p,R,E),_>0&&(u.init(d+_),p===1?c=u.sweepBipartite(p,y,0,d,S,h,0,_,R,E):c=s(p,y,M,d,S,h,_,R,E),l.free(R),l.free(E))}l.free(S),l.free(h)}return c}}}var b;function x(w,k){b.push([w,k])}function T(w){return b=[],g(w,w,x,!0),b}function A(w,k){return b=[],g(w,k,x,!1),b}function m(w,k,y){switch(arguments.length){case 1:return T(w);case 2:return typeof k=="function"?g(w,w,k,!0):A(w,k);case 3:return g(w,k,y,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(a,o){"use strict";function i(){function s(g,b,x,T,A,m,w,k,y,M,d){for(var _=2*g,p=T,c=_*T;p<A;++p,c+=_){var S=m[b+c],h=m[b+c+g],R=w[p];e:for(var E=k,D=_*k;E<y;++E,D+=_){var N=M[b+D],I=M[b+D+g],F=d[E];if(!(I<S||h<N)){for(var L=b+1;L<g;++L){var P=m[L+c],q=m[L+g+c],U=M[L+D],W=M[L+g+D];if(q<U||W<P)continue e}var j=x(R,F);if(j!==void 0)return j}}}}function f(g,b,x,T,A,m,w,k,y,M,d){for(var _=2*g,p=k,c=_*k;p<y;++p,c+=_){var S=M[b+c],h=M[b+c+g],R=d[p];e:for(var E=T,D=_*T;E<A;++E,D+=_){var N=m[b+D],I=m[b+D+g],F=w[E];if(!(h<N||I<S)){for(var L=b+1;L<g;++L){var P=m[L+D],q=m[L+g+D],U=M[L+c],W=M[L+g+c];if(q<U||W<P)continue e}var j=x(F,R);if(j!==void 0)return j}}}}function v(g,b,x,T,A,m,w,k,y,M,d){return A-T>y-k?s(g,b,x,T,A,m,w,k,y,M,d):f(g,b,x,T,A,m,w,k,y,M,d)}return v}function l(){function s(x,T,A,m,w,k,y,M,d,_,p){for(var c=2*x,S=m,h=c*m;S<w;++S,h+=c){var R=k[T+h],E=k[T+h+x],D=y[S];e:for(var N=M,I=c*M;N<d;++N,I+=c){var F=_[T+I],L=p[N];if(!(F<=R||E<F)){for(var P=T+1;P<x;++P){var q=k[P+h],U=k[P+x+h],W=_[P+I],j=_[P+x+I];if(U<W||j<q)continue e}var $=A(L,D);if($!==void 0)return $}}}}function f(x,T,A,m,w,k,y,M,d,_,p){for(var c=2*x,S=m,h=c*m;S<w;++S,h+=c){var R=k[T+h],E=k[T+h+x],D=y[S];e:for(var N=M,I=c*M;N<d;++N,I+=c){var F=_[T+I],L=p[N];if(!(F<R||E<F)){for(var P=T+1;P<x;++P){var q=k[P+h],U=k[P+x+h],W=_[P+I],j=_[P+x+I];if(U<W||j<q)continue e}var $=A(D,L);if($!==void 0)return $}}}}function v(x,T,A,m,w,k,y,M,d,_,p){for(var c=2*x,S=M,h=c*M;S<d;++S,h+=c){var R=_[T+h],E=p[S];e:for(var D=m,N=c*m;D<w;++D,N+=c){var I=k[T+N],F=k[T+N+x],L=y[D];if(!(R<=I||F<R)){for(var P=T+1;P<x;++P){var q=k[P+N],U=k[P+x+N],W=_[P+h],j=_[P+x+h];if(U<W||j<q)continue e}var $=A(E,L);if($!==void 0)return $}}}}function g(x,T,A,m,w,k,y,M,d,_,p){for(var c=2*x,S=M,h=c*M;S<d;++S,h+=c){var R=_[T+h],E=p[S];e:for(var D=m,N=c*m;D<w;++D,N+=c){var I=k[T+N],F=k[T+N+x],L=y[D];if(!(R<I||F<R)){for(var P=T+1;P<x;++P){var q=k[P+N],U=k[P+x+N],W=_[P+h],j=_[P+x+h];if(U<W||j<q)continue e}var $=A(L,E);if($!==void 0)return $}}}}function b(x,T,A,m,w,k,y,M,d,_,p,c){return k-w>_-d?m?s(x,T,A,w,k,y,M,d,_,p,c):f(x,T,A,w,k,y,M,d,_,p,c):m?v(x,T,A,w,k,y,M,d,_,p,c):g(x,T,A,w,k,y,M,d,_,p,c)}return b}function u(s){return s?i():l()}o.partial=u(!1),o.full=u(!0)},7150:function(a,o,i){"use strict";a.exports=F;var l=i(1888),u=i(8828),s=i(2455),f=s.partial,v=s.full,g=i(855),b=i(3545),x=i(8105),T=128,A=1<<22,m=1<<22,w=x("!(lo>=p0)&&!(p1>=hi)"),k=x("lo===p0"),y=x("lo<p0"),M=x("hi<=p0"),d=x("lo<=p0&&p0<=hi"),_=x("lo<p0&&p0<=hi"),p=6,c=2,S=1024,h=l.mallocInt32(S),R=l.mallocDouble(S);function E(L,P){var q=8*u.log2(P+1)*(L+1)|0,U=u.nextPow2(p*q);h.length<U&&(l.free(h),h=l.mallocInt32(U));var W=u.nextPow2(c*q);R.length<W&&(l.free(R),R=l.mallocDouble(W))}function D(L,P,q,U,W,j,$,G,O){var Z=p*L;h[Z]=P,h[Z+1]=q,h[Z+2]=U,h[Z+3]=W,h[Z+4]=j,h[Z+5]=$;var ne=c*L;R[ne]=G,R[ne+1]=O}function N(L,P,q,U,W,j,$,G,O,Z,ne){var Q=2*L,ie=O*Q,ee=Z[ie+P];e:for(var V=W,re=W*Q;V<j;++V,re+=Q){var H=$[re+P],te=$[re+P+L];if(!(ee<H||te<ee)&&!(U&&ee===H)){for(var se=G[V],he=P+1;he<L;++he){var H=$[re+he],te=$[re+he+L],ke=Z[ie+he],we=Z[ie+he+L];if(te<ke||we<H)continue e}var ve;if(U?ve=q(ne,se):ve=q(se,ne),ve!==void 0)return ve}}}function I(L,P,q,U,W,j,$,G,O,Z){var ne=2*L,Q=G*ne,ie=O[Q+P];e:for(var ee=U,V=U*ne;ee<W;++ee,V+=ne){var re=$[ee];if(re!==Z){var H=j[V+P],te=j[V+P+L];if(!(ie<H||te<ie)){for(var se=P+1;se<L;++se){var H=j[V+se],te=j[V+se+L],he=O[Q+se],ke=O[Q+se+L];if(te<he||ke<H)continue e}var we=q(re,Z);if(we!==void 0)return we}}}}function F(L,P,q,U,W,j,$,G,O){E(L,U+$);var Z=0,ne=2*L,Q;for(D(Z++,0,0,U,0,$,q?16:0,-1/0,1/0),q||D(Z++,0,0,$,0,U,1,-1/0,1/0);Z>0;){Z-=1;var ie=Z*p,ee=h[ie],V=h[ie+1],re=h[ie+2],H=h[ie+3],te=h[ie+4],se=h[ie+5],he=Z*c,ke=R[he],we=R[he+1],ve=se&1,Me=!!(se&16),Se=W,De=j,Ce=G,Oe=O;if(ve&&(Se=G,De=O,Ce=W,Oe=j),!(se&2&&(re=y(L,ee,V,re,Se,De,we),V>=re))&&!(se&4&&(V=M(L,ee,V,re,Se,De,ke),V>=re))){var Be=re-V,ge=te-H;if(Me){if(L*Be*(Be+ge)<m){if(Q=g.scanComplete(L,ee,P,V,re,Se,De,H,te,Ce,Oe),Q!==void 0)return Q;continue}}else if(L*Math.min(Be,ge)<T){if(Q=f(L,ee,P,ve,V,re,Se,De,H,te,Ce,Oe),Q!==void 0)return Q;continue}else if(L*Be*ge<A){if(Q=g.scanBipartite(L,ee,P,ve,V,re,Se,De,H,te,Ce,Oe),Q!==void 0)return Q;continue}var Ae=w(L,ee,V,re,Se,De,ke,we);if(V<Ae)if(L*(Ae-V)<T){if(Q=v(L,ee+1,P,V,Ae,Se,De,H,te,Ce,Oe),Q!==void 0)return Q}else if(ee===L-2){if(ve?Q=g.sweepBipartite(L,P,H,te,Ce,Oe,V,Ae,Se,De):Q=g.sweepBipartite(L,P,V,Ae,Se,De,H,te,Ce,Oe),Q!==void 0)return Q}else D(Z++,ee+1,V,Ae,H,te,ve,-1/0,1/0),D(Z++,ee+1,H,te,V,Ae,ve^1,-1/0,1/0);if(Ae<re){var ce=b(L,ee,H,te,Ce,Oe),ye=Ce[ne*ce+ee],Le=k(L,ee,ce,te,Ce,Oe,ye);if(Le<te&&D(Z++,ee,Ae,re,Le,te,(ve|4)+(Me?16:0),ye,we),H<ce&&D(Z++,ee,Ae,re,H,ce,(ve|2)+(Me?16:0),ke,ye),ce+1===Le){if(Me?Q=I(L,ee,P,Ae,re,Se,De,ce,Ce,Oe[ce]):Q=N(L,ee,P,ve,Ae,re,Se,De,ce,Ce,Oe[ce]),Q!==void 0)return Q}else if(ce<Le){var me;if(Me){if(me=d(L,ee,Ae,re,Se,De,ye),Ae<me){var de=k(L,ee,Ae,me,Se,De,ye);if(ee===L-2){if(Ae<de&&(Q=g.sweepComplete(L,P,Ae,de,Se,De,ce,Le,Ce,Oe),Q!==void 0)||de<me&&(Q=g.sweepBipartite(L,P,de,me,Se,De,ce,Le,Ce,Oe),Q!==void 0))return Q}else Ae<de&&D(Z++,ee+1,Ae,de,ce,Le,16,-1/0,1/0),de<me&&(D(Z++,ee+1,de,me,ce,Le,0,-1/0,1/0),D(Z++,ee+1,ce,Le,de,me,1,-1/0,1/0))}}else ve?me=_(L,ee,Ae,re,Se,De,ye):me=d(L,ee,Ae,re,Se,De,ye),Ae<me&&(ee===L-2?ve?Q=g.sweepBipartite(L,P,ce,Le,Ce,Oe,Ae,me,Se,De):Q=g.sweepBipartite(L,P,Ae,me,Se,De,ce,Le,Ce,Oe):(D(Z++,ee+1,Ae,me,ce,Le,ve,-1/0,1/0),D(Z++,ee+1,ce,Le,Ae,me,ve^1,-1/0,1/0)))}}}}}},3545:function(a,o,i){"use strict";a.exports=v;var l=i(8105),u=l("lo<p0"),s=8;function f(g,b,x,T,A,m){for(var w=2*g,k=w*(x+1)+b,y=x+1;y<T;++y,k+=w)for(var M=A[k],d=y,_=w*(y-1);d>x&&A[_+b]>M;--d,_-=w){for(var p=_,c=_+w,S=0;S<w;++S,++p,++c){var h=A[p];A[p]=A[c],A[c]=h}var R=m[d];m[d]=m[d-1],m[d-1]=R}}function v(g,b,x,T,A,m){if(T<=x+1)return x;for(var w=x,k=T,y=T+x>>>1,M=2*g,d=y,_=A[M*y+b];w<k;){if(k-w<s){f(g,b,w,k,A,m),_=A[M*y+b];break}var p=k-w,c=Math.random()*p+w|0,S=A[M*c+b],h=Math.random()*p+w|0,R=A[M*h+b],E=Math.random()*p+w|0,D=A[M*E+b];S<=R?D>=R?(d=h,_=R):S>=D?(d=c,_=S):(d=E,_=D):R>=D?(d=h,_=R):D>=S?(d=c,_=S):(d=E,_=D);for(var F=M*(k-1),L=M*d,N=0;N<M;++N,++F,++L){var I=A[F];A[F]=A[L],A[L]=I}var P=m[k-1];m[k-1]=m[d],m[d]=P,d=u(g,b,w,k-1,A,m,_);for(var F=M*(k-1),L=M*d,N=0;N<M;++N,++F,++L){var I=A[F];A[F]=A[L],A[L]=I}var P=m[k-1];if(m[k-1]=m[d],m[d]=P,y<d){for(k=d-1;w<k&&A[M*(k-1)+b]===_;)k-=1;k+=1}else if(d<y)for(w=d+1;w<k&&A[M*w+b]===_;)w+=1;else break}return u(g,b,x,y,A,m,A[M*y+b])}},8105:function(a){"use strict";a.exports=i;var o={"lo===p0":l,"lo<p0":u,"lo<=p0":s,"hi<=p0":f,"lo<p0&&p0<=hi":g,"lo<=p0&&p0<=hi":v,"!(lo>=p0)&&!(p1>=hi)":b};function i(x){return o[x]}function l(x,T,A,m,w,k,y){for(var M=2*x,d=M*A,_=d,p=A,c=T,S=x+T,h=A;m>h;++h,d+=M){var R=w[d+c];if(R===y)if(p===h)p+=1,_+=M;else{for(var E=0;M>E;++E){var D=w[d+E];w[d+E]=w[_],w[_++]=D}var N=k[h];k[h]=k[p],k[p++]=N}}return p}function u(x,T,A,m,w,k,y){for(var M=2*x,d=M*A,_=d,p=A,c=T,S=x+T,h=A;m>h;++h,d+=M){var R=w[d+c];if(R<y)if(p===h)p+=1,_+=M;else{for(var E=0;M>E;++E){var D=w[d+E];w[d+E]=w[_],w[_++]=D}var N=k[h];k[h]=k[p],k[p++]=N}}return p}function s(x,T,A,m,w,k,y){for(var M=2*x,d=M*A,_=d,p=A,c=T,S=x+T,h=A;m>h;++h,d+=M){var R=w[d+S];if(R<=y)if(p===h)p+=1,_+=M;else{for(var E=0;M>E;++E){var D=w[d+E];w[d+E]=w[_],w[_++]=D}var N=k[h];k[h]=k[p],k[p++]=N}}return p}function f(x,T,A,m,w,k,y){for(var M=2*x,d=M*A,_=d,p=A,c=T,S=x+T,h=A;m>h;++h,d+=M){var R=w[d+S];if(R<=y)if(p===h)p+=1,_+=M;else{for(var E=0;M>E;++E){var D=w[d+E];w[d+E]=w[_],w[_++]=D}var N=k[h];k[h]=k[p],k[p++]=N}}return p}function v(x,T,A,m,w,k,y){for(var M=2*x,d=M*A,_=d,p=A,c=T,S=x+T,h=A;m>h;++h,d+=M){var R=w[d+c],E=w[d+S];if(R<=y&&y<=E)if(p===h)p+=1,_+=M;else{for(var D=0;M>D;++D){var N=w[d+D];w[d+D]=w[_],w[_++]=N}var I=k[h];k[h]=k[p],k[p++]=I}}return p}function g(x,T,A,m,w,k,y){for(var M=2*x,d=M*A,_=d,p=A,c=T,S=x+T,h=A;m>h;++h,d+=M){var R=w[d+c],E=w[d+S];if(R<y&&y<=E)if(p===h)p+=1,_+=M;else{for(var D=0;M>D;++D){var N=w[d+D];w[d+D]=w[_],w[_++]=N}var I=k[h];k[h]=k[p],k[p++]=I}}return p}function b(x,T,A,m,w,k,y,M){for(var d=2*x,_=d*A,p=_,c=A,S=T,h=x+T,R=A;m>R;++R,_+=d){var E=w[_+S],D=w[_+h];if(!(E>=y)&&!(M>=D))if(c===R)c+=1,p+=d;else{for(var N=0;d>N;++N){var I=w[_+N];w[_+N]=w[p],w[p++]=I}var F=k[R];k[R]=k[c],k[c++]=F}}return c}},1811:function(a){"use strict";a.exports=i;var o=32;function i(T,A){A<=4*o?l(0,A-1,T):x(0,A-1,T)}function l(T,A,m){for(var w=2*(T+1),k=T+1;k<=A;++k){for(var y=m[w++],M=m[w++],d=k,_=w-2;d-- >T;){var p=m[_-2],c=m[_-1];if(p<y)break;if(p===y&&c<M)break;m[_]=p,m[_+1]=c,_-=2}m[_]=y,m[_+1]=M}}function u(T,A,m){T*=2,A*=2;var w=m[T],k=m[T+1];m[T]=m[A],m[T+1]=m[A+1],m[A]=w,m[A+1]=k}function s(T,A,m){T*=2,A*=2,m[T]=m[A],m[T+1]=m[A+1]}function f(T,A,m,w){T*=2,A*=2,m*=2;var k=w[T],y=w[T+1];w[T]=w[A],w[T+1]=w[A+1],w[A]=w[m],w[A+1]=w[m+1],w[m]=k,w[m+1]=y}function v(T,A,m,w,k){T*=2,A*=2,k[T]=k[A],k[A]=m,k[T+1]=k[A+1],k[A+1]=w}function g(T,A,m){T*=2,A*=2;var w=m[T],k=m[A];return w<k?!1:w===k?m[T+1]>m[A+1]:!0}function b(T,A,m,w){T*=2;var k=w[T];return k<A?!0:k===A?w[T+1]<m:!1}function x(T,A,m){var w=(A-T+1)/6|0,k=T+w,y=A-w,M=T+A>>1,d=M-w,_=M+w,p=k,c=d,S=M,h=_,R=y,E=T+1,D=A-1,N=0;g(p,c,m)&&(N=p,p=c,c=N),g(h,R,m)&&(N=h,h=R,R=N),g(p,S,m)&&(N=p,p=S,S=N),g(c,S,m)&&(N=c,c=S,S=N),g(p,h,m)&&(N=p,p=h,h=N),g(S,h,m)&&(N=S,S=h,h=N),g(c,R,m)&&(N=c,c=R,R=N),g(c,S,m)&&(N=c,c=S,S=N),g(h,R,m)&&(N=h,h=R,R=N);for(var I=m[2*c],F=m[2*c+1],L=m[2*h],P=m[2*h+1],q=2*p,U=2*S,W=2*R,j=2*k,$=2*M,G=2*y,O=0;O<2;++O){var Z=m[q+O],ne=m[U+O],Q=m[W+O];m[j+O]=Z,m[$+O]=ne,m[G+O]=Q}s(d,T,m),s(_,A,m);for(var ie=E;ie<=D;++ie)if(b(ie,I,F,m))ie!==E&&u(ie,E,m),++E;else if(!b(ie,L,P,m))for(;;)if(b(D,L,P,m)){b(D,I,F,m)?(f(ie,E,D,m),++E,--D):(u(ie,D,m),--D);break}else{if(--D<ie)break;continue}v(T,E-1,I,F,m),v(A,D+1,L,P,m),E-2-T<=o?l(T,E-2,m):x(T,E-2,m),A-(D+2)<=o?l(D+2,A,m):x(D+2,A,m),D-E<=o?l(E,D,m):x(E,D,m)}},855:function(a,o,i){"use strict";a.exports={init:k,sweepBipartite:d,sweepComplete:_,scanBipartite:p,scanComplete:c};var l=i(1888),u=i(8828),s=i(1811),f=1<<28,v=1024,g=l.mallocInt32(v),b=l.mallocInt32(v),x=l.mallocInt32(v),T=l.mallocInt32(v),A=l.mallocInt32(v),m=l.mallocInt32(v),w=l.mallocDouble(v*8);function k(S){var h=u.nextPow2(S);g.length<h&&(l.free(g),g=l.mallocInt32(h)),b.length<h&&(l.free(b),b=l.mallocInt32(h)),x.length<h&&(l.free(x),x=l.mallocInt32(h)),T.length<h&&(l.free(T),T=l.mallocInt32(h)),A.length<h&&(l.free(A),A=l.mallocInt32(h)),m.length<h&&(l.free(m),m=l.mallocInt32(h));var R=8*h;w.length<R&&(l.free(w),w=l.mallocDouble(R))}function y(S,h,R,E){var D=h[E],N=S[R-1];S[D]=N,h[N]=D}function M(S,h,R,E){S[R]=E,h[E]=R}function d(S,h,R,E,D,N,I,F,L,P){for(var q=0,U=2*S,W=S-1,j=U-1,$=R;$<E;++$){var G=N[$],O=U*$;w[q++]=D[O+W],w[q++]=-(G+1),w[q++]=D[O+j],w[q++]=G}for(var $=I;$<F;++$){var G=P[$]+f,Z=U*$;w[q++]=L[Z+W],w[q++]=-G,w[q++]=L[Z+j],w[q++]=G}var ne=q>>>1;s(w,ne);for(var Q=0,ie=0,$=0;$<ne;++$){var ee=w[2*$+1]|0;if(ee>=f)ee=ee-f|0,y(x,T,ie--,ee);else if(ee>=0)y(g,b,Q--,ee);else if(ee<=-f){ee=-ee-f|0;for(var V=0;V<Q;++V){var re=h(g[V],ee);if(re!==void 0)return re}M(x,T,ie++,ee)}else{ee=-ee-1|0;for(var V=0;V<ie;++V){var re=h(ee,x[V]);if(re!==void 0)return re}M(g,b,Q++,ee)}}}function _(S,h,R,E,D,N,I,F,L,P){for(var q=0,U=2*S,W=S-1,j=U-1,$=R;$<E;++$){var G=N[$]+1<<1,O=U*$;w[q++]=D[O+W],w[q++]=-G,w[q++]=D[O+j],w[q++]=G}for(var $=I;$<F;++$){var G=P[$]+1<<1,Z=U*$;w[q++]=L[Z+W],w[q++]=-G|1,w[q++]=L[Z+j],w[q++]=G|1}var ne=q>>>1;s(w,ne);for(var Q=0,ie=0,ee=0,$=0;$<ne;++$){var V=w[2*$+1]|0,re=V&1;if($<ne-1&&V>>1===w[2*$+3]>>1&&(re=2,$+=1),V<0){for(var H=-(V>>1)-1,te=0;te<ee;++te){var se=h(A[te],H);if(se!==void 0)return se}if(re!==0)for(var te=0;te<Q;++te){var se=h(g[te],H);if(se!==void 0)return se}if(re!==1)for(var te=0;te<ie;++te){var se=h(x[te],H);if(se!==void 0)return se}re===0?M(g,b,Q++,H):re===1?M(x,T,ie++,H):re===2&&M(A,m,ee++,H)}else{var H=(V>>1)-1;re===0?y(g,b,Q--,H):re===1?y(x,T,ie--,H):re===2&&y(A,m,ee--,H)}}}function p(S,h,R,E,D,N,I,F,L,P,q,U){var W=0,j=2*S,$=h,G=h+S,O=1,Z=1;E?Z=f:O=f;for(var ne=D;ne<N;++ne){var Q=ne+O,ie=j*ne;w[W++]=I[ie+$],w[W++]=-Q,w[W++]=I[ie+G],w[W++]=Q}for(var ne=L;ne<P;++ne){var Q=ne+Z,ee=j*ne;w[W++]=q[ee+$],w[W++]=-Q}var V=W>>>1;s(w,V);for(var re=0,ne=0;ne<V;++ne){var H=w[2*ne+1]|0;if(H<0){var Q=-H,te=!1;if(Q>=f?(te=!E,Q-=f):(te=!!E,Q-=1),te)M(g,b,re++,Q);else{var se=U[Q],he=j*Q,ke=q[he+h+1],we=q[he+h+1+S];e:for(var ve=0;ve<re;++ve){var Me=g[ve],Se=j*Me;if(!(we<I[Se+h+1]||I[Se+h+1+S]<ke)){for(var De=h+2;De<S;++De)if(q[he+De+S]<I[Se+De]||I[Se+De+S]<q[he+De])continue e;var Ce=F[Me],Oe;if(E?Oe=R(se,Ce):Oe=R(Ce,se),Oe!==void 0)return Oe}}}}else y(g,b,re--,H-O)}}function c(S,h,R,E,D,N,I,F,L,P,q){for(var U=0,W=2*S,j=h,$=h+S,G=E;G<D;++G){var O=G+f,Z=W*G;w[U++]=N[Z+j],w[U++]=-O,w[U++]=N[Z+$],w[U++]=O}for(var G=F;G<L;++G){var O=G+1,ne=W*G;w[U++]=P[ne+j],w[U++]=-O}var Q=U>>>1;s(w,Q);for(var ie=0,G=0;G<Q;++G){var ee=w[2*G+1]|0;if(ee<0){var O=-ee;if(O>=f)g[ie++]=O-f;else{O-=1;var V=q[O],re=W*O,H=P[re+h+1],te=P[re+h+1+S];e:for(var se=0;se<ie;++se){var he=g[se],ke=I[he];if(ke===V)break;var we=W*he;if(!(te<N[we+h+1]||N[we+h+1+S]<H)){for(var ve=h+2;ve<S;++ve)if(P[re+ve+S]<N[we+ve]||N[we+ve+S]<P[re+ve])continue e;var Me=R(ke,V);if(Me!==void 0)return Me}}}}else{for(var O=ee-f,se=ie-1;se>=0;--se)if(g[se]===O){for(var ve=se+1;ve<ie;++ve)g[ve-1]=g[ve];break}--ie}}}},2538:function(a,o,i){"use strict";var l=i(8902),u=i(5542),s=i(2272),f=i(5023);a.exports=T;function v(A){return[Math.min(A[0],A[1]),Math.max(A[0],A[1])]}function g(A,m){return A[0]-m[0]||A[1]-m[1]}function b(A){return A.map(v).sort(g)}function x(A,m,w){return m in A?A[m]:w}function T(A,m,w){Array.isArray(m)?(w=w||{},m=m||[]):(w=m||{},m=[]);var k=!!x(w,"delaunay",!0),y=!!x(w,"interior",!0),M=!!x(w,"exterior",!0),d=!!x(w,"infinity",!1);if(!y&&!M||A.length===0)return[];var _=l(A,m);if(k||y!==M||d){for(var p=u(A.length,b(m)),c=0;c<_.length;++c){var S=_[c];p.addTriangle(S[0],S[1],S[2])}return k&&s(A,p),M?y?d?f(p,0,d):p.cells():f(p,1,d):f(p,-1)}else return _}},2272:function(a,o,i){"use strict";var l=i(2646)[4],u=i(2478);a.exports=f;function s(v,g,b,x,T,A){var m=g.opposite(x,T);if(!(m<0)){if(T<x){var w=x;x=T,T=w,w=A,A=m,m=w}g.isConstraint(x,T)||l(v[x],v[T],v[A],v[m])<0&&b.push(x,T)}}function f(v,g){for(var b=[],x=v.length,T=g.stars,A=0;A<x;++A)for(var m=T[A],w=1;w<m.length;w+=2){var k=m[w];if(!(k<A)&&!g.isConstraint(A,k)){for(var y=m[w-1],M=-1,d=1;d<m.length;d+=2)if(m[d-1]===k){M=m[d];break}M<0||l(v[A],v[k],v[y],v[M])<0&&b.push(A,k)}}for(;b.length>0;){for(var k=b.pop(),A=b.pop(),y=-1,M=-1,m=T[A],_=1;_<m.length;_+=2){var p=m[_-1],c=m[_];p===k?M=c:c===k&&(y=p)}y<0||M<0||l(v[A],v[k],v[y],v[M])>=0||(g.flip(A,k),s(v,g,b,y,A,M),s(v,g,b,A,M,y),s(v,g,b,M,k,y),s(v,g,b,k,y,M))}}},5023:function(a,o,i){"use strict";var l=i(2478);a.exports=b;function u(x,T,A,m,w,k,y){this.cells=x,this.neighbor=T,this.flags=m,this.constraint=A,this.active=w,this.next=k,this.boundary=y}var s=u.prototype;function f(x,T){return x[0]-T[0]||x[1]-T[1]||x[2]-T[2]}s.locate=function(){var x=[0,0,0];return function(T,A,m){var w=T,k=A,y=m;return A<m?A<T&&(w=A,k=m,y=T):m<T&&(w=m,k=T,y=A),w<0?-1:(x[0]=w,x[1]=k,x[2]=y,l.eq(this.cells,x,f))}}();function v(x,T){for(var A=x.cells(),m=A.length,w=0;w<m;++w){var k=A[w],y=k[0],M=k[1],d=k[2];M<d?M<y&&(k[0]=M,k[1]=d,k[2]=y):d<y&&(k[0]=d,k[1]=y,k[2]=M)}A.sort(f);for(var _=new Array(m),w=0;w<_.length;++w)_[w]=0;var p=[],c=[],S=new Array(3*m),h=new Array(3*m),R=null;T&&(R=[]);for(var E=new u(A,S,h,_,p,c,R),w=0;w<m;++w)for(var k=A[w],D=0;D<3;++D){var y=k[D],M=k[(D+1)%3],N=S[3*w+D]=E.locate(M,y,x.opposite(M,y)),I=h[3*w+D]=x.isConstraint(y,M);N<0&&(I?c.push(w):(p.push(w),_[w]=1),T&&R.push([M,y,-1]))}return E}function g(x,T,A){for(var m=0,w=0;w<x.length;++w)T[w]===A&&(x[m++]=x[w]);return x.length=m,x}function b(x,T,A){var m=v(x,A);if(T===0)return A?m.cells.concat(m.boundary):m.cells;for(var w=1,k=m.active,y=m.next,M=m.flags,d=m.cells,_=m.constraint,p=m.neighbor;k.length>0||y.length>0;){for(;k.length>0;){var c=k.pop();if(M[c]!==-w){M[c]=w;for(var S=d[c],h=0;h<3;++h){var R=p[3*c+h];R>=0&&M[R]===0&&(_[3*c+h]?y.push(R):(k.push(R),M[R]=w))}}}var E=y;y=k,k=E,y.length=0,w=-w}var D=g(d,M,T);return A?D.concat(m.boundary):D}},8902:function(a,o,i){"use strict";var l=i(2478),u=i(3250)[3],s=0,f=1,v=2;a.exports=y;function g(M,d,_,p,c){this.a=M,this.b=d,this.idx=_,this.lowerIds=p,this.upperIds=c}function b(M,d,_,p){this.a=M,this.b=d,this.type=_,this.idx=p}function x(M,d){var _=M.a[0]-d.a[0]||M.a[1]-d.a[1]||M.type-d.type;return _||M.type!==s&&(_=u(M.a,M.b,d.b),_)?_:M.idx-d.idx}function T(M,d){return u(M.a,M.b,d)}function A(M,d,_,p,c){for(var S=l.lt(d,p,T),h=l.gt(d,p,T),R=S;R<h;++R){for(var E=d[R],D=E.lowerIds,I=D.length;I>1&&u(_[D[I-2]],_[D[I-1]],p)>0;)M.push([D[I-1],D[I-2],c]),I-=1;D.length=I,D.push(c);for(var N=E.upperIds,I=N.length;I>1&&u(_[N[I-2]],_[N[I-1]],p)<0;)M.push([N[I-2],N[I-1],c]),I-=1;N.length=I,N.push(c)}}function m(M,d){var _;return M.a[0]<d.a[0]?_=u(M.a,M.b,d.a):_=u(d.b,d.a,M.a),_||(d.b[0]<M.b[0]?_=u(M.a,M.b,d.b):_=u(d.b,d.a,M.b),_||M.idx-d.idx)}function w(M,d,_){var p=l.le(M,_,m),c=M[p],S=c.upperIds,h=S[S.length-1];c.upperIds=[h],M.splice(p+1,0,new g(_.a,_.b,_.idx,[h],S))}function k(M,d,_){var p=_.a;_.a=_.b,_.b=p;var c=l.eq(M,_,m),S=M[c],h=M[c-1];h.upperIds=S.upperIds,M.splice(c,1)}function y(M,d){for(var _=M.length,p=d.length,c=[],S=0;S<_;++S)c.push(new b(M[S],null,s,S));for(var S=0;S<p;++S){var h=d[S],R=M[h[0]],E=M[h[1]];R[0]<E[0]?c.push(new b(R,E,v,S),new b(E,R,f,S)):R[0]>E[0]&&c.push(new b(E,R,v,S),new b(R,E,f,S))}c.sort(x);for(var D=c[0].a[0]-(1+Math.abs(c[0].a[0]))*Math.pow(2,-52),N=[new g([D,1],[D,0],-1,[],[],[],[])],I=[],S=0,F=c.length;S<F;++S){var L=c[S],P=L.type;P===s?A(I,N,M,L.a,L.idx):P===v?w(N,M,L):k(N,M,L)}return I}},5542:function(a,o,i){"use strict";var l=i(2478);a.exports=v;function u(g,b){this.stars=g,this.edges=b}var s=u.prototype;function f(g,b,x){for(var T=1,A=g.length;T<A;T+=2)if(g[T-1]===b&&g[T]===x){g[T-1]=g[A-2],g[T]=g[A-1],g.length=A-2;return}}s.isConstraint=function(){var g=[0,0];function b(x,T){return x[0]-T[0]||x[1]-T[1]}return function(x,T){return g[0]=Math.min(x,T),g[1]=Math.max(x,T),l.eq(this.edges,g,b)>=0}}(),s.removeTriangle=function(g,b,x){var T=this.stars;f(T[g],b,x),f(T[b],x,g),f(T[x],g,b)},s.addTriangle=function(g,b,x){var T=this.stars;T[g].push(b,x),T[b].push(x,g),T[x].push(g,b)},s.opposite=function(g,b){for(var x=this.stars[b],T=1,A=x.length;T<A;T+=2)if(x[T]===g)return x[T-1];return-1},s.flip=function(g,b){var x=this.opposite(g,b),T=this.opposite(b,g);this.removeTriangle(g,b,x),this.removeTriangle(b,g,T),this.addTriangle(g,T,x),this.addTriangle(b,x,T)},s.edges=function(){for(var g=this.stars,b=[],x=0,T=g.length;x<T;++x)for(var A=g[x],m=0,w=A.length;m<w;m+=2)b.push([A[m],A[m+1]]);return b},s.cells=function(){for(var g=this.stars,b=[],x=0,T=g.length;x<T;++x)for(var A=g[x],m=0,w=A.length;m<w;m+=2){var k=A[m],y=A[m+1];x<Math.min(k,y)&&b.push([x,k,y])}return b};function v(g,b){for(var x=new Array(g),T=0;T<g;++T)x[T]=[];return new u(x,b)}},2419:function(a){"use strict";a.exports=o;function o(i){for(var l=1,u=1;u<i.length;++u)for(var s=0;s<u;++s)if(i[u]<i[s])l=-l;else if(i[s]===i[u])return 0;return l}},3628:function(a,o,i){"use strict";var l=i(1338),u=i(727);function s(g,b){for(var x=0,T=g.length,A=0;A<T;++A)x+=g[A]*b[A];return x}function f(g){var b=g.length;if(b===0)return[];var x=g[0].length,T=l([g.length+1,g.length+1],1),A=l([g.length+1],1);T[b][b]=0;for(var m=0;m<b;++m){for(var w=0;w<=m;++w)T[w][m]=T[m][w]=2*s(g[m],g[w]);A[m]=s(g[m],g[m])}for(var k=u(T,A),y=0,M=k[b+1],m=0;m<M.length;++m)y+=M[m];for(var d=new Array(b),m=0;m<b;++m){for(var M=k[m],_=0,w=0;w<M.length;++w)_+=M[w];d[m]=_/y}return d}function v(g){if(g.length===0)return[];for(var b=g[0].length,x=l([b]),T=f(g),A=0;A<g.length;++A)for(var m=0;m<b;++m)x[m]+=g[A][m]*T[A];return x}v.barycenetric=f,a.exports=v},6037:function(a,o,i){a.exports=u;var l=i(3628);function u(s){for(var f=l(s),v=0,g=0;g<s.length;++g)for(var b=s[g],x=0;x<f.length;++x)v+=Math.pow(b[x]-f[x],2);return Math.sqrt(v/s.length)}},332:function(a,o,i){"use strict";a.exports=R;var l=i(1755),u=i(6867),s=i(1125),f=i(7842),v=i(1318),g=i(946),b=i(5838),x=i(1278),T=i(3637);function A(E){var D=g(E);return[x(D,-1/0),x(D,1/0)]}function m(E,D){for(var N=new Array(D.length),I=0;I<D.length;++I){var F=D[I],L=E[F[0]],P=E[F[1]];N[I]=[x(Math.min(L[0],P[0]),-1/0),x(Math.min(L[1],P[1]),-1/0),x(Math.max(L[0],P[0]),1/0),x(Math.max(L[1],P[1]),1/0)]}return N}function w(E){for(var D=new Array(E.length),N=0;N<E.length;++N){var I=E[N];D[N]=[x(I[0],-1/0),x(I[1],-1/0),x(I[0],1/0),x(I[1],1/0)]}return D}function k(E,D,N){var I=[];return u(N,function(F,L){var P=D[F],q=D[L];if(!(P[0]===q[0]||P[0]===q[1]||P[1]===q[0]||P[1]===q[1])){var U=E[P[0]],W=E[P[1]],j=E[q[0]],$=E[q[1]];s(U,W,j,$)&&I.push([F,L])}}),I}function y(E,D,N,I){var F=[];return u(N,I,function(L,P){var q=D[L];if(!(q[0]===P||q[1]===P)){var U=E[P],W=E[q[0]],j=E[q[1]];s(W,j,U,U)&&F.push([L,P])}}),F}function M(E,D,N,I,F){var L,P,q=E.map(function(he){return[f(he[0]),f(he[1])]});for(L=0;L<N.length;++L){var U=N[L];P=U[0];var W=U[1],j=D[P],$=D[W],G=T(b(E[j[0]]),b(E[j[1]]),b(E[$[0]]),b(E[$[1]]));if(G){var O=E.length;E.push([g(G[0]),g(G[1])]),q.push(G),I.push([P,O],[W,O])}}for(I.sort(function(he,ke){if(he[0]!==ke[0])return he[0]-ke[0];var we=q[he[1]],ve=q[ke[1]];return v(we[0],ve[0])||v(we[1],ve[1])}),L=I.length-1;L>=0;--L){var Z=I[L];P=Z[0];var ne=D[P],Q=ne[0],ie=ne[1],ee=E[Q],V=E[ie];if((ee[0]-V[0]||ee[1]-V[1])<0){var re=Q;Q=ie,ie=re}ne[0]=Q;var H=ne[1]=Z[1],te;for(F&&(te=ne[2]);L>0&&I[L-1][0]===P;){var Z=I[--L],se=Z[1];F?D.push([H,se,te]):D.push([H,se]),H=se}F?D.push([H,ie,te]):D.push([H,ie])}return q}function d(E,D,N){for(var I=D.length,F=new l(I),L=[],P=0;P<D.length;++P){var q=D[P],U=A(q[0]),W=A(q[1]);L.push([x(U[0],-1/0),x(W[0],-1/0),x(U[1],1/0),x(W[1],1/0)])}u(L,function(Z,ne){F.link(Z,ne)});for(var j=!0,$=new Array(I),P=0;P<I;++P){var G=F.find(P);G!==P&&(j=!1,E[G]=[Math.min(E[P][0],E[G][0]),Math.min(E[P][1],E[G][1])])}if(j)return null;for(var O=0,P=0;P<I;++P){var G=F.find(P);G===P?($[P]=O,E[O++]=E[P]):$[P]=-1}E.length=O;for(var P=0;P<I;++P)$[P]<0&&($[P]=$[F.find(P)]);return $}function _(E,D){return E[0]-D[0]||E[1]-D[1]}function p(E,D){var N=E[0]-D[0]||E[1]-D[1];return N||(E[2]<D[2]?-1:E[2]>D[2]?1:0)}function c(E,D,N){if(E.length!==0){if(D)for(var I=0;I<E.length;++I){var F=E[I],L=D[F[0]],P=D[F[1]];F[0]=Math.min(L,P),F[1]=Math.max(L,P)}else for(var I=0;I<E.length;++I){var F=E[I],L=F[0],P=F[1];F[0]=Math.min(L,P),F[1]=Math.max(L,P)}N?E.sort(p):E.sort(_);for(var q=1,I=1;I<E.length;++I){var U=E[I-1],W=E[I];W[0]===U[0]&&W[1]===U[1]&&(!N||W[2]===U[2])||(E[q++]=W)}E.length=q}}function S(E,D,N){var I=d(E,[],w(E));return c(D,I,N),!!I}function h(E,D,N){var I=m(E,D),F=k(E,D,I),L=w(E),P=y(E,D,I,L),q=M(E,D,F,P,N),U=d(E,q,L);return c(D,U,N),U?!0:F.length>0||P.length>0}function R(E,D,N){var I;if(N){I=D;for(var F=new Array(D.length),L=0;L<D.length;++L){var P=D[L];F[L]=[P[0],P[1],N[L]]}D=F}for(var q=S(E,D,!!N);h(E,D,!!N);)q=!0;if(N&&q){I.length=0,N.length=0;for(var L=0;L<D.length;++L){var P=D[L];I.push([P[0],P[1]]),N.push(P[2])}}return q}},3637:function(a,o,i){"use strict";a.exports=T;var l=i(6504),u=i(8697),s=i(5572),f=i(7721),v=i(544),g=i(2653),b=i(8987);function x(A,m){return s(l(A[0],m[1]),l(A[1],m[0]))}function T(A,m,w,k){var y=v(m,A),M=v(k,w),d=x(y,M);if(f(d)===0)return null;var _=v(A,w),p=x(M,_),c=u(p,d),S=b(y,c),h=g(A,S);return h}},3642:function(a){a.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(a,o,i){"use strict";var l=i(3642),u=i(395);a.exports=s;function s(b){var x,T,A,m,w,k,y,M,c,d,_;if(b||(b={}),M=(b.nshades||72)-1,y=b.format||"hex",k=b.colormap,k||(k="jet"),typeof k=="string"){if(k=k.toLowerCase(),!l[k])throw Error(k+" not a supported colorscale");w=l[k]}else if(Array.isArray(k))w=k.slice();else throw Error("unsupported colormap option",k);if(w.length>M+1)throw new Error(k+" map requires nshades to be at least size "+w.length);Array.isArray(b.alpha)?b.alpha.length!==2?d=[1,1]:d=b.alpha.slice():typeof b.alpha=="number"?d=[b.alpha,b.alpha]:d=[1,1],x=w.map(function(R){return Math.round(R.index*M)}),d[0]=Math.min(Math.max(d[0],0),1),d[1]=Math.min(Math.max(d[1],0),1);var p=w.map(function(R,E){var D=w[E].index,N=w[E].rgb.slice();return N.length===4&&N[3]>=0&&N[3]<=1||(N[3]=d[0]+(d[1]-d[0])*D),N}),c=[];for(_=0;_<x.length-1;++_){m=x[_+1]-x[_],T=p[_],A=p[_+1];for(var S=0;S<m;S++){var h=S/m;c.push([Math.round(u(T[0],A[0],h)),Math.round(u(T[1],A[1],h)),Math.round(u(T[2],A[2],h)),u(T[3],A[3],h)])}}return c.push(w[w.length-1].rgb.concat(d[1])),y==="hex"?c=c.map(v):y==="rgbaString"?c=c.map(g):y==="float"&&(c=c.map(f)),c}function f(b){return[b[0]/255,b[1]/255,b[2]/255,b[3]]}function v(b){for(var x,T="#",A=0;A<3;++A)x=b[A],x=x.toString(16),T+=("00"+x).substr(x.length);return T}function g(b){return"rgba("+b.join(",")+")"}},3140:function(a,o,i){"use strict";a.exports=b;var l=i(3250),u=i(8572),s=i(9362),f=i(5382),v=i(8210);function g(x,T,A){var m=s(x[0],-T[0]),w=s(x[1],-T[1]),k=s(A[0],-T[0]),y=s(A[1],-T[1]),M=v(f(m,k),f(w,y));return M[M.length-1]>=0}function b(x,T,A,m){var w=l(T,A,m);if(w===0){var k=u(l(x,T,A)),y=u(l(x,T,m));if(k===y){if(k===0){var M=g(x,T,A),d=g(x,T,m);return M===d?0:M?1:-1}return 0}else{if(y===0)return k>0||g(x,T,m)?-1:1;if(k===0)return y>0||g(x,T,A)?1:-1}return u(y-k)}var _=l(x,T,A);if(_>0)return w>0&&l(x,T,m)>0?1:-1;if(_<0)return w>0||l(x,T,m)>0?1:-1;var p=l(x,T,m);return p>0||g(x,T,A)?1:-1}},8572:function(a){"use strict";a.exports=function(i){return i<0?-1:i>0?1:0}},8507:function(a){a.exports=l;var o=Math.min;function i(u,s){return u-s}function l(u,s){var f=u.length,v=u.length-s.length;if(v)return v;switch(f){case 0:return 0;case 1:return u[0]-s[0];case 2:return u[0]+u[1]-s[0]-s[1]||o(u[0],u[1])-o(s[0],s[1]);case 3:var g=u[0]+u[1],b=s[0]+s[1];if(v=g+u[2]-(b+s[2]),v)return v;var x=o(u[0],u[1]),T=o(s[0],s[1]);return o(x,u[2])-o(T,s[2])||o(x+u[2],g)-o(T+s[2],b);case 4:var A=u[0],m=u[1],w=u[2],k=u[3],y=s[0],M=s[1],d=s[2],_=s[3];return A+m+w+k-(y+M+d+_)||o(A,m,w,k)-o(y,M,d,_,y)||o(A+m,A+w,A+k,m+w,m+k,w+k)-o(y+M,y+d,y+_,M+d,M+_,d+_)||o(A+m+w,A+m+k,A+w+k,m+w+k)-o(y+M+d,y+M+_,y+d+_,M+d+_);default:for(var p=u.slice().sort(i),c=s.slice().sort(i),S=0;S<f;++S)if(v=p[S]-c[S],v)return v;return 0}}},3788:function(a,o,i){"use strict";var l=i(8507),u=i(2419);a.exports=s;function s(f,v){return l(f,v)||u(f)-u(v)}},7352:function(a,o,i){"use strict";var l=i(5721),u=i(4750),s=i(2690);a.exports=f;function f(v){var g=v.length;if(g===0)return[];if(g===1)return[[0]];var b=v[0].length;return b===0?[]:b===1?l(v):b===2?u(v):s(v,b)}},5721:function(a){"use strict";a.exports=o;function o(i){for(var l=0,u=0,s=1;s<i.length;++s)i[s][0]<i[l][0]&&(l=s),i[s][0]>i[u][0]&&(u=s);return l<u?[[l],[u]]:l>u?[[u],[l]]:[[l]]}},4750:function(a,o,i){"use strict";a.exports=u;var l=i(3090);function u(s){var f=l(s),v=f.length;if(v<=2)return[];for(var g=new Array(v),b=f[v-1],x=0;x<v;++x){var T=f[x];g[x]=[b,T],b=T}return g}},2690:function(a,o,i){"use strict";a.exports=v;var l=i(8954),u=i(3952);function s(g,b){for(var x=g.length,T=new Array(x),A=0;A<b.length;++A)T[A]=g[b[A]];for(var m=b.length,A=0;A<x;++A)b.indexOf(A)<0&&(T[m++]=g[A]);return T}function f(g,b){for(var x=g.length,T=b.length,A=0;A<x;++A)for(var m=g[A],w=0;w<m.length;++w){var k=m[w];if(k<T)m[w]=b[k];else{k=k-T;for(var y=0;y<T;++y)k>=b[y]&&(k+=1);m[w]=k}}return g}function v(g,b){try{return l(g,!0)}catch(m){var x=u(g);if(x.length<=b)return[];var T=s(g,x),A=l(T,!0);return f(A,x)}}},4769:function(a){"use strict";function o(l,u,s,f,v,g){var b=6*v*v-6*v,x=3*v*v-4*v+1,T=-6*v*v+6*v,A=3*v*v-2*v;if(l.length){g||(g=new Array(l.length));for(var m=l.length-1;m>=0;--m)g[m]=b*l[m]+x*u[m]+T*s[m]+A*f[m];return g}return b*l+x*u+T*s[m]+A*f}function i(l,u,s,f,v,g){var b=v-1,x=v*v,T=b*b,A=(1+2*v)*T,m=v*T,w=x*(3-2*v),k=x*b;if(l.length){g||(g=new Array(l.length));for(var y=l.length-1;y>=0;--y)g[y]=A*l[y]+m*u[y]+w*s[y]+k*f[y];return g}return A*l+m*u+w*s+k*f}a.exports=i,a.exports.derivative=o},7642:function(a,o,i){"use strict";var l=i(8954),u=i(1682);a.exports=g;function s(b,x){this.point=b,this.index=x}function f(b,x){for(var T=b.point,A=x.point,m=T.length,w=0;w<m;++w){var k=A[w]-T[w];if(k)return k}return 0}function v(b,x,T){if(b===1)return T?[[-1,0]]:[];var A=x.map(function(M,d){return[M[0],d]});A.sort(function(M,d){return M[0]-d[0]});for(var m=new Array(b-1),w=1;w<b;++w){var k=A[w-1],y=A[w];m[w-1]=[k[1],y[1]]}return T&&m.push([-1,m[0][1]],[m[b-1][1],-1]),m}function g(b,x){var T=b.length;if(T===0)return[];var A=b[0].length;if(A<1)return[];if(A===1)return v(T,b,x);for(var m=new Array(T),w=1,k=0;k<T;++k){for(var y=b[k],M=new Array(A+1),d=0,_=0;_<A;++_){var p=y[_];M[_]=p,d+=p*p}M[A]=d,m[k]=new s(M,k),w=Math.max(d,w)}u(m,f),T=m.length;for(var c=new Array(T+A+1),S=new Array(T+A+1),h=(A+1)*(A+1)*w,R=new Array(A+1),k=0;k<=A;++k)R[k]=0;R[A]=h,c[0]=R.slice(),S[0]=-1;for(var k=0;k<=A;++k){var M=R.slice();M[k]=1,c[k+1]=M,S[k+1]=-1}for(var k=0;k<T;++k){var E=m[k];c[k+A+1]=E.point,S[k+A+1]=E.index}var D=l(c,!1);if(x?D=D.filter(function(N){for(var I=0,F=0;F<=A;++F){var L=S[N[F]];if(L<0&&++I>=2)return!1;N[F]=L}return!0}):D=D.filter(function(N){for(var I=0;I<=A;++I){var F=S[N[I]];if(F<0)return!1;N[I]=F}return!0}),A&1)for(var k=0;k<D.length;++k){var E=D[k],M=E[0];E[0]=E[1],E[1]=M}return D}},2361:function(a){var o=!1;if(typeof Float64Array!="undefined"){var i=new Float64Array(1),l=new Uint32Array(i.buffer);if(i[0]=1,o=!0,l[1]===1072693248){let w=function(M,d){return l[0]=M,l[1]=d,i[0]},k=function(M){return i[0]=M,l[0]},y=function(M){return i[0]=M,l[1]};var s=w,f=k,v=y;a.exports=function(d){return i[0]=d,[l[0],l[1]]},a.exports.pack=w,a.exports.lo=k,a.exports.hi=y}else if(l[0]===1072693248){let w=function(M,d){return l[1]=M,l[0]=d,i[0]},k=function(M){return i[0]=M,l[1]},y=function(M){return i[0]=M,l[0]};var g=w,b=k,x=y;a.exports=function(d){return i[0]=d,[l[1],l[0]]},a.exports.pack=w,a.exports.lo=k,a.exports.hi=y}else o=!1}if(!o){let w=function(M,d){return u.writeUInt32LE(M,0,!0),u.writeUInt32LE(d,4,!0),u.readDoubleLE(0,!0)},k=function(M){return u.writeDoubleLE(M,0,!0),u.readUInt32LE(0,!0)},y=function(M){return u.writeDoubleLE(M,0,!0),u.readUInt32LE(4,!0)};var T=w,A=k,m=y,u=new Buffer(8);a.exports=function(d){return u.writeDoubleLE(d,0,!0),[u.readUInt32LE(0,!0),u.readUInt32LE(4,!0)]},a.exports.pack=w,a.exports.lo=k,a.exports.hi=y}a.exports.sign=function(w){return a.exports.hi(w)>>>31},a.exports.exponent=function(w){var k=a.exports.hi(w);return(k<<1>>>21)-1023},a.exports.fraction=function(w){var k=a.exports.lo(w),y=a.exports.hi(w),M=y&(1<<20)-1;return y&2146435072&&(M+=1048576),[k,M]},a.exports.denormalized=function(w){var k=a.exports.hi(w);return!(k&2146435072)}},1338:function(a){"use strict";function o(u,s,f){var v=u[f]|0;if(v<=0)return[];var g=new Array(v),b;if(f===u.length-1)for(b=0;b<v;++b)g[b]=s;else for(b=0;b<v;++b)g[b]=o(u,s,f+1);return g}function i(u,s){var f,v;for(f=new Array(u),v=0;v<u;++v)f[v]=s;return f}function l(u,s){switch(typeof s=="undefined"&&(s=0),typeof u){case"number":if(u>0)return i(u|0,s);break;case"object":if(typeof u.length=="number")return o(u,s,0);break}return[]}a.exports=l},3134:function(a,o,i){"use strict";a.exports=u;var l=i(1682);function u(s,f){var v=s.length;if(typeof f!="number"){f=0;for(var g=0;g<v;++g){var b=s[g];f=Math.max(f,b[0],b[1])}f=(f|0)+1}f=f|0;for(var x=new Array(f),g=0;g<f;++g)x[g]=[];for(var g=0;g<v;++g){var b=s[g];x[b[0]].push(b[1]),x[b[1]].push(b[0])}for(var T=0;T<f;++T)l(x[T],function(A,m){return A-m});return x}},5033:function(a){"use strict";a.exports=o;function o(i,l,u){var s=l||0,f=u||1;return[[i[12]+i[0],i[13]+i[1],i[14]+i[2],i[15]+i[3]],[i[12]-i[0],i[13]-i[1],i[14]-i[2],i[15]-i[3]],[i[12]+i[4],i[13]+i[5],i[14]+i[6],i[15]+i[7]],[i[12]-i[4],i[13]-i[5],i[14]-i[6],i[15]-i[7]],[s*i[12]+i[8],s*i[13]+i[9],s*i[14]+i[10],s*i[15]+i[11]],[f*i[12]-i[8],f*i[13]-i[9],f*i[14]-i[10],f*i[15]-i[11]]]}},9215:function(a,o,i){"use strict";a.exports=b;var l=i(4769),u=i(2478);function s(x,T,A){return Math.min(T,Math.max(x,A))}function f(x,T,A){this.dimension=x.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var m=0;m<this.dimension;++m)this.bounds[0][m]=-1/0,this.bounds[1][m]=1/0;this._state=x.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[A],this._scratch=[x.slice(),x.slice(),x.slice(),x.slice(),x.slice()]}var v=f.prototype;v.flush=function(x){var T=u.gt(this._time,x)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},v.curve=function(x){var T=this._time,A=T.length,m=u.le(T,x),w=this._scratch[0],k=this._state,y=this._velocity,M=this.dimension,d=this.bounds;if(m<0)for(var _=M-1,p=0;p<M;++p,--_)w[p]=k[_];else if(m>=A-1)for(var _=k.length-1,c=x-T[A-1],p=0;p<M;++p,--_)w[p]=k[_]+c*y[_];else{for(var _=M*(m+1)-1,S=T[m],h=T[m+1],R=h-S||1,E=this._scratch[1],D=this._scratch[2],N=this._scratch[3],I=this._scratch[4],F=!0,p=0;p<M;++p,--_)E[p]=k[_],N[p]=y[_]*R,D[p]=k[_+M],I[p]=y[_+M]*R,F=F&&E[p]===D[p]&&N[p]===I[p]&&N[p]===0;if(F)for(var p=0;p<M;++p)w[p]=E[p];else l(E,N,D,I,(x-S)/R,w)}for(var L=d[0],P=d[1],p=0;p<M;++p)w[p]=s(L[p],P[p],w[p]);return w},v.dcurve=function(x){var T=this._time,A=T.length,m=u.le(T,x),w=this._scratch[0],k=this._state,y=this._velocity,M=this.dimension;if(m>=A-1)for(var d=k.length-1,_=x-T[A-1],p=0;p<M;++p,--d)w[p]=y[d];else{for(var d=M*(m+1)-1,c=T[m],S=T[m+1],h=S-c||1,R=this._scratch[1],E=this._scratch[2],D=this._scratch[3],N=this._scratch[4],I=!0,p=0;p<M;++p,--d)R[p]=k[d],D[p]=y[d]*h,E[p]=k[d+M],N[p]=y[d+M]*h,I=I&&R[p]===E[p]&&D[p]===N[p]&&D[p]===0;if(I)for(var p=0;p<M;++p)w[p]=0;else{l.derivative(R,D,E,N,(x-c)/h,w);for(var p=0;p<M;++p)w[p]/=h}}return w},v.lastT=function(){var x=this._time;return x[x.length-1]},v.stable=function(){for(var x=this._velocity,T=x.length,A=this.dimension-1;A>=0;--A)if(x[--T])return!1;return!0},v.jump=function(x){var T=this.lastT(),A=this.dimension;if(!(x<T||arguments.length!==A+1)){var m=this._state,w=this._velocity,k=m.length-this.dimension,y=this.bounds,M=y[0],d=y[1];this._time.push(T,x);for(var _=0;_<2;++_)for(var p=0;p<A;++p)m.push(m[k++]),w.push(0);this._time.push(x);for(var p=A;p>0;--p)m.push(s(M[p-1],d[p-1],arguments[p])),w.push(0)}},v.push=function(x){var T=this.lastT(),A=this.dimension;if(!(x<T||arguments.length!==A+1)){var m=this._state,w=this._velocity,k=m.length-this.dimension,y=x-T,M=this.bounds,d=M[0],_=M[1],p=y>1e-6?1/y:0;this._time.push(x);for(var c=A;c>0;--c){var S=s(d[c-1],_[c-1],arguments[c]);m.push(S),w.push((S-m[k++])*p)}}},v.set=function(x){var T=this.dimension;if(!(x<this.lastT()||arguments.length!==T+1)){var A=this._state,m=this._velocity,w=this.bounds,k=w[0],y=w[1];this._time.push(x);for(var M=T;M>0;--M)A.push(s(k[M-1],y[M-1],arguments[M])),m.push(0)}},v.move=function(x){var T=this.lastT(),A=this.dimension;if(!(x<=T||arguments.length!==A+1)){var m=this._state,w=this._velocity,k=m.length-this.dimension,y=this.bounds,M=y[0],d=y[1],_=x-T,p=_>1e-6?1/_:0;this._time.push(x);for(var c=A;c>0;--c){var S=arguments[c];m.push(s(M[c-1],d[c-1],m[k++]+S)),w.push(S*p)}}},v.idle=function(x){var T=this.lastT();if(!(x<T)){var A=this.dimension,m=this._state,w=this._velocity,k=m.length-A,y=this.bounds,M=y[0],d=y[1],_=x-T;this._time.push(x);for(var p=A-1;p>=0;--p)m.push(s(M[p],d[p],m[k]+_*w[k])),w.push(0),k+=1}};function g(x){for(var T=new Array(x),A=0;A<x;++A)T[A]=0;return T}function b(x,T,A){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof x=="number"){var m=g(x);return new f(m,m,0)}else return new f(x,g(x.length),0);case 2:if(typeof T=="number"){var m=g(x.length);return new f(x,m,+T)}else A=0;case 3:if(x.length!==T.length)throw new Error("state and velocity lengths must match");return new f(x,T,A)}}},3840:function(a){"use strict";a.exports=M;var o=0,i=1;function l(d,_,p,c,S,h){this._color=d,this.key=_,this.value=p,this.left=c,this.right=S,this._count=h}function u(d){return new l(d._color,d.key,d.value,d.left,d.right,d._count)}function s(d,_){return new l(d,_.key,_.value,_.left,_.right,_._count)}function f(d){d._count=1+(d.left?d.left._count:0)+(d.right?d.right._count:0)}function v(d,_){this._compare=d,this.root=_}var g=v.prototype;Object.defineProperty(g,"keys",{get:function(){var d=[];return this.forEach(function(_,p){d.push(_)}),d}}),Object.defineProperty(g,"values",{get:function(){var d=[];return this.forEach(function(_,p){d.push(p)}),d}}),Object.defineProperty(g,"length",{get:function(){return this.root?this.root._count:0}}),g.insert=function(d,_){for(var p=this._compare,c=this.root,S=[],h=[];c;){var R=p(d,c.key);S.push(c),h.push(R),R<=0?c=c.left:c=c.right}S.push(new l(o,d,_,null,null,1));for(var E=S.length-2;E>=0;--E){var c=S[E];h[E]<=0?S[E]=new l(c._color,c.key,c.value,S[E+1],c.right,c._count+1):S[E]=new l(c._color,c.key,c.value,c.left,S[E+1],c._count+1)}for(var E=S.length-1;E>1;--E){var D=S[E-1],c=S[E];if(D._color===i||c._color===i)break;var N=S[E-2];if(N.left===D)if(D.left===c){var I=N.right;if(I&&I._color===o)D._color=i,N.right=s(i,I),N._color=o,E-=1;else{if(N._color=o,N.left=D.right,D._color=i,D.right=N,S[E-2]=D,S[E-1]=c,f(N),f(D),E>=3){var F=S[E-3];F.left===N?F.left=D:F.right=D}break}}else{var I=N.right;if(I&&I._color===o)D._color=i,N.right=s(i,I),N._color=o,E-=1;else{if(D.right=c.left,N._color=o,N.left=c.right,c._color=i,c.left=D,c.right=N,S[E-2]=c,S[E-1]=D,f(N),f(D),f(c),E>=3){var F=S[E-3];F.left===N?F.left=c:F.right=c}break}}else if(D.right===c){var I=N.left;if(I&&I._color===o)D._color=i,N.left=s(i,I),N._color=o,E-=1;else{if(N._color=o,N.right=D.left,D._color=i,D.left=N,S[E-2]=D,S[E-1]=c,f(N),f(D),E>=3){var F=S[E-3];F.right===N?F.right=D:F.left=D}break}}else{var I=N.left;if(I&&I._color===o)D._color=i,N.left=s(i,I),N._color=o,E-=1;else{if(D.left=c.right,N._color=o,N.right=c.left,c._color=i,c.right=D,c.left=N,S[E-2]=c,S[E-1]=D,f(N),f(D),f(c),E>=3){var F=S[E-3];F.right===N?F.right=c:F.left=c}break}}}return S[0]._color=i,new v(p,S[0])};function b(d,_){if(_.left){var p=b(d,_.left);if(p)return p}var p=d(_.key,_.value);if(p)return p;if(_.right)return b(d,_.right)}function x(d,_,p,c){var S=_(d,c.key);if(S<=0){if(c.left){var h=x(d,_,p,c.left);if(h)return h}var h=p(c.key,c.value);if(h)return h}if(c.right)return x(d,_,p,c.right)}function T(d,_,p,c,S){var h=p(d,S.key),R=p(_,S.key),E;if(h<=0&&(S.left&&(E=T(d,_,p,c,S.left),E)||R>0&&(E=c(S.key,S.value),E)))return E;if(R>0&&S.right)return T(d,_,p,c,S.right)}g.forEach=function(_,p,c){if(this.root)switch(arguments.length){case 1:return b(_,this.root);case 2:return x(p,this._compare,_,this.root);case 3:return this._compare(p,c)>=0?void 0:T(p,c,this._compare,_,this.root)}},Object.defineProperty(g,"begin",{get:function(){for(var d=[],_=this.root;_;)d.push(_),_=_.left;return new A(this,d)}}),Object.defineProperty(g,"end",{get:function(){for(var d=[],_=this.root;_;)d.push(_),_=_.right;return new A(this,d)}}),g.at=function(d){if(d<0)return new A(this,[]);for(var _=this.root,p=[];;){if(p.push(_),_.left){if(d<_.left._count){_=_.left;continue}d-=_.left._count}if(!d)return new A(this,p);if(d-=1,_.right){if(d>=_.right._count)break;_=_.right}else break}return new A(this,[])},g.ge=function(d){for(var _=this._compare,p=this.root,c=[],S=0;p;){var h=_(d,p.key);c.push(p),h<=0&&(S=c.length),h<=0?p=p.left:p=p.right}return c.length=S,new A(this,c)},g.gt=function(d){for(var _=this._compare,p=this.root,c=[],S=0;p;){var h=_(d,p.key);c.push(p),h<0&&(S=c.length),h<0?p=p.left:p=p.right}return c.length=S,new A(this,c)},g.lt=function(d){for(var _=this._compare,p=this.root,c=[],S=0;p;){var h=_(d,p.key);c.push(p),h>0&&(S=c.length),h<=0?p=p.left:p=p.right}return c.length=S,new A(this,c)},g.le=function(d){for(var _=this._compare,p=this.root,c=[],S=0;p;){var h=_(d,p.key);c.push(p),h>=0&&(S=c.length),h<0?p=p.left:p=p.right}return c.length=S,new A(this,c)},g.find=function(d){for(var _=this._compare,p=this.root,c=[];p;){var S=_(d,p.key);if(c.push(p),S===0)return new A(this,c);S<=0?p=p.left:p=p.right}return new A(this,[])},g.remove=function(d){var _=this.find(d);return _?_.remove():this},g.get=function(d){for(var _=this._compare,p=this.root;p;){var c=_(d,p.key);if(c===0)return p.value;c<=0?p=p.left:p=p.right}};function A(d,_){this.tree=d,this._stack=_}var m=A.prototype;Object.defineProperty(m,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(m,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),m.clone=function(){return new A(this.tree,this._stack.slice())};function w(d,_){d.key=_.key,d.value=_.value,d.left=_.left,d.right=_.right,d._color=_._color,d._count=_._count}function k(d){for(var _,p,c,S,h=d.length-1;h>=0;--h){if(_=d[h],h===0){_._color=i;return}if(p=d[h-1],p.left===_){if(c=p.right,c.right&&c.right._color===o){if(c=p.right=u(c),S=c.right=u(c.right),p.right=c.left,c.left=p,c.right=S,c._color=p._color,_._color=i,p._color=i,S._color=i,f(p),f(c),h>1){var R=d[h-2];R.left===p?R.left=c:R.right=c}d[h-1]=c;return}else if(c.left&&c.left._color===o){if(c=p.right=u(c),S=c.left=u(c.left),p.right=S.left,c.left=S.right,S.left=p,S.right=c,S._color=p._color,p._color=i,c._color=i,_._color=i,f(p),f(c),f(S),h>1){var R=d[h-2];R.left===p?R.left=S:R.right=S}d[h-1]=S;return}if(c._color===i)if(p._color===o){p._color=i,p.right=s(o,c);return}else{p.right=s(o,c);continue}else{if(c=u(c),p.right=c.left,c.left=p,c._color=p._color,p._color=o,f(p),f(c),h>1){var R=d[h-2];R.left===p?R.left=c:R.right=c}d[h-1]=c,d[h]=p,h+1<d.length?d[h+1]=_:d.push(_),h=h+2}}else{if(c=p.left,c.left&&c.left._color===o){if(c=p.left=u(c),S=c.left=u(c.left),p.left=c.right,c.right=p,c.left=S,c._color=p._color,_._color=i,p._color=i,S._color=i,f(p),f(c),h>1){var R=d[h-2];R.right===p?R.right=c:R.left=c}d[h-1]=c;return}else if(c.right&&c.right._color===o){if(c=p.left=u(c),S=c.right=u(c.right),p.left=S.right,c.right=S.left,S.right=p,S.left=c,S._color=p._color,p._color=i,c._color=i,_._color=i,f(p),f(c),f(S),h>1){var R=d[h-2];R.right===p?R.right=S:R.left=S}d[h-1]=S;return}if(c._color===i)if(p._color===o){p._color=i,p.left=s(o,c);return}else{p.left=s(o,c);continue}else{if(c=u(c),p.left=c.right,c.right=p,c._color=p._color,p._color=o,f(p),f(c),h>1){var R=d[h-2];R.right===p?R.right=c:R.left=c}d[h-1]=c,d[h]=p,h+1<d.length?d[h+1]=_:d.push(_),h=h+2}}}}m.remove=function(){var d=this._stack;if(d.length===0)return this.tree;var _=new Array(d.length),p=d[d.length-1];_[_.length-1]=new l(p._color,p.key,p.value,p.left,p.right,p._count);for(var c=d.length-2;c>=0;--c){var p=d[c];p.left===d[c+1]?_[c]=new l(p._color,p.key,p.value,_[c+1],p.right,p._count):_[c]=new l(p._color,p.key,p.value,p.left,_[c+1],p._count)}if(p=_[_.length-1],p.left&&p.right){var S=_.length;for(p=p.left;p.right;)_.push(p),p=p.right;var h=_[S-1];_.push(new l(p._color,h.key,h.value,p.left,p.right,p._count)),_[S-1].key=p.key,_[S-1].value=p.value;for(var c=_.length-2;c>=S;--c)p=_[c],_[c]=new l(p._color,p.key,p.value,p.left,_[c+1],p._count);_[S-1].left=_[S]}if(p=_[_.length-1],p._color===o){var R=_[_.length-2];R.left===p?R.left=null:R.right===p&&(R.right=null),_.pop();for(var c=0;c<_.length;++c)_[c]._count--;return new v(this.tree._compare,_[0])}else if(p.left||p.right){p.left?w(p,p.left):p.right&&w(p,p.right),p._color=i;for(var c=0;c<_.length-1;++c)_[c]._count--;return new v(this.tree._compare,_[0])}else{if(_.length===1)return new v(this.tree._compare,null);for(var c=0;c<_.length;++c)_[c]._count--;var E=_[_.length-2];k(_),E.left===p?E.left=null:E.right=null}return new v(this.tree._compare,_[0])},Object.defineProperty(m,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(m,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(m,"index",{get:function(){var d=0,_=this._stack;if(_.length===0){var p=this.tree.root;return p?p._count:0}else _[_.length-1].left&&(d=_[_.length-1].left._count);for(var c=_.length-2;c>=0;--c)_[c+1]===_[c].right&&(++d,_[c].left&&(d+=_[c].left._count));return d},enumerable:!0}),m.next=function(){var d=this._stack;if(d.length!==0){var _=d[d.length-1];if(_.right)for(_=_.right;_;)d.push(_),_=_.left;else for(d.pop();d.length>0&&d[d.length-1].right===_;)_=d[d.length-1],d.pop()}},Object.defineProperty(m,"hasNext",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].right)return!0;for(var _=d.length-1;_>0;--_)if(d[_-1].left===d[_])return!0;return!1}}),m.update=function(d){var _=this._stack;if(_.length===0)throw new Error("Can't update empty node!");var p=new Array(_.length),c=_[_.length-1];p[p.length-1]=new l(c._color,c.key,d,c.left,c.right,c._count);for(var S=_.length-2;S>=0;--S)c=_[S],c.left===_[S+1]?p[S]=new l(c._color,c.key,c.value,p[S+1],c.right,c._count):p[S]=new l(c._color,c.key,c.value,c.left,p[S+1],c._count);return new v(this.tree._compare,p[0])},m.prev=function(){var d=this._stack;if(d.length!==0){var _=d[d.length-1];if(_.left)for(_=_.left;_;)d.push(_),_=_.right;else for(d.pop();d.length>0&&d[d.length-1].left===_;)_=d[d.length-1],d.pop()}},Object.defineProperty(m,"hasPrev",{get:function(){var d=this._stack;if(d.length===0)return!1;if(d[d.length-1].left)return!0;for(var _=d.length-1;_>0;--_)if(d[_-1].right===d[_])return!0;return!1}});function y(d,_){return d<_?-1:d>_?1:0}function M(d){return new v(d||y,null)}},3837:function(a,o,i){"use strict";a.exports=E;var l=i(4935),u=i(501),s=i(5304),f=i(6429),v=i(6444),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),b=ArrayBuffer,x=DataView;function T(D){return b.isView(D)&&!(D instanceof x)}function A(D){return Array.isArray(D)||T(D)}function m(D,N){return D[0]=N[0],D[1]=N[1],D[2]=N[2],D}function w(D){this.gl=D,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=s(D)}var k=w.prototype;k.update=function(D){D=D||{};function N(Q,ie,ee){if(ee in D){var V=D[ee],re=this[ee],H;(Q?A(V)&&A(V[0]):A(V))?this[ee]=H=[ie(V[0]),ie(V[1]),ie(V[2])]:this[ee]=H=[ie(V),ie(V),ie(V)];for(var te=0;te<3;++te)if(H[te]!==re[te])return!0}return!1}var I=N.bind(this,!1,Number),F=N.bind(this,!1,Boolean),L=N.bind(this,!1,String),P=N.bind(this,!0,function(Q){if(A(Q)){if(Q.length===3)return[+Q[0],+Q[1],+Q[2],1];if(Q.length===4)return[+Q[0],+Q[1],+Q[2],+Q[3]]}return[0,0,0,1]}),q,U=!1,W=!1;if("bounds"in D)for(var j=D.bounds,$=0;$<2;++$)for(var G=0;G<3;++G)j[$][G]!==this.bounds[$][G]&&(W=!0),this.bounds[$][G]=j[$][G];if("ticks"in D){q=D.ticks,U=!0,this.autoTicks=!1;for(var $=0;$<3;++$)this.tickSpacing[$]=0}else I("tickSpacing")&&(this.autoTicks=!0,W=!0);if(this._firstInit&&("ticks"in D||"tickSpacing"in D||(this.autoTicks=!0),W=!0,U=!0,this._firstInit=!1),W&&this.autoTicks&&(q=v.create(this.bounds,this.tickSpacing),U=!0),U){for(var $=0;$<3;++$)q[$].sort(function(ie,ee){return ie.x-ee.x});v.equal(q,this.ticks)?U=!1:this.ticks=q}F("tickEnable"),L("tickFont")&&(U=!0),L("tickFontStyle")&&(U=!0),L("tickFontWeight")&&(U=!0),L("tickFontVariant")&&(U=!0),I("tickSize"),I("tickAngle"),I("tickPad"),P("tickColor");var O=L("labels");L("labelFont")&&(O=!0),L("labelFontStyle")&&(O=!0),L("labelFontWeight")&&(O=!0),L("labelFontVariant")&&(O=!0),F("labelEnable"),I("labelSize"),I("labelPad"),P("labelColor"),F("lineEnable"),F("lineMirror"),I("lineWidth"),P("lineColor"),F("lineTickEnable"),F("lineTickMirror"),I("lineTickLength"),I("lineTickWidth"),P("lineTickColor"),F("gridEnable"),I("gridWidth"),P("gridColor"),F("zeroEnable"),P("zeroLineColor"),I("zeroLineWidth"),F("backgroundEnable"),P("backgroundColor");var Z=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],ne=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(O||U)&&this._text.update(this.bounds,this.labels,Z,this.ticks,ne):this._text=l(this.gl,this.bounds,this.labels,Z,this.ticks,ne),this._lines&&U&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=u(this.gl,this.bounds,this.ticks))};function y(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var M=[new y,new y,new y];function d(D,N,I,F,L){for(var P=D.primalOffset,q=D.primalMinor,U=D.mirrorOffset,W=D.mirrorMinor,j=F[N],$=0;$<3;++$)if(N!==$){var G=P,O=U,Z=q,ne=W;j&1<<$&&(G=U,O=P,Z=W,ne=q),G[$]=I[0][$],O[$]=I[1][$],L[$]>0?(Z[$]=-1,ne[$]=0):(Z[$]=0,ne[$]=1)}}var _=[0,0,0],p={model:g,view:g,projection:g,_ortho:!1};k.isOpaque=function(){return!0},k.isTransparent=function(){return!1},k.drawTransparent=function(D){};var c=0,S=[0,0,0],h=[0,0,0],R=[0,0,0];k.draw=function(D){D=D||p;for(var ee=this.gl,N=D.model||g,I=D.view||g,F=D.projection||g,L=this.bounds,P=D._ortho||!1,q=f(N,I,F,L,P),U=q.cubeEdges,W=q.axis,j=I[12],$=I[13],G=I[14],O=I[15],Z=P?2:1,ne=Z*this.pixelRatio*(F[3]*j+F[7]*$+F[11]*G+F[15]*O)/ee.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=U[Q],this.lastCubeProps.axis[Q]=W[Q];for(var ie=M,Q=0;Q<3;++Q)d(M[Q],Q,this.bounds,U,W);for(var ee=this.gl,V=_,Q=0;Q<3;++Q)this.backgroundEnable[Q]?V[Q]=W[Q]:V[Q]=0;this._background.draw(N,I,F,L,V,this.backgroundColor),this._lines.bind(N,I,F,this);for(var Q=0;Q<3;++Q){var re=[0,0,0];W[Q]>0?re[Q]=L[1][Q]:re[Q]=L[0][Q];for(var H=0;H<2;++H){var te=(Q+1+H)%3,se=(Q+1+(H^1))%3;this.gridEnable[te]&&this._lines.drawGrid(te,se,this.bounds,re,this.gridColor[te],this.gridWidth[te]*this.pixelRatio)}for(var H=0;H<2;++H){var te=(Q+1+H)%3,se=(Q+1+(H^1))%3;this.zeroEnable[se]&&Math.min(L[0][se],L[1][se])<=0&&Math.max(L[0][se],L[1][se])>=0&&this._lines.drawZero(te,se,this.bounds,re,this.zeroLineColor[se],this.zeroLineWidth[se]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,ie[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,ie[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var he=m(S,ie[Q].primalMinor),ke=m(h,ie[Q].mirrorMinor),we=this.lineTickLength,H=0;H<3;++H){var ve=ne/N[5*H];he[H]*=we[H]*ve,ke[H]*=we[H]*ve}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,ie[Q].primalOffset,he,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,ie[Q].mirrorOffset,ke,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(N,I,F,this.pixelRatio);var Me,Se=.5,De,Ce;function Oe(Le){Ce=[0,0,0],Ce[Le]=1}function Be(Le,me,de){var be=(Le+1)%3,Ee=(Le+2)%3,ze=me[be],Fe=me[Ee],Je=de[be],Ye=de[Ee];if(ze>0&&Ye>0){Oe(be);return}else if(ze>0&&Ye<0){Oe(be);return}else if(ze<0&&Ye>0){Oe(be);return}else if(ze<0&&Ye<0){Oe(be);return}else if(Fe>0&&Je>0){Oe(Ee);return}else if(Fe>0&&Je<0){Oe(Ee);return}else if(Fe<0&&Je>0){Oe(Ee);return}else if(Fe<0&&Je<0){Oe(Ee);return}}for(var Q=0;Q<3;++Q){for(var ge=ie[Q].primalMinor,Ae=ie[Q].mirrorMinor,ce=m(R,ie[Q].primalOffset),H=0;H<3;++H)this.lineTickEnable[Q]&&(ce[H]+=ne*ge[H]*Math.max(this.lineTickLength[H],0)/N[5*H]);var ye=[0,0,0];if(ye[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,De=1,Me=[this.tickAlign[Q],Se,De],Me[0]==="auto"?Me[0]=c:Me[0]=parseInt(""+Me[0]),Ce=[0,0,0],Be(Q,ge,Ae);for(var H=0;H<3;++H)ce[H]+=ne*ge[H]*this.tickPad[H]/N[5*H];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],ce,this.tickColor[Q],ye,Ce,Me)}if(this.labelEnable[Q]){De=0,Ce=[0,0,0],this.labels[Q].length>4&&(Oe(Q),De=1),Me=[this.labelAlign[Q],Se,De],Me[0]==="auto"?Me[0]=c:Me[0]=parseInt(""+Me[0]);for(var H=0;H<3;++H)ce[H]+=ne*ge[H]*this.labelPad[H]/N[5*H];ce[Q]+=.5*(L[0][Q]+L[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],ce,this.labelColor[Q],[0,0,0],Ce,Me)}}this._text.unbind()},k.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function E(D,N){var I=new w(D);return I.update(N),I}},5304:function(a,o,i){"use strict";a.exports=g;var l=i(2762),u=i(8116),s=i(1879).bg;function f(b,x,T,A){this.gl=b,this.buffer=x,this.vao=T,this.shader=A}var v=f.prototype;v.draw=function(b,x,T,A,m,w){for(var k=!1,y=0;y<3;++y)k=k||m[y];if(k){var M=this.gl;M.enable(M.POLYGON_OFFSET_FILL),M.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:b,view:x,projection:T,bounds:A,enable:m,colors:w},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),M.disable(M.POLYGON_OFFSET_FILL)}},v.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function g(b){for(var x=[],T=[],A=0,m=0;m<3;++m)for(var w=(m+1)%3,k=(m+2)%3,y=[0,0,0],M=[0,0,0],d=-1;d<=1;d+=2){T.push(A,A+2,A+1,A+1,A+2,A+3),y[m]=d,M[m]=d;for(var _=-1;_<=1;_+=2){y[w]=_;for(var p=-1;p<=1;p+=2)y[k]=p,x.push(y[0],y[1],y[2],M[0],M[1],M[2]),A+=1}var c=w;w=k,k=c}var S=l(b,new Float32Array(x)),h=l(b,new Uint16Array(T),b.ELEMENT_ARRAY_BUFFER),R=u(b,[{buffer:S,type:b.FLOAT,size:3,offset:0,stride:24},{buffer:S,type:b.FLOAT,size:3,offset:12,stride:24}],h),E=s(b);return E.attributes.position.location=0,E.attributes.normal.location=1,new f(b,S,R,E)}},6429:function(a,o,i){"use strict";a.exports=d;var l=i(8828),u=i(6760),s=i(5202),f=i(3250),v=new Array(16),g=new Array(8),b=new Array(8),x=new Array(3),T=[0,0,0];(function(){for(var _=0;_<8;++_)g[_]=[1,1,1,1],b[_]=[1,1,1]})();function A(_,p,c){for(var S=0;S<4;++S){_[S]=c[12+S];for(var h=0;h<3;++h)_[S]+=p[h]*c[4*h+S]}}var m=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function w(_){for(var p=0;p<m.length;++p)if(_=s.positive(_,m[p]),_.length<3)return 0;for(var c=_[0],S=c[0]/c[3],h=c[1]/c[3],R=0,p=1;p+1<_.length;++p){var E=_[p],D=_[p+1],N=E[0]/E[3],I=E[1]/E[3],F=D[0]/D[3],L=D[1]/D[3],P=N-S,q=I-h,U=F-S,W=L-h;R+=Math.abs(P*W-q*U)}return R}var k=[1,1,1],y=[0,0,0],M={cubeEdges:k,axis:y};function d(_,p,c,S,h){u(v,p,_),u(v,c,v);for(var R=0,E=0;E<2;++E){x[2]=S[E][2];for(var D=0;D<2;++D){x[1]=S[D][1];for(var N=0;N<2;++N)x[0]=S[N][0],A(g[R],x,v),R+=1}}for(var I=-1,E=0;E<8;++E){for(var F=g[E][3],L=0;L<3;++L)b[E][L]=g[E][L]/F;h&&(b[E][2]*=-1),F<0&&(I<0||b[E][2]<b[I][2])&&(I=E)}if(I<0){I=0;for(var P=0;P<3;++P){for(var q=(P+2)%3,U=(P+1)%3,W=-1,j=-1,$=0;$<2;++$){var G=$<<P,O=G+($<<q)+(1-$<<U),Z=G+(1-$<<q)+($<<U);f(b[G],b[O],b[Z],T)<0||($?W=1:j=1)}if(W<0||j<0){j>W&&(I|=1<<P);continue}for(var $=0;$<2;++$){var G=$<<P,O=G+($<<q)+(1-$<<U),Z=G+(1-$<<q)+($<<U),ne=w([g[G],g[O],g[Z],g[G+(1<<q)+(1<<U)]]);$?W=ne:j=ne}if(j>W){I|=1<<P;continue}}}for(var Q=7^I,ie=-1,E=0;E<8;++E)E===I||E===Q||(ie<0||b[ie][1]>b[E][1])&&(ie=E);for(var ee=-1,E=0;E<3;++E){var V=ie^1<<E;if(!(V===I||V===Q)){ee<0&&(ee=V);var U=b[V];U[0]<b[ee][0]&&(ee=V)}}for(var re=-1,E=0;E<3;++E){var V=ie^1<<E;if(!(V===I||V===Q||V===ee)){re<0&&(re=V);var U=b[V];U[0]>b[re][0]&&(re=V)}}var H=k;H[0]=H[1]=H[2]=0,H[l.log2(ee^ie)]=ie&ee,H[l.log2(ie^re)]=ie&re;var te=re^7;te===I||te===Q?(te=ee^7,H[l.log2(re^te)]=te&re):H[l.log2(ee^te)]=te&ee;for(var se=y,he=I,P=0;P<3;++P)he&1<<P?se[P]=-1:se[P]=1;return M}},501:function(a,o,i){"use strict";a.exports=k;var l=i(2762),u=i(8116),s=i(1879).n,f=[0,0,0],v=[0,0,0],g=[0,0,0],b=[0,0,0],x=[1,1];function T(y){return y[0]=y[1]=y[2]=0,y}function A(y,M){return y[0]=M[0],y[1]=M[1],y[2]=M[2],y}function m(y,M,d,_,p,c,S,h){this.gl=y,this.vertBuffer=M,this.vao=d,this.shader=_,this.tickCount=p,this.tickOffset=c,this.gridCount=S,this.gridOffset=h}var w=m.prototype;w.bind=function(y,M,d){this.shader.bind(),this.shader.uniforms.model=y,this.shader.uniforms.view=M,this.shader.uniforms.projection=d,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=x,this.vao.bind()},w.unbind=function(){this.vao.unbind()},w.drawAxisLine=function(y,M,d,_,p){var c=T(v);this.shader.uniforms.majorAxis=v,c[y]=M[1][y]-M[0][y],this.shader.uniforms.minorAxis=c;var S=A(b,d);S[y]+=M[0][y],this.shader.uniforms.offset=S,this.shader.uniforms.lineWidth=p,this.shader.uniforms.color=_;var h=T(g);h[(y+2)%3]=1,this.shader.uniforms.screenAxis=h,this.vao.draw(this.gl.TRIANGLES,6);var h=T(g);h[(y+1)%3]=1,this.shader.uniforms.screenAxis=h,this.vao.draw(this.gl.TRIANGLES,6)},w.drawAxisTicks=function(y,M,d,_,p){if(this.tickCount[y]){var c=T(f);c[y]=1,this.shader.uniforms.majorAxis=c,this.shader.uniforms.offset=M,this.shader.uniforms.minorAxis=d,this.shader.uniforms.color=_,this.shader.uniforms.lineWidth=p;var S=T(g);S[y]=1,this.shader.uniforms.screenAxis=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[y],this.tickOffset[y])}},w.drawGrid=function(y,M,d,_,p,c){if(this.gridCount[y]){var S=T(v);S[M]=d[1][M]-d[0][M],this.shader.uniforms.minorAxis=S;var h=A(b,_);h[M]+=d[0][M],this.shader.uniforms.offset=h;var R=T(f);R[y]=1,this.shader.uniforms.majorAxis=R;var E=T(g);E[y]=1,this.shader.uniforms.screenAxis=E,this.shader.uniforms.lineWidth=c,this.shader.uniforms.color=p,this.vao.draw(this.gl.TRIANGLES,this.gridCount[y],this.gridOffset[y])}},w.drawZero=function(y,M,d,_,p,c){var S=T(v);this.shader.uniforms.majorAxis=S,S[y]=d[1][y]-d[0][y],this.shader.uniforms.minorAxis=S;var h=A(b,_);h[y]+=d[0][y],this.shader.uniforms.offset=h;var R=T(g);R[M]=1,this.shader.uniforms.screenAxis=R,this.shader.uniforms.lineWidth=c,this.shader.uniforms.color=p,this.vao.draw(this.gl.TRIANGLES,6)},w.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function k(y,M,d){var _=[],p=[0,0,0],c=[0,0,0],S=[0,0,0],h=[0,0,0];_.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var R=0;R<3;++R){for(var N=_.length/3|0,E=0;E<d[R].length;++E){var D=+d[R][E].x;_.push(D,0,1,D,1,1,D,0,-1,D,0,-1,D,1,1,D,1,-1)}var F=_.length/3|0;p[R]=N,c[R]=F-N;for(var N=_.length/3|0,I=0;I<d[R].length;++I){var D=+d[R][I].x;_.push(D,0,1,D,1,1,D,0,-1,D,0,-1,D,1,1,D,1,-1)}var F=_.length/3|0;S[R]=N,h[R]=F-N}var L=l(y,new Float32Array(_)),P=u(y,[{buffer:L,type:y.FLOAT,size:3,stride:0,offset:0}]),q=s(y);return q.attributes.position.location=0,new m(y,L,P,q,c,p,h,S)}},1879:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.n=function(T){return u(T,s,f,null,[{name:"position",type:"vec3"}])};var v=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),g=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.Q=function(T){return u(T,v,g,null,[{name:"position",type:"vec3"}])};var b=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),x=l([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);o.bg=function(T){return u(T,b,x,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(a,o,i){"use strict";a.exports=w;var l=i(2762),u=i(8116),s=i(4359),f=i(1879).Q,v=window||process.global||{},g=v.__TEXT_CACHE||{};v.__TEXT_CACHE={};var b=3;function x(k,y,M,d){this.gl=k,this.shader=y,this.buffer=M,this.vao=d,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=x.prototype,A=[0,0];T.bind=function(k,y,M,d){this.vao.bind(),this.shader.bind();var _=this.shader.uniforms;_.model=k,_.view=y,_.projection=M,_.pixelScale=d,A[0]=this.gl.drawingBufferWidth,A[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=A},T.unbind=function(){this.vao.unbind()},T.update=function(k,y,M,d,_){var p=[];function c(P,q,U,W,j,$){var G=[U.style,U.weight,U.variant,U.family].join("_"),O=g[G];O||(O=g[G]={});var Z=O[q];Z||(Z=O[q]=m(q,{triangles:!0,font:U.family,fontStyle:U.style,fontWeight:U.weight,fontVariant:U.variant,textAlign:"center",textBaseline:"middle",lineSpacing:j,styletags:$}));for(var ne=(W||12)/12,Q=Z.positions,ie=Z.cells,ee=0,V=ie.length;ee<V;++ee)for(var re=ie[ee],H=2;H>=0;--H){var te=Q[re[H]];p.push(ne*te[0],-ne*te[1],P)}}for(var S=[0,0,0],h=[0,0,0],R=[0,0,0],E=[0,0,0],D=1.25,N={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},I=0;I<3;++I){R[I]=p.length/b|0,c(.5*(k[0][I]+k[1][I]),y[I],M[I],12,D,N),E[I]=(p.length/b|0)-R[I],S[I]=p.length/b|0;for(var F=0;F<d[I].length;++F)if(d[I][F].text){var L={family:d[I][F].font||_[I].family,style:_[I].fontStyle||_[I].style,weight:_[I].fontWeight||_[I].weight,variant:_[I].fontVariant||_[I].variant};c(d[I][F].x,d[I][F].text,L,d[I][F].fontSize||12,D,N)}h[I]=(p.length/b|0)-S[I]}this.buffer.update(p),this.tickOffset=S,this.tickCount=h,this.labelOffset=R,this.labelCount=E},T.drawTicks=function(k,y,M,d,_,p,c,S){this.tickCount[k]&&(this.shader.uniforms.axis=p,this.shader.uniforms.color=_,this.shader.uniforms.angle=M,this.shader.uniforms.scale=y,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[k],this.tickOffset[k]))},T.drawLabel=function(k,y,M,d,_,p,c,S){this.labelCount[k]&&(this.shader.uniforms.axis=p,this.shader.uniforms.color=_,this.shader.uniforms.angle=M,this.shader.uniforms.scale=y,this.shader.uniforms.offset=d,this.shader.uniforms.alignDir=c,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[k],this.labelOffset[k]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function m(k,y){try{return s(k,y)}catch(M){return console.warn('error vectorizing text:"'+k+'" error:',M),{cells:[],positions:[]}}}function w(k,y,M,d,_,p){var c=l(k),S=u(k,[{buffer:c,size:3}]),h=f(k);h.attributes.position.location=0;var R=new x(k,h,c,S);return R.update(y,M,d,_,p),R}},6444:function(a,o){"use strict";o.create=l,o.equal=u;function i(s,f){var v=s+"",g=v.indexOf("."),b=0;g>=0&&(b=v.length-g-1);var x=Math.pow(10,b),T=Math.round(s*f*x),A=T+"";if(A.indexOf("e")>=0)return A;var m=T/x,w=T%x;T<0?(m=-Math.ceil(m)|0,w=-w|0):(m=Math.floor(m)|0,w=w|0);var k=""+m;if(T<0&&(k="-"+k),b){for(var y=""+w;y.length<b;)y="0"+y;return k+"."+y}else return k}function l(s,f){for(var v=[],g=0;g<3;++g){for(var b=[],x=.5*(s[0][g]+s[1][g]),T=0;T*f[g]<=s[1][g];++T)b.push({x:T*f[g],text:i(f[g],T)});for(var T=-1;T*f[g]>=s[0][g];--T)b.push({x:T*f[g],text:i(f[g],T)});v.push(b)}return v}function u(s,f){for(var v=0;v<3;++v){if(s[v].length!==f[v].length)return!1;for(var g=0;g<s[v].length;++g){var b=s[v][g],x=f[v][g];if(b.x!==x.x||b.text!==x.text||b.font!==x.font||b.fontColor!==x.fontColor||b.fontSize!==x.fontSize||b.dx!==x.dx||b.dy!==x.dy)return!1}}return!0}},5445:function(a,o,i){"use strict";a.exports=M;var l=i(5033),u=i(5202),s=i(6429),f=i(6760),v=i(5665),g=i(5352),b=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),x=new Float32Array(16);function T(d,_,p){this.lo=d,this.hi=_,this.pixelsPerDataUnit=p}var A=[0,0,0,1],m=[0,0,0,1];function w(d,_,p,c,S){for(var h=0;h<3;++h){for(var R=A,E=m,D=0;D<3;++D)E[D]=R[D]=p[D];E[3]=R[3]=1,E[h]+=1,g(E,E,_),E[3]<0&&(d[h]=1/0),R[h]-=1,g(R,R,_),R[3]<0&&(d[h]=1/0);var N=(R[0]/R[3]-E[0]/E[3])*c,I=(R[1]/R[3]-E[1]/E[3])*S;d[h]=.25*Math.sqrt(N*N+I*I)}return d}var k=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],y=[0,0,0];function M(d,_,p,c,I){var h=_.model||b,R=_.view||b,E=_.projection||b,D=_._ortho||!1,N=d.bounds,I=I||s(h,R,E,N,D),F=I.axis;f(x,R,h),f(x,E,x);for(var L=k,P=0;P<3;++P)L[P].lo=1/0,L[P].hi=-1/0,L[P].pixelsPerDataUnit=1/0;var q=l(v(x,x));v(x,x);for(var U=0;U<3;++U){var W=(U+1)%3,j=(U+2)%3,$=y;e:for(var P=0;P<2;++P){var G=[];if(F[U]<0!=!!P){$[U]=N[P][U];for(var O=0;O<2;++O){$[W]=N[O^P][W];for(var Z=0;Z<2;++Z)$[j]=N[Z^O^P][j],G.push($.slice())}for(var ne=D?5:4,O=ne;O===ne;++O){if(G.length===0)continue e;G=u.positive(G,q[O])}for(var O=0;O<G.length;++O)for(var j=G[O],Q=w(y,x,j,p,c),Z=0;Z<3;++Z)L[Z].lo=Math.min(L[Z].lo,j[Z]),L[Z].hi=Math.max(L[Z].hi,j[Z]),Z!==U&&(L[Z].pixelsPerDataUnit=Math.min(L[Z].pixelsPerDataUnit,Math.abs(Q[Z])))}}}return L}},2762:function(a,o,i){"use strict";var l=i(1888),u=i(5298),s=i(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function v(m,w,k,y,M){this.gl=m,this.type=w,this.handle=k,this.length=y,this.usage=M}var g=v.prototype;g.bind=function(){this.gl.bindBuffer(this.type,this.handle)},g.unbind=function(){this.gl.bindBuffer(this.type,null)},g.dispose=function(){this.gl.deleteBuffer(this.handle)};function b(m,w,k,y,M,d){var _=M.length*M.BYTES_PER_ELEMENT;if(d<0)return m.bufferData(w,M,y),_;if(_+d>k)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return m.bufferSubData(w,d,M),k}function x(m,w){for(var k=l.malloc(m.length,w),y=m.length,M=0;M<y;++M)k[M]=m[M];return k}function T(m,w){for(var k=1,y=w.length-1;y>=0;--y){if(w[y]!==k)return!1;k*=m[y]}return!0}g.update=function(m,w){if(typeof w!="number"&&(w=-1),this.bind(),typeof m=="object"&&typeof m.shape!="undefined"){var k=m.dtype;if(f.indexOf(k)<0&&(k="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var y=gl.getExtension("OES_element_index_uint");y&&k!=="uint16"?k="uint32":k="uint16"}if(k===m.dtype&&T(m.shape,m.stride))m.offset===0&&m.data.length===m.shape[0]?this.length=b(this.gl,this.type,this.length,this.usage,m.data,w):this.length=b(this.gl,this.type,this.length,this.usage,m.data.subarray(m.offset,m.shape[0]),w);else{var M=l.malloc(m.size,k),d=s(M,m.shape);u.assign(d,m),w<0?this.length=b(this.gl,this.type,this.length,this.usage,M,w):this.length=b(this.gl,this.type,this.length,this.usage,M.subarray(0,m.size),w),l.free(M)}}else if(Array.isArray(m)){var _;this.type===this.gl.ELEMENT_ARRAY_BUFFER?_=x(m,"uint16"):_=x(m,"float32"),w<0?this.length=b(this.gl,this.type,this.length,this.usage,_,w):this.length=b(this.gl,this.type,this.length,this.usage,_.subarray(0,m.length),w),l.free(_)}else if(typeof m=="object"&&typeof m.length=="number")this.length=b(this.gl,this.type,this.length,this.usage,m,w);else if(typeof m=="number"||m===void 0){if(w>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");m=m|0,m<=0&&(m=1),this.gl.bufferData(this.type,m|0,this.usage),this.length=m}else throw new Error("gl-buffer: Invalid data type")};function A(m,w,k,y){if(k=k||m.ARRAY_BUFFER,y=y||m.DYNAMIC_DRAW,k!==m.ARRAY_BUFFER&&k!==m.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(y!==m.DYNAMIC_DRAW&&y!==m.STATIC_DRAW&&y!==m.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var M=m.createBuffer(),d=new v(m,k,M,0,y);return d.update(w),d}a.exports=A},6405:function(a,o,i){"use strict";var l=i(2931);a.exports=function(s,f){var v=s.positions,g=s.vectors,b={positions:[],vertexIntensity:[],vertexIntensityBounds:s.vertexIntensityBounds,vectors:[],cells:[],coneOffset:s.coneOffset,colormap:s.colormap};if(s.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),b;for(var x=0,T=1/0,A=-1/0,m=1/0,w=-1/0,k=1/0,y=-1/0,M=null,d=null,_=[],p=1/0,c=!1,S=s.coneSizemode==="raw",h=0;h<v.length;h++){var R=v[h];T=Math.min(R[0],T),A=Math.max(R[0],A),m=Math.min(R[1],m),w=Math.max(R[1],w),k=Math.min(R[2],k),y=Math.max(R[2],y);var E=g[h];if(l.length(E)>x&&(x=l.length(E)),h&&!S){var D=2*l.distance(M,R)/(l.length(d)+l.length(E));D?(p=Math.min(p,D),c=!1):c=!0}c||(M=R,d=E),_.push(E)}var N=[T,m,k],I=[A,w,y];f&&(f[0]=N,f[1]=I),x===0&&(x=1);var F=1/x;isFinite(p)||(p=1),b.vectorScale=p;var L=s.coneSize||(S?1:.5);s.absoluteConeSize&&(L=s.absoluteConeSize*F),b.coneScale=L;for(var h=0,P=0;h<v.length;h++)for(var R=v[h],q=R[0],U=R[1],W=R[2],j=_[h],$=l.length(j)*F,G=0,O=8;G<O;G++){b.positions.push([q,U,W,P++]),b.positions.push([q,U,W,P++]),b.positions.push([q,U,W,P++]),b.positions.push([q,U,W,P++]),b.positions.push([q,U,W,P++]),b.positions.push([q,U,W,P++]),b.vectors.push(j),b.vectors.push(j),b.vectors.push(j),b.vectors.push(j),b.vectors.push(j),b.vectors.push(j),b.vertexIntensity.push($,$,$),b.vertexIntensity.push($,$,$);var Z=b.positions.length;b.cells.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}return b};var u=i(614);a.exports.createMesh=i(9060),a.exports.createConeMesh=function(s,f){return a.exports.createMesh(s,f,{shaders:u,traceType:"cone"})}},9060:function(a,o,i){"use strict";var l=i(9405),u=i(2762),s=i(8116),f=i(7766),v=i(6760),g=i(7608),b=i(9618),x=i(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function A(_,p,c,S,h,R,E,D,N,I,F){this.gl=_,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=p,this.dirty=!0,this.triShader=c,this.pickShader=S,this.trianglePositions=h,this.triangleVectors=R,this.triangleColors=D,this.triangleUVs=N,this.triangleIds=E,this.triangleVAO=I,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=F,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var m=A.prototype;m.isOpaque=function(){return this.opacity>=1},m.isTransparent=function(){return this.opacity<1},m.pickSlots=1,m.setPickBase=function(_){this.pickId=_};function w(_){for(var p=x({colormap:_,nshades:256,format:"rgba"}),c=new Uint8Array(256*4),S=0;S<256;++S){for(var h=p[S],R=0;R<3;++R)c[4*S+R]=h[R];c[4*S+3]=h[3]*255}return b(c,[256,256,4],[4,0,1])}function k(_){for(var p=_.length,c=new Array(p),S=0;S<p;++S)c[S]=_[S][2];return c}m.update=function(_){_=_||{};var p=this.gl;this.dirty=!0,"lightPosition"in _&&(this.lightPosition=_.lightPosition),"opacity"in _&&(this.opacity=_.opacity),"ambient"in _&&(this.ambientLight=_.ambient),"diffuse"in _&&(this.diffuseLight=_.diffuse),"specular"in _&&(this.specularLight=_.specular),"roughness"in _&&(this.roughness=_.roughness),"fresnel"in _&&(this.fresnel=_.fresnel),_.tubeScale!==void 0&&(this.tubeScale=_.tubeScale),_.vectorScale!==void 0&&(this.vectorScale=_.vectorScale),_.coneScale!==void 0&&(this.coneScale=_.coneScale),_.coneOffset!==void 0&&(this.coneOffset=_.coneOffset),_.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=p.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=p.LINEAR,this.texture.setPixels(w(_.colormap)),this.texture.generateMipmap());var c=_.cells,S=_.positions,h=_.vectors;if(!(!S||!c||!h)){var R=[],E=[],D=[],N=[],I=[];this.cells=c,this.positions=S,this.vectors=h;var F=_.meshColor||[1,1,1,1],L=_.vertexIntensity,P=1/0,q=-1/0;if(L)if(_.vertexIntensityBounds)P=+_.vertexIntensityBounds[0],q=+_.vertexIntensityBounds[1];else for(var U=0;U<L.length;++U){var W=L[U];P=Math.min(P,W),q=Math.max(q,W)}else for(var U=0;U<S.length;++U){var W=S[U][2];P=Math.min(P,W),q=Math.max(q,W)}L?this.intensity=L:this.intensity=k(S),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var U=0;U<S.length;++U)for(var j=S[U],$=0;$<3;++$)isNaN(j[$])||!isFinite(j[$])||(this.bounds[0][$]=Math.min(this.bounds[0][$],j[$]),this.bounds[1][$]=Math.max(this.bounds[1][$],j[$]));var G=0;e:for(var U=0;U<c.length;++U){var O=c[U];switch(O.length){case 3:for(var $=0;$<3;++$)for(var Z=O[$],j=S[Z],ne=0;ne<3;++ne)if(isNaN(j[ne])||!isFinite(j[ne]))continue e;for(var $=0;$<3;++$){var Z=O[2-$],j=S[Z];R.push(j[0],j[1],j[2],j[3]);var Q=h[Z];E.push(Q[0],Q[1],Q[2],Q[3]||0);var ie=F;ie.length===3?D.push(ie[0],ie[1],ie[2],1):D.push(ie[0],ie[1],ie[2],ie[3]);var ee;L?ee=[(L[Z]-P)/(q-P),0]:ee=[(j[2]-P)/(q-P),0],N.push(ee[0],ee[1]),I.push(U)}G+=1;break;default:break}}this.triangleCount=G,this.trianglePositions.update(R),this.triangleVectors.update(E),this.triangleColors.update(D),this.triangleUVs.update(N),this.triangleIds.update(new Uint32Array(I))}},m.drawTransparent=m.draw=function(_){_=_||{};for(var p=this.gl,c=_.model||T,S=_.view||T,h=_.projection||T,R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)R[0][E]=Math.max(R[0][E],this.clipBounds[0][E]),R[1][E]=Math.min(R[1][E],this.clipBounds[1][E]);var D={model:c,view:S,projection:h,inverseModel:T.slice(),clipBounds:R,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};D.inverseModel=g(D.inverseModel,D.model),p.disable(p.CULL_FACE),this.texture.bind(0);var N=new Array(16);v(N,D.view,D.model),v(N,D.projection,N),g(N,N);for(var E=0;E<3;++E)D.eyePosition[E]=N[12+E]/N[15];for(var I=N[15],E=0;E<3;++E)I+=this.lightPosition[E]*N[4*E+3];for(var E=0;E<3;++E){for(var F=N[12+E],L=0;L<3;++L)F+=N[4*L+E]*this.lightPosition[L];D.lightPosition[E]=F/I}if(this.triangleCount>0){var P=this.triShader;P.bind(),P.uniforms=D,this.triangleVAO.bind(),p.drawArrays(p.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},m.drawPick=function(_){_=_||{};for(var p=this.gl,c=_.model||T,S=_.view||T,h=_.projection||T,R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)R[0][E]=Math.max(R[0][E],this.clipBounds[0][E]),R[1][E]=Math.min(R[1][E],this.clipBounds[1][E]);this._model=[].slice.call(c),this._view=[].slice.call(S),this._projection=[].slice.call(h),this._resolution=[p.drawingBufferWidth,p.drawingBufferHeight];var D={model:c,view:S,projection:h,clipBounds:R,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},N=this.pickShader;N.bind(),N.uniforms=D,this.triangleCount>0&&(this.triangleVAO.bind(),p.drawArrays(p.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},m.pick=function(_){if(!_||_.id!==this.pickId)return null;var p=_.value[0]+256*_.value[1]+65536*_.value[2],c=this.cells[p],S=this.positions[c[1]].slice(0,3),h={position:S,dataCoordinate:S,index:Math.floor(c[1]/48)};return this.traceType==="cone"?h.index=Math.floor(c[1]/48):this.traceType==="streamtube"&&(h.intensity=this.intensity[c[1]],h.velocity=this.vectors[c[1]].slice(0,3),h.divergence=this.vectors[c[1]][3],h.index=p),h},m.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function y(_,p){var c=l(_,p.meshShader.vertex,p.meshShader.fragment,null,p.meshShader.attributes);return c.attributes.position.location=0,c.attributes.color.location=2,c.attributes.uv.location=3,c.attributes.vector.location=4,c}function M(_,p){var c=l(_,p.pickShader.vertex,p.pickShader.fragment,null,p.pickShader.attributes);return c.attributes.position.location=0,c.attributes.id.location=1,c.attributes.vector.location=4,c}function d(_,p,c){var S=c.shaders;arguments.length===1&&(p=_,_=p.gl);var h=y(_,S),R=M(_,S),E=f(_,b(new Uint8Array([255,255,255,255]),[1,1,4]));E.generateMipmap(),E.minFilter=_.LINEAR_MIPMAP_LINEAR,E.magFilter=_.LINEAR;var D=u(_),N=u(_),I=u(_),F=u(_),L=u(_),P=s(_,[{buffer:D,type:_.FLOAT,size:4},{buffer:L,type:_.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:I,type:_.FLOAT,size:4},{buffer:F,type:_.FLOAT,size:2},{buffer:N,type:_.FLOAT,size:4}]),q=new A(_,E,h,R,D,N,L,I,F,P,c.traceType||"cone");return q.update(p),q}a.exports=d},614:function(a,o,i){var l=i(3236),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),v=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},o.pickShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(a){a.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(a,o,i){var l=i(737);a.exports=function(s){return l[s]}},9165:function(a,o,i){"use strict";a.exports=A;var l=i(2762),u=i(8116),s=i(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(m,w,k,y){this.gl=m,this.shader=y,this.buffer=w,this.vao=k,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var g=v.prototype;g.isOpaque=function(){return!this.hasAlpha},g.isTransparent=function(){return this.hasAlpha},g.drawTransparent=g.draw=function(m){var w=this.gl,k=this.shader.uniforms;this.shader.bind();var y=k.view=m.view||f,M=k.projection=m.projection||f;k.model=m.model||f,k.clipBounds=this.clipBounds,k.opacity=this.opacity;var d=y[12],_=y[13],p=y[14],c=y[15],S=m._ortho||!1,h=S?2:1,R=h*this.pixelRatio*(M[3]*d+M[7]*_+M[11]*p+M[15]*c)/w.drawingBufferHeight;this.vao.bind();for(var E=0;E<3;++E)w.lineWidth(this.lineWidth[E]*this.pixelRatio),k.capSize=this.capSize[E]*R,this.lineCount[E]&&w.drawArrays(w.LINES,this.lineOffset[E],this.lineCount[E]);this.vao.unbind()};function b(m,w){for(var k=0;k<3;++k)m[0][k]=Math.min(m[0][k],w[k]),m[1][k]=Math.max(m[1][k],w[k])}var x=function(){for(var m=new Array(3),w=0;w<3;++w){for(var k=[],y=1;y<=2;++y)for(var M=-1;M<=1;M+=2){var d=(y+w)%3,_=[0,0,0];_[d]=M,k.push(_)}m[w]=k}return m}();function T(m,w,k,y){for(var M=x[y],d=0;d<M.length;++d){var _=M[d];m.push(w[0],w[1],w[2],k[0],k[1],k[2],k[3],_[0],_[1],_[2])}return M.length}g.update=function(m){m=m||{},"lineWidth"in m&&(this.lineWidth=m.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in m&&(this.capSize=m.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in m&&(this.opacity=+m.opacity,this.opacity<1&&(this.hasAlpha=!0));var w=m.color||[[0,0,0],[0,0,0],[0,0,0]],k=m.position,y=m.error;if(Array.isArray(w[0])||(w=[w,w,w]),k&&y){var M=[],d=k.length,_=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var p=0;p<3;++p){this.lineOffset[p]=_;e:for(var c=0;c<d;++c){for(var S=k[c],h=0;h<3;++h)if(isNaN(S[h])||!isFinite(S[h]))continue e;var R=y[c],E=w[p];if(Array.isArray(E[0])&&(E=w[c]),E.length===3?E=[E[0],E[1],E[2],1]:E.length===4&&(E=[E[0],E[1],E[2],E[3]],!this.hasAlpha&&E[3]<1&&(this.hasAlpha=!0)),!(isNaN(R[0][p])||isNaN(R[1][p]))){if(R[0][p]<0){var D=S.slice();D[p]+=R[0][p],M.push(S[0],S[1],S[2],E[0],E[1],E[2],E[3],0,0,0,D[0],D[1],D[2],E[0],E[1],E[2],E[3],0,0,0),b(this.bounds,D),_+=2+T(M,D,E,p)}if(R[1][p]>0){var D=S.slice();D[p]+=R[1][p],M.push(S[0],S[1],S[2],E[0],E[1],E[2],E[3],0,0,0,D[0],D[1],D[2],E[0],E[1],E[2],E[3],0,0,0),b(this.bounds,D),_+=2+T(M,D,E,p)}}}this.lineCount[p]=_-this.lineOffset[p]}this.buffer.update(M)}},g.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function A(m){var w=m.gl,k=l(w),y=u(w,[{buffer:k,type:w.FLOAT,size:3,offset:0,stride:40},{buffer:k,type:w.FLOAT,size:4,offset:12,stride:40},{buffer:k,type:w.FLOAT,size:3,offset:28,stride:40}]),M=s(w);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.offset.location=2;var d=new v(w,k,y,M);return d.update(m),d}},3436:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);a.exports=function(v){return u(v,s,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(a,o,i){"use strict";var l=i(7766);a.exports=_;var u=null,s,f,v,g;function b(p){var c=p.getParameter(p.FRAMEBUFFER_BINDING),S=p.getParameter(p.RENDERBUFFER_BINDING),h=p.getParameter(p.TEXTURE_BINDING_2D);return[c,S,h]}function x(p,c){p.bindFramebuffer(p.FRAMEBUFFER,c[0]),p.bindRenderbuffer(p.RENDERBUFFER,c[1]),p.bindTexture(p.TEXTURE_2D,c[2])}function T(p,c){var S=p.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(S+1);for(var h=0;h<=S;++h){for(var R=new Array(S),E=0;E<h;++E)R[E]=p.COLOR_ATTACHMENT0+E;for(var E=h;E<S;++E)R[E]=p.NONE;u[h]=R}}function A(p){switch(p){case s:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case v:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case g:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function m(p,c,S,h,R,E){if(!h)return null;var D=l(p,c,S,R,h);return D.magFilter=p.NEAREST,D.minFilter=p.NEAREST,D.mipSamples=1,D.bind(),p.framebufferTexture2D(p.FRAMEBUFFER,E,p.TEXTURE_2D,D.handle,0),D}function w(p,c,S,h,R){var E=p.createRenderbuffer();return p.bindRenderbuffer(p.RENDERBUFFER,E),p.renderbufferStorage(p.RENDERBUFFER,h,c,S),p.framebufferRenderbuffer(p.FRAMEBUFFER,R,p.RENDERBUFFER,E),E}function k(p){var c=b(p.gl),S=p.gl,h=p.handle=S.createFramebuffer(),R=p._shape[0],E=p._shape[1],D=p.color.length,N=p._ext,I=p._useStencil,F=p._useDepth,L=p._colorType;S.bindFramebuffer(S.FRAMEBUFFER,h);for(var P=0;P<D;++P)p.color[P]=m(S,R,E,L,S.RGBA,S.COLOR_ATTACHMENT0+P);D===0?(p._color_rb=w(S,R,E,S.RGBA4,S.COLOR_ATTACHMENT0),N&&N.drawBuffersWEBGL(u[0])):D>1&&N.drawBuffersWEBGL(u[D]);var q=S.getExtension("WEBGL_depth_texture");q?I?p.depth=m(S,R,E,q.UNSIGNED_INT_24_8_WEBGL,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):F&&(p.depth=m(S,R,E,S.UNSIGNED_SHORT,S.DEPTH_COMPONENT,S.DEPTH_ATTACHMENT)):F&&I?p._depth_rb=w(S,R,E,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):F?p._depth_rb=w(S,R,E,S.DEPTH_COMPONENT16,S.DEPTH_ATTACHMENT):I&&(p._depth_rb=w(S,R,E,S.STENCIL_INDEX,S.STENCIL_ATTACHMENT));var U=S.checkFramebufferStatus(S.FRAMEBUFFER);if(U!==S.FRAMEBUFFER_COMPLETE){p._destroyed=!0,S.bindFramebuffer(S.FRAMEBUFFER,null),S.deleteFramebuffer(p.handle),p.handle=null,p.depth&&(p.depth.dispose(),p.depth=null),p._depth_rb&&(S.deleteRenderbuffer(p._depth_rb),p._depth_rb=null);for(var P=0;P<p.color.length;++P)p.color[P].dispose(),p.color[P]=null;p._color_rb&&(S.deleteRenderbuffer(p._color_rb),p._color_rb=null),x(S,c),A(U)}x(S,c)}function y(p,c,S,h,R,E,D,N){this.gl=p,this._shape=[c|0,S|0],this._destroyed=!1,this._ext=N,this.color=new Array(R);for(var I=0;I<R;++I)this.color[I]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=h,this._useDepth=E,this._useStencil=D;var F=this,L=[c|0,S|0];Object.defineProperties(L,{0:{get:function(){return F._shape[0]},set:function(P){return F.width=P}},1:{get:function(){return F._shape[1]},set:function(P){return F.height=P}}}),this._shapeVector=L,k(this)}var M=y.prototype;function d(p,c,S){if(p._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(p._shape[0]===c&&p._shape[1]===S)){var h=p.gl,R=h.getParameter(h.MAX_RENDERBUFFER_SIZE);if(c<0||c>R||S<0||S>R)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");p._shape[0]=c,p._shape[1]=S;for(var E=b(h),D=0;D<p.color.length;++D)p.color[D].shape=p._shape;p._color_rb&&(h.bindRenderbuffer(h.RENDERBUFFER,p._color_rb),h.renderbufferStorage(h.RENDERBUFFER,h.RGBA4,p._shape[0],p._shape[1])),p.depth&&(p.depth.shape=p._shape),p._depth_rb&&(h.bindRenderbuffer(h.RENDERBUFFER,p._depth_rb),p._useDepth&&p._useStencil?h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,p._shape[0],p._shape[1]):p._useDepth?h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,p._shape[0],p._shape[1]):p._useStencil&&h.renderbufferStorage(h.RENDERBUFFER,h.STENCIL_INDEX,p._shape[0],p._shape[1])),h.bindFramebuffer(h.FRAMEBUFFER,p.handle);var N=h.checkFramebufferStatus(h.FRAMEBUFFER);N!==h.FRAMEBUFFER_COMPLETE&&(p.dispose(),x(h,E),A(N)),x(h,E)}}Object.defineProperties(M,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(p){if(Array.isArray(p)||(p=[p|0,p|0]),p.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var c=p[0]|0,S=p[1]|0;return d(this,c,S),[c,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(p){return p=p|0,d(this,p,this._shape[1]),p},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(p){return p=p|0,d(this,this._shape[0],p),p},enumerable:!1}}),M.bind=function(){if(!this._destroyed){var p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,this.handle),p.viewport(0,0,this._shape[0],this._shape[1])}},M.dispose=function(){if(!this._destroyed){this._destroyed=!0;var p=this.gl;p.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(p.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var c=0;c<this.color.length;++c)this.color[c].dispose(),this.color[c]=null;this._color_rb&&(p.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function _(p,c,S,h){s||(s=p.FRAMEBUFFER_UNSUPPORTED,f=p.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,v=p.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,g=p.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var R=p.getExtension("WEBGL_draw_buffers");if(!u&&R&&T(p,R),Array.isArray(c)&&(h=S,S=c[1]|0,c=c[0]|0),typeof c!="number")throw new Error("gl-fbo: Missing shape parameter");var E=p.getParameter(p.MAX_RENDERBUFFER_SIZE);if(c<0||c>E||S<0||S>E)throw new Error("gl-fbo: Parameters are too large for FBO");h=h||{};var D=1;if("color"in h){if(D=Math.max(h.color|0,0),D<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(D>1)if(R){if(D>p.getParameter(R.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+D+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var N=p.UNSIGNED_BYTE,I=p.getExtension("OES_texture_float");if(h.float&&D>0){if(!I)throw new Error("gl-fbo: Context does not support floating point textures");N=p.FLOAT}else h.preferFloat&&D>0&&I&&(N=p.FLOAT);var F=!0;"depth"in h&&(F=!!h.depth);var L=!1;return"stencil"in h&&(L=!!h.stencil),new y(p,c,S,N,D,F,L,R)}},2992:function(a,o,i){var l=i(3387).sprintf,u=i(5171),s=i(1848),f=i(1085);a.exports=v;function v(g,b,x){"use strict";var T=s(b)||"of unknown name (see npm glsl-shader-name)",A="unknown type";x!==void 0&&(A=x===u.FRAGMENT_SHADER?"fragment":"vertex");for(var m=l(`Error compiling %s shader %s:
`,A,T),w=l("%s%s",m,g),k=g.split(`
`),y={},M=0;M<k.length;M++){var d=k[M];if(!(d===""||d==="\0")){var _=parseInt(d.split(":")[2]);if(isNaN(_))throw new Error(l("Could not parse error: %s",d));y[_]=d}}for(var p=f(b).split(`
`),M=0;M<p.length;M++)if(!(!y[M+3]&&!y[M+2]&&!y[M+1])){var c=p[M];if(m+=c+`
`,y[M+1]){var S=y[M+1];S=S.substr(S.split(":",3).join(":").length+1).trim(),m+=l(`^^^ %s

`,S)}}return{long:m.trim(),short:w.trim()}}},2510:function(a,o,i){"use strict";a.exports=A;var l=i(2478),u=i(7762),s=i(1888),f=i(9405),v=i(2762),g=i(6768);function b(m,w,k,y,M,d,_){this.plot=m,this.shader=w,this.pickShader=k,this.positionBuffer=y,this.weightBuffer=M,this.colorBuffer=d,this.idBuffer=_,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var x=b.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];x.draw=function(){var m=[1,0,0,0,1,0,0,0,1];return function(){var w=this.plot,k=this.shader,y=this.bounds,M=this.numVertices;if(!(M<=0)){var d=w.gl,_=w.dataBox,p=y[2]-y[0],c=y[3]-y[1],S=_[2]-_[0],h=_[3]-_[1];m[0]=2*p/S,m[4]=2*c/h,m[6]=2*(y[0]-_[0])/S-1,m[7]=2*(y[1]-_[1])/h-1,k.bind();var R=k.uniforms;R.viewTransform=m,R.shape=this.shape;var E=k.attributes;this.positionBuffer.bind(),E.position.pointer(),this.weightBuffer.bind(),E.weight.pointer(d.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),E.color.pointer(d.UNSIGNED_BYTE,!0),d.drawArrays(d.TRIANGLES,0,M)}}}(),x.drawPick=function(){var m=[1,0,0,0,1,0,0,0,1],w=[0,0,0,0];return function(k){var y=this.plot,M=this.pickShader,d=this.bounds,_=this.numVertices;if(!(_<=0)){var p=y.gl,c=y.dataBox,S=d[2]-d[0],h=d[3]-d[1],R=c[2]-c[0],E=c[3]-c[1];m[0]=2*S/R,m[4]=2*h/E,m[6]=2*(d[0]-c[0])/R-1,m[7]=2*(d[1]-c[1])/E-1;for(var D=0;D<4;++D)w[D]=k>>D*8&255;this.pickOffset=k,M.bind();var N=M.uniforms;N.viewTransform=m,N.pickOffset=w,N.shape=this.shape;var I=M.attributes;return this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(p.UNSIGNED_BYTE,!1),this.idBuffer.bind(),I.pickId.pointer(p.UNSIGNED_BYTE,!1),p.drawArrays(p.TRIANGLES,0,_),k+this.shape[0]*this.shape[1]}}}(),x.pick=function(m,w,k){var y=this.pickOffset,M=this.shape[0]*this.shape[1];if(k<y||k>=y+M)return null;var d=k-y,_=this.xData,p=this.yData;return{object:this,pointId:d,dataCoord:[_[d%this.shape[0]],p[d/this.shape[0]|0]]}},x.update=function(m){m=m||{};var w=m.shape||[0,0],k=m.x||u(w[0]),y=m.y||u(w[1]),M=m.z||new Float32Array(w[0]*w[1]),d=m.zsmooth!==!1;this.xData=k,this.yData=y;var _=m.colorLevels||[0],p=m.colorValues||[0,0,0,1],c=_.length,S=this.bounds,h,R,E,D;d?(h=S[0]=k[0],R=S[1]=y[0],E=S[2]=k[k.length-1],D=S[3]=y[y.length-1]):(h=S[0]=k[0]+(k[1]-k[0])/2,R=S[1]=y[0]+(y[1]-y[0])/2,E=S[2]=k[k.length-1]+(k[k.length-1]-k[k.length-2])/2,D=S[3]=y[y.length-1]+(y[y.length-1]-y[y.length-2])/2);var N=1/(E-h),I=1/(D-R),F=w[0],L=w[1];this.shape=[F,L];var P=(d?(F-1)*(L-1):F*L)*(T.length>>>1);this.numVertices=P;for(var q=s.mallocUint8(P*4),U=s.mallocFloat32(P*2),W=s.mallocUint8(P*2),j=s.mallocUint32(P),$=0,G=d?F-1:F,O=d?L-1:L,Z=0;Z<O;++Z){var ne,Q;d?(ne=I*(y[Z]-R),Q=I*(y[Z+1]-R)):(ne=Z<L-1?I*(y[Z]-(y[Z+1]-y[Z])/2-R):I*(y[Z]-(y[Z]-y[Z-1])/2-R),Q=Z<L-1?I*(y[Z]+(y[Z+1]-y[Z])/2-R):I*(y[Z]+(y[Z]-y[Z-1])/2-R));for(var ie=0;ie<G;++ie){var ee,V;d?(ee=N*(k[ie]-h),V=N*(k[ie+1]-h)):(ee=ie<F-1?N*(k[ie]-(k[ie+1]-k[ie])/2-h):N*(k[ie]-(k[ie]-k[ie-1])/2-h),V=ie<F-1?N*(k[ie]+(k[ie+1]-k[ie])/2-h):N*(k[ie]+(k[ie]-k[ie-1])/2-h));for(var re=0;re<T.length;re+=2){var H=T[re],te=T[re+1],se=d?(Z+te)*F+(ie+H):Z*F+ie,he=M[se],ke=l.le(_,he),we,ve,Me,Se;if(ke<0)we=p[0],ve=p[1],Me=p[2],Se=p[3];else if(ke===c-1)we=p[4*c-4],ve=p[4*c-3],Me=p[4*c-2],Se=p[4*c-1];else{var De=(he-_[ke])/(_[ke+1]-_[ke]),Ce=1-De,Oe=4*ke,Be=4*(ke+1);we=Ce*p[Oe]+De*p[Be],ve=Ce*p[Oe+1]+De*p[Be+1],Me=Ce*p[Oe+2]+De*p[Be+2],Se=Ce*p[Oe+3]+De*p[Be+3]}q[4*$]=255*we,q[4*$+1]=255*ve,q[4*$+2]=255*Me,q[4*$+3]=255*Se,U[2*$]=ee*.5+V*.5,U[2*$+1]=ne*.5+Q*.5,W[2*$]=H,W[2*$+1]=te,j[$]=Z*F+ie,$+=1}}}this.positionBuffer.update(U),this.weightBuffer.update(W),this.colorBuffer.update(q),this.idBuffer.update(j),s.free(U),s.free(q),s.free(W),s.free(j)},x.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function A(m,w){var k=m.gl,y=f(k,g.vertex,g.fragment),M=f(k,g.pickVertex,g.pickFragment),d=v(k),_=v(k),p=v(k),c=v(k),S=new b(m,y,M,d,_,p,c);return S.update(w),m.addObject(S),S}},6768:function(a,o,i){"use strict";var l=i(3236);a.exports={fragment:l([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:l([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:l([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:l([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(a,o,i){var l=i(3236),u=i(9405),s=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),v=l([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),g=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];o.createShader=function(b){return u(b,s,f,null,g)},o.createPickShader=function(b){return u(b,s,v,null,g)}},5714:function(a,o,i){"use strict";a.exports=p;var l=i(2762),u=i(8116),s=i(7766),f=new Uint8Array(4),v=new Float32Array(f.buffer);function g(c,S,h,R){return f[0]=R,f[1]=h,f[2]=S,f[3]=c,v[0]}var b=i(2478),x=i(9618),T=i(7319),A=T.createShader,m=T.createPickShader,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function k(c,S){for(var h=0,R=0;R<3;++R){var E=c[R]-S[R];h+=E*E}return Math.sqrt(h)}function y(c){for(var S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],h=0;h<3;++h)S[0][h]=Math.max(c[0][h],S[0][h]),S[1][h]=Math.min(c[1][h],S[1][h]);return S}function M(c,S,h,R){this.arcLength=c,this.position=S,this.index=h,this.dataCoordinate=R}function d(c,S,h,R,E,D){this.gl=c,this.shader=S,this.pickShader=h,this.buffer=R,this.vao=E,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=D,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var _=d.prototype;_.isTransparent=function(){return this.hasAlpha},_.isOpaque=function(){return!this.hasAlpha},_.pickSlots=1,_.setPickBase=function(c){this.pickId=c},_.drawTransparent=_.draw=function(c){if(this.vertexCount){var S=this.gl,h=this.shader,R=this.vao;h.bind(),h.uniforms={model:c.model||w,view:c.view||w,projection:c.projection||w,clipBounds:y(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(S.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},_.drawPick=function(c){if(this.vertexCount){var S=this.gl,h=this.pickShader,R=this.vao;h.bind(),h.uniforms={model:c.model||w,view:c.view||w,projection:c.projection||w,pickId:this.pickId,clipBounds:y(this.clipBounds),screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(S.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},_.update=function(c){var S,h;this.dirty=!0;var R=!!c.connectGaps;"dashScale"in c&&(this.dashScale=c.dashScale),this.hasAlpha=!1,"opacity"in c&&(this.opacity=+c.opacity,this.opacity<1&&(this.hasAlpha=!0));var E=[],D=[],N=[],I=0,F=0,L=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],P=c.position||c.positions;if(P){var q=c.color||c.colors||[0,0,0,1],U=c.lineWidth||1,W=!1;e:for(S=1;S<P.length;++S){var j=P[S-1],$=P[S];for(D.push(I),N.push(j.slice()),h=0;h<3;++h){if(isNaN(j[h])||isNaN($[h])||!isFinite(j[h])||!isFinite($[h])){if(!R&&E.length>0){for(var G=0;G<24;++G)E.push(E[E.length-12]);F+=2,W=!0}continue e}L[0][h]=Math.min(L[0][h],j[h],$[h]),L[1][h]=Math.max(L[1][h],j[h],$[h])}var O,Z;Array.isArray(q[0])?(O=q.length>S-1?q[S-1]:q.length>0?q[q.length-1]:[0,0,0,1],Z=q.length>S?q[S]:q.length>0?q[q.length-1]:[0,0,0,1]):O=Z=q,O.length===3&&(O=[O[0],O[1],O[2],1]),Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),!this.hasAlpha&&O[3]<1&&(this.hasAlpha=!0);var ne;Array.isArray(U)?ne=U.length>S-1?U[S-1]:U.length>0?U[U.length-1]:[0,0,0,1]:ne=U;var Q=I;if(I+=k(j,$),W){for(h=0;h<2;++h)E.push(j[0],j[1],j[2],$[0],$[1],$[2],Q,ne,O[0],O[1],O[2],O[3]);F+=2,W=!1}E.push(j[0],j[1],j[2],$[0],$[1],$[2],Q,ne,O[0],O[1],O[2],O[3],j[0],j[1],j[2],$[0],$[1],$[2],Q,-ne,O[0],O[1],O[2],O[3],$[0],$[1],$[2],j[0],j[1],j[2],I,-ne,Z[0],Z[1],Z[2],Z[3],$[0],$[1],$[2],j[0],j[1],j[2],I,ne,Z[0],Z[1],Z[2],Z[3]),F+=4}}if(this.buffer.update(E),D.push(I),N.push(P[P.length-1].slice()),this.bounds=L,this.vertexCount=F,this.points=N,this.arcLength=D,"dashes"in c){var ie=c.dashes,ee=ie.slice();for(ee.unshift(0),S=1;S<ee.length;++S)ee[S]=ee[S-1]+ee[S];var V=x(new Array(256*4),[256,1,4]);for(S=0;S<256;++S){for(h=0;h<4;++h)V.set(S,0,h,0);b.le(ee,ee[ee.length-1]*S/255)&1?V.set(S,0,0,0):V.set(S,0,0,255)}this.texture.setPixels(V)}},_.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},_.pick=function(c){if(!c||c.id!==this.pickId)return null;var S=g(c.value[0],c.value[1],c.value[2],0),h=b.le(this.arcLength,S);if(h<0)return null;if(h===this.arcLength.length-1)return new M(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),h);for(var R=this.points[h],E=this.points[Math.min(h+1,this.points.length-1)],D=(S-this.arcLength[h])/(this.arcLength[h+1]-this.arcLength[h]),N=1-D,I=[0,0,0],F=0;F<3;++F)I[F]=N*R[F]+D*E[F];var L=Math.min(D<.5?h:h+1,this.points.length-1);return new M(S,I,L,this.points[L])};function p(c){var S=c.gl||c.scene&&c.scene.gl,h=A(S);h.attributes.position.location=0,h.attributes.nextPosition.location=1,h.attributes.arcLength.location=2,h.attributes.lineWidth.location=3,h.attributes.color.location=4;var R=m(S);R.attributes.position.location=0,R.attributes.nextPosition.location=1,R.attributes.arcLength.location=2,R.attributes.lineWidth.location=3,R.attributes.color.location=4;for(var E=l(S),D=u(S,[{buffer:E,size:3,offset:0,stride:48},{buffer:E,size:3,offset:12,stride:48},{buffer:E,size:1,offset:24,stride:48},{buffer:E,size:1,offset:28,stride:48},{buffer:E,size:4,offset:32,stride:48}]),N=x(new Array(256*4),[256,1,4]),I=0;I<1024;++I)N.data[I]=255;var F=s(S,N);F.wrap=S.REPEAT;var L=new d(S,h,R,E,D,F);return L.update(c),L}},1903:function(a){a.exports=o;function o(i){var l=new Float32Array(16);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l}},6864:function(a){a.exports=o;function o(){var i=new Float32Array(16);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},9921:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3],v=i[4],g=i[5],b=i[6],x=i[7],T=i[8],A=i[9],m=i[10],w=i[11],k=i[12],y=i[13],M=i[14],d=i[15],_=l*g-u*v,p=l*b-s*v,c=l*x-f*v,S=u*b-s*g,h=u*x-f*g,R=s*x-f*b,E=T*y-A*k,D=T*M-m*k,N=T*d-w*k,I=A*M-m*y,F=A*d-w*y,L=m*d-w*M;return _*L-p*F+c*I+S*N-h*D+R*E}},7399:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],v=l[3],g=u+u,b=s+s,x=f+f,T=u*g,A=s*g,m=s*b,w=f*g,k=f*b,y=f*x,M=v*g,d=v*b,_=v*x;return i[0]=1-m-y,i[1]=A+_,i[2]=w-d,i[3]=0,i[4]=A-_,i[5]=1-T-y,i[6]=k+M,i[7]=0,i[8]=w+d,i[9]=k-M,i[10]=1-T-m,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},6743:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],g=l[3],b=s+s,x=f+f,T=v+v,A=s*b,m=s*x,w=s*T,k=f*x,y=f*T,M=v*T,d=g*b,_=g*x,p=g*T;return i[0]=1-(k+M),i[1]=m+p,i[2]=w-_,i[3]=0,i[4]=m-p,i[5]=1-(A+M),i[6]=y+d,i[7]=0,i[8]=w+_,i[9]=y-d,i[10]=1-(A+k),i[11]=0,i[12]=u[0],i[13]=u[1],i[14]=u[2],i[15]=1,i}},7894:function(a){a.exports=o;function o(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}},7608:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],v=l[3],g=l[4],b=l[5],x=l[6],T=l[7],A=l[8],m=l[9],w=l[10],k=l[11],y=l[12],M=l[13],d=l[14],_=l[15],p=u*b-s*g,c=u*x-f*g,S=u*T-v*g,h=s*x-f*b,R=s*T-v*b,E=f*T-v*x,D=A*M-m*y,N=A*d-w*y,I=A*_-k*y,F=m*d-w*M,L=m*_-k*M,P=w*_-k*d,q=p*P-c*L+S*F+h*I-R*N+E*D;return q?(q=1/q,i[0]=(b*P-x*L+T*F)*q,i[1]=(f*L-s*P-v*F)*q,i[2]=(M*E-d*R+_*h)*q,i[3]=(w*R-m*E-k*h)*q,i[4]=(x*I-g*P-T*N)*q,i[5]=(u*P-f*I+v*N)*q,i[6]=(d*S-y*E-_*c)*q,i[7]=(A*E-w*S+k*c)*q,i[8]=(g*L-b*I+T*D)*q,i[9]=(s*I-u*L-v*D)*q,i[10]=(y*R-M*S+_*p)*q,i[11]=(m*S-A*R-k*p)*q,i[12]=(b*N-g*F-x*D)*q,i[13]=(u*F-s*N+f*D)*q,i[14]=(M*c-y*h-d*p)*q,i[15]=(A*h-m*c+w*p)*q,i):null}},6582:function(a,o,i){var l=i(7894);a.exports=u;function u(s,f,v,g){var b,x,T,A,m,w,k,y,M,d,_=f[0],p=f[1],c=f[2],S=g[0],h=g[1],R=g[2],E=v[0],D=v[1],N=v[2];return Math.abs(_-E)<1e-6&&Math.abs(p-D)<1e-6&&Math.abs(c-N)<1e-6?l(s):(k=_-E,y=p-D,M=c-N,d=1/Math.sqrt(k*k+y*y+M*M),k*=d,y*=d,M*=d,b=h*M-R*y,x=R*k-S*M,T=S*y-h*k,d=Math.sqrt(b*b+x*x+T*T),d?(d=1/d,b*=d,x*=d,T*=d):(b=0,x=0,T=0),A=y*T-M*x,m=M*b-k*T,w=k*x-y*b,d=Math.sqrt(A*A+m*m+w*w),d?(d=1/d,A*=d,m*=d,w*=d):(A=0,m=0,w=0),s[0]=b,s[1]=A,s[2]=k,s[3]=0,s[4]=x,s[5]=m,s[6]=y,s[7]=0,s[8]=T,s[9]=w,s[10]=M,s[11]=0,s[12]=-(b*_+x*p+T*c),s[13]=-(A*_+m*p+w*c),s[14]=-(k*_+y*p+M*c),s[15]=1,s)}},6760:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],g=l[3],b=l[4],x=l[5],T=l[6],A=l[7],m=l[8],w=l[9],k=l[10],y=l[11],M=l[12],d=l[13],_=l[14],p=l[15],c=u[0],S=u[1],h=u[2],R=u[3];return i[0]=c*s+S*b+h*m+R*M,i[1]=c*f+S*x+h*w+R*d,i[2]=c*v+S*T+h*k+R*_,i[3]=c*g+S*A+h*y+R*p,c=u[4],S=u[5],h=u[6],R=u[7],i[4]=c*s+S*b+h*m+R*M,i[5]=c*f+S*x+h*w+R*d,i[6]=c*v+S*T+h*k+R*_,i[7]=c*g+S*A+h*y+R*p,c=u[8],S=u[9],h=u[10],R=u[11],i[8]=c*s+S*b+h*m+R*M,i[9]=c*f+S*x+h*w+R*d,i[10]=c*v+S*T+h*k+R*_,i[11]=c*g+S*A+h*y+R*p,c=u[12],S=u[13],h=u[14],R=u[15],i[12]=c*s+S*b+h*m+R*M,i[13]=c*f+S*x+h*w+R*d,i[14]=c*v+S*T+h*k+R*_,i[15]=c*g+S*A+h*y+R*p,i}},4040:function(a){a.exports=o;function o(i,l,u,s,f,v,g){var b=1/(l-u),x=1/(s-f),T=1/(v-g);return i[0]=-2*b,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*x,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*T,i[11]=0,i[12]=(l+u)*b,i[13]=(f+s)*x,i[14]=(g+v)*T,i[15]=1,i}},4772:function(a){a.exports=o;function o(i,l,u,s,f){var v=1/Math.tan(l/2),g=1/(s-f);return i[0]=v/u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=v,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(f+s)*g,i[11]=-1,i[12]=0,i[13]=0,i[14]=2*f*s*g,i[15]=0,i}},6079:function(a){a.exports=o;function o(i,l,u,s){var f=s[0],v=s[1],g=s[2],b=Math.sqrt(f*f+v*v+g*g),x,T,A,m,w,k,y,M,d,_,p,c,S,h,R,E,D,N,I,F,L,P,q,U;return Math.abs(b)<1e-6?null:(b=1/b,f*=b,v*=b,g*=b,x=Math.sin(u),T=Math.cos(u),A=1-T,m=l[0],w=l[1],k=l[2],y=l[3],M=l[4],d=l[5],_=l[6],p=l[7],c=l[8],S=l[9],h=l[10],R=l[11],E=f*f*A+T,D=v*f*A+g*x,N=g*f*A-v*x,I=f*v*A-g*x,F=v*v*A+T,L=g*v*A+f*x,P=f*g*A+v*x,q=v*g*A-f*x,U=g*g*A+T,i[0]=m*E+M*D+c*N,i[1]=w*E+d*D+S*N,i[2]=k*E+_*D+h*N,i[3]=y*E+p*D+R*N,i[4]=m*I+M*F+c*L,i[5]=w*I+d*F+S*L,i[6]=k*I+_*F+h*L,i[7]=y*I+p*F+R*L,i[8]=m*P+M*q+c*U,i[9]=w*P+d*q+S*U,i[10]=k*P+_*q+h*U,i[11]=y*P+p*q+R*U,l!==i&&(i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i)}},5567:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),v=l[4],g=l[5],b=l[6],x=l[7],T=l[8],A=l[9],m=l[10],w=l[11];return l!==i&&(i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[4]=v*f+T*s,i[5]=g*f+A*s,i[6]=b*f+m*s,i[7]=x*f+w*s,i[8]=T*f-v*s,i[9]=A*f-g*s,i[10]=m*f-b*s,i[11]=w*f-x*s,i}},2408:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),v=l[0],g=l[1],b=l[2],x=l[3],T=l[8],A=l[9],m=l[10],w=l[11];return l!==i&&(i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=v*f-T*s,i[1]=g*f-A*s,i[2]=b*f-m*s,i[3]=x*f-w*s,i[8]=v*s+T*f,i[9]=g*s+A*f,i[10]=b*s+m*f,i[11]=x*s+w*f,i}},7089:function(a){a.exports=o;function o(i,l,u){var s=Math.sin(u),f=Math.cos(u),v=l[0],g=l[1],b=l[2],x=l[3],T=l[4],A=l[5],m=l[6],w=l[7];return l!==i&&(i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15]),i[0]=v*f+T*s,i[1]=g*f+A*s,i[2]=b*f+m*s,i[3]=x*f+w*s,i[4]=T*f-v*s,i[5]=A*f-g*s,i[6]=m*f-b*s,i[7]=w*f-x*s,i}},2504:function(a){a.exports=o;function o(i,l,u){var s=u[0],f=u[1],v=u[2];return i[0]=l[0]*s,i[1]=l[1]*s,i[2]=l[2]*s,i[3]=l[3]*s,i[4]=l[4]*f,i[5]=l[5]*f,i[6]=l[6]*f,i[7]=l[7]*f,i[8]=l[8]*v,i[9]=l[9]*v,i[10]=l[10]*v,i[11]=l[11]*v,i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i}},7656:function(a){a.exports=o;function o(i,l,u){var s=u[0],f=u[1],v=u[2],g,b,x,T,A,m,w,k,y,M,d,_;return l===i?(i[12]=l[0]*s+l[4]*f+l[8]*v+l[12],i[13]=l[1]*s+l[5]*f+l[9]*v+l[13],i[14]=l[2]*s+l[6]*f+l[10]*v+l[14],i[15]=l[3]*s+l[7]*f+l[11]*v+l[15]):(g=l[0],b=l[1],x=l[2],T=l[3],A=l[4],m=l[5],w=l[6],k=l[7],y=l[8],M=l[9],d=l[10],_=l[11],i[0]=g,i[1]=b,i[2]=x,i[3]=T,i[4]=A,i[5]=m,i[6]=w,i[7]=k,i[8]=y,i[9]=M,i[10]=d,i[11]=_,i[12]=g*s+A*f+y*v+l[12],i[13]=b*s+m*f+M*v+l[13],i[14]=x*s+w*f+d*v+l[14],i[15]=T*s+k*f+_*v+l[15]),i}},5665:function(a){a.exports=o;function o(i,l){if(i===l){var u=l[1],s=l[2],f=l[3],v=l[6],g=l[7],b=l[11];i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=u,i[6]=l[9],i[7]=l[13],i[8]=s,i[9]=v,i[11]=l[14],i[12]=f,i[13]=g,i[14]=b}else i[0]=l[0],i[1]=l[4],i[2]=l[8],i[3]=l[12],i[4]=l[1],i[5]=l[5],i[6]=l[9],i[7]=l[13],i[8]=l[2],i[9]=l[6],i[10]=l[10],i[11]=l[14],i[12]=l[3],i[13]=l[7],i[14]=l[11],i[15]=l[15];return i}},7626:function(a,o,i){"use strict";var l=i(2642),u=i(9346);a.exports=b;function s(x,T){for(var A=[0,0,0,0],m=0;m<4;++m)for(var w=0;w<4;++w)A[w]+=x[4*m+w]*T[m];return A}function f(x,T,A,m,w){for(var k=s(m,s(A,s(T,[x[0],x[1],x[2],1]))),y=0;y<3;++y)k[y]/=k[3];return[.5*w[0]*(1+k[0]),.5*w[1]*(1-k[1])]}function v(x,T){if(x.length===2){for(var A=0,m=0,w=0;w<2;++w)A+=Math.pow(T[w]-x[0][w],2),m+=Math.pow(T[w]-x[1][w],2);return A=Math.sqrt(A),m=Math.sqrt(m),A+m<1e-6?[1,0]:[m/(A+m),A/(m+A)]}else if(x.length===3){var k=[0,0];return u(x[0],x[1],x[2],T,k),l(x,k)}return[]}function g(x,T){for(var A=[0,0,0],m=0;m<x.length;++m)for(var w=x[m],k=T[m],y=0;y<3;++y)A[y]+=k*w[y];return A}function b(x,T,A,m,w,k){if(x.length===1)return[0,x[0].slice()];for(var y=new Array(x.length),M=0;M<x.length;++M)y[M]=f(x[M],A,m,w,k);for(var d=0,_=1/0,M=0;M<y.length;++M){for(var p=0,c=0;c<2;++c)p+=Math.pow(y[M][c]-T[c],2);p<_&&(_=p,d=M)}for(var S=v(y,T),h=0,M=0;M<3;++M){if(S[M]<-.001||S[M]>1.0001)return null;h+=S[M]}return Math.abs(h-1)>.001?null:[d,g(x,S),S]}},840:function(a,o,i){var l=i(3236),u=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),v=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),g=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),b=l([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),x=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),A=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),m=l([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),w=l([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.wireShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.pointShader={vertex:g,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},o.pickShader={vertex:x,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},o.pointPickShader={vertex:A,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},o.contourShader={vertex:m,fragment:w,attributes:[{name:"position",type:"vec3"}]}},7201:function(a,o,i){"use strict";var l=1e-6,u=1e-6,s=i(9405),f=i(2762),v=i(8116),g=i(7766),b=i(8406),x=i(6760),T=i(7608),A=i(9618),m=i(6729),w=i(7765),k=i(1888),y=i(840),M=i(7626),d=y.meshShader,_=y.wireShader,p=y.pointShader,c=y.pickShader,S=y.pointPickShader,h=y.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function E(G,O,Z,ne,Q,ie,ee,V,re,H,te,se,he,ke,we,ve,Me,Se,De,Ce,Oe,Be,ge,Ae,ce,ye,Le){this.gl=G,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=O,this.dirty=!0,this.triShader=Z,this.lineShader=ne,this.pointShader=Q,this.pickShader=ie,this.pointPickShader=ee,this.contourShader=V,this.trianglePositions=re,this.triangleColors=te,this.triangleNormals=he,this.triangleUVs=se,this.triangleIds=H,this.triangleVAO=ke,this.triangleCount=0,this.lineWidth=1,this.edgePositions=we,this.edgeColors=Me,this.edgeUVs=Se,this.edgeIds=ve,this.edgeVAO=De,this.edgeCount=0,this.pointPositions=Ce,this.pointColors=Be,this.pointUVs=ge,this.pointSizes=Ae,this.pointIds=Oe,this.pointVAO=ce,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=ye,this.contourVAO=Le,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}var D=E.prototype;D.isOpaque=function(){return!this.hasAlpha},D.isTransparent=function(){return this.hasAlpha},D.pickSlots=1,D.setPickBase=function(G){this.pickId=G};function N(G,O){if(!O||!O.length)return 1;for(var Z=0;Z<O.length;++Z){if(O.length<2)return 1;if(O[Z][0]===G)return O[Z][1];if(O[Z][0]>G&&Z>0){var ne=(O[Z][0]-G)/(O[Z][0]-O[Z-1][0]);return O[Z][1]*(1-ne)+ne*O[Z-1][1]}}return 1}function I(G,O){for(var Z=m({colormap:G,nshades:256,format:"rgba"}),ne=new Uint8Array(256*4),Q=0;Q<256;++Q){for(var ie=Z[Q],ee=0;ee<3;++ee)ne[4*Q+ee]=ie[ee];O?ne[4*Q+3]=255*N(Q/255,O):ne[4*Q+3]=255*ie[3]}return A(ne,[256,256,4],[4,0,1])}function F(G){for(var O=G.length,Z=new Array(O),ne=0;ne<O;++ne)Z[ne]=G[ne][2];return Z}D.highlight=function(G){if(!G||!this.contourEnable){this.contourCount=0;return}for(var O=w(this.cells,this.intensity,G.intensity),Z=O.cells,ne=O.vertexIds,Q=O.vertexWeights,ie=Z.length,ee=k.mallocFloat32(2*3*ie),V=0,re=0;re<ie;++re)for(var H=Z[re],te=0;te<2;++te){var se=H[0];H.length===2&&(se=H[te]);for(var he=ne[se][0],ke=ne[se][1],we=Q[se],ve=1-we,Me=this.positions[he],Se=this.positions[ke],De=0;De<3;++De)ee[V++]=we*Me[De]+ve*Se[De]}this.contourCount=V/3|0,this.contourPositions.update(ee.subarray(0,V)),k.free(ee)},D.update=function(G){G=G||{};var O=this.gl;this.dirty=!0,"contourEnable"in G&&(this.contourEnable=G.contourEnable),"contourColor"in G&&(this.contourColor=G.contourColor),"lineWidth"in G&&(this.lineWidth=G.lineWidth),"lightPosition"in G&&(this.lightPosition=G.lightPosition),this.hasAlpha=!1,"opacity"in G&&(this.opacity=G.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in G&&(this.opacityscale=G.opacityscale,this.hasAlpha=!0),"ambient"in G&&(this.ambientLight=G.ambient),"diffuse"in G&&(this.diffuseLight=G.diffuse),"specular"in G&&(this.specularLight=G.specular),"roughness"in G&&(this.roughness=G.roughness),"fresnel"in G&&(this.fresnel=G.fresnel),G.texture?(this.texture.dispose(),this.texture=g(O,G.texture)):G.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=O.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=O.LINEAR,this.texture.setPixels(I(G.colormap,this.opacityscale)),this.texture.generateMipmap());var Z=G.cells,ne=G.positions;if(!(!ne||!Z)){var Q=[],ie=[],ee=[],V=[],re=[],H=[],te=[],se=[],he=[],ke=[],we=[],ve=[],Me=[],Se=[];this.cells=Z,this.positions=ne;var De=G.vertexNormals,Ce=G.cellNormals,Oe=G.vertexNormalsEpsilon===void 0?l:G.vertexNormalsEpsilon,Be=G.faceNormalsEpsilon===void 0?u:G.faceNormalsEpsilon;G.useFacetNormals&&!Ce&&(Ce=b.faceNormals(Z,ne,Be)),!Ce&&!De&&(De=b.vertexNormals(Z,ne,Oe));var ge=G.vertexColors,Ae=G.cellColors,ce=G.meshColor||[1,1,1,1],ye=G.vertexUVs,Le=G.vertexIntensity,me=G.cellUVs,de=G.cellIntensity,be=1/0,Ee=-1/0;if(!ye&&!me)if(Le)if(G.vertexIntensityBounds)be=+G.vertexIntensityBounds[0],Ee=+G.vertexIntensityBounds[1];else for(var ze=0;ze<Le.length;++ze){var Fe=Le[ze];be=Math.min(be,Fe),Ee=Math.max(Ee,Fe)}else if(de)if(G.cellIntensityBounds)be=+G.cellIntensityBounds[0],Ee=+G.cellIntensityBounds[1];else for(var ze=0;ze<de.length;++ze){var Fe=de[ze];be=Math.min(be,Fe),Ee=Math.max(Ee,Fe)}else for(var ze=0;ze<ne.length;++ze){var Fe=ne[ze][2];be=Math.min(be,Fe),Ee=Math.max(Ee,Fe)}Le?this.intensity=Le:de?this.intensity=de:this.intensity=F(ne),this.pickVertex=!(de||Ae);var Je=G.pointSizes,Ye=G.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var ze=0;ze<ne.length;++ze)for(var Ge=ne[ze],We=0;We<3;++We)isNaN(Ge[We])||!isFinite(Ge[We])||(this.bounds[0][We]=Math.min(this.bounds[0][We],Ge[We]),this.bounds[1][We]=Math.max(this.bounds[1][We],Ge[We]));var Te=0,Pe=0,Qe=0;e:for(var ze=0;ze<Z.length;++ze){var Ve=Z[ze];switch(Ve.length){case 1:for(var ar=Ve[0],Ge=ne[ar],We=0;We<3;++We)if(isNaN(Ge[We])||!isFinite(Ge[We]))continue e;ke.push(Ge[0],Ge[1],Ge[2]);var ue;ge?ue=ge[ar]:Ae?ue=Ae[ze]:ue=ce,this.opacityscale&&Le?ie.push(ue[0],ue[1],ue[2],this.opacity*N((Le[ar]-be)/(Ee-be),this.opacityscale)):ue.length===3?we.push(ue[0],ue[1],ue[2],this.opacity):(we.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0));var K;ye?K=ye[ar]:Le?K=[(Le[ar]-be)/(Ee-be),0]:me?K=me[ze]:de?K=[(de[ze]-be)/(Ee-be),0]:K=[(Ge[2]-be)/(Ee-be),0],ve.push(K[0],K[1]),Je?Me.push(Je[ar]):Me.push(Ye),Se.push(ze),Qe+=1;break;case 2:for(var We=0;We<2;++We)for(var ar=Ve[We],Ge=ne[ar],ae=0;ae<3;++ae)if(isNaN(Ge[ae])||!isFinite(Ge[ae]))continue e;for(var We=0;We<2;++We){var ar=Ve[We],Ge=ne[ar];H.push(Ge[0],Ge[1],Ge[2]);var ue;ge?ue=ge[ar]:Ae?ue=Ae[ze]:ue=ce,this.opacityscale&&Le?ie.push(ue[0],ue[1],ue[2],this.opacity*N((Le[ar]-be)/(Ee-be),this.opacityscale)):ue.length===3?te.push(ue[0],ue[1],ue[2],this.opacity):(te.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0));var K;ye?K=ye[ar]:Le?K=[(Le[ar]-be)/(Ee-be),0]:me?K=me[ze]:de?K=[(de[ze]-be)/(Ee-be),0]:K=[(Ge[2]-be)/(Ee-be),0],se.push(K[0],K[1]),he.push(ze)}Pe+=1;break;case 3:for(var We=0;We<3;++We)for(var ar=Ve[We],Ge=ne[ar],ae=0;ae<3;++ae)if(isNaN(Ge[ae])||!isFinite(Ge[ae]))continue e;for(var We=0;We<3;++We){var ar=Ve[2-We],Ge=ne[ar];Q.push(Ge[0],Ge[1],Ge[2]);var ue;ge?ue=ge[ar]:Ae?ue=Ae[ze]:ue=ce,ue?this.opacityscale&&Le?ie.push(ue[0],ue[1],ue[2],this.opacity*N((Le[ar]-be)/(Ee-be),this.opacityscale)):ue.length===3?ie.push(ue[0],ue[1],ue[2],this.opacity):(ie.push(ue[0],ue[1],ue[2],ue[3]*this.opacity),ue[3]<1&&(this.hasAlpha=!0)):ie.push(.5,.5,.5,1);var K;ye?K=ye[ar]:Le?K=[(Le[ar]-be)/(Ee-be),0]:me?K=me[ze]:de?K=[(de[ze]-be)/(Ee-be),0]:K=[(Ge[2]-be)/(Ee-be),0],V.push(K[0],K[1]);var Re;De?Re=De[ar]:Re=Ce[ze],ee.push(Re[0],Re[1],Re[2]),re.push(ze)}Te+=1;break;default:break}}this.pointCount=Qe,this.edgeCount=Pe,this.triangleCount=Te,this.pointPositions.update(ke),this.pointColors.update(we),this.pointUVs.update(ve),this.pointSizes.update(Me),this.pointIds.update(new Uint32Array(Se)),this.edgePositions.update(H),this.edgeColors.update(te),this.edgeUVs.update(se),this.edgeIds.update(new Uint32Array(he)),this.trianglePositions.update(Q),this.triangleColors.update(ie),this.triangleUVs.update(V),this.triangleNormals.update(ee),this.triangleIds.update(new Uint32Array(re))}},D.drawTransparent=D.draw=function(G){G=G||{};for(var O=this.gl,Z=G.model||R,ne=G.view||R,Q=G.projection||R,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)ie[0][ee]=Math.max(ie[0][ee],this.clipBounds[0][ee]),ie[1][ee]=Math.min(ie[1][ee],this.clipBounds[1][ee]);var V={model:Z,view:ne,projection:Q,inverseModel:R.slice(),clipBounds:ie,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};V.inverseModel=T(V.inverseModel,V.model),O.disable(O.CULL_FACE),this.texture.bind(0);var re=new Array(16);x(re,V.view,V.model),x(re,V.projection,re),T(re,re);for(var ee=0;ee<3;++ee)V.eyePosition[ee]=re[12+ee]/re[15];for(var H=re[15],ee=0;ee<3;++ee)H+=this.lightPosition[ee]*re[4*ee+3];for(var ee=0;ee<3;++ee){for(var te=re[12+ee],se=0;se<3;++se)te+=re[4*se+ee]*this.lightPosition[se];V.lightPosition[ee]=te/H}if(this.triangleCount>0){var he=this.triShader;he.bind(),he.uniforms=V,this.triangleVAO.bind(),O.drawArrays(O.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var he=this.lineShader;he.bind(),he.uniforms=V,this.edgeVAO.bind(),O.lineWidth(this.lineWidth*this.pixelRatio),O.drawArrays(O.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var he=this.pointShader;he.bind(),he.uniforms=V,this.pointVAO.bind(),O.drawArrays(O.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var he=this.contourShader;he.bind(),he.uniforms=V,this.contourVAO.bind(),O.drawArrays(O.LINES,0,this.contourCount),this.contourVAO.unbind()}},D.drawPick=function(G){G=G||{};for(var O=this.gl,Z=G.model||R,ne=G.view||R,Q=G.projection||R,ie=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)ie[0][ee]=Math.max(ie[0][ee],this.clipBounds[0][ee]),ie[1][ee]=Math.min(ie[1][ee],this.clipBounds[1][ee]);this._model=[].slice.call(Z),this._view=[].slice.call(ne),this._projection=[].slice.call(Q),this._resolution=[O.drawingBufferWidth,O.drawingBufferHeight];var V={model:Z,view:ne,projection:Q,clipBounds:ie,pickId:this.pickId/255},re=this.pickShader;if(re.bind(),re.uniforms=V,this.triangleCount>0&&(this.triangleVAO.bind(),O.drawArrays(O.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),O.lineWidth(this.lineWidth*this.pixelRatio),O.drawArrays(O.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var re=this.pointPickShader;re.bind(),re.uniforms=V,this.pointVAO.bind(),O.drawArrays(O.POINTS,0,this.pointCount),this.pointVAO.unbind()}},D.pick=function(G){if(!G||G.id!==this.pickId)return null;for(var O=G.value[0]+256*G.value[1]+65536*G.value[2],Z=this.cells[O],ne=this.positions,Q=new Array(Z.length),ie=0;ie<Z.length;++ie)Q[ie]=ne[Z[ie]];var ee=G.coord[0],V=G.coord[1];if(!this.pickVertex){var re=this.positions[Z[0]],H=this.positions[Z[1]],te=this.positions[Z[2]],se=[(re[0]+H[0]+te[0])/3,(re[1]+H[1]+te[1])/3,(re[2]+H[2]+te[2])/3];return{_cellCenter:!0,position:[ee,V],index:O,cell:Z,cellId:O,intensity:this.intensity[O],dataCoordinate:se}}var he=M(Q,[ee*this.pixelRatio,this._resolution[1]-V*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!he)return null;for(var ke=he[2],we=0,ie=0;ie<Z.length;++ie)we+=ke[ie]*this.intensity[Z[ie]];return{position:he[1],index:Z[he[0]],cell:Z,cellId:O,intensity:we,dataCoordinate:this.positions[Z[he[0]]]}},D.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function L(G){var O=s(G,d.vertex,d.fragment);return O.attributes.position.location=0,O.attributes.color.location=2,O.attributes.uv.location=3,O.attributes.normal.location=4,O}function P(G){var O=s(G,_.vertex,_.fragment);return O.attributes.position.location=0,O.attributes.color.location=2,O.attributes.uv.location=3,O}function q(G){var O=s(G,p.vertex,p.fragment);return O.attributes.position.location=0,O.attributes.color.location=2,O.attributes.uv.location=3,O.attributes.pointSize.location=4,O}function U(G){var O=s(G,c.vertex,c.fragment);return O.attributes.position.location=0,O.attributes.id.location=1,O}function W(G){var O=s(G,S.vertex,S.fragment);return O.attributes.position.location=0,O.attributes.id.location=1,O.attributes.pointSize.location=4,O}function j(G){var O=s(G,h.vertex,h.fragment);return O.attributes.position.location=0,O}function $(G,O){arguments.length===1&&(O=G,G=O.gl);var Z=G.getExtension("OES_standard_derivatives")||G.getExtension("MOZ_OES_standard_derivatives")||G.getExtension("WEBKIT_OES_standard_derivatives");if(!Z)throw new Error("derivatives not supported");var ne=L(G),Q=P(G),ie=q(G),ee=U(G),V=W(G),re=j(G),H=g(G,A(new Uint8Array([255,255,255,255]),[1,1,4]));H.generateMipmap(),H.minFilter=G.LINEAR_MIPMAP_LINEAR,H.magFilter=G.LINEAR;var te=f(G),se=f(G),he=f(G),ke=f(G),we=f(G),ve=v(G,[{buffer:te,type:G.FLOAT,size:3},{buffer:we,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:se,type:G.FLOAT,size:4},{buffer:he,type:G.FLOAT,size:2},{buffer:ke,type:G.FLOAT,size:3}]),Me=f(G),Se=f(G),De=f(G),Ce=f(G),Oe=v(G,[{buffer:Me,type:G.FLOAT,size:3},{buffer:Ce,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Se,type:G.FLOAT,size:4},{buffer:De,type:G.FLOAT,size:2}]),Be=f(G),ge=f(G),Ae=f(G),ce=f(G),ye=f(G),Le=v(G,[{buffer:Be,type:G.FLOAT,size:3},{buffer:ye,type:G.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ge,type:G.FLOAT,size:4},{buffer:Ae,type:G.FLOAT,size:2},{buffer:ce,type:G.FLOAT,size:1}]),me=f(G),de=v(G,[{buffer:me,type:G.FLOAT,size:3}]),be=new E(G,H,ne,Q,ie,ee,V,re,te,we,se,he,ke,ve,Me,Ce,Se,De,Oe,Be,ye,ge,Ae,ce,Le,me,de);return be.update(O),be}a.exports=$},8120:function(a,o,i){"use strict";a.exports=g;var l=i(2762),u=i(9405),s=i(3603);function f(b,x,T){this.plot=b,this.vbo=x,this.shader=T}var v=f.prototype;v.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},v.drawBox=function(){var b=[0,0],x=[0,0];return function(T,A,m,w,k){var y=this.plot,M=this.shader,d=y.gl;b[0]=T,b[1]=A,x[0]=m,x[1]=w,M.uniforms.lo=b,M.uniforms.hi=x,M.uniforms.color=k,d.drawArrays(d.TRIANGLE_STRIP,0,4)}}(),v.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function g(b){var x=b.gl,T=l(x,[0,0,0,1,1,0,1,1]),A=u(x,s.boxVert,s.lineFrag);return new f(b,T,A)}},1913:function(a,o,i){"use strict";a.exports=x;var l=i(2762),u=i(9405),s=i(2478),f=i(3603);function v(T,A,m,w){this.plot=T,this.vbo=A,this.shader=m,this.tickShader=w,this.ticks=[[],[]]}function g(T,A){return T-A}var b=v.prototype;b.draw=function(){var T=[0,0],A=[0,0],m=[0,0];return function(){for(var w=this.plot,k=this.vbo,y=this.shader,M=this.ticks,d=w.gl,_=w._tickBounds,p=w.dataBox,c=w.viewBox,S=w.gridLineWidth,h=w.gridLineColor,R=w.gridLineEnable,E=w.pixelRatio,D=0;D<2;++D){var N=_[D],I=_[D+2],F=I-N,L=.5*(p[D+2]+p[D]),P=p[D+2]-p[D];A[D]=2*F/P,T[D]=2*(N-L)/P}y.bind(),k.bind(),y.attributes.dataCoord.pointer(),y.uniforms.dataShift=T,y.uniforms.dataScale=A;for(var q=0,D=0;D<2;++D){m[0]=m[1]=0,m[D]=1,y.uniforms.dataAxis=m,y.uniforms.lineWidth=S[D]/(c[D+2]-c[D])*E,y.uniforms.color=h[D];var U=M[D].length*6;R[D]&&U&&d.drawArrays(d.TRIANGLES,q,U),q+=U}}}(),b.drawTickMarks=function(){var T=[0,0],A=[0,0],m=[1,0],w=[0,1],k=[0,0],y=[0,0];return function(){for(var M=this.plot,d=this.vbo,_=this.tickShader,p=this.ticks,c=M.gl,S=M._tickBounds,h=M.dataBox,R=M.viewBox,E=M.pixelRatio,D=M.screenBox,N=D[2]-D[0],I=D[3]-D[1],F=R[2]-R[0],L=R[3]-R[1],P=0;P<2;++P){var q=S[P],U=S[P+2],W=U-q,j=.5*(h[P+2]+h[P]),$=h[P+2]-h[P];A[P]=2*W/$,T[P]=2*(q-j)/$}A[0]*=F/N,T[0]*=F/N,A[1]*=L/I,T[1]*=L/I,_.bind(),d.bind(),_.attributes.dataCoord.pointer();var G=_.uniforms;G.dataShift=T,G.dataScale=A;var O=M.tickMarkLength,Z=M.tickMarkWidth,ne=M.tickMarkColor,Q=0,ie=p[0].length*6,ee=Math.min(s.ge(p[0],(h[0]-S[0])/(S[2]-S[0]),g),p[0].length),V=Math.min(s.gt(p[0],(h[2]-S[0])/(S[2]-S[0]),g),p[0].length),re=Q+6*ee,H=6*Math.max(0,V-ee),te=Math.min(s.ge(p[1],(h[1]-S[1])/(S[3]-S[1]),g),p[1].length),se=Math.min(s.gt(p[1],(h[3]-S[1])/(S[3]-S[1]),g),p[1].length),he=ie+6*te,ke=6*Math.max(0,se-te);k[0]=2*(R[0]-O[1])/N-1,k[1]=(R[3]+R[1])/I-1,y[0]=O[1]*E/N,y[1]=Z[1]*E/I,ke&&(G.color=ne[1],G.tickScale=y,G.dataAxis=w,G.screenOffset=k,c.drawArrays(c.TRIANGLES,he,ke)),k[0]=(R[2]+R[0])/N-1,k[1]=2*(R[1]-O[0])/I-1,y[0]=Z[0]*E/N,y[1]=O[0]*E/I,H&&(G.color=ne[0],G.tickScale=y,G.dataAxis=m,G.screenOffset=k,c.drawArrays(c.TRIANGLES,re,H)),k[0]=2*(R[2]+O[3])/N-1,k[1]=(R[3]+R[1])/I-1,y[0]=O[3]*E/N,y[1]=Z[3]*E/I,ke&&(G.color=ne[3],G.tickScale=y,G.dataAxis=w,G.screenOffset=k,c.drawArrays(c.TRIANGLES,he,ke)),k[0]=(R[2]+R[0])/N-1,k[1]=2*(R[3]+O[2])/I-1,y[0]=Z[2]*E/N,y[1]=O[2]*E/I,H&&(G.color=ne[2],G.tickScale=y,G.dataAxis=m,G.screenOffset=k,c.drawArrays(c.TRIANGLES,re,H))}}(),b.update=function(){var T=[1,1,-1,-1,1,-1],A=[1,-1,1,1,-1,-1];return function(m){for(var w=m.ticks,k=m.bounds,y=new Float32Array(6*3*(w[0].length+w[1].length)),M=this.plot.zeroLineEnable,d=0,_=[[],[]],p=0;p<2;++p)for(var c=_[p],S=w[p],h=k[p],R=k[p+2],E=0;E<S.length;++E){var D=(S[E].x-h)/(R-h);c.push(D);for(var N=0;N<6;++N)y[d++]=D,y[d++]=T[N],y[d++]=A[N]}this.ticks=_,this.vbo.update(y)}}(),b.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function x(T){var A=T.gl,m=l(A),w=u(A,f.gridVert,f.gridFrag),k=u(A,f.tickVert,f.gridFrag),y=new v(T,m,w,k);return y}},4747:function(a,o,i){"use strict";a.exports=g;var l=i(2762),u=i(9405),s=i(3603);function f(b,x,T){this.plot=b,this.vbo=x,this.shader=T}var v=f.prototype;v.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},v.drawLine=function(){var b=[0,0],x=[0,0];return function(T,A,m,w,k,y){var M=this.plot,d=this.shader,_=M.gl;b[0]=T,b[1]=A,x[0]=m,x[1]=w,d.uniforms.start=b,d.uniforms.end=x,d.uniforms.width=k*M.pixelRatio,d.uniforms.color=y,_.drawArrays(_.TRIANGLE_STRIP,0,4)}}(),v.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function g(b){var x=b.gl,T=l(x,[-1,-1,-1,1,1,-1,1,1]),A=u(x,s.lineVert,s.lineFrag),m=new f(b,T,A);return m}},3603:function(a,o,i){"use strict";var l=i(3236),u=l([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);a.exports={lineVert:l([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:u,textVert:l([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:u,gridVert:l([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:u,boxVert:l([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:l([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(a,o,i){"use strict";a.exports=x;var l=i(2762),u=i(9405),s=i(529),f=i(2478),v=i(3603);function g(T,A,m){this.plot=T,this.vbo=A,this.shader=m,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var b=g.prototype;b.drawTicks=function(){var T=[0,0],A=[0,0],m=[0,0];return function(w){var k=this.plot,y=this.shader,M=this.tickX[w],d=this.tickOffset[w],_=k.gl,p=k.viewBox,c=k.dataBox,S=k.screenBox,h=k.pixelRatio,R=k.tickEnable,E=k.tickPad,D=k.tickColor,N=k.tickAngle,I=k.labelEnable,F=k.labelPad,L=k.labelColor,P=k.labelAngle,q=this.labelOffset[w],U=this.labelCount[w],W=f.lt(M,c[w]),j=f.le(M,c[w+2]);T[0]=T[1]=0,T[w]=1,A[w]=(p[2+w]+p[w])/(S[2+w]-S[w])-1;var $=2/S[2+(w^1)]-S[w^1];A[w^1]=$*p[w^1]-1,R[w]&&(A[w^1]-=$*h*E[w],W<j&&d[j]>d[W]&&(y.uniforms.dataAxis=T,y.uniforms.screenOffset=A,y.uniforms.color=D[w],y.uniforms.angle=N[w],_.drawArrays(_.TRIANGLES,d[W],d[j]-d[W]))),I[w]&&U&&(A[w^1]-=$*h*F[w],y.uniforms.dataAxis=m,y.uniforms.screenOffset=A,y.uniforms.color=L[w],y.uniforms.angle=P[w],_.drawArrays(_.TRIANGLES,q,U)),A[w^1]=$*p[2+(w^1)]-1,R[w+2]&&(A[w^1]+=$*h*E[w+2],W<j&&d[j]>d[W]&&(y.uniforms.dataAxis=T,y.uniforms.screenOffset=A,y.uniforms.color=D[w+2],y.uniforms.angle=N[w+2],_.drawArrays(_.TRIANGLES,d[W],d[j]-d[W]))),I[w+2]&&U&&(A[w^1]+=$*h*F[w+2],y.uniforms.dataAxis=m,y.uniforms.screenOffset=A,y.uniforms.color=L[w+2],y.uniforms.angle=P[w+2],_.drawArrays(_.TRIANGLES,q,U))}}(),b.drawTitle=function(){var T=[0,0],A=[0,0];return function(){var m=this.plot,w=this.shader,k=m.gl,y=m.screenBox,M=m.titleCenter,d=m.titleAngle,_=m.titleColor,p=m.pixelRatio;if(this.titleCount){for(var c=0;c<2;++c)A[c]=2*(M[c]*p-y[c])/(y[2+c]-y[c])-1;w.bind(),w.uniforms.dataAxis=T,w.uniforms.screenOffset=A,w.uniforms.angle=d,w.uniforms.color=_,k.drawArrays(k.TRIANGLES,this.titleOffset,this.titleCount)}}}(),b.bind=function(){var T=[0,0],A=[0,0],m=[0,0];return function(){var w=this.plot,k=this.shader,y=w._tickBounds,M=w.dataBox,d=w.screenBox,_=w.viewBox;k.bind();for(var p=0;p<2;++p){var c=y[p],S=y[p+2],h=S-c,R=.5*(M[p+2]+M[p]),E=M[p+2]-M[p],D=_[p],N=_[p+2],I=N-D,F=d[p],L=d[p+2],P=L-F;A[p]=2*h/E*I/P,T[p]=2*(c-R)/E*I/P}m[1]=2*w.pixelRatio/(d[3]-d[1]),m[0]=m[1]*(d[3]-d[1])/(d[2]-d[0]),k.uniforms.dataScale=A,k.uniforms.dataShift=T,k.uniforms.textScale=m,this.vbo.bind(),k.attributes.textCoordinate.pointer()}}(),b.update=function(T){var A=[],m=T.ticks,w=T.bounds,k,y,M,d,_,p;for(p=0;p<2;++p){var c=[Math.floor(A.length/3)],S=[-1/0],h=m[p];for(k=0;k<h.length;++k){var R=h[k],E=R.x,D=R.text,N=R.font||"sans-serif",I=R.fontStyle||"normal",F=R.fontWeight||"normal",L=R.fontVariant||"normal";_=R.fontSize||12;for(var P=1/(w[p+2]-w[p]),q=w[p],U=D.split(`
`),W=0;W<U.length;W++)for(d=s(N,U[W],{fontStyle:I,fontWeight:F,fontVariant:L}).data,y=0;y<d.length;y+=2)A.push(d[y]*_,-d[y+1]*_-W*_*1.2,(E-q)*P);c.push(Math.floor(A.length/3)),S.push(E)}this.tickOffset[p]=c,this.tickX[p]=S}for(p=0;p<2;++p){for(this.labelOffset[p]=Math.floor(A.length/3),d=s(T.labelFont[p],T.labels[p],{fontStyle:T.labelFontStyle[p],fontWeight:T.labelFontWeight[p],fontVariant:T.labelFontVariant[p],textAlign:"center"}).data,_=T.labelSize[p],k=0;k<d.length;k+=2)A.push(d[k]*_,-d[k+1]*_,0);this.labelCount[p]=Math.floor(A.length/3)-this.labelOffset[p]}for(this.titleOffset=Math.floor(A.length/3),d=s(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,_=T.titleSize,k=0;k<d.length;k+=2)A.push(d[k]*_,-d[k+1]*_,0);this.titleCount=Math.floor(A.length/3)-this.titleOffset,this.vbo.update(A)},b.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function x(T){var A=T.gl,m=l(A),w=u(A,v.textVert,v.textFrag),k=new g(T,m,w);return k}},1850:function(a,o,i){"use strict";a.exports=m;var l=i(3589),u=i(1913),s=i(2142),f=i(4747),v=i(8120);function g(w,k){this.gl=w,this.pickBuffer=k,this.screenBox=[0,0,w.drawingBufferWidth,w.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var b=g.prototype;b.setDirty=function(){this.dirty=this.pickDirty=!0},b.setOverlayDirty=function(){this.dirty=!0},b.nextDepthValue=function(){return this._depthCounter++/65536};function x(w,k,y){var M=.5*(y+1);return Math.floor((1-M)*w+M*k)|0}b.draw=function(){var w=[0,0,0,0];return function(){var k=this.gl,y=this.screenBox,M=this.viewBox,d=this.dataBox,_=this.pixelRatio,p=this.grid,c=this.line,S=this.text,h=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,k.bindFramebuffer(k.FRAMEBUFFER,null),k.enable(k.SCISSOR_TEST),k.disable(k.DEPTH_TEST),k.depthFunc(k.LESS),k.depthMask(!1),k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD,k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),this.borderColor){k.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]);var R=this.borderColor;k.clearColor(R[0]*R[3],R[1]*R[3],R[2]*R[3],R[3]),k.clear(k.COLOR_BUFFER_BIT|k.DEPTH_BUFFER_BIT)}k.scissor(M[0],M[1],M[2]-M[0],M[3]-M[1]),k.viewport(M[0],M[1],M[2]-M[0],M[3]-M[1]);var E=this.backgroundColor;k.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),k.clear(k.COLOR_BUFFER_BIT),p.draw();var D=this.zeroLineEnable,N=this.zeroLineColor,I=this.zeroLineWidth;if(D[0]||D[1]){c.bind();for(var F=0;F<2;++F)if(!(!D[F]||!(d[F]<=0&&d[F+2]>=0))){var L=y[F]-d[F]*(y[F+2]-y[F])/(d[F+2]-d[F]);F===0?c.drawLine(L,y[1],L,y[3],I[F],N[F]):c.drawLine(y[0],L,y[2],L,I[F],N[F])}}for(var F=0;F<h.length;++F)h[F].draw();k.viewport(y[0],y[1],y[2]-y[0],y[3]-y[1]),k.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]),this.grid.drawTickMarks(),c.bind();var P=this.borderLineEnable,q=this.borderLineWidth,U=this.borderLineColor;P[1]&&c.drawLine(M[0],M[1]-.5*q[1]*_,M[0],M[3]+.5*q[3]*_,q[1],U[1]),P[0]&&c.drawLine(M[0]-.5*q[0]*_,M[1],M[2]+.5*q[2]*_,M[1],q[0],U[0]),P[3]&&c.drawLine(M[2],M[1]-.5*q[1]*_,M[2],M[3]+.5*q[3]*_,q[3],U[3]),P[2]&&c.drawLine(M[0]-.5*q[0]*_,M[3],M[2]+.5*q[2]*_,M[3],q[2],U[2]),S.bind();for(var F=0;F<2;++F)S.drawTicks(F);this.titleEnable&&S.drawTitle();for(var W=this.overlays,F=0;F<W.length;++F)W[F].draw();k.disable(k.SCISSOR_TEST),k.disable(k.BLEND),k.depthMask(!0)}}}(),b.drawPick=function(){return function(){if(!this.static){var w=this.pickBuffer,k=this.gl;this._pickTimeout=null,w.begin();for(var y=1,M=this.objects,d=0;d<M.length;++d)y=M[d].drawPick(y);w.end()}}}(),b.pick=function(){return function(w,k){if(!this.static){var y=this.pixelRatio,M=this.pickPixelRatio,d=this.viewBox,_=Math.round((w-d[0]/y)*M)|0,p=Math.round((k-d[1]/y)*M)|0,c=this.pickBuffer.query(_,p,this.pickRadius);if(!c)return null;for(var S=c.id+(c.value[0]<<8)+(c.value[1]<<16)+(c.value[2]<<24),h=this.objects,R=0;R<h.length;++R){var E=h[R].pick(_,p,S);if(E)return E}return null}}}();function T(w){for(var k=w.slice(),y=0;y<k.length;++y)k[y]=k[y].slice();return k}function A(w,k){return w.x-k.x}b.setScreenBox=function(w){var k=this.screenBox,y=this.pixelRatio;k[0]=Math.round(w[0]*y)|0,k[1]=Math.round(w[1]*y)|0,k[2]=Math.round(w[2]*y)|0,k[3]=Math.round(w[3]*y)|0,this.setDirty()},b.setDataBox=function(w){var k=this.dataBox,y=k[0]!==w[0]||k[1]!==w[1]||k[2]!==w[2]||k[3]!==w[3];y&&(k[0]=w[0],k[1]=w[1],k[2]=w[2],k[3]=w[3],this.setDirty())},b.setViewBox=function(w){var k=this.pixelRatio,y=this.viewBox;y[0]=Math.round(w[0]*k)|0,y[1]=Math.round(w[1]*k)|0,y[2]=Math.round(w[2]*k)|0,y[3]=Math.round(w[3]*k)|0;var M=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((w[2]-w[0])*M)|0,Math.round((w[3]-w[1])*M)|0],this.setDirty()},b.update=function(w){w=w||{};var k=this.gl;this.pixelRatio=w.pixelRatio||1;var y=this.pixelRatio;this.pickPixelRatio=Math.max(y,1),this.setScreenBox(w.screenBox||[0,0,k.drawingBufferWidth/y,k.drawingBufferHeight/y]);var M=this.screenBox;this.setViewBox(w.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/y,.125*(this.screenBox[3]-this.screenBox[1])/y,.875*(this.screenBox[2]-this.screenBox[0])/y,.875*(this.screenBox[3]-this.screenBox[1])/y]);var d=this.viewBox,_=(d[2]-d[0])/(d[3]-d[1]);this.setDataBox(w.dataBox||[-10,-10/_,10,10/_]),this.borderColor=w.borderColor!==!1?(w.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(w.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(w.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(w.gridLineWidth||[1,1]).slice(),this.gridLineColor=T(w.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(w.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(w.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=T(w.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(w.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(w.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=T(w.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(w.titleCenter||[.5*(d[0]+d[2])/y,(d[3]+120)/y]).slice(),this.titleEnable=!("titleEnable"in w)||!!w.titleEnable,this.titleAngle=w.titleAngle||0,this.titleColor=(w.titleColor||[0,0,0,1]).slice(),this.labelPad=(w.labelPad||[15,15,15,15]).slice(),this.labelAngle=(w.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(w.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=T(w.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(w.tickPad||[15,15,15,15]).slice(),this.tickAngle=(w.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(w.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=T(w.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(w.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(w.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=T(w.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var p=w.ticks||[[],[]],c=this._tickBounds;c[0]=c[1]=1/0,c[2]=c[3]=-1/0;for(var S=0;S<2;++S){var h=p[S].slice(0);h.length!==0&&(h.sort(A),c[S]=Math.min(c[S],h[0].x),c[S+2]=Math.max(c[S+2],h[h.length-1].x))}this.grid.update({bounds:c,ticks:p}),this.text.update({bounds:c,ticks:p,labels:w.labels||["x","y"],labelSize:w.labelSize||[12,12],labelFont:w.labelFont||["sans-serif","sans-serif"],labelFontStyle:w.labelFontStyle||["normal","normal"],labelFontWeight:w.labelFontWeight||["normal","normal"],labelFontVariant:w.labelFontVariant||["normal","normal"],title:w.title||"",titleSize:w.titleSize||18,titleFont:w.titleFont||"sans-serif",titleFontStyle:w.titleFontStyle||"normal",titleFontWeight:w.titleFontWeight||"normal",titleFontVariant:w.titleFontVariant||"normal"}),this.static=!!w.static,this.setDirty()},b.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var w=this.objects.length-1;w>=0;--w)this.objects[w].dispose();this.objects.length=0;for(var w=this.overlays.length-1;w>=0;--w)this.overlays[w].dispose();this.overlays.length=0,this.gl=null},b.addObject=function(w){this.objects.indexOf(w)<0&&(this.objects.push(w),this.setDirty())},b.removeObject=function(w){for(var k=this.objects,y=0;y<k.length;++y)if(k[y]===w){k.splice(y,1),this.setDirty();break}},b.addOverlay=function(w){this.overlays.indexOf(w)<0&&(this.overlays.push(w),this.setOverlayDirty())},b.removeOverlay=function(w){for(var k=this.overlays,y=0;y<k.length;++y)if(k[y]===w){k.splice(y,1),this.setOverlayDirty();break}};function m(w){var k=w.gl,y=l(k,[k.drawingBufferWidth,k.drawingBufferHeight]),M=new g(k,y);return M.grid=u(M),M.text=s(M),M.line=f(M),M.box=v(M),M.update(w),M}},4437:function(a,o,i){"use strict";a.exports=b;var l=i(3025),u=i(6296),s=i(351),f=i(8512),v=i(24),g=i(7520);function b(x,T){x=x||document.body,T=T||{};var A=[.01,1/0];"distanceLimits"in T&&(A[0]=T.distanceLimits[0],A[1]=T.distanceLimits[1]),"zoomMin"in T&&(A[0]=T.zoomMin),"zoomMax"in T&&(A[1]=T.zoomMax);var m=u({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:A}),w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=0,y=x.clientWidth,M=x.clientHeight,d={keyBindingMode:"rotate",enableWheel:!0,view:m,element:x,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:m.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var _=l(),p=this.delay,c=_-2*p;m.idle(_-p),m.recalcMatrix(c),m.flush(_-(100+p*2));for(var S=!0,h=m.computedMatrix,R=0;R<16;++R)S=S&&w[R]===h[R],w[R]=h[R];var E=x.clientWidth===y&&x.clientHeight===M;return y=x.clientWidth,M=x.clientHeight,S?!E:(k=Math.exp(m.computedRadius[0]),!0)},lookAt:function(_,p,c){m.lookAt(m.lastT(),_,p,c)},rotate:function(_,p,c){m.rotate(m.lastT(),_,p,c)},pan:function(_,p,c){m.pan(m.lastT(),_,p,c)},translate:function(_,p,c){m.translate(m.lastT(),_,p,c)}};return Object.defineProperties(d,{matrix:{get:function(){return m.computedMatrix},set:function(_){return m.setMatrix(m.lastT(),_),m.computedMatrix},enumerable:!0},mode:{get:function(){return m.getMode()},set:function(_){var p=m.computedUp.slice(),c=m.computedEye.slice(),S=m.computedCenter.slice();if(m.setMode(_),_==="turntable"){var h=l();m._active.lookAt(h,c,S,p),m._active.lookAt(h+500,c,S,[0,0,1]),m._active.flush(h)}return m.getMode()},enumerable:!0},center:{get:function(){return m.computedCenter},set:function(_){return m.lookAt(m.lastT(),null,_),m.computedCenter},enumerable:!0},eye:{get:function(){return m.computedEye},set:function(_){return m.lookAt(m.lastT(),_),m.computedEye},enumerable:!0},up:{get:function(){return m.computedUp},set:function(_){return m.lookAt(m.lastT(),null,null,_),m.computedUp},enumerable:!0},distance:{get:function(){return k},set:function(_){return m.setDistance(m.lastT(),_),_},enumerable:!0},distanceLimits:{get:function(){return m.getDistanceLimits(A)},set:function(_){return m.setDistanceLimits(_),_},enumerable:!0}}),x.addEventListener("contextmenu",function(_){return _.preventDefault(),!1}),d._lastX=-1,d._lastY=-1,d._lastMods={shift:!1,control:!1,alt:!1,meta:!1},d.enableMouseListeners=function(){d.mouseListener=s(x,_),x.addEventListener("touchstart",function(p){var c=v(p.changedTouches[0],x);_(0,c[0],c[1],d._lastMods),_(1,c[0],c[1],d._lastMods)},g?{passive:!0}:!1),x.addEventListener("touchmove",function(p){var c=v(p.changedTouches[0],x);_(1,c[0],c[1],d._lastMods),p.preventDefault()},g?{passive:!1}:!1),x.addEventListener("touchend",function(p){_(0,d._lastX,d._lastY,d._lastMods)},g?{passive:!0}:!1);function _(p,c,S,h){var R=d.keyBindingMode;if(R!==!1){var E=R==="rotate",D=R==="pan",N=R==="zoom",I=!!h.control,F=!!h.alt,L=!!h.shift,P=!!(p&1),q=!!(p&2),U=!!(p&4),W=1/x.clientHeight,j=W*(c-d._lastX),$=W*(S-d._lastY),G=d.flipX?1:-1,O=d.flipY?1:-1,Z=Math.PI*d.rotateSpeed,ne=l();if(d._lastX!==-1&&d._lastY!==-1&&((E&&P&&!I&&!F&&!L||P&&!I&&!F&&L)&&m.rotate(ne,G*Z*j,-O*Z*$,0),(D&&P&&!I&&!F&&!L||q||P&&I&&!F&&!L)&&m.pan(ne,-d.translateSpeed*j*k,d.translateSpeed*$*k,0),N&&P&&!I&&!F&&!L||U||P&&!I&&F&&!L)){var Q=-d.zoomSpeed*$/window.innerHeight*(ne-m.lastT())*100;m.pan(ne,0,0,k*(Math.exp(Q)-1))}return d._lastX=c,d._lastY=S,d._lastMods=h,!0}}d.wheelListener=f(x,function(p,c){if(d.keyBindingMode!==!1&&d.enableWheel){var S=d.flipX?1:-1,h=d.flipY?1:-1,R=l();if(Math.abs(p)>Math.abs(c))m.rotate(R,0,0,-p*S*Math.PI*d.rotateSpeed/window.innerWidth);else if(!d._ortho){var E=-d.zoomSpeed*h*c/window.innerHeight*(R-m.lastT())/20;m.pan(R,0,0,k*(Math.exp(E)-1))}}},!0)},d.enableMouseListeners(),d}},799:function(a,o,i){var l=i(3236),u=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=l([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);a.exports=function(v){return u(v,s,f,null,[{name:"position",type:"vec2"}])}},4100:function(a,o,i){"use strict";var l=i(4437),u=i(3837),s=i(5445),f=i(4449),v=i(3589),g=i(2260),b=i(7169),x=i(351),T=i(4772),A=i(4040),m=i(799),w=i(9216)({tablet:!0,featureDetect:!0});a.exports={createScene:_,createCamera:l};function k(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function y(c,S){var h=null;try{h=c.getContext("webgl",S),h||(h=c.getContext("experimental-webgl",S))}catch(R){return null}return h}function M(c){var S=Math.round(Math.log(Math.abs(c))/Math.log(10));if(S<0){var h=Math.round(Math.pow(10,-S));return Math.ceil(c*h)/h}else if(S>0){var h=Math.round(Math.pow(10,S));return Math.ceil(c/h)*h}return Math.ceil(c)}function d(c){return typeof c=="boolean"?c:!0}function _(c){c=c||{},c.camera=c.camera||{};var S=c.canvas;if(!S)if(S=document.createElement("canvas"),c.container){var h=c.container;h.appendChild(S)}else document.body.appendChild(S);var R=c.gl;if(R||(c.glOptions&&(w=!!c.glOptions.preserveDrawingBuffer),R=y(S,c.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:w})),!R)throw new Error("webgl not supported");var E=c.bounds||[[-10,-10,-10],[10,10,10]],D=new k,N=g(R,R.drawingBufferWidth,R.drawingBufferHeight,{preferFloat:!w}),I=m(R),F=c.cameraObject&&c.cameraObject._ortho===!0||c.camera.projection&&c.camera.projection.type==="orthographic"||!1,L={eye:c.camera.eye||[2,0,0],center:c.camera.center||[0,0,0],up:c.camera.up||[0,1,0],zoomMin:c.camera.zoomMax||.1,zoomMax:c.camera.zoomMin||100,mode:c.camera.mode||"turntable",_ortho:F},P=c.axes||{},q=u(R,P);q.enable=!P.disable;var U=c.spikes||{},W=f(R,U),j=[],$=[],G=[],O=[],Z=!0,ee=!0,ne=new Array(16),Q=new Array(16),ie={view:null,projection:ne,model:Q,_ortho:!1},ee=!0,V=[R.drawingBufferWidth,R.drawingBufferHeight],re=c.cameraObject||l(S,L),H={gl:R,contextLost:!1,pixelRatio:c.pixelRatio||1,canvas:S,selection:D,camera:re,axes:q,axesPixels:null,spikes:W,bounds:E,objects:j,shape:V,aspect:c.aspectRatio||[1,1,1],pickRadius:c.pickRadius||10,zNear:c.zNear||.01,zFar:c.zFar||1e3,fovy:c.fovy||Math.PI/4,clearColor:c.clearColor||[0,0,0,0],autoResize:d(c.autoResize),autoBounds:d(c.autoBounds),autoScale:!!c.autoScale,autoCenter:d(c.autoCenter),clipToBounds:d(c.clipToBounds),snapToData:!!c.snapToData,onselect:c.onselect||null,onrender:c.onrender||null,onclick:c.onclick||null,cameraParams:ie,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ce){this.aspect[0]=Ce.x,this.aspect[1]=Ce.y,this.aspect[2]=Ce.z,ee=!0},setBounds:function(Ce,Oe){this.bounds[0][Ce]=Oe.min,this.bounds[1][Ce]=Oe.max},setClearColor:function(Ce){this.clearColor=Ce},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},te=[R.drawingBufferWidth/H.pixelRatio|0,R.drawingBufferHeight/H.pixelRatio|0];function se(){if(!H._stopped&&H.autoResize){var Ce=S.parentNode,Oe=1,Be=1;Ce&&Ce!==document.body?(Oe=Ce.clientWidth,Be=Ce.clientHeight):(Oe=window.innerWidth,Be=window.innerHeight);var ge=Math.ceil(Oe*H.pixelRatio)|0,Ae=Math.ceil(Be*H.pixelRatio)|0;if(ge!==S.width||Ae!==S.height){S.width=ge,S.height=Ae;var ce=S.style;ce.position=ce.position||"absolute",ce.left="0px",ce.top="0px",ce.width=Oe+"px",ce.height=Be+"px",Z=!0}}}H.autoResize&&se(),window.addEventListener("resize",se);function he(){for(var Ce=j.length,Oe=O.length,Be=0;Be<Oe;++Be)G[Be]=0;e:for(var Be=0;Be<Ce;++Be){var ge=j[Be],Ae=ge.pickSlots;if(!Ae){$[Be]=-1;continue}for(var ce=0;ce<Oe;++ce)if(G[ce]+Ae<255){$[Be]=ce,ge.setPickBase(G[ce]+1),G[ce]+=Ae;continue e}var ye=v(R,V);$[Be]=Oe,O.push(ye),G.push(Ae),ge.setPickBase(1),Oe+=1}for(;Oe>0&&G[Oe-1]===0;)G.pop(),O.pop().dispose()}H.update=function(Ce){H._stopped||(Ce=Ce||{},Z=!0,ee=!0)},H.add=function(Ce){H._stopped||(Ce.axes=q,j.push(Ce),$.push(-1),Z=!0,ee=!0,he())},H.remove=function(Ce){if(!H._stopped){var Oe=j.indexOf(Ce);Oe<0||(j.splice(Oe,1),$.pop(),Z=!0,ee=!0,he())}},H.dispose=function(){if(!H._stopped&&(H._stopped=!0,window.removeEventListener("resize",se),S.removeEventListener("webglcontextlost",ke),H.mouseListener.enabled=!1,!H.contextLost)){q.dispose(),W.dispose();for(var Ce=0;Ce<j.length;++Ce)j[Ce].dispose();N.dispose();for(var Ce=0;Ce<O.length;++Ce)O[Ce].dispose();I.dispose(),R=null,q=null,W=null,j=[]}},H._mouseRotating=!1,H._prevButtons=0,H.enableMouseListeners=function(){H.mouseListener=x(S,function(Ce,Oe,Be){if(!H._stopped){var ge=O.length,Ae=j.length,ce=D.object;D.distance=1/0,D.mouse[0]=Oe,D.mouse[1]=Be,D.object=null,D.screen=null,D.dataCoordinate=D.dataPosition=null;var ye=!1;if(Ce&&H._prevButtons)H._mouseRotating=!0;else{H._mouseRotating&&(ee=!0),H._mouseRotating=!1;for(var Le=0;Le<ge;++Le){var me=O[Le].query(Oe,te[1]-Be-1,H.pickRadius);if(me){if(me.distance>D.distance)continue;for(var de=0;de<Ae;++de){var be=j[de];if($[de]===Le){var Ee=be.pick(me);Ee&&(D.buttons=Ce,D.screen=me.coord,D.distance=me.distance,D.object=be,D.index=Ee.distance,D.dataPosition=Ee.position,D.dataCoordinate=Ee.dataCoordinate,D.data=Ee,ye=!0)}}}}}ce&&ce!==D.object&&(ce.highlight&&ce.highlight(null),Z=!0),D.object&&(D.object.highlight&&D.object.highlight(D.data),Z=!0),ye=ye||D.object!==ce,ye&&H.onselect&&H.onselect(D),Ce&1&&!(H._prevButtons&1)&&H.onclick&&H.onclick(D),H._prevButtons=Ce}})};function ke(){if(H.contextLost)return!0;R.isContextLost()&&(H.contextLost=!0,H.mouseListener.enabled=!1,H.selection.object=null,H.oncontextloss&&H.oncontextloss())}S.addEventListener("webglcontextlost",ke);function we(){if(!ke()){R.colorMask(!0,!0,!0,!0),R.depthMask(!0),R.disable(R.BLEND),R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL);for(var Ce=j.length,Oe=O.length,Be=0;Be<Oe;++Be){var ge=O[Be];ge.shape=te,ge.begin();for(var Ae=0;Ae<Ce;++Ae)if($[Ae]===Be){var ce=j[Ae];ce.drawPick&&(ce.pixelRatio=1,ce.drawPick(ie))}ge.end()}}}var ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Me=[ve[0].slice(),ve[1].slice()];function Se(){if(!ke()){se();var Ce=H.camera.tick();ie.view=H.camera.matrix,Z=Z||Ce,ee=ee||Ce,q.pixelRatio=H.pixelRatio,W.pixelRatio=H.pixelRatio;var Oe=j.length,Be=ve[0],ge=ve[1];Be[0]=Be[1]=Be[2]=1/0,ge[0]=ge[1]=ge[2]=-1/0;for(var Ae=0;Ae<Oe;++Ae){var ce=j[Ae];ce.pixelRatio=H.pixelRatio,ce.axes=H.axes,Z=Z||!!ce.dirty,ee=ee||!!ce.dirty;var ye=ce.bounds;if(ye)for(var Le=ye[0],me=ye[1],de=0;de<3;++de)Be[de]=Math.min(Be[de],Le[de]),ge[de]=Math.max(ge[de],me[de])}var be=H.bounds;if(H.autoBounds)for(var de=0;de<3;++de){if(ge[de]<Be[de])Be[de]=-1,ge[de]=1;else{Be[de]===ge[de]&&(Be[de]-=1,ge[de]+=1);var Ee=.05*(ge[de]-Be[de]);Be[de]=Be[de]-Ee,ge[de]=ge[de]+Ee}be[0][de]=Be[de],be[1][de]=ge[de]}for(var ze=!1,de=0;de<3;++de)ze=ze||Me[0][de]!==be[0][de]||Me[1][de]!==be[1][de],Me[0][de]=be[0][de],Me[1][de]=be[1][de];if(ee=ee||ze,Z=Z||ze,!!Z){if(ze){for(var Fe=[0,0,0],Ae=0;Ae<3;++Ae)Fe[Ae]=M((be[1][Ae]-be[0][Ae])/10);q.autoTicks?q.update({bounds:be,tickSpacing:Fe}):q.update({bounds:be})}var Je=R.drawingBufferWidth,Ye=R.drawingBufferHeight;V[0]=Je,V[1]=Ye,te[0]=Math.max(Je/H.pixelRatio,1)|0,te[1]=Math.max(Ye/H.pixelRatio,1)|0,p(H,F);for(var Ae=0;Ae<Oe;++Ae){var ce=j[Ae];ce.axesBounds=be,H.clipToBounds&&(ce.clipBounds=be)}D.object&&(H.snapToData?W.position=D.dataCoordinate:W.position=D.dataPosition,W.bounds=be),ee&&(ee=!1,we()),H.axesPixels=s(H.axes,ie,Je,Ye),H.onrender&&H.onrender(),R.bindFramebuffer(R.FRAMEBUFFER,null),R.viewport(0,0,Je,Ye),H.clearRGBA(),R.depthMask(!0),R.colorMask(!0,!0,!0,!0),R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.disable(R.BLEND),R.disable(R.CULL_FACE);var Ge=!1;q.enable&&(Ge=Ge||q.isTransparent(),q.draw(ie)),W.axes=q,D.object&&W.draw(ie),R.disable(R.CULL_FACE);for(var Ae=0;Ae<Oe;++Ae){var ce=j[Ae];ce.axes=q,ce.pixelRatio=H.pixelRatio,ce.isOpaque&&ce.isOpaque()&&ce.draw(ie),ce.isTransparent&&ce.isTransparent()&&(Ge=!0)}if(Ge){N.shape=V,N.bind(),R.clear(R.DEPTH_BUFFER_BIT),R.colorMask(!1,!1,!1,!1),R.depthMask(!0),R.depthFunc(R.LESS),q.enable&&q.isTransparent()&&q.drawTransparent(ie);for(var Ae=0;Ae<Oe;++Ae){var ce=j[Ae];ce.isOpaque&&ce.isOpaque()&&ce.draw(ie)}R.enable(R.BLEND),R.blendEquation(R.FUNC_ADD),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.colorMask(!0,!0,!0,!0),R.depthMask(!1),R.clearColor(0,0,0,0),R.clear(R.COLOR_BUFFER_BIT),q.isTransparent()&&q.drawTransparent(ie);for(var Ae=0;Ae<Oe;++Ae){var ce=j[Ae];ce.isTransparent&&ce.isTransparent()&&ce.drawTransparent(ie)}R.bindFramebuffer(R.FRAMEBUFFER,null),R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.disable(R.DEPTH_TEST),I.bind(),N.color[0].bind(0),I.uniforms.accumBuffer=0,b(R),R.disable(R.BLEND)}Z=!1;for(var Ae=0;Ae<Oe;++Ae)j[Ae].dirty=!1}}}function De(){H._stopped||H.contextLost||(Se(),requestAnimationFrame(De))}return H.enableMouseListeners(),De(),H.redraw=function(){H._stopped||(Z=!0,Se())},H}function p(c,S){var h=c.bounds,R=c.cameraParams,E=R.projection,D=R.model,N=c.gl.drawingBufferWidth,I=c.gl.drawingBufferHeight,F=c.zNear,L=c.zFar,P=c.fovy,q=N/I;S?(A(E,-q,q,-1,1,F,L),R._ortho=!0):(T(E,P,q,F,L),R._ortho=!1);for(var U=0;U<16;++U)D[U]=0;D[15]=1;for(var W=0,U=0;U<3;++U)W=Math.max(W,h[1][U]-h[0][U]);for(var U=0;U<3;++U)c.autoScale?D[5*U]=c.aspect[U]/(h[1][U]-h[0][U]):D[5*U]=1/W,c.autoCenter&&(D[12+U]=-D[5*U]*.5*(h[0][U]+h[1][U]))}},6640:function(a,o,i){var l=i(3236);o.pointVertex=l([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),o.pointFragment=l([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),o.pickVertex=l([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),o.pickFragment=l([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(a,o,i){"use strict";var l=i(9405),u=i(2762),s=i(1888),f=i(6640);a.exports=x;function v(T,A,m,w,k){this.plot=T,this.offsetBuffer=A,this.pickBuffer=m,this.shader=w,this.pickShader=k,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var g=v.prototype;g.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},g.update=function(T){var A;T=T||{};function m(p,c){return p in T?T[p]:c}this.sizeMin=m("sizeMin",.5),this.sizeMax=m("sizeMax",20),this.color=m("color",[1,0,0,1]).slice(),this.areaRatio=m("areaRatio",1),this.borderColor=m("borderColor",[0,0,0,1]).slice(),this.blend=m("blend",!1);var w=T.positions.length>>>1,k=T.positions instanceof Float32Array,y=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=w,M=T.positions,d=k?M:s.mallocFloat32(M.length),_=y?T.idToIndex:s.mallocInt32(w);if(k||d.set(M),!y)for(d.set(M),A=0;A<w;A++)_[A]=A;this.points=M,this.offsetBuffer.update(d),this.pickBuffer.update(_),k||s.free(d),y||s.free(_),this.pointCount=w,this.pickOffset=0};function b(T,A){var m=0,w=T.length>>>1,k;for(k=0;k<w;k++){var y=T[k*2],M=T[k*2+1];y>=A[0]&&y<=A[2]&&M>=A[1]&&M<=A[3]&&m++}return m}g.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],A=[0,0,0,0];return function(m){var w=m!==void 0,k=w?this.pickShader:this.shader,y=this.plot.gl,M=this.plot.dataBox;if(this.pointCount===0)return m;var d=M[2]-M[0],_=M[3]-M[1],p=b(this.points,M),c=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(p,.33333)));T[0]=2/d,T[4]=2/_,T[6]=-2*M[0]/d-1,T[7]=-2*M[1]/_-1,this.offsetBuffer.bind(),k.bind(),k.attributes.position.pointer(),k.uniforms.matrix=T,k.uniforms.color=this.color,k.uniforms.borderColor=this.borderColor,k.uniforms.pointCloud=c<5,k.uniforms.pointSize=c,k.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),w&&(A[0]=m&255,A[1]=m>>8&255,A[2]=m>>16&255,A[3]=m>>24&255,this.pickBuffer.bind(),k.attributes.pickId.pointer(y.UNSIGNED_BYTE),k.uniforms.pickOffset=A,this.pickOffset=m);var S=y.getParameter(y.BLEND),h=y.getParameter(y.DITHER);return S&&!this.blend&&y.disable(y.BLEND),h&&y.disable(y.DITHER),y.drawArrays(y.POINTS,0,this.pointCount),S&&!this.blend&&y.enable(y.BLEND),h&&y.enable(y.DITHER),m+this.pointCount}}(),g.draw=g.unifiedDraw,g.drawPick=g.unifiedDraw,g.pick=function(T,A,m){var w=this.pickOffset,k=this.pointCount;if(m<w||m>=w+k)return null;var y=m-w,M=this.points;return{object:this,pointId:y,dataCoord:[M[2*y],M[2*y+1]]}};function x(T,A){var m=T.gl,w=u(m),k=u(m),y=l(m,f.pointVertex,f.pointFragment),M=l(m,f.pickVertex,f.pickFragment),d=new v(T,w,k,y,M);return d.update(A),T.addObject(d),d}},783:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],v=l[1],g=l[2],b=l[3],x=u[0],T=u[1],A=u[2],m=u[3],w,k,y,M,d;return k=f*x+v*T+g*A+b*m,k<0&&(k=-k,x=-x,T=-T,A=-A,m=-m),1-k>1e-6?(w=Math.acos(k),y=Math.sin(w),M=Math.sin((1-s)*w)/y,d=Math.sin(s*w)/y):(M=1-s,d=s),i[0]=M*f+d*x,i[1]=M*v+d*T,i[2]=M*g+d*A,i[3]=M*b+d*m,i}},5964:function(a){"use strict";a.exports=function(o){return!o&&o!==0?"":o.toString()}},9366:function(a,o,i){"use strict";var l=i(4359);a.exports=s;var u={};function s(f,v,g){var b=[v.style,v.weight,v.variant,v.family].join("_"),x=u[b];if(x||(x=u[b]={}),f in x)return x[f];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:v.family,fontStyle:v.style,fontWeight:v.weight,fontVariant:v.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var A=l(f,T);T.triangles=!1;var m=l(f,T),w,k;if(g&&g!==1){for(w=0;w<A.positions.length;++w)for(k=0;k<A.positions[w].length;++k)A.positions[w][k]/=g;for(w=0;w<m.positions.length;++w)for(k=0;k<m.positions[w].length;++k)m.positions[w][k]/=g}var y=[[1/0,1/0],[-1/0,-1/0]],M=m.positions.length;for(w=0;w<M;++w){var d=m.positions[w];for(k=0;k<2;++k)y[0][k]=Math.min(y[0][k],d[k]),y[1][k]=Math.max(y[1][k],d[k])}return x[f]=[A,m,y]}},1283:function(a,o,i){var l=i(9405),u=i(3236),s=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),v=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),g=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),b=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),x=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:s,fragment:g,attributes:x},A={vertex:f,fragment:g,attributes:x},m={vertex:v,fragment:g,attributes:x},w={vertex:s,fragment:b,attributes:x},k={vertex:f,fragment:b,attributes:x},y={vertex:v,fragment:b,attributes:x};function M(d,_){var p=l(d,_),c=p.attributes;return c.position.location=0,c.color.location=1,c.glyph.location=2,c.id.location=3,p}o.createPerspective=function(d){return M(d,T)},o.createOrtho=function(d){return M(d,A)},o.createProject=function(d){return M(d,m)},o.createPickPerspective=function(d){return M(d,w)},o.createPickOrtho=function(d){return M(d,k)},o.createPickProject=function(d){return M(d,y)}},8418:function(a,o,i){"use strict";var l=i(5219),u=i(2762),s=i(8116),f=i(1888),v=i(6760),g=i(1283),b=i(9366),x=i(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],A=ArrayBuffer,m=DataView;function w(Q){return A.isView(Q)&&!(Q instanceof m)}function k(Q){return Array.isArray(Q)||w(Q)}a.exports=ne;function y(Q,ie){var ee=Q[0],V=Q[1],re=Q[2],H=Q[3];return Q[0]=ie[0]*ee+ie[4]*V+ie[8]*re+ie[12]*H,Q[1]=ie[1]*ee+ie[5]*V+ie[9]*re+ie[13]*H,Q[2]=ie[2]*ee+ie[6]*V+ie[10]*re+ie[14]*H,Q[3]=ie[3]*ee+ie[7]*V+ie[11]*re+ie[15]*H,Q}function M(Q,ie,ee,V){return y(V,V,ee),y(V,V,ie),y(V,V,Q)}function d(Q,ie){this.index=Q,this.dataCoordinate=this.position=ie}function _(Q){return Q===!0||Q>1?1:Q}function p(Q,ie,ee,V,re,H,te,se,he,ke,we,ve){this.gl=Q,this.pixelRatio=1,this.shader=ie,this.orthoShader=ee,this.projectShader=V,this.pointBuffer=re,this.colorBuffer=H,this.glyphBuffer=te,this.idBuffer=se,this.vao=he,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ke,this.pickOrthoShader=we,this.pickProjectShader=ve,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var c=p.prototype;c.pickSlots=1,c.setPickBase=function(Q){this.pickId=Q},c.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},c.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var S=[0,0],h=[0,0,0],R=[0,0,0],E=[0,0,0,1],D=[0,0,0,1],N=T.slice(),I=[0,0,0],F=[[0,0,0],[0,0,0]];function L(Q){return Q[0]=Q[1]=Q[2]=0,Q}function P(Q,ie){return Q[0]=ie[0],Q[1]=ie[1],Q[2]=ie[2],Q[3]=1,Q}function q(Q,ie,ee,V){return Q[0]=ie[0],Q[1]=ie[1],Q[2]=ie[2],Q[ee]=V,Q}function U(Q){for(var ie=F,ee=0;ee<2;++ee)for(var V=0;V<3;++V)ie[ee][V]=Math.max(Math.min(Q[ee][V],1e8),-1e8);return ie}function W(Q,ie,ee,V){var re=ie.axesProject,H=ie.gl,te=Q.uniforms,se=ee.model||T,he=ee.view||T,ke=ee.projection||T,we=ie.axesBounds,ve=U(ie.clipBounds),Me;ie.axes&&ie.axes.lastCubeProps?Me=ie.axes.lastCubeProps.axis:Me=[1,1,1],S[0]=2/H.drawingBufferWidth,S[1]=2/H.drawingBufferHeight,Q.bind(),te.view=he,te.projection=ke,te.screenSize=S,te.highlightId=ie.highlightId,te.highlightScale=ie.highlightScale,te.clipBounds=ve,te.pickGroup=ie.pickId/255,te.pixelRatio=V;for(var Se=0;Se<3;++Se)if(re[Se]){te.scale=ie.projectScale[Se],te.opacity=ie.projectOpacity[Se];for(var De=N,Ce=0;Ce<16;++Ce)De[Ce]=0;for(var Ce=0;Ce<4;++Ce)De[5*Ce]=1;De[5*Se]=0,Me[Se]<0?De[12+Se]=we[0][Se]:De[12+Se]=we[1][Se],v(De,se,De),te.model=De;var Oe=(Se+1)%3,Be=(Se+2)%3,ge=L(h),Ae=L(R);ge[Oe]=1,Ae[Be]=1;var ce=M(ke,he,se,P(E,ge)),ye=M(ke,he,se,P(D,Ae));if(Math.abs(ce[1])>Math.abs(ye[1])){var Le=ce;ce=ye,ye=Le,Le=ge,ge=Ae,Ae=Le;var me=Oe;Oe=Be,Be=me}ce[0]<0&&(ge[Oe]=-1),ye[1]>0&&(Ae[Be]=-1);for(var de=0,be=0,Ce=0;Ce<4;++Ce)de+=Math.pow(se[4*Oe+Ce],2),be+=Math.pow(se[4*Be+Ce],2);ge[Oe]/=Math.sqrt(de),Ae[Be]/=Math.sqrt(be),te.axes[0]=ge,te.axes[1]=Ae,te.fragClipBounds[0]=q(I,ve[0],Se,-1e8),te.fragClipBounds[1]=q(I,ve[1],Se,1e8),ie.vao.bind(),ie.vao.draw(H.TRIANGLES,ie.vertexCount),ie.lineWidth>0&&(H.lineWidth(ie.lineWidth*V),ie.vao.draw(H.LINES,ie.lineVertexCount,ie.vertexCount)),ie.vao.unbind()}}var j=[-1e8,-1e8,-1e8],$=[1e8,1e8,1e8],G=[j,$];function O(Q,ie,ee,V,re,H,te){var se=ee.gl;if((H===ee.projectHasAlpha||te)&&W(ie,ee,V,re),H===ee.hasAlpha||te){Q.bind();var he=Q.uniforms;he.model=V.model||T,he.view=V.view||T,he.projection=V.projection||T,S[0]=2/se.drawingBufferWidth,S[1]=2/se.drawingBufferHeight,he.screenSize=S,he.highlightId=ee.highlightId,he.highlightScale=ee.highlightScale,he.fragClipBounds=G,he.clipBounds=ee.axes.bounds,he.opacity=ee.opacity,he.pickGroup=ee.pickId/255,he.pixelRatio=re,ee.vao.bind(),ee.vao.draw(se.TRIANGLES,ee.vertexCount),ee.lineWidth>0&&(se.lineWidth(ee.lineWidth*re),ee.vao.draw(se.LINES,ee.lineVertexCount,ee.vertexCount)),ee.vao.unbind()}}c.draw=function(Q){var ie=this.useOrtho?this.orthoShader:this.shader;O(ie,this.projectShader,this,Q,this.pixelRatio,!1,!1)},c.drawTransparent=function(Q){var ie=this.useOrtho?this.orthoShader:this.shader;O(ie,this.projectShader,this,Q,this.pixelRatio,!0,!1)},c.drawPick=function(Q){var ie=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;O(ie,this.pickProjectShader,this,Q,1,!0,!0)},c.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var ie=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(ie>=this.pointCount||ie<0)return null;var ee=this.points[ie],V=this._selectResult;V.index=ie;for(var re=0;re<3;++re)V.position[re]=V.dataCoordinate[re]=ee[re];return V},c.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var ie=Q.index,ee=ie&255,V=ie>>8&255,re=ie>>16&255;this.highlightId=[ee/255,V/255,re/255,0]}};function Z(Q,ie,ee,V){var re;k(Q)?ie<Q.length?re=Q[ie]:re=void 0:re=Q,re=x(re);var H=!0;l(re)&&(re="\u25BC",H=!1),ee||(ee={});var te=ee.family;k(te)&&(te=te[ie]),te||(te="normal");var se=ee.weight;k(se)&&(se=se[ie]),se||(se="normal");var he=ee.style;k(he)&&(he=he[ie]),he||(he="normal");var ke=ee.variant;k(ke)&&(ke=ke[ie]),ke||(ke="normal");var we=b(re,{family:te,weight:se,style:he,variant:ke},V),we=b(re,ee,V);return{mesh:we[0],lines:we[1],bounds:we[2],visible:H}}c.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(k(Q.project))this.axesProject=Q.project;else{var ie=!!Q.project;this.axesProject=[ie,ie,ie]}if("projectScale"in Q)if(k(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var ee=+Q.projectScale;this.projectScale=[ee,ee,ee]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(k(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var ee=+Q.projectOpacity;this.projectOpacity=[ee,ee,ee]}for(var V=0;V<3;++V)this.projectOpacity[V]=_(this.projectOpacity[V]),this.projectOpacity[V]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=_(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var re=Q.position,H={family:Q.font||"normal",style:Q.fontStyle||"normal",weight:Q.fontWeight||"normal",variant:Q.fontVariant||"normal"},te=Q.alignment||[0,0],se,he;if(te.length===2)se=te[0],he=te[1];else{se=[],he=[];for(var V=0;V<te.length;++V)se[V]=te[V][0],he[V]=te[V][1]}var ke=[1/0,1/0,1/0],we=[-1/0,-1/0,-1/0],ve=Q.glyph,Me=Q.color,Se=Q.size,De=Q.angle,Ce=Q.lineColor,Oe=-1,Be=0,ge=0,Ae=0;if(re.length){Ae=re.length;e:for(var V=0;V<Ae;++V){for(var ce=re[V],ye=0;ye<3;++ye)if(isNaN(ce[ye])||!isFinite(ce[ye]))continue e;var Le=Z(ve,V,H,this.pixelRatio),me=Le.mesh,de=Le.lines,be=Le.bounds;Be+=me.cells.length*3,ge+=de.edges.length*2}}var Ee=Be+ge,ze=f.mallocFloat(3*Ee),Fe=f.mallocFloat(4*Ee),Je=f.mallocFloat(2*Ee),Ye=f.mallocUint32(Ee);if(Ee>0){var Ge=0,We=Be,Te=[0,0,0,1],Pe=[0,0,0,1],Qe=k(Me)&&k(Me[0]),Ve=k(Ce)&&k(Ce[0]);e:for(var V=0;V<Ae;++V){Oe+=1;for(var ce=re[V],ye=0;ye<3;++ye){if(isNaN(ce[ye])||!isFinite(ce[ye]))continue e;we[ye]=Math.max(we[ye],ce[ye]),ke[ye]=Math.min(ke[ye],ce[ye])}var Le=Z(ve,V,H,this.pixelRatio),me=Le.mesh,de=Le.lines,be=Le.bounds,ar=Le.visible;if(!ar)Te=[1,1,1,0];else if(k(Me)){var ue;if(Qe?V<Me.length?ue=Me[V]:ue=[0,0,0,0]:ue=Me,ue.length===3){for(var ye=0;ye<3;++ye)Te[ye]=ue[ye];Te[3]=1}else if(ue.length===4){for(var ye=0;ye<4;++ye)Te[ye]=ue[ye];!this.hasAlpha&&ue[3]<1&&(this.hasAlpha=!0)}}else Te[0]=Te[1]=Te[2]=0,Te[3]=1;if(!ar)Pe=[1,1,1,0];else if(k(Ce)){var ue;if(Ve?V<Ce.length?ue=Ce[V]:ue=[0,0,0,0]:ue=Ce,ue.length===3){for(var ye=0;ye<3;++ye)Pe[ye]=ue[ye];Pe[ye]=1}else if(ue.length===4){for(var ye=0;ye<4;++ye)Pe[ye]=ue[ye];!this.hasAlpha&&ue[3]<1&&(this.hasAlpha=!0)}}else Pe[0]=Pe[1]=Pe[2]=0,Pe[3]=1;var K=.5;ar?k(Se)?V<Se.length?K=+Se[V]:K=12:Se?K=+Se:this.useOrtho&&(K=12):K=0;var ae=0;k(De)?V<De.length?ae=+De[V]:ae=0:De&&(ae=+De);for(var Re=Math.cos(ae),Ue=Math.sin(ae),ce=re[V],ye=0;ye<3;++ye)we[ye]=Math.max(we[ye],ce[ye]),ke[ye]=Math.min(ke[ye],ce[ye]);var je=se,nr=he,je=0;k(se)?V<se.length?je=se[V]:je=0:se&&(je=se);var nr=0;k(he)?V<he.length?nr=he[V]:nr=0:he&&(nr=he),je*=je>0?1-be[0][0]:je<0?1+be[1][0]:1,nr*=nr>0?1-be[0][1]:nr<0?1+be[1][1]:1;for(var hr=[je,nr],ft=me.cells||[],Wr=me.positions||[],ye=0;ye<ft.length;++ye)for(var wr=ft[ye],Er=0;Er<3;++Er){for(var Mr=0;Mr<3;++Mr)ze[3*Ge+Mr]=ce[Mr];for(var Mr=0;Mr<4;++Mr)Fe[4*Ge+Mr]=Te[Mr];Ye[Ge]=Oe;var Ar=Wr[wr[Er]];Je[2*Ge]=K*(Re*Ar[0]-Ue*Ar[1]+hr[0]),Je[2*Ge+1]=K*(Ue*Ar[0]+Re*Ar[1]+hr[1]),Ge+=1}for(var ft=de.edges,Wr=de.positions,ye=0;ye<ft.length;++ye)for(var wr=ft[ye],Er=0;Er<2;++Er){for(var Mr=0;Mr<3;++Mr)ze[3*We+Mr]=ce[Mr];for(var Mr=0;Mr<4;++Mr)Fe[4*We+Mr]=Pe[Mr];Ye[We]=Oe;var Ar=Wr[wr[Er]];Je[2*We]=K*(Re*Ar[0]-Ue*Ar[1]+hr[0]),Je[2*We+1]=K*(Ue*Ar[0]+Re*Ar[1]+hr[1]),We+=1}}}this.bounds=[ke,we],this.points=re,this.pointCount=re.length,this.vertexCount=Be,this.lineVertexCount=ge,this.pointBuffer.update(ze),this.colorBuffer.update(Fe),this.glyphBuffer.update(Je),this.idBuffer.update(Ye),f.free(ze),f.free(Fe),f.free(Je),f.free(Ye)},c.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ne(Q){var ie=Q.gl,ee=g.createPerspective(ie),V=g.createOrtho(ie),re=g.createProject(ie),H=g.createPickPerspective(ie),te=g.createPickOrtho(ie),se=g.createPickProject(ie),he=u(ie),ke=u(ie),we=u(ie),ve=u(ie),Me=s(ie,[{buffer:he,size:3,type:ie.FLOAT},{buffer:ke,size:4,type:ie.FLOAT},{buffer:we,size:2,type:ie.FLOAT},{buffer:ve,size:4,type:ie.UNSIGNED_BYTE,normalized:!0}]),Se=new p(ie,ee,V,re,he,ke,we,ve,Me,H,te,se);return Se.update(Q),Se}},4298:function(a,o,i){"use strict";var l=i(3236);o.boxVertex=l([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),o.boxFragment=l([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(a,o,i){"use strict";var l=i(9405),u=i(2762),s=i(4298);a.exports=g;function f(b,x,T){this.plot=b,this.boxBuffer=x,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var v=f.prototype;v.draw=function(){if(this.enabled){var b=this.plot,x=this.selectBox,T=this.borderWidth,A=this.innerFill,m=this.innerColor,w=this.outerFill,k=this.outerColor,y=this.borderColor,M=b.box,d=b.screenBox,_=b.dataBox,p=b.viewBox,c=b.pixelRatio,S=(x[0]-_[0])*(p[2]-p[0])/(_[2]-_[0])+p[0],h=(x[1]-_[1])*(p[3]-p[1])/(_[3]-_[1])+p[1],R=(x[2]-_[0])*(p[2]-p[0])/(_[2]-_[0])+p[0],E=(x[3]-_[1])*(p[3]-p[1])/(_[3]-_[1])+p[1];if(S=Math.max(S,p[0]),h=Math.max(h,p[1]),R=Math.min(R,p[2]),E=Math.min(E,p[3]),!(R<S||E<h)){M.bind();var D=d[2]-d[0],N=d[3]-d[1];if(this.outerFill&&(M.drawBox(0,0,D,h,k),M.drawBox(0,h,S,E,k),M.drawBox(0,E,D,N,k),M.drawBox(R,h,D,E,k)),this.innerFill&&M.drawBox(S,h,R,E,m),T>0){var I=T*c;M.drawBox(S-I,h-I,R+I,h+I,y),M.drawBox(S-I,E-I,R+I,E+I,y),M.drawBox(S-I,h-I,S+I,E+I,y),M.drawBox(R-I,h-I,R+I,E+I,y)}}}},v.update=function(b){b=b||{},this.innerFill=!!b.innerFill,this.outerFill=!!b.outerFill,this.innerColor=(b.innerColor||[0,0,0,.5]).slice(),this.outerColor=(b.outerColor||[0,0,0,.5]).slice(),this.borderColor=(b.borderColor||[0,0,0,1]).slice(),this.borderWidth=b.borderWidth||0,this.selectBox=(b.selectBox||this.selectBox).slice()},v.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function g(b,x){var T=b.gl,A=u(T,[0,0,0,1,1,0,1,1]),m=l(T,s.boxVertex,s.boxFragment),w=new f(b,A,m);return w.update(x),b.addOverlay(w),w}},3589:function(a,o,i){"use strict";a.exports=T;var l=i(2260),u=i(1888),s=i(9618),f=i(8828).nextPow2,v=function(A,m,w){for(var k=1e8,y=-1,M=-1,d=A.shape[0],_=A.shape[1],p=0;p<d;p++)for(var c=0;c<_;c++){var S=A.get(p,c,0),h=A.get(p,c,1),R=A.get(p,c,2),E=A.get(p,c,3);if(S<255||h<255||R<255||E<255){var D=m-p,N=w-c,I=D*D+N*N;I<k&&(k=I,y=p,M=c)}}return[y,M,k]};function g(A,m,w,k,y){this.coord=[A,m],this.id=w,this.value=k,this.distance=y}function b(A,m,w){this.gl=A,this.fbo=m,this.buffer=w,this._readTimeout=null;var k=this;this._readCallback=function(){k.gl&&(m.bind(),A.readPixels(0,0,m.shape[0],m.shape[1],A.RGBA,A.UNSIGNED_BYTE,k.buffer),k._readTimeout=null)}}var x=b.prototype;Object.defineProperty(x,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(A){if(this.gl){this.fbo.shape=A;var m=this.fbo.shape[0],w=this.fbo.shape[1];if(w*m*4>this.buffer.length){u.free(this.buffer);for(var k=this.buffer=u.mallocUint8(f(w*m*4)),y=0;y<w*m*4;++y)k[y]=255}return A}}}),x.begin=function(){var A=this.gl,m=this.shape;A&&(this.fbo.bind(),A.clearColor(1,1,1,1),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT))},x.end=function(){var A=this.gl;A&&(A.bindFramebuffer(A.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},x.query=function(A,m,w){if(!this.gl)return null;var k=this.fbo.shape.slice();A=A|0,m=m|0,typeof w!="number"&&(w=1);var y=Math.min(Math.max(A-w,0),k[0])|0,M=Math.min(Math.max(A+w,0),k[0])|0,d=Math.min(Math.max(m-w,0),k[1])|0,_=Math.min(Math.max(m+w,0),k[1])|0;if(M<=y||_<=d)return null;var p=[M-y,_-d],c=s(this.buffer,[p[0],p[1],4],[4,k[0]*4,1],4*(y+k[0]*d)),S=v(c.hi(p[0],p[1],1),w,w),h=S[0],R=S[1];if(h<0||Math.pow(this.radius,2)<S[2])return null;var E=c.get(h,R,0),D=c.get(h,R,1),N=c.get(h,R,2),I=c.get(h,R,3);return new g(h+y|0,R+d|0,E,[D,N,I],Math.sqrt(S[2]))},x.dispose=function(){this.gl&&(this.fbo.dispose(),u.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(A,m){var w=m[0],k=m[1],y={},M=l(A,w,k,y),d=u.mallocUint8(w*k*4);return new b(A,M,d)}},9405:function(a,o,i){"use strict";var l=i(3327),u=i(8731),s=i(216),f=i(5091),v=i(2145),g=i(8866);function b(m){this.gl=m,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var x=b.prototype;x.bind=function(){this.program||this._relink();var m,w=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),k=this.gl.lastAttribCount;if(w>k)for(m=k;m<w;m++)this.gl.enableVertexAttribArray(m);else if(k>w)for(m=w;m<k;m++)this.gl.disableVertexAttribArray(m);this.gl.lastAttribCount=w,this.gl.useProgram(this.program)},x.dispose=function(){for(var m=this.gl.lastAttribCount,w=0;w<m;w++)this.gl.disableVertexAttribArray(w);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(m,w){return m.name<w.name?-1:1}x.update=function(m,w,k,y){if(!w||arguments.length===1){var M=m;m=M.vertex,w=M.fragment,k=M.uniforms,y=M.attributes}var d=this,_=d.gl,p=d._vref;d._vref=f.shader(_,_.VERTEX_SHADER,m),p&&p.dispose(),d.vertShader=d._vref.shader;var c=this._fref;if(d._fref=f.shader(_,_.FRAGMENT_SHADER,w),c&&c.dispose(),d.fragShader=d._fref.shader,!k||!y){var S=_.createProgram();if(_.attachShader(S,d.fragShader),_.attachShader(S,d.vertShader),_.linkProgram(S),!_.getProgramParameter(S,_.LINK_STATUS)){var h=_.getProgramInfoLog(S);throw new g(h,"Error linking program:"+h)}k=k||v.uniforms(_,S),y=y||v.attributes(_,S),_.deleteProgram(S)}y=y.slice(),y.sort(T);var R=[],E=[],D=[],N;for(N=0;N<y.length;++N){var I=y[N];if(I.type.indexOf("mat")>=0){for(var F=I.type.charAt(I.type.length-1)|0,L=new Array(F),P=0;P<F;++P)L[P]=D.length,E.push(I.name+"["+P+"]"),typeof I.location=="number"?D.push(I.location+P):Array.isArray(I.location)&&I.location.length===F&&typeof I.location[P]=="number"?D.push(I.location[P]|0):D.push(-1);R.push({name:I.name,type:I.type,locations:L})}else R.push({name:I.name,type:I.type,locations:[D.length]}),E.push(I.name),typeof I.location=="number"?D.push(I.location|0):D.push(-1)}var q=0;for(N=0;N<D.length;++N)if(D[N]<0){for(;D.indexOf(q)>=0;)q+=1;D[N]=q}var U=new Array(k.length);function W(){d.program=f.program(_,d._vref,d._fref,E,D);for(var j=0;j<k.length;++j)U[j]=_.getUniformLocation(d.program,k[j].name)}W(),d._relink=W,d.types={uniforms:s(k),attributes:s(y)},d.attributes=u(_,d,R,D),Object.defineProperty(d,"uniforms",l(_,d,k,U))};function A(m,w,k,y,M){var d=new b(m);return d.update(w,k,y,M),d}a.exports=A},8866:function(a){function o(i,l,u){this.shortMessage=l||"",this.longMessage=u||"",this.rawError=i||"",this.message="gl-shader: "+(l||i||"")+(u?`
`+u:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,a.exports=o},8731:function(a,o,i){"use strict";a.exports=b;var l=i(8866);function u(x,T,A,m,w,k){this._gl=x,this._wrapper=T,this._index=A,this._locations=m,this._dimension=w,this._constFunc=k}var s=u.prototype;s.pointer=function(T,A,m,w){var k=this,y=k._gl,M=k._locations[k._index];y.vertexAttribPointer(M,k._dimension,T||y.FLOAT,!!A,m||0,w||0),y.enableVertexAttribArray(M)},s.set=function(x,T,A,m){return this._constFunc(this._locations[this._index],x,T,A,m)},Object.defineProperty(s,"location",{get:function(){return this._locations[this._index]},set:function(x){return x!==this._locations[this._index]&&(this._locations[this._index]=x|0,this._wrapper.program=null),x|0}});var f=[function(x,T,A){return A.length===void 0?x.vertexAttrib1f(T,A):x.vertexAttrib1fv(T,A)},function(x,T,A,m){return A.length===void 0?x.vertexAttrib2f(T,A,m):x.vertexAttrib2fv(T,A)},function(x,T,A,m,w){return A.length===void 0?x.vertexAttrib3f(T,A,m,w):x.vertexAttrib3fv(T,A)},function(x,T,A,m,w,k){return A.length===void 0?x.vertexAttrib4f(T,A,m,w,k):x.vertexAttrib4fv(T,A)}];function v(x,T,A,m,w,k,y){var M=f[w],d=new u(x,T,A,m,w,M);Object.defineProperty(k,y,{set:function(_){return x.disableVertexAttribArray(m[A]),M(x,m[A],_),_},get:function(){return d},enumerable:!0})}function g(x,T,A,m,w,k,y){for(var M=new Array(w),d=new Array(w),_=0;_<w;++_)v(x,T,A[_],m,w,M,_),d[_]=M[_];Object.defineProperty(M,"location",{set:function(S){if(Array.isArray(S))for(var h=0;h<w;++h)d[h].location=S[h];else for(var h=0;h<w;++h)d[h].location=S+h;return S},get:function(){for(var S=new Array(w),h=0;h<w;++h)S[h]=m[A[h]];return S},enumerable:!0}),M.pointer=function(S,h,R,E){S=S||x.FLOAT,h=!!h,R=R||w*w,E=E||0;for(var D=0;D<w;++D){var N=m[A[D]];x.vertexAttribPointer(N,w,S,h,R,E+D*w),x.enableVertexAttribArray(N)}};var p=new Array(w),c=x["vertexAttrib"+w+"fv"];Object.defineProperty(k,y,{set:function(S){for(var h=0;h<w;++h){var R=m[A[h]];if(x.disableVertexAttribArray(R),Array.isArray(S[0]))c.call(x,R,S[h]);else{for(var E=0;E<w;++E)p[E]=S[w*h+E];c.call(x,R,p)}}return S},get:function(){return M},enumerable:!0})}function b(x,T,A,m){for(var w={},k=0,y=A.length;k<y;++k){var M=A[k],d=M.name,_=M.type,p=M.locations;switch(_){case"bool":case"int":case"float":v(x,T,p[0],m,1,w,d);break;default:if(_.indexOf("vec")>=0){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new l("","Invalid data type for attribute "+d+": "+_);v(x,T,p[0],m,c,w,d)}else if(_.indexOf("mat")>=0){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new l("","Invalid data type for attribute "+d+": "+_);g(x,T,p,m,c,w,d)}else throw new l("","Unknown data type for attribute "+d+": "+_);break}}return w}},3327:function(a,o,i){"use strict";var l=i(216),u=i(8866);a.exports=v;function s(g){return function(){return g}}function f(g,b){for(var x=new Array(g),T=0;T<g;++T)x[T]=b;return x}function v(g,b,x,T){function A(_){return function(p,c,S){return p.getUniform(c.program,S[_])}}function m(_){return function(c){for(var S=w("",_),h=0;h<S.length;++h){var R=S[h],E=R[0],D=R[1];if(T[D]){var N=c;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var I=E;if(E.indexOf(".")===0&&(I=E.slice(1)),I.indexOf("]")===I.length-1){var F=I.indexOf("["),L=I.slice(0,F),P=I.slice(F+1,I.length-1);N=L?c[L][P]:c[P]}else N=c[I]}var q=x[D].type,U;switch(q){case"bool":case"int":case"sampler2D":case"samplerCube":g.uniform1i(T[D],N);break;case"float":g.uniform1f(T[D],N);break;default:var W=q.indexOf("vec");if(0<=W&&W<=1&&q.length===4+W){if(U=q.charCodeAt(q.length-1)-48,U<2||U>4)throw new u("","Invalid data type");switch(q.charAt(0)){case"b":case"i":g["uniform"+U+"iv"](T[D],N);break;case"v":g["uniform"+U+"fv"](T[D],N);break;default:throw new u("","Unrecognized data type for vector "+name+": "+q)}}else if(q.indexOf("mat")===0&&q.length===4){if(U=q.charCodeAt(q.length-1)-48,U<2||U>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+q);g["uniformMatrix"+U+"fv"](T[D],!1,N);break}else throw new u("","Unknown uniform data type for "+name+": "+q)}}}}}function w(_,p){if(typeof p!="object")return[[_,p]];var c=[];for(var S in p){var h=p[S],R=_;parseInt(S)+""===S?R+="["+S+"]":R+="."+S,typeof h=="object"?c.push.apply(c,w(R,h)):c.push([R,h])}return c}function k(_){switch(_){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var p=_.indexOf("vec");if(0<=p&&p<=1&&_.length===4+p){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new u("","Invalid data type");return _.charAt(0)==="b"?f(c,!1):f(c,0)}else if(_.indexOf("mat")===0&&_.length===4){var c=_.charCodeAt(_.length-1)-48;if(c<2||c>4)throw new u("","Invalid uniform dimension type for matrix "+name+": "+_);return f(c*c,0)}else throw new u("","Unknown uniform data type for "+name+": "+_)}}function y(_,p,c){if(typeof c=="object"){var S=M(c);Object.defineProperty(_,p,{get:s(S),set:m(c),enumerable:!0,configurable:!1})}else T[c]?Object.defineProperty(_,p,{get:A(c),set:m(c),enumerable:!0,configurable:!1}):_[p]=k(x[c].type)}function M(_){var p;if(Array.isArray(_)){p=new Array(_.length);for(var c=0;c<_.length;++c)y(p,c,_[c])}else{p={};for(var S in _)y(p,S,_[S])}return p}var d=l(x,!0);return{get:s(M(d)),set:m(d),enumerable:!0,configurable:!0}}},216:function(a){"use strict";a.exports=o;function o(i,l){for(var u={},s=0;s<i.length;++s)for(var f=i[s].name,v=f.split("."),g=u,b=0;b<v.length;++b){var x=v[b].split("[");if(x.length>1){x[0]in g||(g[x[0]]=[]),g=g[x[0]];for(var T=1;T<x.length;++T){var A=parseInt(x[T]);T<x.length-1||b<v.length-1?(A in g||(T<x.length-1?g[A]=[]:g[A]={}),g=g[A]):l?g[A]=s:g[A]=i[s].type}}else b<v.length-1?(x[0]in g||(g[x[0]]={}),g=g[x[0]]):l?g[x[0]]=s:g[x[0]]=i[s].type}return u}},2145:function(a,o){"use strict";o.uniforms=s,o.attributes=f;var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},l=null;function u(v,g){if(!l){var b=Object.keys(i);l={};for(var x=0;x<b.length;++x){var T=b[x];l[v[T]]=i[T]}}return l[g]}function s(v,g){for(var b=v.getProgramParameter(g,v.ACTIVE_UNIFORMS),x=[],T=0;T<b;++T){var A=v.getActiveUniform(g,T);if(A){var m=u(v,A.type);if(A.size>1)for(var w=0;w<A.size;++w)x.push({name:A.name.replace("[0]","["+w+"]"),type:m});else x.push({name:A.name,type:m})}}return x}function f(v,g){for(var b=v.getProgramParameter(g,v.ACTIVE_ATTRIBUTES),x=[],T=0;T<b;++T){var A=v.getActiveAttrib(g,T);A&&x.push({name:A.name,type:u(v,A.type)})}return x}},5091:function(a,o,i){"use strict";o.shader=w,o.program=k;var l=i(8866),u=i(2992),s=typeof WeakMap=="undefined"?i(606):WeakMap,f=new s,v=0;function g(y,M,d,_,p,c,S){this.id=y,this.src=M,this.type=d,this.shader=_,this.count=c,this.programs=[],this.cache=S}g.prototype.dispose=function(){if(--this.count===0){for(var y=this.cache,M=y.gl,d=this.programs,_=0,p=d.length;_<p;++_){var c=y.programs[d[_]];c&&(delete y.programs[_],M.deleteProgram(c))}M.deleteShader(this.shader),delete y.shaders[this.type===M.FRAGMENT_SHADER|0][this.src]}};function b(y){this.gl=y,this.shaders=[{},{}],this.programs={}}var x=b.prototype;function T(y,M,d){var _=y.createShader(M);if(y.shaderSource(_,d),y.compileShader(_),!y.getShaderParameter(_,y.COMPILE_STATUS)){var p=y.getShaderInfoLog(_);try{var c=u(p,d,M)}catch(S){throw console.warn("Failed to format compiler error: "+S),new l(p,`Error compiling shader:
`+p)}throw new l(p,c.short,c.long)}return _}x.getShaderReference=function(y,M){var d=this.gl,_=this.shaders[y===d.FRAGMENT_SHADER|0],p=_[M];if(!p||!d.isShader(p.shader)){var c=T(d,y,M);p=_[M]=new g(v++,M,y,c,[],1,this)}else p.count+=1;return p};function A(y,M,d,_,p){var c=y.createProgram();y.attachShader(c,M),y.attachShader(c,d);for(var S=0;S<_.length;++S)y.bindAttribLocation(c,p[S],_[S]);if(y.linkProgram(c),!y.getProgramParameter(c,y.LINK_STATUS)){var h=y.getProgramInfoLog(c);throw new l(h,"Error linking program: "+h)}return c}x.getProgram=function(y,M,d,_){var p=[y.id,M.id,d.join(":"),_.join(":")].join("@"),c=this.programs[p];return(!c||!this.gl.isProgram(c))&&(this.programs[p]=c=A(this.gl,y.shader,M.shader,d,_),y.programs.push(p),M.programs.push(p)),c};function m(y){var M=f.get(y);return M||(M=new b(y),f.set(y,M)),M}function w(y,M,d){return m(y).getShaderReference(M,d)}function k(y,M,d,_,p){return m(y).getProgram(M,d,_,p)}},4098:function(a){"use strict";a.exports=l;function o(u){this.plot=u,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var i=o.prototype;i.update=function(u){u=u||{},this.enable=(u.enable||[!0,!0,!1,!1]).slice(),this.width=(u.width||[1,1,1,1]).slice(),this.color=(u.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(s){return s.slice()}),this.center=(u.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var u=this.enable,s=this.width,f=this.color,v=this.center,g=this.plot,b=g.line,x=g.dataBox,T=g.viewBox;if(b.bind(),x[0]<=v[0]&&v[0]<=x[2]&&x[1]<=v[1]&&v[1]<=x[3]){var A=T[0]+(v[0]-x[0])/(x[2]-x[0])*(T[2]-T[0]),m=T[1]+(v[1]-x[1])/(x[3]-x[1])*(T[3]-T[1]);u[0]&&b.drawLine(A,m,T[0],m,s[0],f[0]),u[1]&&b.drawLine(A,m,A,T[1],s[1],f[1]),u[2]&&b.drawLine(A,m,T[2],m,s[2],f[2]),u[3]&&b.drawLine(A,m,A,T[3],s[3],f[3])}},i.dispose=function(){this.plot.removeOverlay(this)};function l(u,s){var f=new o(u);return f.update(s),u.addOverlay(f),f}},1493:function(a,o,i){"use strict";var l=i(3236),u=i(9405),s=l([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=l([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);a.exports=function(v){return u(v,s,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(a,o,i){"use strict";var l=i(2762),u=i(8116),s=i(1493);a.exports=A;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(m,w,k,y){this.gl=m,this.buffer=w,this.vao=k,this.shader=y,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var g=v.prototype,b=[0,0,0],x=[0,0,0],T=[0,0];g.isTransparent=function(){return!1},g.drawTransparent=function(m){},g.draw=function(m){var w=this.gl,k=this.vao,y=this.shader;k.bind(),y.bind();var M=m.model||f,d=m.view||f,_=m.projection||f,p;this.axes&&(p=this.axes.lastCubeProps.axis);for(var c=b,S=x,h=0;h<3;++h)p&&p[h]<0?(c[h]=this.bounds[0][h],S[h]=this.bounds[1][h]):(c[h]=this.bounds[1][h],S[h]=this.bounds[0][h]);T[0]=w.drawingBufferWidth,T[1]=w.drawingBufferHeight,y.uniforms.model=M,y.uniforms.view=d,y.uniforms.projection=_,y.uniforms.coordinates=[this.position,c,S],y.uniforms.colors=this.colors,y.uniforms.screenShape=T;for(var h=0;h<3;++h)y.uniforms.lineWidth=this.lineWidth[h]*this.pixelRatio,this.enabled[h]&&(k.draw(w.TRIANGLES,6,6*h),this.drawSides[h]&&k.draw(w.TRIANGLES,12,18+12*h));k.unbind()},g.update=function(m){m&&("bounds"in m&&(this.bounds=m.bounds),"position"in m&&(this.position=m.position),"lineWidth"in m&&(this.lineWidth=m.lineWidth),"colors"in m&&(this.colors=m.colors),"enabled"in m&&(this.enabled=m.enabled),"drawSides"in m&&(this.drawSides=m.drawSides))},g.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function A(m,w){var k=[];function y(c,S,h,R,E,D){var N=[c,S,h,0,0,0,1];N[R+3]=1,N[R]=E,k.push.apply(k,N),N[6]=-1,k.push.apply(k,N),N[R]=D,k.push.apply(k,N),k.push.apply(k,N),N[6]=1,k.push.apply(k,N),N[R]=E,k.push.apply(k,N)}y(0,0,0,0,0,1),y(0,0,0,1,0,1),y(0,0,0,2,0,1),y(1,0,0,1,-1,1),y(1,0,0,2,-1,1),y(0,1,0,0,-1,1),y(0,1,0,2,-1,1),y(0,0,1,0,-1,1),y(0,0,1,1,-1,1);var M=l(m,k),d=u(m,[{type:m.FLOAT,buffer:M,size:3,offset:0,stride:28},{type:m.FLOAT,buffer:M,size:3,offset:12,stride:28},{type:m.FLOAT,buffer:M,size:1,offset:24,stride:28}]),_=s(m);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.weight.location=2;var p=new v(m,M,d,_);return p.update(w),p}},6740:function(a,o,i){var l=i(3236),u=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),s=l([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=l([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),v=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},o.pickShader={vertex:f,fragment:v,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(a,o,i){"use strict";var l=i(2931),u=i(9970),s=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(y,M,d,_){for(var p=y.points,c=y.velocities,S=y.divergences,h=[],R=[],E=[],D=[],N=[],I=[],F=0,L=0,P=u.create(),q=u.create(),U=8,W=0;W<p.length;W++){var j=p[W],$=c[W],G=S[W];M===0&&(G=d*.05),L=l.length($)/_,P=u.create(),l.copy(P,$),P[3]=G;for(var O=0;O<U;O++)N[O]=[j[0],j[1],j[2],O];if(D.length>0)for(var O=0;O<U;O++){var Z=(O+1)%U;h.push(D[O],N[O],N[Z],N[Z],D[Z],D[O]),E.push(q,P,P,P,q,q),I.push(F,L,L,L,F,F);var ne=h.length;R.push([ne-6,ne-5,ne-4],[ne-3,ne-2,ne-1])}var Q=D;D=N,N=Q;var ie=q;q=P,P=ie;var ee=F;F=L,L=ee}return{positions:h,cells:R,vectors:E,vertexIntensity:I}},v=function(y,M,d,_){for(var p=0,c=0;c<y.length;c++)for(var S=y[c].velocities,h=0;h<S.length;h++)p=Math.max(p,l.length(S[h]));for(var R=y.map(function(W){return f(W,d,_,p)}),E=[],D=[],N=[],I=[],c=0;c<R.length;c++){var F=R[c],L=E.length;E=E.concat(F.positions),N=N.concat(F.vectors),I=I.concat(F.vertexIntensity);for(var h=0;h<F.cells.length;h++){var P=F.cells[h],q=[];D.push(q);for(var U=0;U<P.length;U++)q.push(P[U]+L)}}return{positions:E,cells:D,vectors:N,vertexIntensity:I,colormap:M}},g=function(y,M){var d=y.length,_;for(_=0;_<d;_++){var p=y[_];if(p===M)return _;if(p>M)return _-1}return _},b=function(y,M,d){return y<M?M:y>d?d:y},x=function(y,M,d){var _=M.vectors,p=M.meshgrid,c=y[0],S=y[1],h=y[2],R=p[0].length,E=p[1].length,D=p[2].length,N=g(p[0],c),I=g(p[1],S),F=g(p[2],h),L=N+1,P=I+1,q=F+1;if(N=b(N,0,R-1),L=b(L,0,R-1),I=b(I,0,E-1),P=b(P,0,E-1),F=b(F,0,D-1),q=b(q,0,D-1),N<0||I<0||F<0||L>R-1||P>E-1||q>D-1)return l.create();var U=p[0][N],W=p[0][L],j=p[1][I],$=p[1][P],G=p[2][F],O=p[2][q],Z=(c-U)/(W-U),ne=(S-j)/($-j),Q=(h-G)/(O-G);isFinite(Z)||(Z=.5),isFinite(ne)||(ne=.5),isFinite(Q)||(Q=.5);var ie,ee,V,re,H,te;switch(d.reversedX&&(N=R-1-N,L=R-1-L),d.reversedY&&(I=E-1-I,P=E-1-P),d.reversedZ&&(F=D-1-F,q=D-1-q),d.filled){case 5:H=F,te=q,V=I*D,re=P*D,ie=N*D*E,ee=L*D*E;break;case 4:H=F,te=q,ie=N*D,ee=L*D,V=I*D*R,re=P*D*R;break;case 3:V=I,re=P,H=F*E,te=q*E,ie=N*E*D,ee=L*E*D;break;case 2:V=I,re=P,ie=N*E,ee=L*E,H=F*E*R,te=q*E*R;break;case 1:ie=N,ee=L,H=F*R,te=q*R,V=I*R*D,re=P*R*D;break;default:ie=N,ee=L,V=I*R,re=P*R,H=F*R*E,te=q*R*E;break}var se=_[ie+V+H],he=_[ie+V+te],ke=_[ie+re+H],we=_[ie+re+te],ve=_[ee+V+H],Me=_[ee+V+te],Se=_[ee+re+H],De=_[ee+re+te],Ce=l.create(),Oe=l.create(),Be=l.create(),ge=l.create();l.lerp(Ce,se,ve,Z),l.lerp(Oe,he,Me,Z),l.lerp(Be,ke,Se,Z),l.lerp(ge,we,De,Z);var Ae=l.create(),ce=l.create();l.lerp(Ae,Ce,Be,ne),l.lerp(ce,Oe,ge,ne);var ye=l.create();return l.lerp(ye,Ae,ce,Q),ye},T=function(y,M){var d=M[0],_=M[1],p=M[2];return y[0]=d<0?-d:d,y[1]=_<0?-_:_,y[2]=p<0?-p:p,y},A=function(y){var M=1/0;y.sort(function(c,S){return c-S});for(var d=y.length,_=1;_<d;_++){var p=Math.abs(y[_]-y[_-1]);p<M&&(M=p)}return M},m=function(y){for(var M=[],d=[],_=[],p={},c={},S={},h=y.length,R=0;R<h;R++){var E=y[R],D=E[0],N=E[1],I=E[2];p[D]||(M.push(D),p[D]=!0),c[N]||(d.push(N),c[N]=!0),S[I]||(_.push(I),S[I]=!0)}var F=A(M),L=A(d),P=A(_),q=Math.min(F,L,P);return isFinite(q)?q:1};a.exports=function(y,M){var d=y.startingPositions,_=y.maxLength||1e3,p=y.tubeSize||1,c=y.absoluteTubeSize,S=y.gridFill||"+x+y+z",h={};S.indexOf("-x")!==-1&&(h.reversedX=!0),S.indexOf("-y")!==-1&&(h.reversedY=!0),S.indexOf("-z")!==-1&&(h.reversedZ=!0),h.filled=s.indexOf(S.replace(/-/g,"").replace(/\+/g,""));var R=y.getVelocity||function(Me){return x(Me,y,h)},E=y.getDivergence||function(Me,Se){var De=l.create(),Ce=1e-4;l.add(De,Me,[Ce,0,0]);var Oe=R(De);l.subtract(Oe,Oe,Se),l.scale(Oe,Oe,1/Ce),l.add(De,Me,[0,Ce,0]);var Be=R(De);l.subtract(Be,Be,Se),l.scale(Be,Be,1/Ce),l.add(De,Me,[0,0,Ce]);var ge=R(De);return l.subtract(ge,ge,Se),l.scale(ge,ge,1/Ce),l.add(De,Oe,Be),l.add(De,De,ge),De},D=[],N=M[0][0],I=M[0][1],F=M[0][2],L=M[1][0],P=M[1][1],q=M[1][2],U=function(Me){var Se=Me[0],De=Me[1],Ce=Me[2];return!(Se<N||Se>L||De<I||De>P||Ce<F||Ce>q)},W=l.distance(M[0],M[1]),j=10*W/_,$=j*j,G=1,O=0,Z=d.length;Z>1&&(G=m(d));for(var ne=0;ne<Z;ne++){var Q=l.create();l.copy(Q,d[ne]);var ie=[Q],ee=[],V=R(Q),re=Q;ee.push(V);var H=[],te=E(Q,V),se=l.length(te);isFinite(se)&&se>O&&(O=se),H.push(se),D.push({points:ie,velocities:ee,divergences:H});for(var he=0;he<_*100&&ie.length<_&&U(Q);){he++;var ke=l.clone(V),we=l.squaredLength(ke);if(we===0)break;if(we>$&&l.scale(ke,ke,j/Math.sqrt(we)),l.add(ke,ke,Q),V=R(ke),l.squaredDistance(re,ke)-$>-1e-4*$){ie.push(ke),re=ke,ee.push(V);var te=E(ke,V),se=l.length(te);isFinite(se)&&se>O&&(O=se),H.push(se)}Q=ke}}var ve=v(D,y.colormap,O,G);return c?ve.tubeScale=c:(O===0&&(O=1),ve.tubeScale=p*.5*G/O),ve};var w=i(6740),k=i(6405).createMesh;a.exports.createTubeMesh=function(y,M){return k(y,M,{shaders:w,traceType:"streamtube"})}},990:function(a,o,i){var l=i(9405),u=i(3236),s=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=u([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),v=u([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),g=u([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);o.createShader=function(b){var x=l(b,s,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return x.attributes.uv.location=0,x.attributes.f.location=1,x.attributes.normal.location=2,x},o.createPickShader=function(b){var x=l(b,s,g,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return x.attributes.uv.location=0,x.attributes.f.location=1,x.attributes.normal.location=2,x},o.createContourShader=function(b){var x=l(b,v,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return x.attributes.uv.location=0,x.attributes.f.location=1,x},o.createPickContourShader=function(b){var x=l(b,v,g,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return x.attributes.uv.location=0,x.attributes.f.location=1,x}},9499:function(a,o,i){"use strict";a.exports=ie;var l=i(8828),u=i(2762),s=i(8116),f=i(7766),v=i(1888),g=i(6729),b=i(5298),x=i(9994),T=i(9618),A=i(3711),m=i(6760),w=i(7608),k=i(2478),y=i(6199),M=i(990),d=M.createShader,_=M.createContourShader,p=M.createPickShader,c=M.createPickContourShader,S=4*10,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],E=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var ee=0;ee<3;++ee){var V=E[ee],re=(ee+1)%3,H=(ee+2)%3;V[re+0]=1,V[H+3]=1,V[ee+6]=1}})();function D(ee,V,re,H,te){this.position=ee,this.index=V,this.uv=re,this.level=H,this.dataCoordinate=te}var N=256;function I(ee,V,re,H,te,se,he,ke,we,ve,Me,Se,De,Ce,Oe){this.gl=ee,this.shape=V,this.bounds=re,this.objectOffset=Oe,this.intensityBounds=[],this._shader=H,this._pickShader=te,this._coordinateBuffer=se,this._vao=he,this._colorMap=ke,this._contourShader=we,this._contourPickShader=ve,this._contourBuffer=Me,this._contourVAO=Se,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new D([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=De,this._dynamicVAO=Ce,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(v.mallocFloat(1024),[0,0]),T(v.mallocFloat(1024),[0,0]),T(v.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var F=I.prototype;F.genColormap=function(ee,V){var re=!1,H=x([g({colormap:ee,nshades:N,format:"rgba"}).map(function(te,se){var he=V?L(se/255,V):te[3];return he<1&&(re=!0),[te[0],te[1],te[2],255*he]})]);return b.divseq(H,255),this.hasAlphaScale=re,H},F.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},F.isOpaque=function(){return!this.isTransparent()},F.pickSlots=1,F.setPickBase=function(ee){this.pickId=ee};function L(ee,V){if(!V||!V.length)return 1;for(var re=0;re<V.length;++re){if(V.length<2)return 1;if(V[re][0]===ee)return V[re][1];if(V[re][0]>ee&&re>0){var H=(V[re][0]-ee)/(V[re][0]-V[re-1][0]);return V[re][1]*(1-H)+H*V[re-1][1]}}return 1}var P=[0,0,0],q={showSurface:!1,showContour:!1,projections:[h.slice(),h.slice(),h.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function U(ee,V){var re,H,te,se=V.axes&&V.axes.lastCubeProps.axis||P,he=V.showSurface,ke=V.showContour;for(re=0;re<3;++re)for(he=he||V.surfaceProject[re],H=0;H<3;++H)ke=ke||V.contourProject[re][H];for(re=0;re<3;++re){var we=q.projections[re];for(H=0;H<16;++H)we[H]=0;for(H=0;H<4;++H)we[5*H]=1;we[5*re]=0,we[12+re]=V.axesBounds[+(se[re]>0)][re],m(we,ee.model,we);var ve=q.clipBounds[re];for(te=0;te<2;++te)for(H=0;H<3;++H)ve[te][H]=ee.clipBounds[te][H];ve[0][re]=-1e8,ve[1][re]=1e8}return q.showSurface=he,q.showContour=ke,q}var W={model:h,view:h,projection:h,inverseModel:h.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},j=h.slice(),$=[1,0,0,0,1,0,0,0,1];function G(ee,V){ee=ee||{};var re=this.gl;re.disable(re.CULL_FACE),this._colorMap.bind(0);var H=W;H.model=ee.model||h,H.view=ee.view||h,H.projection=ee.projection||h,H.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],H.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],H.objectOffset=this.objectOffset,H.contourColor=this.contourColor[0],H.inverseModel=w(H.inverseModel,H.model);for(var te=0;te<2;++te)for(var se=H.clipBounds[te],he=0;he<3;++he)se[he]=Math.min(Math.max(this.clipBounds[te][he],-1e8),1e8);H.kambient=this.ambientLight,H.kdiffuse=this.diffuseLight,H.kspecular=this.specularLight,H.roughness=this.roughness,H.fresnel=this.fresnel,H.opacity=this.opacity,H.height=0,H.permutation=$,H.vertexColor=this.vertexColor;var ke=j;for(m(ke,H.view,H.model),m(ke,H.projection,ke),w(ke,ke),te=0;te<3;++te)H.eyePosition[te]=ke[12+te]/ke[15];var we=ke[15];for(te=0;te<3;++te)we+=this.lightPosition[te]*ke[4*te+3];for(te=0;te<3;++te){var ve=ke[12+te];for(he=0;he<3;++he)ve+=ke[4*he+te]*this.lightPosition[he];H.lightPosition[te]=ve/we}var Me=U(H,this);if(Me.showSurface){for(this._shader.bind(),this._shader.uniforms=H,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(re.TRIANGLES,this._vertexCount),te=0;te<3;++te)!this.surfaceProject[te]||!this.vertexCount||(this._shader.uniforms.model=Me.projections[te],this._shader.uniforms.clipBounds=Me.clipBounds[te],this._vao.draw(re.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Me.showContour){var Se=this._contourShader;H.kambient=1,H.kdiffuse=0,H.kspecular=0,H.opacity=1,Se.bind(),Se.uniforms=H;var De=this._contourVAO;for(De.bind(),te=0;te<3;++te)for(Se.uniforms.permutation=E[te],re.lineWidth(this.contourWidth[te]*this.pixelRatio),he=0;he<this.contourLevels[te].length;++he)he===this.highlightLevel[te]?(Se.uniforms.contourColor=this.highlightColor[te],Se.uniforms.contourTint=this.highlightTint[te]):(he===0||he-1===this.highlightLevel[te])&&(Se.uniforms.contourColor=this.contourColor[te],Se.uniforms.contourTint=this.contourTint[te]),this._contourCounts[te][he]&&(Se.uniforms.height=this.contourLevels[te][he],De.draw(re.LINES,this._contourCounts[te][he],this._contourOffsets[te][he]));for(te=0;te<3;++te)for(Se.uniforms.model=Me.projections[te],Se.uniforms.clipBounds=Me.clipBounds[te],he=0;he<3;++he)if(this.contourProject[te][he]){Se.uniforms.permutation=E[he],re.lineWidth(this.contourWidth[he]*this.pixelRatio);for(var Ce=0;Ce<this.contourLevels[he].length;++Ce)Ce===this.highlightLevel[he]?(Se.uniforms.contourColor=this.highlightColor[he],Se.uniforms.contourTint=this.highlightTint[he]):(Ce===0||Ce-1===this.highlightLevel[he])&&(Se.uniforms.contourColor=this.contourColor[he],Se.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Ce]&&(Se.uniforms.height=this.contourLevels[he][Ce],De.draw(re.LINES,this._contourCounts[he][Ce],this._contourOffsets[he][Ce]))}for(De.unbind(),De=this._dynamicVAO,De.bind(),te=0;te<3;++te)if(this._dynamicCounts[te]!==0)for(Se.uniforms.model=H.model,Se.uniforms.clipBounds=H.clipBounds,Se.uniforms.permutation=E[te],re.lineWidth(this.dynamicWidth[te]*this.pixelRatio),Se.uniforms.contourColor=this.dynamicColor[te],Se.uniforms.contourTint=this.dynamicTint[te],Se.uniforms.height=this.dynamicLevel[te],De.draw(re.LINES,this._dynamicCounts[te],this._dynamicOffsets[te]),he=0;he<3;++he)this.contourProject[he][te]&&(Se.uniforms.model=Me.projections[he],Se.uniforms.clipBounds=Me.clipBounds[he],De.draw(re.LINES,this._dynamicCounts[te],this._dynamicOffsets[te]));De.unbind()}}F.draw=function(ee){return G.call(this,ee,!1)},F.drawTransparent=function(ee){return G.call(this,ee,!0)};var O={model:h,view:h,projection:h,inverseModel:h,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};F.drawPick=function(ee){ee=ee||{};var V=this.gl;V.disable(V.CULL_FACE);var re=O;re.model=ee.model||h,re.view=ee.view||h,re.projection=ee.projection||h,re.shape=this._field[2].shape,re.pickId=this.pickId/255,re.lowerBound=this.bounds[0],re.upperBound=this.bounds[1],re.objectOffset=this.objectOffset,re.permutation=$;for(var H=0;H<2;++H)for(var te=re.clipBounds[H],se=0;se<3;++se)te[se]=Math.min(Math.max(this.clipBounds[H][se],-1e8),1e8);var he=U(re,this);if(he.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=re,this._vao.bind(),this._vao.draw(V.TRIANGLES,this._vertexCount),H=0;H<3;++H)this.surfaceProject[H]&&(this._pickShader.uniforms.model=he.projections[H],this._pickShader.uniforms.clipBounds=he.clipBounds[H],this._vao.draw(V.TRIANGLES,this._vertexCount));this._vao.unbind()}if(he.showContour){var ke=this._contourPickShader;ke.bind(),ke.uniforms=re;var we=this._contourVAO;for(we.bind(),se=0;se<3;++se)for(V.lineWidth(this.contourWidth[se]*this.pixelRatio),ke.uniforms.permutation=E[se],H=0;H<this.contourLevels[se].length;++H)this._contourCounts[se][H]&&(ke.uniforms.height=this.contourLevels[se][H],we.draw(V.LINES,this._contourCounts[se][H],this._contourOffsets[se][H]));for(H=0;H<3;++H)for(ke.uniforms.model=he.projections[H],ke.uniforms.clipBounds=he.clipBounds[H],se=0;se<3;++se)if(this.contourProject[H][se]){ke.uniforms.permutation=E[se],V.lineWidth(this.contourWidth[se]*this.pixelRatio);for(var ve=0;ve<this.contourLevels[se].length;++ve)this._contourCounts[se][ve]&&(ke.uniforms.height=this.contourLevels[se][ve],we.draw(V.LINES,this._contourCounts[se][ve],this._contourOffsets[se][ve]))}we.unbind()}},F.pick=function(ee){if(!ee||ee.id!==this.pickId)return null;var V=this._field[2].shape,re=this._pickResult,H=V[0]*(ee.value[0]+(ee.value[2]>>4)/16)/255,te=Math.floor(H),se=H-te,he=V[1]*(ee.value[1]+(ee.value[2]&15)/16)/255,ke=Math.floor(he),we=he-ke;te+=1,ke+=1;var ve=re.position;ve[0]=ve[1]=ve[2]=0;for(var Me=0;Me<2;++Me)for(var Se=Me?se:1-se,De=0;De<2;++De)for(var Ce=De?we:1-we,Oe=te+Me,Be=ke+De,ge=Se*Ce,Ae=0;Ae<3;++Ae)ve[Ae]+=this._field[Ae].get(Oe,Be)*ge;for(var ce=this._pickResult.level,ye=0;ye<3;++ye)if(ce[ye]=k.le(this.contourLevels[ye],ve[ye]),ce[ye]<0)this.contourLevels[ye].length>0&&(ce[ye]=0);else if(ce[ye]<this.contourLevels[ye].length-1){var Le=this.contourLevels[ye][ce[ye]],me=this.contourLevels[ye][ce[ye]+1];Math.abs(Le-ve[ye])>Math.abs(me-ve[ye])&&(ce[ye]+=1)}for(re.index[0]=se<.5?te:te+1,re.index[1]=we<.5?ke:ke+1,re.uv[0]=H/V[0],re.uv[1]=he/V[1],Ae=0;Ae<3;++Ae)re.dataCoordinate[Ae]=this._field[Ae].get(re.index[0],re.index[1]);return re},F.padField=function(ee,V){var re=V.shape.slice(),H=ee.shape.slice();b.assign(ee.lo(1,1).hi(re[0],re[1]),V),b.assign(ee.lo(1).hi(re[0],1),V.hi(re[0],1)),b.assign(ee.lo(1,H[1]-1).hi(re[0],1),V.lo(0,re[1]-1).hi(re[0],1)),b.assign(ee.lo(0,1).hi(1,re[1]),V.hi(1)),b.assign(ee.lo(H[0]-1,1).hi(1,re[1]),V.lo(re[0]-1)),ee.set(0,0,V.get(0,0)),ee.set(0,H[1]-1,V.get(0,re[1]-1)),ee.set(H[0]-1,0,V.get(re[0]-1,0)),ee.set(H[0]-1,H[1]-1,V.get(re[0]-1,re[1]-1))};function Z(ee,V){return Array.isArray(ee)?[V(ee[0]),V(ee[1]),V(ee[2])]:[V(ee),V(ee),V(ee)]}function ne(ee){return Array.isArray(ee)?ee.length===3?[ee[0],ee[1],ee[2],1]:[ee[0],ee[1],ee[2],ee[3]]:[0,0,0,1]}function Q(ee){if(Array.isArray(ee)){if(Array.isArray(ee))return[ne(ee[0]),ne(ee[1]),ne(ee[2])];var V=ne(ee);return[V.slice(),V.slice(),V.slice()]}}F.update=function(ee){ee=ee||{},this.objectOffset=ee.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ee&&(this.contourWidth=Z(ee.contourWidth,Number)),"showContour"in ee&&(this.showContour=Z(ee.showContour,Boolean)),"showSurface"in ee&&(this.showSurface=!!ee.showSurface),"contourTint"in ee&&(this.contourTint=Z(ee.contourTint,Boolean)),"contourColor"in ee&&(this.contourColor=Q(ee.contourColor)),"contourProject"in ee&&(this.contourProject=Z(ee.contourProject,function(ka){return Z(ka,Boolean)})),"surfaceProject"in ee&&(this.surfaceProject=ee.surfaceProject),"dynamicColor"in ee&&(this.dynamicColor=Q(ee.dynamicColor)),"dynamicTint"in ee&&(this.dynamicTint=Z(ee.dynamicTint,Number)),"dynamicWidth"in ee&&(this.dynamicWidth=Z(ee.dynamicWidth,Number)),"opacity"in ee&&(this.opacity=ee.opacity),"opacityscale"in ee&&(this.opacityscale=ee.opacityscale),"colorBounds"in ee&&(this.colorBounds=ee.colorBounds),"vertexColor"in ee&&(this.vertexColor=ee.vertexColor?1:0),"colormap"in ee&&this._colorMap.setPixels(this.genColormap(ee.colormap,this.opacityscale));var V=ee.field||ee.coords&&ee.coords[2]||null,re=!1;if(V||(this._field[2].shape[0]||this._field[2].shape[2]?V=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):V=this._field[2].hi(0,0)),"field"in ee||"coords"in ee){var H=(V.shape[0]+2)*(V.shape[1]+2);H>this._field[2].data.length&&(v.freeFloat(this._field[2].data),this._field[2].data=v.mallocFloat(l.nextPow2(H))),this._field[2]=T(this._field[2].data,[V.shape[0]+2,V.shape[1]+2]),this.padField(this._field[2],V),this.shape=V.shape.slice();for(var te=this.shape,se=0;se<2;++se)this._field[2].size>this._field[se].data.length&&(v.freeFloat(this._field[se].data),this._field[se].data=v.mallocFloat(this._field[2].size)),this._field[se]=T(this._field[se].data,[te[0]+2,te[1]+2]);if(ee.coords){var he=ee.coords;if(!Array.isArray(he)||he.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(se=0;se<2;++se){var ke=he[se];for(De=0;De<2;++De)if(ke.shape[De]!==te[De])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[se],ke)}}else if(ee.ticks){var we=ee.ticks;if(!Array.isArray(we)||we.length!==2)throw new Error("gl-surface: invalid ticks");for(se=0;se<2;++se){var ve=we[se];if((Array.isArray(ve)||ve.length)&&(ve=T(ve)),ve.shape[0]!==te[se])throw new Error("gl-surface: invalid tick length");var Me=T(ve.data,te);Me.stride[se]=ve.stride[0],Me.stride[se^1]=0,this.padField(this._field[se],Me)}}else{for(se=0;se<2;++se){var Se=[0,0];Se[se]=1,this._field[se]=T(this._field[se].data,[te[0]+2,te[1]+2],Se,0)}this._field[0].set(0,0,0);for(var De=0;De<te[0];++De)this._field[0].set(De+1,0,De);for(this._field[0].set(te[0]+1,0,te[0]-1),this._field[1].set(0,0,0),De=0;De<te[1];++De)this._field[1].set(0,De+1,De);this._field[1].set(0,te[1]+1,te[1]-1)}var Ce=this._field,Oe=T(v.mallocFloat(Ce[2].size*3*2),[3,te[0]+2,te[1]+2,2]);for(se=0;se<3;++se)y(Oe.pick(se),Ce[se],"mirror");var Be=T(v.mallocFloat(Ce[2].size*3),[te[0]+2,te[1]+2,3]);for(se=0;se<te[0]+2;++se)for(De=0;De<te[1]+2;++De){var ge=Oe.get(0,se,De,0),Ae=Oe.get(0,se,De,1),ce=Oe.get(1,se,De,0),ye=Oe.get(1,se,De,1),Le=Oe.get(2,se,De,0),me=Oe.get(2,se,De,1),de=ce*me-ye*Le,be=Le*Ae-me*ge,Ee=ge*ye-Ae*ce,ze=Math.sqrt(de*de+be*be+Ee*Ee);ze<1e-8?(ze=Math.max(Math.abs(de),Math.abs(be),Math.abs(Ee)),ze<1e-8?(Ee=1,be=de=0,ze=1):ze=1/ze):ze=1/Math.sqrt(ze),Be.set(se,De,0,de*ze),Be.set(se,De,1,be*ze),Be.set(se,De,2,Ee*ze)}v.free(Oe.data);var Fe=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],Ye=1/0,Ge=-1/0,We=(te[0]-1)*(te[1]-1)*6,Te=v.mallocFloat(l.nextPow2(10*We)),Pe=0,Qe=0;for(se=0;se<te[0]-1;++se)e:for(De=0;De<te[1]-1;++De){for(var Ve=0;Ve<2;++Ve)for(var ar=0;ar<2;++ar)for(var ue=0;ue<3;++ue){var K=this._field[ue].get(1+se+Ve,1+De+ar);if(isNaN(K)||!isFinite(K))continue e}for(ue=0;ue<6;++ue){var ae=se+R[ue][0],Re=De+R[ue][1],Ue=this._field[0].get(ae+1,Re+1),je=this._field[1].get(ae+1,Re+1);K=this._field[2].get(ae+1,Re+1),de=Be.get(ae+1,Re+1,0),be=Be.get(ae+1,Re+1,1),Ee=Be.get(ae+1,Re+1,2),ee.intensity&&(nr=ee.intensity.get(ae,Re));var nr=ee.intensity?ee.intensity.get(ae,Re):K+this.objectOffset[2];Te[Pe++]=ae,Te[Pe++]=Re,Te[Pe++]=Ue,Te[Pe++]=je,Te[Pe++]=K,Te[Pe++]=0,Te[Pe++]=nr,Te[Pe++]=de,Te[Pe++]=be,Te[Pe++]=Ee,Fe[0]=Math.min(Fe[0],Ue+this.objectOffset[0]),Fe[1]=Math.min(Fe[1],je+this.objectOffset[1]),Fe[2]=Math.min(Fe[2],K+this.objectOffset[2]),Ye=Math.min(Ye,nr),Je[0]=Math.max(Je[0],Ue+this.objectOffset[0]),Je[1]=Math.max(Je[1],je+this.objectOffset[1]),Je[2]=Math.max(Je[2],K+this.objectOffset[2]),Ge=Math.max(Ge,nr),Qe+=1}}for(ee.intensityBounds&&(Ye=+ee.intensityBounds[0],Ge=+ee.intensityBounds[1]),se=6;se<Pe;se+=10)Te[se]=(Te[se]-Ye)/(Ge-Ye);this._vertexCount=Qe,this._coordinateBuffer.update(Te.subarray(0,Pe)),v.freeFloat(Te),v.free(Be.data),this.bounds=[Fe,Je],this.intensity=ee.intensity||this._field[2],(this.intensityBounds[0]!==Ye||this.intensityBounds[1]!==Ge)&&(re=!0),this.intensityBounds=[Ye,Ge]}if("levels"in ee){var hr=ee.levels;for(Array.isArray(hr[0])?hr=hr.slice():hr=[[],[],hr],se=0;se<3;++se)hr[se]=hr[se].slice(),hr[se].sort(function(ka,wi){return ka-wi});for(se=0;se<3;++se)for(De=0;De<hr[se].length;++De)hr[se][De]-=this.objectOffset[se];e:for(se=0;se<3;++se){if(hr[se].length!==this.contourLevels[se].length){re=!0;break}for(De=0;De<hr[se].length;++De)if(hr[se][De]!==this.contourLevels[se][De]){re=!0;break e}}this.contourLevels=hr}if(re){Ce=this._field,te=this.shape;for(var wr=[],Er=0;Er<3;++Er){var Mr=this.contourLevels[Er],Ar=[],ft=[],Wr=[0,0,0];for(se=0;se<Mr.length;++se){var xr=A(this._field[Er],Mr[se]);Ar.push(wr.length/5|0),Qe=0;e:for(De=0;De<xr.cells.length;++De){var ct=xr.cells[De];for(ue=0;ue<2;++ue){var Sr=xr.positions[ct[ue]],Hr=Sr[0],bt=Math.floor(Hr)|0,Or=Hr-bt,Vr=Sr[1],Bt=Math.floor(Vr)|0,Lt=Vr-Bt,mn=!1;r:for(var Wt=0;Wt<3;++Wt){Wr[Wt]=0;var Rt=(Er+Wt+1)%3;for(Ve=0;Ve<2;++Ve){var nt=Ve?Or:1-Or;for(ae=Math.min(Math.max(bt+Ve,0),te[0])|0,ar=0;ar<2;++ar){var Ft=ar?Lt:1-Lt;if(Re=Math.min(Math.max(Bt+ar,0),te[1])|0,Wt<2?K=this._field[Rt].get(ae,Re):K=(this.intensity.get(ae,Re)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(K)||isNaN(K)){mn=!0;break r}var ya=nt*Ft;Wr[Wt]+=ya*K}}}if(!mn)wr.push(Wr[0],Wr[1],Sr[0],Sr[1],Wr[2]),Qe+=1;else{if(ue>0){for(var ta=0;ta<5;++ta)wr.pop();Qe-=1}continue e}}}ft.push(Qe)}this._contourOffsets[Er]=Ar,this._contourCounts[Er]=ft}var Nn=v.mallocFloat(wr.length);for(se=0;se<wr.length;++se)Nn[se]=wr[se];this._contourBuffer.update(Nn),v.freeFloat(Nn)}},F.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ee=0;ee<3;++ee)v.freeFloat(this._field[ee].data)},F.highlight=function(ee){var V;if(!ee){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(V=0;V<3;++V)this.enableHighlight[V]?this.highlightLevel[V]=ee.level[V]:this.highlightLevel[V]=-1;var re;for(this.snapToData?re=ee.dataCoordinate:re=ee.position,V=0;V<3;++V)re[V]-=this.objectOffset[V];if(!((!this.enableDynamic[0]||re[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||re[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||re[2]===this.dynamicLevel[2]))){for(var H=0,te=this.shape,se=v.mallocFloat(12*te[0]*te[1]),he=0;he<3;++he){if(!this.enableDynamic[he]){this.dynamicLevel[he]=NaN,this._dynamicCounts[he]=0;continue}this.dynamicLevel[he]=re[he];var ke=(he+1)%3,we=(he+2)%3,ve=this._field[he],Me=this._field[ke],Se=this._field[we],De=A(ve,re[he]),Ce=De.cells,Oe=De.positions;for(this._dynamicOffsets[he]=H,V=0;V<Ce.length;++V)for(var Be=Ce[V],ge=0;ge<2;++ge){var Ae=Oe[Be[ge]],ce=+Ae[0],ye=ce|0,Le=Math.min(ye+1,te[0])|0,me=ce-ye,de=1-me,be=+Ae[1],Ee=be|0,ze=Math.min(Ee+1,te[1])|0,Fe=be-Ee,Je=1-Fe,Ye=de*Je,Ge=de*Fe,We=me*Je,Te=me*Fe,Pe=Ye*Me.get(ye,Ee)+Ge*Me.get(ye,ze)+We*Me.get(Le,Ee)+Te*Me.get(Le,ze),Qe=Ye*Se.get(ye,Ee)+Ge*Se.get(ye,ze)+We*Se.get(Le,Ee)+Te*Se.get(Le,ze);if(isNaN(Pe)||isNaN(Qe)){ge&&(H-=1);break}se[2*H+0]=Pe,se[2*H+1]=Qe,H+=1}this._dynamicCounts[he]=H-this._dynamicOffsets[he]}this._dynamicBuffer.update(se.subarray(0,2*H)),v.freeFloat(se)}};function ie(ee){var V=ee.gl,re=d(V),H=p(V),te=_(V),se=c(V),he=u(V),ke=s(V,[{buffer:he,size:4,stride:S,offset:0},{buffer:he,size:3,stride:S,offset:16},{buffer:he,size:3,stride:S,offset:28}]),we=u(V),ve=s(V,[{buffer:we,size:4,stride:20,offset:0},{buffer:we,size:1,stride:20,offset:16}]),Me=u(V),Se=s(V,[{buffer:Me,size:2,type:V.FLOAT}]),De=f(V,1,N,V.RGBA,V.UNSIGNED_BYTE);De.minFilter=V.LINEAR,De.magFilter=V.LINEAR;var Ce=new I(V,[0,0],[[0,0,0],[0,0,0]],re,H,he,ke,De,te,se,we,ve,Me,Se,[0,0,0]),Oe={levels:[[],[],[]]};for(var Be in ee)Oe[Be]=ee[Be];return Oe.colormap=Oe.colormap||"jet",Ce.update(Oe),Ce}},7766:function(a,o,i){"use strict";var l=i(9618),u=i(5298),s=i(1888);a.exports=c;var f=null,v=null,g=null;function b(S){f=[S.LINEAR,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_NEAREST],v=[S.NEAREST,S.LINEAR,S.NEAREST_MIPMAP_NEAREST,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_LINEAR],g=[S.REPEAT,S.CLAMP_TO_EDGE,S.MIRRORED_REPEAT]}function x(S){return typeof HTMLCanvasElement!="undefined"&&S instanceof HTMLCanvasElement||typeof HTMLImageElement!="undefined"&&S instanceof HTMLImageElement||typeof HTMLVideoElement!="undefined"&&S instanceof HTMLVideoElement||typeof ImageData!="undefined"&&S instanceof ImageData}var T=function(S,h){u.muls(S,h,255)};function A(S,h,R){var E=S.gl,D=E.getParameter(E.MAX_TEXTURE_SIZE);if(h<0||h>D||R<0||R>D)throw new Error("gl-texture2d: Invalid texture size");return S._shape=[h,R],S.bind(),E.texImage2D(E.TEXTURE_2D,0,S.format,h,R,0,S.format,S.type,null),S._mipLevels=[0],S}function m(S,h,R,E,D,N){this.gl=S,this.handle=h,this.format=D,this.type=N,this._shape=[R,E],this._mipLevels=[0],this._magFilter=S.NEAREST,this._minFilter=S.NEAREST,this._wrapS=S.CLAMP_TO_EDGE,this._wrapT=S.CLAMP_TO_EDGE,this._anisoSamples=1;var I=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return I._wrapS},set:function(P){return I.wrapS=P}},{get:function(){return I._wrapT},set:function(P){return I.wrapT=P}}]),this._wrapVector=F;var L=[this._shape[0],this._shape[1]];Object.defineProperties(L,[{get:function(){return I._shape[0]},set:function(P){return I.width=P}},{get:function(){return I._shape[1]},set:function(P){return I.height=P}}]),this._shapeVector=L}var w=m.prototype;Object.defineProperties(w,{minFilter:{get:function(){return this._minFilter},set:function(S){this.bind();var h=this.gl;if(this.type===h.FLOAT&&f.indexOf(S)>=0&&(h.getExtension("OES_texture_float_linear")||(S=h.NEAREST)),v.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,S),this._minFilter=S}},magFilter:{get:function(){return this._magFilter},set:function(S){this.bind();var h=this.gl;if(this.type===h.FLOAT&&f.indexOf(S)>=0&&(h.getExtension("OES_texture_float_linear")||(S=h.NEAREST)),v.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,S),this._magFilter=S}},mipSamples:{get:function(){return this._anisoSamples},set:function(S){var h=this._anisoSamples;if(this._anisoSamples=Math.max(S,1)|0,h!==this._anisoSamples){var R=this.gl.getExtension("EXT_texture_filter_anisotropic");R&&this.gl.texParameterf(this.gl.TEXTURE_2D,R.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(S){if(this.bind(),g.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,S),this._wrapS=S}},wrapT:{get:function(){return this._wrapT},set:function(S){if(this.bind(),g.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,S),this._wrapT=S}},wrap:{get:function(){return this._wrapVector},set:function(S){if(Array.isArray(S)||(S=[S,S]),S.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var h=0;h<2;++h)if(g.indexOf(S[h])<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);this._wrapS=S[0],this._wrapT=S[1];var R=this.gl;return this.bind(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,this._wrapS),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,this._wrapT),S}},shape:{get:function(){return this._shapeVector},set:function(S){if(!Array.isArray(S))S=[S|0,S|0];else if(S.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return A(this,S[0]|0,S[1]|0),[S[0]|0,S[1]|0]}},width:{get:function(){return this._shape[0]},set:function(S){return S=S|0,A(this,S,this._shape[1]),S}},height:{get:function(){return this._shape[1]},set:function(S){return S=S|0,A(this,this._shape[0],S),S}}}),w.bind=function(S){var h=this.gl;return S!==void 0&&h.activeTexture(h.TEXTURE0+(S|0)),h.bindTexture(h.TEXTURE_2D,this.handle),S!==void 0?S|0:h.getParameter(h.ACTIVE_TEXTURE)-h.TEXTURE0},w.dispose=function(){this.gl.deleteTexture(this.handle)},w.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var S=Math.min(this._shape[0],this._shape[1]),h=0;S>0;++h,S>>>=1)this._mipLevels.indexOf(h)<0&&this._mipLevels.push(h)},w.setPixels=function(S,h,R,E){var D=this.gl;this.bind(),Array.isArray(h)?(E=R,R=h[1]|0,h=h[0]|0):(h=h||0,R=R||0),E=E||0;var N=x(S)?S:S.raw;if(N){var I=this._mipLevels.indexOf(E)<0;I?(D.texImage2D(D.TEXTURE_2D,0,this.format,this.format,this.type,N),this._mipLevels.push(E)):D.texSubImage2D(D.TEXTURE_2D,E,h,R,this.format,this.type,N)}else if(S.shape&&S.stride&&S.data){if(S.shape.length<2||h+S.shape[1]>this._shape[1]>>>E||R+S.shape[0]>this._shape[0]>>>E||h<0||R<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");y(D,h,R,E,this.format,this.type,this._mipLevels,S)}else throw new Error("gl-texture2d: Unsupported data type")};function k(S,h){return S.length===3?h[2]===1&&h[1]===S[0]*S[2]&&h[0]===S[2]:h[0]===1&&h[1]===S[0]}function y(S,h,R,E,D,N,I,F){var L=F.dtype,P=F.shape.slice();if(P.length<2||P.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var q=0,U=0,W=k(P,F.stride.slice());L==="float32"?q=S.FLOAT:L==="float64"?(q=S.FLOAT,W=!1,L="float32"):L==="uint8"?q=S.UNSIGNED_BYTE:(q=S.UNSIGNED_BYTE,W=!1,L="uint8");var j=1;if(P.length===2)U=S.LUMINANCE,P=[P[0],P[1],1],F=l(F.data,P,[F.stride[0],F.stride[1],1],F.offset);else if(P.length===3){if(P[2]===1)U=S.ALPHA;else if(P[2]===2)U=S.LUMINANCE_ALPHA;else if(P[2]===3)U=S.RGB;else if(P[2]===4)U=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");j=P[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((U===S.LUMINANCE||U===S.ALPHA)&&(D===S.LUMINANCE||D===S.ALPHA)&&(U=D),U!==D)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var $=F.size,G=I.indexOf(E)<0;if(G&&I.push(E),q===N&&W)F.offset===0&&F.data.length===$?G?S.texImage2D(S.TEXTURE_2D,E,D,P[0],P[1],0,D,N,F.data):S.texSubImage2D(S.TEXTURE_2D,E,h,R,P[0],P[1],D,N,F.data):G?S.texImage2D(S.TEXTURE_2D,E,D,P[0],P[1],0,D,N,F.data.subarray(F.offset,F.offset+$)):S.texSubImage2D(S.TEXTURE_2D,E,h,R,P[0],P[1],D,N,F.data.subarray(F.offset,F.offset+$));else{var O;N===S.FLOAT?O=s.mallocFloat32($):O=s.mallocUint8($);var Z=l(O,P,[P[2],P[2]*P[0],1]);q===S.FLOAT&&N===S.UNSIGNED_BYTE?T(Z,F):u.assign(Z,F),G?S.texImage2D(S.TEXTURE_2D,E,D,P[0],P[1],0,D,N,O.subarray(0,$)):S.texSubImage2D(S.TEXTURE_2D,E,h,R,P[0],P[1],D,N,O.subarray(0,$)),N===S.FLOAT?s.freeFloat32(O):s.freeUint8(O)}}function M(S){var h=S.createTexture();return S.bindTexture(S.TEXTURE_2D,h),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),h}function d(S,h,R,E,D){var N=S.getParameter(S.MAX_TEXTURE_SIZE);if(h<0||h>N||R<0||R>N)throw new Error("gl-texture2d: Invalid texture shape");if(D===S.FLOAT&&!S.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var I=M(S);return S.texImage2D(S.TEXTURE_2D,0,E,h,R,0,E,D,null),new m(S,I,h,R,E,D)}function _(S,h,R,E,D,N){var I=M(S);return S.texImage2D(S.TEXTURE_2D,0,D,D,N,h),new m(S,I,R,E,D,N)}function p(S,h){var R=h.dtype,E=h.shape.slice(),D=S.getParameter(S.MAX_TEXTURE_SIZE);if(E[0]<0||E[0]>D||E[1]<0||E[1]>D)throw new Error("gl-texture2d: Invalid texture size");var N=k(E,h.stride.slice()),I=0;R==="float32"?I=S.FLOAT:R==="float64"?(I=S.FLOAT,N=!1,R="float32"):R==="uint8"?I=S.UNSIGNED_BYTE:(I=S.UNSIGNED_BYTE,N=!1,R="uint8");var F=0;if(E.length===2)F=S.LUMINANCE,E=[E[0],E[1],1],h=l(h.data,E,[h.stride[0],h.stride[1],1],h.offset);else if(E.length===3)if(E[2]===1)F=S.ALPHA;else if(E[2]===2)F=S.LUMINANCE_ALPHA;else if(E[2]===3)F=S.RGB;else if(E[2]===4)F=S.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");I===S.FLOAT&&!S.getExtension("OES_texture_float")&&(I=S.UNSIGNED_BYTE,N=!1);var L,P,q=h.size;if(N)h.offset===0&&h.data.length===q?L=h.data:L=h.data.subarray(h.offset,h.offset+q);else{var U=[E[2],E[2]*E[0],1];P=s.malloc(q,R);var W=l(P,E,U,0);(R==="float32"||R==="float64")&&I===S.UNSIGNED_BYTE?T(W,h):u.assign(W,h),L=P.subarray(0,q)}var j=M(S);return S.texImage2D(S.TEXTURE_2D,0,F,E[0],E[1],0,F,I,L),N||s.free(P),new m(S,j,E[0],E[1],F,I)}function c(S){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||b(S),typeof arguments[1]=="number")return d(S,arguments[1],arguments[2],arguments[3]||S.RGBA,arguments[4]||S.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return d(S,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var h=arguments[1],R=x(h)?h:h.raw;if(R)return _(S,R,h.width|0,h.height|0,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(h.shape&&h.data&&h.stride)return p(S,h)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(a){"use strict";function o(i,l,u){l?l.bind():i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null);var s=i.getParameter(i.MAX_VERTEX_ATTRIBS)|0;if(u){if(u.length>s)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<u.length;++f){var v=u[f];if(v.buffer){var g=v.buffer,b=v.size||4,x=v.type||i.FLOAT,T=!!v.normalized,A=v.stride||0,m=v.offset||0;g.bind(),i.enableVertexAttribArray(f),i.vertexAttribPointer(f,b,x,T,A,m)}else{if(typeof v=="number")i.vertexAttrib1f(f,v);else if(v.length===1)i.vertexAttrib1f(f,v[0]);else if(v.length===2)i.vertexAttrib2f(f,v[0],v[1]);else if(v.length===3)i.vertexAttrib3f(f,v[0],v[1],v[2]);else if(v.length===4)i.vertexAttrib4f(f,v[0],v[1],v[2],v[3]);else throw new Error("gl-vao: Invalid vertex attribute");i.disableVertexAttribArray(f)}}for(;f<s;++f)i.disableVertexAttribArray(f)}else{i.bindBuffer(i.ARRAY_BUFFER,null);for(var f=0;f<s;++f)i.disableVertexAttribArray(f)}}a.exports=o},870:function(a,o,i){"use strict";var l=i(1433);function u(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}u.prototype.bind=function(){l(this.gl,this._elements,this._attributes)},u.prototype.update=function(f,v,g){this._elements=v,this._attributes=f,this._elementsType=g||this.gl.UNSIGNED_SHORT},u.prototype.dispose=function(){},u.prototype.unbind=function(){},u.prototype.draw=function(f,v,g){g=g||0;var b=this.gl;this._elements?b.drawElements(f,v,this._elementsType,g):b.drawArrays(f,g,v)};function s(f){return new u(f)}a.exports=s},7518:function(a,o,i){"use strict";var l=i(1433);function u(v,g,b,x,T,A){this.location=v,this.dimension=g,this.a=b,this.b=x,this.c=T,this.d=A}u.prototype.bind=function(v){switch(this.dimension){case 1:v.vertexAttrib1f(this.location,this.a);break;case 2:v.vertexAttrib2f(this.location,this.a,this.b);break;case 3:v.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:v.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function s(v,g,b){this.gl=v,this._ext=g,this.handle=b,this._attribs=[],this._useElements=!1,this._elementsType=v.UNSIGNED_SHORT}s.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var v=0;v<this._attribs.length;++v)this._attribs[v].bind(this.gl)},s.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},s.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},s.prototype.update=function(v,g,b){if(this.bind(),l(this.gl,g,v),this.unbind(),this._attribs.length=0,v)for(var x=0;x<v.length;++x){var T=v[x];typeof T=="number"?this._attribs.push(new u(x,1,T)):Array.isArray(T)&&this._attribs.push(new u(x,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!g,this._elementsType=b||this.gl.UNSIGNED_SHORT},s.prototype.draw=function(v,g,b){b=b||0;var x=this.gl;this._useElements?x.drawElements(v,g,this._elementsType,b):x.drawArrays(v,b,g)};function f(v,g){return new s(v,g,g.createVertexArrayOES())}a.exports=f},8116:function(a,o,i){"use strict";var l=i(7518),u=i(870);function s(v){this.bindVertexArrayOES=v.bindVertexArray.bind(v),this.createVertexArrayOES=v.createVertexArray.bind(v),this.deleteVertexArrayOES=v.deleteVertexArray.bind(v)}function f(v,g,b,x){var T=v.createVertexArray?new s(v):v.getExtension("OES_vertex_array_object"),A;return T?A=l(v,T):A=u(v),A.update(g,b,x),A}a.exports=f},5632:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]+u[0],i[1]=l[1]+u[1],i[2]=l[2]+u[2],i}},8192:function(a,o,i){a.exports=f;var l=i(2825),u=i(3536),s=i(244);function f(v,g){var b=l(v[0],v[1],v[2]),x=l(g[0],g[1],g[2]);u(b,b),u(x,x);var T=s(b,x);return T>1?0:Math.acos(T)}},9226:function(a){a.exports=o;function o(i,l){return i[0]=Math.ceil(l[0]),i[1]=Math.ceil(l[1]),i[2]=Math.ceil(l[2]),i}},3126:function(a){a.exports=o;function o(i){var l=new Float32Array(3);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l}},3990:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i}},1091:function(a){a.exports=o;function o(){var i=new Float32Array(3);return i[0]=0,i[1]=0,i[2]=0,i}},5911:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],g=u[0],b=u[1],x=u[2];return i[0]=f*x-v*b,i[1]=v*g-s*x,i[2]=s*b-f*g,i}},5455:function(a,o,i){a.exports=i(7056)},7056:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2];return Math.sqrt(u*u+s*s+f*f)}},4008:function(a,o,i){a.exports=i(6690)},6690:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]/u[0],i[1]=l[1]/u[1],i[2]=l[2]/u[2],i}},244:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]}},2613:function(a){a.exports=1e-6},9922:function(a,o,i){a.exports=u;var l=i(2613);function u(s,f){var v=s[0],g=s[1],b=s[2],x=f[0],T=f[1],A=f[2];return Math.abs(v-x)<=l*Math.max(1,Math.abs(v),Math.abs(x))&&Math.abs(g-T)<=l*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(b-A)<=l*Math.max(1,Math.abs(b),Math.abs(A))}},9265:function(a){a.exports=o;function o(i,l){return i[0]===l[0]&&i[1]===l[1]&&i[2]===l[2]}},2681:function(a){a.exports=o;function o(i,l){return i[0]=Math.floor(l[0]),i[1]=Math.floor(l[1]),i[2]=Math.floor(l[2]),i}},5137:function(a,o,i){a.exports=u;var l=i(1091)();function u(s,f,v,g,b,x){var T,A;for(f||(f=3),v||(v=0),g?A=Math.min(g*f+v,s.length):A=s.length,T=v;T<A;T+=f)l[0]=s[T],l[1]=s[T+1],l[2]=s[T+2],b(l,l,x),s[T]=l[0],s[T+1]=l[1],s[T+2]=l[2];return s}},2825:function(a){a.exports=o;function o(i,l,u){var s=new Float32Array(3);return s[0]=i,s[1]=l,s[2]=u,s}},2931:function(a,o,i){a.exports={EPSILON:i(2613),create:i(1091),clone:i(3126),angle:i(8192),fromValues:i(2825),copy:i(3990),set:i(1463),equals:i(9922),exactEquals:i(9265),add:i(5632),subtract:i(6843),sub:i(2229),multiply:i(5847),mul:i(4505),divide:i(6690),div:i(4008),min:i(8107),max:i(7417),floor:i(2681),ceil:i(9226),round:i(2447),scale:i(6621),scaleAndAdd:i(8489),distance:i(7056),dist:i(5455),squaredDistance:i(2953),sqrDist:i(6141),length:i(1387),len:i(868),squaredLength:i(3066),sqrLen:i(5486),negate:i(5093),inverse:i(811),normalize:i(3536),dot:i(244),cross:i(5911),lerp:i(6658),random:i(7636),transformMat4:i(5673),transformMat3:i(492),transformQuat:i(264),rotateX:i(6894),rotateY:i(109),rotateZ:i(8692),forEach:i(5137)}},811:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i}},868:function(a,o,i){a.exports=i(1387)},1387:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2];return Math.sqrt(l*l+u*u+s*s)}},6658:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],v=l[1],g=l[2];return i[0]=f+s*(u[0]-f),i[1]=v+s*(u[1]-v),i[2]=g+s*(u[2]-g),i}},7417:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.max(l[0],u[0]),i[1]=Math.max(l[1],u[1]),i[2]=Math.max(l[2],u[2]),i}},8107:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.min(l[0],u[0]),i[1]=Math.min(l[1],u[1]),i[2]=Math.min(l[2],u[2]),i}},4505:function(a,o,i){a.exports=i(5847)},5847:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u[0],i[1]=l[1]*u[1],i[2]=l[2]*u[2],i}},5093:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i}},3536:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],v=u*u+s*s+f*f;return v>0&&(v=1/Math.sqrt(v),i[0]=l[0]*v,i[1]=l[1]*v,i[2]=l[2]*v),i}},7636:function(a){a.exports=o;function o(i,l){l=l||1;var u=Math.random()*2*Math.PI,s=Math.random()*2-1,f=Math.sqrt(1-s*s)*l;return i[0]=Math.cos(u)*f,i[1]=Math.sin(u)*f,i[2]=s*l,i}},6894:function(a){a.exports=o;function o(i,l,u,s){var f=u[1],v=u[2],g=l[1]-f,b=l[2]-v,x=Math.sin(s),T=Math.cos(s);return i[0]=l[0],i[1]=f+g*T-b*x,i[2]=v+g*x+b*T,i}},109:function(a){a.exports=o;function o(i,l,u,s){var f=u[0],v=u[2],g=l[0]-f,b=l[2]-v,x=Math.sin(s),T=Math.cos(s);return i[0]=f+b*x+g*T,i[1]=l[1],i[2]=v+b*T-g*x,i}},8692:function(a){a.exports=o;function o(i,l,u,s){var f=u[0],v=u[1],g=l[0]-f,b=l[1]-v,x=Math.sin(s),T=Math.cos(s);return i[0]=f+g*T-b*x,i[1]=v+g*x+b*T,i[2]=l[2],i}},2447:function(a){a.exports=o;function o(i,l){return i[0]=Math.round(l[0]),i[1]=Math.round(l[1]),i[2]=Math.round(l[2]),i}},6621:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u,i[1]=l[1]*u,i[2]=l[2]*u,i}},8489:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l[0]+u[0]*s,i[1]=l[1]+u[1]*s,i[2]=l[2]+u[2]*s,i}},1463:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l,i[1]=u,i[2]=s,i}},6141:function(a,o,i){a.exports=i(2953)},5486:function(a,o,i){a.exports=i(3066)},2953:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2];return u*u+s*s+f*f}},3066:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2];return l*l+u*u+s*s}},2229:function(a,o,i){a.exports=i(6843)},6843:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]-u[0],i[1]=l[1]-u[1],i[2]=l[2]-u[2],i}},492:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2];return i[0]=s*u[0]+f*u[3]+v*u[6],i[1]=s*u[1]+f*u[4]+v*u[7],i[2]=s*u[2]+f*u[5]+v*u[8],i}},5673:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],g=u[3]*s+u[7]*f+u[11]*v+u[15];return g=g||1,i[0]=(u[0]*s+u[4]*f+u[8]*v+u[12])/g,i[1]=(u[1]*s+u[5]*f+u[9]*v+u[13])/g,i[2]=(u[2]*s+u[6]*f+u[10]*v+u[14])/g,i}},264:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],g=u[0],b=u[1],x=u[2],T=u[3],A=T*s+b*v-x*f,m=T*f+x*s-g*v,w=T*v+g*f-b*s,k=-g*s-b*f-x*v;return i[0]=A*T+k*-g+m*-x-w*-b,i[1]=m*T+k*-b+w*-g-A*-x,i[2]=w*T+k*-x+A*-b-m*-g,i}},4361:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]+u[0],i[1]=l[1]+u[1],i[2]=l[2]+u[2],i[3]=l[3]+u[3],i}},2335:function(a){a.exports=o;function o(i){var l=new Float32Array(4);return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l}},2933:function(a){a.exports=o;function o(i,l){return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i}},7536:function(a){a.exports=o;function o(){var i=new Float32Array(4);return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i}},4691:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2],v=l[3]-i[3];return Math.sqrt(u*u+s*s+f*f+v*v)}},1373:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]/u[0],i[1]=l[1]/u[1],i[2]=l[2]/u[2],i[3]=l[3]/u[3],i}},3750:function(a){a.exports=o;function o(i,l){return i[0]*l[0]+i[1]*l[1]+i[2]*l[2]+i[3]*l[3]}},3390:function(a){a.exports=o;function o(i,l,u,s){var f=new Float32Array(4);return f[0]=i,f[1]=l,f[2]=u,f[3]=s,f}},9970:function(a,o,i){a.exports={create:i(7536),clone:i(2335),fromValues:i(3390),copy:i(2933),set:i(4578),add:i(4361),subtract:i(6860),multiply:i(3576),divide:i(1373),min:i(2334),max:i(160),scale:i(9288),scaleAndAdd:i(4844),distance:i(4691),squaredDistance:i(7960),length:i(6808),squaredLength:i(483),negate:i(1498),inverse:i(4494),normalize:i(5177),dot:i(3750),lerp:i(2573),random:i(9131),transformMat4:i(5352),transformQuat:i(4041)}},4494:function(a){a.exports=o;function o(i,l){return i[0]=1/l[0],i[1]=1/l[1],i[2]=1/l[2],i[3]=1/l[3],i}},6808:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3];return Math.sqrt(l*l+u*u+s*s+f*f)}},2573:function(a){a.exports=o;function o(i,l,u,s){var f=l[0],v=l[1],g=l[2],b=l[3];return i[0]=f+s*(u[0]-f),i[1]=v+s*(u[1]-v),i[2]=g+s*(u[2]-g),i[3]=b+s*(u[3]-b),i}},160:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.max(l[0],u[0]),i[1]=Math.max(l[1],u[1]),i[2]=Math.max(l[2],u[2]),i[3]=Math.max(l[3],u[3]),i}},2334:function(a){a.exports=o;function o(i,l,u){return i[0]=Math.min(l[0],u[0]),i[1]=Math.min(l[1],u[1]),i[2]=Math.min(l[2],u[2]),i[3]=Math.min(l[3],u[3]),i}},3576:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u[0],i[1]=l[1]*u[1],i[2]=l[2]*u[2],i[3]=l[3]*u[3],i}},1498:function(a){a.exports=o;function o(i,l){return i[0]=-l[0],i[1]=-l[1],i[2]=-l[2],i[3]=-l[3],i}},5177:function(a){a.exports=o;function o(i,l){var u=l[0],s=l[1],f=l[2],v=l[3],g=u*u+s*s+f*f+v*v;return g>0&&(g=1/Math.sqrt(g),i[0]=u*g,i[1]=s*g,i[2]=f*g,i[3]=v*g),i}},9131:function(a,o,i){var l=i(5177),u=i(9288);a.exports=s;function s(f,v){return v=v||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),l(f,f),u(f,f,v),f}},9288:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]*u,i[1]=l[1]*u,i[2]=l[2]*u,i[3]=l[3]*u,i}},4844:function(a){a.exports=o;function o(i,l,u,s){return i[0]=l[0]+u[0]*s,i[1]=l[1]+u[1]*s,i[2]=l[2]+u[2]*s,i[3]=l[3]+u[3]*s,i}},4578:function(a){a.exports=o;function o(i,l,u,s,f){return i[0]=l,i[1]=u,i[2]=s,i[3]=f,i}},7960:function(a){a.exports=o;function o(i,l){var u=l[0]-i[0],s=l[1]-i[1],f=l[2]-i[2],v=l[3]-i[3];return u*u+s*s+f*f+v*v}},483:function(a){a.exports=o;function o(i){var l=i[0],u=i[1],s=i[2],f=i[3];return l*l+u*u+s*s+f*f}},6860:function(a){a.exports=o;function o(i,l,u){return i[0]=l[0]-u[0],i[1]=l[1]-u[1],i[2]=l[2]-u[2],i[3]=l[3]-u[3],i}},5352:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],g=l[3];return i[0]=u[0]*s+u[4]*f+u[8]*v+u[12]*g,i[1]=u[1]*s+u[5]*f+u[9]*v+u[13]*g,i[2]=u[2]*s+u[6]*f+u[10]*v+u[14]*g,i[3]=u[3]*s+u[7]*f+u[11]*v+u[15]*g,i}},4041:function(a){a.exports=o;function o(i,l,u){var s=l[0],f=l[1],v=l[2],g=u[0],b=u[1],x=u[2],T=u[3],A=T*s+b*v-x*f,m=T*f+x*s-g*v,w=T*v+g*f-b*s,k=-g*s-b*f-x*v;return i[0]=A*T+k*-g+m*-x-w*-b,i[1]=m*T+k*-b+w*-g-A*-x,i[2]=w*T+k*-x+A*-b-m*-g,i[3]=l[3],i}},1848:function(a,o,i){var l=i(4905),u=i(6468);a.exports=s;function s(f){for(var v=Array.isArray(f)?f:l(f),g=0;g<v.length;g++){var b=v[g];if(b.type==="preprocessor"){var x=b.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(x&&x[2]){var T=x[1],A=x[2];return(T?u(A):A).trim()}}}}},5874:function(a,o,i){a.exports=h;var l=i(620),u=i(7827),s=i(6852),f=i(7932),v=i(3508),g=999,b=9999,x=0,T=1,A=2,m=3,w=4,k=5,y=6,M=7,d=8,_=9,p=10,c=11,S=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function h(R){var E=0,D=0,N=g,I,F,L=[],P=[],q=0,U=0,W=1,j=0,$=0,G=!1,O=!1,Z="",ne;R=R||{};var Q=s,ie=l;R.version==="300 es"&&(Q=v,ie=f);for(var ee={},V={},E=0;E<Q.length;E++)ee[Q[E]]=!0;for(var E=0;E<ie.length;E++)V[ie[E]]=!0;return function(ge){return P=[],ge!==null?H(ge):te()};function re(ge){ge.length&&P.push({type:S[N],data:ge,position:$,line:W,column:j})}function H(ge){E=0,ge.toString&&(ge=ge.toString()),Z+=ge.replace(/\r\n/g,`
`),ne=Z.length;for(var Ae;I=Z[E],E<ne;){switch(Ae=E,N){case x:E=ve();break;case T:E=we();break;case A:E=ke();break;case m:E=Me();break;case w:E=Ce();break;case c:E=De();break;case k:E=Oe();break;case b:E=Be();break;case _:E=he();break;case g:E=se();break}if(Ae!==E)switch(Z[Ae]){case`
`:j=0,++W;break;default:++j;break}}return D+=E,Z=Z.slice(E),P}function te(ge){return L.length&&re(L.join("")),N=p,re("(eof)"),P}function se(){return L=L.length?[]:L,F==="/"&&I==="*"?($=D+E-1,N=x,F=I,E+1):F==="/"&&I==="/"?($=D+E-1,N=T,F=I,E+1):I==="#"?(N=A,$=D+E,E):/\s/.test(I)?(N=_,$=D+E,E):(G=/\d/.test(I),O=/[^\w_]/.test(I),$=D+E,N=G?w:O?m:b,E)}function he(){return/[^\s]/g.test(I)?(re(L.join("")),N=g,E):(L.push(I),F=I,E+1)}function ke(){return(I==="\r"||I===`
`)&&F!=="\\"?(re(L.join("")),N=g,E):(L.push(I),F=I,E+1)}function we(){return ke()}function ve(){return I==="/"&&F==="*"?(L.push(I),re(L.join("")),N=g,E+1):(L.push(I),F=I,E+1)}function Me(){if(F==="."&&/\d/.test(I))return N=k,E;if(F==="/"&&I==="*")return N=x,E;if(F==="/"&&I==="/")return N=T,E;if(I==="."&&L.length){for(;Se(L););return N=k,E}if(I===";"||I===")"||I==="("){if(L.length)for(;Se(L););return re(I),N=g,E+1}var ge=L.length===2&&I!=="=";if(/[\w_\d\s]/.test(I)||ge){for(;Se(L););return N=g,E}return L.push(I),F=I,E+1}function Se(ge){var Ae=0,ce,ye;do{if(ce=u.indexOf(ge.slice(0,ge.length+Ae).join("")),ye=u[ce],ce===-1){if(Ae--+ge.length>0)continue;ye=ge.slice(0,1).join("")}return re(ye),$+=ye.length,L=L.slice(ye.length),L.length}while(!0)}function De(){return/[^a-fA-F0-9]/.test(I)?(re(L.join("")),N=g,E):(L.push(I),F=I,E+1)}function Ce(){return I==="."||/[eE]/.test(I)?(L.push(I),N=k,F=I,E+1):I==="x"&&L.length===1&&L[0]==="0"?(N=c,L.push(I),F=I,E+1):/[^\d]/.test(I)?(re(L.join("")),N=g,E):(L.push(I),F=I,E+1)}function Oe(){return I==="f"&&(L.push(I),F=I,E+=1),/[eE]/.test(I)||(I==="-"||I==="+")&&/[eE]/.test(F)?(L.push(I),F=I,E+1):/[^\d]/.test(I)?(re(L.join("")),N=g,E):(L.push(I),F=I,E+1)}function Be(){if(/[^\d\w_]/.test(I)){var ge=L.join("");return V[ge]?N=d:ee[ge]?N=M:N=y,re(L.join("")),N=g,E}return L.push(I),F=I,E+1}}},3508:function(a,o,i){var l=i(6852);l=l.slice().filter(function(u){return!/^(gl\_|texture)/.test(u)}),a.exports=l.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(a){a.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(a,o,i){var l=i(620);a.exports=l.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(a){a.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(a){a.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(a,o,i){var l=i(5874);a.exports=u;function u(s,f){var v=l(f),g=[];return g=g.concat(v(s)),g=g.concat(v(null)),g}},3236:function(a){a.exports=function(o){typeof o=="string"&&(o=[o]);for(var i=[].slice.call(arguments,1),l=[],u=0;u<o.length-1;u++)l.push(o[u],i[u]||"");return l.push(o[u]),l.join("")}},7520:function(a,o,i){"use strict";var l=i(9507);function u(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch(v){s=!1}return s}a.exports=l&&u()},3778:function(a,o){o.read=function(i,l,u,s,f){var v,g,b=f*8-s-1,x=(1<<b)-1,T=x>>1,A=-7,m=u?f-1:0,w=u?-1:1,k=i[l+m];for(m+=w,v=k&(1<<-A)-1,k>>=-A,A+=b;A>0;v=v*256+i[l+m],m+=w,A-=8);for(g=v&(1<<-A)-1,v>>=-A,A+=s;A>0;g=g*256+i[l+m],m+=w,A-=8);if(v===0)v=1-T;else{if(v===x)return g?NaN:(k?-1:1)*(1/0);g=g+Math.pow(2,s),v=v-T}return(k?-1:1)*g*Math.pow(2,v-s)},o.write=function(i,l,u,s,f,v){var g,b,x,T=v*8-f-1,A=(1<<T)-1,m=A>>1,w=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=s?0:v-1,y=s?1:-1,M=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(b=isNaN(l)?1:0,g=A):(g=Math.floor(Math.log(l)/Math.LN2),l*(x=Math.pow(2,-g))<1&&(g--,x*=2),g+m>=1?l+=w/x:l+=w*Math.pow(2,1-m),l*x>=2&&(g++,x/=2),g+m>=A?(b=0,g=A):g+m>=1?(b=(l*x-1)*Math.pow(2,f),g=g+m):(b=l*Math.pow(2,m-1)*Math.pow(2,f),g=0));f>=8;i[u+k]=b&255,k+=y,b/=256,f-=8);for(g=g<<f|b,T+=f;T>0;i[u+k]=g&255,k+=y,g/=256,T-=8);i[u+k-y]|=M*128}},8954:function(a,o,i){"use strict";a.exports=m;var l=i(3250),u=i(6803).Fw;function s(w,k,y){this.vertices=w,this.adjacent=k,this.boundary=y,this.lastVisited=-1}s.prototype.flip=function(){var w=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=w;var k=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=k};function f(w,k,y){this.vertices=w,this.cell=k,this.index=y}function v(w,k){return u(w.vertices,k.vertices)}function g(w){return function(){var k=this.tuple;return w.apply(this,k)}}function b(w){var k=l[w+1];return k||(k=l),g(k)}var x=[];function T(w,k,y){this.dimension=w,this.vertices=k,this.simplices=y,this.interior=y.filter(function(_){return!_.boundary}),this.tuple=new Array(w+1);for(var M=0;M<=w;++M)this.tuple[M]=this.vertices[M];var d=x[w];d||(d=x[w]=b(w)),this.orient=d}var A=T.prototype;A.handleBoundaryDegeneracy=function(w,k){var y=this.dimension,M=this.vertices.length-1,d=this.tuple,_=this.vertices,p=[w];for(w.lastVisited=-M;p.length>0;){w=p.pop();for(var c=w.adjacent,S=0;S<=y;++S){var h=c[S];if(!(!h.boundary||h.lastVisited<=-M)){for(var R=h.vertices,E=0;E<=y;++E){var D=R[E];D<0?d[E]=k:d[E]=_[D]}var N=this.orient();if(N>0)return h;h.lastVisited=-M,N===0&&p.push(h)}}}return null},A.walk=function(w,k){var y=this.vertices.length-1,M=this.dimension,d=this.vertices,_=this.tuple,p=k?this.interior.length*Math.random()|0:this.interior.length-1,c=this.interior[p];e:for(;!c.boundary;){for(var S=c.vertices,h=c.adjacent,R=0;R<=M;++R)_[R]=d[S[R]];c.lastVisited=y;for(var R=0;R<=M;++R){var E=h[R];if(!(E.lastVisited>=y)){var D=_[R];_[R]=w;var N=this.orient();if(_[R]=D,N<0){c=E;continue e}else E.boundary?E.lastVisited=-y:E.lastVisited=y}}return}return c},A.addPeaks=function(w,k){var y=this.vertices.length-1,M=this.dimension,d=this.vertices,_=this.tuple,p=this.interior,c=this.simplices,S=[k];k.lastVisited=y,k.vertices[k.vertices.indexOf(-1)]=y,k.boundary=!1,p.push(k);for(var h=[];S.length>0;){var k=S.pop(),R=k.vertices,E=k.adjacent,D=R.indexOf(y);if(!(D<0)){for(var N=0;N<=M;++N)if(N!==D){var I=E[N];if(!(!I.boundary||I.lastVisited>=y)){var F=I.vertices;if(I.lastVisited!==-y){for(var L=0,P=0;P<=M;++P)F[P]<0?(L=P,_[P]=w):_[P]=d[F[P]];var q=this.orient();if(q>0){F[L]=y,I.boundary=!1,p.push(I),S.push(I),I.lastVisited=y;continue}else I.lastVisited=-y}var U=I.adjacent,W=R.slice(),j=E.slice(),$=new s(W,j,!0);c.push($);var G=U.indexOf(k);if(!(G<0)){U[G]=$,j[D]=I,W[N]=-1,j[N]=k,E[N]=$,$.flip();for(var P=0;P<=M;++P){var O=W[P];if(!(O<0||O===y)){for(var Z=new Array(M-1),ne=0,Q=0;Q<=M;++Q){var ie=W[Q];ie<0||Q===P||(Z[ne++]=ie)}h.push(new f(Z,$,P))}}}}}}}h.sort(v);for(var N=0;N+1<h.length;N+=2){var ee=h[N],V=h[N+1],re=ee.index,H=V.index;re<0||H<0||(ee.cell.adjacent[ee.index]=V.cell,V.cell.adjacent[V.index]=ee.cell)}},A.insert=function(w,k){var y=this.vertices;y.push(w);var M=this.walk(w,k);if(M){for(var d=this.dimension,_=this.tuple,p=0;p<=d;++p){var c=M.vertices[p];c<0?_[p]=w:_[p]=y[c]}var S=this.orient(_);S<0||S===0&&(M=this.handleBoundaryDegeneracy(M,w),!M)||this.addPeaks(w,M)}},A.boundary=function(){for(var w=this.dimension,k=[],y=this.simplices,M=y.length,d=0;d<M;++d){var _=y[d];if(_.boundary){for(var p=new Array(w),c=_.vertices,S=0,h=0,R=0;R<=w;++R)c[R]>=0?p[S++]=c[R]:h=R&1;if(h===(w&1)){var E=p[0];p[0]=p[1],p[1]=E}k.push(p)}}return k};function m(w,k){var y=w.length;if(y===0)throw new Error("Must have at least d+1 points");var M=w[0].length;if(y<=M)throw new Error("Must input at least d+1 points");var d=w.slice(0,M+1),_=l.apply(void 0,d);if(_===0)throw new Error("Input not in general position");for(var p=new Array(M+1),c=0;c<=M;++c)p[c]=c;_<0&&(p[0]=1,p[1]=0);for(var S=new s(p,new Array(M+1),!1),h=S.adjacent,R=new Array(M+2),c=0;c<=M;++c){for(var E=p.slice(),D=0;D<=M;++D)D===c&&(E[D]=-1);var N=E[0];E[0]=E[1],E[1]=N;var I=new s(E,new Array(M+1),!0);h[c]=I,R[c]=I}R[M+1]=S;for(var c=0;c<=M;++c)for(var E=h[c].vertices,F=h[c].adjacent,D=0;D<=M;++D){var L=E[D];if(L<0){F[D]=S;continue}for(var P=0;P<=M;++P)h[P].vertices.indexOf(L)<0&&(F[D]=h[P])}for(var q=new T(M,d,R),U=!!k,c=M+1;c<y;++c)q.insert(w[c],U);return q.boundary()}},3352:function(a,o,i){"use strict";var l=i(2478),u=0,s=1,f=2;a.exports=S;function v(h,R,E,D,N){this.mid=h,this.left=R,this.right=E,this.leftPoints=D,this.rightPoints=N,this.count=(R?R.count:0)+(E?E.count:0)+D.length}var g=v.prototype;function b(h,R){h.mid=R.mid,h.left=R.left,h.right=R.right,h.leftPoints=R.leftPoints,h.rightPoints=R.rightPoints,h.count=R.count}function x(h,R){var E=_(R);h.mid=E.mid,h.left=E.left,h.right=E.right,h.leftPoints=E.leftPoints,h.rightPoints=E.rightPoints,h.count=E.count}function T(h,R){var E=h.intervals([]);E.push(R),x(h,E)}function A(h,R){var E=h.intervals([]),D=E.indexOf(R);return D<0?u:(E.splice(D,1),x(h,E),s)}g.intervals=function(h){return h.push.apply(h,this.leftPoints),this.left&&this.left.intervals(h),this.right&&this.right.intervals(h),h},g.insert=function(h){var R=this.count-this.leftPoints.length;if(this.count+=1,h[1]<this.mid)this.left?4*(this.left.count+1)>3*(R+1)?T(this,h):this.left.insert(h):this.left=_([h]);else if(h[0]>this.mid)this.right?4*(this.right.count+1)>3*(R+1)?T(this,h):this.right.insert(h):this.right=_([h]);else{var E=l.ge(this.leftPoints,h,M),D=l.ge(this.rightPoints,h,d);this.leftPoints.splice(E,0,h),this.rightPoints.splice(D,0,h)}},g.remove=function(h){var R=this.count-this.leftPoints;if(h[1]<this.mid){if(!this.left)return u;var E=this.right?this.right.count:0;if(4*E>3*(R-1))return A(this,h);var D=this.left.remove(h);return D===f?(this.left=null,this.count-=1,s):(D===s&&(this.count-=1),D)}else if(h[0]>this.mid){if(!this.right)return u;var N=this.left?this.left.count:0;if(4*N>3*(R-1))return A(this,h);var D=this.right.remove(h);return D===f?(this.right=null,this.count-=1,s):(D===s&&(this.count-=1),D)}else{if(this.count===1)return this.leftPoints[0]===h?f:u;if(this.leftPoints.length===1&&this.leftPoints[0]===h){if(this.left&&this.right){for(var I=this,F=this.left;F.right;)I=F,F=F.right;if(I===this)F.right=this.right;else{var L=this.left,D=this.right;I.count-=F.count,I.right=F.left,F.left=L,F.right=D}b(this,F),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?b(this,this.left):b(this,this.right);return s}for(var L=l.ge(this.leftPoints,h,M);L<this.leftPoints.length&&this.leftPoints[L][0]===h[0];++L)if(this.leftPoints[L]===h){this.count-=1,this.leftPoints.splice(L,1);for(var D=l.ge(this.rightPoints,h,d);D<this.rightPoints.length&&this.rightPoints[D][1]===h[1];++D)if(this.rightPoints[D]===h)return this.rightPoints.splice(D,1),s}return u}};function m(h,R,E){for(var D=0;D<h.length&&h[D][0]<=R;++D){var N=E(h[D]);if(N)return N}}function w(h,R,E){for(var D=h.length-1;D>=0&&h[D][1]>=R;--D){var N=E(h[D]);if(N)return N}}function k(h,R){for(var E=0;E<h.length;++E){var D=R(h[E]);if(D)return D}}g.queryPoint=function(h,R){if(h<this.mid){if(this.left){var E=this.left.queryPoint(h,R);if(E)return E}return m(this.leftPoints,h,R)}else if(h>this.mid){if(this.right){var E=this.right.queryPoint(h,R);if(E)return E}return w(this.rightPoints,h,R)}else return k(this.leftPoints,R)},g.queryInterval=function(h,R,E){if(h<this.mid&&this.left){var D=this.left.queryInterval(h,R,E);if(D)return D}if(R>this.mid&&this.right){var D=this.right.queryInterval(h,R,E);if(D)return D}return R<this.mid?m(this.leftPoints,R,E):h>this.mid?w(this.rightPoints,h,E):k(this.leftPoints,E)};function y(h,R){return h-R}function M(h,R){var E=h[0]-R[0];return E||h[1]-R[1]}function d(h,R){var E=h[1]-R[1];return E||h[0]-R[0]}function _(h){if(h.length===0)return null;for(var R=[],E=0;E<h.length;++E)R.push(h[E][0],h[E][1]);R.sort(y);for(var D=R[R.length>>1],N=[],I=[],F=[],E=0;E<h.length;++E){var L=h[E];L[1]<D?N.push(L):D<L[0]?I.push(L):F.push(L)}var P=F,q=F.slice();return P.sort(M),q.sort(d),new v(D,_(N),_(I),P,q)}function p(h){this.root=h}var c=p.prototype;c.insert=function(h){this.root?this.root.insert(h):this.root=new v(h[0],null,null,[h],[h])},c.remove=function(h){if(this.root){var R=this.root.remove(h);return R===f&&(this.root=null),R!==u}return!1},c.queryPoint=function(h,R){if(this.root)return this.root.queryPoint(h,R)},c.queryInterval=function(h,R,E){if(h<=R&&this.root)return this.root.queryInterval(h,R,E)},Object.defineProperty(c,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(c,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function S(h){return!h||h.length===0?new p(null):new p(_(h))}},7762:function(a){"use strict";function o(i){for(var l=new Array(i),u=0;u<i;++u)l[u]=u;return l}a.exports=o},9507:function(a){a.exports=!0},7163:function(a){a.exports=function(l){return l!=null&&(o(l)||i(l)||!!l._isBuffer)};function o(l){return!!l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}function i(l){return typeof l.readFloatLE=="function"&&typeof l.slice=="function"&&o(l.slice(0,0))}},5219:function(a){"use strict";a.exports=function(o){for(var i=o.length,l,u=0;u<i;u++)if(l=o.charCodeAt(u),(l<9||l>13)&&l!==32&&l!==133&&l!==160&&l!==5760&&l!==6158&&(l<8192||l>8205)&&l!==8232&&l!==8233&&l!==8239&&l!==8287&&l!==8288&&l!==12288&&l!==65279)return!1;return!0}},395:function(a){function o(i,l,u){return i*(1-u)+l*u}a.exports=o},2652:function(a,o,i){var l=i(4335),u=i(6864),s=i(1903),f=i(9921),v=i(7608),g=i(5665),b={length:i(1387),normalize:i(3536),dot:i(244),cross:i(5911)},x=u(),T=u(),A=[0,0,0,0],m=[[0,0,0],[0,0,0],[0,0,0]],w=[0,0,0];a.exports=function(_,p,c,S,h,R){if(p||(p=[0,0,0]),c||(c=[0,0,0]),S||(S=[0,0,0]),h||(h=[0,0,0,1]),R||(R=[0,0,0,1]),!l(x,_)||(s(T,x),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(f(T)<1e-8)))return!1;var E=x[3],D=x[7],N=x[11],I=x[12],F=x[13],L=x[14],P=x[15];if(E!==0||D!==0||N!==0){A[0]=E,A[1]=D,A[2]=N,A[3]=P;var q=v(T,T);if(!q)return!1;g(T,T),k(h,A,T)}else h[0]=h[1]=h[2]=0,h[3]=1;if(p[0]=I,p[1]=F,p[2]=L,y(m,x),c[0]=b.length(m[0]),b.normalize(m[0],m[0]),S[0]=b.dot(m[0],m[1]),M(m[1],m[1],m[0],1,-S[0]),c[1]=b.length(m[1]),b.normalize(m[1],m[1]),S[0]/=c[1],S[1]=b.dot(m[0],m[2]),M(m[2],m[2],m[0],1,-S[1]),S[2]=b.dot(m[1],m[2]),M(m[2],m[2],m[1],1,-S[2]),c[2]=b.length(m[2]),b.normalize(m[2],m[2]),S[1]/=c[2],S[2]/=c[2],b.cross(w,m[1],m[2]),b.dot(m[0],w)<0)for(var U=0;U<3;U++)c[U]*=-1,m[U][0]*=-1,m[U][1]*=-1,m[U][2]*=-1;return R[0]=.5*Math.sqrt(Math.max(1+m[0][0]-m[1][1]-m[2][2],0)),R[1]=.5*Math.sqrt(Math.max(1-m[0][0]+m[1][1]-m[2][2],0)),R[2]=.5*Math.sqrt(Math.max(1-m[0][0]-m[1][1]+m[2][2],0)),R[3]=.5*Math.sqrt(Math.max(1+m[0][0]+m[1][1]+m[2][2],0)),m[2][1]>m[1][2]&&(R[0]=-R[0]),m[0][2]>m[2][0]&&(R[1]=-R[1]),m[1][0]>m[0][1]&&(R[2]=-R[2]),!0};function k(d,_,p){var c=_[0],S=_[1],h=_[2],R=_[3];return d[0]=p[0]*c+p[4]*S+p[8]*h+p[12]*R,d[1]=p[1]*c+p[5]*S+p[9]*h+p[13]*R,d[2]=p[2]*c+p[6]*S+p[10]*h+p[14]*R,d[3]=p[3]*c+p[7]*S+p[11]*h+p[15]*R,d}function y(d,_){d[0][0]=_[0],d[0][1]=_[1],d[0][2]=_[2],d[1][0]=_[4],d[1][1]=_[5],d[1][2]=_[6],d[2][0]=_[8],d[2][1]=_[9],d[2][2]=_[10]}function M(d,_,p,c,S){d[0]=_[0]*c+p[0]*S,d[1]=_[1]*c+p[1]*S,d[2]=_[2]*c+p[2]*S}},4335:function(a){a.exports=function(i,l){var u=l[15];if(u===0)return!1;for(var s=1/u,f=0;f<16;f++)i[f]=l[f]*s;return!0}},7442:function(a,o,i){var l=i(6658),u=i(7182),s=i(2652),f=i(9921),v=i(8648),g=A(),b=A(),x=A();a.exports=T;function T(k,y,M,d){if(f(y)===0||f(M)===0)return!1;var _=s(y,g.translate,g.scale,g.skew,g.perspective,g.quaternion),p=s(M,b.translate,b.scale,b.skew,b.perspective,b.quaternion);return!_||!p?!1:(l(x.translate,g.translate,b.translate,d),l(x.skew,g.skew,b.skew,d),l(x.scale,g.scale,b.scale,d),l(x.perspective,g.perspective,b.perspective,d),v(x.quaternion,g.quaternion,b.quaternion,d),u(k,x.translate,x.scale,x.skew,x.perspective,x.quaternion),!0)}function A(){return{translate:m(),scale:m(1),skew:m(),perspective:w(),quaternion:w()}}function m(k){return[k||0,k||0,k||0]}function w(){return[0,0,0,1]}},7182:function(a,o,i){var l={identity:i(7894),translate:i(7656),multiply:i(6760),create:i(6864),scale:i(2504),fromRotationTranslation:i(6743)},u=l.create(),s=l.create();a.exports=function(v,g,b,x,T,A){return l.identity(v),l.fromRotationTranslation(v,A,g),v[3]=T[0],v[7]=T[1],v[11]=T[2],v[15]=T[3],l.identity(s),x[2]!==0&&(s[9]=x[2],l.multiply(v,v,s)),x[1]!==0&&(s[9]=0,s[8]=x[1],l.multiply(v,v,s)),x[0]!==0&&(s[8]=0,s[4]=x[0],l.multiply(v,v,s)),l.scale(v,v,b),v}},4192:function(a,o,i){"use strict";var l=i(2478),u=i(7442),s=i(7608),f=i(5567),v=i(2408),g=i(7089),b=i(6582),x=i(7656),T=i(2504),A=i(3536),m=[0,0,0];a.exports=M;function w(d){this._components=d.slice(),this._time=[0],this.prevMatrix=d.slice(),this.nextMatrix=d.slice(),this.computedMatrix=d.slice(),this.computedInverse=d.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var k=w.prototype;k.recalcMatrix=function(d){var _=this._time,p=l.le(_,d),c=this.computedMatrix;if(!(p<0)){var S=this._components;if(p===_.length-1)for(var h=16*p,R=0;R<16;++R)c[R]=S[h++];else{for(var E=_[p+1]-_[p],h=16*p,D=this.prevMatrix,N=!0,R=0;R<16;++R)D[R]=S[h++];for(var I=this.nextMatrix,R=0;R<16;++R)I[R]=S[h++],N=N&&D[R]===I[R];if(E<1e-6||N)for(var R=0;R<16;++R)c[R]=D[R];else u(c,D,I,(d-_[p])/E)}var F=this.computedUp;F[0]=c[1],F[1]=c[5],F[2]=c[9],A(F,F);var L=this.computedInverse;s(L,c);var P=this.computedEye,q=L[15];P[0]=L[12]/q,P[1]=L[13]/q,P[2]=L[14]/q;for(var U=this.computedCenter,W=Math.exp(this.computedRadius[0]),R=0;R<3;++R)U[R]=P[R]-c[2+4*R]*W}},k.idle=function(d){if(!(d<this.lastT())){for(var _=this._components,p=_.length-16,c=0;c<16;++c)_.push(_[p++]);this._time.push(d)}},k.flush=function(d){var _=l.gt(this._time,d)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},k.lastT=function(){return this._time[this._time.length-1]},k.lookAt=function(d,_,p,c){this.recalcMatrix(d),_=_||this.computedEye,p=p||m,c=c||this.computedUp,this.setMatrix(d,b(this.computedMatrix,_,p,c));for(var S=0,h=0;h<3;++h)S+=Math.pow(p[h]-_[h],2);S=Math.log(Math.sqrt(S)),this.computedRadius[0]=S},k.rotate=function(d,_,p,c){this.recalcMatrix(d);var S=this.computedInverse;_&&v(S,S,_),p&&f(S,S,p),c&&g(S,S,c),this.setMatrix(d,s(this.computedMatrix,S))};var y=[0,0,0];k.pan=function(d,_,p,c){y[0]=-(_||0),y[1]=-(p||0),y[2]=-(c||0),this.recalcMatrix(d);var S=this.computedInverse;x(S,S,y),this.setMatrix(d,s(S,S))},k.translate=function(d,_,p,c){y[0]=_||0,y[1]=p||0,y[2]=c||0,this.recalcMatrix(d);var S=this.computedMatrix;x(S,S,y),this.setMatrix(d,S)},k.setMatrix=function(d,_){if(!(d<this.lastT())){this._time.push(d);for(var p=0;p<16;++p)this._components.push(_[p])}},k.setDistance=function(d,_){this.computedRadius[0]=_},k.setDistanceLimits=function(d,_){var p=this._limits;p[0]=d,p[1]=_},k.getDistanceLimits=function(d){var _=this._limits;return d?(d[0]=_[0],d[1]=_[1],d):_};function M(d){d=d||{};var _=d.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new w(_)}},3090:function(a,o,i){"use strict";a.exports=u;var l=i(3250)[3];function u(s){var f=s.length;if(f<3){for(var w=new Array(f),v=0;v<f;++v)w[v]=v;return f===2&&s[0][0]===s[1][0]&&s[0][1]===s[1][1]?[0]:w}for(var g=new Array(f),v=0;v<f;++v)g[v]=v;g.sort(function(d,_){var p=s[d][0]-s[_][0];return p||s[d][1]-s[_][1]});for(var b=[g[0],g[1]],x=[g[0],g[1]],v=2;v<f;++v){for(var T=g[v],A=s[T],m=b.length;m>1&&l(s[b[m-2]],s[b[m-1]],A)<=0;)m-=1,b.pop();for(b.push(T),m=x.length;m>1&&l(s[x[m-2]],s[x[m-1]],A)>=0;)m-=1,x.pop();x.push(T)}for(var w=new Array(x.length+b.length-2),k=0,v=0,y=b.length;v<y;++v)w[k++]=b[v];for(var M=x.length-2;M>0;--M)w[k++]=x[M];return w}},351:function(a,o,i){"use strict";a.exports=u;var l=i(4687);function u(s,f){f||(f=s,s=window);var v=0,g=0,b=0,x={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function A(h){var R=!1;return"altKey"in h&&(R=R||h.altKey!==x.alt,x.alt=!!h.altKey),"shiftKey"in h&&(R=R||h.shiftKey!==x.shift,x.shift=!!h.shiftKey),"ctrlKey"in h&&(R=R||h.ctrlKey!==x.control,x.control=!!h.ctrlKey),"metaKey"in h&&(R=R||h.metaKey!==x.meta,x.meta=!!h.metaKey),R}function m(h,R){var E=l.x(R),D=l.y(R);"buttons"in R&&(h=R.buttons|0),(h!==v||E!==g||D!==b||A(R))&&(v=h|0,g=E||0,b=D||0,f&&f(v,g,b,x))}function w(h){m(0,h)}function k(){(v||g||b||x.shift||x.alt||x.meta||x.control)&&(g=b=0,v=0,x.shift=x.alt=x.control=x.meta=!1,f&&f(0,0,0,x))}function y(h){A(h)&&f&&f(v,g,b,x)}function M(h){l.buttons(h)===0?m(0,h):m(v,h)}function d(h){m(v|l.buttons(h),h)}function _(h){m(v&~l.buttons(h),h)}function p(){T||(T=!0,s.addEventListener("mousemove",M),s.addEventListener("mousedown",d),s.addEventListener("mouseup",_),s.addEventListener("mouseleave",w),s.addEventListener("mouseenter",w),s.addEventListener("mouseout",w),s.addEventListener("mouseover",w),s.addEventListener("blur",k),s.addEventListener("keyup",y),s.addEventListener("keydown",y),s.addEventListener("keypress",y),s!==window&&(window.addEventListener("blur",k),window.addEventListener("keyup",y),window.addEventListener("keydown",y),window.addEventListener("keypress",y)))}function c(){T&&(T=!1,s.removeEventListener("mousemove",M),s.removeEventListener("mousedown",d),s.removeEventListener("mouseup",_),s.removeEventListener("mouseleave",w),s.removeEventListener("mouseenter",w),s.removeEventListener("mouseout",w),s.removeEventListener("mouseover",w),s.removeEventListener("blur",k),s.removeEventListener("keyup",y),s.removeEventListener("keydown",y),s.removeEventListener("keypress",y),s!==window&&(window.removeEventListener("blur",k),window.removeEventListener("keyup",y),window.removeEventListener("keydown",y),window.removeEventListener("keypress",y)))}p();var S={element:s};return Object.defineProperties(S,{enabled:{get:function(){return T},set:function(h){h?p():c()},enumerable:!0},buttons:{get:function(){return v},enumerable:!0},x:{get:function(){return g},enumerable:!0},y:{get:function(){return b},enumerable:!0},mods:{get:function(){return x},enumerable:!0}}),S}},24:function(a){var o={left:0,top:0};a.exports=i;function i(u,s,f){s=s||u.currentTarget||u.srcElement,Array.isArray(f)||(f=[0,0]);var v=u.clientX||0,g=u.clientY||0,b=l(s);return f[0]=v-b.left,f[1]=g-b.top,f}function l(u){return u===window||u===document||u===document.body?o:u.getBoundingClientRect()}},4687:function(a,o){"use strict";function i(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var v=f.which;if(v===2)return 4;if(v===3)return 2;if(v>0)return 1<<v-1}else if("button"in f){var v=f.button;if(v===1)return 4;if(v===2)return 2;if(v>=0)return 1<<v}}return 0}o.buttons=i;function l(f){return f.target||f.srcElement||window}o.element=l;function u(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var v=l(f),g=v.getBoundingClientRect();return f.clientX-g.left}return 0}o.x=u;function s(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var v=l(f),g=v.getBoundingClientRect();return f.clientY-g.top}return 0}o.y=s},8512:function(a,o,i){"use strict";var l=i(665);a.exports=u;function u(s,f,v){typeof s=="function"&&(v=!!f,f=s,s=window);var g=l("ex",s),b=function(x){v&&x.preventDefault();var T=x.deltaX||0,A=x.deltaY||0,m=x.deltaZ||0,w=x.deltaMode,k=1;switch(w){case 1:k=g;break;case 2:k=window.innerHeight;break}if(T*=k,A*=k,m*=k,T||A||m)return f(T,A,m,x)};return s.addEventListener("wheel",b),b}},2640:function(a,o,i){"use strict";var l=i(1888);a.exports=f;var u={"false,0,1":function(g,b,x,T,A){return function(w,k,y,M){var d=w.shape[0]|0,_=w.shape[1]|0,p=w.data,c=w.offset|0,S=w.stride[0]|0,h=w.stride[1]|0,R=c,E,D=-S|0,N=0,I=-h|0,F=0,L=-S-h|0,P=0,q=S|0,U=h-S*d|0,W=0,j=0,$=0,G=2*d|0,O=T(G),Z=T(G),ne=0,Q=0,ie=-1,ee=-1,V=0,re=-d|0,H=d|0,te=0,se=-d-1|0,he=d-1|0,ke=0,we=0,ve=0;for(W=0;W<d;++W)O[ne++]=x(p[R],k,y,M),R+=q;if(R+=U,_>0){if(j=1,O[ne++]=x(p[R],k,y,M),R+=q,d>0)for(W=1,E=p[R],Q=O[ne]=x(E,k,y,M),V=O[ne+ie],te=O[ne+re],ke=O[ne+se],(Q!==V||Q!==te||Q!==ke)&&(N=p[R+D],F=p[R+I],P=p[R+L],g(W,j,E,N,F,P,Q,V,te,ke,k,y,M),we=Z[ne]=$++),ne+=1,R+=q,W=2;W<d;++W)E=p[R],Q=O[ne]=x(E,k,y,M),V=O[ne+ie],te=O[ne+re],ke=O[ne+se],(Q!==V||Q!==te||Q!==ke)&&(N=p[R+D],F=p[R+I],P=p[R+L],g(W,j,E,N,F,P,Q,V,te,ke,k,y,M),we=Z[ne]=$++,ke!==V&&b(Z[ne+ie],we,P,N,ke,V,k,y,M)),ne+=1,R+=q;for(R+=U,ne=0,ve=ie,ie=ee,ee=ve,ve=re,re=H,H=ve,ve=se,se=he,he=ve,j=2;j<_;++j){if(O[ne++]=x(p[R],k,y,M),R+=q,d>0)for(W=1,E=p[R],Q=O[ne]=x(E,k,y,M),V=O[ne+ie],te=O[ne+re],ke=O[ne+se],(Q!==V||Q!==te||Q!==ke)&&(N=p[R+D],F=p[R+I],P=p[R+L],g(W,j,E,N,F,P,Q,V,te,ke,k,y,M),we=Z[ne]=$++,ke!==te&&b(Z[ne+re],we,F,P,te,ke,k,y,M)),ne+=1,R+=q,W=2;W<d;++W)E=p[R],Q=O[ne]=x(E,k,y,M),V=O[ne+ie],te=O[ne+re],ke=O[ne+se],(Q!==V||Q!==te||Q!==ke)&&(N=p[R+D],F=p[R+I],P=p[R+L],g(W,j,E,N,F,P,Q,V,te,ke,k,y,M),we=Z[ne]=$++,ke!==te&&b(Z[ne+re],we,F,P,te,ke,k,y,M),ke!==V&&b(Z[ne+ie],we,P,N,ke,V,k,y,M)),ne+=1,R+=q;j&1&&(ne=0),ve=ie,ie=ee,ee=ve,ve=re,re=H,H=ve,ve=se,se=he,he=ve,R+=U}}A(Z),A(O)}},"false,1,0":function(g,b,x,T,A){return function(w,k,y,M){var d=w.shape[0]|0,_=w.shape[1]|0,p=w.data,c=w.offset|0,S=w.stride[0]|0,h=w.stride[1]|0,R=c,E,D=-S|0,N=0,I=-h|0,F=0,L=-S-h|0,P=0,q=h|0,U=S-h*_|0,W=0,j=0,$=0,G=2*_|0,O=T(G),Z=T(G),ne=0,Q=0,ie=-1,ee=-1,V=0,re=-_|0,H=_|0,te=0,se=-_-1|0,he=_-1|0,ke=0,we=0,ve=0;for(j=0;j<_;++j)O[ne++]=x(p[R],k,y,M),R+=q;if(R+=U,d>0){if(W=1,O[ne++]=x(p[R],k,y,M),R+=q,_>0)for(j=1,E=p[R],Q=O[ne]=x(E,k,y,M),te=O[ne+re],V=O[ne+ie],ke=O[ne+se],(Q!==te||Q!==V||Q!==ke)&&(N=p[R+D],F=p[R+I],P=p[R+L],g(W,j,E,N,F,P,Q,te,V,ke,k,y,M),we=Z[ne]=$++),ne+=1,R+=q,j=2;j<_;++j)E=p[R],Q=O[ne]=x(E,k,y,M),te=O[ne+re],V=O[ne+ie],ke=O[ne+se],(Q!==te||Q!==V||Q!==ke)&&(N=p[R+D],F=p[R+I],P=p[R+L],g(W,j,E,N,F,P,Q,te,V,ke,k,y,M),we=Z[ne]=$++,ke!==V&&b(Z[ne+ie],we,F,P,V,ke,k,y,M)),ne+=1,R+=q;for(R+=U,ne=0,ve=re,re=H,H=ve,ve=ie,ie=ee,ee=ve,ve=se,se=he,he=ve,W=2;W<d;++W){if(O[ne++]=x(p[R],k,y,M),R+=q,_>0)for(j=1,E=p[R],Q=O[ne]=x(E,k,y,M),te=O[ne+re],V=O[ne+ie],ke=O[ne+se],(Q!==te||Q!==V||Q!==ke)&&(N=p[R+D],F=p[R+I],P=p[R+L],g(W,j,E,N,F,P,Q,te,V,ke,k,y,M),we=Z[ne]=$++,ke!==te&&b(Z[ne+re],we,P,N,ke,te,k,y,M)),ne+=1,R+=q,j=2;j<_;++j)E=p[R],Q=O[ne]=x(E,k,y,M),te=O[ne+re],V=O[ne+ie],ke=O[ne+se],(Q!==te||Q!==V||Q!==ke)&&(N=p[R+D],F=p[R+I],P=p[R+L],g(W,j,E,N,F,P,Q,te,V,ke,k,y,M),we=Z[ne]=$++,ke!==V&&b(Z[ne+ie],we,F,P,V,ke,k,y,M),ke!==te&&b(Z[ne+re],we,P,N,ke,te,k,y,M)),ne+=1,R+=q;W&1&&(ne=0),ve=re,re=H,H=ve,ve=ie,ie=ee,ee=ve,ve=se,se=he,he=ve,R+=U}}A(Z),A(O)}}};function s(v,g,b,x,T,A){var m=[A,T].join(","),w=u[m];return w(v,g,b,l.mallocUint32,l.freeUint32)}function f(v){function g(k){throw new Error("ndarray-extract-contour: "+k)}typeof v!="object"&&g("Must specify arguments");var b=v.order;Array.isArray(b)||g("Must specify order");var x=v.arrayArguments||1;x<1&&g("Must have at least one array argument");var T=v.scalarArguments||0;T<0&&g("Scalar arg count must be > 0"),typeof v.vertex!="function"&&g("Must specify vertex creation function"),typeof v.cell!="function"&&g("Must specify cell creation function"),typeof v.phase!="function"&&g("Must specify phase function");for(var A=v.getters||[],m=new Array(x),w=0;w<x;++w)A.indexOf(w)>=0?m[w]=!0:m[w]=!1;return s(v.vertex,v.cell,v.phase,T,b,m)}},6199:function(a,o,i){"use strict";var l=i(1338),u={zero:function(M,d,_,p){var c=M[0],S=_[0];p|=0;var h=0,R=S;for(h=0;h<c;++h)d[p]=0,p+=R},fdTemplate1:function(M,d,_,p,c,S,h){var R=M[0],E=_[0],D=S[0],N=-1*E,I=E;p|=0,h|=0;var F=0,L=E,P=D;for(F=0;F<R;++F)c[h]=.5*(d[p+N]-d[p+I]),p+=L,h+=P},fdTemplate2:function(M,d,_,p,c,S,h,R,E,D){var N=M[0],I=M[1],F=_[0],L=_[1],P=S[0],q=S[1],U=E[0],W=E[1],j=-1*F,$=F,G=-1*L,O=L;p|=0,h|=0,D|=0;var Z=0,ne=0,Q=L,ie=F-I*L,ee=q,V=P-I*q,re=W,H=U-I*W;for(ne=0;ne<N;++ne){for(Z=0;Z<I;++Z)c[h]=.5*(d[p+j]-d[p+$]),R[D]=.5*(d[p+G]-d[p+O]),p+=Q,h+=ee,D+=re;p+=ie,h+=V,D+=H}}},s={cdiff:function(M){var d={};return function(p,c,S){var h=p.dtype,R=p.order,E=c.dtype,D=c.order,N=S.dtype,I=S.order,F=[h,R.join(),E,D.join(),N,I.join()].join(),L=d[F];return L||(d[F]=L=M([h,R,E,D,N,I])),L(p.shape.slice(0),p.data,p.stride,p.offset|0,c.data,c.stride,c.offset|0,S.data,S.stride,S.offset|0)}},zero:function(M){var d={};return function(p){var c=p.dtype,S=p.order,h=[c,S.join()].join(),R=d[h];return R||(d[h]=R=M([c,S])),R(p.shape.slice(0),p.data,p.stride,p.offset|0)}},fdTemplate1:function(M){var d={};return function(p,c){var S=p.dtype,h=p.order,R=c.dtype,E=c.order,D=[S,h.join(),R,E.join()].join(),N=d[D];return N||(d[D]=N=M([S,h,R,E])),N(p.shape.slice(0),p.data,p.stride,p.offset|0,c.data,c.stride,c.offset|0)}},fdTemplate2:function(M){var d={};return function(p,c,S){var h=p.dtype,R=p.order,E=c.dtype,D=c.order,N=S.dtype,I=S.order,F=[h,R.join(),E,D.join(),N,I.join()].join(),L=d[F];return L||(d[F]=L=M([h,R,E,D,N,I])),L(p.shape.slice(0),p.data,p.stride,p.offset|0,c.data,c.stride,c.offset|0,S.data,S.stride,S.offset|0)}}};function f(M){var d=s[M.funcName];return d(v.bind(void 0,M))}function v(M){return u[M.funcName]}function g(M){return f({funcName:M.funcName})}var b={},x={},T={body:"",args:[],thisVars:[],localVars:[]},A=g({funcName:"cdiff"}),m=g({funcName:"zero"});function w(M){return M in b?b[M]:b[M]=g({funcName:"fdTemplate"+M})}function k(M,d,_,p){return function(c,S){var h=S.shape.slice();return h[0]>2&&h[1]>2&&p(S.pick(-1,-1).lo(1,1).hi(h[0]-2,h[1]-2),c.pick(-1,-1,0).lo(1,1).hi(h[0]-2,h[1]-2),c.pick(-1,-1,1).lo(1,1).hi(h[0]-2,h[1]-2)),h[1]>2&&(_(S.pick(0,-1).lo(1).hi(h[1]-2),c.pick(0,-1,1).lo(1).hi(h[1]-2)),d(c.pick(0,-1,0).lo(1).hi(h[1]-2))),h[1]>2&&(_(S.pick(h[0]-1,-1).lo(1).hi(h[1]-2),c.pick(h[0]-1,-1,1).lo(1).hi(h[1]-2)),d(c.pick(h[0]-1,-1,0).lo(1).hi(h[1]-2))),h[0]>2&&(_(S.pick(-1,0).lo(1).hi(h[0]-2),c.pick(-1,0,0).lo(1).hi(h[0]-2)),d(c.pick(-1,0,1).lo(1).hi(h[0]-2))),h[0]>2&&(_(S.pick(-1,h[1]-1).lo(1).hi(h[0]-2),c.pick(-1,h[1]-1,0).lo(1).hi(h[0]-2)),d(c.pick(-1,h[1]-1,1).lo(1).hi(h[0]-2))),c.set(0,0,0,0),c.set(0,0,1,0),c.set(h[0]-1,0,0,0),c.set(h[0]-1,0,1,0),c.set(0,h[1]-1,0,0),c.set(0,h[1]-1,1,0),c.set(h[0]-1,h[1]-1,0,0),c.set(h[0]-1,h[1]-1,1,0),c}}function y(M){var d=M.join(),h=x[d];if(h)return h;for(var _=M.length,p=[A,m],c=1;c<=_;++c)p.push(w(c));var S=k,h=S.apply(void 0,p);return x[d]=h,h}a.exports=function(d,_,p){if(Array.isArray(p)||(typeof p=="string"?p=l(_.dimension,p):p=l(_.dimension,"clamp")),_.size===0)return d;if(_.dimension===0)return d.set(0),d;var c=y(p);return c(d,_)}},4317:function(a){"use strict";function o(f,v){var g=Math.floor(v),b=v-g,x=0<=g&&g<f.shape[0],T=0<=g+1&&g+1<f.shape[0],A=x?+f.get(g):0,m=T?+f.get(g+1):0;return(1-b)*A+b*m}function i(f,v,g){var b=Math.floor(v),x=v-b,T=0<=b&&b<f.shape[0],A=0<=b+1&&b+1<f.shape[0],m=Math.floor(g),w=g-m,k=0<=m&&m<f.shape[1],y=0<=m+1&&m+1<f.shape[1],M=T&&k?f.get(b,m):0,d=T&&y?f.get(b,m+1):0,_=A&&k?f.get(b+1,m):0,p=A&&y?f.get(b+1,m+1):0;return(1-w)*((1-x)*M+x*_)+w*((1-x)*d+x*p)}function l(f,v,g,b){var x=Math.floor(v),T=v-x,A=0<=x&&x<f.shape[0],m=0<=x+1&&x+1<f.shape[0],w=Math.floor(g),k=g-w,y=0<=w&&w<f.shape[1],M=0<=w+1&&w+1<f.shape[1],d=Math.floor(b),_=b-d,p=0<=d&&d<f.shape[2],c=0<=d+1&&d+1<f.shape[2],S=A&&y&&p?f.get(x,w,d):0,h=A&&M&&p?f.get(x,w+1,d):0,R=m&&y&&p?f.get(x+1,w,d):0,E=m&&M&&p?f.get(x+1,w+1,d):0,D=A&&y&&c?f.get(x,w,d+1):0,N=A&&M&&c?f.get(x,w+1,d+1):0,I=m&&y&&c?f.get(x+1,w,d+1):0,F=m&&M&&c?f.get(x+1,w+1,d+1):0;return(1-_)*((1-k)*((1-T)*S+T*R)+k*((1-T)*h+T*E))+_*((1-k)*((1-T)*D+T*I)+k*((1-T)*N+T*F))}function u(f){var v=f.shape.length|0,g=new Array(v),b=new Array(v),x=new Array(v),T=new Array(v),A,m;for(A=0;A<v;++A)m=+arguments[A+1],g[A]=Math.floor(m),b[A]=m-g[A],x[A]=0<=g[A]&&g[A]<f.shape[A],T[A]=0<=g[A]+1&&g[A]+1<f.shape[A];var w=0,k,y,M;e:for(A=0;A<1<<v;++A){for(y=1,M=f.offset,k=0;k<v;++k)if(A&1<<k){if(!T[k])continue e;y*=b[k],M+=f.stride[k]*(g[k]+1)}else{if(!x[k])continue e;y*=1-b[k],M+=f.stride[k]*g[k]}w+=y*f.data[M]}return w}function s(f,v,g,b){switch(f.shape.length){case 0:return 0;case 1:return o(f,v);case 2:return i(f,v,g);case 3:return l(f,v,g,b);default:return u.apply(void 0,arguments)}}a.exports=s,a.exports.d1=o,a.exports.d2=i,a.exports.d3=l},5298:function(a,o){"use strict";var i={"float64,2,1,0":function(){return function(x,T,A,m,w){var k=x[0],y=x[1],M=x[2],d=A[0],_=A[1],p=A[2];m|=0;var c=0,S=0,h=0,R=p,E=_-M*p,D=d-y*_;for(h=0;h<k;++h){for(S=0;S<y;++S){for(c=0;c<M;++c)T[m]/=w,m+=R;m+=E}m+=D}}},"uint8,2,0,1,float64,2,1,0":function(){return function(x,T,A,m,w,k,y,M){var d=x[0],_=x[1],p=x[2],c=A[0],S=A[1],h=A[2],R=k[0],E=k[1],D=k[2];m|=0,y|=0;for(var N=m,I=y,F=x[0]|0;F>0;){F<64?(d=F,F=0):(d=64,F-=64);for(var L=x[1]|0;L>0;){L<64?(_=L,L=0):(_=64,L-=64),m=N+F*c+L*S,y=I+F*R+L*E;var P=0,q=0,U=0,W=h,j=c-p*h,$=S-d*c,G=D,O=R-p*D,Z=E-d*R;for(U=0;U<_;++U){for(q=0;q<d;++q){for(P=0;P<p;++P)T[m]=w[y]*M,m+=W,y+=G;m+=j,y+=O}m+=$,y+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(x,T,A,m,w,k,y){var M=x[0],d=x[1],_=A[0],p=A[1],c=k[0],S=k[1];m|=0,y|=0;var h=0,R=0,E=p,D=_-d*p,N=S,I=c-d*S;for(R=0;R<M;++R){for(h=0;h<d;++h)T[m]=w[y],m+=E,y+=N;m+=D,y+=I}}},"float32,1,0,float32,0,1":function(){return function(x,T,A,m,w,k,y){var M=x[0],d=x[1],_=A[0],p=A[1],c=k[0],S=k[1];m|=0,y|=0;for(var h=m,R=y,E=x[1]|0;E>0;){E<64?(d=E,E=0):(d=64,E-=64);for(var D=x[0]|0;D>0;){D<64?(M=D,D=0):(M=64,D-=64),m=h+E*p+D*_,y=R+E*S+D*c;var N=0,I=0,F=p,L=_-d*p,P=S,q=c-d*S;for(I=0;I<M;++I){for(N=0;N<d;++N)T[m]=w[y],m+=F,y+=P;m+=L,y+=q}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(x,T,A,m,w,k,y){var M=x[0],d=x[1],_=x[2],p=A[0],c=A[1],S=A[2],h=k[0],R=k[1],E=k[2];m|=0,y|=0;for(var D=m,N=y,I=x[2]|0;I>0;){I<64?(_=I,I=0):(_=64,I-=64);for(var F=x[0]|0;F>0;){F<64?(M=F,F=0):(M=64,F-=64);for(var L=x[1]|0;L>0;){L<64?(d=L,L=0):(d=64,L-=64),m=D+I*S+F*p+L*c,y=N+I*E+F*h+L*R;var P=0,q=0,U=0,W=S,j=p-_*S,$=c-M*p,G=E,O=h-_*E,Z=R-M*h;for(U=0;U<d;++U){for(q=0;q<M;++q){for(P=0;P<_;++P)T[m]=w[y],m+=W,y+=G;m+=j,y+=O}m+=$,y+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(x,T,A,m,w,k,y){var M=x[0],d=x[1],_=x[2],p=A[0],c=A[1],S=A[2],h=k[0],R=k[1],E=k[2];m|=0,y|=0;var D=0,N=0,I=0,F=S,L=p-_*S,P=c-M*p,q=E,U=h-_*E,W=R-M*h;for(I=0;I<d;++I){for(N=0;N<M;++N){for(D=0;D<_;++D)T[m]=w[y],m+=F,y+=q;m+=L,y+=U}m+=P,y+=W}}}};function l(b,x){var T=x.join(","),A=i[T];return A()}var u=l,s={mul:function(b){var x={};return function(A,m,w){var k=A.dtype,y=A.order,M=m.dtype,d=m.order,_=w.dtype,p=w.order,c=[k,y.join(),M,d.join(),_,p.join()].join(),S=x[c];return S||(x[c]=S=b([k,y,M,d,_,p])),S(A.shape.slice(0),A.data,A.stride,A.offset|0,m.data,m.stride,m.offset|0,w.data,w.stride,w.offset|0)}},muls:function(b){var x={};return function(A,m,w){var k=A.dtype,y=A.order,M=m.dtype,d=m.order,_=[k,y.join(),M,d.join()].join(),p=x[_];return p||(x[_]=p=b([k,y,M,d])),p(A.shape.slice(0),A.data,A.stride,A.offset|0,m.data,m.stride,m.offset|0,w)}},mulseq:function(b){var x={};return function(A,m){var w=A.dtype,k=A.order,y=[w,k.join()].join(),M=x[y];return M||(x[y]=M=b([w,k])),M(A.shape.slice(0),A.data,A.stride,A.offset|0,m)}},div:function(b){var x={};return function(A,m,w){var k=A.dtype,y=A.order,M=m.dtype,d=m.order,_=w.dtype,p=w.order,c=[k,y.join(),M,d.join(),_,p.join()].join(),S=x[c];return S||(x[c]=S=b([k,y,M,d,_,p])),S(A.shape.slice(0),A.data,A.stride,A.offset|0,m.data,m.stride,m.offset|0,w.data,w.stride,w.offset|0)}},divs:function(b){var x={};return function(A,m,w){var k=A.dtype,y=A.order,M=m.dtype,d=m.order,_=[k,y.join(),M,d.join()].join(),p=x[_];return p||(x[_]=p=b([k,y,M,d])),p(A.shape.slice(0),A.data,A.stride,A.offset|0,m.data,m.stride,m.offset|0,w)}},divseq:function(b){var x={};return function(A,m){var w=A.dtype,k=A.order,y=[w,k.join()].join(),M=x[y];return M||(x[y]=M=b([w,k])),M(A.shape.slice(0),A.data,A.stride,A.offset|0,m)}},assign:function(b){var x={};return function(A,m){var w=A.dtype,k=A.order,y=m.dtype,M=m.order,d=[w,k.join(),y,M.join()].join(),_=x[d];return _||(x[d]=_=b([w,k,y,M])),_(A.shape.slice(0),A.data,A.stride,A.offset|0,m.data,m.stride,m.offset|0)}}};function f(b){var x=s[b.funcName];return x(u.bind(void 0,b))}function v(b){return f({funcName:b.funcName})}var g={mul:"*",div:"/"};(function(){for(var b in g)o[b]=v({funcName:b}),o[b+"s"]=v({funcName:b+"s"}),o[b+"seq"]=v({funcName:b+"seq"})})(),o.assign=v({funcName:"assign"})},9994:function(a,o,i){"use strict";var l=i(9618),u=i(8277);a.exports=function(f,v){for(var g=[],b=f,x=1;Array.isArray(b);)g.push(b.length),x*=b.length,b=b[0];return g.length===0?l():(v||(v=l(new Float64Array(x),g)),u(v,f),v)}},8277:function(a){"use strict";function o(){return function(v,g,b,x,T){var A=v[0],m=v[1],w=v[2],k=b[0],y=b[1],M=b[2],d=[0,0,0];x|=0;var _=0,p=0,c=0,S=M,h=y-w*M,R=k-m*y;for(c=0;c<A;++c){for(p=0;p<m;++p){for(_=0;_<w;++_){{var E=T,D;for(D=0;D<d.length-1;++D)E=E[d[D]];g[x]=E[d[d.length-1]]}x+=S,++d[2]}x+=h,d[2]-=w,++d[1]}x+=R,d[1]-=m,++d[0]}}}function i(){return o()}var l=i;function u(v){var g={};return function(x,T){var A=x.dtype,m=x.order,w=[A,m.join()].join(),k=g[w];return k||(g[w]=k=v([A,m])),k(x.shape.slice(0),x.data,x.stride,x.offset|0,T)}}function s(v){return u(l.bind(void 0,v))}function f(v){return s({funcName:v.funcName})}a.exports=f({funcName:"convert"})},7640:function(a,o,i){"use strict";var l=i(1888);function u(T){switch(T){case"uint32":return[l.mallocUint32,l.freeUint32];default:return null}}var s={"uint32,1,0":function(T,A){return function(w,k,y,M,d,_,p,c,S,h,R){var E,D,N,I=w*d+M,F,L=T(c),P,q,U,W;for(E=w+1;E<=k;++E){for(D=E,I+=d,N=I,P=0,q=I,F=0;F<c;++F)L[P++]=y[q],q+=S;e:for(;D-- >w;){P=0,q=N-d;r:for(F=0;F<c;++F){if(U=y[q],W=L[P],U<W)break e;if(U>W)break r;q+=h,P+=R}for(P=N,q=N-d,F=0;F<c;++F)y[P]=y[q],P+=S,q+=S;N-=d}for(P=N,q=0,F=0;F<c;++F)y[P]=L[q++],P+=S}A(L)}}};function f(T,A){var m=u(A),w=[A,T].join(","),k=s[w];return m?k(m[0],m[1]):k()}var v={"uint32,1,0":function(T,A,m){return function w(k,y,M,d,_,p,c,S,h,R,E){var D=(y-k+1)/6|0,N=k+D,I=y-D,F=k+y>>1,L=F-D,P=F+D,q=N,U=L,W=F,j=P,$=I,G=k+1,O=y-1,Z=!0,ne,Q,ie,ee,V,re,H,te,se,he=0,ke=0,we=0,ve,Me,Se,De,Ce,Oe,Be,ge,Ae,ce,ye,Le,me,de,be,Ee,ze=S,Fe=A(ze),Je=A(ze);Me=_*q,Se=_*U,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=q,q=U,U=Q;break e}if(we<0)break e;Ee+=R}Me=_*j,Se=_*$,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=j,j=$,$=Q;break e}if(we<0)break e;Ee+=R}Me=_*q,Se=_*W,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=q,q=W,W=Q;break e}if(we<0)break e;Ee+=R}Me=_*U,Se=_*W,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=U,U=W,W=Q;break e}if(we<0)break e;Ee+=R}Me=_*q,Se=_*j,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=q,q=j,j=Q;break e}if(we<0)break e;Ee+=R}Me=_*W,Se=_*j,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=W,W=j,j=Q;break e}if(we<0)break e;Ee+=R}Me=_*U,Se=_*$,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=U,U=$,$=Q;break e}if(we<0)break e;Ee+=R}Me=_*U,Se=_*W,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=U,U=W,W=Q;break e}if(we<0)break e;Ee+=R}Me=_*j,Se=_*$,Ee=d;e:for(ve=0;ve<S;++ve){if(H=Me+Ee,te=Se+Ee,we=M[H]-M[te],we>0){Q=j,j=$,$=Q;break e}if(we<0)break e;Ee+=R}for(Me=_*q,Se=_*U,De=_*W,Ce=_*j,Oe=_*$,Be=_*N,ge=_*F,Ae=_*I,be=0,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,se=De+Ee,ce=Ce+Ee,ye=Oe+Ee,Le=Be+Ee,me=ge+Ee,de=Ae+Ee,Fe[be]=M[te],Je[be]=M[ce],Z=Z&&Fe[be]===Je[be],ie=M[H],ee=M[se],V=M[ye],M[Le]=ie,M[me]=ee,M[de]=V,++be,Ee+=h;for(Me=_*L,Se=_*k,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,M[H]=M[te],Ee+=h;for(Me=_*P,Se=_*y,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,M[H]=M[te],Ee+=h;if(Z)for(re=G;re<=O;++re){H=d+re*_,be=0;e:for(ve=0;ve<S;++ve){if(we=M[H]-Fe[be],we!==0)break e;be+=E,H+=R}if(we!==0)if(we<0){if(re!==G)for(Me=_*re,Se=_*G,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,ne=M[H],M[H]=M[te],M[te]=ne,Ee+=h;++G}else for(;;){H=d+O*_,be=0;e:for(ve=0;ve<S;++ve){if(we=M[H]-Fe[be],we!==0)break e;be+=E,H+=R}if(we>0)O--;else if(we<0){for(Me=_*re,Se=_*G,De=_*O,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,se=De+Ee,ne=M[H],M[H]=M[te],M[te]=M[se],M[se]=ne,Ee+=h;++G,--O;break}else{for(Me=_*re,Se=_*O,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,ne=M[H],M[H]=M[te],M[te]=ne,Ee+=h;--O;break}}}else for(re=G;re<=O;++re){H=d+re*_,be=0;e:for(ve=0;ve<S;++ve){if(he=M[H]-Fe[be],he!==0)break e;be+=E,H+=R}if(he<0){if(re!==G)for(Me=_*re,Se=_*G,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,ne=M[H],M[H]=M[te],M[te]=ne,Ee+=h;++G}else{H=d+re*_,be=0;e:for(ve=0;ve<S;++ve){if(ke=M[H]-Je[be],ke!==0)break e;be+=E,H+=R}if(ke>0)for(;;){H=d+O*_,be=0;e:for(ve=0;ve<S;++ve){if(we=M[H]-Je[be],we!==0)break e;be+=E,H+=R}if(we>0){if(--O<re)break;continue}else{H=d+O*_,be=0;e:for(ve=0;ve<S;++ve){if(we=M[H]-Fe[be],we!==0)break e;be+=E,H+=R}if(we<0){for(Me=_*re,Se=_*G,De=_*O,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,se=De+Ee,ne=M[H],M[H]=M[te],M[te]=M[se],M[se]=ne,Ee+=h;++G,--O}else{for(Me=_*re,Se=_*O,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,ne=M[H],M[H]=M[te],M[te]=ne,Ee+=h;--O}break}}}}for(Me=_*k,Se=_*(G-1),be=0,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,M[H]=M[te],M[te]=Fe[be],++be,Ee+=h;for(Me=_*y,Se=_*(O+1),be=0,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,M[H]=M[te],M[te]=Je[be],++be,Ee+=h;if(G-2-k<=32?T(k,G-2,M,d,_,p,c,S,h,R,E):w(k,G-2,M,d,_,p,c,S,h,R,E),y-(O+2)<=32?T(O+2,y,M,d,_,p,c,S,h,R,E):w(O+2,y,M,d,_,p,c,S,h,R,E),Z){m(Fe),m(Je);return}if(G<N&&O>I){e:for(;;){for(H=d+G*_,be=0,Ee=d,ve=0;ve<S;++ve){if(M[H]!==Fe[be])break e;++be,H+=h}++G}e:for(;;){for(H=d+O*_,be=0,Ee=d,ve=0;ve<S;++ve){if(M[H]!==Je[be])break e;++be,H+=h}--O}for(re=G;re<=O;++re){H=d+re*_,be=0;e:for(ve=0;ve<S;++ve){if(he=M[H]-Fe[be],he!==0)break e;be+=E,H+=R}if(he===0){if(re!==G)for(Me=_*re,Se=_*G,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,ne=M[H],M[H]=M[te],M[te]=ne,Ee+=h;++G}else{H=d+re*_,be=0;e:for(ve=0;ve<S;++ve){if(ke=M[H]-Je[be],ke!==0)break e;be+=E,H+=R}if(ke===0)for(;;){H=d+O*_,be=0;e:for(ve=0;ve<S;++ve){if(we=M[H]-Je[be],we!==0)break e;be+=E,H+=R}if(we===0){if(--O<re)break;continue}else{H=d+O*_,be=0;e:for(ve=0;ve<S;++ve){if(we=M[H]-Fe[be],we!==0)break e;be+=E,H+=R}if(we<0){for(Me=_*re,Se=_*G,De=_*O,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,se=De+Ee,ne=M[H],M[H]=M[te],M[te]=M[se],M[se]=ne,Ee+=h;++G,--O}else{for(Me=_*re,Se=_*O,Ee=d,ve=0;ve<S;++ve)H=Me+Ee,te=Se+Ee,ne=M[H],M[H]=M[te],M[te]=ne,Ee+=h;--O}break}}}}}m(Fe),m(Je),O-G<=32?T(G,O,M,d,_,p,c,S,h,R,E):w(G,O,M,d,_,p,c,S,h,R,E)}}};function g(T,A,m){var w=u(A),k=[A,T].join(","),y=v[k];return T.length>1&&w?y(m,w[0],w[1]):y(m)}var b={"uint32,1,0":function(T,A){return function(m){var w=m.data,k=m.offset|0,y=m.shape,M=m.stride,d=M[0]|0,_=y[0]|0,p=M[1]|0,c=y[1]|0,S=p,h=p,R=1;_<=32?T(0,_-1,w,k,d,p,_,c,S,h,R):A(0,_-1,w,k,d,p,_,c,S,h,R)}}};function x(T,A){var m=[A,T].join(","),w=b[m],k=f(T,A),y=g(T,A,k);return w(k,y)}a.exports=x},446:function(a,o,i){"use strict";var l=i(7640),u={};function s(f){var v=f.order,g=f.dtype,b=[v,g],x=b.join(":"),T=u[x];return T||(u[x]=T=l(v,g)),T(f),f}a.exports=s},9618:function(a,o,i){var l=i(7163),u=typeof Float64Array!="undefined";function s(A,m){return A[0]-m[0]}function f(){var A=this.stride,m=new Array(A.length),w;for(w=0;w<m.length;++w)m[w]=[Math.abs(A[w]),w];m.sort(s);var k=new Array(m.length);for(w=0;w<k.length;++w)k[w]=m[w][1];return k}var v={T:function(A){function m(k){this.data=k}var w=m.prototype;return w.dtype=A,w.index=function(){return-1},w.size=0,w.dimension=-1,w.shape=w.stride=w.order=[],w.lo=w.hi=w.transpose=w.step=function(){return new m(this.data)},w.get=w.set=function(){},w.pick=function(){return null},function(y){return new m(y)}},0:function(A,m){function w(y,M){this.data=y,this.offset=M}var k=w.prototype;return k.dtype=A,k.index=function(){return this.offset},k.dimension=0,k.size=1,k.shape=k.stride=k.order=[],k.lo=k.hi=k.transpose=k.step=function(){return new w(this.data,this.offset)},k.pick=function(){return m(this.data)},k.valueOf=k.get=function(){return A==="generic"?this.data.get(this.offset):this.data[this.offset]},k.set=function(M){return A==="generic"?this.data.set(this.offset,M):this.data[this.offset]=M},function(M,d,_,p){return new w(M,p)}},1:function(A,m,w){function k(M,d,_,p){this.data=M,this.shape=[d],this.stride=[_],this.offset=p|0}var y=k.prototype;return y.dtype=A,y.dimension=1,Object.defineProperty(y,"size",{get:function(){return this.shape[0]}}),y.order=[0],y.set=function(d,_){return A==="generic"?this.data.set(this.offset+this.stride[0]*d,_):this.data[this.offset+this.stride[0]*d]=_},y.get=function(d){return A==="generic"?this.data.get(this.offset+this.stride[0]*d):this.data[this.offset+this.stride[0]*d]},y.index=function(d){return this.offset+this.stride[0]*d},y.hi=function(d){return new k(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,this.stride[0],this.offset)},y.lo=function(d){var _=this.offset,p=0,c=this.shape[0],S=this.stride[0];return typeof d=="number"&&d>=0&&(p=d|0,_+=S*p,c-=p),new k(this.data,c,S,_)},y.step=function(d){var _=this.shape[0],p=this.stride[0],c=this.offset,S=0,h=Math.ceil;return typeof d=="number"&&(S=d|0,S<0?(c+=p*(_-1),_=h(-_/S)):_=h(_/S),p*=S),new k(this.data,_,p,c)},y.transpose=function(d){d=d===void 0?0:d|0;var _=this.shape,p=this.stride;return new k(this.data,_[d],p[d],this.offset)},y.pick=function(d){var _=[],p=[],c=this.offset;typeof d=="number"&&d>=0?c=c+this.stride[0]*d|0:(_.push(this.shape[0]),p.push(this.stride[0]));var S=m[_.length+1];return S(this.data,_,p,c)},function(d,_,p,c){return new k(d,_[0],p[0],c)}},2:function(A,m,w){function k(M,d,_,p,c,S){this.data=M,this.shape=[d,_],this.stride=[p,c],this.offset=S|0}var y=k.prototype;return y.dtype=A,y.dimension=2,Object.defineProperty(y,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(y,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),y.set=function(d,_,p){return A==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_,p):this.data[this.offset+this.stride[0]*d+this.stride[1]*_]=p},y.get=function(d,_){return A==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_):this.data[this.offset+this.stride[0]*d+this.stride[1]*_]},y.index=function(d,_){return this.offset+this.stride[0]*d+this.stride[1]*_},y.hi=function(d,_){return new k(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,this.stride[0],this.stride[1],this.offset)},y.lo=function(d,_){var p=this.offset,c=0,S=this.shape[0],h=this.shape[1],R=this.stride[0],E=this.stride[1];return typeof d=="number"&&d>=0&&(c=d|0,p+=R*c,S-=c),typeof _=="number"&&_>=0&&(c=_|0,p+=E*c,h-=c),new k(this.data,S,h,R,E,p)},y.step=function(d,_){var p=this.shape[0],c=this.shape[1],S=this.stride[0],h=this.stride[1],R=this.offset,E=0,D=Math.ceil;return typeof d=="number"&&(E=d|0,E<0?(R+=S*(p-1),p=D(-p/E)):p=D(p/E),S*=E),typeof _=="number"&&(E=_|0,E<0?(R+=h*(c-1),c=D(-c/E)):c=D(c/E),h*=E),new k(this.data,p,c,S,h,R)},y.transpose=function(d,_){d=d===void 0?0:d|0,_=_===void 0?1:_|0;var p=this.shape,c=this.stride;return new k(this.data,p[d],p[_],c[d],c[_],this.offset)},y.pick=function(d,_){var p=[],c=[],S=this.offset;typeof d=="number"&&d>=0?S=S+this.stride[0]*d|0:(p.push(this.shape[0]),c.push(this.stride[0])),typeof _=="number"&&_>=0?S=S+this.stride[1]*_|0:(p.push(this.shape[1]),c.push(this.stride[1]));var h=m[p.length+1];return h(this.data,p,c,S)},function(d,_,p,c){return new k(d,_[0],_[1],p[0],p[1],c)}},3:function(A,m,w){function k(M,d,_,p,c,S,h,R){this.data=M,this.shape=[d,_,p],this.stride=[c,S,h],this.offset=R|0}var y=k.prototype;return y.dtype=A,y.dimension=3,Object.defineProperty(y,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(y,"order",{get:function(){var d=Math.abs(this.stride[0]),_=Math.abs(this.stride[1]),p=Math.abs(this.stride[2]);return d>_?_>p?[2,1,0]:d>p?[1,2,0]:[1,0,2]:d>p?[2,0,1]:p>_?[0,1,2]:[0,2,1]}}),y.set=function(d,_,p,c){return A==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p,c):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p]=c},y.get=function(d,_,p){return A==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p]},y.index=function(d,_,p){return this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p},y.hi=function(d,_,p){return new k(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,typeof p!="number"||p<0?this.shape[2]:p|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},y.lo=function(d,_,p){var c=this.offset,S=0,h=this.shape[0],R=this.shape[1],E=this.shape[2],D=this.stride[0],N=this.stride[1],I=this.stride[2];return typeof d=="number"&&d>=0&&(S=d|0,c+=D*S,h-=S),typeof _=="number"&&_>=0&&(S=_|0,c+=N*S,R-=S),typeof p=="number"&&p>=0&&(S=p|0,c+=I*S,E-=S),new k(this.data,h,R,E,D,N,I,c)},y.step=function(d,_,p){var c=this.shape[0],S=this.shape[1],h=this.shape[2],R=this.stride[0],E=this.stride[1],D=this.stride[2],N=this.offset,I=0,F=Math.ceil;return typeof d=="number"&&(I=d|0,I<0?(N+=R*(c-1),c=F(-c/I)):c=F(c/I),R*=I),typeof _=="number"&&(I=_|0,I<0?(N+=E*(S-1),S=F(-S/I)):S=F(S/I),E*=I),typeof p=="number"&&(I=p|0,I<0?(N+=D*(h-1),h=F(-h/I)):h=F(h/I),D*=I),new k(this.data,c,S,h,R,E,D,N)},y.transpose=function(d,_,p){d=d===void 0?0:d|0,_=_===void 0?1:_|0,p=p===void 0?2:p|0;var c=this.shape,S=this.stride;return new k(this.data,c[d],c[_],c[p],S[d],S[_],S[p],this.offset)},y.pick=function(d,_,p){var c=[],S=[],h=this.offset;typeof d=="number"&&d>=0?h=h+this.stride[0]*d|0:(c.push(this.shape[0]),S.push(this.stride[0])),typeof _=="number"&&_>=0?h=h+this.stride[1]*_|0:(c.push(this.shape[1]),S.push(this.stride[1])),typeof p=="number"&&p>=0?h=h+this.stride[2]*p|0:(c.push(this.shape[2]),S.push(this.stride[2]));var R=m[c.length+1];return R(this.data,c,S,h)},function(d,_,p,c){return new k(d,_[0],_[1],_[2],p[0],p[1],p[2],c)}},4:function(A,m,w){function k(M,d,_,p,c,S,h,R,E,D){this.data=M,this.shape=[d,_,p,c],this.stride=[S,h,R,E],this.offset=D|0}var y=k.prototype;return y.dtype=A,y.dimension=4,Object.defineProperty(y,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(y,"order",{get:w}),y.set=function(d,_,p,c,S){return A==="generic"?this.data.set(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p+this.stride[3]*c,S):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p+this.stride[3]*c]=S},y.get=function(d,_,p,c){return A==="generic"?this.data.get(this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p+this.stride[3]*c):this.data[this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p+this.stride[3]*c]},y.index=function(d,_,p,c){return this.offset+this.stride[0]*d+this.stride[1]*_+this.stride[2]*p+this.stride[3]*c},y.hi=function(d,_,p,c){return new k(this.data,typeof d!="number"||d<0?this.shape[0]:d|0,typeof _!="number"||_<0?this.shape[1]:_|0,typeof p!="number"||p<0?this.shape[2]:p|0,typeof c!="number"||c<0?this.shape[3]:c|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},y.lo=function(d,_,p,c){var S=this.offset,h=0,R=this.shape[0],E=this.shape[1],D=this.shape[2],N=this.shape[3],I=this.stride[0],F=this.stride[1],L=this.stride[2],P=this.stride[3];return typeof d=="number"&&d>=0&&(h=d|0,S+=I*h,R-=h),typeof _=="number"&&_>=0&&(h=_|0,S+=F*h,E-=h),typeof p=="number"&&p>=0&&(h=p|0,S+=L*h,D-=h),typeof c=="number"&&c>=0&&(h=c|0,S+=P*h,N-=h),new k(this.data,R,E,D,N,I,F,L,P,S)},y.step=function(d,_,p,c){var S=this.shape[0],h=this.shape[1],R=this.shape[2],E=this.shape[3],D=this.stride[0],N=this.stride[1],I=this.stride[2],F=this.stride[3],L=this.offset,P=0,q=Math.ceil;return typeof d=="number"&&(P=d|0,P<0?(L+=D*(S-1),S=q(-S/P)):S=q(S/P),D*=P),typeof _=="number"&&(P=_|0,P<0?(L+=N*(h-1),h=q(-h/P)):h=q(h/P),N*=P),typeof p=="number"&&(P=p|0,P<0?(L+=I*(R-1),R=q(-R/P)):R=q(R/P),I*=P),typeof c=="number"&&(P=c|0,P<0?(L+=F*(E-1),E=q(-E/P)):E=q(E/P),F*=P),new k(this.data,S,h,R,E,D,N,I,F,L)},y.transpose=function(d,_,p,c){d=d===void 0?0:d|0,_=_===void 0?1:_|0,p=p===void 0?2:p|0,c=c===void 0?3:c|0;var S=this.shape,h=this.stride;return new k(this.data,S[d],S[_],S[p],S[c],h[d],h[_],h[p],h[c],this.offset)},y.pick=function(d,_,p,c){var S=[],h=[],R=this.offset;typeof d=="number"&&d>=0?R=R+this.stride[0]*d|0:(S.push(this.shape[0]),h.push(this.stride[0])),typeof _=="number"&&_>=0?R=R+this.stride[1]*_|0:(S.push(this.shape[1]),h.push(this.stride[1])),typeof p=="number"&&p>=0?R=R+this.stride[2]*p|0:(S.push(this.shape[2]),h.push(this.stride[2])),typeof c=="number"&&c>=0?R=R+this.stride[3]*c|0:(S.push(this.shape[3]),h.push(this.stride[3]));var E=m[S.length+1];return E(this.data,S,h,R)},function(d,_,p,c){return new k(d,_[0],_[1],_[2],_[3],p[0],p[1],p[2],p[3],c)}},5:function(m,w,k){function y(d,_,p,c,S,h,R,E,D,N,I,F){this.data=d,this.shape=[_,p,c,S,h],this.stride=[R,E,D,N,I],this.offset=F|0}var M=y.prototype;return M.dtype=m,M.dimension=5,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(M,"order",{get:k}),M.set=function(_,p,c,S,h,R){return m==="generic"?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*p+this.stride[2]*c+this.stride[3]*S+this.stride[4]*h,R):this.data[this.offset+this.stride[0]*_+this.stride[1]*p+this.stride[2]*c+this.stride[3]*S+this.stride[4]*h]=R},M.get=function(_,p,c,S,h){return m==="generic"?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*p+this.stride[2]*c+this.stride[3]*S+this.stride[4]*h):this.data[this.offset+this.stride[0]*_+this.stride[1]*p+this.stride[2]*c+this.stride[3]*S+this.stride[4]*h]},M.index=function(_,p,c,S,h){return this.offset+this.stride[0]*_+this.stride[1]*p+this.stride[2]*c+this.stride[3]*S+this.stride[4]*h},M.hi=function(_,p,c,S,h){return new y(this.data,typeof _!="number"||_<0?this.shape[0]:_|0,typeof p!="number"||p<0?this.shape[1]:p|0,typeof c!="number"||c<0?this.shape[2]:c|0,typeof S!="number"||S<0?this.shape[3]:S|0,typeof h!="number"||h<0?this.shape[4]:h|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},M.lo=function(_,p,c,S,h){var R=this.offset,E=0,D=this.shape[0],N=this.shape[1],I=this.shape[2],F=this.shape[3],L=this.shape[4],P=this.stride[0],q=this.stride[1],U=this.stride[2],W=this.stride[3],j=this.stride[4];return typeof _=="number"&&_>=0&&(E=_|0,R+=P*E,D-=E),typeof p=="number"&&p>=0&&(E=p|0,R+=q*E,N-=E),typeof c=="number"&&c>=0&&(E=c|0,R+=U*E,I-=E),typeof S=="number"&&S>=0&&(E=S|0,R+=W*E,F-=E),typeof h=="number"&&h>=0&&(E=h|0,R+=j*E,L-=E),new y(this.data,D,N,I,F,L,P,q,U,W,j,R)},M.step=function(_,p,c,S,h){var R=this.shape[0],E=this.shape[1],D=this.shape[2],N=this.shape[3],I=this.shape[4],F=this.stride[0],L=this.stride[1],P=this.stride[2],q=this.stride[3],U=this.stride[4],W=this.offset,j=0,$=Math.ceil;return typeof _=="number"&&(j=_|0,j<0?(W+=F*(R-1),R=$(-R/j)):R=$(R/j),F*=j),typeof p=="number"&&(j=p|0,j<0?(W+=L*(E-1),E=$(-E/j)):E=$(E/j),L*=j),typeof c=="number"&&(j=c|0,j<0?(W+=P*(D-1),D=$(-D/j)):D=$(D/j),P*=j),typeof S=="number"&&(j=S|0,j<0?(W+=q*(N-1),N=$(-N/j)):N=$(N/j),q*=j),typeof h=="number"&&(j=h|0,j<0?(W+=U*(I-1),I=$(-I/j)):I=$(I/j),U*=j),new y(this.data,R,E,D,N,I,F,L,P,q,U,W)},M.transpose=function(_,p,c,S,h){_=_===void 0?0:_|0,p=p===void 0?1:p|0,c=c===void 0?2:c|0,S=S===void 0?3:S|0,h=h===void 0?4:h|0;var R=this.shape,E=this.stride;return new y(this.data,R[_],R[p],R[c],R[S],R[h],E[_],E[p],E[c],E[S],E[h],this.offset)},M.pick=function(_,p,c,S,h){var R=[],E=[],D=this.offset;typeof _=="number"&&_>=0?D=D+this.stride[0]*_|0:(R.push(this.shape[0]),E.push(this.stride[0])),typeof p=="number"&&p>=0?D=D+this.stride[1]*p|0:(R.push(this.shape[1]),E.push(this.stride[1])),typeof c=="number"&&c>=0?D=D+this.stride[2]*c|0:(R.push(this.shape[2]),E.push(this.stride[2])),typeof S=="number"&&S>=0?D=D+this.stride[3]*S|0:(R.push(this.shape[3]),E.push(this.stride[3])),typeof h=="number"&&h>=0?D=D+this.stride[4]*h|0:(R.push(this.shape[4]),E.push(this.stride[4]));var N=w[R.length+1];return N(this.data,R,E,D)},function(_,p,c,S){return new y(_,p[0],p[1],p[2],p[3],p[4],c[0],c[1],c[2],c[3],c[4],S)}}};function g(A,m){var w=m===-1?"T":String(m),k=v[w];return m===-1?k(A):m===0?k(A,x[A][0]):k(A,x[A],f)}function b(A){if(l(A))return"buffer";if(u)switch(Object.prototype.toString.call(A)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(A)?"array":"generic"}var x={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(A,m,w,k){if(A===void 0){var c=x.array[0];return c([])}else typeof A=="number"&&(A=[A]);m===void 0&&(m=[A.length]);var y=m.length;if(w===void 0){w=new Array(y);for(var M=y-1,d=1;M>=0;--M)w[M]=d,d*=m[M]}if(k===void 0){k=0;for(var M=0;M<y;++M)w[M]<0&&(k-=(m[M]-1)*w[M])}for(var _=b(A),p=x[_];p.length<=y+1;)p.push(g(_,p.length-1));var c=p[y+1];return c(A,m,w,k)}a.exports=T},1278:function(a,o,i){"use strict";var l=i(2361),u=Math.pow(2,-1074),s=-1>>>0;a.exports=f;function f(v,g){if(isNaN(v)||isNaN(g))return NaN;if(v===g)return v;if(v===0)return g<0?-u:u;var b=l.hi(v),x=l.lo(v);return g>v==v>0?x===s?(b+=1,x=0):x+=1:x===0?(x=s,b-=1):x-=1,l.pack(x,b)}},8406:function(a,o){var i=1e-6,l=1e-6;o.vertexNormals=function(u,s,f){for(var v=s.length,g=new Array(v),b=f===void 0?i:f,x=0;x<v;++x)g[x]=[0,0,0];for(var x=0;x<u.length;++x)for(var T=u[x],A=0,m=T[T.length-1],w=T[0],k=0;k<T.length;++k){A=m,m=w,w=T[(k+1)%T.length];for(var y=s[A],M=s[m],d=s[w],_=new Array(3),p=0,c=new Array(3),S=0,h=0;h<3;++h)_[h]=y[h]-M[h],p+=_[h]*_[h],c[h]=d[h]-M[h],S+=c[h]*c[h];if(p*S>b)for(var R=g[m],E=1/Math.sqrt(p*S),h=0;h<3;++h){var D=(h+1)%3,N=(h+2)%3;R[h]+=E*(c[D]*_[N]-c[N]*_[D])}}for(var x=0;x<v;++x){for(var R=g[x],I=0,h=0;h<3;++h)I+=R[h]*R[h];if(I>b)for(var E=1/Math.sqrt(I),h=0;h<3;++h)R[h]*=E;else for(var h=0;h<3;++h)R[h]=0}return g},o.faceNormals=function(u,s,f){for(var v=u.length,g=new Array(v),b=f===void 0?l:f,x=0;x<v;++x){for(var T=u[x],A=new Array(3),m=0;m<3;++m)A[m]=s[T[m]];for(var w=new Array(3),k=new Array(3),m=0;m<3;++m)w[m]=A[1][m]-A[0][m],k[m]=A[2][m]-A[0][m];for(var y=new Array(3),M=0,m=0;m<3;++m){var d=(m+1)%3,_=(m+2)%3;y[m]=w[d]*k[_]-w[_]*k[d],M+=y[m]*y[m]}M>b?M=1/Math.sqrt(M):M=0;for(var m=0;m<3;++m)y[m]*=M;g[x]=y}return g}},4081:function(a){"use strict";a.exports=o;function o(i,l,u,s,f,v,g,b,x,T){var A=l+v+T;if(m>0){var m=Math.sqrt(A+1);i[0]=.5*(g-x)/m,i[1]=.5*(b-s)/m,i[2]=.5*(u-v)/m,i[3]=.5*m}else{var w=Math.max(l,v,T),m=Math.sqrt(2*w-A+1);l>=w?(i[0]=.5*m,i[1]=.5*(f+u)/m,i[2]=.5*(b+s)/m,i[3]=.5*(g-x)/m):v>=w?(i[0]=.5*(u+f)/m,i[1]=.5*m,i[2]=.5*(x+g)/m,i[3]=.5*(b-s)/m):(i[0]=.5*(s+b)/m,i[1]=.5*(g+x)/m,i[2]=.5*m,i[3]=.5*(u-f)/m)}return i}},9977:function(a,o,i){"use strict";a.exports=m;var l=i(9215),u=i(6582),s=i(7399),f=i(7608),v=i(4081);function g(w,k,y){return Math.sqrt(Math.pow(w,2)+Math.pow(k,2)+Math.pow(y,2))}function b(w,k,y,M){return Math.sqrt(Math.pow(w,2)+Math.pow(k,2)+Math.pow(y,2)+Math.pow(M,2))}function x(w,k){var y=k[0],M=k[1],d=k[2],_=k[3],p=b(y,M,d,_);p>1e-6?(w[0]=y/p,w[1]=M/p,w[2]=d/p,w[3]=_/p):(w[0]=w[1]=w[2]=0,w[3]=1)}function T(w,k,y){this.radius=l([y]),this.center=l(k),this.rotation=l(w),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var A=T.prototype;A.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},A.recalcMatrix=function(w){this.radius.curve(w),this.center.curve(w),this.rotation.curve(w);var k=this.computedRotation;x(k,k);var y=this.computedMatrix;s(y,k);var M=this.computedCenter,d=this.computedEye,_=this.computedUp,p=Math.exp(this.computedRadius[0]);d[0]=M[0]+p*y[2],d[1]=M[1]+p*y[6],d[2]=M[2]+p*y[10],_[0]=y[1],_[1]=y[5],_[2]=y[9];for(var c=0;c<3;++c){for(var S=0,h=0;h<3;++h)S+=y[c+4*h]*d[h];y[12+c]=-S}},A.getMatrix=function(w,k){this.recalcMatrix(w);var y=this.computedMatrix;if(k){for(var M=0;M<16;++M)k[M]=y[M];return k}return y},A.idle=function(w){this.center.idle(w),this.radius.idle(w),this.rotation.idle(w)},A.flush=function(w){this.center.flush(w),this.radius.flush(w),this.rotation.flush(w)},A.pan=function(w,k,y,M){k=k||0,y=y||0,M=M||0,this.recalcMatrix(w);var d=this.computedMatrix,_=d[1],p=d[5],c=d[9],S=g(_,p,c);_/=S,p/=S,c/=S;var h=d[0],R=d[4],E=d[8],D=h*_+R*p+E*c;h-=_*D,R-=p*D,E-=c*D;var N=g(h,R,E);h/=N,R/=N,E/=N;var I=d[2],F=d[6],L=d[10],P=I*_+F*p+L*c,q=I*h+F*R+L*E;I-=P*_+q*h,F-=P*p+q*R,L-=P*c+q*E;var U=g(I,F,L);I/=U,F/=U,L/=U;var W=h*k+_*y,j=R*k+p*y,$=E*k+c*y;this.center.move(w,W,j,$);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+M),this.radius.set(w,Math.log(G))},A.rotate=function(w,k,y,M){this.recalcMatrix(w),k=k||0,y=y||0;var d=this.computedMatrix,_=d[0],p=d[4],c=d[8],S=d[1],h=d[5],R=d[9],E=d[2],D=d[6],N=d[10],I=k*_+y*S,F=k*p+y*h,L=k*c+y*R,P=-(D*L-N*F),q=-(N*I-E*L),U=-(E*F-D*I),W=Math.sqrt(Math.max(0,1-Math.pow(P,2)-Math.pow(q,2)-Math.pow(U,2))),j=b(P,q,U,W);j>1e-6?(P/=j,q/=j,U/=j,W/=j):(P=q=U=0,W=1);var $=this.computedRotation,G=$[0],O=$[1],Z=$[2],ne=$[3],Q=G*W+ne*P+O*U-Z*q,ie=O*W+ne*q+Z*P-G*U,ee=Z*W+ne*U+G*q-O*P,V=ne*W-G*P-O*q-Z*U;if(M){P=E,q=D,U=N;var re=Math.sin(M)/g(P,q,U);P*=re,q*=re,U*=re,W=Math.cos(k),Q=Q*W+V*P+ie*U-ee*q,ie=ie*W+V*q+ee*P-Q*U,ee=ee*W+V*U+Q*q-ie*P,V=V*W-Q*P-ie*q-ee*U}var H=b(Q,ie,ee,V);H>1e-6?(Q/=H,ie/=H,ee/=H,V/=H):(Q=ie=ee=0,V=1),this.rotation.set(w,Q,ie,ee,V)},A.lookAt=function(w,k,y,M){this.recalcMatrix(w),y=y||this.computedCenter,k=k||this.computedEye,M=M||this.computedUp;var d=this.computedMatrix;u(d,k,y,M);var _=this.computedRotation;v(_,d[0],d[1],d[2],d[4],d[5],d[6],d[8],d[9],d[10]),x(_,_),this.rotation.set(w,_[0],_[1],_[2],_[3]);for(var p=0,c=0;c<3;++c)p+=Math.pow(y[c]-k[c],2);this.radius.set(w,.5*Math.log(Math.max(p,1e-6))),this.center.set(w,y[0],y[1],y[2])},A.translate=function(w,k,y,M){this.center.move(w,k||0,y||0,M||0)},A.setMatrix=function(w,k){var y=this.computedRotation;v(y,k[0],k[1],k[2],k[4],k[5],k[6],k[8],k[9],k[10]),x(y,y),this.rotation.set(w,y[0],y[1],y[2],y[3]);var M=this.computedMatrix;f(M,k);var d=M[15];if(Math.abs(d)>1e-6){var _=M[12]/d,p=M[13]/d,c=M[14]/d;this.recalcMatrix(w);var S=Math.exp(this.computedRadius[0]);this.center.set(w,_-M[2]*S,p-M[6]*S,c-M[10]*S),this.radius.idle(w)}else this.center.idle(w),this.radius.idle(w)},A.setDistance=function(w,k){k>0&&this.radius.set(w,Math.log(k))},A.setDistanceLimits=function(w,k){w>0?w=Math.log(w):w=-1/0,k>0?k=Math.log(k):k=1/0,k=Math.max(k,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=k},A.getDistanceLimits=function(w){var k=this.radius.bounds;return w?(w[0]=Math.exp(k[0][0]),w[1]=Math.exp(k[1][0]),w):[Math.exp(k[0][0]),Math.exp(k[1][0])]},A.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},A.fromJSON=function(w){var k=this.lastT(),y=w.center;y&&this.center.set(k,y[0],y[1],y[2]);var M=w.rotation;M&&this.rotation.set(k,M[0],M[1],M[2],M[3]);var d=w.distance;d&&d>0&&this.radius.set(k,Math.log(d)),this.setDistanceLimits(w.zoomMin,w.zoomMax)};function m(w){w=w||{};var k=w.center||[0,0,0],y=w.rotation||[0,0,0,1],M=w.radius||1;k=[].slice.call(k,0,3),y=[].slice.call(y,0,4),x(y,y);var d=new T(y,k,Math.log(M));return d.setDistanceLimits(w.zoomMin,w.zoomMax),("eye"in w||"up"in w)&&d.lookAt(0,w.eye,w.center,w.up),d}},1371:function(a,o,i){"use strict";var l=i(3233);a.exports=function(s,f,v){return v=typeof v!="undefined"?v+"":" ",l(v,f)+s}},3202:function(a){a.exports=function(i,l){l||(l=[0,""]),i=String(i);var u=parseFloat(i,10);return l[0]=u,l[1]=i.match(/[\d.\-\+]*\s*(.*)/)[1]||"",l}},3088:function(a,o,i){"use strict";a.exports=u;var l=i(3140);function u(s,f){for(var v=f.length|0,g=s.length,b=[new Array(v),new Array(v)],x=0;x<v;++x)b[0][x]=[],b[1][x]=[];for(var x=0;x<g;++x){var T=s[x];b[0][T[0]].push(T),b[1][T[1]].push(T)}for(var A=[],x=0;x<v;++x)b[0][x].length+b[1][x].length===0&&A.push([x]);function m(c,S){var h=b[S][c[S]];h.splice(h.indexOf(c),1)}function w(c,S,h){for(var R,E,D,N=0;N<2;++N)if(b[N][S].length>0){R=b[N][S][0],D=N;break}E=R[D^1];for(var I=0;I<2;++I)for(var F=b[I][S],L=0;L<F.length;++L){var P=F[L],q=P[I^1],U=l(f[c],f[S],f[E],f[q]);U>0&&(R=P,E=q,D=I)}return h||R&&m(R,D),E}function k(c,S){var h=b[S][c][0],R=[c];m(h,S);for(var E=h[S^1],D=S;;){for(;E!==c;)R.push(E),E=w(R[R.length-2],E,!1);if(b[0][c].length+b[1][c].length===0)break;var N=R[R.length-1],I=c,F=R[1],L=w(N,I,!0);if(l(f[N],f[I],f[F],f[L])<0)break;R.push(c),E=w(N,I)}return R}function y(c,S){return S[1]===S[S.length-1]}for(var x=0;x<v;++x)for(var M=0;M<2;++M){for(var d=[];b[M][x].length>0;){var _=b[0][x].length,p=k(x,M);y(d,p)?d.push.apply(d,p):(d.length>0&&A.push(d),d=p)}d.length>0&&A.push(d)}return A}},5609:function(a,o,i){"use strict";a.exports=u;var l=i(3134);function u(s,f){for(var v=l(s,f.length),g=new Array(f.length),b=new Array(f.length),x=[],T=0;T<f.length;++T){var A=v[T].length;b[T]=A,g[T]=!0,A<=1&&x.push(T)}for(;x.length>0;){var m=x.pop();g[m]=!1;for(var w=v[m],T=0;T<w.length;++T){var k=w[T];--b[k]===0&&x.push(k)}}for(var y=new Array(f.length),M=[],T=0;T<f.length;++T)if(g[T]){var m=M.length;y[T]=m,M.push(f[T])}else y[T]=-1;for(var d=[],T=0;T<s.length;++T){var _=s[T];g[_[0]]&&g[_[1]]&&d.push([y[_[0]],y[_[1]]])}return[d,M]}},2095:function(a,o,i){"use strict";a.exports=A;var l=i(3134),u=i(3088),s=i(5085),f=i(5250),v=i(8210),g=i(1682),b=i(5609);function x(m,w){for(var k=new Array(m),y=0;y<m;++y)k[y]=w;return k}function T(m){for(var w=new Array(m),k=0;k<m;++k)w[k]=[];return w}function A(m,w){var re=b(m,w);m=re[0],w=re[1];for(var k=w.length,y=m.length,M=l(m,w.length),d=0;d<k;++d)if(M[d].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=u(m,w);function p(ve){for(var Me=ve.length,Se=[0],De=0;De<Me;++De){var Ce=w[ve[De]],Oe=w[ve[(De+1)%Me]],Be=f(-Ce[0],Ce[1]),ge=f(-Ce[0],Oe[1]),Ae=f(Oe[0],Ce[1]),ce=f(Oe[0],Oe[1]);Se=v(Se,v(v(Be,ge),v(Ae,ce)))}return Se[Se.length-1]>0}_=_.filter(p);for(var c=_.length,S=new Array(c),h=new Array(c),d=0;d<c;++d){S[d]=d;var R=new Array(c),E=_[d].map(function(Me){return w[Me]}),D=s([E]),N=0;e:for(var I=0;I<c;++I)if(R[I]=0,d!==I){for(var F=_[I],L=F.length,P=0;P<L;++P){var q=D(w[F[P]]);if(q!==0){q<0&&(R[I]=1,N+=1);continue e}}R[I]=1,N+=1}h[d]=[N,d,R]}h.sort(function(ve,Me){return Me[0]-ve[0]});for(var d=0;d<c;++d)for(var R=h[d],U=R[1],W=R[2],I=0;I<c;++I)W[I]&&(S[I]=U);for(var j=T(c),d=0;d<c;++d)j[d].push(S[d]),j[S[d]].push(d);for(var $={},G=x(k,!1),d=0;d<c;++d)for(var F=_[d],L=F.length,I=0;I<L;++I){var O=F[I],Z=F[(I+1)%L],ne=Math.min(O,Z)+":"+Math.max(O,Z);if(ne in $){var Q=$[ne];j[Q].push(d),j[d].push(Q),G[O]=G[Z]=!0}else $[ne]=d}function ie(ve){for(var Me=ve.length,Se=0;Se<Me;++Se)if(!G[ve[Se]])return!1;return!0}for(var ee=[],V=x(c,-1),d=0;d<c;++d)S[d]===d&&!ie(_[d])?(ee.push(d),V[d]=0):V[d]=-1;for(var re=[];ee.length>0;){var H=ee.pop(),te=j[H];g(te,function(ve,Me){return ve-Me});var se=te.length,he=V[H],ke;if(he===0){var F=_[H];ke=[F]}for(var d=0;d<se;++d){var we=te[d];if(!(V[we]>=0)&&(V[we]=he^1,ee.push(we),he===0)){var F=_[we];ie(F)||(F.reverse(),ke.push(F))}}he===0&&re.push(ke)}return re}},5085:function(a,o,i){a.exports=w;var l=i(3250)[3],u=i(4209),s=i(3352),f=i(2478);function v(){return!0}function g(k){return function(y,M){var d=k[y];return d?!!d.queryPoint(M,v):!1}}function b(k){for(var y={},M=0;M<k.length;++M){var d=k[M],_=d[0][0],p=d[0][1],c=d[1][1],S=[Math.min(p,c),Math.max(p,c)];_ in y?y[_].push(S):y[_]=[S]}for(var h={},R=Object.keys(y),M=0;M<R.length;++M){var E=y[R[M]];h[R[M]]=s(E)}return g(h)}function x(k,y){return function(M){var d=f.le(y,M[0]);if(d<0)return 1;var _=k[d];if(!_)if(d>0&&y[d]===M[0])_=k[d-1];else return 1;for(var p=1;_;){var c=_.key,S=l(M,c[0],c[1]);if(c[0][0]<c[1][0])if(S<0)_=_.left;else if(S>0)p=-1,_=_.right;else return 0;else if(S>0)_=_.left;else if(S<0)p=1,_=_.right;else return 0}return p}}function T(k){return 1}function A(k){return function(M){return k(M[0],M[1])?0:1}}function m(k,y){return function(d){return k(d[0],d[1])?0:y(d)}}function w(k){for(var y=k.length,M=[],d=[],_=0,p=0;p<y;++p)for(var c=k[p],S=c.length,h=S-1,R=0;R<S;h=R++){var E=c[h],D=c[R];E[0]===D[0]?d.push([E,D]):M.push([E,D])}if(M.length===0)return d.length===0?T:A(b(d));var N=u(M),I=x(N.slabs,N.coordinates);return d.length===0?I:m(b(d),I)}},9346:function(a){"use strict";var o=new Float64Array(4),i=new Float64Array(4),l=new Float64Array(4);function u(s,f,v,g,b){o.length<g.length&&(o=new Float64Array(g.length),i=new Float64Array(g.length),l=new Float64Array(g.length));for(var x=0;x<g.length;++x)o[x]=s[x]-g[x],i[x]=f[x]-s[x],l[x]=v[x]-s[x];for(var T=0,A=0,m=0,w=0,k=0,y=0,x=0;x<g.length;++x){var M=i[x],d=l[x],_=o[x];T+=M*M,A+=M*d,m+=d*d,w+=_*M,k+=_*d,y+=_*_}var p=Math.abs(T*m-A*A),c=A*k-m*w,S=A*w-T*k,h;if(c+S<=p)if(c<0)S<0&&w<0?(S=0,-w>=T?(c=1,h=T+2*w+y):(c=-w/T,h=w*c+y)):(c=0,k>=0?(S=0,h=y):-k>=m?(S=1,h=m+2*k+y):(S=-k/m,h=k*S+y));else if(S<0)S=0,w>=0?(c=0,h=y):-w>=T?(c=1,h=T+2*w+y):(c=-w/T,h=w*c+y);else{var R=1/p;c*=R,S*=R,h=c*(T*c+A*S+2*w)+S*(A*c+m*S+2*k)+y}else{var E,D,N,I;c<0?(E=A+w,D=m+k,D>E?(N=D-E,I=T-2*A+m,N>=I?(c=1,S=0,h=T+2*w+y):(c=N/I,S=1-c,h=c*(T*c+A*S+2*w)+S*(A*c+m*S+2*k)+y)):(c=0,D<=0?(S=1,h=m+2*k+y):k>=0?(S=0,h=y):(S=-k/m,h=k*S+y))):S<0?(E=A+k,D=T+w,D>E?(N=D-E,I=T-2*A+m,N>=I?(S=1,c=0,h=m+2*k+y):(S=N/I,c=1-S,h=c*(T*c+A*S+2*w)+S*(A*c+m*S+2*k)+y)):(S=0,D<=0?(c=1,h=T+2*w+y):w>=0?(c=0,h=y):(c=-w/T,h=w*c+y))):(N=m+k-A-w,N<=0?(c=0,S=1,h=m+2*k+y):(I=T-2*A+m,N>=I?(c=1,S=0,h=T+2*w+y):(c=N/I,S=1-c,h=c*(T*c+A*S+2*w)+S*(A*c+m*S+2*k)+y)))}for(var F=1-c-S,x=0;x<g.length;++x)b[x]=F*s[x]+c*f[x]+S*v[x];return h<0?0:h}a.exports=u},8648:function(a,o,i){a.exports=i(783)},2653:function(a,o,i){"use strict";var l=i(3865);a.exports=u;function u(s,f){for(var v=s.length,g=new Array(v),b=0;b<v;++b)g[b]=l(s[b],f[b]);return g}},5838:function(a,o,i){"use strict";a.exports=u;var l=i(7842);function u(s){for(var f=new Array(s.length),v=0;v<s.length;++v)f[v]=l(s[v]);return f}},8987:function(a,o,i){"use strict";var l=i(7842),u=i(6504);a.exports=s;function s(f,v){for(var g=l(v),b=f.length,x=new Array(b),T=0;T<b;++T)x[T]=u(f[T],g);return x}},544:function(a,o,i){"use strict";var l=i(5572);a.exports=u;function u(s,f){for(var v=s.length,g=new Array(v),b=0;b<v;++b)g[b]=l(s[b],f[b]);return g}},5771:function(a,o,i){"use strict";var l=i(8507),u=i(3788),s=i(2419);a.exports=f;function f(v){v.sort(u);for(var g=v.length,b=0,x=0;x<g;++x){var T=v[x],A=s(T);if(A!==0){if(b>0){var m=v[b-1];if(l(T,m)===0&&s(m)!==A){b-=1;continue}}v[b++]=T}}return v.length=b,v}},3233:function(a){"use strict";var o="",i;a.exports=l;function l(u,s){if(typeof u!="string")throw new TypeError("expected a string");if(s===1)return u;if(s===2)return u+u;var f=u.length*s;if(i!==u||typeof i=="undefined")i=u,o="";else if(o.length>=f)return o.substr(0,f);for(;f>o.length&&s>1;)s&1&&(o+=u),s>>=1,u+=u;return o+=u,o=o.substr(0,f),o}},3025:function(a,o,i){a.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(a){"use strict";a.exports=o;function o(i){for(var l=i.length,u=i[i.length-1],s=l,f=l-2;f>=0;--f){var v=u,g=i[f];u=v+g;var b=u-v,x=g-b;x&&(i[--s]=u,u=x)}for(var T=0,f=s;f<l;++f){var v=i[f],g=u;u=v+g;var b=u-v,x=g-b;x&&(i[T++]=x)}return i[T++]=u,i.length=T,i}},2962:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(3012),f=i(7004),v=6;function g(y,M,d,_){return function(c){return _(y(d(c[0][0],c[1][1]),d(-c[0][1],c[1][0])))}}function b(y,M,d,_){return function(c){return _(y(M(y(d(c[1][1],c[2][2]),d(-c[1][2],c[2][1])),c[0][0]),y(M(y(d(c[1][0],c[2][2]),d(-c[1][2],c[2][0])),-c[0][1]),M(y(d(c[1][0],c[2][1]),d(-c[1][1],c[2][0])),c[0][2]))))}}function x(y,M,d,_){return function(c){return _(y(y(M(y(M(y(d(c[2][2],c[3][3]),d(-c[2][3],c[3][2])),c[1][1]),y(M(y(d(c[2][1],c[3][3]),d(-c[2][3],c[3][1])),-c[1][2]),M(y(d(c[2][1],c[3][2]),d(-c[2][2],c[3][1])),c[1][3]))),c[0][0]),M(y(M(y(d(c[2][2],c[3][3]),d(-c[2][3],c[3][2])),c[1][0]),y(M(y(d(c[2][0],c[3][3]),d(-c[2][3],c[3][0])),-c[1][2]),M(y(d(c[2][0],c[3][2]),d(-c[2][2],c[3][0])),c[1][3]))),-c[0][1])),y(M(y(M(y(d(c[2][1],c[3][3]),d(-c[2][3],c[3][1])),c[1][0]),y(M(y(d(c[2][0],c[3][3]),d(-c[2][3],c[3][0])),-c[1][1]),M(y(d(c[2][0],c[3][1]),d(-c[2][1],c[3][0])),c[1][3]))),c[0][2]),M(y(M(y(d(c[2][1],c[3][2]),d(-c[2][2],c[3][1])),c[1][0]),y(M(y(d(c[2][0],c[3][2]),d(-c[2][2],c[3][0])),-c[1][1]),M(y(d(c[2][0],c[3][1]),d(-c[2][1],c[3][0])),c[1][2]))),-c[0][3]))))}}function T(y,M,d,_){return function(c){return _(y(y(M(y(y(M(y(M(y(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][2]),y(M(y(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),-c[2][3]),M(y(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][4]))),c[1][1]),M(y(M(y(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][1]),y(M(y(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][3]),M(y(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][4]))),-c[1][2])),y(M(y(M(y(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][1]),y(M(y(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][2]),M(y(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][4]))),c[1][3]),M(y(M(y(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][1]),y(M(y(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),-c[2][2]),M(y(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][3]))),-c[1][4]))),c[0][0]),M(y(y(M(y(M(y(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][2]),y(M(y(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),-c[2][3]),M(y(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][4]))),c[1][0]),M(y(M(y(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][0]),y(M(y(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][3]),M(y(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),c[2][4]))),-c[1][2])),y(M(y(M(y(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][0]),y(M(y(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][2]),M(y(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][4]))),c[1][3]),M(y(M(y(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][0]),y(M(y(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][2]),M(y(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][3]))),-c[1][4]))),-c[0][1])),y(M(y(y(M(y(M(y(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][1]),y(M(y(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][3]),M(y(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][4]))),c[1][0]),M(y(M(y(d(c[3][3],c[4][4]),d(-c[3][4],c[4][3])),c[2][0]),y(M(y(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][3]),M(y(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),c[2][4]))),-c[1][1])),y(M(y(M(y(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),c[2][0]),y(M(y(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][1]),M(y(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][4]))),c[1][3]),M(y(M(y(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][0]),y(M(y(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][1]),M(y(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][3]))),-c[1][4]))),c[0][2]),y(M(y(y(M(y(M(y(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][1]),y(M(y(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),-c[2][2]),M(y(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][4]))),c[1][0]),M(y(M(y(d(c[3][2],c[4][4]),d(-c[3][4],c[4][2])),c[2][0]),y(M(y(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][2]),M(y(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][4]))),-c[1][1])),y(M(y(M(y(d(c[3][1],c[4][4]),d(-c[3][4],c[4][1])),c[2][0]),y(M(y(d(c[3][0],c[4][4]),d(-c[3][4],c[4][0])),-c[2][1]),M(y(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][4]))),c[1][2]),M(y(M(y(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][0]),y(M(y(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),-c[2][1]),M(y(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][2]))),-c[1][4]))),-c[0][3]),M(y(y(M(y(M(y(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][1]),y(M(y(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),-c[2][2]),M(y(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][3]))),c[1][0]),M(y(M(y(d(c[3][2],c[4][3]),d(-c[3][3],c[4][2])),c[2][0]),y(M(y(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][2]),M(y(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),c[2][3]))),-c[1][1])),y(M(y(M(y(d(c[3][1],c[4][3]),d(-c[3][3],c[4][1])),c[2][0]),y(M(y(d(c[3][0],c[4][3]),d(-c[3][3],c[4][0])),-c[2][1]),M(y(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][3]))),c[1][2]),M(y(M(y(d(c[3][1],c[4][2]),d(-c[3][2],c[4][1])),c[2][0]),y(M(y(d(c[3][0],c[4][2]),d(-c[3][2],c[4][0])),-c[2][1]),M(y(d(c[3][0],c[4][1]),d(-c[3][1],c[4][0])),c[2][2]))),-c[1][3]))),c[0][4])))))}}function A(y){var M=y===2?g:y===3?b:y===4?x:y===5?T:void 0;return M(u,s,l,f)}var m=[function(){return[0]},function(M){return[M[0][0]]}];function w(y,M,d,_,p,c,S,h){return function(E){switch(E.length){case 0:return y(E);case 1:return M(E);case 2:return d(E);case 3:return _(E);case 4:return p(E);case 5:return c(E)}var D=S[E.length];return D||(D=S[E.length]=h(E.length)),D(E)}}function k(){for(;m.length<v;)m.push(A(m.length));a.exports=w.apply(void 0,m.concat([m,A]));for(var y=0;y<m.length;++y)a.exports[y]=m[y]}k()},1944:function(a,o,i){"use strict";var l=i(5250),u=i(8210);a.exports=s;function s(f,v){for(var g=l(f[0],v[0]),b=1;b<f.length;++b)g=u(g,l(f[b],v[b]));return g}},2646:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(8545),f=i(3012),v=6;function g(p){var c=p===3?A:p===4?m:p===5?w:k;return c(u,s,l,f)}function b(){return 0}function x(){return 0}function T(){return 0}function A(p,c,S,h){function R(E,D,N){var I=S(E[0],E[0]),F=h(I,D[0]),L=h(I,N[0]),P=S(D[0],D[0]),q=h(P,E[0]),U=h(P,N[0]),W=S(N[0],N[0]),j=h(W,E[0]),$=h(W,D[0]),G=p(c($,U),c(q,F)),O=c(j,L),Z=c(G,O);return Z[Z.length-1]}return R}function m(p,c,S,h){function R(E,D,N,I){var F=p(S(E[0],E[0]),S(E[1],E[1])),L=h(F,D[0]),P=h(F,N[0]),q=h(F,I[0]),U=p(S(D[0],D[0]),S(D[1],D[1])),W=h(U,E[0]),j=h(U,N[0]),$=h(U,I[0]),G=p(S(N[0],N[0]),S(N[1],N[1])),O=h(G,E[0]),Z=h(G,D[0]),ne=h(G,I[0]),Q=p(S(I[0],I[0]),S(I[1],I[1])),ie=h(Q,E[0]),ee=h(Q,D[0]),V=h(Q,N[0]),re=p(p(h(c(V,ne),D[1]),p(h(c(ee,$),-N[1]),h(c(Z,j),I[1]))),p(h(c(ee,$),E[1]),p(h(c(ie,q),-D[1]),h(c(W,L),I[1])))),H=p(p(h(c(V,ne),E[1]),p(h(c(ie,q),-N[1]),h(c(O,P),I[1]))),p(h(c(Z,j),E[1]),p(h(c(O,P),-D[1]),h(c(W,L),N[1])))),te=c(re,H);return te[te.length-1]}return R}function w(p,c,S,h){function R(E,D,N,I,F){var L=p(S(E[0],E[0]),p(S(E[1],E[1]),S(E[2],E[2]))),P=h(L,D[0]),q=h(L,N[0]),U=h(L,I[0]),W=h(L,F[0]),j=p(S(D[0],D[0]),p(S(D[1],D[1]),S(D[2],D[2]))),$=h(j,E[0]),G=h(j,N[0]),O=h(j,I[0]),Z=h(j,F[0]),ne=p(S(N[0],N[0]),p(S(N[1],N[1]),S(N[2],N[2]))),Q=h(ne,E[0]),ie=h(ne,D[0]),ee=h(ne,I[0]),V=h(ne,F[0]),re=p(S(I[0],I[0]),p(S(I[1],I[1]),S(I[2],I[2]))),H=h(re,E[0]),te=h(re,D[0]),se=h(re,N[0]),he=h(re,F[0]),ke=p(S(F[0],F[0]),p(S(F[1],F[1]),S(F[2],F[2]))),we=h(ke,E[0]),ve=h(ke,D[0]),Me=h(ke,N[0]),Se=h(ke,I[0]),De=p(p(p(h(p(h(c(Se,he),N[1]),p(h(c(Me,V),-I[1]),h(c(se,ee),F[1]))),D[2]),p(h(p(h(c(Se,he),D[1]),p(h(c(ve,Z),-I[1]),h(c(te,O),F[1]))),-N[2]),h(p(h(c(Me,V),D[1]),p(h(c(ve,Z),-N[1]),h(c(ie,G),F[1]))),I[2]))),p(h(p(h(c(se,ee),D[1]),p(h(c(te,O),-N[1]),h(c(ie,G),I[1]))),-F[2]),p(h(p(h(c(Se,he),D[1]),p(h(c(ve,Z),-I[1]),h(c(te,O),F[1]))),E[2]),h(p(h(c(Se,he),E[1]),p(h(c(we,W),-I[1]),h(c(H,U),F[1]))),-D[2])))),p(p(h(p(h(c(ve,Z),E[1]),p(h(c(we,W),-D[1]),h(c($,P),F[1]))),I[2]),p(h(p(h(c(te,O),E[1]),p(h(c(H,U),-D[1]),h(c($,P),I[1]))),-F[2]),h(p(h(c(se,ee),D[1]),p(h(c(te,O),-N[1]),h(c(ie,G),I[1]))),E[2]))),p(h(p(h(c(se,ee),E[1]),p(h(c(H,U),-N[1]),h(c(Q,q),I[1]))),-D[2]),p(h(p(h(c(te,O),E[1]),p(h(c(H,U),-D[1]),h(c($,P),I[1]))),N[2]),h(p(h(c(ie,G),E[1]),p(h(c(Q,q),-D[1]),h(c($,P),N[1]))),-I[2]))))),Ce=p(p(p(h(p(h(c(Se,he),N[1]),p(h(c(Me,V),-I[1]),h(c(se,ee),F[1]))),E[2]),h(p(h(c(Se,he),E[1]),p(h(c(we,W),-I[1]),h(c(H,U),F[1]))),-N[2])),p(h(p(h(c(Me,V),E[1]),p(h(c(we,W),-N[1]),h(c(Q,q),F[1]))),I[2]),h(p(h(c(se,ee),E[1]),p(h(c(H,U),-N[1]),h(c(Q,q),I[1]))),-F[2]))),p(p(h(p(h(c(Me,V),D[1]),p(h(c(ve,Z),-N[1]),h(c(ie,G),F[1]))),E[2]),h(p(h(c(Me,V),E[1]),p(h(c(we,W),-N[1]),h(c(Q,q),F[1]))),-D[2])),p(h(p(h(c(ve,Z),E[1]),p(h(c(we,W),-D[1]),h(c($,P),F[1]))),N[2]),h(p(h(c(ie,G),E[1]),p(h(c(Q,q),-D[1]),h(c($,P),N[1]))),-F[2])))),Oe=c(De,Ce);return Oe[Oe.length-1]}return R}function k(p,c,S,h){function R(E,D,N,I,F,L){var P=p(p(S(E[0],E[0]),S(E[1],E[1])),p(S(E[2],E[2]),S(E[3],E[3]))),q=h(P,D[0]),U=h(P,N[0]),W=h(P,I[0]),j=h(P,F[0]),$=h(P,L[0]),G=p(p(S(D[0],D[0]),S(D[1],D[1])),p(S(D[2],D[2]),S(D[3],D[3]))),O=h(G,E[0]),Z=h(G,N[0]),ne=h(G,I[0]),Q=h(G,F[0]),ie=h(G,L[0]),ee=p(p(S(N[0],N[0]),S(N[1],N[1])),p(S(N[2],N[2]),S(N[3],N[3]))),V=h(ee,E[0]),re=h(ee,D[0]),H=h(ee,I[0]),te=h(ee,F[0]),se=h(ee,L[0]),he=p(p(S(I[0],I[0]),S(I[1],I[1])),p(S(I[2],I[2]),S(I[3],I[3]))),ke=h(he,E[0]),we=h(he,D[0]),ve=h(he,N[0]),Me=h(he,F[0]),Se=h(he,L[0]),De=p(p(S(F[0],F[0]),S(F[1],F[1])),p(S(F[2],F[2]),S(F[3],F[3]))),Ce=h(De,E[0]),Oe=h(De,D[0]),Be=h(De,N[0]),ge=h(De,I[0]),Ae=h(De,L[0]),ce=p(p(S(L[0],L[0]),S(L[1],L[1])),p(S(L[2],L[2]),S(L[3],L[3]))),ye=h(ce,E[0]),Le=h(ce,D[0]),me=h(ce,N[0]),de=h(ce,I[0]),be=h(ce,F[0]),Ee=p(p(p(h(p(p(h(p(h(c(be,Ae),I[1]),p(h(c(de,Se),-F[1]),h(c(ge,Me),L[1]))),N[2]),h(p(h(c(be,Ae),N[1]),p(h(c(me,se),-F[1]),h(c(Be,te),L[1]))),-I[2])),p(h(p(h(c(de,Se),N[1]),p(h(c(me,se),-I[1]),h(c(ve,H),L[1]))),F[2]),h(p(h(c(ge,Me),N[1]),p(h(c(Be,te),-I[1]),h(c(ve,H),F[1]))),-L[2]))),D[3]),p(h(p(p(h(p(h(c(be,Ae),I[1]),p(h(c(de,Se),-F[1]),h(c(ge,Me),L[1]))),D[2]),h(p(h(c(be,Ae),D[1]),p(h(c(Le,ie),-F[1]),h(c(Oe,Q),L[1]))),-I[2])),p(h(p(h(c(de,Se),D[1]),p(h(c(Le,ie),-I[1]),h(c(we,ne),L[1]))),F[2]),h(p(h(c(ge,Me),D[1]),p(h(c(Oe,Q),-I[1]),h(c(we,ne),F[1]))),-L[2]))),-N[3]),h(p(p(h(p(h(c(be,Ae),N[1]),p(h(c(me,se),-F[1]),h(c(Be,te),L[1]))),D[2]),h(p(h(c(be,Ae),D[1]),p(h(c(Le,ie),-F[1]),h(c(Oe,Q),L[1]))),-N[2])),p(h(p(h(c(me,se),D[1]),p(h(c(Le,ie),-N[1]),h(c(re,Z),L[1]))),F[2]),h(p(h(c(Be,te),D[1]),p(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),-L[2]))),I[3]))),p(p(h(p(p(h(p(h(c(de,Se),N[1]),p(h(c(me,se),-I[1]),h(c(ve,H),L[1]))),D[2]),h(p(h(c(de,Se),D[1]),p(h(c(Le,ie),-I[1]),h(c(we,ne),L[1]))),-N[2])),p(h(p(h(c(me,se),D[1]),p(h(c(Le,ie),-N[1]),h(c(re,Z),L[1]))),I[2]),h(p(h(c(ve,H),D[1]),p(h(c(we,ne),-N[1]),h(c(re,Z),I[1]))),-L[2]))),-F[3]),h(p(p(h(p(h(c(ge,Me),N[1]),p(h(c(Be,te),-I[1]),h(c(ve,H),F[1]))),D[2]),h(p(h(c(ge,Me),D[1]),p(h(c(Oe,Q),-I[1]),h(c(we,ne),F[1]))),-N[2])),p(h(p(h(c(Be,te),D[1]),p(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),I[2]),h(p(h(c(ve,H),D[1]),p(h(c(we,ne),-N[1]),h(c(re,Z),I[1]))),-F[2]))),L[3])),p(h(p(p(h(p(h(c(be,Ae),I[1]),p(h(c(de,Se),-F[1]),h(c(ge,Me),L[1]))),D[2]),h(p(h(c(be,Ae),D[1]),p(h(c(Le,ie),-F[1]),h(c(Oe,Q),L[1]))),-I[2])),p(h(p(h(c(de,Se),D[1]),p(h(c(Le,ie),-I[1]),h(c(we,ne),L[1]))),F[2]),h(p(h(c(ge,Me),D[1]),p(h(c(Oe,Q),-I[1]),h(c(we,ne),F[1]))),-L[2]))),E[3]),h(p(p(h(p(h(c(be,Ae),I[1]),p(h(c(de,Se),-F[1]),h(c(ge,Me),L[1]))),E[2]),h(p(h(c(be,Ae),E[1]),p(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-I[2])),p(h(p(h(c(de,Se),E[1]),p(h(c(ye,$),-I[1]),h(c(ke,W),L[1]))),F[2]),h(p(h(c(ge,Me),E[1]),p(h(c(Ce,j),-I[1]),h(c(ke,W),F[1]))),-L[2]))),-D[3])))),p(p(p(h(p(p(h(p(h(c(be,Ae),D[1]),p(h(c(Le,ie),-F[1]),h(c(Oe,Q),L[1]))),E[2]),h(p(h(c(be,Ae),E[1]),p(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-D[2])),p(h(p(h(c(Le,ie),E[1]),p(h(c(ye,$),-D[1]),h(c(O,q),L[1]))),F[2]),h(p(h(c(Oe,Q),E[1]),p(h(c(Ce,j),-D[1]),h(c(O,q),F[1]))),-L[2]))),I[3]),h(p(p(h(p(h(c(de,Se),D[1]),p(h(c(Le,ie),-I[1]),h(c(we,ne),L[1]))),E[2]),h(p(h(c(de,Se),E[1]),p(h(c(ye,$),-I[1]),h(c(ke,W),L[1]))),-D[2])),p(h(p(h(c(Le,ie),E[1]),p(h(c(ye,$),-D[1]),h(c(O,q),L[1]))),I[2]),h(p(h(c(we,ne),E[1]),p(h(c(ke,W),-D[1]),h(c(O,q),I[1]))),-L[2]))),-F[3])),p(h(p(p(h(p(h(c(ge,Me),D[1]),p(h(c(Oe,Q),-I[1]),h(c(we,ne),F[1]))),E[2]),h(p(h(c(ge,Me),E[1]),p(h(c(Ce,j),-I[1]),h(c(ke,W),F[1]))),-D[2])),p(h(p(h(c(Oe,Q),E[1]),p(h(c(Ce,j),-D[1]),h(c(O,q),F[1]))),I[2]),h(p(h(c(we,ne),E[1]),p(h(c(ke,W),-D[1]),h(c(O,q),I[1]))),-F[2]))),L[3]),h(p(p(h(p(h(c(de,Se),N[1]),p(h(c(me,se),-I[1]),h(c(ve,H),L[1]))),D[2]),h(p(h(c(de,Se),D[1]),p(h(c(Le,ie),-I[1]),h(c(we,ne),L[1]))),-N[2])),p(h(p(h(c(me,se),D[1]),p(h(c(Le,ie),-N[1]),h(c(re,Z),L[1]))),I[2]),h(p(h(c(ve,H),D[1]),p(h(c(we,ne),-N[1]),h(c(re,Z),I[1]))),-L[2]))),E[3]))),p(p(h(p(p(h(p(h(c(de,Se),N[1]),p(h(c(me,se),-I[1]),h(c(ve,H),L[1]))),E[2]),h(p(h(c(de,Se),E[1]),p(h(c(ye,$),-I[1]),h(c(ke,W),L[1]))),-N[2])),p(h(p(h(c(me,se),E[1]),p(h(c(ye,$),-N[1]),h(c(V,U),L[1]))),I[2]),h(p(h(c(ve,H),E[1]),p(h(c(ke,W),-N[1]),h(c(V,U),I[1]))),-L[2]))),-D[3]),h(p(p(h(p(h(c(de,Se),D[1]),p(h(c(Le,ie),-I[1]),h(c(we,ne),L[1]))),E[2]),h(p(h(c(de,Se),E[1]),p(h(c(ye,$),-I[1]),h(c(ke,W),L[1]))),-D[2])),p(h(p(h(c(Le,ie),E[1]),p(h(c(ye,$),-D[1]),h(c(O,q),L[1]))),I[2]),h(p(h(c(we,ne),E[1]),p(h(c(ke,W),-D[1]),h(c(O,q),I[1]))),-L[2]))),N[3])),p(h(p(p(h(p(h(c(me,se),D[1]),p(h(c(Le,ie),-N[1]),h(c(re,Z),L[1]))),E[2]),h(p(h(c(me,se),E[1]),p(h(c(ye,$),-N[1]),h(c(V,U),L[1]))),-D[2])),p(h(p(h(c(Le,ie),E[1]),p(h(c(ye,$),-D[1]),h(c(O,q),L[1]))),N[2]),h(p(h(c(re,Z),E[1]),p(h(c(V,U),-D[1]),h(c(O,q),N[1]))),-L[2]))),-I[3]),h(p(p(h(p(h(c(ve,H),D[1]),p(h(c(we,ne),-N[1]),h(c(re,Z),I[1]))),E[2]),h(p(h(c(ve,H),E[1]),p(h(c(ke,W),-N[1]),h(c(V,U),I[1]))),-D[2])),p(h(p(h(c(we,ne),E[1]),p(h(c(ke,W),-D[1]),h(c(O,q),I[1]))),N[2]),h(p(h(c(re,Z),E[1]),p(h(c(V,U),-D[1]),h(c(O,q),N[1]))),-I[2]))),L[3]))))),ze=p(p(p(h(p(p(h(p(h(c(be,Ae),I[1]),p(h(c(de,Se),-F[1]),h(c(ge,Me),L[1]))),N[2]),h(p(h(c(be,Ae),N[1]),p(h(c(me,se),-F[1]),h(c(Be,te),L[1]))),-I[2])),p(h(p(h(c(de,Se),N[1]),p(h(c(me,se),-I[1]),h(c(ve,H),L[1]))),F[2]),h(p(h(c(ge,Me),N[1]),p(h(c(Be,te),-I[1]),h(c(ve,H),F[1]))),-L[2]))),E[3]),p(h(p(p(h(p(h(c(be,Ae),I[1]),p(h(c(de,Se),-F[1]),h(c(ge,Me),L[1]))),E[2]),h(p(h(c(be,Ae),E[1]),p(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-I[2])),p(h(p(h(c(de,Se),E[1]),p(h(c(ye,$),-I[1]),h(c(ke,W),L[1]))),F[2]),h(p(h(c(ge,Me),E[1]),p(h(c(Ce,j),-I[1]),h(c(ke,W),F[1]))),-L[2]))),-N[3]),h(p(p(h(p(h(c(be,Ae),N[1]),p(h(c(me,se),-F[1]),h(c(Be,te),L[1]))),E[2]),h(p(h(c(be,Ae),E[1]),p(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-N[2])),p(h(p(h(c(me,se),E[1]),p(h(c(ye,$),-N[1]),h(c(V,U),L[1]))),F[2]),h(p(h(c(Be,te),E[1]),p(h(c(Ce,j),-N[1]),h(c(V,U),F[1]))),-L[2]))),I[3]))),p(p(h(p(p(h(p(h(c(de,Se),N[1]),p(h(c(me,se),-I[1]),h(c(ve,H),L[1]))),E[2]),h(p(h(c(de,Se),E[1]),p(h(c(ye,$),-I[1]),h(c(ke,W),L[1]))),-N[2])),p(h(p(h(c(me,se),E[1]),p(h(c(ye,$),-N[1]),h(c(V,U),L[1]))),I[2]),h(p(h(c(ve,H),E[1]),p(h(c(ke,W),-N[1]),h(c(V,U),I[1]))),-L[2]))),-F[3]),h(p(p(h(p(h(c(ge,Me),N[1]),p(h(c(Be,te),-I[1]),h(c(ve,H),F[1]))),E[2]),h(p(h(c(ge,Me),E[1]),p(h(c(Ce,j),-I[1]),h(c(ke,W),F[1]))),-N[2])),p(h(p(h(c(Be,te),E[1]),p(h(c(Ce,j),-N[1]),h(c(V,U),F[1]))),I[2]),h(p(h(c(ve,H),E[1]),p(h(c(ke,W),-N[1]),h(c(V,U),I[1]))),-F[2]))),L[3])),p(h(p(p(h(p(h(c(be,Ae),N[1]),p(h(c(me,se),-F[1]),h(c(Be,te),L[1]))),D[2]),h(p(h(c(be,Ae),D[1]),p(h(c(Le,ie),-F[1]),h(c(Oe,Q),L[1]))),-N[2])),p(h(p(h(c(me,se),D[1]),p(h(c(Le,ie),-N[1]),h(c(re,Z),L[1]))),F[2]),h(p(h(c(Be,te),D[1]),p(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),-L[2]))),E[3]),h(p(p(h(p(h(c(be,Ae),N[1]),p(h(c(me,se),-F[1]),h(c(Be,te),L[1]))),E[2]),h(p(h(c(be,Ae),E[1]),p(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-N[2])),p(h(p(h(c(me,se),E[1]),p(h(c(ye,$),-N[1]),h(c(V,U),L[1]))),F[2]),h(p(h(c(Be,te),E[1]),p(h(c(Ce,j),-N[1]),h(c(V,U),F[1]))),-L[2]))),-D[3])))),p(p(p(h(p(p(h(p(h(c(be,Ae),D[1]),p(h(c(Le,ie),-F[1]),h(c(Oe,Q),L[1]))),E[2]),h(p(h(c(be,Ae),E[1]),p(h(c(ye,$),-F[1]),h(c(Ce,j),L[1]))),-D[2])),p(h(p(h(c(Le,ie),E[1]),p(h(c(ye,$),-D[1]),h(c(O,q),L[1]))),F[2]),h(p(h(c(Oe,Q),E[1]),p(h(c(Ce,j),-D[1]),h(c(O,q),F[1]))),-L[2]))),N[3]),h(p(p(h(p(h(c(me,se),D[1]),p(h(c(Le,ie),-N[1]),h(c(re,Z),L[1]))),E[2]),h(p(h(c(me,se),E[1]),p(h(c(ye,$),-N[1]),h(c(V,U),L[1]))),-D[2])),p(h(p(h(c(Le,ie),E[1]),p(h(c(ye,$),-D[1]),h(c(O,q),L[1]))),N[2]),h(p(h(c(re,Z),E[1]),p(h(c(V,U),-D[1]),h(c(O,q),N[1]))),-L[2]))),-F[3])),p(h(p(p(h(p(h(c(Be,te),D[1]),p(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),E[2]),h(p(h(c(Be,te),E[1]),p(h(c(Ce,j),-N[1]),h(c(V,U),F[1]))),-D[2])),p(h(p(h(c(Oe,Q),E[1]),p(h(c(Ce,j),-D[1]),h(c(O,q),F[1]))),N[2]),h(p(h(c(re,Z),E[1]),p(h(c(V,U),-D[1]),h(c(O,q),N[1]))),-F[2]))),L[3]),h(p(p(h(p(h(c(ge,Me),N[1]),p(h(c(Be,te),-I[1]),h(c(ve,H),F[1]))),D[2]),h(p(h(c(ge,Me),D[1]),p(h(c(Oe,Q),-I[1]),h(c(we,ne),F[1]))),-N[2])),p(h(p(h(c(Be,te),D[1]),p(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),I[2]),h(p(h(c(ve,H),D[1]),p(h(c(we,ne),-N[1]),h(c(re,Z),I[1]))),-F[2]))),E[3]))),p(p(h(p(p(h(p(h(c(ge,Me),N[1]),p(h(c(Be,te),-I[1]),h(c(ve,H),F[1]))),E[2]),h(p(h(c(ge,Me),E[1]),p(h(c(Ce,j),-I[1]),h(c(ke,W),F[1]))),-N[2])),p(h(p(h(c(Be,te),E[1]),p(h(c(Ce,j),-N[1]),h(c(V,U),F[1]))),I[2]),h(p(h(c(ve,H),E[1]),p(h(c(ke,W),-N[1]),h(c(V,U),I[1]))),-F[2]))),-D[3]),h(p(p(h(p(h(c(ge,Me),D[1]),p(h(c(Oe,Q),-I[1]),h(c(we,ne),F[1]))),E[2]),h(p(h(c(ge,Me),E[1]),p(h(c(Ce,j),-I[1]),h(c(ke,W),F[1]))),-D[2])),p(h(p(h(c(Oe,Q),E[1]),p(h(c(Ce,j),-D[1]),h(c(O,q),F[1]))),I[2]),h(p(h(c(we,ne),E[1]),p(h(c(ke,W),-D[1]),h(c(O,q),I[1]))),-F[2]))),N[3])),p(h(p(p(h(p(h(c(Be,te),D[1]),p(h(c(Oe,Q),-N[1]),h(c(re,Z),F[1]))),E[2]),h(p(h(c(Be,te),E[1]),p(h(c(Ce,j),-N[1]),h(c(V,U),F[1]))),-D[2])),p(h(p(h(c(Oe,Q),E[1]),p(h(c(Ce,j),-D[1]),h(c(O,q),F[1]))),N[2]),h(p(h(c(re,Z),E[1]),p(h(c(V,U),-D[1]),h(c(O,q),N[1]))),-F[2]))),-I[3]),h(p(p(h(p(h(c(ve,H),D[1]),p(h(c(we,ne),-N[1]),h(c(re,Z),I[1]))),E[2]),h(p(h(c(ve,H),E[1]),p(h(c(ke,W),-N[1]),h(c(V,U),I[1]))),-D[2])),p(h(p(h(c(we,ne),E[1]),p(h(c(ke,W),-D[1]),h(c(O,q),I[1]))),N[2]),h(p(h(c(re,Z),E[1]),p(h(c(V,U),-D[1]),h(c(O,q),N[1]))),-I[2]))),F[3]))))),Fe=c(Ee,ze);return Fe[Fe.length-1]}return R}var y=[b,x,T];function M(p){var c=y[p.length];return c||(c=y[p.length]=g(p.length)),c.apply(void 0,p)}function d(p,c,S,h,R,E,D,N){function I(F,L,P,q,U,W){switch(arguments.length){case 0:case 1:return 0;case 2:return h(F,L);case 3:return R(F,L,P);case 4:return E(F,L,P,q);case 5:return D(F,L,P,q,U);case 6:return N(F,L,P,q,U,W)}for(var j=new Array(arguments.length),$=0;$<arguments.length;++$)j[$]=arguments[$];return p(j)}return I}function _(){for(;y.length<=v;)y.push(g(y.length));a.exports=d.apply(void 0,[M].concat(y));for(var p=0;p<=v;++p)a.exports[p]=y[p]}_()},727:function(a,o,i){"use strict";var l=i(2962),u=6;function s(y){var M=y===2?g:y===3?b:y===4?x:y===5?T:A;return y<6?M(l[y]):M(l)}function f(){return[[0]]}function v(y,M){return[[M[0]],[y[0][0]]]}function g(y){return function(d,_){return[y([[+_[0],+d[0][1]],[+_[1],+d[1][1]]]),y([[+d[0][0],+_[0]],[+d[1][0],+_[1]]]),y(d)]}}function b(y){return function(d,_){return[y([[+_[0],+d[0][1],+d[0][2]],[+_[1],+d[1][1],+d[1][2]],[+_[2],+d[2][1],+d[2][2]]]),y([[+d[0][0],+_[0],+d[0][2]],[+d[1][0],+_[1],+d[1][2]],[+d[2][0],+_[2],+d[2][2]]]),y([[+d[0][0],+d[0][1],+_[0]],[+d[1][0],+d[1][1],+_[1]],[+d[2][0],+d[2][1],+_[2]]]),y(d)]}}function x(y){return function(d,_){return[y([[+_[0],+d[0][1],+d[0][2],+d[0][3]],[+_[1],+d[1][1],+d[1][2],+d[1][3]],[+_[2],+d[2][1],+d[2][2],+d[2][3]],[+_[3],+d[3][1],+d[3][2],+d[3][3]]]),y([[+d[0][0],+_[0],+d[0][2],+d[0][3]],[+d[1][0],+_[1],+d[1][2],+d[1][3]],[+d[2][0],+_[2],+d[2][2],+d[2][3]],[+d[3][0],+_[3],+d[3][2],+d[3][3]]]),y([[+d[0][0],+d[0][1],+_[0],+d[0][3]],[+d[1][0],+d[1][1],+_[1],+d[1][3]],[+d[2][0],+d[2][1],+_[2],+d[2][3]],[+d[3][0],+d[3][1],+_[3],+d[3][3]]]),y([[+d[0][0],+d[0][1],+d[0][2],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+_[3]]]),y(d)]}}function T(y){return function(d,_){return[y([[+_[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4]],[+_[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4]],[+_[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4]],[+_[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4]],[+_[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4]]]),y([[+d[0][0],+_[0],+d[0][2],+d[0][3],+d[0][4]],[+d[1][0],+_[1],+d[1][2],+d[1][3],+d[1][4]],[+d[2][0],+_[2],+d[2][2],+d[2][3],+d[2][4]],[+d[3][0],+_[3],+d[3][2],+d[3][3],+d[3][4]],[+d[4][0],+_[4],+d[4][2],+d[4][3],+d[4][4]]]),y([[+d[0][0],+d[0][1],+_[0],+d[0][3],+d[0][4]],[+d[1][0],+d[1][1],+_[1],+d[1][3],+d[1][4]],[+d[2][0],+d[2][1],+_[2],+d[2][3],+d[2][4]],[+d[3][0],+d[3][1],+_[3],+d[3][3],+d[3][4]],[+d[4][0],+d[4][1],+_[4],+d[4][3],+d[4][4]]]),y([[+d[0][0],+d[0][1],+d[0][2],+_[0],+d[0][4]],[+d[1][0],+d[1][1],+d[1][2],+_[1],+d[1][4]],[+d[2][0],+d[2][1],+d[2][2],+_[2],+d[2][4]],[+d[3][0],+d[3][1],+d[3][2],+_[3],+d[3][4]],[+d[4][0],+d[4][1],+d[4][2],+_[4],+d[4][4]]]),y([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+_[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+_[4]]]),y(d)]}}function A(y){return function(d,_){return[y([[+_[0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+_[1],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+_[2],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+_[3],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+_[4],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+_[5],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),y([[+d[0][0],+_[0],+d[0][2],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+_[1],+d[1][2],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+_[2],+d[2][2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+_[3],+d[3][2],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+_[4],+d[4][2],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+_[5],+d[5][2],+d[5][3],+d[5][4],+d[5][5]]]),y([[+d[0][0],+d[0][1],+_[0],+d[0][3],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+_[1],+d[1][3],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+_[2],+d[2][3],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+_[3],+d[3][3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+_[4],+d[4][3],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+_[5],+d[5][3],+d[5][4],+d[5][5]]]),y([[+d[0][0],+d[0][1],+d[0][2],+_[0],+d[0][4],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+_[1],+d[1][4],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+_[2],+d[2][4],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+_[3],+d[3][4],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+_[4],+d[4][4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+_[5],+d[5][4],+d[5][5]]]),y([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+_[0],+d[0][5]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+_[1],+d[1][5]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+_[2],+d[2][5]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+_[3],+d[3][5]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+_[4],+d[4][5]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+_[5],+d[5][5]]]),y([[+d[0][0],+d[0][1],+d[0][2],+d[0][3],+d[0][4],+_[0]],[+d[1][0],+d[1][1],+d[1][2],+d[1][3],+d[1][4],+_[1]],[+d[2][0],+d[2][1],+d[2][2],+d[2][3],+d[2][4],+_[2]],[+d[3][0],+d[3][1],+d[3][2],+d[3][3],+d[3][4],+_[3]],[+d[4][0],+d[4][1],+d[4][2],+d[4][3],+d[4][4],+_[4]],[+d[5][0],+d[5][1],+d[5][2],+d[5][3],+d[5][4],+_[5]]]),y(d)]}}var m=[f,v];function w(y,M,d,_,p,c,S,h){return function(E,D){switch(E.length){case 0:return y(E,D);case 1:return M(E,D);case 2:return d(E,D);case 3:return _(E,D);case 4:return p(E,D);case 5:return c(E,D)}var N=S[E.length];return N||(N=S[E.length]=h(E.length)),N(E,D)}}function k(){for(;m.length<u;)m.push(s(m.length));a.exports=w.apply(void 0,m.concat([m,s]));for(var y=0;y<u;++y)a.exports[y]=m[y]}k()},3250:function(a,o,i){"use strict";var l=i(5250),u=i(8210),s=i(3012),f=i(8545),v=5,g=11102230246251565e-32,b=(3+16*g)*g,x=(7+56*g)*g;function T(c,S,h,R){return function(D,N,I){var F=c(c(S(N[1],I[0]),S(-I[1],N[0])),c(S(D[1],N[0]),S(-N[1],D[0]))),L=c(S(D[1],I[0]),S(-I[1],D[0])),P=R(F,L);return P[P.length-1]}}function A(c,S,h,R){return function(D,N,I,F){var L=c(c(h(c(S(I[1],F[0]),S(-F[1],I[0])),N[2]),c(h(c(S(N[1],F[0]),S(-F[1],N[0])),-I[2]),h(c(S(N[1],I[0]),S(-I[1],N[0])),F[2]))),c(h(c(S(N[1],F[0]),S(-F[1],N[0])),D[2]),c(h(c(S(D[1],F[0]),S(-F[1],D[0])),-N[2]),h(c(S(D[1],N[0]),S(-N[1],D[0])),F[2])))),P=c(c(h(c(S(I[1],F[0]),S(-F[1],I[0])),D[2]),c(h(c(S(D[1],F[0]),S(-F[1],D[0])),-I[2]),h(c(S(D[1],I[0]),S(-I[1],D[0])),F[2]))),c(h(c(S(N[1],I[0]),S(-I[1],N[0])),D[2]),c(h(c(S(D[1],I[0]),S(-I[1],D[0])),-N[2]),h(c(S(D[1],N[0]),S(-N[1],D[0])),I[2])))),q=R(L,P);return q[q.length-1]}}function m(c,S,h,R){return function(D,N,I,F,L){var P=c(c(c(h(c(h(c(S(F[1],L[0]),S(-L[1],F[0])),I[2]),c(h(c(S(I[1],L[0]),S(-L[1],I[0])),-F[2]),h(c(S(I[1],F[0]),S(-F[1],I[0])),L[2]))),N[3]),c(h(c(h(c(S(F[1],L[0]),S(-L[1],F[0])),N[2]),c(h(c(S(N[1],L[0]),S(-L[1],N[0])),-F[2]),h(c(S(N[1],F[0]),S(-F[1],N[0])),L[2]))),-I[3]),h(c(h(c(S(I[1],L[0]),S(-L[1],I[0])),N[2]),c(h(c(S(N[1],L[0]),S(-L[1],N[0])),-I[2]),h(c(S(N[1],I[0]),S(-I[1],N[0])),L[2]))),F[3]))),c(h(c(h(c(S(I[1],F[0]),S(-F[1],I[0])),N[2]),c(h(c(S(N[1],F[0]),S(-F[1],N[0])),-I[2]),h(c(S(N[1],I[0]),S(-I[1],N[0])),F[2]))),-L[3]),c(h(c(h(c(S(F[1],L[0]),S(-L[1],F[0])),N[2]),c(h(c(S(N[1],L[0]),S(-L[1],N[0])),-F[2]),h(c(S(N[1],F[0]),S(-F[1],N[0])),L[2]))),D[3]),h(c(h(c(S(F[1],L[0]),S(-L[1],F[0])),D[2]),c(h(c(S(D[1],L[0]),S(-L[1],D[0])),-F[2]),h(c(S(D[1],F[0]),S(-F[1],D[0])),L[2]))),-N[3])))),c(c(h(c(h(c(S(N[1],L[0]),S(-L[1],N[0])),D[2]),c(h(c(S(D[1],L[0]),S(-L[1],D[0])),-N[2]),h(c(S(D[1],N[0]),S(-N[1],D[0])),L[2]))),F[3]),c(h(c(h(c(S(N[1],F[0]),S(-F[1],N[0])),D[2]),c(h(c(S(D[1],F[0]),S(-F[1],D[0])),-N[2]),h(c(S(D[1],N[0]),S(-N[1],D[0])),F[2]))),-L[3]),h(c(h(c(S(I[1],F[0]),S(-F[1],I[0])),N[2]),c(h(c(S(N[1],F[0]),S(-F[1],N[0])),-I[2]),h(c(S(N[1],I[0]),S(-I[1],N[0])),F[2]))),D[3]))),c(h(c(h(c(S(I[1],F[0]),S(-F[1],I[0])),D[2]),c(h(c(S(D[1],F[0]),S(-F[1],D[0])),-I[2]),h(c(S(D[1],I[0]),S(-I[1],D[0])),F[2]))),-N[3]),c(h(c(h(c(S(N[1],F[0]),S(-F[1],N[0])),D[2]),c(h(c(S(D[1],F[0]),S(-F[1],D[0])),-N[2]),h(c(S(D[1],N[0]),S(-N[1],D[0])),F[2]))),I[3]),h(c(h(c(S(N[1],I[0]),S(-I[1],N[0])),D[2]),c(h(c(S(D[1],I[0]),S(-I[1],D[0])),-N[2]),h(c(S(D[1],N[0]),S(-N[1],D[0])),I[2]))),-F[3]))))),q=c(c(c(h(c(h(c(S(F[1],L[0]),S(-L[1],F[0])),I[2]),c(h(c(S(I[1],L[0]),S(-L[1],I[0])),-F[2]),h(c(S(I[1],F[0]),S(-F[1],I[0])),L[2]))),D[3]),h(c(h(c(S(F[1],L[0]),S(-L[1],F[0])),D[2]),c(h(c(S(D[1],L[0]),S(-L[1],D[0])),-F[2]),h(c(S(D[1],F[0]),S(-F[1],D[0])),L[2]))),-I[3])),c(h(c(h(c(S(I[1],L[0]),S(-L[1],I[0])),D[2]),c(h(c(S(D[1],L[0]),S(-L[1],D[0])),-I[2]),h(c(S(D[1],I[0]),S(-I[1],D[0])),L[2]))),F[3]),h(c(h(c(S(I[1],F[0]),S(-F[1],I[0])),D[2]),c(h(c(S(D[1],F[0]),S(-F[1],D[0])),-I[2]),h(c(S(D[1],I[0]),S(-I[1],D[0])),F[2]))),-L[3]))),c(c(h(c(h(c(S(I[1],L[0]),S(-L[1],I[0])),N[2]),c(h(c(S(N[1],L[0]),S(-L[1],N[0])),-I[2]),h(c(S(N[1],I[0]),S(-I[1],N[0])),L[2]))),D[3]),h(c(h(c(S(I[1],L[0]),S(-L[1],I[0])),D[2]),c(h(c(S(D[1],L[0]),S(-L[1],D[0])),-I[2]),h(c(S(D[1],I[0]),S(-I[1],D[0])),L[2]))),-N[3])),c(h(c(h(c(S(N[1],L[0]),S(-L[1],N[0])),D[2]),c(h(c(S(D[1],L[0]),S(-L[1],D[0])),-N[2]),h(c(S(D[1],N[0]),S(-N[1],D[0])),L[2]))),I[3]),h(c(h(c(S(N[1],I[0]),S(-I[1],N[0])),D[2]),c(h(c(S(D[1],I[0]),S(-I[1],D[0])),-N[2]),h(c(S(D[1],N[0]),S(-N[1],D[0])),I[2]))),-L[3])))),U=R(P,q);return U[U.length-1]}}function w(c){var S=c===3?T:c===4?A:m;return S(u,l,s,f)}var k=w(3),y=w(4),M=[function(){return 0},function(){return 0},function(S,h){return h[0]-S[0]},function(S,h,R){var E=(S[1]-R[1])*(h[0]-R[0]),D=(S[0]-R[0])*(h[1]-R[1]),N=E-D,I;if(E>0){if(D<=0)return N;I=E+D}else if(E<0){if(D>=0)return N;I=-(E+D)}else return N;var F=b*I;return N>=F||N<=-F?N:k(S,h,R)},function(S,h,R,E){var D=S[0]-E[0],N=h[0]-E[0],I=R[0]-E[0],F=S[1]-E[1],L=h[1]-E[1],P=R[1]-E[1],q=S[2]-E[2],U=h[2]-E[2],W=R[2]-E[2],j=N*P,$=I*L,G=I*F,O=D*P,Z=D*L,ne=N*F,Q=q*(j-$)+U*(G-O)+W*(Z-ne),ie=(Math.abs(j)+Math.abs($))*Math.abs(q)+(Math.abs(G)+Math.abs(O))*Math.abs(U)+(Math.abs(Z)+Math.abs(ne))*Math.abs(W),ee=x*ie;return Q>ee||-Q>ee?Q:y(S,h,R,E)}];function d(c){var S=M[c.length];return S||(S=M[c.length]=w(c.length)),S.apply(void 0,c)}function _(c,S,h,R,E,D,N){return function(F,L,P,q,U){switch(arguments.length){case 0:case 1:return 0;case 2:return R(F,L);case 3:return E(F,L,P);case 4:return D(F,L,P,q);case 5:return N(F,L,P,q,U)}for(var W=new Array(arguments.length),j=0;j<arguments.length;++j)W[j]=arguments[j];return c(W)}}function p(){for(;M.length<=v;)M.push(w(M.length));a.exports=_.apply(void 0,[d].concat(M));for(var c=0;c<=v;++c)a.exports[c]=M[c]}p()},5382:function(a,o,i){"use strict";var l=i(8210),u=i(3012);a.exports=s;function s(f,v){if(f.length===1)return u(v,f[0]);if(v.length===1)return u(f,v[0]);if(f.length===0||v.length===0)return[0];var g=[0];if(f.length<v.length)for(var b=0;b<f.length;++b)g=l(g,u(v,f[b]));else for(var b=0;b<v.length;++b)g=l(g,u(f,v[b]));return g}},3012:function(a,o,i){"use strict";var l=i(5250),u=i(9362);a.exports=s;function s(f,v){var g=f.length;if(g===1){var b=l(f[0],v);return b[0]?b:[b[1]]}var x=new Array(2*g),T=[.1,.1],A=[.1,.1],m=0;l(f[0],v,T),T[0]&&(x[m++]=T[0]);for(var w=1;w<g;++w){l(f[w],v,A);var k=T[1];u(k,A[0],T),T[0]&&(x[m++]=T[0]);var y=A[1],M=T[1],d=y+M,_=d-y,p=M-_;T[1]=d,p&&(x[m++]=p)}return T[1]&&(x[m++]=T[1]),m===0&&(x[m++]=0),x.length=m,x}},1125:function(a,o,i){"use strict";a.exports=s;var l=i(3250)[3];function u(f,v,g,b){for(var x=0;x<2;++x){var T=f[x],A=v[x],m=Math.min(T,A),w=Math.max(T,A),k=g[x],y=b[x],M=Math.min(k,y),d=Math.max(k,y);if(d<m||w<M)return!1}return!0}function s(f,v,g,b){var x=l(f,g,b),T=l(v,g,b);if(x>0&&T>0||x<0&&T<0)return!1;var A=l(g,f,v),m=l(b,f,v);return A>0&&m>0||A<0&&m<0?!1:x===0&&T===0&&A===0&&m===0?u(f,v,g,b):!0}},8545:function(a){"use strict";a.exports=i;function o(l,u){var s=l+u,f=s-l,v=s-f,g=u-f,b=l-v,x=b+g;return x?[x,s]:[s]}function i(l,u){var s=l.length|0,f=u.length|0;if(s===1&&f===1)return o(l[0],-u[0]);var v=s+f,g=new Array(v),b=0,x=0,T=0,A=Math.abs,m=l[x],w=A(m),k=-u[T],y=A(k),M,d;w<y?(d=m,x+=1,x<s&&(m=l[x],w=A(m))):(d=k,T+=1,T<f&&(k=-u[T],y=A(k))),x<s&&w<y||T>=f?(M=m,x+=1,x<s&&(m=l[x],w=A(m))):(M=k,T+=1,T<f&&(k=-u[T],y=A(k)));for(var _=M+d,p=_-M,c=d-p,S=c,h=_,R,E,D,N,I;x<s&&T<f;)w<y?(M=m,x+=1,x<s&&(m=l[x],w=A(m))):(M=k,T+=1,T<f&&(k=-u[T],y=A(k))),d=S,_=M+d,p=_-M,c=d-p,c&&(g[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,S=I+N,h=R;for(;x<s;)M=m,d=S,_=M+d,p=_-M,c=d-p,c&&(g[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,S=I+N,h=R,x+=1,x<s&&(m=l[x]);for(;T<f;)M=k,d=S,_=M+d,p=_-M,c=d-p,c&&(g[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,S=I+N,h=R,T+=1,T<f&&(k=-u[T]);return S&&(g[b++]=S),h&&(g[b++]=h),b||(g[b++]=0),g.length=b,g}},8210:function(a){"use strict";a.exports=i;function o(l,u){var s=l+u,f=s-l,v=s-f,g=u-f,b=l-v,x=b+g;return x?[x,s]:[s]}function i(l,u){var s=l.length|0,f=u.length|0;if(s===1&&f===1)return o(l[0],u[0]);var v=s+f,g=new Array(v),b=0,x=0,T=0,A=Math.abs,m=l[x],w=A(m),k=u[T],y=A(k),M,d;w<y?(d=m,x+=1,x<s&&(m=l[x],w=A(m))):(d=k,T+=1,T<f&&(k=u[T],y=A(k))),x<s&&w<y||T>=f?(M=m,x+=1,x<s&&(m=l[x],w=A(m))):(M=k,T+=1,T<f&&(k=u[T],y=A(k)));for(var _=M+d,p=_-M,c=d-p,S=c,h=_,R,E,D,N,I;x<s&&T<f;)w<y?(M=m,x+=1,x<s&&(m=l[x],w=A(m))):(M=k,T+=1,T<f&&(k=u[T],y=A(k))),d=S,_=M+d,p=_-M,c=d-p,c&&(g[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,S=I+N,h=R;for(;x<s;)M=m,d=S,_=M+d,p=_-M,c=d-p,c&&(g[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,S=I+N,h=R,x+=1,x<s&&(m=l[x]);for(;T<f;)M=k,d=S,_=M+d,p=_-M,c=d-p,c&&(g[b++]=c),R=h+_,E=R-h,D=R-E,N=_-E,I=h-D,S=I+N,h=R,T+=1,T<f&&(k=u[T]);return S&&(g[b++]=S),h&&(g[b++]=h),b||(g[b++]=0),g.length=b,g}},9127:function(a,o,i){"use strict";a.exports=s;var l=i(6204),u=i(5771);function s(f){return u(l(f))}},7765:function(a,o,i){"use strict";a.exports=m;var l=i(9618),u=i(1888),s=i(446),f=i(1570);function v(w){for(var k=w.length,y=0,M=0;M<k;++M)y=Math.max(y,w[M].length)|0;return y-1}function g(w,k){for(var y=w.length,M=u.mallocUint8(y),d=0;d<y;++d)M[d]=w[d]<k|0;return M}function b(w,k){for(var y=w.length,M=k*(k+1)/2*y|0,d=u.mallocUint32(M*2),_=0,p=0;p<y;++p)for(var c=w[p],k=c.length,S=0;S<k;++S)for(var h=0;h<S;++h){var R=c[h],E=c[S];d[_++]=Math.min(R,E)|0,d[_++]=Math.max(R,E)|0}var D=_/2|0;s(l(d,[D,2]));for(var N=2,p=2;p<_;p+=2)d[p-2]===d[p]&&d[p-1]===d[p+1]||(d[N++]=d[p],d[N++]=d[p+1]);return l(d,[N/2|0,2])}function x(w,k,y,M){for(var d=w.data,_=w.shape[0],p=u.mallocDouble(_),c=0,S=0;S<_;++S){var h=d[2*S],R=d[2*S+1];if(y[h]!==y[R]){var E=k[h],D=k[R];d[2*c]=h,d[2*c+1]=R,p[c++]=(D-M)/(D-E)}}return w.shape[0]=c,l(p,[c])}function T(w,k){var y=u.mallocInt32(k*2),M=w.shape[0],d=w.data;y[0]=0;for(var _=0,p=0;p<M;++p){var c=d[2*p];if(c!==_){for(y[2*_+1]=p;++_<c;)y[2*_]=p,y[2*_+1]=p;y[2*_]=p}}for(y[2*_+1]=M;++_<k;)y[2*_]=y[2*_+1]=M;return y}function A(w){for(var k=w.shape[0]|0,y=w.data,M=new Array(k),d=0;d<k;++d)M[d]=[y[2*d],y[2*d+1]];return M}function m(w,k,y,M){y=y||0,typeof M=="undefined"&&(M=v(w));var d=w.length;if(d===0||M<1)return{cells:[],vertexIds:[],vertexWeights:[]};var _=g(k,+y),p=b(w,M),c=x(p,k,_,+y),S=T(p,k.length|0),h=f(M)(w,p.data,S,_),R=A(p),E=[].slice.call(c.data,0,c.shape[0]);return u.free(_),u.free(p.data),u.free(c.data),u.free(S),{cells:h,vertexIds:R,vertexWeights:E}}},1570:function(a){"use strict";a.exports=i;var o=[function(){function u(f,v,g,b){for(var x=Math.min(g,b)|0,T=Math.max(g,b)|0,A=f[2*x],m=f[2*x+1];A<m;){var w=A+m>>1,k=v[2*w+1];if(k===T)return w;T<k?m=w:A=w+1}return A}function s(f,v,g,b){for(var x=f.length,T=[],A=0;A<x;++A)var m=f[A],w=m.length;return T}return s},function(){function u(f,v,g,b){for(var x=Math.min(g,b)|0,T=Math.max(g,b)|0,A=f[2*x],m=f[2*x+1];A<m;){var w=A+m>>1,k=v[2*w+1];if(k===T)return w;T<k?m=w:A=w+1}return A}function s(f,v,g,b){for(var x=f.length,T=[],A=0;A<x;++A){var m=f[A],w=m.length;if(w===2){var k=(b[m[0]]<<0)+(b[m[1]]<<1);if(k===0||k===3)continue;switch(k){case 0:break;case 1:T.push([u(g,v,m[0],m[1])]);break;case 2:T.push([u(g,v,m[1],m[0])]);break;case 3:break}}}return T}return s},function(){function u(f,v,g,b){for(var x=Math.min(g,b)|0,T=Math.max(g,b)|0,A=f[2*x],m=f[2*x+1];A<m;){var w=A+m>>1,k=v[2*w+1];if(k===T)return w;T<k?m=w:A=w+1}return A}function s(f,v,g,b){for(var x=f.length,T=[],A=0;A<x;++A){var m=f[A],w=m.length;if(w===3){var k=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2);if(k===0||k===7)continue;switch(k){case 0:break;case 1:T.push([u(g,v,m[0],m[2]),u(g,v,m[0],m[1])]);break;case 2:T.push([u(g,v,m[1],m[0]),u(g,v,m[1],m[2])]);break;case 3:T.push([u(g,v,m[0],m[2]),u(g,v,m[1],m[2])]);break;case 4:T.push([u(g,v,m[2],m[1]),u(g,v,m[2],m[0])]);break;case 5:T.push([u(g,v,m[2],m[1]),u(g,v,m[0],m[1])]);break;case 6:T.push([u(g,v,m[1],m[0]),u(g,v,m[2],m[0])]);break;case 7:break}}else if(w===2){var k=(b[m[0]]<<0)+(b[m[1]]<<1);if(k===0||k===3)continue;switch(k){case 0:break;case 1:T.push([u(g,v,m[0],m[1])]);break;case 2:T.push([u(g,v,m[1],m[0])]);break;case 3:break}}}return T}return s},function(){function u(f,v,g,b){for(var x=Math.min(g,b)|0,T=Math.max(g,b)|0,A=f[2*x],m=f[2*x+1];A<m;){var w=A+m>>1,k=v[2*w+1];if(k===T)return w;T<k?m=w:A=w+1}return A}function s(f,v,g,b){for(var x=f.length,T=[],A=0;A<x;++A){var m=f[A],w=m.length;if(w===4){var k=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2)+(b[m[3]]<<3);if(k===0||k===15)continue;switch(k){case 0:break;case 1:T.push([u(g,v,m[0],m[1]),u(g,v,m[0],m[2]),u(g,v,m[0],m[3])]);break;case 2:T.push([u(g,v,m[1],m[2]),u(g,v,m[1],m[0]),u(g,v,m[1],m[3])]);break;case 3:T.push([u(g,v,m[1],m[2]),u(g,v,m[0],m[2]),u(g,v,m[0],m[3])],[u(g,v,m[1],m[3]),u(g,v,m[1],m[2]),u(g,v,m[0],m[3])]);break;case 4:T.push([u(g,v,m[2],m[0]),u(g,v,m[2],m[1]),u(g,v,m[2],m[3])]);break;case 5:T.push([u(g,v,m[0],m[1]),u(g,v,m[2],m[1]),u(g,v,m[0],m[3])],[u(g,v,m[2],m[1]),u(g,v,m[2],m[3]),u(g,v,m[0],m[3])]);break;case 6:T.push([u(g,v,m[2],m[0]),u(g,v,m[1],m[0]),u(g,v,m[1],m[3])],[u(g,v,m[2],m[3]),u(g,v,m[2],m[0]),u(g,v,m[1],m[3])]);break;case 7:T.push([u(g,v,m[0],m[3]),u(g,v,m[1],m[3]),u(g,v,m[2],m[3])]);break;case 8:T.push([u(g,v,m[3],m[1]),u(g,v,m[3],m[0]),u(g,v,m[3],m[2])]);break;case 9:T.push([u(g,v,m[3],m[1]),u(g,v,m[0],m[1]),u(g,v,m[0],m[2])],[u(g,v,m[3],m[2]),u(g,v,m[3],m[1]),u(g,v,m[0],m[2])]);break;case 10:T.push([u(g,v,m[1],m[0]),u(g,v,m[3],m[0]),u(g,v,m[1],m[2])],[u(g,v,m[3],m[0]),u(g,v,m[3],m[2]),u(g,v,m[1],m[2])]);break;case 11:T.push([u(g,v,m[1],m[2]),u(g,v,m[0],m[2]),u(g,v,m[3],m[2])]);break;case 12:T.push([u(g,v,m[3],m[0]),u(g,v,m[2],m[0]),u(g,v,m[2],m[1])],[u(g,v,m[3],m[1]),u(g,v,m[3],m[0]),u(g,v,m[2],m[1])]);break;case 13:T.push([u(g,v,m[0],m[1]),u(g,v,m[2],m[1]),u(g,v,m[3],m[1])]);break;case 14:T.push([u(g,v,m[2],m[0]),u(g,v,m[1],m[0]),u(g,v,m[3],m[0])]);break;case 15:break}}else if(w===3){var k=(b[m[0]]<<0)+(b[m[1]]<<1)+(b[m[2]]<<2);if(k===0||k===7)continue;switch(k){case 0:break;case 1:T.push([u(g,v,m[0],m[2]),u(g,v,m[0],m[1])]);break;case 2:T.push([u(g,v,m[1],m[0]),u(g,v,m[1],m[2])]);break;case 3:T.push([u(g,v,m[0],m[2]),u(g,v,m[1],m[2])]);break;case 4:T.push([u(g,v,m[2],m[1]),u(g,v,m[2],m[0])]);break;case 5:T.push([u(g,v,m[2],m[1]),u(g,v,m[0],m[1])]);break;case 6:T.push([u(g,v,m[1],m[0]),u(g,v,m[2],m[0])]);break;case 7:break}}else if(w===2){var k=(b[m[0]]<<0)+(b[m[1]]<<1);if(k===0||k===3)continue;switch(k){case 0:break;case 1:T.push([u(g,v,m[0],m[1])]);break;case 2:T.push([u(g,v,m[1],m[0])]);break;case 3:break}}}return T}return s}];function i(l){return o[l]()}},6803:function(a,o,i){"use strict";var l,u=i(8828),s=i(1755);function f(S){for(var h=0,R=Math.max,E=0,D=S.length;E<D;++E)h=R(h,S[E].length);return h-1}l=f;function v(S){for(var h=-1,R=Math.max,E=0,D=S.length;E<D;++E)for(var N=S[E],I=0,F=N.length;I<F;++I)h=R(h,N[I]);return h+1}l=v;function g(S){for(var h=new Array(S.length),R=0,E=S.length;R<E;++R)h[R]=S[R].slice(0);return h}l=g;function b(S,h){var R=S.length,E=S.length-h.length,D=Math.min;if(E)return E;switch(R){case 0:return 0;case 1:return S[0]-h[0];case 2:var P=S[0]+S[1]-h[0]-h[1];return P||D(S[0],S[1])-D(h[0],h[1]);case 3:var N=S[0]+S[1],I=h[0]+h[1];if(P=N+S[2]-(I+h[2]),P)return P;var F=D(S[0],S[1]),L=D(h[0],h[1]),P=D(F,S[2])-D(L,h[2]);return P||D(F+S[2],N)-D(L+h[2],I);default:var q=S.slice(0);q.sort();var U=h.slice(0);U.sort();for(var W=0;W<R;++W)if(E=q[W]-U[W],E)return E;return 0}}o.Fw=b;function x(S,h){return b(S[0],h[0])}function T(S,h){if(h){for(var R=S.length,E=new Array(R),D=0;D<R;++D)E[D]=[S[D],h[D]];E.sort(x);for(var D=0;D<R;++D)S[D]=E[D][0],h[D]=E[D][1];return S}else return S.sort(b),S}l=T;function A(S){if(S.length===0)return[];for(var h=1,R=S.length,E=1;E<R;++E){var D=S[E];if(b(D,S[E-1])){if(E===h){h++;continue}S[h++]=D}}return S.length=h,S}l=A;function m(S,h){for(var R=0,E=S.length-1,D=-1;R<=E;){var N=R+E>>1,I=b(S[N],h);I<=0?(I===0&&(D=N),R=N+1):I>0&&(E=N-1)}return D}l=m;function w(S,h){for(var R=new Array(S.length),E=0,D=R.length;E<D;++E)R[E]=[];for(var N=[],E=0,I=h.length;E<I;++E)for(var F=h[E],L=F.length,P=1,q=1<<L;P<q;++P){N.length=u.popCount(P);for(var U=0,W=0;W<L;++W)P&1<<W&&(N[U++]=F[W]);var j=m(S,N);if(!(j<0))for(;R[j++].push(E),!(j>=S.length||b(S[j],N)!==0););}return R}l=w;function k(S,h){if(!h)return w(A(M(S,0)),S,0);for(var R=new Array(h),E=0;E<h;++E)R[E]=[];for(var E=0,D=S.length;E<D;++E)for(var N=S[E],I=0,F=N.length;I<F;++I)R[N[I]].push(E);return R}l=k;function y(S){for(var h=[],R=0,E=S.length;R<E;++R)for(var D=S[R],N=D.length|0,I=1,F=1<<N;I<F;++I){for(var L=[],P=0;P<N;++P)I>>>P&1&&L.push(D[P]);h.push(L)}return T(h)}l=y;function M(S,h){if(h<0)return[];for(var R=[],E=(1<<h+1)-1,D=0;D<S.length;++D)for(var N=S[D],I=E;I<1<<N.length;I=u.nextCombination(I)){for(var F=new Array(h+1),L=0,P=0;P<N.length;++P)I&1<<P&&(F[L++]=N[P]);R.push(F)}return T(R)}l=M;function d(S){for(var h=[],R=0,E=S.length;R<E;++R)for(var D=S[R],N=0,I=D.length;N<I;++N){for(var F=new Array(D.length-1),L=0,P=0;L<I;++L)L!==N&&(F[P++]=D[L]);h.push(F)}return T(h)}l=d;function _(S,h){for(var R=new s(h),E=0;E<S.length;++E)for(var D=S[E],N=0;N<D.length;++N)for(var I=N+1;I<D.length;++I)R.link(D[N],D[I]);for(var F=[],L=R.ranks,E=0;E<L.length;++E)L[E]=-1;for(var E=0;E<S.length;++E){var P=R.find(S[E][0]);L[P]<0?(L[P]=F.length,F.push([S[E].slice(0)])):F[L[P]].push(S[E].slice(0))}return F}function p(S){for(var h=A(T(M(S,0))),R=new s(h.length),E=0;E<S.length;++E)for(var D=S[E],N=0;N<D.length;++N)for(var I=m(h,[D[N]]),F=N+1;F<D.length;++F)R.link(I,m(h,[D[F]]));for(var L=[],P=R.ranks,E=0;E<P.length;++E)P[E]=-1;for(var E=0;E<S.length;++E){var q=R.find(m(h,[S[E][0]]));P[q]<0?(P[q]=L.length,L.push([S[E].slice(0)])):L[P[q]].push(S[E].slice(0))}return L}function c(S,h){return h?_(S,h):p(S)}l=c},3105:function(a,o){"use strict";"use restrict";var i=32;o.INT_BITS=i,o.INT_MAX=2147483647,o.INT_MIN=-1<<i-1,o.sign=function(s){return(s>0)-(s<0)},o.abs=function(s){var f=s>>i-1;return(s^f)-f},o.min=function(s,f){return f^(s^f)&-(s<f)},o.max=function(s,f){return s^(s^f)&-(s<f)},o.isPow2=function(s){return!(s&s-1)&&!!s},o.log2=function(s){var f,v;return f=(s>65535)<<4,s>>>=f,v=(s>255)<<3,s>>>=v,f|=v,v=(s>15)<<2,s>>>=v,f|=v,v=(s>3)<<1,s>>>=v,f|=v,f|s>>1},o.log10=function(s){return s>=1e9?9:s>=1e8?8:s>=1e7?7:s>=1e6?6:s>=1e5?5:s>=1e4?4:s>=1e3?3:s>=100?2:s>=10?1:0},o.popCount=function(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),(s+(s>>>4)&252645135)*16843009>>>24};function l(s){var f=32;return s&=-s,s&&f--,s&65535&&(f-=16),s&16711935&&(f-=8),s&252645135&&(f-=4),s&858993459&&(f-=2),s&1431655765&&(f-=1),f}o.countTrailingZeros=l,o.nextPow2=function(s){return s+=s===0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1},o.prevPow2=function(s){return s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s-(s>>>1)},o.parity=function(s){return s^=s>>>16,s^=s>>>8,s^=s>>>4,s&=15,27030>>>s&1};var u=new Array(256);(function(s){for(var f=0;f<256;++f){var v=f,g=f,b=7;for(v>>>=1;v;v>>>=1)g<<=1,g|=v&1,--b;s[f]=g<<b&255}})(u),o.reverse=function(s){return u[s&255]<<24|u[s>>>8&255]<<16|u[s>>>16&255]<<8|u[s>>>24&255]},o.interleave2=function(s,f){return s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,s|f<<1},o.deinterleave2=function(s,f){return s=s>>>f&1431655765,s=(s|s>>>1)&858993459,s=(s|s>>>2)&252645135,s=(s|s>>>4)&16711935,s=(s|s>>>16)&65535,s<<16>>16},o.interleave3=function(s,f,v){return s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,s|=f<<1,v&=1023,v=(v|v<<16)&4278190335,v=(v|v<<8)&251719695,v=(v|v<<4)&3272356035,v=(v|v<<2)&1227133513,s|v<<2},o.deinterleave3=function(s,f){return s=s>>>f&1227133513,s=(s|s>>>2)&3272356035,s=(s|s>>>4)&251719695,s=(s|s>>>8)&4278190335,s=(s|s>>>16)&1023,s<<22>>22},o.nextCombination=function(s){var f=s|s-1;return f+1|(~f&-~f)-1>>>l(s)+1}},2014:function(a,o,i){"use strict";"use restrict";var l=i(3105),u=i(4623);function s(c){for(var S=0,h=Math.max,R=0,E=c.length;R<E;++R)S=h(S,c[R].length);return S-1}o.dimension=s;function f(c){for(var S=-1,h=Math.max,R=0,E=c.length;R<E;++R)for(var D=c[R],N=0,I=D.length;N<I;++N)S=h(S,D[N]);return S+1}o.countVertices=f;function v(c){for(var S=new Array(c.length),h=0,R=c.length;h<R;++h)S[h]=c[h].slice(0);return S}o.cloneCells=v;function g(c,S){var h=c.length,R=c.length-S.length,E=Math.min;if(R)return R;switch(h){case 0:return 0;case 1:return c[0]-S[0];case 2:var L=c[0]+c[1]-S[0]-S[1];return L||E(c[0],c[1])-E(S[0],S[1]);case 3:var D=c[0]+c[1],N=S[0]+S[1];if(L=D+c[2]-(N+S[2]),L)return L;var I=E(c[0],c[1]),F=E(S[0],S[1]),L=E(I,c[2])-E(F,S[2]);return L||E(I+c[2],D)-E(F+S[2],N);default:var P=c.slice(0);P.sort();var q=S.slice(0);q.sort();for(var U=0;U<h;++U)if(R=P[U]-q[U],R)return R;return 0}}o.compareCells=g;function b(c,S){return g(c[0],S[0])}function x(c,S){if(S){for(var h=c.length,R=new Array(h),E=0;E<h;++E)R[E]=[c[E],S[E]];R.sort(b);for(var E=0;E<h;++E)c[E]=R[E][0],S[E]=R[E][1];return c}else return c.sort(g),c}o.normalize=x;function T(c){if(c.length===0)return[];for(var S=1,h=c.length,R=1;R<h;++R){var E=c[R];if(g(E,c[R-1])){if(R===S){S++;continue}c[S++]=E}}return c.length=S,c}o.unique=T;function A(c,S){for(var h=0,R=c.length-1,E=-1;h<=R;){var D=h+R>>1,N=g(c[D],S);N<=0?(N===0&&(E=D),h=D+1):N>0&&(R=D-1)}return E}o.findCell=A;function m(c,S){for(var h=new Array(c.length),R=0,E=h.length;R<E;++R)h[R]=[];for(var D=[],R=0,N=S.length;R<N;++R)for(var I=S[R],F=I.length,L=1,P=1<<F;L<P;++L){D.length=l.popCount(L);for(var q=0,U=0;U<F;++U)L&1<<U&&(D[q++]=I[U]);var W=A(c,D);if(!(W<0))for(;h[W++].push(R),!(W>=c.length||g(c[W],D)!==0););}return h}o.incidence=m;function w(c,S){if(!S)return m(T(y(c,0)),c,0);for(var h=new Array(S),R=0;R<S;++R)h[R]=[];for(var R=0,E=c.length;R<E;++R)for(var D=c[R],N=0,I=D.length;N<I;++N)h[D[N]].push(R);return h}o.dual=w;function k(c){for(var S=[],h=0,R=c.length;h<R;++h)for(var E=c[h],D=E.length|0,N=1,I=1<<D;N<I;++N){for(var F=[],L=0;L<D;++L)N>>>L&1&&F.push(E[L]);S.push(F)}return x(S)}o.explode=k;function y(c,S){if(S<0)return[];for(var h=[],R=(1<<S+1)-1,E=0;E<c.length;++E)for(var D=c[E],N=R;N<1<<D.length;N=l.nextCombination(N)){for(var I=new Array(S+1),F=0,L=0;L<D.length;++L)N&1<<L&&(I[F++]=D[L]);h.push(I)}return x(h)}o.skeleton=y;function M(c){for(var S=[],h=0,R=c.length;h<R;++h)for(var E=c[h],D=0,N=E.length;D<N;++D){for(var I=new Array(E.length-1),F=0,L=0;F<N;++F)F!==D&&(I[L++]=E[F]);S.push(I)}return x(S)}o.boundary=M;function d(c,S){for(var h=new u(S),R=0;R<c.length;++R)for(var E=c[R],D=0;D<E.length;++D)for(var N=D+1;N<E.length;++N)h.link(E[D],E[N]);for(var I=[],F=h.ranks,R=0;R<F.length;++R)F[R]=-1;for(var R=0;R<c.length;++R){var L=h.find(c[R][0]);F[L]<0?(F[L]=I.length,I.push([c[R].slice(0)])):I[F[L]].push(c[R].slice(0))}return I}function _(c){for(var S=T(x(y(c,0))),h=new u(S.length),R=0;R<c.length;++R)for(var E=c[R],D=0;D<E.length;++D)for(var N=A(S,[E[D]]),I=D+1;I<E.length;++I)h.link(N,A(S,[E[I]]));for(var F=[],L=h.ranks,R=0;R<L.length;++R)L[R]=-1;for(var R=0;R<c.length;++R){var P=h.find(A(S,[c[R][0]]));L[P]<0?(L[P]=F.length,F.push([c[R].slice(0)])):F[L[P]].push(c[R].slice(0))}return F}function p(c,S){return S?d(c,S):_(c)}o.connectedComponents=p},4623:function(a){"use strict";"use restrict";a.exports=o;function o(i){this.roots=new Array(i),this.ranks=new Array(i);for(var l=0;l<i;++l)this.roots[l]=l,this.ranks[l]=0}o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},o.prototype.find=function(i){for(var l=this.roots;l[i]!==i;){var u=l[i];l[i]=l[u],i=u}return i},o.prototype.link=function(i,l){var u=this.find(i),s=this.find(l);if(u!==s){var f=this.ranks,v=this.roots,g=f[u],b=f[s];g<b?v[u]=s:b<g?v[s]=u:(v[s]=u,++f[u])}}},5878:function(a,o,i){"use strict";a.exports=f;var l=i(3250),u=i(2014);function s(v,g,b){var x=Math.abs(l(v,g,b)),T=Math.sqrt(Math.pow(g[0]-b[0],2)+Math.pow(g[1]-b[1],2));return x/T}function f(v,g,b){for(var x=g.length,T=v.length,A=new Array(x),m=new Array(x),w=new Array(x),k=new Array(x),y=0;y<x;++y)A[y]=m[y]=-1,w[y]=1/0,k[y]=!1;for(var y=0;y<T;++y){var M=v[y];if(M.length!==2)throw new Error("Input must be a graph");var d=M[1],_=M[0];m[_]!==-1?m[_]=-2:m[_]=d,A[d]!==-1?A[d]=-2:A[d]=_}function p(O){if(k[O])return 1/0;var Z=A[O],ne=m[O];return Z<0||ne<0?1/0:s(g[O],g[Z],g[ne])}function c(O,Z){var ne=F[O],Q=F[Z];F[O]=Q,F[Z]=ne,L[ne]=Z,L[Q]=O}function S(O){return w[F[O]]}function h(O){return O&1?O-1>>1:(O>>1)-1}function R(O){for(var Z=S(O);;){var ne=Z,Q=2*O+1,ie=2*(O+1),ee=O;if(Q<q){var V=S(Q);V<ne&&(ee=Q,ne=V)}if(ie<q){var re=S(ie);re<ne&&(ee=ie)}if(ee===O)return O;c(O,ee),O=ee}}function E(O){for(var Z=S(O);O>0;){var ne=h(O);if(ne>=0){var Q=S(ne);if(Z<Q){c(O,ne),O=ne;continue}}return O}}function D(){if(q>0){var O=F[0];return c(0,q-1),q-=1,R(0),O}return-1}function N(O,Z){var ne=F[O];return w[ne]===Z?O:(w[ne]=-1/0,E(O),D(),w[ne]=Z,q+=1,E(q-1))}function I(O){if(!k[O]){k[O]=!0;var Z=A[O],ne=m[O];A[ne]>=0&&(A[ne]=Z),m[Z]>=0&&(m[Z]=ne),L[Z]>=0&&N(L[Z],p(Z)),L[ne]>=0&&N(L[ne],p(ne))}}for(var F=[],L=new Array(x),y=0;y<x;++y){var P=w[y]=p(y);P<1/0?(L[y]=F.length,F.push(y)):L[y]=-1}for(var q=F.length,y=q>>1;y>=0;--y)R(y);for(;;){var U=D();if(U<0||w[U]>b)break;I(U)}for(var W=[],y=0;y<x;++y)k[y]||(L[y]=W.length,W.push(g[y].slice()));var j=W.length;function $(O,Z){if(O[Z]<0)return Z;var ne=Z,Q=Z;do{var ie=O[Q];if(!k[Q]||ie<0||ie===Q||(Q=ie,ie=O[Q],!k[Q]||ie<0||ie===Q))break;Q=ie,ne=O[ne]}while(ne!==Q);for(var ee=Z;ee!==Q;ee=O[ee])O[ee]=Q;return Q}var G=[];return v.forEach(function(O){var Z=$(A,O[0]),ne=$(m,O[1]);if(Z>=0&&ne>=0&&Z!==ne){var Q=L[Z],ie=L[ne];Q!==ie&&G.push([Q,ie])}}),u.unique(u.normalize(G)),{positions:W,edges:G}}},1303:function(a,o,i){"use strict";a.exports=s;var l=i(3250);function u(f,v){var g,b;if(v[0][0]<v[1][0])g=v[0],b=v[1];else if(v[0][0]>v[1][0])g=v[1],b=v[0];else{var x=Math.min(f[0][1],f[1][1]),T=Math.max(f[0][1],f[1][1]),A=Math.min(v[0][1],v[1][1]),m=Math.max(v[0][1],v[1][1]);return T<A?T-A:x>m?x-m:T-m}var w,k;f[0][1]<f[1][1]?(w=f[0],k=f[1]):(w=f[1],k=f[0]);var y=l(b,g,w);return y||(y=l(b,g,k),y)?y:k-b}function s(f,v){var g,b;if(v[0][0]<v[1][0])g=v[0],b=v[1];else if(v[0][0]>v[1][0])g=v[1],b=v[0];else return u(v,f);var x,T;if(f[0][0]<f[1][0])x=f[0],T=f[1];else if(f[0][0]>f[1][0])x=f[1],T=f[0];else return-u(f,v);var A=l(g,b,T),m=l(g,b,x);if(A<0){if(m<=0)return A}else if(A>0){if(m>=0)return A}else if(m)return m;if(A=l(T,x,b),m=l(T,x,g),A<0){if(m<=0)return A}else if(A>0){if(m>=0)return A}else if(m)return m;return b[0]-T[0]}},4209:function(a,o,i){"use strict";a.exports=m;var l=i(2478),u=i(3840),s=i(3250),f=i(1303);function v(w,k,y){this.slabs=w,this.coordinates=k,this.horizontal=y}var g=v.prototype;function b(w,k){return w.y-k}function x(w,k){for(var y=null;w;){var M=w.key,d,_;M[0][0]<M[1][0]?(d=M[0],_=M[1]):(d=M[1],_=M[0]);var p=s(d,_,k);if(p<0)w=w.left;else if(p>0)if(k[0]!==M[1][0])y=w,w=w.right;else{var c=x(w.right,k);if(c)return c;w=w.left}else{if(k[0]!==M[1][0])return w;var c=x(w.right,k);if(c)return c;w=w.left}}return y}g.castUp=function(w){var k=l.le(this.coordinates,w[0]);if(k<0)return-1;var y=this.slabs[k],M=x(this.slabs[k],w),d=-1;if(M&&(d=M.value),this.coordinates[k]===w[0]){var _=null;if(M&&(_=M.key),k>0){var p=x(this.slabs[k-1],w);p&&(_?f(p.key,_)>0&&(_=p.key,d=p.value):(d=p.value,_=p.key))}var c=this.horizontal[k];if(c.length>0){var S=l.ge(c,w[1],b);if(S<c.length){var h=c[S];if(w[1]===h.y){if(h.closed)return h.index;for(;S<c.length-1&&c[S+1].y===w[1];)if(S=S+1,h=c[S],h.closed)return h.index;if(h.y===w[1]&&!h.start){if(S=S+1,S>=c.length)return d;h=c[S]}}if(h.start)if(_){var R=s(_[0],_[1],[w[0],h.y]);_[0][0]>_[1][0]&&(R=-R),R>0&&(d=h.index)}else d=h.index;else h.y!==w[1]&&(d=h.index)}}}return d};function T(w,k,y,M){this.y=w,this.index=k,this.start=y,this.closed=M}function A(w,k,y,M){this.x=w,this.segment=k,this.create=y,this.index=M}function m(w){for(var k=w.length,y=2*k,M=new Array(y),d=0;d<k;++d){var _=w[d],p=_[0][0]<_[1][0];M[2*d]=new A(_[0][0],_,p,d),M[2*d+1]=new A(_[1][0],_,!p,d)}M.sort(function(F,L){var P=F.x-L.x;return P||(P=F.create-L.create,P)?P:Math.min(F.segment[0][1],F.segment[1][1])-Math.min(L.segment[0][1],L.segment[1][1])});for(var c=u(f),S=[],h=[],R=[],E=-1/0,d=0;d<y;){for(var D=M[d].x,N=[];d<y;){var I=M[d];if(I.x!==D)break;d+=1,I.segment[0][0]===I.x&&I.segment[1][0]===I.x?I.create&&(I.segment[0][1]<I.segment[1][1]?(N.push(new T(I.segment[0][1],I.index,!0,!0)),N.push(new T(I.segment[1][1],I.index,!1,!1))):(N.push(new T(I.segment[1][1],I.index,!0,!1)),N.push(new T(I.segment[0][1],I.index,!1,!0)))):I.create?c=c.insert(I.segment,I.index):c=c.remove(I.segment)}S.push(c.root),h.push(D),R.push(N)}return new v(S,h,R)}},5202:function(a,o,i){"use strict";var l=i(1944),u=i(8210);a.exports=v,a.exports.positive=g,a.exports.negative=b;function s(x,T){var A=u(l(x,T),[T[T.length-1]]);return A[A.length-1]}function f(x,T,A,m){var w=m-T,k=-T/w;k<0?k=0:k>1&&(k=1);for(var y=1-k,M=x.length,d=new Array(M),_=0;_<M;++_)d[_]=k*x[_]+y*A[_];return d}function v(x,T){for(var A=[],m=[],w=s(x[x.length-1],T),k=x[x.length-1],y=x[0],M=0;M<x.length;++M,k=y){y=x[M];var d=s(y,T);if(w<0&&d>0||w>0&&d<0){var _=f(k,d,y,w);A.push(_),m.push(_.slice())}d<0?m.push(y.slice()):d>0?A.push(y.slice()):(A.push(y.slice()),m.push(y.slice())),w=d}return{positive:A,negative:m}}function g(x,T){for(var A=[],m=s(x[x.length-1],T),w=x[x.length-1],k=x[0],y=0;y<x.length;++y,w=k){k=x[y];var M=s(k,T);(m<0&&M>0||m>0&&M<0)&&A.push(f(w,M,k,m)),M>=0&&A.push(k.slice()),m=M}return A}function b(x,T){for(var A=[],m=s(x[x.length-1],T),w=x[x.length-1],k=x[0],y=0;y<x.length;++y,w=k){k=x[y];var M=s(k,T);(m<0&&M>0||m>0&&M<0)&&A.push(f(w,M,k,m)),M<=0&&A.push(k.slice()),m=M}return A}},3387:function(a,o,i){var l;(function(){"use strict";var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(x){return v(b(x),arguments)}function f(x,T){return s.apply(null,[x].concat(T||[]))}function v(x,T){var A=1,m=x.length,w,k="",y,M,d,_,p,c,S,h;for(y=0;y<m;y++)if(typeof x[y]=="string")k+=x[y];else if(typeof x[y]=="object"){if(d=x[y],d.keys)for(w=T[A],M=0;M<d.keys.length;M++){if(w==null)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',d.keys[M],d.keys[M-1]));w=w[d.keys[M]]}else d.param_no?w=T[d.param_no]:w=T[A++];if(u.not_type.test(d.type)&&u.not_primitive.test(d.type)&&w instanceof Function&&(w=w()),u.numeric_arg.test(d.type)&&typeof w!="number"&&isNaN(w))throw new TypeError(s("[sprintf] expecting number but found %T",w));switch(u.number.test(d.type)&&(S=w>=0),d.type){case"b":w=parseInt(w,10).toString(2);break;case"c":w=String.fromCharCode(parseInt(w,10));break;case"d":case"i":w=parseInt(w,10);break;case"j":w=JSON.stringify(w,null,d.width?parseInt(d.width):0);break;case"e":w=d.precision?parseFloat(w).toExponential(d.precision):parseFloat(w).toExponential();break;case"f":w=d.precision?parseFloat(w).toFixed(d.precision):parseFloat(w);break;case"g":w=d.precision?String(Number(w.toPrecision(d.precision))):parseFloat(w);break;case"o":w=(parseInt(w,10)>>>0).toString(8);break;case"s":w=String(w),w=d.precision?w.substring(0,d.precision):w;break;case"t":w=String(!!w),w=d.precision?w.substring(0,d.precision):w;break;case"T":w=Object.prototype.toString.call(w).slice(8,-1).toLowerCase(),w=d.precision?w.substring(0,d.precision):w;break;case"u":w=parseInt(w,10)>>>0;break;case"v":w=w.valueOf(),w=d.precision?w.substring(0,d.precision):w;break;case"x":w=(parseInt(w,10)>>>0).toString(16);break;case"X":w=(parseInt(w,10)>>>0).toString(16).toUpperCase();break}u.json.test(d.type)?k+=w:(u.number.test(d.type)&&(!S||d.sign)?(h=S?"+":"-",w=w.toString().replace(u.sign,"")):h="",p=d.pad_char?d.pad_char==="0"?"0":d.pad_char.charAt(1):" ",c=d.width-(h+w).length,_=d.width&&c>0?p.repeat(c):"",k+=d.align?h+w+_:p==="0"?h+_+w:_+h+w)}return k}var g=Object.create(null);function b(x){if(g[x])return g[x];for(var T=x,A,m=[],w=0;T;){if((A=u.text.exec(T))!==null)m.push(A[0]);else if((A=u.modulo.exec(T))!==null)m.push("%");else if((A=u.placeholder.exec(T))!==null){if(A[2]){w|=1;var k=[],y=A[2],M=[];if((M=u.key.exec(y))!==null)for(k.push(M[1]);(y=y.substring(M[0].length))!=="";)if((M=u.key_access.exec(y))!==null)k.push(M[1]);else if((M=u.index_access.exec(y))!==null)k.push(M[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");A[2]=k}else w|=2;if(w===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");m.push({placeholder:A[0],param_no:A[1],keys:A[2],sign:A[3],pad_char:A[4],align:A[5],width:A[6],precision:A[7],type:A[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(A[0].length)}return g[x]=m}o.sprintf=s,o.vsprintf=f,typeof window!="undefined"&&(window.sprintf=s,window.vsprintf=f,l=function(){return{sprintf:s,vsprintf:f}}.call(o,i,o,a),l!==void 0&&(a.exports=l))})()},3711:function(a,o,i){"use strict";a.exports=b;var l=i(2640),u=i(781),s={"2d":function(x,T,A){var m=x({order:T,scalarArguments:3,getters:A==="generic"?[0]:void 0,phase:function(k,y,M,d){return k>d|0},vertex:function(k,y,M,d,_,p,c,S,h,R,E,D,N){var I=(c<<0)+(S<<1)+(h<<2)+(R<<3)|0;if(!(I===0||I===15))switch(I){case 0:E.push([k-.5,y-.5]);break;case 1:E.push([k-.25-.25*(d+M-2*N)/(M-d),y-.25-.25*(_+M-2*N)/(M-_)]);break;case 2:E.push([k-.75-.25*(-d-M+2*N)/(d-M),y-.25-.25*(p+d-2*N)/(d-p)]);break;case 3:E.push([k-.5,y-.5-.5*(_+M+p+d-4*N)/(M-_+d-p)]);break;case 4:E.push([k-.25-.25*(p+_-2*N)/(_-p),y-.75-.25*(-_-M+2*N)/(_-M)]);break;case 5:E.push([k-.5-.5*(d+M+p+_-4*N)/(M-d+_-p),y-.5]);break;case 6:E.push([k-.5-.25*(-d-M+p+_)/(d-M+_-p),y-.5-.25*(-_-M+p+d)/(_-M+d-p)]);break;case 7:E.push([k-.75-.25*(p+_-2*N)/(_-p),y-.75-.25*(p+d-2*N)/(d-p)]);break;case 8:E.push([k-.75-.25*(-p-_+2*N)/(p-_),y-.75-.25*(-p-d+2*N)/(p-d)]);break;case 9:E.push([k-.5-.25*(d+M+-p-_)/(M-d+p-_),y-.5-.25*(_+M+-p-d)/(M-_+p-d)]);break;case 10:E.push([k-.5-.5*(-d-M+-p-_+4*N)/(d-M+p-_),y-.5]);break;case 11:E.push([k-.25-.25*(-p-_+2*N)/(p-_),y-.75-.25*(_+M-2*N)/(M-_)]);break;case 12:E.push([k-.5,y-.5-.5*(-_-M+-p-d+4*N)/(_-M+p-d)]);break;case 13:E.push([k-.75-.25*(d+M-2*N)/(M-d),y-.25-.25*(-p-d+2*N)/(p-d)]);break;case 14:E.push([k-.25-.25*(-d-M+2*N)/(d-M),y-.25-.25*(-_-M+2*N)/(_-M)]);break;case 15:E.push([k-.5,y-.5]);break}},cell:function(k,y,M,d,_,p,c,S,h){_?S.push([k,y]):S.push([y,k])}});return function(w,k){var y=[],M=[];return m(w,y,M,k),{positions:y,cells:M}}}};function f(x,T){var A=x.length+"d",m=s[A];if(m)return m(l,x,T)}function v(x,T){for(var A=u(x,T),m=A.length,w=new Array(m),k=new Array(m),y=0;y<m;++y)w[y]=[A[y]],k[y]=[y];return{positions:w,cells:k}}var g={};function b(x,w){if(x.dimension<=0)return{positions:[],cells:[]};if(x.dimension===1)return v(x,w);var A=x.order.join()+"-"+x.dtype,m=g[A],w=+w||0;return m||(m=g[A]=f(x.order,x.dtype)),m(x,w)}},529:function(a,o,i){"use strict";a.exports=v;var l=i(4359),u=window||process.global||{},s=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};function f(g){for(var b=g.cells,x=g.positions,T=new Float32Array(b.length*6),A=0,m=0,w=0;w<b.length;++w)for(var k=b[w],y=0;y<3;++y){var M=x[k[y]];T[A++]=M[0],T[A++]=M[1]+1.4,m=Math.max(M[0],m)}return{data:T,shape:m}}function v(g,b,T){var T=T||{},A=T.fontStyle||"normal",m=T.fontWeight||"normal",w=T.fontVariant||"normal",k=[A,m,w,g].join("_"),y=s[k];y||(y=s[k]={" ":{data:new Float32Array(0),shape:.2}});var M=y[b];if(!M)if(b.length<=1||!/\d/.test(b))M=y[b]=f(l(b,{triangles:!0,font:g,fontStyle:A,fontWeight:m,fontVariant:w,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=b.split(/(\d|\s)/),_=new Array(d.length),p=0,c=0,S=0;S<d.length;++S)_[S]=v(g,d[S]),p+=_[S].data.length,c+=_[S].shape,S>0&&(c+=.02);for(var h=new Float32Array(p),R=0,E=-.5*c,S=0;S<_.length;++S){for(var D=_[S].data,N=0;N<D.length;N+=2)h[R++]=D[N]+E,h[R++]=D[N+1];E+=_[S].shape+.02}M=y[b]={data:h,shape:c}}return M}},665:function(a,o,i){"use strict";var l=i(3202);a.exports=v;var u=96;function s(g,b){var x=l(getComputedStyle(g).getPropertyValue(b));return x[0]*v(x[1],g)}function f(g,b){var x=document.createElement("div");x.style["font-size"]="128"+g,b.appendChild(x);var T=s(x,"font-size")/128;return b.removeChild(x),T}function v(g,b){switch(b=b||document.body,g=(g||"px").trim().toLowerCase(),(b===window||b===document)&&(b=document.body),g){case"%":return b.clientHeight/100;case"ch":case"ex":return f(g,b);case"em":return s(b,"font-size");case"rem":return s(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return u;case"cm":return u/2.54;case"mm":return u/25.4;case"pt":return u/72;case"pc":return u/6}return 1}},7261:function(a,o,i){"use strict";a.exports=k;var l=i(9215),u=i(7608),s=i(6079),f=i(5911),v=i(3536),g=i(244);function b(y,M,d){return Math.sqrt(Math.pow(y,2)+Math.pow(M,2)+Math.pow(d,2))}function x(y){return Math.min(1,Math.max(-1,y))}function T(y){var M=Math.abs(y[0]),d=Math.abs(y[1]),_=Math.abs(y[2]),p=[0,0,0];M>Math.max(d,_)?p[2]=1:d>Math.max(M,_)?p[0]=1:p[1]=1;for(var c=0,S=0,h=0;h<3;++h)c+=y[h]*y[h],S+=p[h]*y[h];for(var h=0;h<3;++h)p[h]-=S/c*y[h];return v(p,p),p}function A(y,M,d,_,p,c,S,h){this.center=l(d),this.up=l(_),this.right=l(p),this.radius=l([c]),this.angle=l([S,h]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(y,M),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var R=0;R<16;++R)this.computedMatrix[R]=.5;this.recalcMatrix(0)}var m=A.prototype;m.setDistanceLimits=function(y,M){y>0?y=Math.log(y):y=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=M},m.getDistanceLimits=function(y){var M=this.radius.bounds[0];return y?(y[0]=Math.exp(M[0][0]),y[1]=Math.exp(M[1][0]),y):[Math.exp(M[0][0]),Math.exp(M[1][0])]},m.recalcMatrix=function(y){this.center.curve(y),this.up.curve(y),this.right.curve(y),this.radius.curve(y),this.angle.curve(y);for(var M=this.computedUp,d=this.computedRight,_=0,p=0,c=0;c<3;++c)p+=M[c]*d[c],_+=M[c]*M[c];for(var S=Math.sqrt(_),h=0,c=0;c<3;++c)d[c]-=M[c]*p/_,h+=d[c]*d[c],M[c]/=S;for(var R=Math.sqrt(h),c=0;c<3;++c)d[c]/=R;var E=this.computedToward;f(E,M,d),v(E,E);for(var D=Math.exp(this.computedRadius[0]),N=this.computedAngle[0],I=this.computedAngle[1],F=Math.cos(N),L=Math.sin(N),P=Math.cos(I),q=Math.sin(I),U=this.computedCenter,W=F*P,j=L*P,$=q,G=-F*q,O=-L*q,Z=P,ne=this.computedEye,Q=this.computedMatrix,c=0;c<3;++c){var ie=W*d[c]+j*E[c]+$*M[c];Q[4*c+1]=G*d[c]+O*E[c]+Z*M[c],Q[4*c+2]=ie,Q[4*c+3]=0}var ee=Q[1],V=Q[5],re=Q[9],H=Q[2],te=Q[6],se=Q[10],he=V*se-re*te,ke=re*H-ee*se,we=ee*te-V*H,ve=b(he,ke,we);he/=ve,ke/=ve,we/=ve,Q[0]=he,Q[4]=ke,Q[8]=we;for(var c=0;c<3;++c)ne[c]=U[c]+Q[2+4*c]*D;for(var c=0;c<3;++c){for(var h=0,Me=0;Me<3;++Me)h+=Q[c+4*Me]*ne[Me];Q[12+c]=-h}Q[15]=1},m.getMatrix=function(y,M){this.recalcMatrix(y);var d=this.computedMatrix;if(M){for(var _=0;_<16;++_)M[_]=d[_];return M}return d};var w=[0,0,0];m.rotate=function(y,M,d,_){if(this.angle.move(y,M,d),_){this.recalcMatrix(y);var p=this.computedMatrix;w[0]=p[2],w[1]=p[6],w[2]=p[10];for(var c=this.computedUp,S=this.computedRight,h=this.computedToward,R=0;R<3;++R)p[4*R]=c[R],p[4*R+1]=S[R],p[4*R+2]=h[R];s(p,p,_,w);for(var R=0;R<3;++R)c[R]=p[4*R],S[R]=p[4*R+1];this.up.set(y,c[0],c[1],c[2]),this.right.set(y,S[0],S[1],S[2])}},m.pan=function(y,M,d,_){M=M||0,d=d||0,_=_||0,this.recalcMatrix(y);var p=this.computedMatrix,c=Math.exp(this.computedRadius[0]),S=p[1],h=p[5],R=p[9],E=b(S,h,R);S/=E,h/=E,R/=E;var D=p[0],N=p[4],I=p[8],F=D*S+N*h+I*R;D-=S*F,N-=h*F,I-=R*F;var L=b(D,N,I);D/=L,N/=L,I/=L;var P=D*M+S*d,q=N*M+h*d,U=I*M+R*d;this.center.move(y,P,q,U);var W=Math.exp(this.computedRadius[0]);W=Math.max(1e-4,W+_),this.radius.set(y,Math.log(W))},m.translate=function(y,M,d,_){this.center.move(y,M||0,d||0,_||0)},m.setMatrix=function(y,M,d,_){var p=1;typeof d=="number"&&(p=d|0),(p<0||p>3)&&(p=1);var c=(p+2)%3,S=(p+1)%3;M||(this.recalcMatrix(y),M=this.computedMatrix);var h=M[p],R=M[p+4],E=M[p+8];if(_){var N=Math.abs(h),I=Math.abs(R),F=Math.abs(E),L=Math.max(N,I,F);N===L?(h=h<0?-1:1,R=E=0):F===L?(E=E<0?-1:1,h=R=0):(R=R<0?-1:1,h=E=0)}else{var D=b(h,R,E);h/=D,R/=D,E/=D}var P=M[c],q=M[c+4],U=M[c+8],W=P*h+q*R+U*E;P-=h*W,q-=R*W,U-=E*W;var j=b(P,q,U);P/=j,q/=j,U/=j;var $=R*U-E*q,G=E*P-h*U,O=h*q-R*P,Z=b($,G,O);$/=Z,G/=Z,O/=Z,this.center.jump(y,Be,ge,Ae),this.radius.idle(y),this.up.jump(y,h,R,E),this.right.jump(y,P,q,U);var ne,Q;if(p===2){var ie=M[1],ee=M[5],V=M[9],re=ie*P+ee*q+V*U,H=ie*$+ee*G+V*O;ke<0?ne=-Math.PI/2:ne=Math.PI/2,Q=Math.atan2(H,re)}else{var te=M[2],se=M[6],he=M[10],ke=te*h+se*R+he*E,we=te*P+se*q+he*U,ve=te*$+se*G+he*O;ne=Math.asin(x(ke)),Q=Math.atan2(ve,we)}this.angle.jump(y,Q,ne),this.recalcMatrix(y);var Me=M[2],Se=M[6],De=M[10],Ce=this.computedMatrix;u(Ce,M);var Oe=Ce[15],Be=Ce[12]/Oe,ge=Ce[13]/Oe,Ae=Ce[14]/Oe,ce=Math.exp(this.computedRadius[0]);this.center.jump(y,Be-Me*ce,ge-Se*ce,Ae-De*ce)},m.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},m.idle=function(y){this.center.idle(y),this.up.idle(y),this.right.idle(y),this.radius.idle(y),this.angle.idle(y)},m.flush=function(y){this.center.flush(y),this.up.flush(y),this.right.flush(y),this.radius.flush(y),this.angle.flush(y)},m.setDistance=function(y,M){M>0&&this.radius.set(y,Math.log(M))},m.lookAt=function(y,M,d,_){this.recalcMatrix(y),M=M||this.computedEye,d=d||this.computedCenter,_=_||this.computedUp;var p=_[0],c=_[1],S=_[2],h=b(p,c,S);if(!(h<1e-6)){p/=h,c/=h,S/=h;var R=M[0]-d[0],E=M[1]-d[1],D=M[2]-d[2],N=b(R,E,D);if(!(N<1e-6)){R/=N,E/=N,D/=N;var I=this.computedRight,F=I[0],L=I[1],P=I[2],q=p*F+c*L+S*P;F-=q*p,L-=q*c,P-=q*S;var U=b(F,L,P);if(!(U<.01&&(F=c*D-S*E,L=S*R-p*D,P=p*E-c*R,U=b(F,L,P),U<1e-6))){F/=U,L/=U,P/=U,this.up.set(y,p,c,S),this.right.set(y,F,L,P),this.center.set(y,d[0],d[1],d[2]),this.radius.set(y,Math.log(N));var W=c*P-S*L,j=S*F-p*P,$=p*L-c*F,G=b(W,j,$);W/=G,j/=G,$/=G;var O=p*R+c*E+S*D,Z=F*R+L*E+P*D,ne=W*R+j*E+$*D,Q=Math.asin(x(O)),ie=Math.atan2(ne,Z),ee=this.angle._state,V=ee[ee.length-1],re=ee[ee.length-2];V=V%(2*Math.PI);var H=Math.abs(V+2*Math.PI-ie),te=Math.abs(V-ie),se=Math.abs(V-2*Math.PI-ie);H<te&&(V+=2*Math.PI),se<te&&(V-=2*Math.PI),this.angle.jump(this.angle.lastT(),V,re),this.angle.set(y,ie,Q)}}}};function k(y){y=y||{};var M=y.center||[0,0,0],d=y.up||[0,1,0],_=y.right||T(d),p=y.radius||1,c=y.theta||0,S=y.phi||0;if(M=[].slice.call(M,0,3),d=[].slice.call(d,0,3),v(d,d),_=[].slice.call(_,0,3),v(_,_),"eye"in y){var h=y.eye,R=[h[0]-M[0],h[1]-M[1],h[2]-M[2]];f(_,R,d),b(_[0],_[1],_[2])<1e-6?_=T(d):v(_,_),p=b(R[0],R[1],R[2]);var E=g(d,R)/p,D=g(_,R)/p;S=Math.acos(E),c=Math.acos(D)}return p=Math.log(p),new A(y.zoomMin,y.zoomMax,M,d,_,p,c,S)}},5250:function(a){"use strict";a.exports=i;var o=+(Math.pow(2,27)+1);function i(l,u,s){var f=l*u,v=o*l,g=v-l,b=v-g,x=l-b,T=o*u,A=T-u,m=T-A,w=u-m,k=f-b*m,y=k-x*m,M=y-b*w,d=x*w-M;return s?(s[0]=d,s[1]=f,s):[d,f]}},9362:function(a){"use strict";a.exports=o;function o(i,l,u){var s=i+l,f=s-i,v=s-f,g=l-f,b=i-v;return u?(u[0]=b+g,u[1]=s,u):[b+g,s]}},1888:function(a,o,i){"use strict";var l=i(8828),u=i(1338),s=i(4793).hp;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:u([32,0]),UINT16:u([32,0]),UINT32:u([32,0]),BIGUINT64:u([32,0]),INT8:u([32,0]),INT16:u([32,0]),INT32:u([32,0]),BIGINT64:u([32,0]),FLOAT:u([32,0]),DOUBLE:u([32,0]),DATA:u([32,0]),UINT8C:u([32,0]),BUFFER:u([32,0])});var f=typeof Uint8ClampedArray!="undefined",v=typeof BigUint64Array!="undefined",g=typeof BigInt64Array!="undefined",b=i.g.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=u([32,0])),b.BIGUINT64||(b.BIGUINT64=u([32,0])),b.BIGINT64||(b.BIGINT64=u([32,0])),b.BUFFER||(b.BUFFER=u([32,0]));var x=b.DATA,T=b.BUFFER;o.free=function(F){if(s.isBuffer(F))T[l.log2(F.length)].push(F);else{if(Object.prototype.toString.call(F)!=="[object ArrayBuffer]"&&(F=F.buffer),!F)return;var L=F.length||F.byteLength,P=l.log2(L)|0;x[P].push(F)}};function A(I){if(I){var F=I.length||I.byteLength,L=l.log2(F);x[L].push(I)}}function m(I){A(I.buffer)}o.freeUint8=o.freeUint16=o.freeUint32=o.freeBigUint64=o.freeInt8=o.freeInt16=o.freeInt32=o.freeBigInt64=o.freeFloat32=o.freeFloat=o.freeFloat64=o.freeDouble=o.freeUint8Clamped=o.freeDataView=m,o.freeArrayBuffer=A,o.freeBuffer=function(F){T[l.log2(F.length)].push(F)},o.malloc=function(F,L){if(L===void 0||L==="arraybuffer")return w(F);switch(L){case"uint8":return k(F);case"uint16":return y(F);case"uint32":return M(F);case"int8":return d(F);case"int16":return _(F);case"int32":return p(F);case"float":case"float32":return c(F);case"double":case"float64":return S(F);case"uint8_clamped":return h(F);case"bigint64":return E(F);case"biguint64":return R(F);case"buffer":return N(F);case"data":case"dataview":return D(F);default:return null}return null};function w(F){var F=l.nextPow2(F),L=l.log2(F),P=x[L];return P.length>0?P.pop():new ArrayBuffer(F)}o.mallocArrayBuffer=w;function k(I){return new Uint8Array(w(I),0,I)}o.mallocUint8=k;function y(I){return new Uint16Array(w(2*I),0,I)}o.mallocUint16=y;function M(I){return new Uint32Array(w(4*I),0,I)}o.mallocUint32=M;function d(I){return new Int8Array(w(I),0,I)}o.mallocInt8=d;function _(I){return new Int16Array(w(2*I),0,I)}o.mallocInt16=_;function p(I){return new Int32Array(w(4*I),0,I)}o.mallocInt32=p;function c(I){return new Float32Array(w(4*I),0,I)}o.mallocFloat32=o.mallocFloat=c;function S(I){return new Float64Array(w(8*I),0,I)}o.mallocFloat64=o.mallocDouble=S;function h(I){return f?new Uint8ClampedArray(w(I),0,I):k(I)}o.mallocUint8Clamped=h;function R(I){return v?new BigUint64Array(w(8*I),0,I):null}o.mallocBigUint64=R;function E(I){return g?new BigInt64Array(w(8*I),0,I):null}o.mallocBigInt64=E;function D(I){return new DataView(w(I),0,I)}o.mallocDataView=D;function N(I){I=l.nextPow2(I);var F=l.log2(I),L=T[F];return L.length>0?L.pop():new s(I)}o.mallocBuffer=N,o.clearCache=function(){for(var F=0;F<32;++F)b.UINT8[F].length=0,b.UINT16[F].length=0,b.UINT32[F].length=0,b.INT8[F].length=0,b.INT16[F].length=0,b.INT32[F].length=0,b.FLOAT[F].length=0,b.DOUBLE[F].length=0,b.BIGUINT64[F].length=0,b.BIGINT64[F].length=0,b.UINT8C[F].length=0,x[F].length=0,T[F].length=0}},1755:function(a){"use strict";"use restrict";a.exports=o;function o(l){this.roots=new Array(l),this.ranks=new Array(l);for(var u=0;u<l;++u)this.roots[u]=u,this.ranks[u]=0}var i=o.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var l=this.roots.length;return this.roots.push(l),this.ranks.push(0),l},i.find=function(l){for(var u=l,s=this.roots;s[l]!==l;)l=s[l];for(;s[u]!==l;){var f=s[u];s[u]=l,u=f}return l},i.link=function(l,u){var s=this.find(l),f=this.find(u);if(s!==f){var v=this.ranks,g=this.roots,b=v[s],x=v[f];b<x?g[s]=f:x<b?g[f]=s:(g[f]=s,++v[s])}}},1682:function(a){"use strict";function o(u,s){for(var f=1,v=u.length,g=u[0],b=u[0],x=1;x<v;++x)if(b=g,g=u[x],s(g,b)){if(x===f){f++;continue}u[f++]=g}return u.length=f,u}function i(u){for(var s=1,f=u.length,v=u[0],g=u[0],b=1;b<f;++b,g=v)if(g=v,v=u[b],v!==g){if(b===s){s++;continue}u[s++]=v}return u.length=s,u}function l(u,s,f){return u.length===0?u:s?(f||u.sort(s),o(u,s)):(f||u.sort(),i(u))}a.exports=l},4359:function(a,o,i){"use strict";a.exports=f;var l=i(7718),u=null,s=null;typeof document!="undefined"&&(u=document.createElement("canvas"),u.width=8192,u.height=1024,s=u.getContext("2d"));function f(v,g){return(typeof g!="object"||g===null)&&(g={}),l(v,g.canvas||u,g.context||s,g)}},7718:function(a,o,i){a.exports=E,a.exports.processPixels=R;var l=i(3711),u=i(9618),s=i(5878),f=i(332),v=i(2538),g=i(2095),b="b",x="b|",T="i",A="i|",m="sup",w="+",k="+1",y="sub",M="-",d="-1";function _(D,N,I,F){for(var L="<"+D+">",P="</"+D+">",q=L.length,U=P.length,W=N[0]===w||N[0]===M,j=0,$=-U;j>-1&&(j=I.indexOf(L,j),!(j===-1||($=I.indexOf(P,j+q),$===-1)||$<=j));){for(var G=j;G<$+U;++G)if(G<j+q||G>=$)F[G]=null,I=I.substr(0,G)+" "+I.substr(G+1);else if(F[G]!==null){var O=F[G].indexOf(N[0]);O===-1?F[G]+=N:W&&(F[G]=F[G].substr(0,O+1)+(1+parseInt(F[G][O+1]))+F[G].substr(O+2))}var Z=j+q,ne=I.substr(Z,$-Z),Q=ne.indexOf(L);Q!==-1?j=Q:j=$+U}return F}function p(D,N,I){for(var F=N.textAlign||"start",L=N.textBaseline||"alphabetic",P=[1<<30,1<<30],q=[0,0],U=D.length,W=0;W<U;++W)for(var j=D[W],$=0;$<2;++$)P[$]=Math.min(P[$],j[$])|0,q[$]=Math.max(q[$],j[$])|0;var G=0;switch(F){case"center":G=-.5*(P[0]+q[0]);break;case"right":case"end":G=-q[0];break;case"left":case"start":G=-P[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+F+"'")}var O=0;switch(L){case"hanging":case"top":O=-P[1];break;case"middle":O=-.5*(P[1]+q[1]);break;case"alphabetic":case"ideographic":O=-3*I;break;case"bottom":O=-q[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+L+"'")}var Z=1/I;return"lineHeight"in N?Z*=+N.lineHeight:"width"in N?Z=N.width/(q[0]-P[0]):"height"in N&&(Z=N.height/(q[1]-P[1])),D.map(function(ne){return[Z*(ne[0]+G),Z*(ne[1]+O)]})}function c(D,N,I,F,L,P){I=I.replace(/\n/g,""),P.breaklines===!0?I=I.replace(/\<br\>/g,`
`):I=I.replace(/\<br\>/g," ");var q="",U=[];for(V=0;V<I.length;++V)U[V]=q;P.bolds===!0&&(U=_(b,x,I,U)),P.italics===!0&&(U=_(T,A,I,U)),P.superscripts===!0&&(U=_(m,k,I,U)),P.subscripts===!0&&(U=_(y,d,I,U));var W=[],j="";for(V=0;V<I.length;++V)U[V]!==null&&(j+=I[V],W.push(U[V]));var $=j.split(`
`),G=$.length,O=Math.round(L*F),Z=F,ne=F*2,Q=0,ie=G*O+ne;D.height<ie&&(D.height=ie),N.fillStyle="#000",N.fillRect(0,0,D.width,D.height),N.fillStyle="#fff";var ee,V,re,H,te,se=0,he="";function ke(){if(he!==""){var ge=N.measureText(he).width;N.fillText(he,Z+re,ne+H),re+=ge}}function we(){return""+Math.round(te)+"px "}function ve(ge,Ae){var ce=""+N.font;if(P.subscripts===!0){var ye=ge.indexOf(M),Le=Ae.indexOf(M),me=ye>-1?parseInt(ge[1+ye]):0,de=Le>-1?parseInt(Ae[1+Le]):0;me!==de&&(ce=ce.replace(we(),"?px "),te*=Math.pow(.75,de-me),ce=ce.replace("?px ",we())),H+=.25*O*(de-me)}if(P.superscripts===!0){var be=ge.indexOf(w),Ee=Ae.indexOf(w),ze=be>-1?parseInt(ge[1+be]):0,Fe=Ee>-1?parseInt(Ae[1+Ee]):0;ze!==Fe&&(ce=ce.replace(we(),"?px "),te*=Math.pow(.75,Fe-ze),ce=ce.replace("?px ",we())),H-=.25*O*(Fe-ze)}if(P.bolds===!0){var Je=ge.indexOf(x)>-1,Ye=Ae.indexOf(x)>-1;!Je&&Ye&&(Ge?ce=ce.replace("italic ","italic bold "):ce="bold "+ce),Je&&!Ye&&(ce=ce.replace("bold ",""))}if(P.italics===!0){var Ge=ge.indexOf(A)>-1,We=Ae.indexOf(A)>-1;!Ge&&We&&(ce="italic "+ce),Ge&&!We&&(ce=ce.replace("italic ",""))}N.font=ce}for(ee=0;ee<G;++ee){var Me=$[ee]+`
`;for(re=0,H=ee*O,te=F,he="",V=0;V<Me.length;++V){var Se=V+se<W.length?W[V+se]:W[W.length-1];q===Se?he+=Me[V]:(ke(),he=Me[V],Se!==void 0&&(ve(q,Se),q=Se))}ke(),se+=Me.length;var De=Math.round(re+2*Z)|0;Q<De&&(Q=De)}var Ce=Q,Oe=ne+O*G,Be=u(N.getImageData(0,0,Ce,Oe).data,[Oe,Ce,4]);return Be.pick(-1,-1,0).transpose(1,0)}function S(D,N){var I=l(D,128);return N?s(I.cells,I.positions,.25):{edges:I.cells,positions:I.positions}}function h(D,N,I,F){var L=S(D,F),P=p(L.positions,N,I),q=L.edges,U=N.orientation==="ccw";if(f(P,q),N.polygons||N.polygon||N.polyline){for(var W=g(q,P),j=new Array(W.length),$=0;$<W.length;++$){for(var G=W[$],O=new Array(G.length),Z=0;Z<G.length;++Z){for(var ne=G[Z],Q=new Array(ne.length),ie=0;ie<ne.length;++ie)Q[ie]=P[ne[ie]].slice();U&&Q.reverse(),O[Z]=Q}j[$]=O}return j}else return N.triangles||N.triangulate||N.triangle?{cells:v(P,q,{delaunay:!1,exterior:!1,interior:!0}),positions:P}:{edges:q,positions:P}}function R(D,N,I){try{return h(D,N,I,!0)}catch(F){}try{return h(D,N,I,!1)}catch(F){}return N.polygons||N.polyline||N.polygon?[]:N.triangles||N.triangulate||N.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function E(D,N,I,F){var L=64,P=1.25,q={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};F&&(F.size&&F.size>0&&(L=F.size),F.lineSpacing&&F.lineSpacing>0&&(P=F.lineSpacing),F.styletags&&F.styletags.breaklines&&(q.breaklines=!!F.styletags.breaklines),F.styletags&&F.styletags.bolds&&(q.bolds=!!F.styletags.bolds),F.styletags&&F.styletags.italics&&(q.italics=!!F.styletags.italics),F.styletags&&F.styletags.subscripts&&(q.subscripts=!!F.styletags.subscripts),F.styletags&&F.styletags.superscripts&&(q.superscripts=!!F.styletags.superscripts)),I.font=[F.fontStyle,F.fontVariant,F.fontWeight,L+"px",F.font].filter(function(W){return W}).join(" "),I.textAlign="start",I.textBaseline="alphabetic",I.direction="ltr";var U=c(N,I,D,L,P,q);return R(U,F,L)}},1538:function(a){(function(){"use strict";if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;function i(h){h.permitHostObjects___&&h.permitHostObjects___(i)}typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=i);var l=!1;if(typeof WeakMap=="function"){var u=WeakMap;if(!(typeof navigator!="undefined"&&/Firefox/.test(navigator.userAgent))){var s=new u,f=Object.freeze({});if(s.set(f,1),s.get(f)!==1)l=!0;else{a.exports=WeakMap;return}}}var v=Object.prototype.hasOwnProperty,g=Object.getOwnPropertyNames,b=Object.defineProperty,x=Object.isExtensible,T="weakmap:",A=T+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var m=new ArrayBuffer(25),w=new Uint8Array(m);crypto.getRandomValues(w),A=T+"rand:"+Array.prototype.map.call(w,function(h){return(h%36).toString(36)}).join("")+"___"}function k(h){return!(h.substr(0,T.length)==T&&h.substr(h.length-3)==="___")}if(b(Object,"getOwnPropertyNames",{value:function(R){return g(R).filter(k)}}),"getPropertyNames"in Object){var y=Object.getPropertyNames;b(Object,"getPropertyNames",{value:function(R){return y(R).filter(k)}})}function M(h){if(h!==Object(h))throw new TypeError("Not an object: "+h);var R=h[A];if(R&&R.key===h)return R;if(x(h)){R={key:h};try{return b(h,A,{value:R,writable:!1,enumerable:!1,configurable:!1}),R}catch(E){return}}}(function(){var h=Object.freeze;b(Object,"freeze",{value:function(N){return M(N),h(N)}});var R=Object.seal;b(Object,"seal",{value:function(N){return M(N),R(N)}});var E=Object.preventExtensions;b(Object,"preventExtensions",{value:function(N){return M(N),E(N)}})})();function d(h){return h.prototype=null,Object.freeze(h)}var _=!1;function p(){!_&&typeof console!="undefined"&&(_=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var c=0,S=function(){this instanceof S||p();var h=[],R=[],E=c++;function D(L,P){var q,U=M(L);return U?E in U?U[E]:P:(q=h.indexOf(L),q>=0?R[q]:P)}function N(L){var P=M(L);return P?E in P:h.indexOf(L)>=0}function I(L,P){var q,U=M(L);return U?U[E]=P:(q=h.indexOf(L),q>=0?R[q]=P:(q=h.length,R[q]=P,h[q]=L)),this}function F(L){var P=M(L),q,U;return P?E in P&&delete P[E]:(q=h.indexOf(L),q<0?!1:(U=h.length-1,h[q]=void 0,R[q]=R[U],h[q]=h[U],h.length=U,R.length=U,!0))}return Object.create(S.prototype,{get___:{value:d(D)},has___:{value:d(N)},set___:{value:d(I)},delete___:{value:d(F)}})};S.prototype=Object.create(Object.prototype,{get:{value:function(R,E){return this.get___(R,E)},writable:!0,configurable:!0},has:{value:function(R){return this.has___(R)},writable:!0,configurable:!0},set:{value:function(R,E){return this.set___(R,E)},writable:!0,configurable:!0},delete:{value:function(R){return this.delete___(R)},writable:!0,configurable:!0}}),typeof u=="function"?function(){l&&typeof Proxy!="undefined"&&(Proxy=void 0);function h(){this instanceof S||p();var R=new u,E=void 0,D=!1;function N(P,q){return E?R.has(P)?R.get(P):E.get___(P,q):R.get(P,q)}function I(P){return R.has(P)||(E?E.has___(P):!1)}var F;l?F=function(P,q){return R.set(P,q),R.has(P)||(E||(E=new S),E.set(P,q)),this}:F=function(P,q){if(D)try{R.set(P,q)}catch(U){E||(E=new S),E.set___(P,q)}else R.set(P,q);return this};function L(P){var q=!!R.delete(P);return E&&E.delete___(P)||q}return Object.create(S.prototype,{get___:{value:d(N)},has___:{value:d(I)},set___:{value:d(F)},delete___:{value:d(L)},permitHostObjects___:{value:d(function(P){if(P===i)D=!0;else throw new Error("bogus call to permitHostObjects___")})}})}h.prototype=S.prototype,a.exports=h,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=void 0),a.exports=S)})()},236:function(a,o,i){var l=i(8284);a.exports=u;function u(){var s={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var v=f.valueOf(s);return v&&v.identity===s?v:l(f,s)}}},8284:function(a){a.exports=o;function o(i,l){var u={identity:l},s=i.valueOf;return Object.defineProperty(i,"valueOf",{value:function(f){return f!==l?s.apply(this,arguments):u},writable:!0}),u}},606:function(a,o,i){var l=i(236);a.exports=u;function u(){var s=l();return{get:function(f,v){var g=s(f);return g.hasOwnProperty("value")?g.value:v},set:function(f,v){return s(f).value=v,this},has:function(f){return"value"in s(f)},delete:function(f){return delete s(f).value}}}},3349:function(a){"use strict";function o(){return function(v,g,b,x,T,A){var m=v[0],w=b[0],k=[0],y=w;x|=0;var M=0,d=w;for(M=0;M<m;++M){{var _=g[x]-A,p=g[x+y]-A;_>=0!=p>=0&&T.push(k[0]+.5+.5*(_+p)/(_-p))}x+=d,++k[0]}}}function i(){return o()}var l=i;function u(v){var g={};return function(x,T,A){var m=x.dtype,w=x.order,k=[m,w.join()].join(),y=g[k];return y||(g[k]=y=v([m,w])),y(x.shape.slice(0),x.data,x.stride,x.offset|0,T,A)}}function s(v){return u(l.bind(void 0,v))}function f(v){return s({funcName:v.funcName})}a.exports=f({funcName:"zeroCrossings"})},781:function(a,o,i){"use strict";a.exports=u;var l=i(3349);function u(s,f){var v=[];return f=+f||0,l(s.hi(s.shape[0]-1),v,f),v}},7790:function(){}},r={};function t(a){var o=r[a];if(o!==void 0)return o.exports;var i=r[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}(function(){t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}()})(),function(){t.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a}}();var n=t(1964);KF.exports=n})()});var $F=pe((Lpe,QF)=>{"use strict";QF.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var tI=pe((Rpe,rI)=>{"use strict";var jF=$F();rI.exports=jie;var eI={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function jie(e){var r,t=[],n=1,a;if(typeof e=="string")if(e=e.toLowerCase(),jF[e])t=jF[e].slice(),a="rgb";else if(e==="transparent")n=0,a="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var o=e.slice(1),i=o.length,l=i<=4;n=1,l?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],i===4&&(n=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],i===8&&(n=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),a="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var u=r[1],s=u==="rgb",o=u.replace(/a$/,"");a=o;var i=o==="cmyk"?4:o==="gray"?1:3;t=r[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(g,b){if(/%$/.test(g))return b===i?parseFloat(g)/100:o==="rgb"?parseFloat(g)*255/100:parseFloat(g);if(o[b]==="h"){if(/deg$/.test(g))return parseFloat(g);if(eI[g]!==void 0)return eI[g]}return parseFloat(g)}),u===o&&t.push(1),n=s||t[i]===void 0?1:t[i],t=t.slice(0,i)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(t=e.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),a=e.match(/([a-z])/ig).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(t=[e[0],e[1],e[2]],a="rgb",n=e.length===4?e[3]:1):e instanceof Object&&(e.r!=null||e.red!=null||e.R!=null?(a="rgb",t=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(a="hsl",t=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),n=e.a||e.alpha||e.opacity||1,e.opacity!=null&&(n/=100)):(a="rgb",t=[e>>>16,(e&65280)>>>8,e&255]);return{space:a,values:t,alpha:n}}});var aI=pe((Dpe,nI)=>{"use strict";nI.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}});var oI=pe((Ppe,iI)=>{"use strict";var eoe=aI();iI.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var r=e[0]/360,t=e[1]/100,n=e[2]/100,a,o,i,l,u;if(t===0)return u=n*255,[u,u,u];n<.5?o=n*(1+t):o=n+t-n*t,a=2*n-o,l=[0,0,0];for(var s=0;s<3;s++)i=r+1/3*-(s-1),i<0?i++:i>1&&i--,6*i<1?u=a+(o-a)*6*i:2*i<1?u=o:3*i<2?u=a+(o-a)*(2/3-i)*6:u=a,l[s]=u*255;return l}};eoe.hsl=function(e){var r=e[0]/255,t=e[1]/255,n=e[2]/255,a=Math.min(r,t,n),o=Math.max(r,t,n),i=o-a,l,u,s;return o===a?l=0:r===o?l=(t-n)/i:t===o?l=2+(n-r)/i:n===o&&(l=4+(r-t)/i),l=Math.min(l*60,360),l<0&&(l+=360),s=(a+o)/2,o===a?u=0:s<=.5?u=i/(o+a):u=i/(2-o-a),[l,u*100,s*100]}});var G3=pe((Fpe,lI)=>{lI.exports=roe;function roe(e,r,t){return r<t?e<r?r:e>t?t:e:e<t?t:e>r?r:e}});var uI=pe((Ipe,sI)=>{"use strict";var toe=tI(),noe=oI(),Ad=G3();sI.exports=function(r){var t,n,a,o=toe(r);return o.space?(t=Array(3),t[0]=Ad(o.values[0],0,255),t[1]=Ad(o.values[1],0,255),t[2]=Ad(o.values[2],0,255),o.space[0]==="h"&&(t=noe.rgb(t)),t.push(Ad(o.alpha,0,1)),t):[]}});var cI=pe((Npe,fI)=>{fI.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}});var Y3=pe((zpe,vI)=>{"use strict";var aoe=uI(),kd=G3(),ioe=cI();vI.exports=function(r,t){(t==="float"||!t)&&(t="array"),t==="uint"&&(t="uint8"),t==="uint_clamped"&&(t="uint8_clamped");var n=ioe(t),a=new n(4),o=t!=="uint8"&&t!=="uint8_clamped";return(!r.length||typeof r=="string")&&(r=aoe(r),r[0]/=255,r[1]/=255,r[2]/=255),ooe(r)?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:255,o&&(a[0]/=255,a[1]/=255,a[2]/=255,a[3]/=255),a):(o?(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]!=null?r[3]:1):(a[0]=kd(Math.floor(r[0]*255),0,255),a[1]=kd(Math.floor(r[1]*255),0,255),a[2]=kd(Math.floor(r[2]*255),0,255),a[3]=r[3]==null?255:kd(Math.floor(r[3]*255),0,255)),a)};function ooe(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}});var xo=pe((Ope,hI)=>{"use strict";var loe=Y3();function soe(e){return e?loe(e):[0,0,0,1]}hI.exports=soe});var hl=pe((qpe,bI)=>{"use strict";var mI=rt(),uoe=La(),Sd=Y3(),Cd=Fi(),foe=Si().defaultLine,dI=ia().isArrayOrTypedArray,W3=Sd(foe),xI=1;function pI(e,r){var t=e;return t[3]*=r,t}function gI(e){if(mI(e))return W3;var r=Sd(e);return r.length?r:W3}function yI(e){return mI(e)?e:xI}function coe(e,r,t){var n=e.color;n&&n._inputArray&&(n=n._inputArray);var a=dI(n),o=dI(r),i=Cd.extractOpts(e),l=[],u,s,f,v,g;if(i.colorscale!==void 0?u=Cd.makeColorScaleFuncFromTrace(e):u=gI,a?s=function(x,T){return x[T]===void 0?W3:Sd(u(x[T]))}:s=gI,o?f=function(x,T){return x[T]===void 0?xI:yI(x[T])}:f=yI,a||o)for(var b=0;b<t;b++)v=s(n,b),g=f(r,b),l[b]=pI(v,g);else l=pI(Sd(n),r);return l}function voe(e){var r=Cd.extractOpts(e),t=r.colorscale;return r.reversescale&&(t=Cd.flipScale(r.colorscale)),t.map(function(n){var a=n[0],o=uoe(n[1]),i=o.toRgb();return{index:a,rgb:[i.r,i.g,i.b,i.a]}})}bI.exports={formatColor:coe,parseColorScale:voe}});var X3=pe((Bpe,_I)=>{"use strict";_I.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}});var Ed=pe((Upe,wI)=>{"use strict";wI.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}});var MI=pe((Hpe,TI)=>{"use strict";var hoe=Cr();function Z3(e,r,t,n){if(!r||!r.visible)return null;for(var a=hoe.getComponentMethod("errorbars","makeComputeError")(r),o=new Array(e.length),i=0;i<e.length;i++){var l=a(+e[i],i);if(n.type==="log"){var u=n.c2l(e[i]),s=e[i]-l[0],f=e[i]+l[1];if(o[i]=[(n.c2l(s,!0)-u)*t,(n.c2l(f,!0)-u)*t],s>0){var v=n.c2l(s);n._lowerLogErrorBound||(n._lowerLogErrorBound=v),n._lowerErrorBound=Math.min(n._lowerLogErrorBound,v)}}else o[i]=[-l[0]*t,l[1]*t]}return o}function doe(e){for(var r=0;r<e.length;r++)if(e[r])return e[r].length;return 0}function poe(e,r,t){var n=[Z3(e.x,e.error_x,r[0],t.xaxis),Z3(e.y,e.error_y,r[1],t.yaxis),Z3(e.z,e.error_z,r[2],t.zaxis)],a=doe(n);if(a===0)return null;for(var o=new Array(a),i=0;i<a;i++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(n[u])for(var s=0;s<2;s++)l[s][u]=n[u][i][s];o[i]=l}return o}TI.exports=poe});var PI=pe((Vpe,DI)=>{"use strict";var goe=gn().gl_line3d,AI=gn().gl_scatter3d,yoe=gn().gl_error3d,moe=gn().gl_mesh3d,xoe=gn().delaunay_triangulate,bo=ir(),LI=xo(),Ld=hl().formatColor,boe=Zg(),J3=X3(),_oe=Ed(),woe=wt(),Toe=io().appendArrayPointValue,Moe=MI();function RI(e,r){this.scene=e,this.uid=r,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var Q3=RI.prototype;Q3.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var r=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel="",this.textLabels&&(bo.isArrayOrTypedArray(this.textLabels)?(this.textLabels[r]||this.textLabels[r]===0)&&(e.textLabel=this.textLabels[r]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]],!0}};function Aoe(e,r,t){var n=(t+1)%3,a=(t+2)%3,o=[],i=[],l;for(l=0;l<e.length;++l){var u=e[l];isNaN(u[n])||!isFinite(u[n])||isNaN(u[a])||!isFinite(u[a])||(o.push([u[n],u[a]]),i.push(l))}var s=xoe(o);for(l=0;l<s.length;++l)for(var f=s[l],v=0;v<f.length;++v)f[v]=i[f[v]];return{positions:e,cells:s,meshColor:r}}function koe(e){for(var r=[0,0,0],t=[[0,0,0],[0,0,0],[0,0,0]],n=[1,1,1],a=0;a<3;a++){var o=e[a];o&&o.copy_zstyle!==!1&&e[2].visible!==!1&&(o=e[2]),!(!o||!o.visible)&&(r[a]=o.width/2,t[a]=LI(o.color),n[a]=o.thickness)}return{capSize:r,color:t,lineWidth:n}}function kI(e){return e==null?0:e.indexOf("left")>-1?-1:e.indexOf("right")>-1?1:0}function SI(e){return e==null?0:e.indexOf("top")>-1?-1:e.indexOf("bottom")>-1?1:0}function Soe(e){var r=0,t=0,n=[r,t];if(Array.isArray(e))for(var a=0;a<e.length;a++)n[a]=[r,t],e[a]&&(n[a][0]=kI(e[a]),n[a][1]=SI(e[a]));else n[0]=kI(e),n[1]=SI(e);return n}function Coe(e,r){return r(e*4)}function Eoe(e){return _oe[e]}function K3(e,r,t,n,a){var o=null;if(bo.isArrayOrTypedArray(e)){o=[];for(var i=0;i<r;i++)e[i]===void 0?o[i]=n:o[i]=t(e[i],a)}else o=t(e,bo.identity);return o}function Loe(e,r){var t=[],n=e.fullSceneLayout,a=e.dataScale,o=n.xaxis,i=n.yaxis,l=n.zaxis,u=r.marker,s=r.line,f=r.x||[],v=r.y||[],g=r.z||[],b=f.length,x=r.xcalendar,T=r.ycalendar,A=r.zcalendar,m,w,k,y,M,d;for(M=0;M<b;M++)m=o.d2l(f[M],0,x)*a[0],w=i.d2l(v[M],0,T)*a[1],k=l.d2l(g[M],0,A)*a[2],t[M]=[m,w,k];if(Array.isArray(r.text))d=r.text;else if(bo.isTypedArray(r.text))d=Array.from(r.text);else if(r.text!==void 0)for(d=new Array(b),M=0;M<b;M++)d[M]=r.text;function _(W,j){var $=n[W];return woe.tickText($,$.d2l(j),!0).text}var p=r.texttemplate;if(p){var c=e.fullLayout,S=c._d3locale,h=Array.isArray(p),R=h?Math.min(p.length,b):b,E=h?function(W){return p[W]}:function(){return p};for(d=new Array(R),M=0;M<R;M++){var D={x:f[M],y:v[M],z:g[M]},N={xLabel:_("xaxis",f[M]),yLabel:_("yaxis",v[M]),zLabel:_("zaxis",g[M])},I={};Toe(I,r,M);var F=r._meta||{};d[M]=bo.texttemplateString(E(M),N,S,I,D,F)}}if(y={position:t,mode:r.mode,text:d},"line"in r&&(y.lineColor=Ld(s,1,b),y.lineWidth=s.width,y.lineDashes=s.dash),"marker"in r){var L=boe(r);y.scatterColor=Ld(u,1,b),y.scatterSize=K3(u.size,b,Coe,20,L),y.scatterMarker=K3(u.symbol,b,Eoe,"\u25CF"),y.scatterLineWidth=u.line.width,y.scatterLineColor=Ld(u.line,1,b),y.scatterAngle=0}"textposition"in r&&(y.textOffset=Soe(r.textposition),y.textColor=Ld(r.textfont,1,b),y.textSize=K3(r.textfont.size,b,bo.identity,12),y.textFontFamily=r.textfont.family,y.textFontWeight=r.textfont.weight,y.textFontStyle=r.textfont.style,y.textFontVariant=r.textfont.variant,y.textAngle=0);var P=["x","y","z"];for(y.project=[!1,!1,!1],y.projectScale=[1,1,1],y.projectOpacity=[1,1,1],M=0;M<3;++M){var q=r.projection[P[M]];(y.project[M]=q.show)&&(y.projectOpacity[M]=q.opacity,y.projectScale[M]=q.scale)}y.errorBounds=Moe(r,a,n);var U=koe([r.error_x,r.error_y,r.error_z]);return y.errorColor=U.color,y.errorLineWidth=U.lineWidth,y.errorCapSize=U.capSize,y.delaunayAxis=r.surfaceaxis,y.delaunayColor=LI(r.surfacecolor),y}function CI(e){if(bo.isArrayOrTypedArray(e)){var r=e[0];return bo.isArrayOrTypedArray(r)&&(e=r),"rgb("+e.slice(0,3).map(function(t){return Math.round(t*255)})+")"}return null}function EI(e){return bo.isArrayOrTypedArray(e)?e.length===4&&typeof e[0]=="number"?CI(e):e.map(CI):null}Q3.update=function(e){var r=this.scene.glplot.gl,t,n,a,o,i=J3.solid;this.data=e;var l=Loe(this.scene,e);"mode"in l&&(this.mode=l.mode),"lineDashes"in l&&l.lineDashes in J3&&(i=J3[l.lineDashes]),this.color=EI(l.scatterColor)||EI(l.lineColor),this.dataPoints=l.position,t={gl:this.scene.glplot.gl,position:l.position,color:l.lineColor,lineWidth:l.lineWidth||1,dashes:i[0],dashScale:i[1],opacity:e.opacity,connectGaps:e.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(t):(this.linePlot=goe(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var u=e.opacity;if(e.marker&&e.marker.opacity!==void 0&&(u*=e.marker.opacity),n={gl:this.scene.glplot.gl,position:l.position,color:l.scatterColor,size:l.scatterSize,glyph:l.scatterMarker,opacity:u,orthographic:!0,lineWidth:l.scatterLineWidth,lineColor:l.scatterLineColor,project:l.project,projectScale:l.projectScale,projectOpacity:l.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=AI(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),o={gl:this.scene.glplot.gl,position:l.position,glyph:l.text,color:l.textColor,size:l.textSize,angle:l.textAngle,alignment:l.textOffset,font:l.textFontFamily,fontWeight:l.textFontWeight,fontStyle:l.textFontStyle,fontVariant:l.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(o):(this.textMarkers=AI(o),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),a={gl:this.scene.glplot.gl,position:l.position,color:l.errorColor,error:l.errorBounds,lineWidth:l.errorLineWidth,capSize:l.errorCapSize,opacity:e.opacity},this.errorBars?l.errorBounds?this.errorBars.update(a):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):l.errorBounds&&(this.errorBars=yoe(a),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),l.delaunayAxis>=0){var s=Aoe(l.position,l.delaunayColor,l.delaunayAxis);s.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(s):(s.gl=r,this.delaunayMesh=moe(s),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)};Q3.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function Roe(e,r){var t=new RI(e,r.uid);return t.update(r),t}DI.exports=Roe});var t5=pe((Gpe,NI)=>{"use strict";var _o=us(),Doe=Sn(),r5=ni(),$3=ao().axisHoverFormat,Poe=Ra().hovertemplateAttrs,Foe=Ra().texttemplateAttrs,FI=Cn(),Ioe=X3(),Noe=Ed(),xi=Mt().extendFlat,zoe=qn().overrideAll,II=mv(),Ooe=_o.line,_s=_o.marker,qoe=_s.line,Boe=xi({width:Ooe.width,dash:{valType:"enumerated",values:II(Ioe),dflt:"solid"}},r5("line"));function j3(e){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}}var e5=NI.exports=zoe({x:_o.x,y:_o.y,z:{valType:"data_array"},text:xi({},_o.text,{}),texttemplate:Foe({},{}),hovertext:xi({},_o.hovertext,{}),hovertemplate:Poe(),xhoverformat:$3("x"),yhoverformat:$3("y"),zhoverformat:$3("z"),mode:xi({},_o.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:j3("x"),y:j3("y"),z:j3("z")},connectgaps:_o.connectgaps,line:Boe,marker:xi({symbol:{valType:"enumerated",values:II(Noe),dflt:"circle",arrayOk:!0},size:xi({},_s.size,{dflt:8}),sizeref:_s.sizeref,sizemin:_s.sizemin,sizemode:_s.sizemode,opacity:xi({},_s.opacity,{arrayOk:!1}),colorbar:_s.colorbar,line:xi({width:xi({},qoe.width,{arrayOk:!1})},r5("marker.line"))},r5("marker")),textposition:xi({},_o.textposition,{dflt:"top center"}),textfont:Doe({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:FI.opacity,hoverinfo:xi({},FI.hoverinfo)},"calc","nested");e5.x.editType=e5.y.editType=e5.z.editType="calc+clearAxisTypes"});var qI=pe((Ype,OI)=>{"use strict";var zI=Cr(),Uoe=ir(),n5=ca(),Hoe=wm(),Voe=Tm(),Goe=Mm(),Yoe=t5();OI.exports=function(r,t,n,a){function o(b,x){return Uoe.coerce(r,t,Yoe,b,x)}var i=Woe(r,t,o,a);if(!i){t.visible=!1;return}o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),n5.hasMarkers(t)&&Hoe(r,t,n,a,o,{noSelect:!0,noAngle:!0}),n5.hasLines(t)&&(o("connectgaps"),Voe(r,t,n,a,o)),n5.hasText(t)&&(o("texttemplate"),Goe(r,t,a,o,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var l=(t.line||{}).color,u=(t.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",l||u);for(var s=["x","y","z"],f=0;f<3;++f){var v="projection."+s[f];o(v+".show")&&(o(v+".opacity"),o(v+".scale"))}var g=zI.getComponentMethod("errorbars","supplyDefaults");g(r,t,l||u||n,{axis:"z"}),g(r,t,l||u||n,{axis:"y",inherit:"z"}),g(r,t,l||u||n,{axis:"x",inherit:"z"})};function Woe(e,r,t,n){var a=0,o=t("x"),i=t("y"),l=t("z"),u=zI.getComponentMethod("calendars","handleTraceDefaults");return u(e,r,["x","y","z"],n),o&&i&&l&&(a=Math.min(o.length,i.length,l.length),r._length=r._xlength=r._ylength=r._zlength=a),a}});var UI=pe((Wpe,BI)=>{"use strict";var Xoe=O1(),Zoe=Sm();BI.exports=function(r,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return Xoe(n,t),Zoe(r,t),n}});var VI=pe((Xpe,HI)=>{HI.exports=Joe;function Joe(e,r){if(typeof e!="string")throw new TypeError("must specify type string");if(r=r||{},typeof document=="undefined"&&!r.canvas)return null;var t=r.canvas||document.createElement("canvas");typeof r.width=="number"&&(t.width=r.width),typeof r.height=="number"&&(t.height=r.height);var n=r,a;try{var o=[e];e.indexOf("webgl")===0&&o.push("experimental-"+e);for(var i=0;i<o.length;i++)if(a=t.getContext(o[i],n),a)return a}catch(l){a=null}return a||null}});var YI=pe((Zpe,GI)=>{var Koe=VI();GI.exports=function(r){return Koe("webgl",r)}});var ZI=pe((Jpe,XI)=>{"use strict";var WI=Kr(),Qoe=function(){};XI.exports=function(r){for(var t in r)typeof r[t]=="function"&&(r[t]=Qoe);r.destroy=function(){r.container.parentNode.removeChild(r.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=WI.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=WI.lightLine,n.style["z-index"]=30;var a=document.createElement("p");return a.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",a.style.position="relative",a.style.top="50%",a.style.left="50%",a.style.height="30%",a.style.width="50%",a.style.margin="-15% 0 0 -25%",n.appendChild(a),r.container.appendChild(n),r.container.style.background="#FFFFFF",r.container.onclick=function(){window.open("https://get.webgl.org")},!1}});var QI=pe((Kpe,KI)=>{"use strict";var ws=xo(),$oe=ir(),joe=["xaxis","yaxis","zaxis"];function JI(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var ele=JI.prototype;ele.merge=function(e,r){for(var t=this,n=0;n<3;++n){var a=r[joe[n]];if(!a.visible){t.tickEnable[n]=!1,t.labelEnable[n]=!1,t.lineEnable[n]=!1,t.lineTickEnable[n]=!1,t.gridEnable[n]=!1,t.zeroEnable[n]=!1,t.backgroundEnable[n]=!1;continue}t.labels[n]=e._meta?$oe.templateString(a.title.text,e._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[n]=ws(a.title.font.color)),a.title.font.family&&(t.labelFont[n]=a.title.font.family),a.title.font.size&&(t.labelSize[n]=a.title.font.size),a.title.font.weight&&(t.labelFontWeight[n]=a.title.font.weight),a.title.font.style&&(t.labelFontStyle[n]=a.title.font.style),a.title.font.variant&&(t.labelFontVariant[n]=a.title.font.variant)),"showline"in a&&(t.lineEnable[n]=a.showline),"linecolor"in a&&(t.lineColor[n]=ws(a.linecolor)),"linewidth"in a&&(t.lineWidth[n]=a.linewidth),"showgrid"in a&&(t.gridEnable[n]=a.showgrid),"gridcolor"in a&&(t.gridColor[n]=ws(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[n]=a.gridwidth),a.type==="log"?t.zeroEnable[n]=!1:"zeroline"in a&&(t.zeroEnable[n]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[n]=ws(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[n]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[n]=!0:t.lineTickEnable[n]=!1,"ticklen"in a&&(t.lineTickLength[n]=t._defaultLineTickLength[n]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[n]=ws(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[n]=a.tickwidth),"tickangle"in a&&(t.tickAngle[n]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[n]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[n]=ws(a.tickfont.color)),a.tickfont.family&&(t.tickFont[n]=a.tickfont.family),a.tickfont.size&&(t.tickSize[n]=a.tickfont.size),a.tickfont.weight&&(t.tickFontWeight[n]=a.tickfont.weight),a.tickfont.style&&(t.tickFontStyle[n]=a.tickfont.style),a.tickfont.variant&&(t.tickFontVariant[n]=a.tickfont.variant)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[n]=!0,t.lineMirror[n]=!0):a.mirror===!0?(t.lineTickMirror[n]=!1,t.lineMirror[n]=!0):(t.lineTickMirror[n]=!1,t.lineMirror[n]=!1):t.lineMirror[n]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[n]=!0,t.backgroundColor[n]=ws(a.backgroundcolor)):t.backgroundEnable[n]=!1}};function rle(e,r){var t=new JI;return t.merge(e,r),t}KI.exports=rle});var eN=pe((Qpe,jI)=>{"use strict";var tle=xo(),nle=["xaxis","yaxis","zaxis"];function $I(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var ale=$I.prototype;ale.merge=function(e){for(var r=0;r<3;++r){var t=e[nle[r]];if(!t.visible){this.enabled[r]=!1,this.drawSides[r]=!1;continue}this.enabled[r]=t.showspikes,this.colors[r]=tle(t.spikecolor),this.drawSides[r]=t.spikesides,this.lineWidth[r]=t.spikethickness}};function ile(e){var r=new $I;return r.merge(e),r}jI.exports=ile});var nN=pe(($pe,tN)=>{"use strict";tN.exports=fle;var rN=wt(),ole=ir(),lle=["xaxis","yaxis","zaxis"],sle=[0,0,0];function ule(e){for(var r=new Array(3),t=0;t<3;++t){for(var n=e[t],a=new Array(n.length),o=0;o<n.length;++o)a[o]=n[o].x;r[t]=a}return r}function fle(e){for(var r=e.axesOptions,t=e.glplot.axesPixels,n=e.fullSceneLayout,a=[[],[],[]],o=0;o<3;++o){var i=n[lle[o]];if(i._length=(t[o].hi-t[o].lo)*t[o].pixelsPerDataUnit/e.dataScale[o],Math.abs(i._length)===1/0||isNaN(i._length))a[o]=[];else{i._input_range=i.range.slice(),i.range[0]=t[o].lo/e.dataScale[o],i.range[1]=t[o].hi/e.dataScale[o],i._m=1/(e.dataScale[o]*t[o].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var l=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var u=i.nticks||ole.constrain(i._length/40,4,9);rN.autoTicks(i,Math.abs(i.range[1]-i.range[0])/u)}for(var s=rN.calcTicks(i,{msUTC:!0}),f=0;f<s.length;++f)s[f].x=s[f].x*e.dataScale[o],i.type==="date"&&(s[f].text=s[f].text.replace(/\<br\>/g," "));a[o]=s,i.tickmode=l}}r.ticks=a;for(var o=0;o<3;++o){sle[o]=.5*(e.glplot.bounds[0][o]+e.glplot.bounds[1][o]);for(var f=0;f<2;++f)r.bounds[f][o]=e.glplot.bounds[f][o]}e.contourLevels=ule(a)}});var fN=pe((jpe,uN)=>{"use strict";var oN=gn().gl_plot3d,cle=oN.createCamera,aN=oN.createScene,vle=YI(),hle=mh(),Pd=Cr(),jn=ir(),Dd=jn.preserveDrawingBuffer(),Fd=wt(),bi=so(),dle=xo(),ple=ZI(),gle=s3(),yle=QI(),mle=eN(),xle=nN(),ble=cu().applyAutorangeOptions,nc,Rd,lN=!1;function sN(e,r){var t=document.createElement("div"),n=e.container;this.graphDiv=e.graphDiv;var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.position="absolute",a.style.top=a.style.left="0px",a.style.width=a.style.height="100%",a.style["z-index"]=20,a.style["pointer-events"]="none",t.appendChild(a),this.svgContainer=a,t.id=e.id,t.style.position="absolute",t.style.top=t.style.left="0px",t.style.width=t.style.height="100%",n.appendChild(t),this.fullLayout=r,this.id=e.id||"scene",this.fullSceneLayout=r[this.id],this.plotArgs=[[],{},{}],this.axesOptions=yle(r,r[this.id]),this.spikeOptions=mle(r[this.id]),this.container=t,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=Pd.getComponentMethod("annotations3d","convert"),this.drawAnnotations=Pd.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var Pn=sN.prototype;Pn.prepareOptions=function(){var e=this,r={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:Dd,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!Rd&&(nc=document.createElement("canvas"),Rd=vle({canvas:nc,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!Rd))throw new Error("error creating static canvas/context for image server");r.gl=Rd,r.canvas=nc}return r};var iN=!0;Pn.tryCreatePlot=function(){var e=this,r=e.prepareOptions(),t=!0;try{e.glplot=aN(r)}catch(n){if(e.staticMode||!iN||Dd)t=!1;else{jn.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{Dd=r.glOptions.preserveDrawingBuffer=!0,e.glplot=aN(r)}catch(a){Dd=r.glOptions.preserveDrawingBuffer=!1,t=!1}}}return iN=!1,t};Pn.initializeGLCamera=function(){var e=this,r=e.fullSceneLayout.camera,t=r.projection.type==="orthographic";e.camera=cle(e.container,{center:[r.center.x,r.center.y,r.center.z],eye:[r.eye.x,r.eye.y,r.eye.z],up:[r.up.x,r.up.y,r.up.z],_ortho:t,zoomMin:.01,zoomMax:100,mode:"orbit"})};Pn.initializeGLPlot=function(){var e=this;e.initializeGLCamera();var r=e.tryCreatePlot();if(!r)return ple(e);e.traces={},e.make4thDimension();var t=e.graphDiv,n=t.layout,a=function(){var i={};return e.isCameraChanged(n)&&(i[e.id+".camera"]=e.getCamera()),e.isAspectChanged(n)&&(i[e.id+".aspectratio"]=e.glplot.getAspectratio(),n[e.id].aspectmode!=="manual"&&(e.fullSceneLayout.aspectmode=n[e.id].aspectmode=i[e.id+".aspectmode"]="manual")),i},o=function(i){if(i.fullSceneLayout.dragmode!==!1){var l=a();i.saveLayout(n),i.graphDiv.emit("plotly_relayout",l)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener("mouseup",function(){o(e)}),e.glplot.canvas.addEventListener("touchstart",function(){lN=!0}),e.glplot.canvas.addEventListener("wheel",function(i){if(t._context._scrollZoom.gl3d){if(e.camera._ortho){var l=i.deltaX>i.deltaY?1.1:.9090909090909091,u=e.glplot.getAspectratio();e.glplot.setAspectratio({x:l*u.x,y:l*u.y,z:l*u.z})}o(e)}},hle?{passive:!1}:!1),e.glplot.canvas.addEventListener("mousemove",function(){if(e.fullSceneLayout.dragmode!==!1&&e.camera.mouseListener.buttons!==0){var i=a();e.graphDiv.emit("plotly_relayouting",i)}}),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",function(i){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:i,layer:e.id})},!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0};Pn.render=function(){var e=this,r=e.graphDiv,t,n=e.svgContainer,a=e.container.getBoundingClientRect();r._fullLayout._calcInverseTransform(r);var o=r._fullLayout._invScaleX,i=r._fullLayout._invScaleY,l=a.width*o,u=a.height*i;n.setAttributeNS(null,"viewBox","0 0 "+l+" "+u),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"height",u),xle(e),e.glplot.axes.update(e.axesOptions);for(var s=Object.keys(e.traces),f=null,v=e.glplot.selection,g=0;g<s.length;++g)t=e.traces[s[g]],t.data.hoverinfo!=="skip"&&t.handlePick(v)&&(f=t),t.setContourLevels&&t.setContourLevels();function b(S,h,R){var E=e.fullSceneLayout[S+"axis"];return E.type!=="log"&&(h=E.d2l(h)),Fd.hoverLabelText(E,h,R)}if(f!==null){var x=gle(e.glplot.cameraParams,v.dataCoordinate);t=f.data;var T=r._fullData[t.index],A=v.index,m={xLabel:b("x",v.traceCoordinate[0],t.xhoverformat),yLabel:b("y",v.traceCoordinate[1],t.yhoverformat),zLabel:b("z",v.traceCoordinate[2],t.zhoverformat)},w=bi.castHoverinfo(T,e.fullLayout,A),k=(w||"").split("+"),y=w&&w==="all";!T.hovertemplate&&!y&&(k.indexOf("x")===-1&&(m.xLabel=void 0),k.indexOf("y")===-1&&(m.yLabel=void 0),k.indexOf("z")===-1&&(m.zLabel=void 0),k.indexOf("text")===-1&&(v.textLabel=void 0),k.indexOf("name")===-1&&(f.name=void 0));var M,d=[];t.type==="cone"||t.type==="streamtube"?(m.uLabel=b("x",v.traceCoordinate[3],t.uhoverformat),(y||k.indexOf("u")!==-1)&&d.push("u: "+m.uLabel),m.vLabel=b("y",v.traceCoordinate[4],t.vhoverformat),(y||k.indexOf("v")!==-1)&&d.push("v: "+m.vLabel),m.wLabel=b("z",v.traceCoordinate[5],t.whoverformat),(y||k.indexOf("w")!==-1)&&d.push("w: "+m.wLabel),m.normLabel=v.traceCoordinate[6].toPrecision(3),(y||k.indexOf("norm")!==-1)&&d.push("norm: "+m.normLabel),t.type==="streamtube"&&(m.divergenceLabel=v.traceCoordinate[7].toPrecision(3),(y||k.indexOf("divergence")!==-1)&&d.push("divergence: "+m.divergenceLabel)),v.textLabel&&d.push(v.textLabel),M=d.join("<br>")):t.type==="isosurface"||t.type==="volume"?(m.valueLabel=Fd.hoverLabelText(e._mockAxis,e._mockAxis.d2l(v.traceCoordinate[3]),t.valuehoverformat),d.push("value: "+m.valueLabel),v.textLabel&&d.push(v.textLabel),M=d.join("<br>")):M=v.textLabel;var _={x:v.traceCoordinate[0],y:v.traceCoordinate[1],z:v.traceCoordinate[2],data:T._input,fullData:T,curveNumber:T.index,pointNumber:A};bi.appendArrayPointValue(_,T,A),t._module.eventData&&(_=T._module.eventData(_,v,T,{},A));var p={points:[_]};if(e.fullSceneLayout.hovermode){var c=[];bi.loneHover({trace:T,x:(.5+.5*x[0]/x[3])*l,y:(.5-.5*x[1]/x[3])*u,xLabel:m.xLabel,yLabel:m.yLabel,zLabel:m.zLabel,text:M,name:f.name,color:bi.castHoverOption(T,A,"bgcolor")||f.color,borderColor:bi.castHoverOption(T,A,"bordercolor"),fontFamily:bi.castHoverOption(T,A,"font.family"),fontSize:bi.castHoverOption(T,A,"font.size"),fontColor:bi.castHoverOption(T,A,"font.color"),nameLength:bi.castHoverOption(T,A,"namelength"),textAlign:bi.castHoverOption(T,A,"align"),hovertemplate:jn.castOption(T,A,"hovertemplate"),hovertemplateLabels:jn.extendFlat({},_,m),eventData:[_]},{container:n,gd:r,inOut_bbox:c}),_.bbox=c[0]}v.distance<5&&(v.buttons||lN)?r.emit("plotly_click",p):r.emit("plotly_hover",p),this.oldEventData=p}else bi.loneUnhover(n),this.oldEventData&&r.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)};Pn.recoverContext=function(){var e=this;e.glplot.dispose();var r=function(){if(e.glplot.gl.isContextLost()){requestAnimationFrame(r);return}if(!e.initializeGLPlot()){jn.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}e.plot.apply(e,e.plotArgs)};requestAnimationFrame(r)};var ac=["xaxis","yaxis","zaxis"];function _le(e,r,t){for(var n=e.fullSceneLayout,a=0;a<3;a++){var o=ac[a],i=o.charAt(0),l=n[o],u=r[i],s=r[i+"calendar"],f=r["_"+i+"length"];if(!jn.isArrayOrTypedArray(u))t[0][a]=Math.min(t[0][a],0),t[1][a]=Math.max(t[1][a],f-1);else for(var v,g=0;g<(f||u.length);g++)if(jn.isArrayOrTypedArray(u[g]))for(var b=0;b<u[g].length;++b)v=l.d2l(u[g][b],0,s),!isNaN(v)&&isFinite(v)&&(t[0][a]=Math.min(t[0][a],v),t[1][a]=Math.max(t[1][a],v));else v=l.d2l(u[g],0,s),!isNaN(v)&&isFinite(v)&&(t[0][a]=Math.min(t[0][a],v),t[1][a]=Math.max(t[1][a],v))}}function wle(e,r){for(var t=e.fullSceneLayout,n=t.annotations||[],a=0;a<3;a++)for(var o=ac[a],i=o.charAt(0),l=t[o],u=0;u<n.length;u++){var s=n[u];if(s.visible){var f=l.r2l(s[i]);!isNaN(f)&&isFinite(f)&&(r[0][a]=Math.min(r[0][a],f),r[1][a]=Math.max(r[1][a],f))}}}Pn.plot=function(e,r,t){var n=this;if(n.plotArgs=[e,r,t],!n.glplot.contextLost){var a,o,i,l,u,s,f=r[n.id],v=t[n.id];n.fullLayout=r,n.fullSceneLayout=f,n.axesOptions.merge(r,f),n.spikeOptions.merge(f),n.setViewport(f),n.updateFx(f.dragmode,f.hovermode),n.camera.enableWheel=n.graphDiv._context._scrollZoom.gl3d,n.glplot.setClearColor(dle(f.bgcolor)),n.setConvert(u),e?Array.isArray(e)||(e=[e]):e=[];var g=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&_le(this,a,g);wle(this,g);var b=[1,1,1];for(l=0;l<3;++l)g[1][l]===g[0][l]?b[l]=1:b[l]=1/(g[1][l]-g[0][l]);for(n.dataScale=b,n.convertAnnotations(this),i=0;i<e.length;++i)a=e[i],!(a.visible!==!0||a._length===0)&&(o=n.traces[a.uid],o?o.data.type===a.type?o.update(a):(o.dispose(),o=a._module.plot(this,a),n.traces[a.uid]=o):(o=a._module.plot(this,a),n.traces[a.uid]=o),o.name=a.name);var x=Object.keys(n.traces);e:for(i=0;i<x.length;++i){for(l=0;l<e.length;++l)if(e[l].uid===x[i]&&e[l].visible===!0&&e[l]._length!==0)continue e;o=n.traces[x[i]],o.dispose(),delete n.traces[x[i]]}n.glplot.objects.sort(function(U,W){return U._trace.data.index-W._trace.data.index});var T=[[0,0,0],[0,0,0]],A=[],m={};for(i=0;i<3;++i){u=f[ac[i]],s=u.type,s in m?(m[s].acc*=b[i],m[s].count+=1):m[s]={acc:b[i],count:1};var w;if(u.autorange){T[0][i]=1/0,T[1][i]=-1/0;var k=n.glplot.objects,y=n.fullSceneLayout.annotations||[],M=u._name.charAt(0);for(l=0;l<k.length;l++){var d=k[l],_=d.bounds,p=d._trace.data._pad||0;d.constructor.name==="ErrorBars"&&u._lowerLogErrorBound?T[0][i]=Math.min(T[0][i],u._lowerLogErrorBound):T[0][i]=Math.min(T[0][i],_[0][i]/b[i]-p),T[1][i]=Math.max(T[1][i],_[1][i]/b[i]+p)}for(l=0;l<y.length;l++){var c=y[l];if(c.visible){var S=u.r2l(c[M]);T[0][i]=Math.min(T[0][i],S),T[1][i]=Math.max(T[1][i],S)}}if("rangemode"in u&&u.rangemode==="tozero"&&(T[0][i]=Math.min(T[0][i],0),T[1][i]=Math.max(T[1][i],0)),T[0][i]>T[1][i])T[0][i]=-1,T[1][i]=1;else{var h=T[1][i]-T[0][i];T[0][i]-=h/32,T[1][i]+=h/32}if(w=[T[0][i],T[1][i]],w=ble(w,u),T[0][i]=w[0],T[1][i]=w[1],u.isReversed()){var R=T[0][i];T[0][i]=T[1][i],T[1][i]=R}}else w=u.range,T[0][i]=u.r2l(w[0]),T[1][i]=u.r2l(w[1]);T[0][i]===T[1][i]&&(T[0][i]-=1,T[1][i]+=1),A[i]=T[1][i]-T[0][i],u.range=[T[0][i],T[1][i]],u.limitRange(),n.glplot.setBounds(i,{min:u.range[0]*b[i],max:u.range[1]*b[i]})}var E,D=f.aspectmode;if(D==="cube")E=[1,1,1];else if(D==="manual"){var N=f.aspectratio;E=[N.x,N.y,N.z]}else if(D==="auto"||D==="data"){var I=[1,1,1];for(i=0;i<3;++i){u=f[ac[i]],s=u.type;var F=m[s];I[i]=Math.pow(F.acc,1/F.count)/b[i]}D==="data"||Math.max.apply(null,I)/Math.min.apply(null,I)<=4?E=I:E=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");f.aspectratio.x=v.aspectratio.x=E[0],f.aspectratio.y=v.aspectratio.y=E[1],f.aspectratio.z=v.aspectratio.z=E[2],n.glplot.setAspectratio(f.aspectratio),n.viewInitial.aspectratio||(n.viewInitial.aspectratio={x:f.aspectratio.x,y:f.aspectratio.y,z:f.aspectratio.z}),n.viewInitial.aspectmode||(n.viewInitial.aspectmode=f.aspectmode);var L=f.domain||null,P=r._size||null;if(L&&P){var q=n.container.style;q.position="absolute",q.left=P.l+L.x[0]*P.w+"px",q.top=P.t+(1-L.y[1])*P.h+"px",q.width=P.w*(L.x[1]-L.x[0])+"px",q.height=P.h*(L.y[1]-L.y[0])+"px"}n.glplot.redraw()}};Pn.destroy=function(){var e=this;e.glplot&&(e.camera.mouseListener.enabled=!1,e.container.removeEventListener("wheel",e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),e.glplot=null)};function Tle(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function Mle(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:e._ortho===!0?"orthographic":"perspective"}}}Pn.getCamera=function(){var e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),Mle(e.camera)};Pn.setViewport=function(e){var r=this,t=e.camera;r.camera.lookAt.apply(this,Tle(t)),r.glplot.setAspectratio(e.aspectratio);var n=t.projection.type==="orthographic",a=r.camera._ortho;n!==a&&(r.glplot.redraw(),r.glplot.clearRGBA(),r.glplot.dispose(),r.initializeGLPlot())};Pn.isCameraChanged=function(e){var r=this,t=r.getCamera(),n=jn.nestedProperty(e,r.id+".camera"),a=n.get();function o(s,f,v,g){var b=["up","center","eye"],x=["x","y","z"];return f[b[v]]&&s[b[v]][x[g]]===f[b[v]][x[g]]}var i=!1;if(a===void 0)i=!0;else{for(var l=0;l<3;l++)for(var u=0;u<3;u++)if(!o(t,a,l,u)){i=!0;break}(!a.projection||t.projection&&t.projection.type!==a.projection.type)&&(i=!0)}return i};Pn.isAspectChanged=function(e){var r=this,t=r.glplot.getAspectratio(),n=jn.nestedProperty(e,r.id+".aspectratio"),a=n.get();return a===void 0||a.x!==t.x||a.y!==t.y||a.z!==t.z};Pn.saveLayout=function(e){var r=this,t=r.fullLayout,n,a,o,i,l,u,s=r.isCameraChanged(e),f=r.isAspectChanged(e),v=s||f;if(v){var g={};if(s&&(n=r.getCamera(),a=jn.nestedProperty(e,r.id+".camera"),o=a.get(),g[r.id+".camera"]=o),f&&(i=r.glplot.getAspectratio(),l=jn.nestedProperty(e,r.id+".aspectratio"),u=l.get(),g[r.id+".aspectratio"]=u),Pd.call("_storeDirectGUIEdit",e,t._preGUI,g),s){a.set(n);var b=jn.nestedProperty(t,r.id+".camera");b.set(n)}if(f){l.set(i);var x=jn.nestedProperty(t,r.id+".aspectratio");x.set(i),r.glplot.redraw()}}return v};Pn.updateFx=function(e,r){var t=this,n=t.camera;if(n)if(e==="orbit")n.mode="orbit",n.keyBindingMode="rotate";else if(e==="turntable"){n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate";var a=t.graphDiv,o=a._fullLayout,i=t.fullSceneLayout.camera,l=i.up.x,u=i.up.y,s=i.up.z;if(s/Math.sqrt(l*l+u*u+s*s)<.999){var f=t.id+".camera.up",v={x:0,y:0,z:1},g={};g[f]=v;var b=a.layout;Pd.call("_storeDirectGUIEdit",b,o._preGUI,g),i.up=v,jn.nestedProperty(b,f).set(v)}}else n.keyBindingMode=e;t.fullSceneLayout.hovermode=r};function Ale(e,r,t){for(var n=0,a=t-1;n<a;++n,--a)for(var o=0;o<r;++o)for(var i=0;i<4;++i){var l=4*(r*n+o)+i,u=4*(r*a+o)+i,s=e[l];e[l]=e[u],e[u]=s}}function kle(e,r,t){for(var n=0;n<t;++n)for(var a=0;a<r;++a){var o=4*(r*n+a),i=e[o+3];if(i>0)for(var l=255/i,u=0;u<3;++u)e[o+u]=Math.min(l*e[o+u],255)}}Pn.toImage=function(e){var r=this;e||(e="png"),r.staticMode&&r.container.appendChild(nc),r.glplot.redraw();var t=r.glplot.gl,n=t.drawingBufferWidth,a=t.drawingBufferHeight;t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new Uint8Array(n*a*4);t.readPixels(0,0,n,a,t.RGBA,t.UNSIGNED_BYTE,o),Ale(o,n,a),kle(o,n,a);var i=document.createElement("canvas");i.width=n,i.height=a;var l=i.getContext("2d",{willReadFrequently:!0}),u=l.createImageData(n,a);u.data.set(o),l.putImageData(u,0,0);var s;switch(e){case"jpeg":s=i.toDataURL("image/jpeg");break;case"webp":s=i.toDataURL("image/webp");break;default:s=i.toDataURL("image/png")}return r.staticMode&&r.container.removeChild(nc),s};Pn.setConvert=function(){for(var e=this,r=0;r<3;r++){var t=e.fullSceneLayout[ac[r]];Fd.setConvert(t,e.fullLayout),t.setScale=jn.noop}};Pn.make4thDimension=function(){var e=this,r=e.graphDiv,t=r._fullLayout;e._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},Fd.setConvert(e._mockAxis,t)};uN.exports=sN});var vN=pe((ege,cN)=>{"use strict";cN.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}});var i5=pe((rge,hN)=>{"use strict";var Sle=Kr(),zr=Ia(),a5=Mt().extendFlat,Cle=qn().overrideAll;hN.exports=Cle({visible:zr.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:Sle.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:zr.color,categoryorder:zr.categoryorder,categoryarray:zr.categoryarray,title:{text:zr.title.text,font:zr.title.font},type:a5({},zr.type,{values:["-","linear","log","date","category"]}),autotypenumbers:zr.autotypenumbers,autorange:zr.autorange,autorangeoptions:{minallowed:zr.autorangeoptions.minallowed,maxallowed:zr.autorangeoptions.maxallowed,clipmin:zr.autorangeoptions.clipmin,clipmax:zr.autorangeoptions.clipmax,include:zr.autorangeoptions.include,editType:"plot"},rangemode:zr.rangemode,minallowed:zr.minallowed,maxallowed:zr.maxallowed,range:a5({},zr.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:zr.minor.tickmode,nticks:zr.nticks,tick0:zr.tick0,dtick:zr.dtick,tickvals:zr.tickvals,ticktext:zr.ticktext,ticks:zr.ticks,mirror:zr.mirror,ticklen:zr.ticklen,tickwidth:zr.tickwidth,tickcolor:zr.tickcolor,showticklabels:zr.showticklabels,labelalias:zr.labelalias,tickfont:zr.tickfont,tickangle:zr.tickangle,tickprefix:zr.tickprefix,showtickprefix:zr.showtickprefix,ticksuffix:zr.ticksuffix,showticksuffix:zr.showticksuffix,showexponent:zr.showexponent,exponentformat:zr.exponentformat,minexponent:zr.minexponent,separatethousands:zr.separatethousands,tickformat:zr.tickformat,tickformatstops:zr.tickformatstops,hoverformat:zr.hoverformat,showline:zr.showline,linecolor:zr.linecolor,linewidth:zr.linewidth,showgrid:zr.showgrid,gridcolor:a5({},zr.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:zr.gridwidth,zeroline:zr.zeroline,zerolinecolor:zr.zerolinecolor,zerolinewidth:zr.zerolinewidth,_deprecated:{title:zr._deprecated.title,titlefont:zr._deprecated.titlefont}},"plot","from-root")});var u5=pe((tge,dN)=>{"use strict";var o5=i5(),Ele=xd().attributes,l5=Mt().extendFlat,Lle=ir().counterRegex;function s5(e,r,t){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:r,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}dN.exports={_arrayAttrRegexps:[Lle("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:l5(s5(0,0,1),{}),center:l5(s5(0,0,0),{}),eye:l5(s5(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:Ele({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:o5,yaxis:o5,zaxis:o5,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}});var gN=pe((nge,pN)=>{"use strict";var Rle=ir(),Dle=gt(),Ple=xd().defaults;pN.exports=function(r,t,n,a){var o=a.type,i=a.attributes,l=a.handleDefaults,u=a.partition||"x",s=t._subplots[o],f=s.length,v=f&&s[0].replace(/\d+$/,""),g,b;function x(w,k){return Rle.coerce(g,b,i,w,k)}for(var T=0;T<f;T++){var A=s[T];r[A]?g=r[A]:g=r[A]={},b=Dle.newContainer(t,A,v),a.noUirevision||x("uirevision",t.uirevision);var m={};m[u]=[T/f,(T+1)/f],Ple(b,t,x,m),a.id=A,l(g,b,x,a)}}});var bN=pe((age,xN)=>{"use strict";var Fle=La().mix,yN=ir(),Ile=gt(),Nle=i5(),zle=Gm(),Ole=W1(),mN=["xaxis","yaxis","zaxis"],qle=100*136/187;xN.exports=function(r,t,n){var a,o;function i(s,f){return yN.coerce(a,o,Nle,s,f)}for(var l=0;l<mN.length;l++){var u=mN[l];a=r[u]||{},o=Ile.newContainer(t,u),o._id=u[0]+n.scene,o._name=u,zle(a,o,i,n),Ole(a,o,i,{font:n.font,letter:u[0],data:n.data,showGrid:!0,noAutotickangles:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),i("gridcolor",Fle(o.color,n.bgColor,qle).toRgbString()),i("title.text",u[0]),o.setScale=yN.noop,i("showspikes")&&(i("spikesides"),i("spikethickness"),i("spikecolor",o.color)),i("showaxeslabels"),i("showbackground")&&i("backgroundcolor")}}});var MN=pe((ige,TN)=>{"use strict";var Ble=ir(),Ule=Kr(),Hle=Cr(),Vle=gN(),Gle=bN(),_N=u5(),Yle=qf().getSubplotData,wN="gl3d";TN.exports=function(r,t,n){var a=t._basePlotModules.length>1;function o(i){if(!a){var l=Ble.validate(r[i],_N[i]);if(l)return r[i]}}Vle(r,t,n,{type:wN,attributes:_N,handleDefaults:Wle,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:o,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})};function Wle(e,r,t,n){for(var a=t("bgcolor"),o=Ule.combine(a,n.paper_bgcolor),i=["up","center","eye"],l=0;l<i.length;l++)t("camera."+i[l]+".x"),t("camera."+i[l]+".y"),t("camera."+i[l]+".z");t("camera.projection.type");var u=!!t("aspectratio.x")&&!!t("aspectratio.y")&&!!t("aspectratio.z"),s=u?"manual":"auto",f=t("aspectmode",s);u||(e.aspectratio=r.aspectratio={x:1,y:1,z:1},f==="manual"&&(r.aspectmode="auto"),e.aspectmode=r.aspectmode);var v=Yle(n.fullData,wN,n.id);Gle(e,r,{font:n.font,scene:n.id,data:v,bgColor:o,calendar:n.calendar,autotypenumbersDflt:n.autotypenumbersDflt,fullLayout:n.fullLayout}),Hle.getComponentMethod("annotations3d","handleDefaults")(e,r,n);var g=n.getDfltFromLayout("dragmode");if(g!==!1&&!g)if(g="orbit",e.camera&&e.camera.up){var b=e.camera.up.x,x=e.camera.up.y,T=e.camera.up.z;T!==0&&(!b||!x||!T||T/Math.sqrt(b*b+x*x+T*T)>.999)&&(g="turntable")}else g="turntable";t("dragmode",g),t("hovermode",n.getDfltFromLayout("hovermode"))}});var dl=pe(ea=>{"use strict";var Xle=qn().overrideAll,Zle=Rl(),Jle=fN(),Kle=qf().getSubplotData,Qle=ir(),$le=Uo(),Qu="gl3d",f5="scene";ea.name=Qu;ea.attr=f5;ea.idRoot=f5;ea.idRegex=ea.attrRegex=Qle.counterRegex("scene");ea.attributes=vN();ea.layoutAttributes=u5();ea.baseLayoutAttrOverrides=Xle({hoverlabel:Zle.hoverlabel},"plot","nested");ea.supplyLayoutDefaults=MN();ea.plot=function(r){for(var t=r._fullLayout,n=r._fullData,a=t._subplots[Qu],o=0;o<a.length;o++){var i=a[o],l=Kle(n,Qu,i),u=t[i],s=u.camera,f=u._scene;f||(f=new Jle({id:i,graphDiv:r,container:r.querySelector(".gl-container"),staticPlot:r._context.staticPlot,plotGlPixelRatio:r._context.plotGlPixelRatio,camera:s},t),u._scene=f),f.viewInitial||(f.viewInitial={up:{x:s.up.x,y:s.up.y,z:s.up.z},eye:{x:s.eye.x,y:s.eye.y,z:s.eye.z},center:{x:s.center.x,y:s.center.y,z:s.center.z}}),f.plot(l,t,r.layout)}};ea.clean=function(e,r,t,n){for(var a=n._subplots[Qu]||[],o=0;o<a.length;o++){var i=a[o];!r[i]&&n[i]._scene&&(n[i]._scene.destroy(),n._infolayer&&n._infolayer.selectAll(".annotation-"+i).remove())}};ea.toSVG=function(e){for(var r=e._fullLayout,t=r._subplots[Qu],n=r._size,a=0;a<t.length;a++){var o=r[t[a]],i=o.domain,l=o._scene,u=l.toImage("png"),s=r._glimages.append("svg:image");s.attr({xmlns:$le.svg,"xlink:href":u,x:n.l+n.w*i.x[0],y:n.t+n.h*(1-i.y[1]),width:n.w*(i.x[1]-i.x[0]),height:n.h*(i.y[1]-i.y[0]),preserveAspectRatio:"none"}),l.destroy()}};ea.cleanId=function(r){if(r.match(/^scene[0-9]*$/)){var t=r.substr(5);return t==="1"&&(t=""),f5+t}};ea.updateFx=function(e){for(var r=e._fullLayout,t=r._subplots[Qu],n=0;n<t.length;n++){var a=r[t[n]]._scene;a.updateFx(r.dragmode,r.hovermode)}}});var kN=pe((lge,AN)=>{"use strict";AN.exports={plot:PI(),attributes:t5(),markerSymbols:Ed(),supplyDefaults:qI(),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:UI(),moduleType:"trace",name:"scatter3d",basePlotModule:dl(),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}});var CN=pe((sge,SN)=>{"use strict";SN.exports=kN()});var ic=pe((uge,RN)=>{"use strict";var EN=Kr(),Id=ni(),c5=ao().axisHoverFormat,jle=Ra().hovertemplateAttrs,LN=Cn(),$u=Mt().extendFlat,ese=qn().overrideAll;function v5(e){return{valType:"boolean",dflt:!1}}function h5(e){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:v5("x"),y:v5("y"),z:v5("z")},color:{valType:"color",dflt:EN.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:EN.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var Nd=RN.exports=ese($u({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:jle(),xhoverformat:c5("x"),yhoverformat:c5("y"),zhoverformat:c5("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},Id("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:h5("x"),y:h5("y"),z:h5("z")},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:$u({},Id.zauto,{}),zmin:$u({},Id.zmin,{}),zmax:$u({},Id.zmax,{})},hoverinfo:$u({},LN.hoverinfo),showlegend:$u({},LN.showlegend,{dflt:!1})}),"calc","nested");Nd.x.editType=Nd.y.editType=Nd.z.editType="calc+clearAxisTypes";Nd.transforms=void 0});var g5=pe((fge,FN)=>{"use strict";var rse=Cr(),DN=ir(),tse=Pi(),nse=ic(),d5=.1;function ase(e,r){for(var t=[],n=32,a=0;a<n;a++){var o=a/(n-1),i=r+(1-r)*(1-Math.pow(Math.sin(e*o*Math.PI),2));t.push([o,Math.max(0,Math.min(1,i))])}return t}function ise(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(n.length!==2||+n[0]<r)return!1;r=+n[0]}return!0}function ose(e,r,t,n){var a,o;function i(A,m){return DN.coerce(e,r,nse,A,m)}var l=i("x"),u=i("y"),s=i("z");if(!s||!s.length||l&&l.length<1||u&&u.length<1){r.visible=!1;return}r._xlength=Array.isArray(l)&&DN.isArrayOrTypedArray(l[0])?s.length:s[0].length,r._ylength=s.length;var f=rse.getComponentMethod("calendars","handleTraceDefaults");f(e,r,["x","y","z"],n),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(A){i(A)});var v=i("surfacecolor"),g=["x","y","z"];for(a=0;a<3;++a){var b="contours."+g[a],x=i(b+".show"),T=i(b+".highlight");if(x||T)for(o=0;o<3;++o)i(b+".project."+g[o]);x&&(i(b+".color"),i(b+".width"),i(b+".usecolormap")),T&&(i(b+".highlightcolor"),i(b+".highlightwidth")),i(b+".start"),i(b+".end"),i(b+".size")}v||(p5(e,"zmin","cmin"),p5(e,"zmax","cmax"),p5(e,"zauto","cauto")),tse(e,r,n,i,{prefix:"",cLetter:"c"}),PN(e,r,n,i),r._length=null}function PN(e,r,t,n){var a=n("opacityscale");a==="max"?r.opacityscale=[[0,d5],[1,1]]:a==="min"?r.opacityscale=[[0,1],[1,d5]]:a==="extremes"?r.opacityscale=ase(1,d5):ise(a)||(r.opacityscale=void 0)}function p5(e,r,t){r in e&&!(t in e)&&(e[t]=e[r])}FN.exports={supplyDefaults:ose,opacityscaleDefaults:PN}});var zN=pe((cge,NN)=>{"use strict";var IN=Vo();NN.exports=function(r,t){t.surfacecolor?IN(r,t,{vals:t.surfacecolor,containerStr:"",cLetter:"c"}):IN(r,t,{vals:t.z,containerStr:"",cLetter:"c"})}});var UN=pe((vge,BN)=>{"use strict";var lse=ir(),ON=.01,sse=[[-1,0],[1,0],[0,-1],[0,1]];function use(e){return .5-.25*Math.min(1,e*.5)}BN.exports=function(r,t){var n=1,a;for(qN(r,t),a=0;a<t.length&&!(t[a][2]<4);a++);for(t=t.slice(a),a=0;a<100&&n>ON;a++)n=qN(r,t,use(n));return n>ON&&lse.log("interp2d didn't converge quickly",n),r};function qN(e,r,t){var n=0,a,o,i,l,u,s,f,v,g,b,x,T,A;for(l=0;l<r.length;l++){for(a=r[l],o=a[0],i=a[1],x=e[o][i],b=0,g=0,u=0;u<4;u++)s=sse[u],f=e[o+s[0]],f&&(v=f[i+s[1]],v!==void 0&&(b===0?T=A=v:(T=Math.min(T,v),A=Math.max(A,v)),g++,b+=v));if(g===0)throw"iterateInterp2d order is wrong: no defined neighbors";e[o][i]=b/g,x===void 0?g<4&&(n=1):(e[o][i]=(1+t)*e[o][i]-t*x,A>T&&(n=Math.max(n,Math.abs(e[o][i]-x)/(A-T))))}return n}});var VN=pe((hge,HN)=>{"use strict";var fse=ir().maxRowLength;HN.exports=function(r){var t=[],n={},a=[],o=r[0],i=[],l=[0,0,0],u=fse(r),s,f,v,g,b,x,T,A;for(f=0;f<r.length;f++)for(s=i,i=o,o=r[f+1]||[],v=0;v<u;v++)i[v]===void 0&&(x=(i[v-1]!==void 0?1:0)+(i[v+1]!==void 0?1:0)+(s[v]!==void 0?1:0)+(o[v]!==void 0?1:0),x?(f===0&&x++,v===0&&x++,f===r.length-1&&x++,v===i.length-1&&x++,x<4&&(n[[f,v]]=[f,v,x]),t.push([f,v,x])):a.push([f,v]));for(;a.length;){for(T={},A=!1,b=a.length-1;b>=0;b--)g=a[b],f=g[0],v=g[1],x=((n[[f-1,v]]||l)[2]+(n[[f+1,v]]||l)[2]+(n[[f,v-1]]||l)[2]+(n[[f,v+1]]||l)[2])/20,x&&(T[g]=[f,v,x],a.splice(b,1),A=!0);if(!A)throw"findEmpties iterated with no new neighbors";for(g in T)n[g]=T[g],t.push(T[g])}return t.sort(function(m,w){return w[2]-m[2]})}});var JN=pe((dge,ZN)=>{"use strict";var cse=gn().gl_surface3d,ju=gn().ndarray,vse=gn().ndarray_linear_interpolate.d2,hse=UN(),dse=VN(),oc=ir().isArrayOrTypedArray,pse=hl().parseColorScale,GN=xo(),gse=Fi().extractOpts;function WN(e,r,t){this.scene=e,this.uid=t,this.surface=r,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var _i=WN.prototype;_i.getXat=function(e,r,t,n){var a=oc(this.data.x)?oc(this.data.x[0])?this.data.x[r][e]:this.data.x[e]:e;return t===void 0?a:n.d2l(a,0,t)};_i.getYat=function(e,r,t,n){var a=oc(this.data.y)?oc(this.data.y[0])?this.data.y[r][e]:this.data.y[r]:r;return t===void 0?a:n.d2l(a,0,t)};_i.getZat=function(e,r,t,n){var a=this.data.z[r][e];return a===null&&this.data.connectgaps&&this.data._interpolatedZ&&(a=this.data._interpolatedZ[r][e]),t===void 0?a:n.d2l(a,0,t)};_i.handlePick=function(e){if(e.object===this.surface){var r=(e.data.index[0]-1)/this.dataScaleX-1,t=(e.data.index[1]-1)/this.dataScaleY-1,n=Math.max(Math.min(Math.round(r),this.data.z[0].length-1),0),a=Math.max(Math.min(Math.round(t),this.data._ylength-1),0);e.index=[n,a],e.traceCoordinate=[this.getXat(n,a),this.getYat(n,a),this.getZat(n,a)],e.dataCoordinate=[this.getXat(n,a,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(n,a,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(n,a,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var o=0;o<3;o++){var i=e.dataCoordinate[o];i!=null&&(e.dataCoordinate[o]*=this.scene.dataScale[o])}var l=this.data.hovertext||this.data.text;return oc(l)&&l[a]&&l[a][n]!==void 0?e.textLabel=l[a][n]:l?e.textLabel=l:e.textLabel="",e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}};function yse(e){var r=e[0].rgb,t=e[e.length-1].rgb;return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]}var ef=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function mse(e,r){if(e<r)return 0;for(var t=0;Math.floor(e%r)===0;)e/=r,t++;return t}function y5(e){for(var r=[],t=0;t<ef.length;t++){var n=ef[t];r.push(mse(e,n))}return r}function xse(e){for(var r=y5(e),t=e,n=0;n<ef.length;n++)if(r[n]>0){t=ef[n];break}return t}function bse(e,r){if(!(e<1||r<1)){for(var t=y5(e),n=y5(r),a=1,o=0;o<ef.length;o++)a*=Math.pow(ef[o],Math.max(t[o],n[o]));return a}}function _se(e){if(e.length!==0){for(var r=1,t=0;t<e.length;t++)r=bse(r,e[t]);return r}}_i.calcXnums=function(e){var r,t=[];for(r=1;r<e;r++){var n=this.getXat(r-1,0),a=this.getXat(r,0);a!==n&&n!==void 0&&n!==null&&a!==void 0&&a!==null?t[r-1]=Math.abs(a-n):t[r-1]=0}var o=0;for(r=1;r<e;r++)o+=t[r-1];for(r=1;r<e;r++)t[r-1]===0?t[r-1]=1:t[r-1]=Math.round(o/t[r-1]);return t};_i.calcYnums=function(e){var r,t=[];for(r=1;r<e;r++){var n=this.getYat(0,r-1),a=this.getYat(0,r);a!==n&&n!==void 0&&n!==null&&a!==void 0&&a!==null?t[r-1]=Math.abs(a-n):t[r-1]=0}var o=0;for(r=1;r<e;r++)o+=t[r-1];for(r=1;r<e;r++)t[r-1]===0?t[r-1]=1:t[r-1]=Math.round(o/t[r-1]);return t};var XN=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],YN=XN[9],zd=XN[13];_i.estimateScale=function(e,r){for(var t=r===0?this.calcXnums(e):this.calcYnums(e),n=1+_se(t);n<YN;)n*=2;for(;n>zd;)n--,n/=xse(n),n++,n<YN&&(n=zd);var a=Math.round(n/e);return a>1?a:1};function wse(e,r,t){var n=t[8]+t[2]*r[0]+t[5]*r[1];return e[0]=(t[6]+t[0]*r[0]+t[3]*r[1])/n,e[1]=(t[7]+t[1]*r[0]+t[4]*r[1])/n,e}function Tse(e,r,t){return Mse(e,r,wse,t),e}function Mse(e,r,t,n){for(var a=[0,0],o=e.shape[0],i=e.shape[1],l=0;l<o;l++)for(var u=0;u<i;u++)t(a,[l,u],n),e.set(l,u,vse(r,a[0],a[1]));return e}_i.refineCoords=function(e){for(var r=this.dataScaleX,t=this.dataScaleY,n=e[0].shape[0],a=e[0].shape[1],o=Math.floor(e[0].shape[0]*r+1)|0,i=Math.floor(e[0].shape[1]*t+1)|0,l=1+n+1,u=1+a+1,s=ju(new Float32Array(l*u),[l,u]),f=[1/r,0,0,0,1/t,0,0,0,1],v=0;v<e.length;++v){this.surface.padField(s,e[v]);var g=ju(new Float32Array(o*i),[o,i]);Tse(g,s,f),e[v]=g}};function Ase(e,r){for(var t=!1,n=0;n<e.length;n++)if(r===e[n]){t=!0;break}t===!1&&e.push(r)}_i.setContourLevels=function(){var e=[[],[],[]],r=[!1,!1,!1],t=!1,n,a,o;for(n=0;n<3;++n)if(this.showContour[n]&&(t=!0,this.contourSize[n]>0&&this.contourStart[n]!==null&&this.contourEnd[n]!==null&&this.contourEnd[n]>this.contourStart[n]))for(r[n]=!0,a=this.contourStart[n];a<this.contourEnd[n];a+=this.contourSize[n])o=a*this.scene.dataScale[n],Ase(e[n],o);if(t){var i=[[],[],[]];for(n=0;n<3;++n)this.showContour[n]&&(i[n]=r[n]?e[n]:this.scene.contourLevels[n]);this.surface.update({levels:i})}};_i.update=function(e){var r=this.scene,t=r.fullSceneLayout,n=this.surface,a=pse(e),o=r.dataScale,i=e.z[0].length,l=e._ylength,u=r.contourLevels;this.data=e;var s,f,v,g,b=[];for(s=0;s<3;s++)for(b[s]=[],f=0;f<i;f++)b[s][f]=[];for(f=0;f<i;f++)for(v=0;v<l;v++)b[0][f][v]=this.getXat(f,v,e.xcalendar,t.xaxis),b[1][f][v]=this.getYat(f,v,e.ycalendar,t.yaxis),b[2][f][v]=this.getZat(f,v,e.zcalendar,t.zaxis);if(e.connectgaps)for(e._emptypoints=dse(b[2]),hse(b[2],e._emptypoints),e._interpolatedZ=[],f=0;f<i;f++)for(e._interpolatedZ[f]=[],v=0;v<l;v++)e._interpolatedZ[f][v]=b[2][f][v];for(s=0;s<3;s++)for(f=0;f<i;f++)for(v=0;v<l;v++)g=b[s][f][v],g==null?b[s][f][v]=NaN:g=b[s][f][v]*=o[s];for(s=0;s<3;s++)for(f=0;f<i;f++)for(v=0;v<l;v++)g=b[s][f][v],g!=null&&(this.minValues[s]>g&&(this.minValues[s]=g),this.maxValues[s]<g&&(this.maxValues[s]=g));for(s=0;s<3;s++)this.objectOffset[s]=.5*(this.minValues[s]+this.maxValues[s]);for(s=0;s<3;s++)for(f=0;f<i;f++)for(v=0;v<l;v++)g=b[s][f][v],g!=null&&(b[s][f][v]-=this.objectOffset[s]);var x=[ju(new Float32Array(i*l),[i,l]),ju(new Float32Array(i*l),[i,l]),ju(new Float32Array(i*l),[i,l])];for(s=0;s<3;s++)for(f=0;f<i;f++)for(v=0;v<l;v++)x[s].set(f,v,b[s][f][v]);b=[];var T={colormap:a,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:e.opacityscale,opacity:e.opacity},A=gse(e);if(T.intensityBounds=[A.min,A.max],e.surfacecolor){var m=ju(new Float32Array(i*l),[i,l]);for(f=0;f<i;f++)for(v=0;v<l;v++)m.set(f,v,e.surfacecolor[v][f]);x.push(m)}else T.intensityBounds[0]*=o[2],T.intensityBounds[1]*=o[2];(zd<x[0].shape[0]||zd<x[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(x[0].shape[0],0),this.dataScaleY=this.estimateScale(x[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(x)),e.surfacecolor&&(T.intensity=x.pop());var w=[!0,!0,!0],k=["x","y","z"];for(s=0;s<3;++s){var y=e.contours[k[s]];w[s]=y.highlight,T.showContour[s]=y.show||y.highlight,T.showContour[s]&&(T.contourProject[s]=[y.project.x,y.project.y,y.project.z],y.show?(this.showContour[s]=!0,T.levels[s]=u[s],n.highlightColor[s]=T.contourColor[s]=GN(y.color),y.usecolormap?n.highlightTint[s]=T.contourTint[s]=0:n.highlightTint[s]=T.contourTint[s]=1,T.contourWidth[s]=y.width,this.contourStart[s]=y.start,this.contourEnd[s]=y.end,this.contourSize[s]=y.size):(this.showContour[s]=!1,this.contourStart[s]=null,this.contourEnd[s]=null,this.contourSize[s]=0),y.highlight&&(T.dynamicColor[s]=GN(y.highlightcolor),T.dynamicWidth[s]=y.highlightwidth))}yse(a)&&(T.vertexColor=!0),T.objectOffset=this.objectOffset,T.coords=x,n.update(T),n.visible=e.visible,n.enableDynamic=w,n.enableHighlight=w,n.snapToData=!0,"lighting"in e&&(n.ambientLight=e.lighting.ambient,n.diffuseLight=e.lighting.diffuse,n.specularLight=e.lighting.specular,n.roughness=e.lighting.roughness,n.fresnel=e.lighting.fresnel),"lightposition"in e&&(n.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z])};_i.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function kse(e,r){var t=e.glplot.gl,n=cse({gl:t}),a=new WN(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}ZN.exports=kse});var QN=pe((pge,KN)=>{"use strict";KN.exports={attributes:ic(),supplyDefaults:g5().supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:zN(),plot:JN(),moduleType:"trace",name:"surface",basePlotModule:dl(),categories:["gl3d","2dMap","showLegend"],meta:{}}});var jN=pe((gge,$N)=>{"use strict";$N.exports=QN()});var rf=pe((yge,rz)=>{"use strict";var Sse=ni(),m5=ao().axisHoverFormat,Cse=Ra().hovertemplateAttrs,pl=ic(),ez=Cn(),yl=Mt().extendFlat;rz.exports=yl({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:Cse({editType:"calc"}),xhoverformat:m5("x"),yhoverformat:m5("y"),zhoverformat:m5("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},Sse("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:pl.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:yl({},pl.contours.x.show,{}),color:pl.contours.x.color,width:pl.contours.x.width,editType:"calc"},lightposition:{x:yl({},pl.lightposition.x,{dflt:1e5}),y:yl({},pl.lightposition.y,{dflt:1e5}),z:yl({},pl.lightposition.z,{dflt:0}),editType:"calc"},lighting:yl({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},pl.lighting),hoverinfo:yl({},ez.hoverinfo,{editType:"calc"}),showlegend:yl({},ez.showlegend,{dflt:!1})})});var qd=pe((mge,nz)=>{"use strict";var Ese=ni(),Od=ao().axisHoverFormat,Lse=Ra().hovertemplateAttrs,lc=rf(),tz=Cn(),x5=Mt().extendFlat,Rse=qn().overrideAll;function b5(e){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function _5(e){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var Ts=nz.exports=Rse(x5({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:b5("x"),y:b5("y"),z:b5("z")},caps:{x:_5("x"),y:_5("y"),z:_5("z")},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:Lse(),xhoverformat:Od("x"),yhoverformat:Od("y"),zhoverformat:Od("z"),valuehoverformat:Od("value",1),showlegend:x5({},tz.showlegend,{dflt:!1})},Ese("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:lc.opacity,lightposition:lc.lightposition,lighting:lc.lighting,flatshading:lc.flatshading,contour:lc.contour,hoverinfo:x5({},tz.hoverinfo)}),"calc","nested");Ts.flatshading.dflt=!0;Ts.lighting.facenormalsepsilon.dflt=0;Ts.x.editType=Ts.y.editType=Ts.z.editType=Ts.value.editType="calc+clearAxisTypes";Ts.transforms=void 0});var w5=pe((xge,iz)=>{"use strict";var Dse=ir(),Pse=Cr(),Fse=qd(),Ise=Pi();function Nse(e,r,t,n){function a(o,i){return Dse.coerce(e,r,Fse,o,i)}az(e,r,t,n,a)}function az(e,r,t,n,a){var o=a("isomin"),i=a("isomax");i!=null&&o!==void 0&&o!==null&&o>i&&(r.isomin=null,r.isomax=null);var l=a("x"),u=a("y"),s=a("z"),f=a("value");if(!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length){r.visible=!1;return}var v=Pse.getComponentMethod("calendars","handleTraceDefaults");v(e,r,["x","y","z"],n),a("valuehoverformat"),["x","y","z"].forEach(function(T){a(T+"hoverformat");var A="caps."+T,m=a(A+".show");m&&a(A+".fill");var w="slices."+T,k=a(w+".show");k&&(a(w+".fill"),a(w+".locations"))});var g=a("spaceframe.show");g&&a("spaceframe.fill");var b=a("surface.show");b&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var x=a("contour.show");x&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){a(T)}),Ise(e,r,n,a,{prefix:"",cLetter:"c"}),r._length=null}iz.exports={supplyDefaults:Nse,supplyIsoDefaults:az}});var Bd=pe((bge,lz)=>{"use strict";var M5=ir(),zse=Vo();function Ose(e,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=Yi(r.u,r._len),r._v=Yi(r.v,r._len),r._w=Yi(r.w,r._len),r._x=Yi(r.x,r._len),r._y=Yi(r.y,r._len),r._z=Yi(r.z,r._len);var t=oz(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var n=0,a,o,i;r.starts&&(a=Yi(r.starts.x||[]),o=Yi(r.starts.y||[]),i=Yi(r.starts.z||[]),n=Math.min(a.length,o.length,i.length)),r._startsX=a||[],r._startsY=o||[],r._startsZ=i||[];var l=0,u=1/0,s;for(s=0;s<r._len;s++){var f=r._u[s],v=r._v[s],g=r._w[s],b=Math.sqrt(f*f+v*v+g*g);l=Math.max(l,b),u=Math.min(u,b)}for(zse(e,r,{vals:[u,l],containerStr:"",cLetter:"c"}),s=0;s<n;s++){var x=a[s];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var T=o[s];t.yMax=Math.max(t.yMax,T),t.yMin=Math.min(t.yMin,T);var A=i[s];t.zMax=Math.max(t.zMax,A),t.zMin=Math.min(t.zMin,A)}r._slen=n,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function oz(e){var r=e._x,t=e._y,n=e._z,a=e._len,o,i,l,u=-1/0,s=1/0,f=-1/0,v=1/0,g=-1/0,b=1/0,x="",T,A,m,w,k,y,M,d,_;for(a&&(w=r[0],y=t[0],d=n[0]),a>1&&(k=r[a-1],M=t[a-1],_=n[a-1]),o=0;o<a;o++)u=Math.max(u,r[o]),s=Math.min(s,r[o]),f=Math.max(f,t[o]),v=Math.min(v,t[o]),g=Math.max(g,n[o]),b=Math.min(b,n[o]),!T&&r[o]!==w&&(T=!0,x+="x"),!A&&t[o]!==y&&(A=!0,x+="y"),!m&&n[o]!==d&&(m=!0,x+="z");T||(x+="x"),A||(x+="y"),m||(x+="z");var p=T5(e._x),c=T5(e._y),S=T5(e._z);x=x.replace("x",(w>k?"-":"+")+"x"),x=x.replace("y",(y>M?"-":"+")+"y"),x=x.replace("z",(d>_?"-":"+")+"z");var h=function(){a=0,p=[],c=[],S=[]};(!a||a<p.length*c.length*S.length)&&h();var R=function(ie){return ie==="x"?r:ie==="y"?t:n},E=function(ie){return ie==="x"?p:ie==="y"?c:S},D=function(ie){return ie[a-1]<ie[0]?-1:1},N=R(x[1]),I=R(x[3]),F=R(x[5]),L=E(x[1]).length,P=E(x[3]).length,q=E(x[5]).length,U=!1,W=function(ie,ee,V){return L*(P*ie+ee)+V},j=D(R(x[1])),$=D(R(x[3])),G=D(R(x[5]));for(o=0;o<q-1;o++){for(i=0;i<P-1;i++){for(l=0;l<L-1;l++){var O=W(o,i,l),Z=W(o,i,l+1),ne=W(o,i+1,l),Q=W(o+1,i,l);if((!(N[O]*j<N[Z]*j)||!(I[O]*$<I[ne]*$)||!(F[O]*G<F[Q]*G))&&(U=!0),U)break}if(U)break}if(U)break}return U&&(M5.warn("Encountered arbitrary coordinates! Unable to input data grid."),h()),{xMin:s,yMin:v,zMin:b,xMax:u,yMax:f,zMax:g,Xs:p,Ys:c,Zs:S,len:a,fill:x}}function T5(e){return M5.distinctVals(e).vals}function Yi(e,r){if(r===void 0&&(r=e.length),M5.isTypedArray(e))return e.subarray(0,r);for(var t=[],n=0;n<r;n++)t[n]=+e[n];return t}lz.exports={calc:Ose,filter:Yi,processGrid:oz}});var A5=pe((_ge,sz)=>{"use strict";var qse=Vo(),Bse=Bd().processGrid,Ud=Bd().filter;sz.exports=function(r,t){t._len=Math.min(t.x.length,t.y.length,t.z.length,t.value.length),t._x=Ud(t.x,t._len),t._y=Ud(t.y,t._len),t._z=Ud(t.z,t._len),t._value=Ud(t.value,t._len);var n=Bse(t);t._gridFill=n.fill,t._Xs=n.Xs,t._Ys=n.Ys,t._Zs=n.Zs,t._len=n.len;for(var a=1/0,o=-1/0,i=0;i<t._len;i++){var l=t._value[i];a=Math.min(a,l),o=Math.max(o,l)}t._minValues=a,t._maxValues=o,t._vMin=t.isomin===void 0||t.isomin===null?a:t.isomin,t._vMax=t.isomax===void 0||t.isomax===null?o:t.isomax,qse(r,t,{vals:[t._vMin,t._vMax],containerStr:"",cLetter:"c"})}});var tf=pe((wge,uz)=>{"use strict";uz.exports=function(r,t,n,a){a=a||r.length;for(var o=new Array(a),i=0;i<a;i++)o[i]=[r[i],t[i],n[i]];return o}});var Hd=pe((Tge,hz)=>{"use strict";var Use=gn().gl_mesh3d,Hse=hl().parseColorScale,Vse=ir().isArrayOrTypedArray,Gse=xo(),Yse=Fi().extractOpts,fz=tf(),sc=function(e,r){for(var t=r.length-1;t>0;t--){var n=Math.min(r[t],r[t-1]),a=Math.max(r[t],r[t-1]);if(a>n&&n<e&&e<=a)return{id:t,distRatio:(a-e)/(a-n)}}return{id:0,distRatio:0}};function cz(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var k5=cz.prototype;k5.handlePick=function(e){if(e.object===this.mesh){var r=e.data.index,t=this.data._meshX[r],n=this.data._meshY[r],a=this.data._meshZ[r],o=this.data._Ys.length,i=this.data._Zs.length,l=sc(t,this.data._Xs).id,u=sc(n,this.data._Ys).id,s=sc(a,this.data._Zs).id,f=e.index=s+i*u+i*o*l;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var v=this.data.hovertext||this.data.text;return Vse(v)&&v[f]!==void 0?e.textLabel=v[f]:v&&(e.textLabel=v),!0}};k5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=vz(e);function n(u,s,f,v){return s.map(function(g){return u.d2l(g,0,v)*f})}var a=fz(n(t.xaxis,e._meshX,r.dataScale[0],e.xcalendar),n(t.yaxis,e._meshY,r.dataScale[1],e.ycalendar),n(t.zaxis,e._meshZ,r.dataScale[2],e.zcalendar)),o=fz(e._meshI,e._meshJ,e._meshK),i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:Gse(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=Yse(e);i.vertexIntensity=e._meshIntensity,i.vertexIntensityBounds=[l.min,l.max],i.colormap=Hse(e),this.mesh.update(i)};k5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var Wse=["xyz","xzy","yxz","yzx","zxy","zyx"];function vz(e){e._meshI=[],e._meshJ=[],e._meshK=[];var r=e.surface.show,t=e.spaceframe.show,n=e.surface.fill,a=e.spaceframe.fill,o=!1,i=!1,l=0,u,s,f=e._Xs,v=e._Ys,g=e._Zs,b=f.length,x=v.length,T=g.length,A=Wse.indexOf(e._gridFill.replace(/-/g,"").replace(/\+/g,"")),m=function(ce,ye,Le){switch(A){case 5:return Le+T*ye+T*x*ce;case 4:return Le+T*ce+T*b*ye;case 3:return ye+x*Le+x*T*ce;case 2:return ye+x*ce+x*b*Le;case 1:return ce+b*Le+b*T*ye;default:return ce+b*ye+b*x*Le}},w=e._minValues,k=e._maxValues,y=e._vMin,M=e._vMax,d,_,p,c;function S(ce,ye,Le){for(var me=c.length,de=s;de<me;de++)if(ce===d[de]&&ye===_[de]&&Le===p[de])return de;return-1}function h(){s=u}function R(){d=[],_=[],p=[],c=[],u=0,h()}function E(ce,ye,Le,me){return d.push(ce),_.push(ye),p.push(Le),c.push(me),u++,u-1}function D(ce,ye,Le){return e._meshI.push(ce),e._meshJ.push(ye),e._meshK.push(Le),l++,l-1}function N(ce,ye,Le){for(var me=[],de=0;de<ce.length;de++)me[de]=(ce[de]+ye[de]+Le[de])/3;return me}function I(ce,ye,Le){for(var me=[],de=0;de<ce.length;de++)me[de]=ce[de]*(1-Le)+Le*ye[de];return me}var F;function L(ce){F=ce}function P(ce,ye){var Le=ce[0],me=ce[1],de=ce[2],be=N(Le,me,de),Ee=Math.sqrt(1-F),ze=I(be,Le,Ee),Fe=I(be,me,Ee),Je=I(be,de,Ee),Ye=ye[0],Ge=ye[1],We=ye[2];return{xyzv:[[Le,me,Fe],[Fe,ze,Le],[me,de,Je],[Je,Fe,me],[de,Le,ze],[ze,Je,de]],abc:[[Ye,Ge,-1],[-1,-1,Ye],[Ge,We,-1],[-1,-1,Ge],[We,Ye,-1],[-1,-1,We]]}}function q(ce,ye){return ce==="all"||ce===null?!0:ce.indexOf(ye)>-1}function U(ce,ye){return ce===null?ye:ce}function W(ce,ye,Le){h();var me=[ye],de=[Le];if(F>=1)me=[ye],de=[Le];else if(F>0){var be=P(ye,Le);me=be.xyzv,de=be.abc}for(var Ee=0;Ee<me.length;Ee++){ye=me[Ee],Le=de[Ee];for(var ze=[],Fe=0;Fe<3;Fe++){var Je=ye[Fe][0],Ye=ye[Fe][1],Ge=ye[Fe][2],We=ye[Fe][3],Te=Le[Fe]>-1?Le[Fe]:S(Je,Ye,Ge);Te>-1?ze[Fe]=Te:ze[Fe]=E(Je,Ye,Ge,U(ce,We))}D(ze[0],ze[1],ze[2])}}function j(ce,ye,Le){var me=function(de,be,Ee){W(ce,[ye[de],ye[be],ye[Ee]],[Le[de],Le[be],Le[Ee]])};me(0,1,2),me(2,3,0)}function $(ce,ye,Le){var me=function(de,be,Ee){W(ce,[ye[de],ye[be],ye[Ee]],[Le[de],Le[be],Le[Ee]])};me(0,1,2),me(3,0,1),me(2,3,0),me(1,2,3)}function G(ce,ye,Le,me){var de=ce[3];de<Le&&(de=Le),de>me&&(de=me);for(var be=(ce[3]-de)/(ce[3]-ye[3]+1e-9),Ee=[],ze=0;ze<4;ze++)Ee[ze]=(1-be)*ce[ze]+be*ye[ze];return Ee}function O(ce,ye,Le){return ce>=ye&&ce<=Le}function Z(ce){var ye=.001*(M-y);return ce>=y-ye&&ce<=M+ye}function ne(ce){for(var ye=[],Le=0;Le<4;Le++){var me=ce[Le];ye.push([e._x[me],e._y[me],e._z[me],e._value[me]])}return ye}var Q=3;function ie(ce,ye,Le,me,de,be){be||(be=1),Le=[-1,-1,-1];var Ee=!1,ze=[O(ye[0][3],me,de),O(ye[1][3],me,de),O(ye[2][3],me,de)];if(!ze[0]&&!ze[1]&&!ze[2])return!1;var Fe=function(Ye,Ge,We){return Z(Ge[0][3])&&Z(Ge[1][3])&&Z(Ge[2][3])?(W(Ye,Ge,We),!0):be<Q?ie(Ye,Ge,We,y,M,++be):!1};if(ze[0]&&ze[1]&&ze[2])return Fe(ce,ye,Le)||Ee;var Je=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Ye){if(ze[Ye[0]]&&ze[Ye[1]]&&!ze[Ye[2]]){var Ge=ye[Ye[0]],We=ye[Ye[1]],Te=ye[Ye[2]],Pe=G(Te,Ge,me,de),Qe=G(Te,We,me,de);Ee=Fe(ce,[Qe,Pe,Ge],[-1,-1,Le[Ye[0]]])||Ee,Ee=Fe(ce,[Ge,We,Qe],[Le[Ye[0]],Le[Ye[1]],-1])||Ee,Je=!0}}),Je||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Ye){if(ze[Ye[0]]&&!ze[Ye[1]]&&!ze[Ye[2]]){var Ge=ye[Ye[0]],We=ye[Ye[1]],Te=ye[Ye[2]],Pe=G(We,Ge,me,de),Qe=G(Te,Ge,me,de);Ee=Fe(ce,[Qe,Pe,Ge],[-1,-1,Le[Ye[0]]])||Ee,Je=!0}}),Ee}function ee(ce,ye,Le,me){var de=!1,be=ne(ye),Ee=[O(be[0][3],Le,me),O(be[1][3],Le,me),O(be[2][3],Le,me),O(be[3][3],Le,me)];if(!Ee[0]&&!Ee[1]&&!Ee[2]&&!Ee[3])return de;if(Ee[0]&&Ee[1]&&Ee[2]&&Ee[3])return i&&(de=$(ce,be,ye)||de),de;var ze=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Fe){if(Ee[Fe[0]]&&Ee[Fe[1]]&&Ee[Fe[2]]&&!Ee[Fe[3]]){var Je=be[Fe[0]],Ye=be[Fe[1]],Ge=be[Fe[2]],We=be[Fe[3]];if(i)de=W(ce,[Je,Ye,Ge],[ye[Fe[0]],ye[Fe[1]],ye[Fe[2]]])||de;else{var Te=G(We,Je,Le,me),Pe=G(We,Ye,Le,me),Qe=G(We,Ge,Le,me);de=W(null,[Te,Pe,Qe],[-1,-1,-1])||de}ze=!0}}),ze||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Fe){if(Ee[Fe[0]]&&Ee[Fe[1]]&&!Ee[Fe[2]]&&!Ee[Fe[3]]){var Je=be[Fe[0]],Ye=be[Fe[1]],Ge=be[Fe[2]],We=be[Fe[3]],Te=G(Ge,Je,Le,me),Pe=G(Ge,Ye,Le,me),Qe=G(We,Ye,Le,me),Ve=G(We,Je,Le,me);i?(de=W(ce,[Je,Ve,Te],[ye[Fe[0]],-1,-1])||de,de=W(ce,[Ye,Pe,Qe],[ye[Fe[1]],-1,-1])||de):de=j(null,[Te,Pe,Qe,Ve],[-1,-1,-1,-1])||de,ze=!0}}),ze)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Fe){if(Ee[Fe[0]]&&!Ee[Fe[1]]&&!Ee[Fe[2]]&&!Ee[Fe[3]]){var Je=be[Fe[0]],Ye=be[Fe[1]],Ge=be[Fe[2]],We=be[Fe[3]],Te=G(Ye,Je,Le,me),Pe=G(Ge,Je,Le,me),Qe=G(We,Je,Le,me);i?(de=W(ce,[Je,Te,Pe],[ye[Fe[0]],-1,-1])||de,de=W(ce,[Je,Pe,Qe],[ye[Fe[0]],-1,-1])||de,de=W(ce,[Je,Qe,Te],[ye[Fe[0]],-1,-1])||de):de=W(null,[Te,Pe,Qe],[-1,-1,-1])||de,ze=!0}}),de}function V(ce,ye,Le,me,de,be,Ee,ze,Fe,Je,Ye){var Ge=!1;return o&&(q(ce,"A")&&(Ge=ee(null,[ye,Le,me,be],Je,Ye)||Ge),q(ce,"B")&&(Ge=ee(null,[Le,me,de,Fe],Je,Ye)||Ge),q(ce,"C")&&(Ge=ee(null,[Le,be,Ee,Fe],Je,Ye)||Ge),q(ce,"D")&&(Ge=ee(null,[me,be,ze,Fe],Je,Ye)||Ge),q(ce,"E")&&(Ge=ee(null,[Le,me,be,Fe],Je,Ye)||Ge)),i&&(Ge=ee(ce,[Le,me,be,Fe],Je,Ye)||Ge),Ge}function re(ce,ye,Le,me,de,be,Ee,ze){return[ze[0]===!0?!0:ie(ce,ne([ye,Le,me]),[ye,Le,me],be,Ee),ze[1]===!0?!0:ie(ce,ne([me,de,ye]),[me,de,ye],be,Ee)]}function H(ce,ye,Le,me,de,be,Ee,ze,Fe){return ze?re(ce,ye,Le,de,me,be,Ee,Fe):re(ce,Le,de,me,ye,be,Ee,Fe)}function te(ce,ye,Le,me,de,be,Ee){var ze=!1,Fe,Je,Ye,Ge,We=function(){ze=ie(ce,[Fe,Je,Ye],[-1,-1,-1],de,be)||ze,ze=ie(ce,[Ye,Ge,Fe],[-1,-1,-1],de,be)||ze},Te=Ee[0],Pe=Ee[1],Qe=Ee[2];return Te&&(Fe=I(ne([m(ye,Le-0,me-0)])[0],ne([m(ye-1,Le-0,me-0)])[0],Te),Je=I(ne([m(ye,Le-0,me-1)])[0],ne([m(ye-1,Le-0,me-1)])[0],Te),Ye=I(ne([m(ye,Le-1,me-1)])[0],ne([m(ye-1,Le-1,me-1)])[0],Te),Ge=I(ne([m(ye,Le-1,me-0)])[0],ne([m(ye-1,Le-1,me-0)])[0],Te),We()),Pe&&(Fe=I(ne([m(ye-0,Le,me-0)])[0],ne([m(ye-0,Le-1,me-0)])[0],Pe),Je=I(ne([m(ye-0,Le,me-1)])[0],ne([m(ye-0,Le-1,me-1)])[0],Pe),Ye=I(ne([m(ye-1,Le,me-1)])[0],ne([m(ye-1,Le-1,me-1)])[0],Pe),Ge=I(ne([m(ye-1,Le,me-0)])[0],ne([m(ye-1,Le-1,me-0)])[0],Pe),We()),Qe&&(Fe=I(ne([m(ye-0,Le-0,me)])[0],ne([m(ye-0,Le-0,me-1)])[0],Qe),Je=I(ne([m(ye-0,Le-1,me)])[0],ne([m(ye-0,Le-1,me-1)])[0],Qe),Ye=I(ne([m(ye-1,Le-1,me)])[0],ne([m(ye-1,Le-1,me-1)])[0],Qe),Ge=I(ne([m(ye-1,Le-0,me)])[0],ne([m(ye-1,Le-0,me-1)])[0],Qe),We()),ze}function se(ce,ye,Le,me,de,be,Ee,ze,Fe,Je,Ye,Ge){var We=ce;return Ge?(o&&ce==="even"&&(We=null),V(We,ye,Le,me,de,be,Ee,ze,Fe,Je,Ye)):(o&&ce==="odd"&&(We=null),V(We,Fe,ze,Ee,be,de,me,Le,ye,Je,Ye))}function he(ce,ye,Le,me,de){for(var be=[],Ee=0,ze=0;ze<ye.length;ze++)for(var Fe=ye[ze],Je=1;Je<T;Je++)for(var Ye=1;Ye<x;Ye++)be.push(H(ce,m(Fe,Ye-1,Je-1),m(Fe,Ye-1,Je),m(Fe,Ye,Je-1),m(Fe,Ye,Je),Le,me,(Fe+Ye+Je)%2,de&&de[Ee]?de[Ee]:[])),Ee++;return be}function ke(ce,ye,Le,me,de){for(var be=[],Ee=0,ze=0;ze<ye.length;ze++)for(var Fe=ye[ze],Je=1;Je<b;Je++)for(var Ye=1;Ye<T;Ye++)be.push(H(ce,m(Je-1,Fe,Ye-1),m(Je,Fe,Ye-1),m(Je-1,Fe,Ye),m(Je,Fe,Ye),Le,me,(Je+Fe+Ye)%2,de&&de[Ee]?de[Ee]:[])),Ee++;return be}function we(ce,ye,Le,me,de){for(var be=[],Ee=0,ze=0;ze<ye.length;ze++)for(var Fe=ye[ze],Je=1;Je<x;Je++)for(var Ye=1;Ye<b;Ye++)be.push(H(ce,m(Ye-1,Je-1,Fe),m(Ye-1,Je,Fe),m(Ye,Je-1,Fe),m(Ye,Je,Fe),Le,me,(Ye+Je+Fe)%2,de&&de[Ee]?de[Ee]:[])),Ee++;return be}function ve(ce,ye,Le){for(var me=1;me<T;me++)for(var de=1;de<x;de++)for(var be=1;be<b;be++)se(ce,m(be-1,de-1,me-1),m(be-1,de-1,me),m(be-1,de,me-1),m(be-1,de,me),m(be,de-1,me-1),m(be,de-1,me),m(be,de,me-1),m(be,de,me),ye,Le,(be+de+me)%2)}function Me(ce,ye,Le){i=!0,ve(ce,ye,Le),i=!1}function Se(ce,ye,Le){o=!0,ve(ce,ye,Le),o=!1}function De(ce,ye,Le,me,de,be){for(var Ee=[],ze=0,Fe=0;Fe<ye.length;Fe++)for(var Je=ye[Fe],Ye=1;Ye<T;Ye++)for(var Ge=1;Ge<x;Ge++)Ee.push(te(ce,Je,Ge,Ye,Le,me,de[Fe],be&&be[ze]?be[ze]:[])),ze++;return Ee}function Ce(ce,ye,Le,me,de,be){for(var Ee=[],ze=0,Fe=0;Fe<ye.length;Fe++)for(var Je=ye[Fe],Ye=1;Ye<b;Ye++)for(var Ge=1;Ge<T;Ge++)Ee.push(te(ce,Ye,Je,Ge,Le,me,de[Fe],be&&be[ze]?be[ze]:[])),ze++;return Ee}function Oe(ce,ye,Le,me,de,be){for(var Ee=[],ze=0,Fe=0;Fe<ye.length;Fe++)for(var Je=ye[Fe],Ye=1;Ye<x;Ye++)for(var Ge=1;Ge<b;Ge++)Ee.push(te(ce,Ge,Ye,Je,Le,me,de[Fe],be&&be[ze]?be[ze]:[])),ze++;return Ee}function Be(ce,ye){for(var Le=[],me=ce;me<ye;me++)Le.push(me);return Le}function ge(){for(var ce=0;ce<b;ce++)for(var ye=0;ye<x;ye++)for(var Le=0;Le<T;Le++){var me=m(ce,ye,Le);E(e._x[me],e._y[me],e._z[me],e._value[me])}}function Ae(){R(),ge();var ce=null;if(t&&a&&(L(a),Me(ce,y,M)),r&&n){L(n);for(var ye=e.surface.pattern,Le=e.surface.count,me=0;me<Le;me++){var de=Le===1?.5:me/(Le-1),be=(1-de)*y+de*M,Ee=Math.abs(be-w),ze=Math.abs(be-k),Fe=Ee>ze?[w,be]:[be,k];Se(ye,Fe[0],Fe[1])}}var Je=[[Math.min(y,k),Math.max(y,k)],[Math.min(w,M),Math.max(w,M)]];["x","y","z"].forEach(function(Ye){for(var Ge=[],We=0;We<Je.length;We++){var Te=0,Pe=Je[We][0],Qe=Je[We][1],Ve=e.slices[Ye];if(Ve.show&&Ve.fill){L(Ve.fill);var ar=[],ue=[],K=[];if(Ve.locations.length)for(var ae=0;ae<Ve.locations.length;ae++){var Re=sc(Ve.locations[ae],Ye==="x"?f:Ye==="y"?v:g);Re.distRatio===0?ar.push(Re.id):Re.id>0&&(ue.push(Re.id),Ye==="x"?K.push([Re.distRatio,0,0]):Ye==="y"?K.push([0,Re.distRatio,0]):K.push([0,0,Re.distRatio]))}else Ye==="x"?ar=Be(1,b-1):Ye==="y"?ar=Be(1,x-1):ar=Be(1,T-1);ue.length>0&&(Ye==="x"?Ge[Te]=De(ce,ue,Pe,Qe,K,Ge[Te]):Ye==="y"?Ge[Te]=Ce(ce,ue,Pe,Qe,K,Ge[Te]):Ge[Te]=Oe(ce,ue,Pe,Qe,K,Ge[Te]),Te++),ar.length>0&&(Ye==="x"?Ge[Te]=he(ce,ar,Pe,Qe,Ge[Te]):Ye==="y"?Ge[Te]=ke(ce,ar,Pe,Qe,Ge[Te]):Ge[Te]=we(ce,ar,Pe,Qe,Ge[Te]),Te++)}var Ue=e.caps[Ye];Ue.show&&Ue.fill&&(L(Ue.fill),Ye==="x"?Ge[Te]=he(ce,[0,b-1],Pe,Qe,Ge[Te]):Ye==="y"?Ge[Te]=ke(ce,[0,x-1],Pe,Qe,Ge[Te]):Ge[Te]=we(ce,[0,T-1],Pe,Qe,Ge[Te]),Te++)}}),l===0&&R(),e._meshX=d,e._meshY=_,e._meshZ=p,e._meshIntensity=c,e._Xs=f,e._Ys=v,e._Zs=g}return Ae(),e}function Xse(e,r){var t=e.glplot.gl,n=Use({gl:t}),a=new cz(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}hz.exports={findNearestOnAxis:sc,generateIsoMeshes:vz,createIsosurfaceTrace:Xse}});var pz=pe((Mge,dz)=>{"use strict";dz.exports={attributes:qd(),supplyDefaults:w5().supplyDefaults,calc:A5(),colorbar:{min:"cmin",max:"cmax"},plot:Hd().createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:dl(),categories:["gl3d","showLegend"],meta:{}}});var yz=pe((Age,gz)=>{"use strict";gz.exports=pz()});var C5=pe((kge,xz)=>{"use strict";var Zse=ni(),en=qd(),Jse=ic(),mz=Cn(),S5=Mt().extendFlat,Kse=qn().overrideAll,uc=xz.exports=Kse(S5({x:en.x,y:en.y,z:en.z,value:en.value,isomin:en.isomin,isomax:en.isomax,surface:en.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:en.slices,caps:en.caps,text:en.text,hovertext:en.hovertext,xhoverformat:en.xhoverformat,yhoverformat:en.yhoverformat,zhoverformat:en.zhoverformat,valuehoverformat:en.valuehoverformat,hovertemplate:en.hovertemplate},Zse("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:en.colorbar,opacity:en.opacity,opacityscale:Jse.opacityscale,lightposition:en.lightposition,lighting:en.lighting,flatshading:en.flatshading,contour:en.contour,hoverinfo:S5({},mz.hoverinfo),showlegend:S5({},mz.showlegend,{dflt:!1})}),"calc","nested");uc.x.editType=uc.y.editType=uc.z.editType=uc.value.editType="calc+clearAxisTypes";uc.transforms=void 0});var _z=pe((Sge,bz)=>{"use strict";var Qse=ir(),$se=C5(),jse=w5().supplyIsoDefaults,eue=g5().opacityscaleDefaults;bz.exports=function(r,t,n,a){function o(i,l){return Qse.coerce(r,t,$se,i,l)}jse(r,t,n,a,o),eue(r,t,a,o)}});var Az=pe((Cge,Mz)=>{"use strict";var rue=gn().gl_mesh3d,tue=hl().parseColorScale,nue=ir().isArrayOrTypedArray,aue=xo(),iue=Fi().extractOpts,wz=tf(),E5=Hd().findNearestOnAxis,oue=Hd().generateIsoMeshes;function Tz(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.data=null,this.showContour=!1}var L5=Tz.prototype;L5.handlePick=function(e){if(e.object===this.mesh){var r=e.data.index,t=this.data._meshX[r],n=this.data._meshY[r],a=this.data._meshZ[r],o=this.data._Ys.length,i=this.data._Zs.length,l=E5(t,this.data._Xs).id,u=E5(n,this.data._Ys).id,s=E5(a,this.data._Zs).id,f=e.index=s+i*u+i*o*l;e.traceCoordinate=[this.data._meshX[f],this.data._meshY[f],this.data._meshZ[f],this.data._value[f]];var v=this.data.hovertext||this.data.text;return nue(v)&&v[f]!==void 0?e.textLabel=v[f]:v&&(e.textLabel=v),!0}};L5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=oue(e);function n(u,s,f,v){return s.map(function(g){return u.d2l(g,0,v)*f})}var a=wz(n(t.xaxis,e._meshX,r.dataScale[0],e.xcalendar),n(t.yaxis,e._meshY,r.dataScale[1],e.ycalendar),n(t.zaxis,e._meshZ,r.dataScale[2],e.zcalendar)),o=wz(e._meshI,e._meshJ,e._meshK),i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:aue(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=iue(e);i.vertexIntensity=e._meshIntensity,i.vertexIntensityBounds=[l.min,l.max],i.colormap=tue(e),this.mesh.update(i)};L5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function lue(e,r){var t=e.glplot.gl,n=rue({gl:t}),a=new Tz(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}Mz.exports=lue});var Sz=pe((Ege,kz)=>{"use strict";kz.exports={attributes:C5(),supplyDefaults:_z(),calc:A5(),colorbar:{min:"cmin",max:"cmax"},plot:Az(),moduleType:"trace",name:"volume",basePlotModule:dl(),categories:["gl3d","showLegend"],meta:{}}});var Ez=pe((Lge,Cz)=>{"use strict";Cz.exports=Sz()});var Dz=pe((Rge,Rz)=>{"use strict";var sue=Cr(),Lz=ir(),uue=Pi(),fue=rf();Rz.exports=function(r,t,n,a){function o(f,v){return Lz.coerce(r,t,fue,f,v)}function i(f){var v=f.map(function(g){var b=o(g);return b&&Lz.isArrayOrTypedArray(b)?b:null});return v.every(function(g){return g&&g.length===v[0].length})&&v}var l=i(["x","y","z"]);if(!l){t.visible=!1;return}if(i(["i","j","k"]),t.i&&(!t.j||!t.k)||t.j&&(!t.k||!t.i)||t.k&&(!t.i||!t.j)){t.visible=!1;return}var u=sue.getComponentMethod("calendars","handleTraceDefaults");u(r,t,["x","y","z"],a),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(f){o(f)});var s=o("contour.show");s&&(o("contour.color"),o("contour.width")),"intensity"in r?(o("intensity"),o("intensitymode"),uue(r,t,a,o,{prefix:"",cLetter:"c"})):(t.showscale=!1,"facecolor"in r?o("facecolor"):"vertexcolor"in r?o("vertexcolor"):o("color",n)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var Fz=pe((Dge,Pz)=>{"use strict";var cue=Vo();Pz.exports=function(r,t){t.intensity&&cue(r,t,{vals:t.intensity,containerStr:"",cLetter:"c"})}});var qz=pe((Pge,Oz)=>{"use strict";var vue=gn().gl_mesh3d,hue=gn().delaunay_triangulate,due=gn().alpha_shape,pue=gn().convex_hull,gue=hl().parseColorScale,yue=ir().isArrayOrTypedArray,F5=xo(),mue=Fi().extractOpts,Iz=tf();function zz(e,r,t){this.scene=e,this.uid=t,this.mesh=r,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var I5=zz.prototype;I5.handlePick=function(e){if(e.object===this.mesh){var r=e.index=e.data.index;e.data._cellCenter?e.traceCoordinate=e.data.dataCoordinate:e.traceCoordinate=[this.data.x[r],this.data.y[r],this.data.z[r]];var t=this.data.hovertext||this.data.text;return yue(t)&&t[r]!==void 0?e.textLabel=t[r]:t&&(e.textLabel=t),!0}};function Nz(e){for(var r=[],t=e.length,n=0;n<t;n++)r[n]=F5(e[n]);return r}function R5(e,r,t,n){for(var a=[],o=r.length,i=0;i<o;i++)a[i]=e.d2l(r[i],0,n)*t;return a}function D5(e){for(var r=[],t=e.length,n=0;n<t;n++)r[n]=Math.round(e[n]);return r}function xue(e,r){for(var t=["x","y","z"].indexOf(e),n=[],a=r.length,o=0;o<a;o++)n[o]=[r[o][(t+1)%3],r[o][(t+2)%3]];return hue(n)}function P5(e,r){for(var t=e.length,n=0;n<t;n++)if(e[n]<=-.5||e[n]>=r-.5)return!1;return!0}I5.update=function(e){var r=this.scene,t=r.fullSceneLayout;this.data=e;var n=e.x.length,a=Iz(R5(t.xaxis,e.x,r.dataScale[0],e.xcalendar),R5(t.yaxis,e.y,r.dataScale[1],e.ycalendar),R5(t.zaxis,e.z,r.dataScale[2],e.zcalendar)),o;if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!P5(e.i,n)||!P5(e.j,n)||!P5(e.k,n))return;o=Iz(D5(e.i),D5(e.j),D5(e.k))}else e.alphahull===0?o=pue(a):e.alphahull>0?o=due(e.alphahull,a):o=xue(e.delaunayaxis,a);var i={positions:a,cells:o,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:F5(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var l=mue(e);this.color="#fff";var u=e.intensitymode;i[u+"Intensity"]=e.intensity,i[u+"IntensityBounds"]=[l.min,l.max],i.colormap=gue(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],i.vertexColors=Nz(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],i.cellColors=Nz(e.facecolor)):(this.color=e.color,i.meshColor=F5(e.color));this.mesh.update(i)};I5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function bue(e,r){var t=e.glplot.gl,n=vue({gl:t}),a=new zz(e,n,r.uid);return n._trace=a,a.update(r),e.glplot.add(n),a}Oz.exports=bue});var Uz=pe((Fge,Bz)=>{"use strict";Bz.exports={attributes:rf(),supplyDefaults:Dz(),calc:Fz(),colorbar:{min:"cmin",max:"cmax"},plot:qz(),moduleType:"trace",name:"mesh3d",basePlotModule:dl(),categories:["gl3d","showLegend"],meta:{}}});var Vz=pe((Ige,Hz)=>{"use strict";Hz.exports=Uz()});var z5=pe((Nge,Yz)=>{"use strict";var _ue=ni(),nf=ao().axisHoverFormat,wue=Ra().hovertemplateAttrs,Tue=rf(),Gz=Cn(),N5=Mt().extendFlat,fc={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:wue({editType:"calc"},{keys:["norm"]}),uhoverformat:nf("u",1),vhoverformat:nf("v",1),whoverformat:nf("w",1),xhoverformat:nf("x"),yhoverformat:nf("y"),zhoverformat:nf("z"),showlegend:N5({},Gz.showlegend,{dflt:!1})};N5(fc,_ue("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var Mue=["opacity","lightposition","lighting"];Mue.forEach(function(e){fc[e]=Tue[e]});fc.hoverinfo=N5({},Gz.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"});fc.transforms=void 0;Yz.exports=fc});var Xz=pe((zge,Wz)=>{"use strict";var Aue=ir(),kue=Pi(),Sue=z5();Wz.exports=function(r,t,n,a){function o(b,x){return Aue.coerce(r,t,Sue,b,x)}var i=o("u"),l=o("v"),u=o("w"),s=o("x"),f=o("y"),v=o("z");if(!i||!i.length||!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length||!v||!v.length){t.visible=!1;return}var g=o("sizemode");o("sizeref",g==="raw"?1:.5),o("anchor"),o("lighting.ambient"),o("lighting.diffuse"),o("lighting.specular"),o("lighting.roughness"),o("lighting.fresnel"),o("lightposition.x"),o("lightposition.y"),o("lightposition.z"),kue(r,t,a,o,{prefix:"",cLetter:"c"}),o("text"),o("hovertext"),o("hovertemplate"),o("uhoverformat"),o("vhoverformat"),o("whoverformat"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var Jz=pe((Oge,Zz)=>{"use strict";var Cue=Vo();Zz.exports=function(r,t){for(var n=t.u,a=t.v,o=t.w,i=Math.min(t.x.length,t.y.length,t.z.length,n.length,a.length,o.length),l=-1/0,u=1/0,s=0;s<i;s++){var f=n[s],v=a[s],g=o[s],b=Math.sqrt(f*f+v*v+g*g);l=Math.max(l,b),u=Math.min(u,b)}t._len=i,t._normMax=l,Cue(r,t,{vals:[u,l],containerStr:"",cLetter:"c"})}});var eO=pe((qge,jz)=>{"use strict";var Eue=gn().gl_cone3d,Lue=gn().gl_cone3d.createConeMesh,Rue=ir().simpleMap,Due=hl().parseColorScale,Pue=Fi().extractOpts,Fue=ir().isArrayOrTypedArray,Kz=tf();function Qz(e,r){this.scene=e,this.uid=r,this.mesh=null,this.data=null}var O5=Qz.prototype;O5.handlePick=function(e){if(e.object===this.mesh){var r=e.index=e.data.index,t=this.data.x[r],n=this.data.y[r],a=this.data.z[r],o=this.data.u[r],i=this.data.v[r],l=this.data.w[r];e.traceCoordinate=[t,n,a,o,i,l,Math.sqrt(o*o+i*i+l*l)];var u=this.data.hovertext||this.data.text;return Fue(u)&&u[r]!==void 0?e.textLabel=u[r]:u&&(e.textLabel=u),!0}};var Iue={xaxis:0,yaxis:1,zaxis:2},Nue={tip:1,tail:0,cm:.25,center:.5},zue={tip:1,tail:1,cm:.75,center:.5};function $z(e,r){var t=e.fullSceneLayout,n=e.dataScale,a={};function o(f,v){var g=t[v],b=n[Iue[v]];return Rue(f,function(x){return g.d2l(x)*b})}a.vectors=Kz(o(r.u,"xaxis"),o(r.v,"yaxis"),o(r.w,"zaxis"),r._len),a.positions=Kz(o(r.x,"xaxis"),o(r.y,"yaxis"),o(r.z,"zaxis"),r._len);var i=Pue(r);a.colormap=Due(r),a.vertexIntensityBounds=[i.min/r._normMax,i.max/r._normMax],a.coneOffset=Nue[r.anchor];var l=r.sizemode;l==="scaled"?a.coneSize=r.sizeref||.5:l==="absolute"?a.coneSize=r.sizeref&&r._normMax?r.sizeref/r._normMax:.5:l==="raw"&&(a.coneSize=r.sizeref),a.coneSizemode=l;var u=Eue(a),s=r.lightposition;return u.lightPosition=[s.x,s.y,s.z],u.ambient=r.lighting.ambient,u.diffuse=r.lighting.diffuse,u.specular=r.lighting.specular,u.roughness=r.lighting.roughness,u.fresnel=r.lighting.fresnel,u.opacity=r.opacity,r._pad=zue[r.anchor]*u.vectorScale*u.coneScale*r._normMax,u}O5.update=function(e){this.data=e;var r=$z(this.scene,e);this.mesh.update(r)};O5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function Oue(e,r){var t=e.glplot.gl,n=$z(e,r),a=Lue(t,n),o=new Qz(e,r.uid);return o.mesh=a,o.data=r,a._trace=o,e.glplot.add(a),o}jz.exports=Oue});var tO=pe((Bge,rO)=>{"use strict";rO.exports={moduleType:"trace",name:"cone",basePlotModule:dl(),categories:["gl3d","showLegend"],attributes:z5(),supplyDefaults:Xz(),colorbar:{min:"cmin",max:"cmax"},calc:Jz(),plot:eO(),eventData:function(e,r){return e.norm=r.traceCoordinate[6],e},meta:{}}});var aO=pe((Uge,nO)=>{"use strict";nO.exports=tO()});var B5=pe((Hge,oO)=>{"use strict";var que=ni(),af=ao().axisHoverFormat,Bue=Ra().hovertemplateAttrs,Uue=rf(),iO=Cn(),q5=Mt().extendFlat,cc={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:Bue({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:af("u",1),vhoverformat:af("v",1),whoverformat:af("w",1),xhoverformat:af("x"),yhoverformat:af("y"),zhoverformat:af("z"),showlegend:q5({},iO.showlegend,{dflt:!1})};q5(cc,que("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var Hue=["opacity","lightposition","lighting"];Hue.forEach(function(e){cc[e]=Uue[e]});cc.hoverinfo=q5({},iO.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"});cc.transforms=void 0;oO.exports=cc});var sO=pe((Vge,lO)=>{"use strict";var Vue=ir(),Gue=Pi(),Yue=B5();lO.exports=function(r,t,n,a){function o(g,b){return Vue.coerce(r,t,Yue,g,b)}var i=o("u"),l=o("v"),u=o("w"),s=o("x"),f=o("y"),v=o("z");if(!i||!i.length||!l||!l.length||!u||!u.length||!s||!s.length||!f||!f.length||!v||!v.length){t.visible=!1;return}o("starts.x"),o("starts.y"),o("starts.z"),o("maxdisplayed"),o("sizeref"),o("lighting.ambient"),o("lighting.diffuse"),o("lighting.specular"),o("lighting.roughness"),o("lighting.fresnel"),o("lightposition.x"),o("lightposition.y"),o("lightposition.z"),Gue(r,t,a,o,{prefix:"",cLetter:"c"}),o("text"),o("hovertext"),o("hovertemplate"),o("uhoverformat"),o("vhoverformat"),o("whoverformat"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),t._length=null}});var gO=pe((Gge,pO)=>{"use strict";var cO=gn().gl_streamtube3d,Wue=cO.createTubeMesh,Xue=ir(),Zue=hl().parseColorScale,Jue=Fi().extractOpts,uO=tf(),vO={xaxis:0,yaxis:1,zaxis:2};function hO(e,r){this.scene=e,this.uid=r,this.mesh=null,this.data=null}var H5=hO.prototype;H5.handlePick=function(e){var r=this.scene.fullSceneLayout,t=this.scene.dataScale;function n(i,l){var u=r[l],s=t[vO[l]];return u.l2c(i)/s}if(e.object===this.mesh){var a=e.data.position,o=e.data.velocity;return e.traceCoordinate=[n(a[0],"xaxis"),n(a[1],"yaxis"),n(a[2],"zaxis"),n(o[0],"xaxis"),n(o[1],"yaxis"),n(o[2],"zaxis"),e.data.intensity*this.data._normMax,e.data.divergence],e.textLabel=this.data.hovertext||this.data.text,!0}};function fO(e){var r=e.length,t;return r>2?t=e.slice(1,r-1):r===2?t=[(e[0]+e[1])/2]:t=e,t}function U5(e){var r=e.length;return r===1?[.5,.5]:[e[1]-e[0],e[r-1]-e[r-2]]}function dO(e,r){var t=e.fullSceneLayout,n=e.dataScale,a=r._len,o={};function i(R,E){var D=t[E],N=n[vO[E]];return Xue.simpleMap(R,function(I){return D.d2l(I)*N})}if(o.vectors=uO(i(r._u,"xaxis"),i(r._v,"yaxis"),i(r._w,"zaxis"),a),!a)return{positions:[],cells:[]};var l=i(r._Xs,"xaxis"),u=i(r._Ys,"yaxis"),s=i(r._Zs,"zaxis");o.meshgrid=[l,u,s],o.gridFill=r._gridFill;var f=r._slen;if(f)o.startingPositions=uO(i(r._startsX,"xaxis"),i(r._startsY,"yaxis"),i(r._startsZ,"zaxis"));else{for(var v=u[0],g=fO(l),b=fO(s),x=new Array(g.length*b.length),T=0,A=0;A<g.length;A++)for(var m=0;m<b.length;m++)x[T++]=[g[A],v,b[m]];o.startingPositions=x}o.colormap=Zue(r),o.tubeSize=r.sizeref,o.maxLength=r.maxdisplayed;var w=i(r._xbnds,"xaxis"),k=i(r._ybnds,"yaxis"),y=i(r._zbnds,"zaxis"),M=U5(l),d=U5(u),_=U5(s),p=[[w[0]-M[0],k[0]-d[0],y[0]-_[0]],[w[1]+M[1],k[1]+d[1],y[1]+_[1]]],c=cO(o,p),S=Jue(r);c.vertexIntensityBounds=[S.min/r._normMax,S.max/r._normMax];var h=r.lightposition;return c.lightPosition=[h.x,h.y,h.z],c.ambient=r.lighting.ambient,c.diffuse=r.lighting.diffuse,c.specular=r.lighting.specular,c.roughness=r.lighting.roughness,c.fresnel=r.lighting.fresnel,c.opacity=r.opacity,r._pad=c.tubeScale*r.sizeref*2,c}H5.update=function(e){this.data=e;var r=dO(this.scene,e);this.mesh.update(r)};H5.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function Kue(e,r){var t=e.glplot.gl,n=dO(e,r),a=Wue(t,n),o=new hO(e,r.uid);return o.mesh=a,o.data=r,a._trace=o,e.glplot.add(a),o}pO.exports=Kue});var mO=pe((Yge,yO)=>{"use strict";yO.exports={moduleType:"trace",name:"streamtube",basePlotModule:dl(),categories:["gl3d","showLegend"],attributes:B5(),supplyDefaults:sO(),colorbar:{min:"cmin",max:"cmax"},calc:Bd().calc,plot:gO(),eventData:function(e,r){return e.tubex=e.x,e.tubey=e.y,e.tubez=e.z,e.tubeu=r.traceCoordinate[3],e.tubev=r.traceCoordinate[4],e.tubew=r.traceCoordinate[5],e.norm=r.traceCoordinate[6],e.divergence=r.traceCoordinate[7],delete e.x,delete e.y,delete e.z,e},meta:{}}});var bO=pe((Wge,xO)=>{"use strict";xO.exports=mO()});var vc=pe(_O=>{"use strict";_O.pointsAccessorFunction=function(e,r){for(var t,n,a=0;a<e.length&&(t=e[a],t!==r);a++)!t._indexToPoints||t.enabled===!1||(n=t._indexToPoints);var o=n?function(i){return n[i]}:function(i){return[i]};return o}});var AO=pe(lf=>{"use strict";var Que=wt(),of=ir(),$ue=Oo(),jue=vc().pointsAccessorFunction,qt=Xt().BADNUM;lf.moduleType="transform";lf.name="aggregate";var MO=lf.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},wO=MO.aggregations;lf.supplyDefaults=function(e,r){var t={},n;function a(A,m){return of.coerce(e,t,MO,A,m)}var o=a("enabled");if(!o)return t;var i=$ue.findArrayAttributes(r),l={};for(n=0;n<i.length;n++)l[i[n]]=1;var u=a("groups");if(!Array.isArray(u)){if(!l[u])return t.enabled=!1,t;l[u]=0}var s=e.aggregations||[],f=t.aggregations=new Array(s.length),v;function g(A,m){return of.coerce(s[n],v,wO,A,m)}for(n=0;n<s.length;n++){v={_index:n};var b=g("target"),x=g("func"),T=g("enabled");T&&b&&(l[b]||x==="count"&&l[b]===void 0)?(x==="stddev"&&g("funcmode"),l[b]=0,f[n]=v):f[n]={enabled:!1,_index:n}}for(n=0;n<i.length;n++)l[i[n]]&&f.push({target:i[n],func:wO.func.dflt,enabled:!0,_index:-1});return t};lf.calcTransform=function(e,r,t){if(t.enabled){var n=t.groups,a=of.getTargetArray(r,{target:n});if(a){var o,i,l,u,s={},f={},v=[],g=jue(r.transforms,t),b=a.length;for(r._length&&(b=Math.min(b,r._length)),o=0;o<b;o++)i=a[o],l=s[i],l===void 0?(s[i]=v.length,u=[o],v.push(u),f[s[i]]=g(o)):(v[l].push(o),f[s[i]]=(f[s[i]]||[]).concat(g(o)));t._indexToPoints=f;var x=t.aggregations;for(o=0;o<x.length;o++)TO(e,r,v,x[o]);typeof n=="string"&&TO(e,r,v,{target:n,func:"first",enabled:!0}),r._length=v.length}}};function TO(e,r,t,n){if(n.enabled){for(var a=n.target,o=of.nestedProperty(r,a),i=o.get(),l=Que.getDataConversions(e,r,a,i),u=efe(n,l),s=new Array(t.length),f=0;f<t.length;f++)s[f]=u(i,t[f]);o.set(s),n.func==="count"&&of.pushUnique(r._arrayAttrs,a)}}function efe(e,r){var t=e.func,n=r.d2c,a=r.c2d;switch(t){case"count":return rfe;case"first":return tfe;case"last":return nfe;case"sum":return function(o,i){for(var l=0,u=0;u<i.length;u++){var s=n(o[i[u]]);s!==qt&&(l+=s)}return a(l)};case"avg":return function(o,i){for(var l=0,u=0,s=0;s<i.length;s++){var f=n(o[i[s]]);f!==qt&&(l+=f,u++)}return u?a(l/u):qt};case"min":return function(o,i){for(var l=1/0,u=0;u<i.length;u++){var s=n(o[i[u]]);s!==qt&&(l=Math.min(l,s))}return l===1/0?qt:a(l)};case"max":return function(o,i){for(var l=-1/0,u=0;u<i.length;u++){var s=n(o[i[u]]);s!==qt&&(l=Math.max(l,s))}return l===-1/0?qt:a(l)};case"range":return function(o,i){for(var l=1/0,u=-1/0,s=0;s<i.length;s++){var f=n(o[i[s]]);f!==qt&&(l=Math.min(l,f),u=Math.max(u,f))}return u===-1/0||l===1/0?qt:a(u-l)};case"change":return function(o,i){var l=n(o[i[0]]),u=n(o[i[i.length-1]]);return l===qt||u===qt?qt:a(u-l)};case"median":return function(o,i){for(var l=[],u=0;u<i.length;u++){var s=n(o[i[u]]);s!==qt&&l.push(s)}if(!l.length)return qt;l.sort(of.sorterAsc);var f=(l.length-1)/2;return a((l[Math.floor(f)]+l[Math.ceil(f)])/2)};case"mode":return function(o,i){for(var l={},u=0,s=qt,f=0;f<i.length;f++){var v=n(o[i[f]]);if(v!==qt){var g=l[v]=(l[v]||0)+1;g>u&&(u=g,s=v)}}return u?a(s):qt};case"rms":return function(o,i){for(var l=0,u=0,s=0;s<i.length;s++){var f=n(o[i[s]]);f!==qt&&(l+=f*f,u++)}return u?a(Math.sqrt(l/u)):qt};case"stddev":return function(o,i){var l=0,u=0,s=1,f=qt,v;for(v=0;v<i.length&&f===qt;v++)f=n(o[i[v]]);if(f===qt)return qt;for(;v<i.length;v++){var g=n(o[i[v]]);if(g!==qt){var b=g-f;l+=b,u+=b*b,s++}}var x=e.funcmode==="sample"?s-1:s;return x?Math.sqrt((u-l*l/s)/x):0}}}function rfe(e,r){return r.length}function tfe(e,r){return e[r[0]]}function nfe(e,r){return e[r[r.length-1]]}});var SO=pe((Jge,kO)=>{"use strict";kO.exports=AO()});var EO=pe((Kge,CO)=>{"use strict";CO.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}});var PO=pe(Ms=>{"use strict";var ml=ir(),afe=Cr(),ife=wt(),ofe=vc().pointsAccessorFunction,V5=EO(),LO=V5.COMPARISON_OPS,RO=V5.INTERVAL_OPS,DO=V5.SET_OPS;Ms.moduleType="transform";Ms.name="filter";Ms.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(LO).concat(RO).concat(DO),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"};Ms.supplyDefaults=function(e){var r={};function t(i,l){return ml.coerce(e,r,Ms.attributes,i,l)}var n=t("enabled");if(n){var a=t("target");if(ml.isArrayOrTypedArray(a)&&a.length===0)return r.enabled=!1,r;t("preservegaps"),t("operation"),t("value");var o=afe.getComponentMethod("calendars","handleDefaults");o(e,r,"valuecalendar",null),o(e,r,"targetcalendar",null)}return r};Ms.calcTransform=function(e,r,t){if(!t.enabled)return;var n=ml.getTargetArray(r,t);if(!n)return;var a=t.target,o=n.length;r._length&&(o=Math.min(o,r._length));var i=t.targetcalendar,l=r._arrayAttrs,u=t.preservegaps;if(typeof a=="string"){var s=ml.nestedProperty(r,a+"calendar").get();s&&(i=s)}var f=ife.getDataToCoordFunc(e,r,a,n),v=lfe(t,f,i),g={},b={},x=0;function T(M,d){for(var _=0;_<l.length;_++){var p=ml.nestedProperty(r,l[_]);M(p,d)}}var A,m;u?(A=function(M){g[M.astr]=ml.extendDeep([],M.get()),M.set(new Array(o))},m=function(M,d){var _=g[M.astr][d];M.get()[d]=_}):(A=function(M){g[M.astr]=ml.extendDeep([],M.get()),M.set([])},m=function(M,d){var _=g[M.astr][d];M.get().push(_)}),T(A);for(var w=ofe(r.transforms,t),k=0;k<o;k++){var y=v(n[k]);y?(T(m,k),b[x++]=w(k)):u&&x++}t._indexToPoints=b,r._length=x};function lfe(e,r,t){var n=e.operation,a=e.value,o=ml.isArrayOrTypedArray(a);function i(f){return f.indexOf(n)!==-1}var l=function(f){return r(f,0,e.valuecalendar)},u=function(f){return r(f,0,t)},s;switch(i(LO)?s=l(o?a[0]:a):i(RO)?s=o?[l(a[0]),l(a[1])]:[l(a),l(a)]:i(DO)&&(s=o?a.map(l):[l(a)]),n){case"=":return function(f){return u(f)===s};case"!=":return function(f){return u(f)!==s};case"<":return function(f){return u(f)<s};case"<=":return function(f){return u(f)<=s};case">":return function(f){return u(f)>s};case">=":return function(f){return u(f)>=s};case"[]":return function(f){var v=u(f);return v>=s[0]&&v<=s[1]};case"()":return function(f){var v=u(f);return v>s[0]&&v<s[1]};case"[)":return function(f){var v=u(f);return v>=s[0]&&v<s[1]};case"(]":return function(f){var v=u(f);return v>s[0]&&v<=s[1]};case"][":return function(f){var v=u(f);return v<=s[0]||v>=s[1]};case")(":return function(f){var v=u(f);return v<s[0]||v>s[1]};case"](":return function(f){var v=u(f);return v<=s[0]||v>s[1]};case")[":return function(f){var v=u(f);return v<s[0]||v>=s[1]};case"{}":return function(f){return s.indexOf(u(f))!==-1};case"}{":return function(f){return s.indexOf(u(f))===-1}}}});var IO=pe(($ge,FO)=>{"use strict";FO.exports=PO()});var NO=pe(wo=>{"use strict";var ra=ir(),sfe=Oo(),ufe=nn(),ffe=vc().pointsAccessorFunction;wo.moduleType="transform";wo.name="groupby";wo.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"};wo.supplyDefaults=function(e,r,t){var n,a={};function o(v,g){return ra.coerce(e,a,wo.attributes,v,g)}var i=o("enabled");if(!i)return a;o("groups"),o("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var l=e.styles,u=a.styles=[];if(l)for(n=0;n<l.length;n++){var s=u[n]={};ra.coerce(l[n],u[n],wo.attributes.styles,"target");var f=ra.coerce(l[n],u[n],wo.attributes.styles,"value");ra.isPlainObject(f)?s.value=ra.extendDeep({},f):f&&delete s.value}return a};wo.transform=function(e,r){var t,n,a,o=[];for(n=0;n<e.length;n++)for(t=cfe(e[n],r),a=0;a<t.length;a++)o.push(t[a]);return o};function cfe(e,r){var t,n,a,o,i,l,u,s,f,v,g=r.transform,b=r.transformIndex,x=e.transforms[b].groups,T=ffe(e.transforms,g);if(!ra.isArrayOrTypedArray(x)||x.length===0)return[e];var A=ra.filterUnique(x),m=new Array(A.length),w=x.length,k=sfe.findArrayAttributes(e),y=g.styles||[],M={};for(t=0;t<y.length;t++)M[y[t].target]=y[t].value;g.styles&&(v=ra.keyedContainer(g,"styles","target","value.name"));var d={},_={};for(t=0;t<A.length;t++){l=A[t],d[l]=t,_[l]=0,u=m[t]=ra.extendDeepNoArrays({},e),u._group=l,u.transforms[b]._indexToPoints={};var p=null;for(v&&(p=v.get(l)),p||p===""?u.name=p:u.name=ra.templateString(g.nameformat,{trace:e.name,group:l}),s=u.transforms,u.transforms=[],n=0;n<s.length;n++)u.transforms[n]=ra.extendDeepNoArrays({},s[n]);for(n=0;n<k.length;n++)ra.nestedProperty(u,k[n]).set([])}for(a=0;a<k.length;a++){for(o=k[a],n=0,f=[];n<A.length;n++)f[n]=ra.nestedProperty(m[n],o).get();for(i=ra.nestedProperty(e,o).get(),n=0;n<w;n++)f[d[x[n]]].push(i[n])}for(n=0;n<w;n++){u=m[d[x[n]]];var c=u.transforms[b]._indexToPoints;c[_[x[n]]]=T(n),_[x[n]]++}for(t=0;t<A.length;t++)l=A[t],u=m[t],ufe.clearExpandedTraceDefaultColors(u),u=ra.extendDeepNoArrays(u,M[l]||{});return m}});var OO=pe((e2e,zO)=>{"use strict";zO.exports=NO()});var qO=pe(As=>{"use strict";var G5=ir(),vfe=wt(),hfe=vc().pointsAccessorFunction,Vd=Xt().BADNUM;As.moduleType="transform";As.name="sort";As.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"};As.supplyDefaults=function(e){var r={};function t(a,o){return G5.coerce(e,r,As.attributes,a,o)}var n=t("enabled");return n&&(t("target"),t("order")),r};As.calcTransform=function(e,r,t){if(t.enabled){var n=G5.getTargetArray(r,t);if(n){var a=t.target,o=n.length;r._length&&(o=Math.min(o,r._length));var i=r._arrayAttrs,l=vfe.getDataToCoordFunc(e,r,a,n),u=dfe(t,n,l,o),s=hfe(r.transforms,t),f={},v,g;for(v=0;v<i.length;v++){var b=G5.nestedProperty(r,i[v]),x=b.get(),T=new Array(o);for(g=0;g<o;g++)T[g]=x[u[g]];b.set(T)}for(g=0;g<o;g++)f[g]=s(u[g]);t._indexToPoints=f,r._length=o}}};function dfe(e,r,t,n){var a=new Array(n),o=new Array(n),i;for(i=0;i<n;i++)a[i]={v:r[i],i};for(a.sort(pfe(e,t)),i=0;i<n;i++)o[i]=a[i].i;return o}function pfe(e,r){switch(e.order){case"ascending":return function(t,n){var a=r(t.v),o=r(n.v);return a===Vd?1:o===Vd?-1:a-o};case"descending":return function(t,n){var a=r(t.v),o=r(n.v);return a===Vd?1:o===Vd?-1:o-a}}}});var UO=pe((t2e,BO)=>{"use strict";BO.exports=qO()});var Fn=pe((n2e,VO)=>{"use strict";var HO=Object.getOwnPropertySymbols,gfe=Object.prototype.hasOwnProperty,yfe=Object.prototype.propertyIsEnumerable;function mfe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function xfe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(o){a[o]=o}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}VO.exports=xfe()?Object.assign:function(e,r){for(var t,n=mfe(e),a,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var i in t)gfe.call(t,i)&&(n[i]=t[i]);if(HO){a=HO(t);for(var l=0;l<a.length;l++)yfe.call(t,a[l])&&(n[a[l]]=t[a[l]])}}return n}});var In=pe((a2e,YO)=>{var Yd=Fn();function GO(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}Yd(GO.prototype,{instance:function(e,r){e=(e||"gregorian").toLowerCase(),r=r||"";var t=this._localCals[e+"-"+r];if(!t&&this.calendars[e]&&(t=new this.calendars[e](r),this._localCals[e+"-"+r]=t),!t)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return t},newDate:function(e,r,t,n,a){return n=(e!=null&&e.year?e.calendar():typeof n=="string"?this.instance(n,a):n)||this.instance(),n.newDate(e,r,t)},substituteDigits:function(e){return function(r){return(r+"").replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,r){return function(t){for(var n="",a=0;t>0;){var o=t%10;n=(o===0?"":e[o]+r[a])+n,a++,t=Math.floor(t/10)}return n.indexOf(e[1]+r[1])===0&&(n=n.substr(1)),n||e[0]}}});function Y5(e,r,t,n){if(this._calendar=e,this._year=r,this._month=t,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function Gd(e,r){return e=""+e,"000000".substring(0,r-e.length)+e}Yd(Y5.prototype,{newDate:function(e,r,t){return this._calendar.newDate(e==null?this:e,r,t)},year:function(e){return arguments.length===0?this._year:this.set(e,"y")},month:function(e){return arguments.length===0?this._month:this.set(e,"m")},day:function(e){return arguments.length===0?this._day:this.set(e,"d")},date:function(e,r,t){if(!this._calendar.isValid(e,r,t))throw(Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=r,this._day=t,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,r){return this._calendar.add(this,e,r)},set:function(e,r){return this._calendar.set(this,e,r)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(Zr.local.differentCalendars||Zr.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var r=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+Gd(Math.abs(this.year()),4)+"-"+Gd(this.month(),2)+"-"+Gd(this.day(),2)}});function W5(){this.shortYearCutoff="+10"}Yd(W5.prototype,{_validateLevel:0,newDate:function(e,r,t){return e==null?this.today():(e.year&&(this._validate(e,r,t,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate),t=e.day(),r=e.month(),e=e.year()),new Y5(this,e,r,t))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){var r=this._validate(e,this.minMonth,this.minDay,Zr.local.invalidYear||Zr.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Zr.local.invalidYear||Zr.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+Gd(Math.abs(r.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Zr.local.invalidYear||Zr.regionalOptions[""].invalidYear),12},monthOfYear:function(e,r){var t=this._validate(e,r,this.minDay,Zr.local.invalidMonth||Zr.regionalOptions[""].invalidMonth);return(t.month()+this.monthsInYear(t)-this.firstMonth)%this.monthsInYear(t)+this.minMonth},fromMonthOfYear:function(e,r){var t=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,t,this.minDay,Zr.local.invalidMonth||Zr.regionalOptions[""].invalidMonth),t},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Zr.local.invalidYear||Zr.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(e,r,t){var n=this._validate(e,r,t,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(e,r,t){return this._validate(e,r,t,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate),{}},add:function(e,r,t){return this._validate(e,this.minMonth,this.minDay,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,r,t),r,t)},_add:function(e,r,t){if(this._validateLevel++,t==="d"||t==="w"){var n=e.toJD()+r*(t==="w"?this.daysInWeek():1),a=e.calendar().fromJD(n);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var o=e.year()+(t==="y"?r:0),i=e.monthOfYear()+(t==="m"?r:0),a=e.day(),l=function(f){for(;i<f.minMonth;)o--,i+=f.monthsInYear(o);for(var v=f.monthsInYear(o);i>v-1+f.minMonth;)o++,i-=v,v=f.monthsInYear(o)};t==="y"?(e.month()!==this.fromMonthOfYear(o,i)&&(i=this.newDate(o,e.month(),this.minDay).monthOfYear()),i=Math.min(i,this.monthsInYear(o)),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i)))):t==="m"&&(l(this),a=Math.min(a,this.daysInMonth(o,this.fromMonthOfYear(o,i))));var u=[o,this.fromMonthOfYear(o,i),a];return this._validateLevel--,u}catch(s){throw this._validateLevel--,s}},_correctAdd:function(e,r,t,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||e.year()>0!=r[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=t<0?-1:1;r=this._add(e,t*a[0]+o*a[1],a[2])}return e.date(r[0],r[1],r[2])},set:function(e,r,t){this._validate(e,this.minMonth,this.minDay,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate);var n=t==="y"?r:e.year(),a=t==="m"?r:e.month(),o=t==="d"?r:e.day();return(t==="y"||t==="m")&&(o=Math.min(o,this.daysInMonth(n,a))),e.date(n,a,o)},isValid:function(e,r,t){this._validateLevel++;var n=this.hasYearZero||e!==0;if(n){var a=this.newDate(e,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(a)&&t>=this.minDay&&t-this.minDay<this.daysInMonth(a)}return this._validateLevel--,n},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate);return Zr.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(e){return this.fromJD(Zr.instance().fromJSDate(e).toJD())},_validate:function(e,r,t,n){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(Zr.local.differentCalendars||Zr.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,r,t))throw n.replace(/\{0\}/,this.local.name);var a=this.newDate(e,r,t);return this._validateLevel--,a}catch(o){throw this._validateLevel--,o}}});function X5(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}X5.prototype=new W5;Yd(X5.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Zr.local.invalidYear||Zr.regionalOptions[""].invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===0&&(t%100!==0||t%400===0)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Zr.local.invalidMonth||Zr.regionalOptions[""].invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate);e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<3&&(r+=12,e--);var a=Math.floor(e/100),o=2-a+Math.floor(a/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t+o-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=Math.floor((r-186721625e-2)/36524.25);t=r+1+t-Math.floor(t/4);var n=t+1524,a=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*a),i=Math.floor((n-o)/30.6001),l=n-o-Math.floor(i*30.6001),u=i-(i>13.5?13:1),s=a-(u>2.5?4716:4715);return s<=0&&s--,this.newDate(s,u,l)},toJSDate:function(e,r,t){var n=this._validate(e,r,t,Zr.local.invalidDate||Zr.regionalOptions[""].invalidDate),a=new Date(n.year(),n.month()-1,n.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var Zr=YO.exports=new GO;Zr.cdate=Y5;Zr.baseCalendar=W5;Zr.calendars.gregorian=X5});var WO=pe(()=>{var Z5=Fn(),yn=In();Z5(yn.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});yn.local=yn.regionalOptions[""];Z5(yn.cdate.prototype,{formatDate:function(e,r){return typeof e!="string"&&(r=e,e=""),this._calendar.formatDate(e||"",this,r)}});Z5(yn.baseCalendar.prototype,{UNIX_EPOCH:yn.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:yn.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,r,t){if(typeof e!="string"&&(t=r,r=e,e=""),!r)return"";if(r.calendar()!==this)throw yn.local.invalidFormat||yn.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat,t=t||{};for(var n=t.dayNamesShort||this.local.dayNamesShort,a=t.dayNames||this.local.dayNames,o=t.monthNumbers||this.local.monthNumbers,i=t.monthNamesShort||this.local.monthNamesShort,l=t.monthNames||this.local.monthNames,u=t.calculateWeek||this.local.calculateWeek,s=function(y,M){for(var d=1;k+d<e.length&&e.charAt(k+d)===y;)d++;return k+=d-1,Math.floor(d/(M||1))>1},f=function(y,M,d,_){var p=""+M;if(s(y,_))for(;p.length<d;)p="0"+p;return p},v=function(y,M,d,_){return s(y)?_[M]:d[M]},g=this,b=function(y){return typeof o=="function"?o.call(g,y,s("m")):A(f("m",y.month(),2))},x=function(y,M){return M?typeof l=="function"?l.call(g,y):l[y.month()-g.minMonth]:typeof i=="function"?i.call(g,y):i[y.month()-g.minMonth]},T=this.local.digits,A=function(y){return t.localNumbers&&T?T(y):y},m="",w=!1,k=0;k<e.length;k++)if(w)e.charAt(k)==="'"&&!s("'")?w=!1:m+=e.charAt(k);else switch(e.charAt(k)){case"d":m+=A(f("d",r.day(),2));break;case"D":m+=v("D",r.dayOfWeek(),n,a);break;case"o":m+=f("o",r.dayOfYear(),3);break;case"w":m+=f("w",r.weekOfYear(),2);break;case"m":m+=b(r);break;case"M":m+=x(r,s("M"));break;case"y":m+=s("y",2)?r.year():(r.year()%100<10?"0":"")+r.year()%100;break;case"Y":s("Y",2),m+=r.formatYear();break;case"J":m+=r.toJD();break;case"@":m+=(r.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":m+=(r.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":s("'")?m+="'":w=!0;break;default:m+=e.charAt(k)}return m},parseDate:function(e,r,t){if(r==null)throw yn.local.invalidArguments||yn.regionalOptions[""].invalidArguments;if(r=typeof r=="object"?r.toString():r+"",r==="")return null;e=e||this.local.dateFormat,t=t||{};var n=t.shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var a=t.dayNamesShort||this.local.dayNamesShort,o=t.dayNames||this.local.dayNames,i=t.parseMonth||this.local.parseMonth,l=t.monthNumbers||this.local.monthNumbers,u=t.monthNamesShort||this.local.monthNamesShort,s=t.monthNames||this.local.monthNames,f=-1,v=-1,g=-1,b=-1,x=-1,T=!1,A=!1,m=function(R,E){for(var D=1;c+D<e.length&&e.charAt(c+D)===R;)D++;return c+=D-1,Math.floor(D/(E||1))>1},w=function(R,E){var D=m(R,E),N=[2,3,D?4:2,D?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],I=new RegExp("^-?\\d{1,"+N+"}"),F=r.substring(p).match(I);if(!F)throw(yn.local.missingNumberAt||yn.regionalOptions[""].missingNumberAt).replace(/\{0\}/,p);return p+=F[0].length,parseInt(F[0],10)},k=this,y=function(){if(typeof l=="function"){m("m");var R=l.call(k,r.substring(p));return p+=R.length,R}return w("m")},M=function(R,E,D,N){for(var I=m(R,N)?D:E,F=0;F<I.length;F++)if(r.substr(p,I[F].length).toLowerCase()===I[F].toLowerCase())return p+=I[F].length,F+k.minMonth;throw(yn.local.unknownNameAt||yn.regionalOptions[""].unknownNameAt).replace(/\{0\}/,p)},d=function(){if(typeof s=="function"){var R=m("M")?s.call(k,r.substring(p)):u.call(k,r.substring(p));return p+=R.length,R}return M("M",u,s)},_=function(){if(r.charAt(p)!==e.charAt(c))throw(yn.local.unexpectedLiteralAt||yn.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,p);p++},p=0,c=0;c<e.length;c++)if(A)e.charAt(c)==="'"&&!m("'")?A=!1:_();else switch(e.charAt(c)){case"d":b=w("d");break;case"D":M("D",a,o);break;case"o":x=w("o");break;case"w":w("w");break;case"m":g=y();break;case"M":g=d();break;case"y":var S=c;T=!m("y",2),c=S,v=w("y",2);break;case"Y":v=w("Y",2);break;case"J":f=w("J")+.5,r.charAt(p)==="."&&(p++,w("J"));break;case"@":f=w("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=w("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":p=r.length;break;case"'":m("'")?_():A=!0;break;default:_()}if(p<r.length)throw yn.local.unexpectedText||yn.regionalOptions[""].unexpectedText;if(v===-1?v=this.today().year():v<100&&T&&(v+=n===-1?1900:this.today().year()-this.today().year()%100-(v<=n?0:100)),typeof g=="string"&&(g=i.call(this,v,g)),x>-1){g=1,b=x;for(var h=this.daysInMonth(v,g);b>h;h=this.daysInMonth(v,g))g++,b-=h}return f>-1?this.fromJD(f):this.newDate(v,g,b)},determineDate:function(e,r,t,n,a){t&&typeof t!="object"&&(a=n,n=t,t=null),typeof n!="string"&&(a=n,n="");var o=this,i=function(l){try{return o.parseDate(n,l,a)}catch(v){}l=l.toLowerCase();for(var u=(l.match(/^c/)&&t?t.newDate():null)||o.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=s.exec(l);f;)u.add(parseInt(f[1],10),f[2]||"d"),f=s.exec(l);return u};return r=r?r.newDate():null,e=e==null?r:typeof e=="string"?i(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?r:o.today().add(e,"d"):o.newDate(e),e}})});var XO=pe(()=>{var xl=In(),bfe=Fn(),J5=xl.instance();function Wd(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Wd.prototype=new xl.baseCalendar;bfe(Wd.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(e,r){if(typeof e=="string"){var t=e.match(wfe);return t?t[0]:""}var n=this._validateYear(e),a=e.month(),o=""+this.toChineseMonth(n,a);return r&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(n,a)&&(o+="i"),o},monthNames:function(e){if(typeof e=="string"){var r=e.match(Tfe);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},monthNamesShort:function(e){if(typeof e=="string"){var r=e.match(Mfe);return r?r[0]:""}var t=this._validateYear(e),n=e.month(),a=this.toChineseMonth(t,n),o=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][a-1];return this.isIntercalaryMonth(t,n)&&(o="\u95F0"+o),o},parseMonth:function(e,r){e=this._validateYear(e);var t=parseInt(r),n;if(isNaN(t))r[0]==="\u95F0"&&(n=!0,r=r.substring(1)),r[r.length-1]==="\u6708"&&(r=r.substring(0,r.length-1)),t=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(r);else{var a=r[r.length-1];n=a==="i"||a==="I"}var o=this.toMonthIndex(e,t,n);return o},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(e,r){if(e.year&&(e=e.year()),typeof e!="number"||e<1888||e>2111)throw r.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,r,t){var n=this.intercalaryMonth(e),a=t&&r!==n;if(a||r<1||r>12)throw xl.local.invalidMonth.replace(/\{0\}/,this.local.name);var o;return n?!t&&r<=n?o=r-1:o=r:o=r-1,o},toChineseMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e),n=t?12:11;if(r<0||r>n)throw xl.local.invalidMonth.replace(/\{0\}/,this.local.name);var a;return t?r<t?a=r+1:a=r:a=r+1,a},intercalaryMonth:function(e){e=this._validateYear(e);var r=bl[e-bl[0]],t=r>>13;return t},isIntercalaryMonth:function(e,r){e.year&&(e=e.year(),r=e.month());var t=this.intercalaryMonth(e);return!!t&&t===r},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,r,t){var n=this._validateYear(e,xl.local.invalidyear),a=_l[n-_l[0]],o=a>>9&4095,i=a>>5&15,l=a&31,u;u=J5.newDate(o,i,l),u.add(4-(u.dayOfWeek()||7),"d");var s=this.toJD(e,r,t)-u.toJD();return 1+Math.floor(s/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,r){e.year&&(r=e.month(),e=e.year()),e=this._validateYear(e);var t=bl[e-bl[0]],n=t>>13,a=n?12:11;if(r>a)throw xl.local.invalidMonth.replace(/\{0\}/,this.local.name);var o=t&1<<12-r?30:29;return o},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,o,t,xl.local.invalidDate);e=this._validateYear(n.year()),r=n.month(),t=n.day();var a=this.isIntercalaryMonth(e,r),o=this.toChineseMonth(e,r),i=kfe(e,o,t,a);return J5.toJD(i.year,i.month,i.day)},fromJD:function(e){var r=J5.fromJD(e),t=Afe(r.year(),r.month(),r.day()),n=this.toMonthIndex(t.year,t.month,t.isIntercalary);return this.newDate(t.year,n,t.day)},fromString:function(e){var r=e.match(_fe),t=this._validateYear(+r[1]),n=+r[2],a=!!r[3],o=this.toMonthIndex(t,n,a),i=+r[4];return this.newDate(t,o,i)},add:function(e,r,t){var n=e.year(),a=e.month(),o=this.isIntercalaryMonth(n,a),i=this.toChineseMonth(n,a),l=Object.getPrototypeOf(Wd.prototype).add.call(this,e,r,t);if(t==="y"){var u=l.year(),s=l.month(),f=this.isIntercalaryMonth(u,i),v=o&&f?this.toMonthIndex(u,i,!0):this.toMonthIndex(u,i,!1);v!==s&&l.month(v)}return l}});var _fe=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,wfe=/^\d?\d[iI]?/m,Tfe=/^闰?十?[一二三四五六七八九]?月/m,Mfe=/^闰?十?[一二三四五六七八九]?/m;xl.calendars.chinese=Wd;var bl=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],_l=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function Afe(e,r,t,n){var a,o;if(typeof e=="object")a=e,o=r||{};else{var i=typeof e=="number"&&e>=1888&&e<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var l=typeof r=="number"&&r>=1&&r<=12;if(!l)throw new Error("Solar month outside range 1 - 12");var u=typeof t=="number"&&t>=1&&t<=31;if(!u)throw new Error("Solar day outside range 1 - 31");a={year:e,month:r,day:t},o=n||{}}var s=_l[a.year-_l[0]],f=a.year<<9|a.month<<5|a.day;o.year=f>=s?a.year:a.year-1,s=_l[o.year-_l[0]];var v=s>>9&4095,g=s>>5&15,b=s&31,x,T=new Date(v,g-1,b),A=new Date(a.year,a.month-1,a.day);x=Math.round((A-T)/(24*3600*1e3));var m=bl[o.year-bl[0]],w;for(w=0;w<13;w++){var k=m&1<<12-w?30:29;if(x<k)break;x-=k}var y=m>>13;return!y||w<y?(o.isIntercalary=!1,o.month=1+w):w===y?(o.isIntercalary=!0,o.month=w):(o.isIntercalary=!1,o.month=w),o.day=1+x,o}function kfe(e,r,t,n,a){var o,i;if(typeof e=="object")i=e,o=r||{};else{var l=typeof e=="number"&&e>=1888&&e<=2111;if(!l)throw new Error("Lunar year outside range 1888-2111");var u=typeof r=="number"&&r>=1&&r<=12;if(!u)throw new Error("Lunar month outside range 1 - 12");var s=typeof t=="number"&&t>=1&&t<=30;if(!s)throw new Error("Lunar day outside range 1 - 30");var f;typeof n=="object"?(f=!1,o=n):(f=!!n,o=a||{}),i={year:e,month:r,day:t,isIntercalary:f}}var v;v=i.day-1;var g=bl[i.year-bl[0]],b=g>>13,x;b&&(i.month>b||i.isIntercalary)?x=i.month:x=i.month-1;for(var T=0;T<x;T++){var A=g&1<<12-T?30:29;v+=A}var m=_l[i.year-_l[0]],w=m>>9&4095,k=m>>5&15,y=m&31,M=new Date(w,k-1,y+v);return o.year=M.getFullYear(),o.month=1+M.getMonth(),o.day=M.getDate(),o}});var ZO=pe(()=>{var ks=In(),Sfe=Fn();function K5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}K5.prototype=new ks.baseCalendar;Sfe(K5.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,ks.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,ks.local.invalidYear||ks.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,ks.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,ks.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});ks.calendars.coptic=K5});var JO=pe(()=>{var To=In(),Cfe=Fn();function Q5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Q5.prototype=new To.baseCalendar;Cfe(Q5.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,To.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,To.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,To.local.invalidYear),400},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,To.local.invalidMonth);return this.daysPerMonth[t.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,To.local.invalidDate);return(n.day()+1)%8},weekDay:function(e,r,t){var n=this.dayOfWeek(e,r,t);return n>=2&&n<=6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,To.local.invalidDate);return{century:Efe[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(e,r,t){var n=this._validate(e,r,t,To.local.invalidDate);return e=n.year()+(n.year()<0?1:0),r=n.month(),t=n.day(),t+(r>1?16:0)+(r>2?(r-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(e/400)+1;e-=(r-1)*400,e+=e>15?16:0;var t=Math.floor(e/32)+1,n=e-(t-1)*32+1;return this.newDate(r<=0?r-1:r,t,n)}});var Efe={20:"Fruitbat",21:"Anchovy"};To.calendars.discworld=Q5});var KO=pe(()=>{var Ss=In(),Lfe=Fn();function $5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}$5.prototype=new Ss.baseCalendar;Lfe($5.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Ss.local.invalidYear),t=r.year()+(r.year()<0?1:0);return t%4===3||t%4===-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Ss.local.invalidYear||Ss.regionalOptions[""].invalidYear),13},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ss.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===13&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,Ss.local.invalidDate);return e=n.year(),e<0&&e++,n.day()+(n.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var r=Math.floor(e)+.5-this.jdEpoch,t=Math.floor((r-Math.floor((r+366)/1461))/365)+1;t<=0&&t--,r=Math.floor(e)+.5-this.newDate(t,1,1).toJD();var n=Math.floor(r/30)+1,a=r-(n-1)*30+1;return this.newDate(t,n,a)}});Ss.calendars.ethiopian=$5});var QO=pe(()=>{var wl=In(),Rfe=Fn();function j5(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}j5.prototype=new wl.baseCalendar;Rfe(j5.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,wl.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(e){return e=e<0?e+1:e,Xd(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,wl.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,wl.local.invalidYear);return e=r.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,wl.local.invalidMonth),r===12&&this.leapYear(e)||r===8&&Xd(this.daysInYear(e),10)===5?30:r===9&&Xd(this.daysInYear(e),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},extraInfo:function(e,r,t){var n=this._validate(e,r,t,wl.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(e,r,t){var n=this._validate(e,r,t,wl.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+t+1;if(r<7){for(var i=7;i<=this.monthsInYear(e);i++)o+=this.daysInMonth(e,i);for(var i=1;i<r;i++)o+=this.daysInMonth(e,i)}else for(var i=7;i<r;i++)o+=this.daysInMonth(e,i);return o},_delay1:function(e){var r=Math.floor((235*e-234)/19),t=12084+13753*r,n=r*29+Math.floor(t/25920);return Xd(3*(n+1),7)<3&&n++,n},_delay2:function(e){var r=this._delay1(e-1),t=this._delay1(e),n=this._delay1(e+1);return n-t===356?2:t-r===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var r=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var t=e<this.toJD(r,1,1)?7:1;e>this.toJD(r,t,this.daysInMonth(r,t));)t++;var n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});function Xd(e,r){return e-r*Math.floor(e/r)}wl.calendars.hebrew=j5});var $O=pe(()=>{var hc=In(),Dfe=Fn();function ex(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}ex.prototype=new hc.baseCalendar;Dfe(ex.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,hc.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,hc.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,hc.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e=e<=0?e+1:e,t+Math.ceil(29.5*(r-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=Math.floor((30*(e-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var t=Math.min(12,Math.ceil((e-29-this.toJD(r,1,1))/29.5)+1),n=e-this.toJD(r,t,1)+1;return this.newDate(r,t,n)}});hc.calendars.islamic=ex});var jO=pe(()=>{var dc=In(),Pfe=Fn();function rx(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}rx.prototype=new dc.baseCalendar;Pfe(rx.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,dc.local.invalidYear),t=r.year()<0?r.year()+1:r.year();return t%4===0},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,dc.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(e,r,t){var n=this._validate(e,r,t,dc.local.invalidDate);return e=n.year(),r=n.month(),t=n.day(),e<0&&e++,r<=2&&(e--,r+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+t-1524.5},fromJD:function(e){var r=Math.floor(e+.5),t=r+1524,n=Math.floor((t-122.1)/365.25),a=Math.floor(365.25*n),o=Math.floor((t-a)/30.6001),i=o-Math.floor(o<14?1:13),l=n-Math.floor(i>2?4716:4715),u=t-a-Math.floor(30.6001*o);return l<=0&&l--,this.newDate(l,i,u)}});dc.calendars.julian=rx});var rq=pe(()=>{var Qa=In(),Ffe=Fn();function nx(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}nx.prototype=new Qa.baseCalendar;Ffe(nx.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,Qa.local.invalidYear),!1},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Qa.local.invalidYear);e=r.year();var t=Math.floor(e/400);e=e%400,e+=e<0?400:0;var n=Math.floor(e/20);return t+"."+n+"."+e%20},forYear:function(e){if(e=e.split("."),e.length<3)throw"Invalid Mayan year";for(var r=0,t=0;t<e.length;t++){var n=parseInt(e[t],10);if(Math.abs(n)>19||t>0&&n<0)throw"Invalid Mayan year";r=r*20+n}return r},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Qa.local.invalidYear),18},weekOfYear:function(e,r,t){return this._validate(e,r,t,Qa.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,Qa.local.invalidYear),360},daysInMonth:function(e,r){return this._validate(e,r,this.minDay,Qa.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,r,t){var n=this._validate(e,r,t,Qa.local.invalidDate);return n.day()},weekDay:function(e,r,t){return this._validate(e,r,t,Qa.local.invalidDate),!0},extraInfo:function(e,r,t){var n=this._validate(e,r,t,Qa.local.invalidDate),a=n.toJD(),o=this._toHaab(a),i=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(e){e-=this.jdEpoch;var r=tx(e+8+17*20,365);return[Math.floor(r/20)+1,tx(r,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[eq(e+20,20),eq(e+4,13)]},toJD:function(e,r,t){var n=this._validate(e,r,t,Qa.local.invalidDate);return n.day()+n.month()*20+n.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var r=Math.floor(e/360);e=e%360,e+=e<0?360:0;var t=Math.floor(e/20),n=e%20;return this.newDate(r,t,n)}});function tx(e,r){return e-r*Math.floor(e/r)}function eq(e,r){return tx(e-1,r)+1}Qa.calendars.mayan=nx});var nq=pe(()=>{var Cs=In(),Ife=Fn();function ax(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}ax.prototype=new Cs.baseCalendar;var tq=Cs.instance("gregorian");Ife(ax.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Cs.local.invalidYear||Cs.regionalOptions[""].invalidYear);return tq.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Cs.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,Cs.local.invalidMonth),a=n.year();a<0&&a++;for(var o=n.day(),i=1;i<n.month();i++)o+=this.daysPerMonth[i-1];return o+tq.toJD(a+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var r=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(r+1,1,1);)r++;for(var t=e-Math.floor(this.toJD(r,1,1)+.5)+1,n=1;t>this.daysInMonth(r,n);)t-=this.daysInMonth(r,n),n++;return this.newDate(r,n,t)}});Cs.calendars.nanakshahi=ax});var aq=pe(()=>{var Es=In(),Nfe=Fn();function ix(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}ix.prototype=new Es.baseCalendar;Nfe(ix.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Es.local.invalidYear);if(e=r.year(),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined")return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,Es.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[e]=="undefined"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[e][r]},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==6},toJD:function(e,r,t){var n=this._validate(e,r,t,Es.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=Es.instance(),o=0,i=r,l=e;this._createMissingCalendarData(e);var u=e-(i>9||i===9&&t>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(r!==9&&(o=t,i--);i!==9;)i<=0&&(i=12,l--),o+=this.NEPALI_CALENDAR_DATA[l][i],i--;return r===9?(o+=t-this.NEPALI_CALENDAR_DATA[l][0],o<0&&(o+=a.daysInYear(u))):o+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],a.newDate(u,1,1).add(o,"d").toJD()},fromJD:function(e){var r=Es.instance(),t=r.fromJD(e),n=t.year(),a=t.dayOfYear(),o=n+56;this._createMissingCalendarData(o);for(var i=9,l=this.NEPALI_CALENDAR_DATA[o][0],u=this.NEPALI_CALENDAR_DATA[o][i]-l+1;a>u;)i++,i>12&&(i=1,o++),u+=this.NEPALI_CALENDAR_DATA[o][i];var s=this.NEPALI_CALENDAR_DATA[o][i]-(u-a);return this.newDate(o,i,s)},_createMissingCalendarData:function(e){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var t=e-1;t<e+2;t++)typeof this.NEPALI_CALENDAR_DATA[t]=="undefined"&&(this.NEPALI_CALENDAR_DATA[t]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}});Es.calendars.nepali=ix});var iq=pe(()=>{var sf=In(),zfe=Fn();function Zd(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}Zd.prototype=new sf.baseCalendar;zfe(Zd.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,sf.local.invalidYear);return((r.year()-(r.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,sf.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===12&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,sf.local.invalidDate);e=n.year(),r=n.month(),t=n.day();var a=e-(e>=0?474:473),o=474+ox(a,2820);return t+(r<=7?(r-1)*31:(r-1)*30+6)+Math.floor((o*682-110)/2816)+(o-1)*365+Math.floor(a/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var r=e-this.toJD(475,1,1),t=Math.floor(r/1029983),n=ox(r,1029983),a=2820;if(n!==1029982){var o=Math.floor(n/366),i=ox(n,366);a=Math.floor((2134*o+2816*i+2815)/1028522)+o+1}var l=a+2820*t+474;l=l<=0?l-1:l;var u=e-this.toJD(l,1,1)+1,s=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),f=e-this.toJD(l,s,1)+1;return this.newDate(l,s,f)}});function ox(e,r){return e-r*Math.floor(e/r)}sf.calendars.persian=Zd;sf.calendars.jalali=Zd});var oq=pe(()=>{var Ls=In(),Ofe=Fn(),Jd=Ls.instance();function lx(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}lx.prototype=new Ls.baseCalendar;Ofe(lx.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Ls.local.invalidYear),t=this._t2gYear(r.year());return Jd.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,Ls.local.invalidYear),a=this._t2gYear(n.year());return Jd.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Ls.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,Ls.local.invalidDate),a=this._t2gYear(n.year());return Jd.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Jd.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}});Ls.calendars.taiwan=lx});var lq=pe(()=>{var Rs=In(),qfe=Fn(),Kd=Rs.instance();function sx(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}sx.prototype=new Rs.baseCalendar;qfe(sx.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,Rs.local.invalidYear),t=this._t2gYear(r.year());return Kd.leapYear(t)},weekOfYear:function(a,r,t){var n=this._validate(a,this.minMonth,this.minDay,Rs.local.invalidYear),a=this._t2gYear(n.year());return Kd.weekOfYear(a,n.month(),n.day())},daysInMonth:function(e,r){var t=this._validate(e,r,this.minDay,Rs.local.invalidMonth);return this.daysPerMonth[t.month()-1]+(t.month()===2&&this.leapYear(t.year())?1:0)},weekDay:function(e,r,t){return(this.dayOfWeek(e,r,t)||7)<6},toJD:function(a,r,t){var n=this._validate(a,r,t,Rs.local.invalidDate),a=this._t2gYear(n.year());return Kd.toJD(a,n.month(),n.day())},fromJD:function(e){var r=Kd.fromJD(e),t=this._g2tYear(r.year());return this.newDate(t,r.month(),r.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}});Rs.calendars.thai=sx});var sq=pe(()=>{var Ds=In(),Bfe=Fn();function ux(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}ux.prototype=new Ds.baseCalendar;Bfe(ux.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,Ds.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(e,r,t){var n=this.newDate(e,r,t);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var r=0,t=1;t<=12;t++)r+=this.daysInMonth(e,t);return r},daysInMonth:function(e,r){for(var t=this._validate(e,r,this.minDay,Ds.local.invalidMonth),n=t.toJD()-24e5+.5,a=0,o=0;o<Tl.length;o++){if(Tl[o]>n)return Tl[a]-Tl[a-1];a++}return 30},weekDay:function(e,r,t){return this.dayOfWeek(e,r,t)!==5},toJD:function(e,r,t){var n=this._validate(e,r,t,Ds.local.invalidDate),a=12*(n.year()-1)+n.month()-15292,o=n.day()+Tl[a-1]-1;return o+24e5-.5},fromJD:function(e){for(var r=e-24e5+.5,t=0,n=0;n<Tl.length&&!(Tl[n]>r);n++)t++;var a=t+15292,o=Math.floor((a-1)/12),i=o+1,l=a-12*o,u=r-Tl[t-1]+1;return this.newDate(i,l,u)},isValid:function(e,r,t){var n=Ds.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(e=e.year!=null?e.year:e,n=e>=1276&&e<=1500),n},_validate:function(e,r,t,n){var a=Ds.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw n.replace(/\{0\}/,this.local.name);return a}});Ds.calendars.ummalqura=ux;var Tl=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]});var fq=pe((I2e,uq)=>{"use strict";uq.exports=In();WO();XO();ZO();JO();KO();QO();$O();jO();rq();nq();aq();iq();oq();lq();sq()});var yq=pe((N2e,gq)=>{"use strict";var vq=fq(),pc=ir(),hq=Xt(),Ufe=hq.EPOCHJD,Hfe=hq.ONEDAY,vx={valType:"enumerated",values:pc.sortObjectKeys(vq.calendars),editType:"calc",dflt:"gregorian"},dq=function(e,r,t,n){var a={};return a[t]=vx,pc.coerce(e,r,a,t,n)},Vfe=function(e,r,t,n){for(var a=0;a<t.length;a++)dq(e,r,t[a]+"calendar",n.calendar)},Gfe={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},Yfe={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},Wfe={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},Qd="##",Xfe={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:Qd,w:Qd,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function Zfe(e,r,t){for(var n=Math.floor((r+.05)/Hfe)+Ufe,a=pq(t).fromJD(n),o=0,i,l,u,s,f;(o=e.indexOf("%",o))!==-1;)i=e.charAt(o+1),i==="0"||i==="-"||i==="_"?(u=3,l=e.charAt(o+2),i==="_"&&(i="-")):(l=i,i="0",u=2),s=Xfe[l],s?(s===Qd?f=Qd:f=a.formatDate(s[i]),e=e.substr(0,o)+f+e.substr(o+u),o+=f.length):o+=u;return e}var cq={};function pq(e){var r=cq[e];return r||(r=cq[e]=vq.instance(e),r)}function Ps(e){return pc.extendFlat({},vx,{description:e})}function hx(e){return"Sets the calendar system to use with `"+e+"` date data."}var cx={xcalendar:Ps(hx("x"))},Wi=pc.extendFlat({},cx,{ycalendar:Ps(hx("y"))}),fx=pc.extendFlat({},Wi,{zcalendar:Ps(hx("z"))}),uf=Ps(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));gq.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:Wi,bar:Wi,box:Wi,heatmap:Wi,contour:Wi,histogram:Wi,histogram2d:Wi,histogram2dcontour:Wi,scatter3d:fx,surface:fx,mesh3d:fx,scattergl:Wi,ohlc:cx,candlestick:cx},layout:{calendar:Ps(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:uf},yaxis:{calendar:uf},scene:{xaxis:{calendar:uf},yaxis:{calendar:uf},zaxis:{calendar:uf}},polar:{radialaxis:{calendar:uf}}},transforms:{filter:{valuecalendar:Ps(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:Ps(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:vx,handleDefaults:dq,handleTraceDefaults:Vfe,CANONICAL_SUNDAY:Yfe,CANONICAL_TICK:Gfe,DFLTRANGE:Wfe,getCal:pq,worldCalFmt:Zfe}});var xq=pe((z2e,mq)=>{"use strict";mq.exports=yq()});var Jfe=pe((O2e,_q)=>{var bq=JF();bq.register([CN(),jN(),yz(),Ez(),Vz(),aO(),bO(),SO(),IO(),OO(),UO(),xq()]);_q.exports=bq});return Jfe();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*! Bundled license information:

native-promise-only/lib/npo.src.js:
  (*! Native Promise Only
      v0.8.1 (c) Kyle Simpson
      MIT License: http://getify.mit-license.org
  *)

polybooljs/index.js:
  (*
   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
   * @license MIT
   * @preserve Project Home: https://github.com/voidqk/polybooljs
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/

if (!(typeof define === "function" && define.amd)) {
 window.Plotly = Plotly;
}
return Plotly;
}));